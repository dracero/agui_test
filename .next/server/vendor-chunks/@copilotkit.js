/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@copilotkit";
exports.ids = ["vendor-chunks/@copilotkit"];
exports.modules = {

/***/ "(rsc)/./node_modules/@copilotkit/react-core/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CopilotContext: () => (/* binding */ CopilotContext),
/* harmony export */   CopilotKit: () => (/* binding */ CopilotKit),
/* harmony export */   CopilotMessagesContext: () => (/* binding */ CopilotMessagesContext),
/* harmony export */   CopilotTask: () => (/* binding */ CopilotTask),
/* harmony export */   SUGGESTION_RETRY_CONFIG: () => (/* binding */ SUGGESTION_RETRY_CONFIG),
/* harmony export */   defaultCopilotContextCategories: () => (/* binding */ defaultCopilotContextCategories),
/* harmony export */   extract: () => (/* binding */ extract),
/* harmony export */   reloadSuggestions: () => (/* binding */ reloadSuggestions),
/* harmony export */   runAgent: () => (/* binding */ runAgent),
/* harmony export */   shouldShowDevConsole: () => (/* binding */ shouldShowDevConsole),
/* harmony export */   startAgent: () => (/* binding */ startAgent),
/* harmony export */   stopAgent: () => (/* binding */ stopAgent),
/* harmony export */   useCoAgent: () => (/* binding */ useCoAgent),
/* harmony export */   useCoAgentStateRender: () => (/* binding */ useCoAgentStateRender),
/* harmony export */   useCopilotAction: () => (/* binding */ useCopilotAction),
/* harmony export */   useCopilotAdditionalInstructions: () => (/* binding */ useCopilotAdditionalInstructions),
/* harmony export */   useCopilotAuthenticatedAction_c: () => (/* binding */ useCopilotAuthenticatedAction_c),
/* harmony export */   useCopilotChat: () => (/* binding */ useCopilotChat),
/* harmony export */   useCopilotChatHeadless_c: () => (/* binding */ useCopilotChatHeadless_c),
/* harmony export */   useCopilotChatInternal: () => (/* binding */ useCopilotChatInternal),
/* harmony export */   useCopilotContext: () => (/* binding */ useCopilotContext),
/* harmony export */   useCopilotMessagesContext: () => (/* binding */ useCopilotMessagesContext),
/* harmony export */   useCopilotReadable: () => (/* binding */ useCopilotReadable),
/* harmony export */   useCopilotRuntimeClient: () => (/* binding */ useCopilotRuntimeClient),
/* harmony export */   useLangGraphInterrupt: () => (/* binding */ useLangGraphInterrupt),
/* harmony export */   useLangGraphInterruptRender: () => (/* binding */ useLangGraphInterruptRender),
/* harmony export */   useMakeCopilotDocumentReadable: () => (/* binding */ useMakeCopilotDocumentReadable)
/* harmony export */ });
/* harmony import */ var react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-server-dom-webpack/server.edge */ "(rsc)/./node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-webpack-server-edge.js");

const CopilotContext = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CopilotContext() from the server but CopilotContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"CopilotContext",
);const CopilotKit = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CopilotKit() from the server but CopilotKit is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"CopilotKit",
);const CopilotMessagesContext = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CopilotMessagesContext() from the server but CopilotMessagesContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"CopilotMessagesContext",
);const CopilotTask = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call CopilotTask() from the server but CopilotTask is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"CopilotTask",
);const SUGGESTION_RETRY_CONFIG = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call SUGGESTION_RETRY_CONFIG() from the server but SUGGESTION_RETRY_CONFIG is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"SUGGESTION_RETRY_CONFIG",
);const defaultCopilotContextCategories = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call defaultCopilotContextCategories() from the server but defaultCopilotContextCategories is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"defaultCopilotContextCategories",
);const extract = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call extract() from the server but extract is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"extract",
);const reloadSuggestions = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call reloadSuggestions() from the server but reloadSuggestions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"reloadSuggestions",
);const runAgent = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call runAgent() from the server but runAgent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"runAgent",
);const shouldShowDevConsole = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call shouldShowDevConsole() from the server but shouldShowDevConsole is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"shouldShowDevConsole",
);const startAgent = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call startAgent() from the server but startAgent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"startAgent",
);const stopAgent = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call stopAgent() from the server but stopAgent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"stopAgent",
);const useCoAgent = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCoAgent() from the server but useCoAgent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCoAgent",
);const useCoAgentStateRender = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCoAgentStateRender() from the server but useCoAgentStateRender is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCoAgentStateRender",
);const useCopilotAction = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotAction() from the server but useCopilotAction is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotAction",
);const useCopilotAdditionalInstructions = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotAdditionalInstructions() from the server but useCopilotAdditionalInstructions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotAdditionalInstructions",
);const useCopilotAuthenticatedAction_c = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotAuthenticatedAction_c() from the server but useCopilotAuthenticatedAction_c is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotAuthenticatedAction_c",
);const useCopilotChat = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotChat() from the server but useCopilotChat is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotChat",
);const useCopilotChatHeadless_c = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotChatHeadless_c() from the server but useCopilotChatHeadless_c is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotChatHeadless_c",
);const useCopilotChatInternal = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotChatInternal() from the server but useCopilotChatInternal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotChatInternal",
);const useCopilotContext = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotContext() from the server but useCopilotContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotContext",
);const useCopilotMessagesContext = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotMessagesContext() from the server but useCopilotMessagesContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotMessagesContext",
);const useCopilotReadable = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotReadable() from the server but useCopilotReadable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotReadable",
);const useCopilotRuntimeClient = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useCopilotRuntimeClient() from the server but useCopilotRuntimeClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useCopilotRuntimeClient",
);const useLangGraphInterrupt = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useLangGraphInterrupt() from the server but useLangGraphInterrupt is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useLangGraphInterrupt",
);const useLangGraphInterruptRender = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useLangGraphInterruptRender() from the server but useLangGraphInterruptRender is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useLangGraphInterruptRender",
);const useMakeCopilotDocumentReadable = (0,react_server_dom_webpack_server_edge__WEBPACK_IMPORTED_MODULE_0__.registerClientReference)(
function() { throw new Error("Attempted to call useMakeCopilotDocumentReadable() from the server but useMakeCopilotDocumentReadable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component."); },
"/home/cetec/NodeProjects/agui_test/node_modules/@copilotkit/react-core/dist/index.mjs",
"useMakeCopilotDocumentReadable",
);

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/react-ui/dist/index.css":
/*!**********************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/index.css ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"4a086d29199b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9pbmRleC5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvaW5kZXguY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNGEwODZkMjkxOTliXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/react-ui/dist/index.css\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/runtime/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@copilotkit/runtime/dist/index.js ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __name = (target, value) => __defProp(target, \"name\", { value, configurable: true });\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from3, except, desc) => {\n  if (from3 && typeof from3 === \"object\" || typeof from3 === \"function\") {\n    for (let key of __getOwnPropNames(from3))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from3[key], enumerable: !(desc = __getOwnPropDesc(from3, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// package.json\nvar require_package = __commonJS({\n  \"package.json\"(exports, module2) {\n    module2.exports = {\n      name: \"@copilotkit/runtime\",\n      private: false,\n      homepage: \"https://github.com/CopilotKit/CopilotKit\",\n      repository: {\n        type: \"git\",\n        url: \"https://github.com/CopilotKit/CopilotKit.git\"\n      },\n      publishConfig: {\n        access: \"public\"\n      },\n      version: \"1.10.4\",\n      sideEffects: false,\n      main: \"./dist/index.js\",\n      module: \"./dist/index.mjs\",\n      exports: {\n        \".\": \"./dist/index.js\"\n      },\n      types: \"./dist/index.d.ts\",\n      license: \"MIT\",\n      scripts: {\n        build: 'tsup --onSuccess \"pnpm run generate-graphql-schema\"',\n        dev: 'tsup --watch --onSuccess \"pnpm run generate-graphql-schema\"',\n        test: \"jest --passWithNoTests\",\n        \"check-types\": \"tsc --noEmit\",\n        clean: \"rm -rf .turbo && rm -rf node_modules && rm -rf dist && rm -rf .next && rm -rf __snapshots__\",\n        \"generate-graphql-schema\": \"rm -rf __snapshots__ && ts-node ./scripts/generate-gql-schema.ts\",\n        \"link:global\": \"pnpm link --global\",\n        \"unlink:global\": \"pnpm unlink --global\"\n      },\n      devDependencies: {\n        \"@jest/globals\": \"^29.7.0\",\n        \"@swc/core\": \"1.5.28\",\n        \"@types/express\": \"^4.17.21\",\n        \"@types/jest\": \"^29.5.12\",\n        \"@types/node\": \"^18.11.17\",\n        \"@whatwg-node/server\": \"^0.9.34\",\n        eslint: \"^8.56.0\",\n        \"eslint-config-custom\": \"workspace:*\",\n        jest: \"^29.6.4\",\n        nodemon: \"^3.1.3\",\n        \"ts-jest\": \"^29.1.1\",\n        \"ts-node\": \"^10.9.2\",\n        tsconfig: \"workspace:*\",\n        tsup: \"^6.7.0\",\n        typescript: \"^5.2.3\",\n        \"zod-to-json-schema\": \"^3.23.5\"\n      },\n      dependencies: {\n        \"@ag-ui/client\": \"^0.0.37\",\n        \"@ag-ui/core\": \"^0.0.37\",\n        \"@ag-ui/encoder\": \"^0.0.37\",\n        \"@ag-ui/langgraph\": \"^0.0.12\",\n        \"@ag-ui/proto\": \"^0.0.37\",\n        \"@anthropic-ai/sdk\": \"^0.57.0\",\n        \"@copilotkit/shared\": \"workspace:*\",\n        \"@graphql-yoga/plugin-defer-stream\": \"^3.3.1\",\n        \"@langchain/aws\": \"^0.1.9\",\n        \"@langchain/community\": \"^0.3.29\",\n        \"@langchain/core\": \"^0.3.38\",\n        \"@langchain/google-gauth\": \"^0.1.0\",\n        \"@langchain/langgraph-sdk\": \"^0.0.70\",\n        \"@langchain/openai\": \"^0.4.2\",\n        \"@scarf/scarf\": \"^1.3.0\",\n        \"class-transformer\": \"^0.5.1\",\n        \"class-validator\": \"^0.14.1\",\n        express: \"^4.19.2\",\n        graphql: \"^16.8.1\",\n        \"graphql-scalars\": \"^1.23.0\",\n        \"graphql-yoga\": \"^5.3.1\",\n        \"groq-sdk\": \"^0.5.0\",\n        langchain: \"^0.3.3\",\n        openai: \"^4.85.1\",\n        \"partial-json\": \"^0.1.7\",\n        pino: \"^9.2.0\",\n        \"pino-pretty\": \"^11.2.1\",\n        \"reflect-metadata\": \"^0.2.2\",\n        rxjs: \"7.8.1\",\n        \"type-graphql\": \"2.0.0-rc.1\",\n        zod: \"^3.23.3\"\n      },\n      peerDependencies: {\n        \"@ag-ui/client\": \">=0.0.37\",\n        \"@ag-ui/core\": \">=0.0.37\",\n        \"@ag-ui/encoder\": \">=0.0.37\",\n        \"@ag-ui/proto\": \">=0.0.37\"\n      },\n      keywords: [\n        \"copilotkit\",\n        \"copilot\",\n        \"react\",\n        \"nextjs\",\n        \"nodejs\",\n        \"ai\",\n        \"assistant\",\n        \"javascript\",\n        \"automation\",\n        \"textarea\"\n      ]\n    };\n  }\n});\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  AnthropicAdapter: () => AnthropicAdapter,\n  BedrockAdapter: () => BedrockAdapter,\n  CopilotRuntime: () => CopilotRuntime,\n  CustomEventNames: () => CustomEventNames2,\n  EmptyAdapter: () => EmptyAdapter,\n  ExperimentalEmptyAdapter: () => ExperimentalEmptyAdapter,\n  ExperimentalOllamaAdapter: () => ExperimentalOllamaAdapter,\n  GoogleGenerativeAIAdapter: () => GoogleGenerativeAIAdapter,\n  GroqAdapter: () => GroqAdapter,\n  GuardrailsValidationFailureResponse: () => GuardrailsValidationFailureResponse,\n  LangChainAdapter: () => LangChainAdapter,\n  LangGraphAgent: () => LangGraphAgent,\n  LangGraphHttpAgent: () => import_langgraph.LangGraphHttpAgent,\n  MessageStreamInterruptedResponse: () => MessageStreamInterruptedResponse,\n  OpenAIAdapter: () => OpenAIAdapter,\n  OpenAIAssistantAdapter: () => OpenAIAssistantAdapter,\n  RemoteChain: () => RemoteChain,\n  UnifyAdapter: () => UnifyAdapter,\n  UnknownErrorResponse: () => UnknownErrorResponse,\n  addCustomHeaderPlugin: () => addCustomHeaderPlugin,\n  buildSchema: () => buildSchema,\n  config: () => config,\n  convertMCPToolsToActions: () => convertMCPToolsToActions,\n  convertServiceAdapterError: () => convertServiceAdapterError,\n  copilotKitEndpoint: () => copilotKitEndpoint,\n  copilotRuntimeNestEndpoint: () => copilotRuntimeNestEndpoint,\n  copilotRuntimeNextJSAppRouterEndpoint: () => copilotRuntimeNextJSAppRouterEndpoint,\n  copilotRuntimeNextJSPagesRouterEndpoint: () => copilotRuntimeNextJSPagesRouterEndpoint,\n  copilotRuntimeNodeExpressEndpoint: () => copilotRuntimeNodeExpressEndpoint,\n  copilotRuntimeNodeHttpEndpoint: () => copilotRuntimeNodeHttpEndpoint,\n  createContext: () => createContext,\n  createLogger: () => createLogger,\n  extractParametersFromSchema: () => extractParametersFromSchema,\n  flattenToolCallsNoDuplicates: () => flattenToolCallsNoDuplicates,\n  generateMcpToolInstructions: () => generateMcpToolInstructions,\n  getCommonConfig: () => getCommonConfig,\n  langGraphPlatformEndpoint: () => langGraphPlatformEndpoint,\n  resolveEndpointType: () => resolveEndpointType\n});\nmodule.exports = __toCommonJS(src_exports);\nvar import_reflect_metadata = __webpack_require__(/*! reflect-metadata */ \"(rsc)/./node_modules/reflect-metadata/Reflect.js\");\n\n// src/service-adapters/openai/openai-adapter.ts\nvar import_openai = __toESM(__webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.js\"));\n\n// src/service-adapters/openai/utils.ts\nvar import_shared = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction limitMessagesToTokenCount(messages, tools, model, maxTokens) {\n  maxTokens || (maxTokens = maxTokensForOpenAIModel(model));\n  const result = [];\n  const toolsNumTokens = countToolsTokens(model, tools);\n  if (toolsNumTokens > maxTokens) {\n    throw new Error(`Too many tokens in function definitions: ${toolsNumTokens} > ${maxTokens}`);\n  }\n  maxTokens -= toolsNumTokens;\n  for (const message of messages) {\n    if ([\n      \"system\",\n      \"developer\"\n    ].includes(message.role)) {\n      const numTokens = countMessageTokens(model, message);\n      maxTokens -= numTokens;\n      if (maxTokens < 0) {\n        throw new Error(\"Not enough tokens for system message.\");\n      }\n    }\n  }\n  let cutoff = false;\n  const reversedMessages = [\n    ...messages\n  ].reverse();\n  for (const message of reversedMessages) {\n    if ([\n      \"system\",\n      \"developer\"\n    ].includes(message.role)) {\n      result.unshift(message);\n      continue;\n    } else if (cutoff) {\n      continue;\n    }\n    let numTokens = countMessageTokens(model, message);\n    if (maxTokens < numTokens) {\n      cutoff = true;\n      continue;\n    }\n    result.unshift(message);\n    maxTokens -= numTokens;\n  }\n  return result;\n}\n__name(limitMessagesToTokenCount, \"limitMessagesToTokenCount\");\nfunction maxTokensForOpenAIModel(model) {\n  return maxTokensByModel[model] || DEFAULT_MAX_TOKENS;\n}\n__name(maxTokensForOpenAIModel, \"maxTokensForOpenAIModel\");\nvar DEFAULT_MAX_TOKENS = 128e3;\nvar maxTokensByModel = {\n  // o1\n  o1: 2e5,\n  \"o1-2024-12-17\": 2e5,\n  \"o1-mini\": 128e3,\n  \"o1-mini-2024-09-12\": 128e3,\n  \"o1-preview\": 128e3,\n  \"o1-preview-2024-09-12\": 128e3,\n  // o3-mini\n  \"o3-mini\": 2e5,\n  \"o3-mini-2025-01-31\": 2e5,\n  // GPT-4\n  \"gpt-4o\": 128e3,\n  \"chatgpt-4o-latest\": 128e3,\n  \"gpt-4o-2024-08-06\": 128e3,\n  \"gpt-4o-2024-05-13\": 128e3,\n  \"gpt-4o-mini\": 128e3,\n  \"gpt-4o-mini-2024-07-18\": 128e3,\n  \"gpt-4-turbo\": 128e3,\n  \"gpt-4-turbo-2024-04-09\": 128e3,\n  \"gpt-4-0125-preview\": 128e3,\n  \"gpt-4-turbo-preview\": 128e3,\n  \"gpt-4-1106-preview\": 128e3,\n  \"gpt-4-vision-preview\": 128e3,\n  \"gpt-4-1106-vision-preview\": 128e3,\n  \"gpt-4-32k\": 32768,\n  \"gpt-4-32k-0613\": 32768,\n  \"gpt-4-32k-0314\": 32768,\n  \"gpt-4\": 8192,\n  \"gpt-4-0613\": 8192,\n  \"gpt-4-0314\": 8192,\n  // GPT-3.5\n  \"gpt-3.5-turbo-0125\": 16385,\n  \"gpt-3.5-turbo\": 16385,\n  \"gpt-3.5-turbo-1106\": 16385,\n  \"gpt-3.5-turbo-instruct\": 4096,\n  \"gpt-3.5-turbo-16k\": 16385,\n  \"gpt-3.5-turbo-0613\": 4096,\n  \"gpt-3.5-turbo-16k-0613\": 16385,\n  \"gpt-3.5-turbo-0301\": 4097\n};\nfunction countToolsTokens(model, tools) {\n  if (tools.length === 0) {\n    return 0;\n  }\n  const json = JSON.stringify(tools);\n  return countTokens(model, json);\n}\n__name(countToolsTokens, \"countToolsTokens\");\nfunction countMessageTokens(model, message) {\n  return countTokens(model, message.content || \"\");\n}\n__name(countMessageTokens, \"countMessageTokens\");\nfunction countTokens(model, text) {\n  return text.length / 3;\n}\n__name(countTokens, \"countTokens\");\nfunction convertActionInputToOpenAITool(action) {\n  return {\n    type: \"function\",\n    function: {\n      name: action.name,\n      description: action.description,\n      parameters: (0, import_shared.parseJson)(action.jsonSchema, {})\n    }\n  };\n}\n__name(convertActionInputToOpenAITool, \"convertActionInputToOpenAITool\");\nfunction convertMessageToOpenAIMessage(message, options) {\n  const { keepSystemRole } = options || {\n    keepSystemRole: false\n  };\n  if (message.isTextMessage()) {\n    let role = message.role;\n    if (message.role === \"system\" && !keepSystemRole) {\n      role = \"developer\";\n    }\n    return {\n      role,\n      content: message.content\n    };\n  } else if (message.isImageMessage()) {\n    return {\n      role: \"user\",\n      content: [\n        {\n          type: \"image_url\",\n          image_url: {\n            url: `data:image/${message.format};base64,${message.bytes}`\n          }\n        }\n      ]\n    };\n  } else if (message.isActionExecutionMessage()) {\n    return {\n      role: \"assistant\",\n      tool_calls: [\n        {\n          id: message.id,\n          type: \"function\",\n          function: {\n            name: message.name,\n            arguments: JSON.stringify(message.arguments)\n          }\n        }\n      ]\n    };\n  } else if (message.isResultMessage()) {\n    return {\n      role: \"tool\",\n      content: message.result,\n      tool_call_id: message.actionExecutionId\n    };\n  }\n}\n__name(convertMessageToOpenAIMessage, \"convertMessageToOpenAIMessage\");\nfunction convertSystemMessageToAssistantAPI(message) {\n  return {\n    ...message,\n    ...[\n      \"system\",\n      \"developer\"\n    ].includes(message.role) && {\n      role: \"assistant\",\n      content: \"THE FOLLOWING MESSAGE IS A SYSTEM MESSAGE: \" + message.content\n    }\n  };\n}\n__name(convertSystemMessageToAssistantAPI, \"convertSystemMessageToAssistantAPI\");\n\n// src/service-adapters/openai/openai-adapter.ts\nvar import_shared3 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/service-adapters/shared/error-utils.ts\nvar import_shared2 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction convertServiceAdapterError(error, adapterName) {\n  var _a, _b, _c;\n  const errorName = ((_a = error == null ? void 0 : error.constructor) == null ? void 0 : _a.name) || error.name;\n  const errorMessage = (error == null ? void 0 : error.message) || String(error);\n  const statusCode = error.status || error.statusCode || ((_b = error.response) == null ? void 0 : _b.status);\n  const responseData = error.error || ((_c = error.response) == null ? void 0 : _c.data) || error.data;\n  const structuredError = new import_shared2.CopilotKitLowLevelError({\n    error: error instanceof Error ? error : new Error(errorMessage),\n    url: `${adapterName} service adapter`,\n    message: `${adapterName} API error: ${errorMessage}`\n  });\n  if (statusCode) {\n    structuredError.statusCode = statusCode;\n  }\n  if (responseData) {\n    structuredError.responseData = responseData;\n  }\n  if (errorName) {\n    structuredError.originalErrorType = errorName;\n  }\n  let newCode;\n  if (statusCode === 401) {\n    newCode = import_shared2.CopilotKitErrorCode.AUTHENTICATION_ERROR;\n  } else if (statusCode >= 400 && statusCode < 500) {\n    newCode = import_shared2.CopilotKitErrorCode.CONFIGURATION_ERROR;\n  } else if (statusCode >= 500) {\n    newCode = import_shared2.CopilotKitErrorCode.NETWORK_ERROR;\n  } else if (statusCode) {\n    newCode = import_shared2.CopilotKitErrorCode.CONFIGURATION_ERROR;\n  } else {\n    newCode = import_shared2.CopilotKitErrorCode.NETWORK_ERROR;\n  }\n  structuredError.code = newCode;\n  if (structuredError.extensions) {\n    structuredError.extensions.code = newCode;\n  }\n  return structuredError;\n}\n__name(convertServiceAdapterError, \"convertServiceAdapterError\");\n\n// src/service-adapters/openai/openai-adapter.ts\nvar DEFAULT_MODEL = \"gpt-4o\";\nvar OpenAIAdapter = class {\n  model = DEFAULT_MODEL;\n  disableParallelToolCalls = false;\n  _openai;\n  keepSystemRole = false;\n  get openai() {\n    return this._openai;\n  }\n  constructor(params) {\n    this._openai = (params == null ? void 0 : params.openai) || new import_openai.default({});\n    if (params == null ? void 0 : params.model) {\n      this.model = params.model;\n    }\n    this.disableParallelToolCalls = (params == null ? void 0 : params.disableParallelToolCalls) || false;\n    this.keepSystemRole = (params == null ? void 0 : params.keepSystemRole) ?? false;\n  }\n  async process(request) {\n    const { threadId: threadIdFromRequest, model = this.model, messages, actions, eventSource, forwardedParameters } = request;\n    const tools = actions.map(convertActionInputToOpenAITool);\n    const threadId = threadIdFromRequest ?? (0, import_shared3.randomUUID)();\n    const validToolUseIds = /* @__PURE__ */ new Set();\n    for (const message of messages) {\n      if (message.isActionExecutionMessage()) {\n        validToolUseIds.add(message.id);\n      }\n    }\n    const filteredMessages = messages.filter((message) => {\n      if (message.isResultMessage()) {\n        if (!validToolUseIds.has(message.actionExecutionId)) {\n          return false;\n        }\n        validToolUseIds.delete(message.actionExecutionId);\n        return true;\n      }\n      return true;\n    });\n    let openaiMessages = filteredMessages.map((m) => convertMessageToOpenAIMessage(m, {\n      keepSystemRole: this.keepSystemRole\n    }));\n    openaiMessages = limitMessagesToTokenCount(openaiMessages, tools, model);\n    let toolChoice = forwardedParameters == null ? void 0 : forwardedParameters.toolChoice;\n    if ((forwardedParameters == null ? void 0 : forwardedParameters.toolChoice) === \"function\") {\n      toolChoice = {\n        type: \"function\",\n        function: {\n          name: forwardedParameters.toolChoiceFunctionName\n        }\n      };\n    }\n    try {\n      const stream = this.openai.beta.chat.completions.stream({\n        model,\n        stream: true,\n        messages: openaiMessages,\n        ...tools.length > 0 && {\n          tools\n        },\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) && {\n          max_completion_tokens: forwardedParameters.maxTokens\n        },\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.stop) && {\n          stop: forwardedParameters.stop\n        },\n        ...toolChoice && {\n          tool_choice: toolChoice\n        },\n        ...this.disableParallelToolCalls && {\n          parallel_tool_calls: false\n        },\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.temperature) && {\n          temperature: forwardedParameters.temperature\n        }\n      });\n      eventSource.stream(async (eventStream$) => {\n        var _a, _b;\n        let mode = null;\n        let currentMessageId;\n        let currentToolCallId;\n        try {\n          for await (const chunk of stream) {\n            if (chunk.choices.length === 0) {\n              continue;\n            }\n            const toolCall = (_a = chunk.choices[0].delta.tool_calls) == null ? void 0 : _a[0];\n            const content = chunk.choices[0].delta.content;\n            if (mode === \"message\" && (toolCall == null ? void 0 : toolCall.id)) {\n              mode = null;\n              eventStream$.sendTextMessageEnd({\n                messageId: currentMessageId\n              });\n            } else if (mode === \"function\" && (toolCall === void 0 || (toolCall == null ? void 0 : toolCall.id))) {\n              mode = null;\n              eventStream$.sendActionExecutionEnd({\n                actionExecutionId: currentToolCallId\n              });\n            }\n            if (mode === null) {\n              if (toolCall == null ? void 0 : toolCall.id) {\n                mode = \"function\";\n                currentToolCallId = toolCall.id;\n                eventStream$.sendActionExecutionStart({\n                  actionExecutionId: currentToolCallId,\n                  parentMessageId: chunk.id,\n                  actionName: toolCall.function.name\n                });\n              } else if (content) {\n                mode = \"message\";\n                currentMessageId = chunk.id;\n                eventStream$.sendTextMessageStart({\n                  messageId: currentMessageId\n                });\n              }\n            }\n            if (mode === \"message\" && content) {\n              eventStream$.sendTextMessageContent({\n                messageId: currentMessageId,\n                content\n              });\n            } else if (mode === \"function\" && ((_b = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _b.arguments)) {\n              eventStream$.sendActionExecutionArgs({\n                actionExecutionId: currentToolCallId,\n                args: toolCall.function.arguments\n              });\n            }\n          }\n          if (mode === \"message\") {\n            eventStream$.sendTextMessageEnd({\n              messageId: currentMessageId\n            });\n          } else if (mode === \"function\") {\n            eventStream$.sendActionExecutionEnd({\n              actionExecutionId: currentToolCallId\n            });\n          }\n        } catch (error) {\n          console.error(\"[OpenAI] Error during API call:\", error);\n          throw convertServiceAdapterError(error, \"OpenAI\");\n        }\n        eventStream$.complete();\n      });\n    } catch (error) {\n      console.error(\"[OpenAI] Error during API call:\", error);\n      throw convertServiceAdapterError(error, \"OpenAI\");\n    }\n    return {\n      threadId\n    };\n  }\n};\n__name(OpenAIAdapter, \"OpenAIAdapter\");\n\n// src/service-adapters/langchain/utils.ts\nvar import_messages = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/@langchain/core/messages.cjs\");\nvar import_tools = __webpack_require__(/*! @langchain/core/tools */ \"(rsc)/./node_modules/@langchain/core/tools.cjs\");\nvar import_shared5 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction convertMessageToLangChainMessage(message) {\n  if (message.isTextMessage()) {\n    if (message.role == \"user\") {\n      return new import_messages.HumanMessage(message.content);\n    } else if (message.role == \"assistant\") {\n      return new import_messages.AIMessage(message.content);\n    } else if (message.role === \"system\") {\n      return new import_messages.SystemMessage(message.content);\n    }\n  } else if (message.isActionExecutionMessage()) {\n    return new import_messages.AIMessage({\n      content: \"\",\n      tool_calls: [\n        {\n          id: message.id,\n          args: message.arguments,\n          name: message.name\n        }\n      ]\n    });\n  } else if (message.isResultMessage()) {\n    return new import_messages.ToolMessage({\n      content: message.result,\n      tool_call_id: message.actionExecutionId\n    });\n  }\n}\n__name(convertMessageToLangChainMessage, \"convertMessageToLangChainMessage\");\nfunction convertActionInputToLangChainTool(actionInput) {\n  return new import_tools.DynamicStructuredTool({\n    name: actionInput.name,\n    description: actionInput.description,\n    schema: (0, import_shared5.convertJsonSchemaToZodSchema)(JSON.parse(actionInput.jsonSchema), true),\n    func: async () => {\n      return \"\";\n    }\n  });\n}\n__name(convertActionInputToLangChainTool, \"convertActionInputToLangChainTool\");\nfunction isAIMessage(message) {\n  return Object.prototype.toString.call(message) === \"[object AIMessage]\";\n}\n__name(isAIMessage, \"isAIMessage\");\nfunction isAIMessageChunk(message) {\n  return Object.prototype.toString.call(message) === \"[object AIMessageChunk]\";\n}\n__name(isAIMessageChunk, \"isAIMessageChunk\");\nfunction isBaseMessageChunk(message) {\n  return Object.prototype.toString.call(message) === \"[object BaseMessageChunk]\";\n}\n__name(isBaseMessageChunk, \"isBaseMessageChunk\");\nfunction maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution) {\n  if (actionExecution) {\n    eventStream$.sendActionExecutionResult({\n      actionExecutionId: actionExecution.id,\n      actionName: actionExecution.name,\n      result: \"Sending a message\"\n    });\n  }\n}\n__name(maybeSendActionExecutionResultIsMessage, \"maybeSendActionExecutionResultIsMessage\");\nasync function streamLangChainResponse({ result, eventStream$, actionExecution }) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l;\n  if (typeof result === \"string\") {\n    if (!actionExecution) {\n      eventStream$.sendTextMessage((0, import_shared5.randomId)(), result);\n    } else {\n      eventStream$.sendActionExecutionResult({\n        actionExecutionId: actionExecution.id,\n        actionName: actionExecution.name,\n        result\n      });\n    }\n  } else if (isAIMessage(result)) {\n    maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution);\n    if (result.content) {\n      eventStream$.sendTextMessage((0, import_shared5.randomId)(), result.content);\n    }\n    for (const toolCall of result.tool_calls) {\n      eventStream$.sendActionExecution({\n        actionExecutionId: toolCall.id || (0, import_shared5.randomId)(),\n        actionName: toolCall.name,\n        args: JSON.stringify(toolCall.args)\n      });\n    }\n  } else if (isBaseMessageChunk(result)) {\n    maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution);\n    if ((_a = result.lc_kwargs) == null ? void 0 : _a.content) {\n      eventStream$.sendTextMessage((0, import_shared5.randomId)(), result.content);\n    }\n    if ((_b = result.lc_kwargs) == null ? void 0 : _b.tool_calls) {\n      for (const toolCall of (_c = result.lc_kwargs) == null ? void 0 : _c.tool_calls) {\n        eventStream$.sendActionExecution({\n          actionExecutionId: toolCall.id || (0, import_shared5.randomId)(),\n          actionName: toolCall.name,\n          args: JSON.stringify(toolCall.args)\n        });\n      }\n    }\n  } else if (result && \"getReader\" in result) {\n    maybeSendActionExecutionResultIsMessage(eventStream$, actionExecution);\n    let reader = result.getReader();\n    let mode = null;\n    let currentMessageId;\n    const toolCallDetails = {\n      name: null,\n      id: null,\n      index: null,\n      prevIndex: null\n    };\n    while (true) {\n      try {\n        const { done, value } = await reader.read();\n        let toolCallName = void 0;\n        let toolCallId = void 0;\n        let toolCallArgs = void 0;\n        let hasToolCall = false;\n        let content = \"\";\n        if (value && value.content) {\n          content = Array.isArray(value.content) ? ((_d = value.content[0]) == null ? void 0 : _d.text) ?? \"\" : value.content;\n        }\n        if (isAIMessageChunk(value)) {\n          let chunk = (_e = value.tool_call_chunks) == null ? void 0 : _e[0];\n          toolCallArgs = chunk == null ? void 0 : chunk.args;\n          hasToolCall = chunk != void 0;\n          if (chunk == null ? void 0 : chunk.name)\n            toolCallDetails.name = chunk.name;\n          if ((chunk == null ? void 0 : chunk.index) != null) {\n            toolCallDetails.index = chunk.index;\n            if (toolCallDetails.prevIndex == null)\n              toolCallDetails.prevIndex = chunk.index;\n          }\n          if (chunk == null ? void 0 : chunk.id)\n            toolCallDetails.id = chunk.index != null ? `${chunk.id}-idx-${chunk.index}` : chunk.id;\n          toolCallName = toolCallDetails.name;\n          toolCallId = toolCallDetails.id;\n        } else if (isBaseMessageChunk(value)) {\n          let chunk = (_g = (_f = value.additional_kwargs) == null ? void 0 : _f.tool_calls) == null ? void 0 : _g[0];\n          toolCallName = (_h = chunk == null ? void 0 : chunk.function) == null ? void 0 : _h.name;\n          toolCallId = chunk == null ? void 0 : chunk.id;\n          toolCallArgs = (_i = chunk == null ? void 0 : chunk.function) == null ? void 0 : _i.arguments;\n          hasToolCall = (chunk == null ? void 0 : chunk.function) != void 0;\n        }\n        if (mode === \"message\" && (toolCallId || done)) {\n          mode = null;\n          eventStream$.sendTextMessageEnd({\n            messageId: currentMessageId\n          });\n        } else if (mode === \"function\" && (!hasToolCall || done)) {\n          mode = null;\n          eventStream$.sendActionExecutionEnd({\n            actionExecutionId: toolCallId\n          });\n        }\n        if (done) {\n          break;\n        }\n        if (mode === null) {\n          if (hasToolCall && toolCallId && toolCallName) {\n            mode = \"function\";\n            eventStream$.sendActionExecutionStart({\n              actionExecutionId: toolCallId,\n              actionName: toolCallName,\n              parentMessageId: (_j = value.lc_kwargs) == null ? void 0 : _j.id\n            });\n          } else if (content) {\n            mode = \"message\";\n            currentMessageId = ((_k = value.lc_kwargs) == null ? void 0 : _k.id) || (0, import_shared5.randomId)();\n            eventStream$.sendTextMessageStart({\n              messageId: currentMessageId\n            });\n          }\n        }\n        if (mode === \"message\" && content) {\n          eventStream$.sendTextMessageContent({\n            messageId: currentMessageId,\n            content\n          });\n        } else if (mode === \"function\" && toolCallArgs) {\n          if (toolCallDetails.index !== toolCallDetails.prevIndex) {\n            eventStream$.sendActionExecutionEnd({\n              actionExecutionId: toolCallId\n            });\n            eventStream$.sendActionExecutionStart({\n              actionExecutionId: toolCallId,\n              actionName: toolCallName,\n              parentMessageId: (_l = value.lc_kwargs) == null ? void 0 : _l.id\n            });\n            toolCallDetails.prevIndex = toolCallDetails.index;\n          }\n          eventStream$.sendActionExecutionArgs({\n            actionExecutionId: toolCallId,\n            args: toolCallArgs\n          });\n        }\n      } catch (error) {\n        console.error(\"Error reading from stream\", error);\n        break;\n      }\n    }\n  } else if (actionExecution) {\n    eventStream$.sendActionExecutionResult({\n      actionExecutionId: actionExecution.id,\n      actionName: actionExecution.name,\n      result: encodeResult(result)\n    });\n  } else {\n    throw new Error(\"Invalid return type from LangChain function.\");\n  }\n  eventStream$.complete();\n}\n__name(streamLangChainResponse, \"streamLangChainResponse\");\nfunction encodeResult(result) {\n  if (result === void 0) {\n    return \"\";\n  } else if (typeof result === \"string\") {\n    return result;\n  } else {\n    return JSON.stringify(result);\n  }\n}\n__name(encodeResult, \"encodeResult\");\n\n// src/service-adapters/langchain/langchain-adapter.ts\nvar import_shared6 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_promises = __webpack_require__(/*! @langchain/core/callbacks/promises */ \"(rsc)/./node_modules/@langchain/core/callbacks/promises.cjs\");\nvar LangChainAdapter = class {\n  options;\n  /**\n  * To use LangChain as a backend, provide a handler function to the adapter with your custom LangChain logic.\n  */\n  constructor(options) {\n    this.options = options;\n  }\n  async process(request) {\n    try {\n      const { eventSource, model, actions, messages, runId, threadId: threadIdFromRequest } = request;\n      const threadId = threadIdFromRequest ?? (0, import_shared6.randomUUID)();\n      const result = await this.options.chainFn({\n        messages: messages.map(convertMessageToLangChainMessage),\n        tools: actions.map(convertActionInputToLangChainTool),\n        model,\n        threadId,\n        runId\n      });\n      eventSource.stream(async (eventStream$) => {\n        await streamLangChainResponse({\n          result,\n          eventStream$\n        });\n      });\n      return {\n        threadId\n      };\n    } finally {\n      await (0, import_promises.awaitAllCallbacks)();\n    }\n  }\n};\n__name(LangChainAdapter, \"LangChainAdapter\");\n\n// src/service-adapters/google/google-genai-adapter.ts\nvar import_google_gauth = __webpack_require__(/*! @langchain/google-gauth */ \"(rsc)/./node_modules/@langchain/google-gauth/index.cjs\");\nvar import_messages2 = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/@langchain/core/messages.cjs\");\nvar GoogleGenerativeAIAdapter = class extends LangChainAdapter {\n  constructor(options) {\n    super({\n      chainFn: async ({ messages, tools, threadId }) => {\n        const filteredMessages = messages.filter((message) => {\n          if (!(message instanceof import_messages2.AIMessage)) {\n            return true;\n          }\n          return message.content && String(message.content).trim().length > 0 || message.tool_calls && message.tool_calls.length > 0;\n        });\n        const model = new import_google_gauth.ChatGoogle({\n          apiKey: (options == null ? void 0 : options.apiKey) ?? process.env.GOOGLE_API_KEY,\n          modelName: (options == null ? void 0 : options.model) ?? \"gemini-1.5-pro\",\n          apiVersion: \"v1beta\"\n        }).bindTools(tools);\n        return model.stream(filteredMessages, {\n          metadata: {\n            conversation_id: threadId\n          }\n        });\n      }\n    });\n  }\n};\n__name(GoogleGenerativeAIAdapter, \"GoogleGenerativeAIAdapter\");\n\n// src/service-adapters/openai/openai-assistant-adapter.ts\nvar import_openai2 = __toESM(__webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.js\"));\nvar OpenAIAssistantAdapter = class {\n  openai;\n  codeInterpreterEnabled;\n  assistantId;\n  fileSearchEnabled;\n  disableParallelToolCalls;\n  keepSystemRole = false;\n  constructor(params) {\n    this.openai = params.openai || new import_openai2.default({});\n    this.codeInterpreterEnabled = params.codeInterpreterEnabled === false || true;\n    this.fileSearchEnabled = params.fileSearchEnabled === false || true;\n    this.assistantId = params.assistantId;\n    this.disableParallelToolCalls = (params == null ? void 0 : params.disableParallelToolCalls) || false;\n    this.keepSystemRole = (params == null ? void 0 : params.keepSystemRole) ?? false;\n  }\n  async process(request) {\n    var _a, _b;\n    const { messages, actions, eventSource, runId, forwardedParameters } = request;\n    let threadId = (_b = (_a = request.extensions) == null ? void 0 : _a.openaiAssistantAPI) == null ? void 0 : _b.threadId;\n    if (!threadId) {\n      threadId = (await this.openai.beta.threads.create()).id;\n    }\n    const lastMessage = messages.at(-1);\n    let nextRunId = void 0;\n    if (lastMessage.isResultMessage() && runId) {\n      nextRunId = await this.submitToolOutputs(threadId, runId, messages, eventSource);\n    } else if (lastMessage.isTextMessage()) {\n      nextRunId = await this.submitUserMessage(threadId, messages, actions, eventSource, forwardedParameters);\n    } else {\n      throw new Error(\"No actionable message found in the messages\");\n    }\n    return {\n      runId: nextRunId,\n      threadId,\n      extensions: {\n        ...request.extensions,\n        openaiAssistantAPI: {\n          threadId,\n          runId: nextRunId\n        }\n      }\n    };\n  }\n  async submitToolOutputs(threadId, runId, messages, eventSource) {\n    let run = await this.openai.beta.threads.runs.retrieve(threadId, runId);\n    if (!run.required_action) {\n      throw new Error(\"No tool outputs required\");\n    }\n    const toolCallsIds = run.required_action.submit_tool_outputs.tool_calls.map((toolCall) => toolCall.id);\n    const resultMessages = messages.filter((message) => message.isResultMessage() && toolCallsIds.includes(message.actionExecutionId));\n    if (toolCallsIds.length != resultMessages.length) {\n      throw new Error(\"Number of function results does not match the number of tool calls\");\n    }\n    const toolOutputs = resultMessages.map((message) => {\n      return {\n        tool_call_id: message.actionExecutionId,\n        output: message.result\n      };\n    });\n    const stream = this.openai.beta.threads.runs.submitToolOutputsStream(threadId, runId, {\n      tool_outputs: toolOutputs,\n      ...this.disableParallelToolCalls && {\n        parallel_tool_calls: false\n      }\n    });\n    await this.streamResponse(stream, eventSource);\n    return runId;\n  }\n  async submitUserMessage(threadId, messages, actions, eventSource, forwardedParameters) {\n    messages = [\n      ...messages\n    ];\n    const instructionsMessage = messages.shift();\n    const instructions = instructionsMessage.isTextMessage() ? instructionsMessage.content : \"\";\n    const userMessage = messages.map((m) => convertMessageToOpenAIMessage(m, {\n      keepSystemRole: this.keepSystemRole\n    })).map(convertSystemMessageToAssistantAPI).at(-1);\n    if (userMessage.role !== \"user\") {\n      throw new Error(\"No user message found\");\n    }\n    await this.openai.beta.threads.messages.create(threadId, {\n      role: \"user\",\n      content: userMessage.content\n    });\n    const openaiTools = actions.map(convertActionInputToOpenAITool);\n    const tools = [\n      ...openaiTools,\n      ...this.codeInterpreterEnabled ? [\n        {\n          type: \"code_interpreter\"\n        }\n      ] : [],\n      ...this.fileSearchEnabled ? [\n        {\n          type: \"file_search\"\n        }\n      ] : []\n    ];\n    let stream = this.openai.beta.threads.runs.stream(threadId, {\n      assistant_id: this.assistantId,\n      instructions,\n      tools,\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) && {\n        max_completion_tokens: forwardedParameters.maxTokens\n      },\n      ...this.disableParallelToolCalls && {\n        parallel_tool_calls: false\n      }\n    });\n    await this.streamResponse(stream, eventSource);\n    return getRunIdFromStream(stream);\n  }\n  async streamResponse(stream, eventSource) {\n    eventSource.stream(async (eventStream$) => {\n      var _a, _b, _c, _d, _e, _f;\n      let inFunctionCall = false;\n      let currentMessageId;\n      let currentToolCallId;\n      for await (const chunk of stream) {\n        switch (chunk.event) {\n          case \"thread.message.created\":\n            if (inFunctionCall) {\n              eventStream$.sendActionExecutionEnd({\n                actionExecutionId: currentToolCallId\n              });\n            }\n            currentMessageId = chunk.data.id;\n            eventStream$.sendTextMessageStart({\n              messageId: currentMessageId\n            });\n            break;\n          case \"thread.message.delta\":\n            if (((_a = chunk.data.delta.content) == null ? void 0 : _a[0].type) === \"text\") {\n              eventStream$.sendTextMessageContent({\n                messageId: currentMessageId,\n                content: (_b = chunk.data.delta.content) == null ? void 0 : _b[0].text.value\n              });\n            }\n            break;\n          case \"thread.message.completed\":\n            eventStream$.sendTextMessageEnd({\n              messageId: currentMessageId\n            });\n            break;\n          case \"thread.run.step.delta\":\n            let toolCallId;\n            let toolCallName;\n            let toolCallArgs;\n            if (chunk.data.delta.step_details.type === \"tool_calls\" && ((_c = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _c[0].type) === \"function\") {\n              toolCallId = (_d = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _d[0].id;\n              toolCallName = (_e = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _e[0].function.name;\n              toolCallArgs = (_f = chunk.data.delta.step_details.tool_calls) == null ? void 0 : _f[0].function.arguments;\n            }\n            if (toolCallName && toolCallId) {\n              if (inFunctionCall) {\n                eventStream$.sendActionExecutionEnd({\n                  actionExecutionId: currentToolCallId\n                });\n              }\n              inFunctionCall = true;\n              currentToolCallId = toolCallId;\n              eventStream$.sendActionExecutionStart({\n                actionExecutionId: currentToolCallId,\n                parentMessageId: chunk.data.id,\n                actionName: toolCallName\n              });\n            } else if (toolCallArgs) {\n              eventStream$.sendActionExecutionArgs({\n                actionExecutionId: currentToolCallId,\n                args: toolCallArgs\n              });\n            }\n            break;\n        }\n      }\n      if (inFunctionCall) {\n        eventStream$.sendActionExecutionEnd({\n          actionExecutionId: currentToolCallId\n        });\n      }\n      eventStream$.complete();\n    });\n  }\n};\n__name(OpenAIAssistantAdapter, \"OpenAIAssistantAdapter\");\nfunction getRunIdFromStream(stream) {\n  return new Promise((resolve, reject) => {\n    let runIdGetter = /* @__PURE__ */ __name((event) => {\n      if (event.event === \"thread.run.created\") {\n        const runId = event.data.id;\n        stream.off(\"event\", runIdGetter);\n        resolve(runId);\n      }\n    }, \"runIdGetter\");\n    stream.on(\"event\", runIdGetter);\n  });\n}\n__name(getRunIdFromStream, \"getRunIdFromStream\");\n\n// src/service-adapters/unify/unify-adapter.ts\nvar import_openai3 = __toESM(__webpack_require__(/*! openai */ \"(rsc)/./node_modules/openai/index.js\"));\nvar import_shared7 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar UnifyAdapter = class {\n  apiKey;\n  model;\n  start;\n  constructor(options) {\n    if (options == null ? void 0 : options.apiKey) {\n      this.apiKey = options.apiKey;\n    } else {\n      this.apiKey = \"UNIFY_API_KEY\";\n    }\n    this.model = options == null ? void 0 : options.model;\n    this.start = true;\n  }\n  async process(request) {\n    const tools = request.actions.map(convertActionInputToOpenAITool);\n    const openai = new import_openai3.default({\n      apiKey: this.apiKey,\n      baseURL: \"https://api.unify.ai/v0/\"\n    });\n    const forwardedParameters = request.forwardedParameters;\n    const messages = request.messages.map((m) => convertMessageToOpenAIMessage(m));\n    const stream = await openai.chat.completions.create({\n      model: this.model,\n      messages,\n      stream: true,\n      ...tools.length > 0 && {\n        tools\n      },\n      ...(forwardedParameters == null ? void 0 : forwardedParameters.temperature) && {\n        temperature: forwardedParameters.temperature\n      }\n    });\n    let model = null;\n    let currentMessageId;\n    let currentToolCallId;\n    request.eventSource.stream(async (eventStream$) => {\n      var _a, _b;\n      let mode = null;\n      for await (const chunk of stream) {\n        if (this.start) {\n          model = chunk.model;\n          currentMessageId = (0, import_shared7.randomId)();\n          eventStream$.sendTextMessageStart({\n            messageId: currentMessageId\n          });\n          eventStream$.sendTextMessageContent({\n            messageId: currentMessageId,\n            content: `Model used: ${model}\n`\n          });\n          eventStream$.sendTextMessageEnd({\n            messageId: currentMessageId\n          });\n          this.start = false;\n        }\n        const toolCall = (_a = chunk.choices[0].delta.tool_calls) == null ? void 0 : _a[0];\n        const content = chunk.choices[0].delta.content;\n        if (mode === \"message\" && (toolCall == null ? void 0 : toolCall.id)) {\n          mode = null;\n          eventStream$.sendTextMessageEnd({\n            messageId: currentMessageId\n          });\n        } else if (mode === \"function\" && (toolCall === void 0 || (toolCall == null ? void 0 : toolCall.id))) {\n          mode = null;\n          eventStream$.sendActionExecutionEnd({\n            actionExecutionId: currentToolCallId\n          });\n        }\n        if (mode === null) {\n          if (toolCall == null ? void 0 : toolCall.id) {\n            mode = \"function\";\n            currentToolCallId = toolCall.id;\n            eventStream$.sendActionExecutionStart({\n              actionExecutionId: currentToolCallId,\n              actionName: toolCall.function.name\n            });\n          } else if (content) {\n            mode = \"message\";\n            currentMessageId = chunk.id;\n            eventStream$.sendTextMessageStart({\n              messageId: currentMessageId\n            });\n          }\n        }\n        if (mode === \"message\" && content) {\n          eventStream$.sendTextMessageContent({\n            messageId: currentMessageId,\n            content\n          });\n        } else if (mode === \"function\" && ((_b = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _b.arguments)) {\n          eventStream$.sendActionExecutionArgs({\n            actionExecutionId: currentToolCallId,\n            args: toolCall.function.arguments\n          });\n        }\n      }\n      if (mode === \"message\") {\n        eventStream$.sendTextMessageEnd({\n          messageId: currentMessageId\n        });\n      } else if (mode === \"function\") {\n        eventStream$.sendActionExecutionEnd({\n          actionExecutionId: currentToolCallId\n        });\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: request.threadId || (0, import_shared7.randomUUID)()\n    };\n  }\n};\n__name(UnifyAdapter, \"UnifyAdapter\");\n\n// src/service-adapters/groq/groq-adapter.ts\nvar import_groq_sdk = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.js\");\nvar import_shared8 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar DEFAULT_MODEL2 = \"llama-3.3-70b-versatile\";\nvar GroqAdapter = class {\n  model = DEFAULT_MODEL2;\n  disableParallelToolCalls = false;\n  _groq;\n  get groq() {\n    return this._groq;\n  }\n  constructor(params) {\n    this._groq = (params == null ? void 0 : params.groq) || new import_groq_sdk.Groq({});\n    if (params == null ? void 0 : params.model) {\n      this.model = params.model;\n    }\n    this.disableParallelToolCalls = (params == null ? void 0 : params.disableParallelToolCalls) || false;\n  }\n  async process(request) {\n    const { threadId, model = this.model, messages, actions, eventSource, forwardedParameters } = request;\n    const tools = actions.map(convertActionInputToOpenAITool);\n    let openaiMessages = messages.map((m) => convertMessageToOpenAIMessage(m, {\n      keepSystemRole: true\n    }));\n    openaiMessages = limitMessagesToTokenCount(openaiMessages, tools, model);\n    let toolChoice = forwardedParameters == null ? void 0 : forwardedParameters.toolChoice;\n    if ((forwardedParameters == null ? void 0 : forwardedParameters.toolChoice) === \"function\") {\n      toolChoice = {\n        type: \"function\",\n        function: {\n          name: forwardedParameters.toolChoiceFunctionName\n        }\n      };\n    }\n    let stream;\n    try {\n      stream = await this.groq.chat.completions.create({\n        model,\n        stream: true,\n        messages: openaiMessages,\n        ...tools.length > 0 && {\n          tools\n        },\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) && {\n          max_tokens: forwardedParameters.maxTokens\n        },\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.stop) && {\n          stop: forwardedParameters.stop\n        },\n        ...toolChoice && {\n          tool_choice: toolChoice\n        },\n        ...this.disableParallelToolCalls && {\n          parallel_tool_calls: false\n        },\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.temperature) && {\n          temperature: forwardedParameters.temperature\n        }\n      });\n    } catch (error) {\n      throw convertServiceAdapterError(error, \"Groq\");\n    }\n    eventSource.stream(async (eventStream$) => {\n      var _a, _b;\n      let mode = null;\n      let currentMessageId;\n      let currentToolCallId;\n      try {\n        for await (const chunk of stream) {\n          const toolCall = (_a = chunk.choices[0].delta.tool_calls) == null ? void 0 : _a[0];\n          const content = chunk.choices[0].delta.content;\n          if (mode === \"message\" && (toolCall == null ? void 0 : toolCall.id)) {\n            mode = null;\n            eventStream$.sendTextMessageEnd({\n              messageId: currentMessageId\n            });\n          } else if (mode === \"function\" && (toolCall === void 0 || (toolCall == null ? void 0 : toolCall.id))) {\n            mode = null;\n            eventStream$.sendActionExecutionEnd({\n              actionExecutionId: currentToolCallId\n            });\n          }\n          if (mode === null) {\n            if (toolCall == null ? void 0 : toolCall.id) {\n              mode = \"function\";\n              currentToolCallId = toolCall.id;\n              eventStream$.sendActionExecutionStart({\n                actionExecutionId: currentToolCallId,\n                actionName: toolCall.function.name,\n                parentMessageId: chunk.id\n              });\n            } else if (content) {\n              mode = \"message\";\n              currentMessageId = chunk.id;\n              eventStream$.sendTextMessageStart({\n                messageId: currentMessageId\n              });\n            }\n          }\n          if (mode === \"message\" && content) {\n            eventStream$.sendTextMessageContent({\n              messageId: currentMessageId,\n              content\n            });\n          } else if (mode === \"function\" && ((_b = toolCall == null ? void 0 : toolCall.function) == null ? void 0 : _b.arguments)) {\n            eventStream$.sendActionExecutionArgs({\n              actionExecutionId: currentToolCallId,\n              args: toolCall.function.arguments\n            });\n          }\n        }\n        if (mode === \"message\") {\n          eventStream$.sendTextMessageEnd({\n            messageId: currentMessageId\n          });\n        } else if (mode === \"function\") {\n          eventStream$.sendActionExecutionEnd({\n            actionExecutionId: currentToolCallId\n          });\n        }\n      } catch (error) {\n        throw convertServiceAdapterError(error, \"Groq\");\n      }\n      eventStream$.complete();\n    });\n    return {\n      threadId: request.threadId || (0, import_shared8.randomUUID)()\n    };\n  }\n};\n__name(GroqAdapter, \"GroqAdapter\");\n\n// src/lib/integrations/shared.ts\nvar import_type_graphql26 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_type_graphql20 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nvar import_rxjs5 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\n\n// src/graphql/inputs/generate-copilot-response.input.ts\nvar import_type_graphql18 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/inputs/message.input.ts\nvar import_type_graphql3 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/enums.ts\nvar import_type_graphql = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nvar MessageRole;\n(function(MessageRole2) {\n  MessageRole2[\"user\"] = \"user\";\n  MessageRole2[\"assistant\"] = \"assistant\";\n  MessageRole2[\"system\"] = \"system\";\n  MessageRole2[\"tool\"] = \"tool\";\n  MessageRole2[\"developer\"] = \"developer\";\n})(MessageRole || (MessageRole = {}));\nvar CopilotRequestType;\n(function(CopilotRequestType2) {\n  CopilotRequestType2[\"Chat\"] = \"Chat\";\n  CopilotRequestType2[\"Task\"] = \"Task\";\n  CopilotRequestType2[\"TextareaCompletion\"] = \"TextareaCompletion\";\n  CopilotRequestType2[\"TextareaPopover\"] = \"TextareaPopover\";\n  CopilotRequestType2[\"Suggestion\"] = \"Suggestion\";\n})(CopilotRequestType || (CopilotRequestType = {}));\nvar ActionInputAvailability;\n(function(ActionInputAvailability2) {\n  ActionInputAvailability2[\"disabled\"] = \"disabled\";\n  ActionInputAvailability2[\"enabled\"] = \"enabled\";\n  ActionInputAvailability2[\"remote\"] = \"remote\";\n})(ActionInputAvailability || (ActionInputAvailability = {}));\n(0, import_type_graphql.registerEnumType)(MessageRole, {\n  name: \"MessageRole\",\n  description: \"The role of the message\"\n});\n(0, import_type_graphql.registerEnumType)(CopilotRequestType, {\n  name: \"CopilotRequestType\",\n  description: \"The type of Copilot request\"\n});\n(0, import_type_graphql.registerEnumType)(ActionInputAvailability, {\n  name: \"ActionInputAvailability\",\n  description: \"The availability of the frontend action\"\n});\n\n// src/graphql/types/base/index.ts\nvar import_type_graphql2 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate, \"_ts_decorate\");\nfunction _ts_metadata(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata, \"_ts_metadata\");\nvar BaseMessageInput = class {\n  id;\n  createdAt;\n};\n__name(BaseMessageInput, \"BaseMessageInput\");\n_ts_decorate([\n  (0, import_type_graphql2.Field)(() => String),\n  _ts_metadata(\"design:type\", String)\n], BaseMessageInput.prototype, \"id\", void 0);\n_ts_decorate([\n  (0, import_type_graphql2.Field)(() => Date),\n  _ts_metadata(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], BaseMessageInput.prototype, \"createdAt\", void 0);\nBaseMessageInput = _ts_decorate([\n  (0, import_type_graphql2.InputType)()\n], BaseMessageInput);\n\n// src/graphql/inputs/message.input.ts\nfunction _ts_decorate2(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate2, \"_ts_decorate\");\nfunction _ts_metadata2(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata2, \"_ts_metadata\");\nvar MessageInput = class extends BaseMessageInput {\n  textMessage;\n  actionExecutionMessage;\n  resultMessage;\n  agentStateMessage;\n  imageMessage;\n};\n__name(MessageInput, \"MessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => TextMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof TextMessageInput === \"undefined\" ? Object : TextMessageInput)\n], MessageInput.prototype, \"textMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => ActionExecutionMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof ActionExecutionMessageInput === \"undefined\" ? Object : ActionExecutionMessageInput)\n], MessageInput.prototype, \"actionExecutionMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => ResultMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof ResultMessageInput === \"undefined\" ? Object : ResultMessageInput)\n], MessageInput.prototype, \"resultMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => AgentStateMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof AgentStateMessageInput === \"undefined\" ? Object : AgentStateMessageInput)\n], MessageInput.prototype, \"agentStateMessage\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => ImageMessageInput, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", typeof ImageMessageInput === \"undefined\" ? Object : ImageMessageInput)\n], MessageInput.prototype, \"imageMessage\", void 0);\nMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], MessageInput);\nvar TextMessageInput = class {\n  content;\n  parentMessageId;\n  role;\n};\n__name(TextMessageInput, \"TextMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], TextMessageInput.prototype, \"content\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", String)\n], TextMessageInput.prototype, \"parentMessageId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => MessageRole),\n  _ts_metadata2(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], TextMessageInput.prototype, \"role\", void 0);\nTextMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], TextMessageInput);\nvar ActionExecutionMessageInput = class {\n  name;\n  arguments;\n  parentMessageId;\n  scope;\n};\n__name(ActionExecutionMessageInput, \"ActionExecutionMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ActionExecutionMessageInput.prototype, \"name\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ActionExecutionMessageInput.prototype, \"arguments\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", String)\n], ActionExecutionMessageInput.prototype, \"parentMessageId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String, {\n    nullable: true,\n    deprecationReason: \"This field will be removed in a future version\"\n  }),\n  _ts_metadata2(\"design:type\", typeof String === \"undefined\" ? Object : String)\n], ActionExecutionMessageInput.prototype, \"scope\", void 0);\nActionExecutionMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], ActionExecutionMessageInput);\nvar ResultMessageInput = class {\n  actionExecutionId;\n  actionName;\n  parentMessageId;\n  result;\n};\n__name(ResultMessageInput, \"ResultMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"actionExecutionId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"actionName\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"parentMessageId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ResultMessageInput.prototype, \"result\", void 0);\nResultMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], ResultMessageInput);\nvar AgentStateMessageInput = class {\n  threadId;\n  agentName;\n  role;\n  state;\n  running;\n  nodeName;\n  runId;\n  active;\n};\n__name(AgentStateMessageInput, \"AgentStateMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"threadId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"agentName\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => MessageRole),\n  _ts_metadata2(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], AgentStateMessageInput.prototype, \"role\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"state\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => Boolean),\n  _ts_metadata2(\"design:type\", Boolean)\n], AgentStateMessageInput.prototype, \"running\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"nodeName\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], AgentStateMessageInput.prototype, \"runId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => Boolean),\n  _ts_metadata2(\"design:type\", Boolean)\n], AgentStateMessageInput.prototype, \"active\", void 0);\nAgentStateMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], AgentStateMessageInput);\nvar ImageMessageInput = class {\n  format;\n  bytes;\n  parentMessageId;\n  role;\n};\n__name(ImageMessageInput, \"ImageMessageInput\");\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ImageMessageInput.prototype, \"format\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String),\n  _ts_metadata2(\"design:type\", String)\n], ImageMessageInput.prototype, \"bytes\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata2(\"design:type\", String)\n], ImageMessageInput.prototype, \"parentMessageId\", void 0);\n_ts_decorate2([\n  (0, import_type_graphql3.Field)(() => MessageRole),\n  _ts_metadata2(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], ImageMessageInput.prototype, \"role\", void 0);\nImageMessageInput = _ts_decorate2([\n  (0, import_type_graphql3.InputType)()\n], ImageMessageInput);\n\n// src/graphql/inputs/frontend.input.ts\nvar import_type_graphql5 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/inputs/action.input.ts\nvar import_type_graphql4 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate3(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate3, \"_ts_decorate\");\nfunction _ts_metadata3(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata3, \"_ts_metadata\");\nvar ActionInput = class {\n  name;\n  description;\n  jsonSchema;\n  available;\n};\n__name(ActionInput, \"ActionInput\");\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => String),\n  _ts_metadata3(\"design:type\", String)\n], ActionInput.prototype, \"name\", void 0);\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => String),\n  _ts_metadata3(\"design:type\", String)\n], ActionInput.prototype, \"description\", void 0);\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => String),\n  _ts_metadata3(\"design:type\", String)\n], ActionInput.prototype, \"jsonSchema\", void 0);\n_ts_decorate3([\n  (0, import_type_graphql4.Field)(() => ActionInputAvailability, {\n    nullable: true\n  }),\n  _ts_metadata3(\"design:type\", typeof ActionInputAvailability === \"undefined\" ? Object : ActionInputAvailability)\n], ActionInput.prototype, \"available\", void 0);\nActionInput = _ts_decorate3([\n  (0, import_type_graphql4.InputType)()\n], ActionInput);\n\n// src/graphql/inputs/frontend.input.ts\nfunction _ts_decorate4(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate4, \"_ts_decorate\");\nfunction _ts_metadata4(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata4, \"_ts_metadata\");\nvar FrontendInput = class {\n  toDeprecate_fullContext;\n  actions;\n  url;\n};\n__name(FrontendInput, \"FrontendInput\");\n_ts_decorate4([\n  (0, import_type_graphql5.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata4(\"design:type\", String)\n], FrontendInput.prototype, \"toDeprecate_fullContext\", void 0);\n_ts_decorate4([\n  (0, import_type_graphql5.Field)(() => [\n    ActionInput\n  ]),\n  _ts_metadata4(\"design:type\", Array)\n], FrontendInput.prototype, \"actions\", void 0);\n_ts_decorate4([\n  (0, import_type_graphql5.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata4(\"design:type\", String)\n], FrontendInput.prototype, \"url\", void 0);\nFrontendInput = _ts_decorate4([\n  (0, import_type_graphql5.InputType)()\n], FrontendInput);\n\n// src/graphql/inputs/cloud.input.ts\nvar import_type_graphql7 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/inputs/cloud-guardrails.input.ts\nvar import_type_graphql6 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate5(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate5, \"_ts_decorate\");\nfunction _ts_metadata5(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata5, \"_ts_metadata\");\nvar GuardrailsRuleInput = class {\n  allowList = [];\n  denyList = [];\n};\n__name(GuardrailsRuleInput, \"GuardrailsRuleInput\");\n_ts_decorate5([\n  (0, import_type_graphql6.Field)(() => [\n    String\n  ], {\n    nullable: true\n  }),\n  _ts_metadata5(\"design:type\", Array)\n], GuardrailsRuleInput.prototype, \"allowList\", void 0);\n_ts_decorate5([\n  (0, import_type_graphql6.Field)(() => [\n    String\n  ], {\n    nullable: true\n  }),\n  _ts_metadata5(\"design:type\", Array)\n], GuardrailsRuleInput.prototype, \"denyList\", void 0);\nGuardrailsRuleInput = _ts_decorate5([\n  (0, import_type_graphql6.InputType)()\n], GuardrailsRuleInput);\nvar GuardrailsInput = class {\n  inputValidationRules;\n};\n__name(GuardrailsInput, \"GuardrailsInput\");\n_ts_decorate5([\n  (0, import_type_graphql6.Field)(() => GuardrailsRuleInput, {\n    nullable: false\n  }),\n  _ts_metadata5(\"design:type\", typeof GuardrailsRuleInput === \"undefined\" ? Object : GuardrailsRuleInput)\n], GuardrailsInput.prototype, \"inputValidationRules\", void 0);\nGuardrailsInput = _ts_decorate5([\n  (0, import_type_graphql6.InputType)()\n], GuardrailsInput);\n\n// src/graphql/inputs/cloud.input.ts\nfunction _ts_decorate6(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate6, \"_ts_decorate\");\nfunction _ts_metadata6(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata6, \"_ts_metadata\");\nvar CloudInput = class {\n  guardrails;\n};\n__name(CloudInput, \"CloudInput\");\n_ts_decorate6([\n  (0, import_type_graphql7.Field)(() => GuardrailsInput, {\n    nullable: true\n  }),\n  _ts_metadata6(\"design:type\", typeof GuardrailsInput === \"undefined\" ? Object : GuardrailsInput)\n], CloudInput.prototype, \"guardrails\", void 0);\nCloudInput = _ts_decorate6([\n  (0, import_type_graphql7.InputType)()\n], CloudInput);\n\n// src/graphql/inputs/forwarded-parameters.input.ts\nvar import_type_graphql8 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate7(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate7, \"_ts_decorate\");\nfunction _ts_metadata7(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata7, \"_ts_metadata\");\nvar ForwardedParametersInput = class {\n  model;\n  maxTokens;\n  stop;\n  toolChoice;\n  toolChoiceFunctionName;\n  temperature;\n};\n__name(ForwardedParametersInput, \"ForwardedParametersInput\");\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", String)\n], ForwardedParametersInput.prototype, \"model\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => Number, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", Number)\n], ForwardedParametersInput.prototype, \"maxTokens\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => [\n    String\n  ], {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", Array)\n], ForwardedParametersInput.prototype, \"stop\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", typeof String === \"undefined\" ? Object : String)\n], ForwardedParametersInput.prototype, \"toolChoice\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", String)\n], ForwardedParametersInput.prototype, \"toolChoiceFunctionName\", void 0);\n_ts_decorate7([\n  (0, import_type_graphql8.Field)(() => Number, {\n    nullable: true\n  }),\n  _ts_metadata7(\"design:type\", Number)\n], ForwardedParametersInput.prototype, \"temperature\", void 0);\nForwardedParametersInput = _ts_decorate7([\n  (0, import_type_graphql8.InputType)()\n], ForwardedParametersInput);\n\n// src/graphql/inputs/agent-session.input.ts\nvar import_type_graphql9 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate8(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate8, \"_ts_decorate\");\nfunction _ts_metadata8(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata8, \"_ts_metadata\");\nvar AgentSessionInput = class {\n  agentName;\n  threadId;\n  nodeName;\n};\n__name(AgentSessionInput, \"AgentSessionInput\");\n_ts_decorate8([\n  (0, import_type_graphql9.Field)(() => String),\n  _ts_metadata8(\"design:type\", String)\n], AgentSessionInput.prototype, \"agentName\", void 0);\n_ts_decorate8([\n  (0, import_type_graphql9.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata8(\"design:type\", String)\n], AgentSessionInput.prototype, \"threadId\", void 0);\n_ts_decorate8([\n  (0, import_type_graphql9.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata8(\"design:type\", String)\n], AgentSessionInput.prototype, \"nodeName\", void 0);\nAgentSessionInput = _ts_decorate8([\n  (0, import_type_graphql9.InputType)()\n], AgentSessionInput);\n\n// src/graphql/inputs/agent-state.input.ts\nvar import_type_graphql10 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate9(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate9, \"_ts_decorate\");\nfunction _ts_metadata9(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata9, \"_ts_metadata\");\nvar AgentStateInput = class {\n  agentName;\n  state;\n  config;\n};\n__name(AgentStateInput, \"AgentStateInput\");\n_ts_decorate9([\n  (0, import_type_graphql10.Field)(() => String),\n  _ts_metadata9(\"design:type\", String)\n], AgentStateInput.prototype, \"agentName\", void 0);\n_ts_decorate9([\n  (0, import_type_graphql10.Field)(() => String),\n  _ts_metadata9(\"design:type\", String)\n], AgentStateInput.prototype, \"state\", void 0);\n_ts_decorate9([\n  (0, import_type_graphql10.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata9(\"design:type\", String)\n], AgentStateInput.prototype, \"config\", void 0);\nAgentStateInput = _ts_decorate9([\n  (0, import_type_graphql10.InputType)()\n], AgentStateInput);\n\n// src/graphql/inputs/extensions.input.ts\nvar import_type_graphql11 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate10(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate10, \"_ts_decorate\");\nfunction _ts_metadata10(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata10, \"_ts_metadata\");\nvar ExtensionsInput = class {\n  openaiAssistantAPI;\n};\n__name(ExtensionsInput, \"ExtensionsInput\");\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => OpenAIApiAssistantAPIInput, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", typeof OpenAIApiAssistantAPIInput === \"undefined\" ? Object : OpenAIApiAssistantAPIInput)\n], ExtensionsInput.prototype, \"openaiAssistantAPI\", void 0);\nExtensionsInput = _ts_decorate10([\n  (0, import_type_graphql11.InputType)()\n], ExtensionsInput);\nvar OpenAIApiAssistantAPIInput = class {\n  runId;\n  threadId;\n};\n__name(OpenAIApiAssistantAPIInput, \"OpenAIApiAssistantAPIInput\");\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", String)\n], OpenAIApiAssistantAPIInput.prototype, \"runId\", void 0);\n_ts_decorate10([\n  (0, import_type_graphql11.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata10(\"design:type\", String)\n], OpenAIApiAssistantAPIInput.prototype, \"threadId\", void 0);\nOpenAIApiAssistantAPIInput = _ts_decorate10([\n  (0, import_type_graphql11.InputType)()\n], OpenAIApiAssistantAPIInput);\n\n// src/graphql/inputs/meta-event.input.ts\nvar import_type_graphql17 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/meta-events.type.ts\nvar import_type_graphql16 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/copilot-response.type.ts\nvar import_type_graphql15 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/message-status.type.ts\nvar import_type_graphql12 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate11(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate11, \"_ts_decorate\");\nfunction _ts_metadata11(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata11, \"_ts_metadata\");\nvar MessageStatusCode;\n(function(MessageStatusCode2) {\n  MessageStatusCode2[\"Pending\"] = \"pending\";\n  MessageStatusCode2[\"Success\"] = \"success\";\n  MessageStatusCode2[\"Failed\"] = \"failed\";\n})(MessageStatusCode || (MessageStatusCode = {}));\n(0, import_type_graphql12.registerEnumType)(MessageStatusCode, {\n  name: \"MessageStatusCode\"\n});\nvar BaseMessageStatus = /* @__PURE__ */ __name(class BaseMessageStatus2 {\n  code;\n}, \"BaseMessageStatus\");\n_ts_decorate11([\n  (0, import_type_graphql12.Field)(() => MessageStatusCode),\n  _ts_metadata11(\"design:type\", String)\n], BaseMessageStatus.prototype, \"code\", void 0);\nBaseMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], BaseMessageStatus);\nvar PendingMessageStatus = class extends BaseMessageStatus {\n  code = \"pending\";\n};\n__name(PendingMessageStatus, \"PendingMessageStatus\");\nPendingMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], PendingMessageStatus);\nvar SuccessMessageStatus = class extends BaseMessageStatus {\n  code = \"success\";\n};\n__name(SuccessMessageStatus, \"SuccessMessageStatus\");\nSuccessMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], SuccessMessageStatus);\nvar FailedMessageStatus = class extends BaseMessageStatus {\n  code = \"failed\";\n  reason;\n};\n__name(FailedMessageStatus, \"FailedMessageStatus\");\n_ts_decorate11([\n  (0, import_type_graphql12.Field)(() => String),\n  _ts_metadata11(\"design:type\", String)\n], FailedMessageStatus.prototype, \"reason\", void 0);\nFailedMessageStatus = _ts_decorate11([\n  (0, import_type_graphql12.ObjectType)()\n], FailedMessageStatus);\nvar MessageStatusUnion = (0, import_type_graphql12.createUnionType)({\n  name: \"MessageStatus\",\n  types: () => [\n    PendingMessageStatus,\n    SuccessMessageStatus,\n    FailedMessageStatus\n  ]\n});\n\n// src/graphql/types/response-status.type.ts\nvar import_graphql_scalars = __webpack_require__(/*! graphql-scalars */ \"(rsc)/./node_modules/graphql-scalars/cjs/index.js\");\nvar import_type_graphql13 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate12(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate12, \"_ts_decorate\");\nfunction _ts_metadata12(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata12, \"_ts_metadata\");\nvar ResponseStatusCode;\n(function(ResponseStatusCode2) {\n  ResponseStatusCode2[\"Pending\"] = \"pending\";\n  ResponseStatusCode2[\"Success\"] = \"success\";\n  ResponseStatusCode2[\"Failed\"] = \"failed\";\n})(ResponseStatusCode || (ResponseStatusCode = {}));\n(0, import_type_graphql13.registerEnumType)(ResponseStatusCode, {\n  name: \"ResponseStatusCode\"\n});\nvar BaseResponseStatus = /* @__PURE__ */ __name(class BaseResponseStatus2 {\n  code;\n}, \"BaseResponseStatus\");\n_ts_decorate12([\n  (0, import_type_graphql13.Field)(() => ResponseStatusCode),\n  _ts_metadata12(\"design:type\", String)\n], BaseResponseStatus.prototype, \"code\", void 0);\nBaseResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.InterfaceType)({\n    resolveType(value) {\n      if (value.code === \"success\") {\n        return SuccessResponseStatus;\n      } else if (value.code === \"failed\") {\n        return FailedResponseStatus;\n      } else if (value.code === \"pending\") {\n        return PendingResponseStatus;\n      }\n      return void 0;\n    }\n  }),\n  (0, import_type_graphql13.ObjectType)()\n], BaseResponseStatus);\nvar PendingResponseStatus = class extends BaseResponseStatus {\n  code = \"pending\";\n};\n__name(PendingResponseStatus, \"PendingResponseStatus\");\nPendingResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.ObjectType)({\n    implements: BaseResponseStatus\n  })\n], PendingResponseStatus);\nvar SuccessResponseStatus = class extends BaseResponseStatus {\n  code = \"success\";\n};\n__name(SuccessResponseStatus, \"SuccessResponseStatus\");\nSuccessResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.ObjectType)({\n    implements: BaseResponseStatus\n  })\n], SuccessResponseStatus);\nvar FailedResponseStatusReason;\n(function(FailedResponseStatusReason2) {\n  FailedResponseStatusReason2[\"GUARDRAILS_VALIDATION_FAILED\"] = \"GUARDRAILS_VALIDATION_FAILED\";\n  FailedResponseStatusReason2[\"MESSAGE_STREAM_INTERRUPTED\"] = \"MESSAGE_STREAM_INTERRUPTED\";\n  FailedResponseStatusReason2[\"UNKNOWN_ERROR\"] = \"UNKNOWN_ERROR\";\n})(FailedResponseStatusReason || (FailedResponseStatusReason = {}));\n(0, import_type_graphql13.registerEnumType)(FailedResponseStatusReason, {\n  name: \"FailedResponseStatusReason\"\n});\nvar FailedResponseStatus = class extends BaseResponseStatus {\n  code = \"failed\";\n  reason;\n  details = null;\n};\n__name(FailedResponseStatus, \"FailedResponseStatus\");\n_ts_decorate12([\n  (0, import_type_graphql13.Field)(() => FailedResponseStatusReason),\n  _ts_metadata12(\"design:type\", String)\n], FailedResponseStatus.prototype, \"reason\", void 0);\n_ts_decorate12([\n  (0, import_type_graphql13.Field)(() => import_graphql_scalars.GraphQLJSON, {\n    nullable: true\n  }),\n  _ts_metadata12(\"design:type\", typeof Record === \"undefined\" ? Object : Record)\n], FailedResponseStatus.prototype, \"details\", void 0);\nFailedResponseStatus = _ts_decorate12([\n  (0, import_type_graphql13.ObjectType)({\n    implements: BaseResponseStatus\n  })\n], FailedResponseStatus);\nvar ResponseStatusUnion = (0, import_type_graphql13.createUnionType)({\n  name: \"ResponseStatus\",\n  types: () => [\n    PendingResponseStatus,\n    SuccessResponseStatus,\n    FailedResponseStatus\n  ]\n});\n\n// src/graphql/types/extensions-response.type.ts\nvar import_type_graphql14 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate13(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate13, \"_ts_decorate\");\nfunction _ts_metadata13(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata13, \"_ts_metadata\");\nvar ExtensionsResponse = class {\n  openaiAssistantAPI;\n};\n__name(ExtensionsResponse, \"ExtensionsResponse\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => OpenAIApiAssistantAPIResponse, {\n    nullable: true\n  }),\n  _ts_metadata13(\"design:type\", typeof OpenAIApiAssistantAPIResponse === \"undefined\" ? Object : OpenAIApiAssistantAPIResponse)\n], ExtensionsResponse.prototype, \"openaiAssistantAPI\", void 0);\nExtensionsResponse = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)()\n], ExtensionsResponse);\nvar OpenAIApiAssistantAPIResponse = class {\n  runId;\n  threadId;\n};\n__name(OpenAIApiAssistantAPIResponse, \"OpenAIApiAssistantAPIResponse\");\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata13(\"design:type\", String)\n], OpenAIApiAssistantAPIResponse.prototype, \"runId\", void 0);\n_ts_decorate13([\n  (0, import_type_graphql14.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata13(\"design:type\", String)\n], OpenAIApiAssistantAPIResponse.prototype, \"threadId\", void 0);\nOpenAIApiAssistantAPIResponse = _ts_decorate13([\n  (0, import_type_graphql14.ObjectType)()\n], OpenAIApiAssistantAPIResponse);\n\n// src/graphql/types/copilot-response.type.ts\nfunction _ts_decorate14(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate14, \"_ts_decorate\");\nfunction _ts_metadata14(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata14, \"_ts_metadata\");\nvar BaseMessageOutput = class {\n  id;\n  createdAt;\n  status;\n};\n__name(BaseMessageOutput, \"BaseMessageOutput\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], BaseMessageOutput.prototype, \"id\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => Date),\n  _ts_metadata14(\"design:type\", typeof Date === \"undefined\" ? Object : Date)\n], BaseMessageOutput.prototype, \"createdAt\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => MessageStatusUnion),\n  _ts_metadata14(\"design:type\", Object)\n], BaseMessageOutput.prototype, \"status\", void 0);\nBaseMessageOutput = _ts_decorate14([\n  (0, import_type_graphql15.InterfaceType)({\n    resolveType(value) {\n      if (value.hasOwnProperty(\"content\")) {\n        return TextMessageOutput;\n      } else if (value.hasOwnProperty(\"name\")) {\n        return ActionExecutionMessageOutput;\n      } else if (value.hasOwnProperty(\"result\")) {\n        return ResultMessageOutput;\n      } else if (value.hasOwnProperty(\"state\")) {\n        return AgentStateMessageOutput;\n      } else if (value.hasOwnProperty(\"format\") && value.hasOwnProperty(\"bytes\")) {\n        return ImageMessageOutput;\n      }\n      return void 0;\n    }\n  })\n], BaseMessageOutput);\nvar TextMessageOutput = class {\n  role;\n  content;\n  parentMessageId;\n};\n__name(TextMessageOutput, \"TextMessageOutput\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => MessageRole),\n  _ts_metadata14(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], TextMessageOutput.prototype, \"role\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => [\n    String\n  ]),\n  _ts_metadata14(\"design:type\", Array)\n], TextMessageOutput.prototype, \"content\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata14(\"design:type\", String)\n], TextMessageOutput.prototype, \"parentMessageId\", void 0);\nTextMessageOutput = _ts_decorate14([\n  (0, import_type_graphql15.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], TextMessageOutput);\nvar ActionExecutionMessageOutput = class {\n  name;\n  scope;\n  arguments;\n  parentMessageId;\n};\n__name(ActionExecutionMessageOutput, \"ActionExecutionMessageOutput\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], ActionExecutionMessageOutput.prototype, \"name\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String, {\n    nullable: true,\n    deprecationReason: \"This field will be removed in a future version\"\n  }),\n  _ts_metadata14(\"design:type\", String)\n], ActionExecutionMessageOutput.prototype, \"scope\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => [\n    String\n  ]),\n  _ts_metadata14(\"design:type\", Array)\n], ActionExecutionMessageOutput.prototype, \"arguments\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata14(\"design:type\", String)\n], ActionExecutionMessageOutput.prototype, \"parentMessageId\", void 0);\nActionExecutionMessageOutput = _ts_decorate14([\n  (0, import_type_graphql15.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], ActionExecutionMessageOutput);\nvar ResultMessageOutput = class {\n  actionExecutionId;\n  actionName;\n  result;\n};\n__name(ResultMessageOutput, \"ResultMessageOutput\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], ResultMessageOutput.prototype, \"actionExecutionId\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], ResultMessageOutput.prototype, \"actionName\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], ResultMessageOutput.prototype, \"result\", void 0);\nResultMessageOutput = _ts_decorate14([\n  (0, import_type_graphql15.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], ResultMessageOutput);\nvar AgentStateMessageOutput = class {\n  threadId;\n  agentName;\n  nodeName;\n  runId;\n  active;\n  role;\n  state;\n  running;\n};\n__name(AgentStateMessageOutput, \"AgentStateMessageOutput\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"threadId\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"agentName\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"nodeName\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"runId\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => Boolean),\n  _ts_metadata14(\"design:type\", Boolean)\n], AgentStateMessageOutput.prototype, \"active\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => MessageRole),\n  _ts_metadata14(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], AgentStateMessageOutput.prototype, \"role\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], AgentStateMessageOutput.prototype, \"state\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => Boolean),\n  _ts_metadata14(\"design:type\", Boolean)\n], AgentStateMessageOutput.prototype, \"running\", void 0);\nAgentStateMessageOutput = _ts_decorate14([\n  (0, import_type_graphql15.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], AgentStateMessageOutput);\nvar ImageMessageOutput = class {\n  format;\n  bytes;\n  role;\n  parentMessageId;\n};\n__name(ImageMessageOutput, \"ImageMessageOutput\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], ImageMessageOutput.prototype, \"format\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], ImageMessageOutput.prototype, \"bytes\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => MessageRole),\n  _ts_metadata14(\"design:type\", typeof MessageRole === \"undefined\" ? Object : MessageRole)\n], ImageMessageOutput.prototype, \"role\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata14(\"design:type\", String)\n], ImageMessageOutput.prototype, \"parentMessageId\", void 0);\nImageMessageOutput = _ts_decorate14([\n  (0, import_type_graphql15.ObjectType)({\n    implements: BaseMessageOutput\n  })\n], ImageMessageOutput);\nvar CopilotResponse = class {\n  threadId;\n  status;\n  runId;\n  messages;\n  extensions;\n  metaEvents;\n};\n__name(CopilotResponse, \"CopilotResponse\");\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => String),\n  _ts_metadata14(\"design:type\", String)\n], CopilotResponse.prototype, \"threadId\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => ResponseStatusUnion),\n  _ts_metadata14(\"design:type\", Object)\n], CopilotResponse.prototype, \"status\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)({\n    nullable: true\n  }),\n  _ts_metadata14(\"design:type\", String)\n], CopilotResponse.prototype, \"runId\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => [\n    BaseMessageOutput\n  ]),\n  _ts_metadata14(\"design:type\", Array)\n], CopilotResponse.prototype, \"messages\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => ExtensionsResponse, {\n    nullable: true\n  }),\n  _ts_metadata14(\"design:type\", typeof ExtensionsResponse === \"undefined\" ? Object : ExtensionsResponse)\n], CopilotResponse.prototype, \"extensions\", void 0);\n_ts_decorate14([\n  (0, import_type_graphql15.Field)(() => [\n    BaseMetaEvent\n  ], {\n    nullable: true\n  }),\n  _ts_metadata14(\"design:type\", Array)\n], CopilotResponse.prototype, \"metaEvents\", void 0);\nCopilotResponse = _ts_decorate14([\n  (0, import_type_graphql15.ObjectType)()\n], CopilotResponse);\n\n// src/graphql/types/meta-events.type.ts\nfunction _ts_decorate15(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate15, \"_ts_decorate\");\nfunction _ts_metadata15(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata15, \"_ts_metadata\");\nvar MetaEventName;\n(function(MetaEventName2) {\n  MetaEventName2[\"LangGraphInterruptEvent\"] = \"LangGraphInterruptEvent\";\n  MetaEventName2[\"CopilotKitLangGraphInterruptEvent\"] = \"CopilotKitLangGraphInterruptEvent\";\n})(MetaEventName || (MetaEventName = {}));\n(0, import_type_graphql16.registerEnumType)(MetaEventName, {\n  name: \"MetaEventName\",\n  description: \"Meta event types\"\n});\nvar BaseMetaEvent = class {\n  type = \"MetaEvent\";\n  name;\n};\n__name(BaseMetaEvent, \"BaseMetaEvent\");\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => String),\n  _ts_metadata15(\"design:type\", String)\n], BaseMetaEvent.prototype, \"type\", void 0);\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => MetaEventName),\n  _ts_metadata15(\"design:type\", String)\n], BaseMetaEvent.prototype, \"name\", void 0);\nBaseMetaEvent = _ts_decorate15([\n  (0, import_type_graphql16.InterfaceType)({\n    resolveType(value) {\n      if (value.name === \"LangGraphInterruptEvent\") {\n        return LangGraphInterruptEvent;\n      } else if (value.name === \"CopilotKitLangGraphInterruptEvent\") {\n        return CopilotKitLangGraphInterruptEvent;\n      }\n      return void 0;\n    }\n  }),\n  (0, import_type_graphql16.InterfaceType)()\n], BaseMetaEvent);\nvar CopilotKitLangGraphInterruptEventData = class {\n  value;\n  messages;\n};\n__name(CopilotKitLangGraphInterruptEventData, \"CopilotKitLangGraphInterruptEventData\");\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => String),\n  _ts_metadata15(\"design:type\", String)\n], CopilotKitLangGraphInterruptEventData.prototype, \"value\", void 0);\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => [\n    BaseMessageOutput\n  ]),\n  _ts_metadata15(\"design:type\", Array)\n], CopilotKitLangGraphInterruptEventData.prototype, \"messages\", void 0);\nCopilotKitLangGraphInterruptEventData = _ts_decorate15([\n  (0, import_type_graphql16.ObjectType)()\n], CopilotKitLangGraphInterruptEventData);\nvar LangGraphInterruptEvent = class {\n  name = \"LangGraphInterruptEvent\";\n  value;\n  response;\n};\n__name(LangGraphInterruptEvent, \"LangGraphInterruptEvent\");\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => MetaEventName),\n  _ts_metadata15(\"design:type\", typeof MetaEventName === \"undefined\" || false ? Object : \"LangGraphInterruptEvent\")\n], LangGraphInterruptEvent.prototype, \"name\", void 0);\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => String),\n  _ts_metadata15(\"design:type\", String)\n], LangGraphInterruptEvent.prototype, \"value\", void 0);\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata15(\"design:type\", String)\n], LangGraphInterruptEvent.prototype, \"response\", void 0);\nLangGraphInterruptEvent = _ts_decorate15([\n  (0, import_type_graphql16.ObjectType)({\n    implements: BaseMetaEvent\n  })\n], LangGraphInterruptEvent);\nvar CopilotKitLangGraphInterruptEvent = class {\n  name = \"CopilotKitLangGraphInterruptEvent\";\n  data;\n  response;\n};\n__name(CopilotKitLangGraphInterruptEvent, \"CopilotKitLangGraphInterruptEvent\");\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => MetaEventName),\n  _ts_metadata15(\"design:type\", typeof MetaEventName === \"undefined\" || false ? Object : \"CopilotKitLangGraphInterruptEvent\")\n], CopilotKitLangGraphInterruptEvent.prototype, \"name\", void 0);\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => CopilotKitLangGraphInterruptEventData),\n  _ts_metadata15(\"design:type\", typeof CopilotKitLangGraphInterruptEventData === \"undefined\" ? Object : CopilotKitLangGraphInterruptEventData)\n], CopilotKitLangGraphInterruptEvent.prototype, \"data\", void 0);\n_ts_decorate15([\n  (0, import_type_graphql16.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata15(\"design:type\", String)\n], CopilotKitLangGraphInterruptEvent.prototype, \"response\", void 0);\nCopilotKitLangGraphInterruptEvent = _ts_decorate15([\n  (0, import_type_graphql16.ObjectType)({\n    implements: BaseMetaEvent\n  })\n], CopilotKitLangGraphInterruptEvent);\n\n// src/graphql/inputs/meta-event.input.ts\nfunction _ts_decorate16(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate16, \"_ts_decorate\");\nfunction _ts_metadata16(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata16, \"_ts_metadata\");\nvar MetaEventInput = class {\n  name;\n  value;\n  response;\n  messages;\n};\n__name(MetaEventInput, \"MetaEventInput\");\n_ts_decorate16([\n  (0, import_type_graphql17.Field)(() => MetaEventName),\n  _ts_metadata16(\"design:type\", typeof MetaEventName === \"undefined\" ? Object : MetaEventName)\n], MetaEventInput.prototype, \"name\", void 0);\n_ts_decorate16([\n  (0, import_type_graphql17.Field)(() => String),\n  _ts_metadata16(\"design:type\", String)\n], MetaEventInput.prototype, \"value\", void 0);\n_ts_decorate16([\n  (0, import_type_graphql17.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata16(\"design:type\", String)\n], MetaEventInput.prototype, \"response\", void 0);\n_ts_decorate16([\n  (0, import_type_graphql17.Field)(() => [\n    MessageInput\n  ], {\n    nullable: true\n  }),\n  _ts_metadata16(\"design:type\", Array)\n], MetaEventInput.prototype, \"messages\", void 0);\nMetaEventInput = _ts_decorate16([\n  (0, import_type_graphql17.InputType)()\n], MetaEventInput);\n\n// src/graphql/inputs/generate-copilot-response.input.ts\nfunction _ts_decorate17(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate17, \"_ts_decorate\");\nfunction _ts_metadata17(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata17, \"_ts_metadata\");\nvar GenerateCopilotResponseMetadataInput = class {\n  requestType;\n};\n__name(GenerateCopilotResponseMetadataInput, \"GenerateCopilotResponseMetadataInput\");\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => CopilotRequestType, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", typeof CopilotRequestType === \"undefined\" ? Object : CopilotRequestType)\n], GenerateCopilotResponseMetadataInput.prototype, \"requestType\", void 0);\nGenerateCopilotResponseMetadataInput = _ts_decorate17([\n  (0, import_type_graphql18.InputType)()\n], GenerateCopilotResponseMetadataInput);\nvar GenerateCopilotResponseInput = class {\n  metadata;\n  threadId;\n  runId;\n  messages;\n  frontend;\n  cloud;\n  forwardedParameters;\n  agentSession;\n  agentState;\n  agentStates;\n  extensions;\n  metaEvents;\n};\n__name(GenerateCopilotResponseInput, \"GenerateCopilotResponseInput\");\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => GenerateCopilotResponseMetadataInput, {\n    nullable: false\n  }),\n  _ts_metadata17(\"design:type\", typeof GenerateCopilotResponseMetadataInput === \"undefined\" ? Object : GenerateCopilotResponseMetadataInput)\n], GenerateCopilotResponseInput.prototype, \"metadata\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", String)\n], GenerateCopilotResponseInput.prototype, \"threadId\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => String, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", String)\n], GenerateCopilotResponseInput.prototype, \"runId\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => [\n    MessageInput\n  ]),\n  _ts_metadata17(\"design:type\", Array)\n], GenerateCopilotResponseInput.prototype, \"messages\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => FrontendInput),\n  _ts_metadata17(\"design:type\", typeof FrontendInput === \"undefined\" ? Object : FrontendInput)\n], GenerateCopilotResponseInput.prototype, \"frontend\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => CloudInput, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", typeof CloudInput === \"undefined\" ? Object : CloudInput)\n], GenerateCopilotResponseInput.prototype, \"cloud\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => ForwardedParametersInput, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", typeof ForwardedParametersInput === \"undefined\" ? Object : ForwardedParametersInput)\n], GenerateCopilotResponseInput.prototype, \"forwardedParameters\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => AgentSessionInput, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", typeof AgentSessionInput === \"undefined\" ? Object : AgentSessionInput)\n], GenerateCopilotResponseInput.prototype, \"agentSession\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => AgentStateInput, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", typeof AgentStateInput === \"undefined\" ? Object : AgentStateInput)\n], GenerateCopilotResponseInput.prototype, \"agentState\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => [\n    AgentStateInput\n  ], {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", Array)\n], GenerateCopilotResponseInput.prototype, \"agentStates\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => ExtensionsInput, {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", typeof ExtensionsInput === \"undefined\" ? Object : ExtensionsInput)\n], GenerateCopilotResponseInput.prototype, \"extensions\", void 0);\n_ts_decorate17([\n  (0, import_type_graphql18.Field)(() => [\n    MetaEventInput\n  ], {\n    nullable: true\n  }),\n  _ts_metadata17(\"design:type\", Array)\n], GenerateCopilotResponseInput.prototype, \"metaEvents\", void 0);\nGenerateCopilotResponseInput = _ts_decorate17([\n  (0, import_type_graphql18.InputType)()\n], GenerateCopilotResponseInput);\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_graphql_yoga = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\n\n// src/service-adapters/events.ts\nvar import_shared27 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_class_transformer2 = __webpack_require__(/*! class-transformer */ \"(rsc)/./node_modules/class-transformer/esm5/index.js\");\nvar import_rxjs4 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\n\n// src/graphql/types/converted/index.ts\nvar Message = class extends BaseMessageInput {\n  type;\n  isTextMessage() {\n    return this.type === \"TextMessage\";\n  }\n  isActionExecutionMessage() {\n    return this.type === \"ActionExecutionMessage\";\n  }\n  isResultMessage() {\n    return this.type === \"ResultMessage\";\n  }\n  isAgentStateMessage() {\n    return this.type === \"AgentStateMessage\";\n  }\n  isImageMessage() {\n    return this.type === \"ImageMessage\";\n  }\n};\n__name(Message, \"Message\");\nvar TextMessage = class extends Message {\n  type = \"TextMessage\";\n  content;\n  role;\n  parentMessageId;\n};\n__name(TextMessage, \"TextMessage\");\nvar ActionExecutionMessage = class extends Message {\n  type = \"ActionExecutionMessage\";\n  name;\n  arguments;\n  parentMessageId;\n};\n__name(ActionExecutionMessage, \"ActionExecutionMessage\");\nvar ResultMessage = class extends Message {\n  type = \"ResultMessage\";\n  actionExecutionId;\n  actionName;\n  result;\n  static encodeResult(result, error) {\n    const errorObj = error ? typeof error === \"string\" ? {\n      code: \"ERROR\",\n      message: error\n    } : error instanceof Error ? {\n      code: \"ERROR\",\n      message: error.message\n    } : error : void 0;\n    if (errorObj) {\n      return JSON.stringify({\n        error: errorObj,\n        result: result || \"\"\n      });\n    }\n    if (result === void 0) {\n      return \"\";\n    }\n    return typeof result === \"string\" ? result : JSON.stringify(result);\n  }\n  static decodeResult(result) {\n    if (!result) {\n      return {\n        result: \"\"\n      };\n    }\n    try {\n      const parsed = JSON.parse(result);\n      if (parsed && typeof parsed === \"object\") {\n        if (\"error\" in parsed) {\n          return {\n            error: parsed.error,\n            result: parsed.result || \"\"\n          };\n        }\n        return {\n          result: JSON.stringify(parsed)\n        };\n      }\n      return {\n        result\n      };\n    } catch (e) {\n      return {\n        result\n      };\n    }\n  }\n  hasError() {\n    try {\n      const { error } = ResultMessage.decodeResult(this.result);\n      return !!error;\n    } catch {\n      return false;\n    }\n  }\n  getError() {\n    try {\n      const { error } = ResultMessage.decodeResult(this.result);\n      return error;\n    } catch {\n      return void 0;\n    }\n  }\n};\n__name(ResultMessage, \"ResultMessage\");\nvar AgentStateMessage = class extends Message {\n  type = \"AgentStateMessage\";\n  threadId;\n  agentName;\n  nodeName;\n  runId;\n  active;\n  role;\n  state;\n  running;\n};\n__name(AgentStateMessage, \"AgentStateMessage\");\nvar ImageMessage = class extends Message {\n  type = \"ImageMessage\";\n  format;\n  bytes;\n  role;\n  parentMessageId;\n};\n__name(ImageMessage, \"ImageMessage\");\n\n// src/lib/runtime/remote-actions.ts\nvar import_shared25 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/lib/runtime/remote-action-constructors.ts\nvar import_node_crypto3 = __webpack_require__(/*! crypto */ \"crypto\");\n\n// src/lib/telemetry-client.ts\nvar import_shared19 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_node_crypto2 = __webpack_require__(/*! crypto */ \"crypto\");\n\n// src/lib/runtime/copilot-runtime.ts\nvar import_shared18 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/service-adapters/langchain/langserve.ts\nvar import_remote = __webpack_require__(/*! langchain/runnables/remote */ \"(rsc)/./node_modules/langchain/runnables/remote.cjs\");\nvar RemoteChain = class {\n  name;\n  description;\n  chainUrl;\n  parameters;\n  parameterType;\n  constructor(options) {\n    this.name = options.name;\n    this.description = options.description;\n    this.chainUrl = options.chainUrl;\n    this.parameters = options.parameters;\n    this.parameterType = options.parameterType || \"multi\";\n  }\n  async toAction() {\n    if (!this.parameters) {\n      await this.inferLangServeParameters();\n    }\n    return {\n      name: this.name,\n      description: this.description,\n      parameters: this.parameters,\n      handler: async (args) => {\n        const runnable = new import_remote.RemoteRunnable({\n          url: this.chainUrl\n        });\n        let input;\n        if (this.parameterType === \"single\") {\n          input = args[Object.keys(args)[0]];\n        } else {\n          input = args;\n        }\n        return await runnable.invoke(input);\n      }\n    };\n  }\n  async inferLangServeParameters() {\n    const supportedTypes = [\n      \"string\",\n      \"number\",\n      \"boolean\"\n    ];\n    let schemaUrl = this.chainUrl.replace(/\\/+$/, \"\") + \"/input_schema\";\n    let schema = await fetch(schemaUrl).then((res) => res.json()).catch(() => {\n      throw new Error(\"Failed to fetch langserve schema at \" + schemaUrl);\n    });\n    if (supportedTypes.includes(schema.type)) {\n      this.parameterType = \"single\";\n      this.parameters = [\n        {\n          name: \"input\",\n          type: schema.type,\n          description: \"The input to the chain\"\n        }\n      ];\n    } else if (schema.type === \"object\") {\n      this.parameterType = \"multi\";\n      this.parameters = Object.keys(schema.properties).map((key) => {\n        var _a;\n        let property = schema.properties[key];\n        if (!supportedTypes.includes(property.type)) {\n          throw new Error(\"Unsupported schema type\");\n        }\n        return {\n          name: key,\n          type: property.type,\n          description: property.description || \"\",\n          required: ((_a = schema.required) == null ? void 0 : _a.includes(key)) || false\n        };\n      });\n    } else {\n      throw new Error(\"Unsupported schema type\");\n    }\n  }\n};\n__name(RemoteChain, \"RemoteChain\");\n\n// src/service-adapters/anthropic/anthropic-adapter.ts\nvar import_sdk = __toESM(__webpack_require__(/*! @anthropic-ai/sdk */ \"(rsc)/./node_modules/@anthropic-ai/sdk/index.js\"));\n\n// src/service-adapters/anthropic/utils.ts\nfunction limitMessagesToTokenCount2(messages, tools, model, maxTokens) {\n  maxTokens || (maxTokens = MAX_TOKENS);\n  const result = [];\n  const toolsNumTokens = countToolsTokens2(model, tools);\n  if (toolsNumTokens > maxTokens) {\n    throw new Error(`Too many tokens in function definitions: ${toolsNumTokens} > ${maxTokens}`);\n  }\n  maxTokens -= toolsNumTokens;\n  for (const message of messages) {\n    if (message.role === \"system\") {\n      const numTokens = countMessageTokens2(model, message);\n      maxTokens -= numTokens;\n      if (maxTokens < 0) {\n        throw new Error(\"Not enough tokens for system message.\");\n      }\n    }\n  }\n  let cutoff = false;\n  const reversedMessages = [\n    ...messages\n  ].reverse();\n  for (const message of reversedMessages) {\n    if (message.role === \"system\") {\n      result.unshift(message);\n      continue;\n    } else if (cutoff) {\n      continue;\n    }\n    let numTokens = countMessageTokens2(model, message);\n    if (maxTokens < numTokens) {\n      cutoff = true;\n      continue;\n    }\n    result.unshift(message);\n    maxTokens -= numTokens;\n  }\n  return result;\n}\n__name(limitMessagesToTokenCount2, \"limitMessagesToTokenCount\");\nvar MAX_TOKENS = 128e3;\nfunction countToolsTokens2(model, tools) {\n  if (tools.length === 0) {\n    return 0;\n  }\n  const json = JSON.stringify(tools);\n  return countTokens2(model, json);\n}\n__name(countToolsTokens2, \"countToolsTokens\");\nfunction countMessageTokens2(model, message) {\n  return countTokens2(model, JSON.stringify(message.content) || \"\");\n}\n__name(countMessageTokens2, \"countMessageTokens\");\nfunction countTokens2(model, text) {\n  return text.length / 3;\n}\n__name(countTokens2, \"countTokens\");\nfunction convertActionInputToAnthropicTool(action) {\n  return {\n    name: action.name,\n    description: action.description,\n    input_schema: JSON.parse(action.jsonSchema)\n  };\n}\n__name(convertActionInputToAnthropicTool, \"convertActionInputToAnthropicTool\");\nfunction convertMessageToAnthropicMessage(message) {\n  if (message.isTextMessage()) {\n    if (message.role === \"system\") {\n      return {\n        role: \"assistant\",\n        content: [\n          {\n            type: \"text\",\n            text: \"THE FOLLOWING MESSAGE IS A SYSTEM MESSAGE: \" + message.content\n          }\n        ]\n      };\n    } else {\n      return {\n        role: message.role === \"user\" ? \"user\" : \"assistant\",\n        content: [\n          {\n            type: \"text\",\n            text: message.content\n          }\n        ]\n      };\n    }\n  } else if (message.isImageMessage()) {\n    let mediaType;\n    switch (message.format) {\n      case \"jpeg\":\n        mediaType = \"image/jpeg\";\n        break;\n      case \"png\":\n        mediaType = \"image/png\";\n        break;\n      case \"webp\":\n        mediaType = \"image/webp\";\n        break;\n      case \"gif\":\n        mediaType = \"image/gif\";\n        break;\n      default:\n        throw new Error(`Unsupported image format: ${message.format}`);\n    }\n    return {\n      role: \"user\",\n      content: [\n        {\n          type: \"image\",\n          source: {\n            type: \"base64\",\n            media_type: mediaType,\n            data: message.bytes\n          }\n        }\n      ]\n    };\n  } else if (message.isActionExecutionMessage()) {\n    return {\n      role: \"assistant\",\n      content: [\n        {\n          id: message.id,\n          type: \"tool_use\",\n          input: message.arguments,\n          name: message.name\n        }\n      ]\n    };\n  } else if (message.isResultMessage()) {\n    return {\n      role: \"user\",\n      content: [\n        {\n          type: \"tool_result\",\n          content: message.result || \"Action completed successfully\",\n          tool_use_id: message.actionExecutionId\n        }\n      ]\n    };\n  }\n}\n__name(convertMessageToAnthropicMessage, \"convertMessageToAnthropicMessage\");\n\n// src/service-adapters/anthropic/anthropic-adapter.ts\nvar import_shared10 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar DEFAULT_MODEL3 = \"claude-3-5-sonnet-latest\";\nvar AnthropicAdapter = class {\n  model = DEFAULT_MODEL3;\n  promptCaching;\n  _anthropic;\n  get anthropic() {\n    return this._anthropic;\n  }\n  constructor(params) {\n    this._anthropic = (params == null ? void 0 : params.anthropic) || new import_sdk.default({});\n    if (params == null ? void 0 : params.model) {\n      this.model = params.model;\n    }\n    this.promptCaching = (params == null ? void 0 : params.promptCaching) || {\n      enabled: false\n    };\n  }\n  /**\n  * Adds cache control to system prompt\n  */\n  addSystemPromptCaching(system, debug = false) {\n    if (!this.promptCaching.enabled || !system) {\n      return system;\n    }\n    const originalTextLength = system.length;\n    if (debug) {\n      console.log(`[ANTHROPIC CACHE DEBUG] Added cache control to system prompt (${originalTextLength} chars).`);\n    }\n    return [\n      {\n        type: \"text\",\n        text: system,\n        cache_control: {\n          type: \"ephemeral\"\n        }\n      }\n    ];\n  }\n  /**\n  * Adds cache control to the final message\n  */\n  addIncrementalMessageCaching(messages, debug = false) {\n    if (!this.promptCaching.enabled || messages.length === 0) {\n      return messages;\n    }\n    const finalMessage = messages[messages.length - 1];\n    const messageNumber = messages.length;\n    if (Array.isArray(finalMessage.content) && finalMessage.content.length > 0) {\n      const finalBlock = finalMessage.content[finalMessage.content.length - 1];\n      const updatedMessages = [\n        ...messages.slice(0, -1),\n        {\n          ...finalMessage,\n          content: [\n            ...finalMessage.content.slice(0, -1),\n            {\n              ...finalBlock,\n              cache_control: {\n                type: \"ephemeral\"\n              }\n            }\n          ]\n        }\n      ];\n      if (debug) {\n        console.log(`[ANTHROPIC CACHE DEBUG] Added cache control to final message (message ${messageNumber}).`);\n      }\n      return updatedMessages;\n    }\n    return messages;\n  }\n  shouldGenerateFallbackResponse(messages) {\n    var _a, _b, _c;\n    if (messages.length === 0)\n      return false;\n    const lastMessage = messages[messages.length - 1];\n    const endsWithToolResult = lastMessage.role === \"user\" && Array.isArray(lastMessage.content) && lastMessage.content.some((content) => content.type === \"tool_result\");\n    if (messages.length >= 3 && endsWithToolResult) {\n      const lastThree = messages.slice(-3);\n      const hasRecentToolPattern = ((_a = lastThree[0]) == null ? void 0 : _a.role) === \"user\" && // Initial user message\n      ((_b = lastThree[1]) == null ? void 0 : _b.role) === \"assistant\" && // Assistant tool use\n      Array.isArray(lastThree[1].content) && lastThree[1].content.some((content) => content.type === \"tool_use\") && ((_c = lastThree[2]) == null ? void 0 : _c.role) === \"user\" && // Tool result\n      Array.isArray(lastThree[2].content) && lastThree[2].content.some((content) => content.type === \"tool_result\");\n      return hasRecentToolPattern;\n    }\n    return endsWithToolResult;\n  }\n  async process(request) {\n    const { threadId, model = this.model, messages: rawMessages, actions, eventSource, forwardedParameters } = request;\n    const tools = actions.map(convertActionInputToAnthropicTool);\n    const messages = [\n      ...rawMessages\n    ];\n    const instructionsMessage = messages.shift();\n    const instructions = instructionsMessage.isTextMessage() ? instructionsMessage.content : \"\";\n    const validToolUseIds = /* @__PURE__ */ new Set();\n    for (const message of messages) {\n      if (message.isActionExecutionMessage()) {\n        validToolUseIds.add(message.id);\n      }\n    }\n    const processedToolResultIds = /* @__PURE__ */ new Set();\n    const anthropicMessages = messages.map((message) => {\n      if (message.isResultMessage()) {\n        if (!validToolUseIds.has(message.actionExecutionId)) {\n          return null;\n        }\n        if (processedToolResultIds.has(message.actionExecutionId)) {\n          return null;\n        }\n        processedToolResultIds.add(message.actionExecutionId);\n        return {\n          role: \"user\",\n          content: [\n            {\n              type: \"tool_result\",\n              content: message.result || \"Action completed successfully\",\n              tool_use_id: message.actionExecutionId\n            }\n          ]\n        };\n      }\n      return convertMessageToAnthropicMessage(message);\n    }).filter(Boolean).filter((msg) => {\n      if (msg.role === \"assistant\" && Array.isArray(msg.content)) {\n        const hasEmptyTextOnly = msg.content.length === 1 && msg.content[0].type === \"text\" && (!msg.content[0].text || msg.content[0].text.trim() === \"\");\n        return !hasEmptyTextOnly;\n      }\n      return true;\n    });\n    const limitedMessages = limitMessagesToTokenCount2(anthropicMessages, tools, model);\n    const cachedSystemPrompt = this.addSystemPromptCaching(instructions, this.promptCaching.debug);\n    const cachedMessages = this.addIncrementalMessageCaching(limitedMessages, this.promptCaching.debug);\n    let toolChoice = forwardedParameters == null ? void 0 : forwardedParameters.toolChoice;\n    if ((forwardedParameters == null ? void 0 : forwardedParameters.toolChoice) === \"function\") {\n      toolChoice = {\n        type: \"tool\",\n        name: forwardedParameters.toolChoiceFunctionName\n      };\n    }\n    try {\n      const createParams = {\n        system: cachedSystemPrompt,\n        model: this.model,\n        messages: cachedMessages,\n        max_tokens: (forwardedParameters == null ? void 0 : forwardedParameters.maxTokens) || 1024,\n        ...(forwardedParameters == null ? void 0 : forwardedParameters.temperature) ? {\n          temperature: forwardedParameters.temperature\n        } : {},\n        ...tools.length > 0 && {\n          tools\n        },\n        ...toolChoice && {\n          tool_choice: toolChoice\n        },\n        stream: true\n      };\n      const stream = await this.anthropic.messages.create(createParams);\n      eventSource.stream(async (eventStream$) => {\n        let mode = null;\n        let didOutputText = false;\n        let currentMessageId = (0, import_shared10.randomId)();\n        let currentToolCallId = (0, import_shared10.randomId)();\n        let filterThinkingTextBuffer = new FilterThinkingTextBuffer();\n        let hasReceivedContent = false;\n        try {\n          for await (const chunk of stream) {\n            if (chunk.type === \"message_start\") {\n              currentMessageId = chunk.message.id;\n            } else if (chunk.type === \"content_block_start\") {\n              hasReceivedContent = true;\n              if (chunk.content_block.type === \"text\") {\n                didOutputText = false;\n                filterThinkingTextBuffer.reset();\n                mode = \"message\";\n              } else if (chunk.content_block.type === \"tool_use\") {\n                currentToolCallId = chunk.content_block.id;\n                eventStream$.sendActionExecutionStart({\n                  actionExecutionId: currentToolCallId,\n                  actionName: chunk.content_block.name,\n                  parentMessageId: currentMessageId\n                });\n                mode = \"function\";\n              }\n            } else if (chunk.type === \"content_block_delta\") {\n              if (chunk.delta.type === \"text_delta\") {\n                const text = filterThinkingTextBuffer.onTextChunk(chunk.delta.text);\n                if (text.length > 0) {\n                  if (!didOutputText) {\n                    eventStream$.sendTextMessageStart({\n                      messageId: currentMessageId\n                    });\n                    didOutputText = true;\n                  }\n                  eventStream$.sendTextMessageContent({\n                    messageId: currentMessageId,\n                    content: text\n                  });\n                }\n              } else if (chunk.delta.type === \"input_json_delta\") {\n                eventStream$.sendActionExecutionArgs({\n                  actionExecutionId: currentToolCallId,\n                  args: chunk.delta.partial_json\n                });\n              }\n            } else if (chunk.type === \"content_block_stop\") {\n              if (mode === \"message\") {\n                if (didOutputText) {\n                  eventStream$.sendTextMessageEnd({\n                    messageId: currentMessageId\n                  });\n                }\n              } else if (mode === \"function\") {\n                eventStream$.sendActionExecutionEnd({\n                  actionExecutionId: currentToolCallId\n                });\n              }\n            }\n          }\n        } catch (error) {\n          throw convertServiceAdapterError(error, \"Anthropic\");\n        }\n        if (!hasReceivedContent && this.shouldGenerateFallbackResponse(cachedMessages)) {\n          let fallbackContent = \"Task completed successfully.\";\n          const lastMessage = cachedMessages[cachedMessages.length - 1];\n          if ((lastMessage == null ? void 0 : lastMessage.role) === \"user\" && Array.isArray(lastMessage.content)) {\n            const toolResult = lastMessage.content.find((c) => c.type === \"tool_result\");\n            if ((toolResult == null ? void 0 : toolResult.content) && toolResult.content !== \"Action completed successfully\") {\n              fallbackContent = toolResult.content;\n            }\n          }\n          currentMessageId = (0, import_shared10.randomId)();\n          eventStream$.sendTextMessageStart({\n            messageId: currentMessageId\n          });\n          eventStream$.sendTextMessageContent({\n            messageId: currentMessageId,\n            content: fallbackContent\n          });\n          eventStream$.sendTextMessageEnd({\n            messageId: currentMessageId\n          });\n        }\n        eventStream$.complete();\n      });\n    } catch (error) {\n      throw convertServiceAdapterError(error, \"Anthropic\");\n    }\n    return {\n      threadId: threadId || (0, import_shared10.randomUUID)()\n    };\n  }\n};\n__name(AnthropicAdapter, \"AnthropicAdapter\");\nvar THINKING_TAG = \"<thinking>\";\nvar THINKING_TAG_END = \"</thinking>\";\nvar FilterThinkingTextBuffer = /* @__PURE__ */ __name(class FilterThinkingTextBuffer2 {\n  buffer;\n  didFilterThinkingTag = false;\n  constructor() {\n    this.buffer = \"\";\n  }\n  onTextChunk(text) {\n    this.buffer += text;\n    if (this.didFilterThinkingTag) {\n      return text;\n    }\n    const potentialTag = this.buffer.slice(0, THINKING_TAG.length);\n    if (THINKING_TAG.startsWith(potentialTag)) {\n      if (this.buffer.includes(THINKING_TAG_END)) {\n        const end = this.buffer.indexOf(THINKING_TAG_END);\n        const filteredText = this.buffer.slice(end + THINKING_TAG_END.length);\n        this.buffer = filteredText;\n        this.didFilterThinkingTag = true;\n        return filteredText;\n      } else {\n        return \"\";\n      }\n    }\n    return text;\n  }\n  reset() {\n    this.buffer = \"\";\n    this.didFilterThinkingTag = false;\n  }\n}, \"FilterThinkingTextBuffer\");\n\n// src/service-adapters/experimental/ollama/ollama-adapter.ts\nvar import_ollama = __webpack_require__(/*! @langchain/community/llms/ollama */ \"(rsc)/./node_modules/@langchain/community/llms/ollama.cjs\");\nvar import_shared12 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar DEFAULT_MODEL4 = \"llama3:latest\";\nvar ExperimentalOllamaAdapter = class {\n  model;\n  constructor(options) {\n    if (options == null ? void 0 : options.model) {\n      this.model = options.model;\n    } else {\n      this.model = DEFAULT_MODEL4;\n    }\n  }\n  async process(request) {\n    const { messages, actions, eventSource } = request;\n    const ollama = new import_ollama.Ollama({\n      model: this.model\n    });\n    const contents = messages.filter((m) => m.isTextMessage()).map((m) => m.content);\n    const _stream = await ollama.stream(contents);\n    eventSource.stream(async (eventStream$) => {\n      const currentMessageId = (0, import_shared12.randomId)();\n      eventStream$.sendTextMessageStart({\n        messageId: currentMessageId\n      });\n      for await (const chunkText of _stream) {\n        eventStream$.sendTextMessageContent({\n          messageId: currentMessageId,\n          content: chunkText\n        });\n      }\n      eventStream$.sendTextMessageEnd({\n        messageId: currentMessageId\n      });\n      eventStream$.complete();\n    });\n    return {\n      threadId: request.threadId || (0, import_shared12.randomUUID)()\n    };\n  }\n};\n__name(ExperimentalOllamaAdapter, \"ExperimentalOllamaAdapter\");\n\n// src/service-adapters/bedrock/bedrock-adapter.ts\nvar import_aws = __webpack_require__(/*! @langchain/aws */ \"(rsc)/./node_modules/@langchain/aws/index.cjs\");\nvar BedrockAdapter = class extends LangChainAdapter {\n  constructor(options) {\n    super({\n      chainFn: async ({ messages, tools, threadId }) => {\n        const model = new import_aws.ChatBedrockConverse({\n          model: (options == null ? void 0 : options.model) ?? \"amazon.nova-lite-v1:0\",\n          region: (options == null ? void 0 : options.region) ?? \"us-east-1\",\n          credentials: (options == null ? void 0 : options.credentials) ? {\n            accessKeyId: options.credentials.accessKeyId,\n            secretAccessKey: options.credentials.secretAccessKey\n          } : void 0\n        }).bindTools(tools);\n        return model.stream(messages);\n      }\n    });\n  }\n};\n__name(BedrockAdapter, \"BedrockAdapter\");\n\n// src/service-adapters/empty/empty-adapter.ts\nvar import_shared13 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar EmptyAdapter = class {\n  async process(request) {\n    return {\n      threadId: request.threadId || (0, import_shared13.randomUUID)()\n    };\n  }\n};\n__name(EmptyAdapter, \"EmptyAdapter\");\nvar ExperimentalEmptyAdapter = EmptyAdapter;\n\n// src/service-adapters/conversion.ts\nvar import_class_transformer = __webpack_require__(/*! class-transformer */ \"(rsc)/./node_modules/class-transformer/esm5/index.js\");\nvar import_shared14 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction convertGqlInputToMessages(inputMessages) {\n  const messages = (0, import_shared14.tryMap)(inputMessages, (message) => {\n    if (message.textMessage) {\n      return (0, import_class_transformer.plainToInstance)(TextMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        role: message.textMessage.role,\n        content: message.textMessage.content,\n        parentMessageId: message.textMessage.parentMessageId\n      });\n    } else if (message.imageMessage) {\n      return (0, import_class_transformer.plainToInstance)(ImageMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        role: message.imageMessage.role,\n        bytes: message.imageMessage.bytes,\n        format: message.imageMessage.format,\n        parentMessageId: message.imageMessage.parentMessageId\n      });\n    } else if (message.actionExecutionMessage) {\n      return (0, import_class_transformer.plainToInstance)(ActionExecutionMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        name: message.actionExecutionMessage.name,\n        arguments: JSON.parse(message.actionExecutionMessage.arguments),\n        parentMessageId: message.actionExecutionMessage.parentMessageId\n      });\n    } else if (message.resultMessage) {\n      return (0, import_class_transformer.plainToInstance)(ResultMessage, {\n        id: message.id,\n        createdAt: message.createdAt,\n        actionExecutionId: message.resultMessage.actionExecutionId,\n        actionName: message.resultMessage.actionName,\n        result: message.resultMessage.result\n      });\n    } else if (message.agentStateMessage) {\n      return (0, import_class_transformer.plainToInstance)(AgentStateMessage, {\n        id: message.id,\n        threadId: message.agentStateMessage.threadId,\n        createdAt: message.createdAt,\n        agentName: message.agentStateMessage.agentName,\n        nodeName: message.agentStateMessage.nodeName,\n        runId: message.agentStateMessage.runId,\n        active: message.agentStateMessage.active,\n        role: message.agentStateMessage.role,\n        state: JSON.parse(message.agentStateMessage.state),\n        running: message.agentStateMessage.running\n      });\n    } else {\n      return null;\n    }\n  });\n  return messages.filter((m) => m);\n}\n__name(convertGqlInputToMessages, \"convertGqlInputToMessages\");\n\n// src/lib/runtime/copilot-runtime.ts\nvar import_rxjs = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\n\n// src/lib/runtime/retry-utils.ts\nvar RETRY_CONFIG = {\n  maxRetries: 3,\n  baseDelayMs: 1e3,\n  maxDelayMs: 5e3,\n  // HTTP status codes that should be retried\n  retryableStatusCodes: [\n    502,\n    503,\n    504,\n    408,\n    429\n  ],\n  // Network error patterns that should be retried\n  retryableErrorMessages: [\n    \"fetch failed\",\n    \"network error\",\n    \"connection timeout\",\n    \"ECONNREFUSED\",\n    \"ETIMEDOUT\",\n    \"ENOTFOUND\",\n    \"ECONNRESET\"\n  ]\n};\nfunction isRetryableError(error, response) {\n  var _a, _b;\n  if (response && RETRY_CONFIG.retryableStatusCodes.includes(response.status)) {\n    return true;\n  }\n  const errorCode = ((_a = error == null ? void 0 : error.cause) == null ? void 0 : _a.code) || (error == null ? void 0 : error.code);\n  if (errorCode && RETRY_CONFIG.retryableErrorMessages.includes(errorCode)) {\n    return true;\n  }\n  const errorMessage = ((_b = error == null ? void 0 : error.message) == null ? void 0 : _b.toLowerCase()) || \"\";\n  return RETRY_CONFIG.retryableErrorMessages.some((msg) => errorMessage.includes(msg));\n}\n__name(isRetryableError, \"isRetryableError\");\nfunction sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n__name(sleep, \"sleep\");\nfunction calculateDelay(attempt) {\n  const delay = RETRY_CONFIG.baseDelayMs * Math.pow(2, attempt);\n  return Math.min(delay, RETRY_CONFIG.maxDelayMs);\n}\n__name(calculateDelay, \"calculateDelay\");\nasync function fetchWithRetry(url, options, logger2) {\n  let lastError;\n  for (let attempt = 0; attempt <= RETRY_CONFIG.maxRetries; attempt++) {\n    try {\n      const response = await fetch(url, options);\n      if (isRetryableError(null, response) && attempt < RETRY_CONFIG.maxRetries) {\n        const delay = calculateDelay(attempt);\n        logger2 == null ? void 0 : logger2.warn(`Request to ${url} failed with status ${response.status}. Retrying attempt ${attempt + 1}/${RETRY_CONFIG.maxRetries + 1} in ${delay}ms.`);\n        await sleep(delay);\n        continue;\n      }\n      return response;\n    } catch (error) {\n      lastError = error;\n      if (isRetryableError(error) && attempt < RETRY_CONFIG.maxRetries) {\n        const delay = calculateDelay(attempt);\n        logger2 == null ? void 0 : logger2.warn(`Request to ${url} failed with network error. Retrying attempt ${attempt + 1}/${RETRY_CONFIG.maxRetries + 1} in ${delay}ms. Error: ${(error == null ? void 0 : error.message) || String(error)}`);\n        await sleep(delay);\n        continue;\n      }\n      break;\n    }\n  }\n  throw lastError;\n}\n__name(fetchWithRetry, \"fetchWithRetry\");\n\n// src/lib/runtime/copilot-runtime.ts\nvar import_langgraph_sdk2 = __webpack_require__(/*! @langchain/langgraph-sdk */ \"(rsc)/./node_modules/@langchain/langgraph-sdk/index.cjs\");\n\n// src/lib/runtime/remote-lg-action.ts\nvar import_langgraph_sdk = __webpack_require__(/*! @langchain/langgraph-sdk */ \"(rsc)/./node_modules/@langchain/langgraph-sdk/index.cjs\");\nvar import_node_crypto = __webpack_require__(/*! crypto */ \"crypto\");\nvar import_shared16 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_partial_json = __webpack_require__(/*! partial-json */ \"(rsc)/./node_modules/partial-json/dist/index.js\");\n\n// src/agents/langgraph/events.ts\nvar LangGraphEventTypes;\n(function(LangGraphEventTypes2) {\n  LangGraphEventTypes2[\"OnChainStart\"] = \"on_chain_start\";\n  LangGraphEventTypes2[\"OnChainStream\"] = \"on_chain_stream\";\n  LangGraphEventTypes2[\"OnChainEnd\"] = \"on_chain_end\";\n  LangGraphEventTypes2[\"OnChatModelStart\"] = \"on_chat_model_start\";\n  LangGraphEventTypes2[\"OnChatModelStream\"] = \"on_chat_model_stream\";\n  LangGraphEventTypes2[\"OnChatModelEnd\"] = \"on_chat_model_end\";\n  LangGraphEventTypes2[\"OnToolStart\"] = \"on_tool_start\";\n  LangGraphEventTypes2[\"OnToolEnd\"] = \"on_tool_end\";\n  LangGraphEventTypes2[\"OnCopilotKitStateSync\"] = \"on_copilotkit_state_sync\";\n  LangGraphEventTypes2[\"OnCopilotKitEmitMessage\"] = \"on_copilotkit_emit_message\";\n  LangGraphEventTypes2[\"OnCopilotKitEmitToolCall\"] = \"on_copilotkit_emit_tool_call\";\n  LangGraphEventTypes2[\"OnCustomEvent\"] = \"on_custom_event\";\n  LangGraphEventTypes2[\"OnInterrupt\"] = \"on_interrupt\";\n  LangGraphEventTypes2[\"OnCopilotKitInterrupt\"] = \"on_copilotkit_interrupt\";\n  LangGraphEventTypes2[\"OnCopilotKitError\"] = \"on_copilotkit_error\";\n})(LangGraphEventTypes || (LangGraphEventTypes = {}));\nvar MetaEventNames;\n(function(MetaEventNames2) {\n  MetaEventNames2[\"LangGraphInterruptEvent\"] = \"LangGraphInterruptEvent\";\n  MetaEventNames2[\"CopilotKitLangGraphInterruptEvent\"] = \"CopilotKitLangGraphInterruptEvent\";\n})(MetaEventNames || (MetaEventNames = {}));\nvar CustomEventNames;\n(function(CustomEventNames3) {\n  CustomEventNames3[\"CopilotKitManuallyEmitMessage\"] = \"copilotkit_manually_emit_message\";\n  CustomEventNames3[\"CopilotKitManuallyEmitToolCall\"] = \"copilotkit_manually_emit_tool_call\";\n  CustomEventNames3[\"CopilotKitManuallyEmitIntermediateState\"] = \"copilotkit_manually_emit_intermediate_state\";\n  CustomEventNames3[\"CopilotKitExit\"] = \"copilotkit_exit\";\n})(CustomEventNames || (CustomEventNames = {}));\n\n// src/lib/runtime/remote-lg-action.ts\nvar import_shared17 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_messages3 = __webpack_require__(/*! @langchain/core/messages */ \"(rsc)/./node_modules/@langchain/core/messages.cjs\");\n\n// src/lib/streaming.ts\nvar import_shared15 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/lib/error-messages.ts\nvar errorConfig = {\n  errorPatterns: {\n    ECONNREFUSED: {\n      message: \"Connection refused - the agent service is not running or not accessible at the specified address. Please check that your agent is started and listening on the correct port.\",\n      category: \"network\",\n      severity: \"error\",\n      actionable: true\n    },\n    ENOTFOUND: {\n      message: \"Host not found - the agent service URL appears to be incorrect or the service is not accessible. Please verify the agent endpoint URL.\",\n      category: \"network\",\n      severity: \"error\",\n      actionable: true\n    },\n    ETIMEDOUT: {\n      message: \"Connection timeout - the agent service is taking too long to respond. This could indicate network issues or an overloaded agent service.\",\n      category: \"network\",\n      severity: \"warning\",\n      actionable: true\n    },\n    terminated: {\n      message: \"Agent {context} was unexpectedly terminated. This often indicates an error in the agent service (e.g., authentication failures, missing environment variables, or agent crashes). Check the agent logs for the root cause.\",\n      category: \"connection\",\n      severity: \"error\",\n      actionable: true\n    },\n    UND_ERR_SOCKET: {\n      message: \"Socket connection was closed unexpectedly. This typically indicates the agent service encountered an error and shut down the connection. Check the agent logs for the underlying cause.\",\n      category: \"connection\",\n      severity: \"error\",\n      actionable: true\n    },\n    other_side_closed: {\n      message: \"The agent service closed the connection unexpectedly. This usually indicates an error in the agent service. Check the agent logs for more details.\",\n      category: \"connection\",\n      severity: \"error\",\n      actionable: true\n    },\n    fetch_failed: {\n      message: \"Failed to connect to the agent service. Please verify the agent is running and the endpoint URL is correct.\",\n      category: \"network\",\n      severity: \"error\",\n      actionable: true\n    },\n    // Authentication patterns\n    \"401\": {\n      message: \"Authentication failed. Please check your API keys and ensure they are correctly configured.\",\n      category: \"authentication\",\n      severity: \"error\",\n      actionable: true\n    },\n    \"api key\": {\n      message: \"API key error detected. Please verify your API key is correct and has the necessary permissions.\",\n      category: \"authentication\",\n      severity: \"error\",\n      actionable: true\n    },\n    unauthorized: {\n      message: \"Unauthorized access. Please check your authentication credentials.\",\n      category: \"authentication\",\n      severity: \"error\",\n      actionable: true\n    },\n    // Python-specific error patterns\n    AuthenticationError: {\n      message: \"OpenAI authentication failed. Please check your OPENAI_API_KEY environment variable or API key configuration.\",\n      category: \"authentication\",\n      severity: \"error\",\n      actionable: true\n    },\n    \"Incorrect API key provided\": {\n      message: \"OpenAI API key is invalid. Please verify your OPENAI_API_KEY is correct and active.\",\n      category: \"authentication\",\n      severity: \"error\",\n      actionable: true\n    },\n    RateLimitError: {\n      message: \"OpenAI rate limit exceeded. Please wait a moment and try again, or check your OpenAI usage limits.\",\n      category: \"network\",\n      severity: \"warning\",\n      actionable: true\n    },\n    InvalidRequestError: {\n      message: \"Invalid request to OpenAI API. Please check your request parameters and model configuration.\",\n      category: \"validation\",\n      severity: \"error\",\n      actionable: true\n    },\n    PermissionDeniedError: {\n      message: \"Permission denied for OpenAI API. Please check your API key permissions and billing status.\",\n      category: \"authentication\",\n      severity: \"error\",\n      actionable: true\n    },\n    NotFoundError: {\n      message: \"OpenAI resource not found. Please check your model name and availability.\",\n      category: \"validation\",\n      severity: \"error\",\n      actionable: true\n    }\n  },\n  fallbacks: {\n    network: \"A network error occurred while connecting to the agent service. Please check your connection and ensure the agent service is running.\",\n    connection: \"The connection to the agent service was lost unexpectedly. This may indicate an issue with the agent service.\",\n    authentication: \"Authentication failed. Please check your API keys and credentials.\",\n    validation: \"Invalid input or configuration. Please check your parameters and try again.\",\n    unknown: \"An unexpected error occurred. Please check the logs for more details.\",\n    default: \"An unexpected error occurred. Please check the logs for more details.\"\n  },\n  contextTemplates: {\n    connection: \"connection\",\n    event_streaming_connection: \"event streaming connection\",\n    agent_streaming_connection: \"agent streaming connection\",\n    langgraph_agent_connection: \"LangGraph agent connection\"\n  }\n};\nfunction getFallbackMessage(category) {\n  return errorConfig.fallbacks[category] || errorConfig.fallbacks.default;\n}\n__name(getFallbackMessage, \"getFallbackMessage\");\n\n// src/lib/streaming.ts\nasync function writeJsonLineResponseToEventStream(response, eventStream$) {\n  const reader = response.getReader();\n  const decoder = new TextDecoder();\n  let buffer = [];\n  function flushBuffer() {\n    const currentBuffer = buffer.join(\"\");\n    if (currentBuffer.trim().length === 0) {\n      return;\n    }\n    const parts = currentBuffer.split(\"\\n\");\n    if (parts.length === 0) {\n      return;\n    }\n    const lastPartIsComplete = currentBuffer.endsWith(\"\\n\");\n    buffer = [];\n    if (!lastPartIsComplete) {\n      buffer.push(parts.pop());\n    }\n    parts.map((part) => part.trim()).filter((part) => part != \"\").forEach((part) => {\n      eventStream$.next(JSON.parse(part));\n    });\n  }\n  __name(flushBuffer, \"flushBuffer\");\n  try {\n    while (true) {\n      const { done, value } = await reader.read();\n      if (!done) {\n        buffer.push(decoder.decode(value, {\n          stream: true\n        }));\n      }\n      flushBuffer();\n      if (done) {\n        break;\n      }\n    }\n  } catch (error) {\n    const structuredError = (0, import_shared15.ensureStructuredError)(error, convertStreamingErrorToStructured);\n    eventStream$.error(structuredError);\n    return;\n  }\n  eventStream$.complete();\n}\n__name(writeJsonLineResponseToEventStream, \"writeJsonLineResponseToEventStream\");\nfunction convertStreamingErrorToStructured(error) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  let helpfulMessage = generateHelpfulErrorMessage(error);\n  if (((_a = error == null ? void 0 : error.message) == null ? void 0 : _a.includes(\"fetch failed\")) || ((_b = error == null ? void 0 : error.message) == null ? void 0 : _b.includes(\"ECONNREFUSED\")) || ((_c = error == null ? void 0 : error.message) == null ? void 0 : _c.includes(\"ENOTFOUND\")) || ((_d = error == null ? void 0 : error.message) == null ? void 0 : _d.includes(\"ETIMEDOUT\")) || ((_e = error == null ? void 0 : error.message) == null ? void 0 : _e.includes(\"terminated\")) || ((_f = error == null ? void 0 : error.cause) == null ? void 0 : _f.code) === \"UND_ERR_SOCKET\" || ((_g = error == null ? void 0 : error.message) == null ? void 0 : _g.includes(\"other side closed\")) || (error == null ? void 0 : error.code) === \"UND_ERR_SOCKET\") {\n    console.log(\"error\", error);\n    return new import_shared15.CopilotKitLowLevelError({\n      error: error instanceof Error ? error : new Error(String(error)),\n      url: \"streaming connection\",\n      message: helpfulMessage\n    });\n  }\n  return new import_shared15.CopilotKitError({\n    message: helpfulMessage,\n    code: import_shared15.CopilotKitErrorCode.UNKNOWN\n  });\n}\n__name(convertStreamingErrorToStructured, \"convertStreamingErrorToStructured\");\nfunction generateHelpfulErrorMessage(error, context = \"connection\") {\n  var _a, _b, _c, _d;\n  const baseMessage = (error == null ? void 0 : error.message) || String(error);\n  const originalErrorType = (error == null ? void 0 : error.originalErrorType) || ((_a = error == null ? void 0 : error.extensions) == null ? void 0 : _a.originalErrorType);\n  const statusCode = (error == null ? void 0 : error.statusCode) || ((_b = error == null ? void 0 : error.extensions) == null ? void 0 : _b.statusCode);\n  const responseData = (error == null ? void 0 : error.responseData) || ((_c = error == null ? void 0 : error.extensions) == null ? void 0 : _c.responseData);\n  if (originalErrorType) {\n    const typeConfig = errorConfig.errorPatterns[originalErrorType];\n    if (typeConfig) {\n      return typeConfig.message.replace(\"{context}\", context);\n    }\n  }\n  for (const [pattern, config2] of Object.entries(errorConfig.errorPatterns)) {\n    const shouldMatch = (baseMessage == null ? void 0 : baseMessage.includes(pattern)) || ((_d = error == null ? void 0 : error.cause) == null ? void 0 : _d.code) === pattern || (error == null ? void 0 : error.code) === pattern || statusCode === parseInt(pattern) || pattern === \"other_side_closed\" && (baseMessage == null ? void 0 : baseMessage.includes(\"other side closed\")) || pattern === \"fetch_failed\" && (baseMessage == null ? void 0 : baseMessage.includes(\"fetch failed\")) || responseData && JSON.stringify(responseData).includes(pattern);\n    if (shouldMatch) {\n      return config2.message.replace(\"{context}\", context);\n    }\n  }\n  if (isNetworkError(error)) {\n    return getFallbackMessage(\"network\");\n  }\n  if (isConnectionError(error)) {\n    return getFallbackMessage(\"connection\");\n  }\n  if (isAuthenticationError(error)) {\n    return getFallbackMessage(\"authentication\");\n  }\n  return getFallbackMessage(\"default\");\n}\n__name(generateHelpfulErrorMessage, \"generateHelpfulErrorMessage\");\nfunction isNetworkError(error) {\n  const networkPatterns = [\n    \"ECONNREFUSED\",\n    \"ENOTFOUND\",\n    \"ETIMEDOUT\",\n    \"fetch_failed\"\n  ];\n  return networkPatterns.some((pattern) => {\n    var _a, _b;\n    return ((_a = error == null ? void 0 : error.message) == null ? void 0 : _a.includes(pattern)) || ((_b = error == null ? void 0 : error.cause) == null ? void 0 : _b.code) === pattern || (error == null ? void 0 : error.code) === pattern;\n  });\n}\n__name(isNetworkError, \"isNetworkError\");\nfunction isConnectionError(error) {\n  const connectionPatterns = [\n    \"terminated\",\n    \"UND_ERR_SOCKET\",\n    \"other side closed\"\n  ];\n  return connectionPatterns.some((pattern) => {\n    var _a, _b;\n    return ((_a = error == null ? void 0 : error.message) == null ? void 0 : _a.includes(pattern)) || ((_b = error == null ? void 0 : error.cause) == null ? void 0 : _b.code) === pattern || (error == null ? void 0 : error.code) === pattern;\n  });\n}\n__name(isConnectionError, \"isConnectionError\");\nfunction isAuthenticationError(error) {\n  var _a, _b;\n  const authPatterns = [\n    \"401\",\n    \"api key\",\n    \"unauthorized\",\n    \"authentication\",\n    \"AuthenticationError\",\n    \"PermissionDeniedError\"\n  ];\n  const baseMessage = (error == null ? void 0 : error.message) || String(error);\n  const originalErrorType = (error == null ? void 0 : error.originalErrorType) || ((_a = error == null ? void 0 : error.extensions) == null ? void 0 : _a.originalErrorType);\n  const statusCode = (error == null ? void 0 : error.statusCode) || ((_b = error == null ? void 0 : error.extensions) == null ? void 0 : _b.statusCode);\n  return authPatterns.some((pattern) => (baseMessage == null ? void 0 : baseMessage.toLowerCase().includes(pattern.toLowerCase())) || originalErrorType === pattern || statusCode === 401 || (error == null ? void 0 : error.status) === 401 || (error == null ? void 0 : error.statusCode) === 401);\n}\n__name(isAuthenticationError, \"isAuthenticationError\");\n\n// src/lib/runtime/remote-lg-action.ts\nfunction isUserConfigurationError(error) {\n  var _a, _b;\n  return (error instanceof import_shared17.CopilotKitError || error instanceof import_shared17.CopilotKitLowLevelError) && (error.code === \"NETWORK_ERROR\" || error.code === \"AUTHENTICATION_ERROR\" || error.statusCode === 401 || error.statusCode === 403 || ((_a = error.message) == null ? void 0 : _a.toLowerCase().includes(\"authentication\")) || ((_b = error.message) == null ? void 0 : _b.toLowerCase().includes(\"api key\")));\n}\n__name(isUserConfigurationError, \"isUserConfigurationError\");\nasync function execute(args) {\n  return new ReadableStream({\n    async start(controller) {\n      let lastError;\n      for (let attempt = 0; attempt <= RETRY_CONFIG.maxRetries; attempt++) {\n        try {\n          await streamEvents(controller, args);\n          controller.close();\n          return;\n        } catch (err) {\n          lastError = err;\n          if (isRetryableError(err) && attempt < RETRY_CONFIG.maxRetries) {\n            const delay = calculateDelay(attempt);\n            console.warn(`LangGraph connection attempt ${attempt + 1}/${RETRY_CONFIG.maxRetries + 1} failed. Retrying in ${delay}ms. Error: ${(err == null ? void 0 : err.message) || String(err)}`);\n            await sleep(delay);\n            continue;\n          }\n          break;\n        }\n      }\n      const cause = lastError == null ? void 0 : lastError.cause;\n      const errorCode = (cause == null ? void 0 : cause.code) || (lastError == null ? void 0 : lastError.code);\n      if (errorCode === \"ECONNREFUSED\") {\n        throw new import_shared17.CopilotKitMisuseError({\n          message: `\n            The LangGraph client could not connect to the graph after ${RETRY_CONFIG.maxRetries + 1} attempts. Please further check previous logs, which includes further details.\n            \n            See more: https://docs.copilotkit.ai/troubleshooting/common-issues`\n        });\n      } else {\n        if (lastError instanceof import_shared17.CopilotKitError || lastError instanceof import_shared17.CopilotKitLowLevelError || lastError instanceof Error && lastError.name && lastError.name.includes(\"CopilotKit\")) {\n          throw lastError;\n        }\n        throw new import_shared17.CopilotKitMisuseError({\n          message: `\n            The LangGraph client threw unhandled error ${lastError}.\n            \n            See more: https://docs.copilotkit.ai/troubleshooting/common-issues`\n        });\n      }\n    }\n  });\n}\n__name(execute, \"execute\");\nasync function streamEvents(controller, args) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n  const { deploymentUrl, langsmithApiKey, threadId: argsInitialThreadId, agent, nodeName: initialNodeName, state: initialState, config: explicitConfig, messages, actions, logger: logger2, properties, metaEvents } = args;\n  let nodeName = initialNodeName;\n  let state = initialState;\n  const { name, assistantId: initialAssistantId } = agent;\n  const propertyHeaders = properties.authorization ? {\n    authorization: `Bearer ${properties.authorization}`\n  } : null;\n  const client = new import_langgraph_sdk.Client({\n    apiUrl: deploymentUrl,\n    apiKey: langsmithApiKey,\n    defaultHeaders: {\n      ...propertyHeaders\n    }\n  });\n  let threadId = argsInitialThreadId ?? (0, import_shared16.randomUUID)();\n  if (argsInitialThreadId && argsInitialThreadId.startsWith(\"ck-\")) {\n    threadId = argsInitialThreadId.substring(3);\n  }\n  if (!(0, import_shared16.isValidUUID)(threadId)) {\n    console.warn(`Cannot use the threadId ${threadId} with LangGraph Platform. Must be a valid UUID.`);\n  }\n  let wasInitiatedWithExistingThread = true;\n  try {\n    await client.threads.get(threadId);\n  } catch (error) {\n    wasInitiatedWithExistingThread = false;\n    await client.threads.create({\n      threadId\n    });\n  }\n  let agentState = {\n    values: {}\n  };\n  if (wasInitiatedWithExistingThread) {\n    agentState = await client.threads.getState(threadId);\n  }\n  const agentStateValues = agentState.values;\n  state.messages = agentStateValues.messages;\n  const mode = threadId && nodeName != \"__end__\" && nodeName != void 0 && nodeName != null ? \"continue\" : \"start\";\n  let formattedMessages = [];\n  try {\n    formattedMessages = copilotkitMessagesToLangChain(messages);\n  } catch (e) {\n    logger2.error(e, `Error event thrown: ${e.message}`);\n  }\n  state = langGraphDefaultMergeState(state, formattedMessages, actions, name);\n  const streamInput = mode === \"start\" ? state : null;\n  const payload = {\n    input: streamInput,\n    streamMode: [\n      \"events\",\n      \"values\",\n      \"updates\"\n    ],\n    command: void 0\n  };\n  const lgInterruptMetaEvent = metaEvents == null ? void 0 : metaEvents.find((ev) => ev.name === MetaEventName.LangGraphInterruptEvent);\n  if (lgInterruptMetaEvent == null ? void 0 : lgInterruptMetaEvent.response) {\n    let response = lgInterruptMetaEvent.response;\n    payload.command = {\n      resume: (0, import_shared17.parseJson)(response, response)\n    };\n  }\n  const interrupts = ((_b = (_a = agentState.tasks) == null ? void 0 : _a[0]) == null ? void 0 : _b.interrupts) ?? [];\n  if (mode === \"continue\" && !interrupts.length) {\n    await client.threads.updateState(threadId, {\n      values: state,\n      asNode: nodeName\n    });\n  }\n  let streamInfo = {\n    hashedLgcKey: langsmithApiKey ? (0, import_node_crypto.createHash)(\"sha256\").update(langsmithApiKey).digest(\"hex\") : null\n  };\n  const assistants = await client.assistants.search();\n  const retrievedAssistant = assistants.find((a) => a.name === name || a.assistant_id === initialAssistantId);\n  if (!retrievedAssistant) {\n    telemetry_client_default.capture(\"oss.runtime.agent_execution_stream_errored\", {\n      ...streamInfo,\n      error: `Found no assistants for given information, while ${assistants.length} assistants exists`\n    });\n    console.error(`\n      No agent found for the agent name specified in CopilotKit provider\n      Please check your available agents or provide an agent ID in the LangGraph Platform endpoint definition.\n\n      \n      These are the available agents: [${assistants.map((a) => `${a.name} (ID: ${a.assistant_id})`).join(\", \")}]\n      `);\n    throw new Error(\"No agent id found\");\n  }\n  const assistantId = retrievedAssistant.assistant_id;\n  const graphInfo = await client.assistants.getGraph(assistantId);\n  const graphSchema = await client.assistants.getSchemas(assistantId);\n  const schemaKeys = getSchemaKeys(graphSchema);\n  if (explicitConfig) {\n    let filteredConfigurable = retrievedAssistant.config.configurable;\n    if (explicitConfig.configurable) {\n      filteredConfigurable = (schemaKeys == null ? void 0 : schemaKeys.config) ? filterObjectBySchemaKeys(explicitConfig == null ? void 0 : explicitConfig.configurable, schemaKeys == null ? void 0 : schemaKeys.config) : explicitConfig == null ? void 0 : explicitConfig.configurable;\n    }\n    const newConfig = {\n      ...retrievedAssistant.config,\n      ...explicitConfig,\n      configurable: filteredConfigurable\n    };\n    const isRecursionLimitSetToDefault = retrievedAssistant.config.recursion_limit == null && explicitConfig.recursion_limit === 25;\n    const configsAreDifferent = JSON.stringify(newConfig) !== JSON.stringify(retrievedAssistant.config);\n    const isOnlyRecursionLimitDifferent = isRecursionLimitSetToDefault && JSON.stringify({\n      ...newConfig,\n      recursion_limit: null\n    }) === JSON.stringify({\n      ...retrievedAssistant.config,\n      recursion_limit: null\n    });\n    if (configsAreDifferent && !isOnlyRecursionLimitDifferent) {\n      await client.assistants.update(assistantId, {\n        config: newConfig\n      });\n    }\n  }\n  if (payload.input && (schemaKeys == null ? void 0 : schemaKeys.input)) {\n    payload.input = filterObjectBySchemaKeys(payload.input, schemaKeys.input);\n  }\n  let streamingStateExtractor = new StreamingStateExtractor([]);\n  let prevNodeName = null;\n  let emitIntermediateStateUntilEnd = null;\n  let shouldExit = false;\n  let externalRunId = null;\n  const emit = /* @__PURE__ */ __name((message) => controller.enqueue(new TextEncoder().encode(message)), \"emit\");\n  if ((interrupts == null ? void 0 : interrupts.length) && !((_c = payload.command) == null ? void 0 : _c.resume)) {\n    if (!lgInterruptMetaEvent) {\n      payload.command = {\n        resume: state.messages\n      };\n    } else {\n      interrupts.forEach((interrupt) => {\n        emitInterrupt(interrupt.value, emit);\n      });\n      return Promise.resolve();\n    }\n  }\n  const streamResponse = client.runs.stream(threadId, assistantId, payload);\n  let latestStateValues = {};\n  let updatedState = state;\n  let manuallyEmittedState = null;\n  try {\n    telemetry_client_default.capture(\"oss.runtime.agent_execution_stream_started\", {\n      hashedLgcKey: streamInfo.hashedLgcKey\n    });\n    for await (let streamResponseChunk of streamResponse) {\n      if (![\n        \"events\",\n        \"values\",\n        \"error\",\n        \"updates\"\n      ].includes(streamResponseChunk.event))\n        continue;\n      if (streamResponseChunk.event === \"error\") {\n        const errorData = streamResponseChunk.data;\n        if (errorData && typeof errorData === \"object\" && \"error_details\" in errorData) {\n          const errorDetails = errorData.error_details;\n          const preservedError = new import_shared17.CopilotKitLowLevelError({\n            error: new Error(errorDetails.message),\n            url: \"langgraph platform agent\",\n            message: `${errorDetails.type}: ${errorDetails.message}`\n          });\n          if (errorDetails.status_code) {\n            preservedError.statusCode = errorDetails.status_code;\n          }\n          if (errorDetails.response_data) {\n            preservedError.responseData = errorDetails.response_data;\n          }\n          preservedError.agentName = errorDetails.agent_name;\n          preservedError.originalErrorType = errorDetails.type;\n          throw preservedError;\n        }\n        const helpfulMessage = generateHelpfulErrorMessage(new Error(errorData.message), \"LangGraph Platform agent\");\n        throw new import_shared17.CopilotKitLowLevelError({\n          error: new Error(errorData.message),\n          url: \"langgraph platform agent\",\n          message: helpfulMessage\n        });\n      }\n      const chunk = streamResponseChunk;\n      const interruptEvents = chunk.data.__interrupt__;\n      if (interruptEvents == null ? void 0 : interruptEvents.length) {\n        const interruptValue = interruptEvents == null ? void 0 : interruptEvents[0].value;\n        emitInterrupt(interruptValue, emit);\n        continue;\n      }\n      if (streamResponseChunk.event === \"updates\")\n        continue;\n      if (streamResponseChunk.event === \"values\") {\n        latestStateValues = chunk.data;\n        continue;\n      }\n      const chunkData = chunk.data;\n      const currentNodeName = chunkData.metadata.langgraph_node;\n      const eventType = chunkData.event;\n      const runId = chunkData.metadata.run_id;\n      externalRunId = runId;\n      const metadata = chunkData.metadata;\n      if (((_e = (_d = chunkData.data) == null ? void 0 : _d.output) == null ? void 0 : _e.model) != null && ((_g = (_f = chunkData.data) == null ? void 0 : _f.output) == null ? void 0 : _g.model) != \"\") {\n        streamInfo.provider = (_i = (_h = chunkData.data) == null ? void 0 : _h.output) == null ? void 0 : _i.model;\n      }\n      if (metadata.langgraph_host != null && metadata.langgraph_host != \"\") {\n        streamInfo.langGraphHost = metadata.langgraph_host;\n      }\n      if (metadata.langgraph_version != null && metadata.langgraph_version != \"\") {\n        streamInfo.langGraphVersion = metadata.langgraph_version;\n      }\n      shouldExit = shouldExit || eventType === LangGraphEventTypes.OnCustomEvent && chunkData.name === CustomEventNames.CopilotKitExit;\n      const emitIntermediateState = metadata[\"copilotkit:emit-intermediate-state\"];\n      const manuallyEmitIntermediateState = eventType === LangGraphEventTypes.OnCustomEvent && chunkData.name === CustomEventNames.CopilotKitManuallyEmitIntermediateState;\n      const exitingNode = nodeName === currentNodeName && eventType === LangGraphEventTypes.OnChainEnd;\n      if (exitingNode) {\n        manuallyEmittedState = null;\n      }\n      if (graphInfo[\"nodes\"].some((node) => node.id === currentNodeName)) {\n        nodeName = currentNodeName;\n      }\n      updatedState = manuallyEmittedState ?? latestStateValues;\n      if (!nodeName) {\n        continue;\n      }\n      if (manuallyEmitIntermediateState) {\n        manuallyEmittedState = chunkData.data;\n        emit(getStateSyncEvent({\n          threadId,\n          runId,\n          agentName: agent.name,\n          nodeName,\n          state: manuallyEmittedState,\n          running: true,\n          active: true,\n          schemaKeys\n        }));\n        continue;\n      }\n      if (emitIntermediateState && emitIntermediateStateUntilEnd == null) {\n        emitIntermediateStateUntilEnd = nodeName;\n      }\n      if (emitIntermediateState && eventType === LangGraphEventTypes.OnChatModelStart) {\n        streamingStateExtractor = new StreamingStateExtractor(emitIntermediateState);\n      }\n      if (emitIntermediateState && eventType === LangGraphEventTypes.OnChatModelStream) {\n        streamingStateExtractor.bufferToolCalls(chunkData);\n      }\n      if (emitIntermediateStateUntilEnd !== null) {\n        updatedState = {\n          ...updatedState,\n          ...streamingStateExtractor.extractState()\n        };\n      }\n      if (!emitIntermediateState && currentNodeName === emitIntermediateStateUntilEnd && eventType === LangGraphEventTypes.OnChainEnd) {\n        emitIntermediateStateUntilEnd = null;\n      }\n      if (JSON.stringify(updatedState) !== JSON.stringify(state) || prevNodeName != nodeName || exitingNode) {\n        state = updatedState;\n        prevNodeName = nodeName;\n        emit(getStateSyncEvent({\n          threadId,\n          runId,\n          agentName: agent.name,\n          nodeName,\n          state,\n          running: true,\n          active: !exitingNode,\n          schemaKeys\n        }));\n      }\n      emit(JSON.stringify(chunkData) + \"\\n\");\n    }\n    state = await client.threads.getState(threadId);\n    const tasks = state.tasks;\n    const interrupts2 = ((_j = tasks == null ? void 0 : tasks[0]) == null ? void 0 : _j.interrupts) ?? [];\n    const isEndNode = state.next.length === 0;\n    const writes = ((_k = state.metadata) == null ? void 0 : _k.writes) ?? {};\n    if (!(interrupts2 == null ? void 0 : interrupts2.length)) {\n      nodeName = isEndNode ? \"__end__\" : state.next[0] ?? Object.keys(writes)[0];\n    }\n    telemetry_client_default.capture(\"oss.runtime.agent_execution_stream_ended\", streamInfo);\n    emit(getStateSyncEvent({\n      threadId,\n      runId: externalRunId,\n      agentName: agent.name,\n      nodeName: isEndNode ? \"__end__\" : nodeName,\n      state: state.values,\n      running: !shouldExit,\n      active: false,\n      includeMessages: true,\n      schemaKeys\n    }));\n    return Promise.resolve();\n  } catch (e) {\n    if (isUserConfigurationError(e)) {\n      logger2.debug({\n        error: e.message,\n        code: e.code\n      }, \"User configuration error\");\n    } else {\n      logger2.error(e);\n    }\n    telemetry_client_default.capture(\"oss.runtime.agent_execution_stream_errored\", {\n      ...streamInfo,\n      error: e.message\n    });\n    if (e instanceof import_shared17.CopilotKitError || e instanceof import_shared17.CopilotKitLowLevelError || e instanceof Error && e.name && e.name.includes(\"CopilotKit\")) {\n      throw e;\n    }\n    return Promise.resolve();\n  }\n}\n__name(streamEvents, \"streamEvents\");\nfunction getStateSyncEvent({ threadId, runId, agentName, nodeName, state, running, active, includeMessages = false, schemaKeys }) {\n  if (!includeMessages) {\n    state = Object.keys(state).reduce((acc, key) => {\n      if (key !== \"messages\") {\n        acc[key] = state[key];\n      }\n      return acc;\n    }, {});\n  } else {\n    state = {\n      ...state,\n      messages: langchainMessagesToCopilotKit(state.messages || [])\n    };\n  }\n  if (schemaKeys == null ? void 0 : schemaKeys.output) {\n    state = filterObjectBySchemaKeys(state, schemaKeys.output);\n  }\n  return JSON.stringify({\n    event: LangGraphEventTypes.OnCopilotKitStateSync,\n    thread_id: threadId,\n    run_id: runId,\n    agent_name: agentName,\n    node_name: nodeName,\n    active,\n    state,\n    running,\n    role: \"assistant\"\n  }) + \"\\n\";\n}\n__name(getStateSyncEvent, \"getStateSyncEvent\");\nvar StreamingStateExtractor = /* @__PURE__ */ __name(class StreamingStateExtractor2 {\n  emitIntermediateState;\n  toolCallBuffer;\n  currentToolCall;\n  previouslyParsableState;\n  constructor(emitIntermediateState) {\n    this.emitIntermediateState = emitIntermediateState;\n    this.toolCallBuffer = {};\n    this.currentToolCall = null;\n    this.previouslyParsableState = {};\n  }\n  bufferToolCalls(event) {\n    if (event.data.chunk.tool_call_chunks.length > 0) {\n      const chunk = event.data.chunk.tool_call_chunks[0];\n      if (chunk.name !== null && chunk.name !== void 0) {\n        this.currentToolCall = chunk.name;\n        this.toolCallBuffer[this.currentToolCall] = chunk.args;\n      } else if (this.currentToolCall !== null && this.currentToolCall !== void 0) {\n        this.toolCallBuffer[this.currentToolCall] += chunk.args;\n      }\n    }\n  }\n  getEmitStateConfig(currentToolName) {\n    for (const config2 of this.emitIntermediateState) {\n      const stateKey = config2[\"state_key\"];\n      const tool = config2[\"tool\"];\n      const toolArgument = config2[\"tool_argument\"];\n      if (currentToolName === tool) {\n        return [\n          toolArgument,\n          stateKey\n        ];\n      }\n    }\n    return [\n      null,\n      null\n    ];\n  }\n  extractState() {\n    const state = {};\n    for (const [key, value] of Object.entries(this.toolCallBuffer)) {\n      const [argumentName, stateKey] = this.getEmitStateConfig(key);\n      if (stateKey === null) {\n        continue;\n      }\n      let parsedValue;\n      try {\n        parsedValue = (0, import_partial_json.parse)(value);\n      } catch (error) {\n        if (key in this.previouslyParsableState) {\n          parsedValue = this.previouslyParsableState[key];\n        } else {\n          continue;\n        }\n      }\n      this.previouslyParsableState[key] = parsedValue;\n      if (!argumentName) {\n        state[stateKey] = parsedValue;\n      } else {\n        state[stateKey] = parsedValue[argumentName];\n      }\n    }\n    return state;\n  }\n}, \"StreamingStateExtractor\");\nfunction langGraphDefaultMergeState(state, messages, actions, agentName) {\n  if (messages.length > 0 && \"role\" in messages[0] && messages[0].role === \"system\") {\n    messages = messages.slice(1);\n  }\n  const existingMessages = state.messages || [];\n  const existingMessageIds = new Set(existingMessages.map((message) => message.id));\n  const messageIds = new Set(messages.map((message) => message.id));\n  let removedMessages = [];\n  if (messages.length < existingMessages.length) {\n    removedMessages = existingMessages.filter((m) => !messageIds.has(m.id)).map((m) => new import_messages3.RemoveMessage({\n      id: m.id\n    }));\n  }\n  const newMessages = messages.filter((message) => !existingMessageIds.has(message.id));\n  return {\n    ...state,\n    messages: [\n      ...removedMessages,\n      ...newMessages\n    ],\n    copilotkit: {\n      actions\n    }\n  };\n}\n__name(langGraphDefaultMergeState, \"langGraphDefaultMergeState\");\nfunction langchainMessagesToCopilotKit(messages) {\n  const result = [];\n  const tool_call_names = {};\n  for (const message of messages) {\n    if (message.type === \"ai\") {\n      for (const tool_call of message.tool_calls) {\n        tool_call_names[tool_call.id] = tool_call.name;\n      }\n    }\n  }\n  for (const message of messages) {\n    let content = message.content;\n    if (content instanceof Array) {\n      content = content[0];\n    }\n    if (content instanceof Object) {\n      content = content.text;\n    }\n    if (message.type === \"human\") {\n      result.push({\n        role: \"user\",\n        content,\n        id: message.id\n      });\n    } else if (message.type === \"system\") {\n      result.push({\n        role: \"system\",\n        content,\n        id: message.id\n      });\n    } else if (message.type === \"ai\") {\n      if (message.tool_calls && message.tool_calls.length > 0) {\n        for (const tool_call of message.tool_calls) {\n          result.push({\n            id: tool_call.id,\n            name: tool_call.name,\n            arguments: tool_call.args,\n            parentMessageId: message.id\n          });\n        }\n      } else {\n        result.push({\n          role: \"assistant\",\n          content,\n          id: message.id,\n          parentMessageId: message.id\n        });\n      }\n    } else if (message.type === \"tool\") {\n      const actionName = tool_call_names[message.tool_call_id] || message.name || \"\";\n      result.push({\n        actionExecutionId: message.tool_call_id,\n        actionName,\n        result: content,\n        id: message.id\n      });\n    }\n  }\n  const resultsDict = {};\n  for (const msg of result) {\n    if (msg.actionExecutionId) {\n      resultsDict[msg.actionExecutionId] = msg;\n    }\n  }\n  const reorderedResult = [];\n  for (const msg of result) {\n    if (!(\"actionExecutionId\" in msg)) {\n      reorderedResult.push(msg);\n    }\n    if (\"arguments\" in msg) {\n      const msgId = msg.id;\n      if (msgId in resultsDict) {\n        reorderedResult.push(resultsDict[msgId]);\n      }\n    }\n  }\n  return reorderedResult;\n}\n__name(langchainMessagesToCopilotKit, \"langchainMessagesToCopilotKit\");\nfunction copilotkitMessagesToLangChain(messages) {\n  const result = [];\n  const processedActionExecutions = /* @__PURE__ */ new Set();\n  for (const message of messages) {\n    if (message.isTextMessage()) {\n      if (message.role === \"user\") {\n        result.push({\n          ...message,\n          role: MessageRole.user\n        });\n      } else if (message.role === \"system\") {\n        result.push({\n          ...message,\n          role: MessageRole.system\n        });\n      } else if (message.role === \"assistant\") {\n        result.push({\n          ...message,\n          role: MessageRole.assistant\n        });\n      }\n      continue;\n    }\n    if (message.isImageMessage()) {\n      if (message.role === \"user\") {\n        result.push({\n          ...message,\n          role: MessageRole.user,\n          content: \"\"\n        });\n      } else if (message.role === \"assistant\") {\n        result.push({\n          ...message,\n          role: MessageRole.assistant,\n          content: \"\"\n        });\n      }\n      continue;\n    }\n    if (message.isActionExecutionMessage()) {\n      const messageId = message.parentMessageId ?? message.id;\n      if (processedActionExecutions.has(messageId)) {\n        continue;\n      }\n      processedActionExecutions.add(messageId);\n      const relatedActionExecutions = messages.filter((m) => m.isActionExecutionMessage() && (m.parentMessageId && m.parentMessageId === messageId || m.id === messageId));\n      const tool_calls = relatedActionExecutions.map((m) => ({\n        name: m.name,\n        args: m.arguments,\n        id: m.id\n      }));\n      result.push({\n        id: messageId,\n        type: \"ActionExecutionMessage\",\n        content: \"\",\n        tool_calls,\n        role: MessageRole.assistant\n      });\n      continue;\n    }\n    if (message.isResultMessage()) {\n      result.push({\n        type: message.type,\n        content: message.result,\n        id: message.id,\n        tool_call_id: message.actionExecutionId,\n        name: message.actionName,\n        role: MessageRole.tool\n      });\n      continue;\n    }\n    throw new Error(`Unknown message type ${message.type}`);\n  }\n  return result;\n}\n__name(copilotkitMessagesToLangChain, \"copilotkitMessagesToLangChain\");\nfunction getSchemaKeys(graphSchema) {\n  const CONSTANT_KEYS = [\n    \"messages\",\n    \"copilotkit\"\n  ];\n  let configSchema = null;\n  if (graphSchema.config_schema.properties) {\n    configSchema = Object.keys(graphSchema.config_schema.properties);\n  }\n  if (!graphSchema.input_schema.properties || !graphSchema.output_schema.properties) {\n    return configSchema;\n  }\n  const inputSchema = Object.keys(graphSchema.input_schema.properties);\n  const outputSchema = Object.keys(graphSchema.output_schema.properties);\n  return {\n    input: inputSchema && inputSchema.length ? [\n      ...inputSchema,\n      ...CONSTANT_KEYS\n    ] : null,\n    output: outputSchema && outputSchema.length ? [\n      ...outputSchema,\n      ...CONSTANT_KEYS\n    ] : null,\n    config: configSchema\n  };\n}\n__name(getSchemaKeys, \"getSchemaKeys\");\nfunction filterObjectBySchemaKeys(obj, schemaKeys) {\n  return Object.fromEntries(Object.entries(obj).filter(([key]) => schemaKeys.includes(key)));\n}\n__name(filterObjectBySchemaKeys, \"filterObjectBySchemaKeys\");\nfunction emitInterrupt(interruptValue, emit) {\n  if (typeof interruptValue != \"string\" && \"__copilotkit_interrupt_value__\" in interruptValue) {\n    const evValue = interruptValue.__copilotkit_interrupt_value__;\n    emit(JSON.stringify({\n      event: LangGraphEventTypes.OnCopilotKitInterrupt,\n      data: {\n        value: typeof evValue === \"string\" ? evValue : JSON.stringify(evValue),\n        messages: langchainMessagesToCopilotKit(interruptValue.__copilotkit_messages__)\n      }\n    }) + \"\\n\");\n  } else {\n    emit(JSON.stringify({\n      event: LangGraphEventTypes.OnInterrupt,\n      value: typeof interruptValue === \"string\" ? interruptValue : JSON.stringify(interruptValue)\n    }) + \"\\n\");\n  }\n}\n__name(emitInterrupt, \"emitInterrupt\");\n\n// src/lib/runtime/mcp-tools-utils.ts\nfunction extractParametersFromSchema(toolOrSchema) {\n  var _a;\n  const parameters = [];\n  const schema = \"schema\" in (toolOrSchema || {}) ? toolOrSchema.schema : toolOrSchema;\n  const toolParameters = ((_a = schema == null ? void 0 : schema.parameters) == null ? void 0 : _a.jsonSchema) || (schema == null ? void 0 : schema.parameters);\n  const properties = toolParameters == null ? void 0 : toolParameters.properties;\n  const requiredParams = new Set((toolParameters == null ? void 0 : toolParameters.required) || []);\n  if (!properties) {\n    return parameters;\n  }\n  for (const paramName in properties) {\n    if (Object.prototype.hasOwnProperty.call(properties, paramName)) {\n      const paramDef = properties[paramName];\n      let type = paramDef.type || \"string\";\n      let description = paramDef.description || \"\";\n      if (type === \"array\" && paramDef.items) {\n        const itemType = paramDef.items.type || \"object\";\n        if (itemType === \"object\" && paramDef.items.properties) {\n          const itemProperties = Object.keys(paramDef.items.properties).join(\", \");\n          description = description + (description ? \" \" : \"\") + `Array of objects with properties: ${itemProperties}`;\n        } else {\n          type = `array<${itemType}>`;\n        }\n      }\n      if (paramDef.enum && Array.isArray(paramDef.enum)) {\n        const enumValues = paramDef.enum.join(\" | \");\n        description = description + (description ? \" \" : \"\") + `Allowed values: ${enumValues}`;\n      }\n      if (type === \"object\" && paramDef.properties) {\n        const objectProperties = Object.keys(paramDef.properties).join(\", \");\n        description = description + (description ? \" \" : \"\") + `Object with properties: ${objectProperties}`;\n      }\n      parameters.push({\n        name: paramName,\n        type,\n        description,\n        required: requiredParams.has(paramName)\n      });\n    }\n  }\n  return parameters;\n}\n__name(extractParametersFromSchema, \"extractParametersFromSchema\");\nfunction convertMCPToolsToActions(mcpTools, mcpEndpoint) {\n  const actions = [];\n  for (const [toolName, tool] of Object.entries(mcpTools)) {\n    const parameters = extractParametersFromSchema(tool);\n    const handler = /* @__PURE__ */ __name(async (params) => {\n      try {\n        const result = await tool.execute(params);\n        return typeof result === \"string\" ? result : JSON.stringify(result);\n      } catch (error) {\n        console.error(`Error executing MCP tool '${toolName}' from endpoint ${mcpEndpoint}:`, error);\n        throw new Error(`Execution failed for MCP tool '${toolName}': ${error instanceof Error ? error.message : String(error)}`);\n      }\n    }, \"handler\");\n    actions.push({\n      name: toolName,\n      description: tool.description || `MCP tool: ${toolName} (from ${mcpEndpoint})`,\n      parameters,\n      handler,\n      // Add metadata for easier identification/debugging\n      _isMCPTool: true,\n      _mcpEndpoint: mcpEndpoint\n    });\n  }\n  return actions;\n}\n__name(convertMCPToolsToActions, \"convertMCPToolsToActions\");\nfunction generateMcpToolInstructions(toolsMap) {\n  if (!toolsMap || Object.keys(toolsMap).length === 0) {\n    return \"\";\n  }\n  const toolEntries = Object.entries(toolsMap);\n  const toolsDoc = toolEntries.map(([name, tool]) => {\n    var _a;\n    let paramsDoc = \"    No parameters required\";\n    try {\n      if (tool.schema && typeof tool.schema === \"object\") {\n        const schema = tool.schema;\n        const toolParameters = ((_a = schema.parameters) == null ? void 0 : _a.jsonSchema) || schema.parameters;\n        const properties = (toolParameters == null ? void 0 : toolParameters.properties) || schema.properties;\n        const requiredParams = (toolParameters == null ? void 0 : toolParameters.required) || schema.required || [];\n        if (properties) {\n          const paramsList = Object.entries(properties).map(([paramName, propSchema]) => {\n            const propDetails = propSchema;\n            const requiredMark = requiredParams.includes(paramName) ? \"*\" : \"\";\n            let typeInfo = propDetails.type || \"any\";\n            let description = propDetails.description ? ` - ${propDetails.description}` : \"\";\n            if (typeInfo === \"array\" && propDetails.items) {\n              const itemType = propDetails.items.type || \"object\";\n              if (itemType === \"object\" && propDetails.items.properties) {\n                const itemProps = Object.keys(propDetails.items.properties).join(\", \");\n                typeInfo = `array<object>`;\n                description = description + (description ? \" \" : \" - \") + `Array of objects with properties: ${itemProps}`;\n              } else {\n                typeInfo = `array<${itemType}>`;\n              }\n            }\n            if (propDetails.enum && Array.isArray(propDetails.enum)) {\n              const enumValues = propDetails.enum.join(\" | \");\n              description = description + (description ? \" \" : \" - \") + `Allowed values: ${enumValues}`;\n            }\n            if (typeInfo === \"object\" && propDetails.properties) {\n              const objectProps = Object.keys(propDetails.properties).join(\", \");\n              description = description + (description ? \" \" : \" - \") + `Object with properties: ${objectProps}`;\n            }\n            return `    - ${paramName}${requiredMark} (${typeInfo})${description}`;\n          });\n          if (paramsList.length > 0) {\n            paramsDoc = paramsList.join(\"\\n\");\n          }\n        }\n      }\n    } catch (e) {\n      console.error(`Error parsing schema for tool ${name}:`, e);\n    }\n    return `- ${name}: ${tool.description || \"\"}\n${paramsDoc}`;\n  }).join(\"\\n\\n\");\n  return `You have access to the following external tools provided by Model Context Protocol (MCP) servers:\n\n${toolsDoc}\n\nWhen using these tools:\n1. Only provide valid parameters according to their type requirements\n2. Required parameters are marked with *\n3. For array parameters, provide data in the correct array format\n4. For object parameters, include all required nested properties\n5. For enum parameters, use only the allowed values listed\n6. Format API calls correctly with the expected parameter structure\n7. Always check tool responses to determine your next action`;\n}\n__name(generateMcpToolInstructions, \"generateMcpToolInstructions\");\n\n// src/lib/runtime/copilot-runtime.ts\nvar CopilotRuntime = class {\n  actions;\n  agents;\n  remoteEndpointDefinitions;\n  langserve = [];\n  onBeforeRequest;\n  onAfterRequest;\n  delegateAgentProcessingToServiceAdapter;\n  observability;\n  availableAgents;\n  onError;\n  hasWarnedAboutError = false;\n  // +++ MCP Properties +++\n  mcpServersConfig;\n  mcpActionCache = /* @__PURE__ */ new Map();\n  // --- MCP Properties ---\n  // +++ MCP Client Factory +++\n  createMCPClientImpl;\n  // --- MCP Client Factory ---\n  constructor(params) {\n    var _a, _b, _c, _d;\n    if ((params == null ? void 0 : params.actions) && (params == null ? void 0 : params.remoteEndpoints) && (params == null ? void 0 : params.remoteEndpoints.some((e) => e.type === EndpointType.LangGraphPlatform))) {\n      console.warn(\"Actions set in runtime instance will not be available for the agent\");\n      console.warn(`LangGraph Platform remote endpoints are deprecated in favor of the \"agents\" property`);\n    }\n    this.actions = (params == null ? void 0 : params.actions) || [];\n    this.availableAgents = [];\n    for (const chain of (params == null ? void 0 : params.langserve) || []) {\n      const remoteChain = new RemoteChain(chain);\n      this.langserve.push(remoteChain.toAction());\n    }\n    this.remoteEndpointDefinitions = (params == null ? void 0 : params.remoteEndpoints) ?? (params == null ? void 0 : params.remoteActions) ?? [];\n    this.onBeforeRequest = (_a = params == null ? void 0 : params.middleware) == null ? void 0 : _a.onBeforeRequest;\n    this.onAfterRequest = (_b = params == null ? void 0 : params.middleware) == null ? void 0 : _b.onAfterRequest;\n    this.delegateAgentProcessingToServiceAdapter = (params == null ? void 0 : params.delegateAgentProcessingToServiceAdapter) || false;\n    this.observability = params == null ? void 0 : params.observability_c;\n    this.agents = (params == null ? void 0 : params.agents) ?? {};\n    this.onError = params == null ? void 0 : params.onError;\n    this.mcpServersConfig = params == null ? void 0 : params.mcpServers;\n    this.createMCPClientImpl = params == null ? void 0 : params.createMCPClient;\n    if (this.mcpServersConfig && this.mcpServersConfig.length > 0 && !this.createMCPClientImpl) {\n      throw new import_shared18.CopilotKitMisuseError({\n        message: \"MCP Integration Error: `mcpServers` were provided, but the `createMCPClient` function was not passed to the CopilotRuntime constructor. Please provide an implementation for `createMCPClient`.\"\n      });\n    }\n    if ((params == null ? void 0 : params.actions) && (((_c = params == null ? void 0 : params.remoteEndpoints) == null ? void 0 : _c.some((e) => e.type === EndpointType.LangGraphPlatform)) || ((_d = this.mcpServersConfig) == null ? void 0 : _d.length))) {\n      console.warn(\"Local 'actions' defined in CopilotRuntime might not be available to remote agents (LangGraph, MCP). Consider defining actions closer to the agent implementation if needed.\");\n    }\n  }\n  // +++ MCP Instruction Injection Method +++\n  injectMCPToolInstructions(messages, currentActions) {\n    const mcpActionsForRequest = currentActions.filter((action) => action._isMCPTool);\n    if (!mcpActionsForRequest || mcpActionsForRequest.length === 0) {\n      return messages;\n    }\n    const uniqueMcpTools = /* @__PURE__ */ new Map();\n    mcpActionsForRequest.forEach((action) => {\n      uniqueMcpTools.set(action.name, action);\n    });\n    const toolsMap = {};\n    Array.from(uniqueMcpTools.values()).forEach((action) => {\n      toolsMap[action.name] = {\n        description: action.description || \"\",\n        schema: action.parameters ? {\n          parameters: {\n            properties: action.parameters.reduce((acc, p) => ({\n              ...acc,\n              [p.name]: {\n                type: p.type,\n                description: p.description\n              }\n            }), {}),\n            required: action.parameters.filter((p) => p.required).map((p) => p.name)\n          }\n        } : {},\n        execute: async () => ({})\n      };\n    });\n    const mcpToolInstructions = generateMcpToolInstructions(toolsMap);\n    if (!mcpToolInstructions) {\n      return messages;\n    }\n    const instructions = mcpToolInstructions + \"\\nUse them when appropriate to fulfill the user's request.\";\n    const systemMessageIndex = messages.findIndex((msg) => {\n      var _a;\n      return ((_a = msg.textMessage) == null ? void 0 : _a.role) === \"system\";\n    });\n    const newMessages = [\n      ...messages\n    ];\n    if (systemMessageIndex !== -1) {\n      const existingMsg = newMessages[systemMessageIndex];\n      if (existingMsg.textMessage) {\n        existingMsg.textMessage.content = (existingMsg.textMessage.content ? existingMsg.textMessage.content + \"\\n\\n\" : \"\") + instructions;\n      }\n    } else {\n      newMessages.unshift({\n        id: (0, import_shared18.randomId)(),\n        createdAt: /* @__PURE__ */ new Date(),\n        textMessage: {\n          role: MessageRole.system,\n          content: instructions\n        },\n        actionExecutionMessage: void 0,\n        resultMessage: void 0,\n        agentStateMessage: void 0\n      });\n    }\n    return newMessages;\n  }\n  async processRuntimeRequest(request) {\n    var _a, _b, _c, _d, _e;\n    const { serviceAdapter, messages: rawMessages, actions: clientSideActionsInput, threadId, runId, outputMessagesPromise, graphqlContext, forwardedParameters, url, extensions, agentSession, agentStates, publicApiKey } = request;\n    const eventSource = new RuntimeEventSource({\n      errorHandler: async (error, context) => {\n        await this.error(\"error\", context, error, publicApiKey);\n      },\n      errorContext: {\n        threadId,\n        runId,\n        source: \"runtime\",\n        request: {\n          operation: \"processRuntimeRequest\",\n          method: \"POST\",\n          url,\n          startTime: Date.now()\n        },\n        agent: agentSession ? {\n          name: agentSession.agentName\n        } : void 0,\n        technical: {\n          environment: \"development\"\n        }\n      }\n    });\n    const requestStartTime = Date.now();\n    const streamedChunks = [];\n    try {\n      if (Object.keys(this.agents).length && (agentSession == null ? void 0 : agentSession.agentName) && !this.delegateAgentProcessingToServiceAdapter) {\n        this.agents = {\n          [agentSession.agentName]: this.agents[agentSession.agentName]\n        };\n      }\n      if (agentSession && !this.delegateAgentProcessingToServiceAdapter) {\n        return await this.processAgentRequest(request);\n      }\n      if (serviceAdapter instanceof EmptyAdapter) {\n        throw new import_shared18.CopilotKitMisuseError({\n          message: `Invalid adapter configuration: EmptyAdapter is only meant to be used with agent lock mode. \nFor non-agent components like useCopilotChatSuggestions, CopilotTextarea, or CopilotTask, \nplease use an LLM adapter instead.`\n        });\n      }\n      const serverSideActions = await this.getServerSideActions(request);\n      const filteredRawMessages = rawMessages.filter((message) => !message.agentStateMessage);\n      const messagesWithInjectedInstructions = this.injectMCPToolInstructions(filteredRawMessages, serverSideActions);\n      const inputMessages = convertGqlInputToMessages(messagesWithInjectedInstructions);\n      if (((_a = this.observability) == null ? void 0 : _a.enabled) && publicApiKey) {\n        try {\n          const requestData = {\n            threadId,\n            runId,\n            model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n            messages: inputMessages,\n            actions: clientSideActionsInput,\n            forwardedParameters,\n            timestamp: requestStartTime,\n            provider: this.detectProvider(serviceAdapter)\n          };\n          await this.observability.hooks.handleRequest(requestData);\n        } catch (error) {\n          console.error(\"Error logging LLM request:\", error);\n        }\n      }\n      const serverSideActionsInput = serverSideActions.map((action) => ({\n        name: action.name,\n        description: action.description,\n        jsonSchema: JSON.stringify((0, import_shared18.actionParametersToJsonSchema)(action.parameters))\n      }));\n      const actionInputs = flattenToolCallsNoDuplicates([\n        ...serverSideActionsInput,\n        ...clientSideActionsInput.filter(\n          // Filter remote actions from CopilotKit core loop\n          (action) => action.available !== ActionInputAvailability.remote\n        )\n      ]);\n      await ((_b = this.onBeforeRequest) == null ? void 0 : _b.call(this, {\n        threadId,\n        runId,\n        inputMessages,\n        properties: graphqlContext.properties,\n        url\n      }));\n      const result = await serviceAdapter.process({\n        messages: inputMessages,\n        actions: actionInputs,\n        threadId,\n        runId,\n        eventSource,\n        forwardedParameters,\n        extensions,\n        agentSession,\n        agentStates\n      });\n      const nonEmptyThreadId = threadId ?? result.threadId;\n      outputMessagesPromise.then((outputMessages) => {\n        var _a2;\n        (_a2 = this.onAfterRequest) == null ? void 0 : _a2.call(this, {\n          threadId: nonEmptyThreadId,\n          runId: result.runId,\n          inputMessages,\n          outputMessages,\n          properties: graphqlContext.properties,\n          url\n        });\n      }).catch((_error) => {\n      });\n      if (((_c = this.observability) == null ? void 0 : _c.enabled) && publicApiKey) {\n        try {\n          outputMessagesPromise.then((outputMessages) => {\n            const responseData = {\n              threadId: result.threadId,\n              runId: result.runId,\n              model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n              // Use collected chunks for progressive mode or outputMessages for regular mode\n              output: this.observability.progressive ? streamedChunks : outputMessages,\n              latency: Date.now() - requestStartTime,\n              timestamp: Date.now(),\n              provider: this.detectProvider(serviceAdapter),\n              // Indicate this is the final response\n              isFinalResponse: true\n            };\n            try {\n              this.observability.hooks.handleResponse(responseData);\n            } catch (logError) {\n              console.error(\"Error logging LLM response:\", logError);\n            }\n          }).catch((error) => {\n            console.error(\"Failed to get output messages for logging:\", error);\n          });\n        } catch (error) {\n          console.error(\"Error setting up logging for LLM response:\", error);\n        }\n      }\n      if (((_d = this.observability) == null ? void 0 : _d.enabled) && this.observability.progressive && publicApiKey) {\n        const originalStream = eventSource.stream.bind(eventSource);\n        eventSource.stream = async (callback) => {\n          await originalStream(async (eventStream$) => {\n            eventStream$.subscribe({\n              next: (event) => {\n                if (event.type === RuntimeEventTypes.TextMessageContent) {\n                  streamedChunks.push(event.content);\n                  try {\n                    const progressiveData = {\n                      threadId: threadId || \"\",\n                      runId,\n                      model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n                      output: event.content,\n                      latency: Date.now() - requestStartTime,\n                      timestamp: Date.now(),\n                      provider: this.detectProvider(serviceAdapter),\n                      isProgressiveChunk: true\n                    };\n                    Promise.resolve().then(() => {\n                      this.observability.hooks.handleResponse(progressiveData);\n                    }).catch((error) => {\n                      console.error(\"Error in progressive logging:\", error);\n                    });\n                  } catch (error) {\n                    console.error(\"Error preparing progressive log data:\", error);\n                  }\n                }\n              }\n            });\n            await callback(eventStream$);\n          });\n        };\n      }\n      return {\n        threadId: nonEmptyThreadId,\n        runId: result.runId,\n        eventSource,\n        serverSideActions,\n        actionInputsWithoutAgents: actionInputs.filter((action) => (\n          // TODO-AGENTS: do not exclude ALL server side actions\n          !serverSideActions.find((serverSideAction) => serverSideAction.name == action.name)\n        )),\n        extensions: result.extensions\n      };\n    } catch (error) {\n      if (((_e = this.observability) == null ? void 0 : _e.enabled) && publicApiKey) {\n        try {\n          const errorData = {\n            threadId,\n            runId,\n            model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n            error: error instanceof Error ? error : String(error),\n            timestamp: Date.now(),\n            latency: Date.now() - requestStartTime,\n            provider: this.detectProvider(serviceAdapter)\n          };\n          await this.observability.hooks.handleError(errorData);\n        } catch (logError) {\n          console.error(\"Error logging LLM error:\", logError);\n        }\n      }\n      let structuredError;\n      if (error instanceof import_shared18.CopilotKitError) {\n        structuredError = error;\n      } else {\n        structuredError = (0, import_shared18.ensureStructuredError)(error, (err) => this.convertStreamingErrorToStructured(err));\n      }\n      await this.error(\"error\", {\n        threadId,\n        runId,\n        source: \"runtime\",\n        request: {\n          operation: \"processRuntimeRequest\",\n          method: \"POST\",\n          url,\n          startTime: requestStartTime\n        },\n        response: {\n          endTime: Date.now(),\n          latency: Date.now() - requestStartTime\n        },\n        agent: agentSession ? {\n          name: agentSession.agentName\n        } : void 0,\n        technical: {\n          environment: \"development\",\n          stackTrace: error instanceof Error ? error.stack : void 0\n        }\n      }, structuredError, publicApiKey);\n      throw structuredError;\n    }\n  }\n  async getAllAgents(graphqlContext) {\n    const agentsWithEndpoints = await this.discoverAgentsFromEndpoints(graphqlContext);\n    const aguiAgents = this.discoverAgentsFromAgui();\n    this.availableAgents = [\n      ...agentsWithEndpoints,\n      ...aguiAgents\n    ].map((a) => ({\n      name: a.name,\n      id: a.id\n    }));\n    return [\n      ...agentsWithEndpoints,\n      ...aguiAgents\n    ];\n  }\n  async discoverAgentsFromEndpoints(graphqlContext) {\n    const agents = this.remoteEndpointDefinitions.reduce(async (acc, endpoint) => {\n      const agents2 = await acc;\n      if (endpoint.type === EndpointType.LangGraphPlatform) {\n        const propertyHeaders = graphqlContext.properties.authorization ? {\n          authorization: `Bearer ${graphqlContext.properties.authorization}`\n        } : null;\n        const client = new import_langgraph_sdk2.Client({\n          apiUrl: endpoint.deploymentUrl,\n          apiKey: endpoint.langsmithApiKey,\n          defaultHeaders: {\n            ...propertyHeaders\n          }\n        });\n        let data = [];\n        try {\n          data = await client.assistants.search();\n          if (data && \"detail\" in data && data.detail.toLowerCase() === \"not found\") {\n            throw new import_shared18.CopilotKitAgentDiscoveryError({\n              availableAgents: this.availableAgents\n            });\n          }\n        } catch (e) {\n          throw new import_shared18.CopilotKitMisuseError({\n            message: `\n              Failed to find or contact remote endpoint at url ${endpoint.deploymentUrl}.\n              Make sure the API is running and that it's indeed a LangGraph platform url.\n              \n              See more: https://docs.copilotkit.ai/troubleshooting/common-issues`\n          });\n        }\n        const endpointAgents = data.map((entry) => ({\n          name: entry.graph_id,\n          id: entry.assistant_id,\n          description: \"\",\n          endpoint\n        }));\n        return [\n          ...agents2,\n          ...endpointAgents\n        ];\n      }\n      const cpkEndpoint = endpoint;\n      const fetchUrl = `${endpoint.url}/info`;\n      try {\n        const response = await fetchWithRetry(fetchUrl, {\n          method: \"POST\",\n          headers: createHeaders(cpkEndpoint.onBeforeRequest, graphqlContext),\n          body: JSON.stringify({\n            properties: graphqlContext.properties\n          })\n        });\n        if (!response.ok) {\n          if (response.status === 404) {\n            throw new import_shared18.CopilotKitApiDiscoveryError({\n              url: fetchUrl\n            });\n          }\n          throw new import_shared18.ResolvedCopilotKitError({\n            status: response.status,\n            url: fetchUrl,\n            isRemoteEndpoint: true\n          });\n        }\n        const data = await response.json();\n        const endpointAgents = ((data == null ? void 0 : data.agents) ?? []).map((agent) => ({\n          name: agent.name,\n          description: agent.description ?? \"\" ?? \"\",\n          id: (0, import_shared18.randomId)(),\n          endpoint\n        }));\n        return [\n          ...agents2,\n          ...endpointAgents\n        ];\n      } catch (error) {\n        if (error instanceof import_shared18.CopilotKitError) {\n          throw error;\n        }\n        throw new import_shared18.CopilotKitLowLevelError({\n          error,\n          url: fetchUrl\n        });\n      }\n    }, Promise.resolve([]));\n    return agents;\n  }\n  discoverAgentsFromAgui() {\n    return Object.entries(this.agents ?? []).map(([key, agent]) => ({\n      name: agent.agentName ?? key,\n      id: agent.agentId ?? key,\n      description: agent.description ?? \"\"\n    }));\n  }\n  async loadAgentState(graphqlContext, threadId, agentName) {\n    var _a;\n    const agents = await this.getAllAgents(graphqlContext);\n    const agent = agents.find((agent2) => agent2.name === agentName);\n    if (!agent) {\n      throw new Error(\"Agent not found\");\n    }\n    if (\"endpoint\" in agent && (agent.endpoint.type === EndpointType.CopilotKit || !(\"type\" in agent.endpoint))) {\n      const cpkEndpoint = agent.endpoint;\n      const fetchUrl = `${cpkEndpoint.url}/agents/state`;\n      try {\n        const response = await fetchWithRetry(fetchUrl, {\n          method: \"POST\",\n          headers: createHeaders(cpkEndpoint.onBeforeRequest, graphqlContext),\n          body: JSON.stringify({\n            properties: graphqlContext.properties,\n            threadId,\n            name: agentName\n          })\n        });\n        if (!response.ok) {\n          if (response.status === 404) {\n            throw new import_shared18.CopilotKitApiDiscoveryError({\n              url: fetchUrl\n            });\n          }\n          let errorMessage = `HTTP ${response.status} error`;\n          try {\n            const errorBody = await response.text();\n            const parsedError = JSON.parse(errorBody);\n            if (parsedError.error && typeof parsedError.error === \"string\") {\n              errorMessage = parsedError.error;\n            }\n          } catch {\n          }\n          throw new import_shared18.ResolvedCopilotKitError({\n            status: response.status,\n            url: fetchUrl,\n            isRemoteEndpoint: true,\n            message: errorMessage\n          });\n        }\n        const data = await response.json();\n        return {\n          ...data,\n          state: JSON.stringify(data.state),\n          messages: JSON.stringify(data.messages)\n        };\n      } catch (error) {\n        if (error instanceof import_shared18.CopilotKitError) {\n          throw error;\n        }\n        throw new import_shared18.CopilotKitLowLevelError({\n          error,\n          url: fetchUrl\n        });\n      }\n    }\n    const propertyHeaders = graphqlContext.properties.authorization ? {\n      authorization: `Bearer ${graphqlContext.properties.authorization}`\n    } : null;\n    let state = {};\n    try {\n      let client;\n      if (\"endpoint\" in agent && agent.endpoint.type === EndpointType.LangGraphPlatform) {\n        client = new import_langgraph_sdk2.Client({\n          apiUrl: agent.endpoint.deploymentUrl,\n          apiKey: agent.endpoint.langsmithApiKey,\n          defaultHeaders: {\n            ...propertyHeaders\n          }\n        });\n      } else {\n        const aguiAgent = graphqlContext._copilotkit.runtime.agents[agent.name];\n        if (!aguiAgent) {\n          throw new Error(`Agent: ${agent.name} could not be resolved`);\n        }\n        client = aguiAgent.client ?? null;\n      }\n      state = client ? (await client.threads.getState(threadId)).values : {};\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      const errorStatus = ((_a = error == null ? void 0 : error.response) == null ? void 0 : _a.status) || (error == null ? void 0 : error.status);\n      if (errorStatus === 404) {\n        state = {};\n      } else {\n        console.debug(`Agent '${agentName}' configuration issue: ${errorMessage}`);\n        throw new import_shared18.ResolvedCopilotKitError({\n          status: 400,\n          message: `Agent '${agentName}' failed to execute: ${errorMessage}`,\n          code: import_shared18.CopilotKitErrorCode.CONFIGURATION_ERROR\n        });\n      }\n    }\n    if (Object.keys(state).length === 0) {\n      return {\n        threadId: threadId || \"\",\n        threadExists: false,\n        state: JSON.stringify({}),\n        messages: JSON.stringify([])\n      };\n    } else {\n      const { messages, ...stateWithoutMessages } = state;\n      const copilotkitMessages = langchainMessagesToCopilotKit(messages);\n      return {\n        threadId: threadId || \"\",\n        threadExists: true,\n        state: JSON.stringify(stateWithoutMessages),\n        messages: JSON.stringify(copilotkitMessages)\n      };\n    }\n    throw new Error(`Agent: ${agent.name} could not be resolved`);\n  }\n  async processAgentRequest(request) {\n    var _a, _b, _c, _d, _e;\n    const { messages: rawMessages, outputMessagesPromise, graphqlContext, agentSession, threadId: threadIdFromRequest, metaEvents, publicApiKey, forwardedParameters } = request;\n    const { agentName, nodeName } = agentSession;\n    const requestStartTime = Date.now();\n    const streamedChunks = [];\n    const threadId = threadIdFromRequest ?? agentSession.threadId;\n    await this.error(\"agent_state\", {\n      threadId,\n      source: \"agent\",\n      request: {\n        operation: \"processAgentRequest\",\n        method: \"POST\",\n        startTime: requestStartTime\n      },\n      agent: {\n        name: agentName,\n        nodeName\n      },\n      messages: {\n        input: rawMessages,\n        messageCount: rawMessages.length\n      },\n      technical: {\n        environment: \"development\"\n      }\n    }, void 0, publicApiKey);\n    const serverSideActions = await this.getServerSideActions(request);\n    const messages = convertGqlInputToMessages(rawMessages);\n    const currentAgent = serverSideActions.find((action) => action.name === agentName && isRemoteAgentAction(action));\n    if (!currentAgent) {\n      throw new import_shared18.CopilotKitAgentDiscoveryError({\n        agentName,\n        availableAgents: this.availableAgents\n      });\n    }\n    const availableActionsForCurrentAgent = serverSideActions.filter((action) => (\n      // Case 1: Keep all regular (non-agent) actions\n      !isRemoteAgentAction(action) || // Case 2: For agent actions, keep all except self (prevent infinite loops)\n      isRemoteAgentAction(action) && action.name !== agentName\n    )).map((action) => ({\n      name: action.name,\n      description: action.description,\n      jsonSchema: JSON.stringify((0, import_shared18.actionParametersToJsonSchema)(action.parameters))\n    }));\n    const allAvailableActions = flattenToolCallsNoDuplicates([\n      ...availableActionsForCurrentAgent,\n      ...request.actions\n    ]);\n    if (((_a = this.observability) == null ? void 0 : _a.enabled) && publicApiKey) {\n      try {\n        const requestData = {\n          threadId,\n          runId: void 0,\n          model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n          messages,\n          actions: allAvailableActions,\n          forwardedParameters,\n          timestamp: requestStartTime,\n          provider: \"agent\",\n          agentName,\n          nodeName\n        };\n        await this.observability.hooks.handleRequest(requestData);\n      } catch (error) {\n        console.error(\"Error logging agent request:\", error);\n      }\n    }\n    await ((_b = this.onBeforeRequest) == null ? void 0 : _b.call(this, {\n      threadId,\n      runId: void 0,\n      inputMessages: messages,\n      properties: graphqlContext.properties\n    }));\n    try {\n      const eventSource = new RuntimeEventSource({\n        errorHandler: async (error, context) => {\n          await this.error(\"error\", context, error, publicApiKey);\n        },\n        errorContext: {\n          threadId,\n          source: \"agent\",\n          request: {\n            operation: \"processAgentRequest\",\n            method: \"POST\",\n            startTime: requestStartTime\n          },\n          agent: {\n            name: agentName,\n            nodeName\n          },\n          technical: {\n            environment: \"development\"\n          }\n        }\n      });\n      const stream = await currentAgent.remoteAgentHandler({\n        name: agentName,\n        threadId,\n        nodeName,\n        metaEvents,\n        actionInputsWithoutAgents: allAvailableActions\n      });\n      if (((_c = this.observability) == null ? void 0 : _c.enabled) && this.observability.progressive && publicApiKey) {\n        const originalStream = eventSource.stream.bind(eventSource);\n        eventSource.stream = async (callback) => {\n          await originalStream(async (eventStream$) => {\n            eventStream$.subscribe({\n              next: (event) => {\n                if (event.type === RuntimeEventTypes.TextMessageContent) {\n                  streamedChunks.push(event.content);\n                  try {\n                    const progressiveData = {\n                      threadId: threadId || \"\",\n                      runId: void 0,\n                      model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n                      output: event.content,\n                      latency: Date.now() - requestStartTime,\n                      timestamp: Date.now(),\n                      provider: \"agent\",\n                      isProgressiveChunk: true,\n                      agentName,\n                      nodeName\n                    };\n                    Promise.resolve().then(() => {\n                      this.observability.hooks.handleResponse(progressiveData);\n                    }).catch((error) => {\n                      console.error(\"Error in progressive agent logging:\", error);\n                    });\n                  } catch (error) {\n                    console.error(\"Error preparing progressive agent log data:\", error);\n                  }\n                }\n              }\n            });\n            await callback(eventStream$);\n          });\n        };\n      }\n      eventSource.stream(async (eventStream$) => {\n        (0, import_rxjs.from)(stream).subscribe({\n          next: (event) => eventStream$.next(event),\n          error: async (err) => {\n            var _a2;\n            if (((_a2 = this.observability) == null ? void 0 : _a2.enabled) && publicApiKey) {\n              try {\n                const errorData = {\n                  threadId,\n                  runId: void 0,\n                  model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n                  error: err instanceof Error ? err : String(err),\n                  timestamp: Date.now(),\n                  latency: Date.now() - requestStartTime,\n                  provider: \"agent\",\n                  agentName,\n                  nodeName\n                };\n                this.observability.hooks.handleError(errorData);\n              } catch (logError) {\n                console.error(\"Error logging agent error:\", logError);\n              }\n            }\n            const structuredError = (0, import_shared18.ensureStructuredError)(err, (error) => this.convertStreamingErrorToStructured(error));\n            await this.error(\"error\", {\n              threadId,\n              source: \"agent\",\n              request: {\n                operation: \"processAgentRequest\",\n                method: \"POST\",\n                startTime: requestStartTime\n              },\n              response: {\n                endTime: Date.now(),\n                latency: Date.now() - requestStartTime\n              },\n              agent: {\n                name: agentName,\n                nodeName\n              },\n              technical: {\n                environment: \"development\",\n                stackTrace: err instanceof Error ? err.stack : void 0\n              }\n            }, structuredError, publicApiKey);\n            eventStream$.error(structuredError);\n            eventStream$.complete();\n          },\n          complete: () => eventStream$.complete()\n        });\n      });\n      if (((_d = this.observability) == null ? void 0 : _d.enabled) && publicApiKey) {\n        outputMessagesPromise.then((outputMessages) => {\n          const responseData = {\n            threadId,\n            runId: void 0,\n            model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n            // Use collected chunks for progressive mode or outputMessages for regular mode\n            output: this.observability.progressive ? streamedChunks : outputMessages,\n            latency: Date.now() - requestStartTime,\n            timestamp: Date.now(),\n            provider: \"agent\",\n            isFinalResponse: true,\n            agentName,\n            nodeName\n          };\n          try {\n            this.observability.hooks.handleResponse(responseData);\n          } catch (logError) {\n            console.error(\"Error logging agent response:\", logError);\n          }\n        }).catch((error) => {\n          console.error(\"Failed to get output messages for agent logging:\", error);\n        });\n      }\n      outputMessagesPromise.then((outputMessages) => {\n        var _a2;\n        (_a2 = this.onAfterRequest) == null ? void 0 : _a2.call(this, {\n          threadId,\n          runId: void 0,\n          inputMessages: messages,\n          outputMessages,\n          properties: graphqlContext.properties\n        });\n      }).catch((_error) => {\n      });\n      return {\n        threadId,\n        runId: void 0,\n        eventSource,\n        serverSideActions,\n        actionInputsWithoutAgents: allAvailableActions\n      };\n    } catch (error) {\n      if (((_e = this.observability) == null ? void 0 : _e.enabled) && publicApiKey) {\n        try {\n          const errorData = {\n            threadId,\n            runId: void 0,\n            model: forwardedParameters == null ? void 0 : forwardedParameters.model,\n            error: error instanceof Error ? error : String(error),\n            timestamp: Date.now(),\n            latency: Date.now() - requestStartTime,\n            provider: \"agent\",\n            agentName,\n            nodeName\n          };\n          await this.observability.hooks.handleError(errorData);\n        } catch (logError) {\n          console.error(\"Error logging agent error:\", logError);\n        }\n      }\n      const structuredError = (0, import_shared18.ensureStructuredError)(error, (err) => this.convertStreamingErrorToStructured(err));\n      await this.error(\"error\", {\n        threadId,\n        source: \"agent\",\n        request: {\n          operation: \"processAgentRequest\",\n          method: \"POST\",\n          startTime: requestStartTime\n        },\n        response: {\n          endTime: Date.now(),\n          latency: Date.now() - requestStartTime\n        },\n        agent: {\n          name: agentName,\n          nodeName\n        },\n        technical: {\n          environment: \"development\",\n          stackTrace: error instanceof Error ? error.stack : void 0\n        }\n      }, structuredError, publicApiKey);\n      console.error(\"Error getting response:\", error);\n      throw structuredError;\n    }\n  }\n  async getServerSideActions(request) {\n    var _a, _b, _c;\n    const { graphqlContext, messages: rawMessages, agentStates, url } = request;\n    const inputMessages = convertGqlInputToMessages(rawMessages);\n    const langserveFunctions = [];\n    for (const chainPromise of this.langserve) {\n      try {\n        const chain = await chainPromise;\n        langserveFunctions.push(chain);\n      } catch (error) {\n        console.error(\"Error loading langserve chain:\", error);\n      }\n    }\n    const remoteEndpointDefinitions = this.remoteEndpointDefinitions.map((endpoint) => ({\n      ...endpoint,\n      type: resolveEndpointType(endpoint)\n    }));\n    const remoteActions = await setupRemoteActions({\n      remoteEndpointDefinitions,\n      graphqlContext,\n      messages: inputMessages,\n      agentStates,\n      frontendUrl: url,\n      agents: this.agents,\n      metaEvents: request.metaEvents,\n      nodeName: (_a = request.agentSession) == null ? void 0 : _a.nodeName\n    });\n    const configuredActions = typeof this.actions === \"function\" ? this.actions({\n      properties: graphqlContext.properties,\n      url\n    }) : this.actions;\n    const requestSpecificMCPActions = [];\n    if (this.createMCPClientImpl) {\n      const baseEndpoints = this.mcpServersConfig || [];\n      const requestEndpoints = ((_b = graphqlContext.properties) == null ? void 0 : _b.mcpServers) || ((_c = graphqlContext.properties) == null ? void 0 : _c.mcpEndpoints) || [];\n      const effectiveEndpointsMap = /* @__PURE__ */ new Map();\n      [\n        ...baseEndpoints\n      ].forEach((ep) => {\n        if (ep && ep.endpoint) {\n          effectiveEndpointsMap.set(ep.endpoint, ep);\n        }\n      });\n      [\n        ...requestEndpoints\n      ].forEach((ep) => {\n        if (ep && ep.endpoint) {\n          effectiveEndpointsMap.set(ep.endpoint, ep);\n        }\n      });\n      const effectiveEndpoints = Array.from(effectiveEndpointsMap.values());\n      for (const config2 of effectiveEndpoints) {\n        const endpointUrl = config2.endpoint;\n        let actionsForEndpoint = this.mcpActionCache.get(endpointUrl);\n        if (!actionsForEndpoint) {\n          let client = null;\n          try {\n            client = await this.createMCPClientImpl(config2);\n            const tools = await client.tools();\n            actionsForEndpoint = convertMCPToolsToActions(tools, endpointUrl);\n            this.mcpActionCache.set(endpointUrl, actionsForEndpoint);\n          } catch (error) {\n            console.error(`MCP: Failed to fetch tools from endpoint ${endpointUrl}. Skipping. Error:`, error);\n            actionsForEndpoint = [];\n            this.mcpActionCache.set(endpointUrl, actionsForEndpoint);\n          }\n        }\n        requestSpecificMCPActions.push(...actionsForEndpoint || []);\n      }\n    }\n    return [\n      ...configuredActions,\n      ...langserveFunctions,\n      ...remoteActions,\n      ...requestSpecificMCPActions\n    ];\n  }\n  // Add helper method to detect provider\n  detectProvider(serviceAdapter) {\n    const adapterName = serviceAdapter.constructor.name;\n    if (adapterName.includes(\"OpenAI\"))\n      return \"openai\";\n    if (adapterName.includes(\"Anthropic\"))\n      return \"anthropic\";\n    if (adapterName.includes(\"Google\"))\n      return \"google\";\n    if (adapterName.includes(\"Groq\"))\n      return \"groq\";\n    if (adapterName.includes(\"LangChain\"))\n      return \"langchain\";\n    return void 0;\n  }\n  convertStreamingErrorToStructured(error) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    let helpfulMessage = generateHelpfulErrorMessage(error, \"agent streaming connection\");\n    if (((_a = error == null ? void 0 : error.message) == null ? void 0 : _a.includes(\"fetch failed\")) || ((_b = error == null ? void 0 : error.message) == null ? void 0 : _b.includes(\"ECONNREFUSED\")) || ((_c = error == null ? void 0 : error.message) == null ? void 0 : _c.includes(\"ENOTFOUND\")) || ((_d = error == null ? void 0 : error.message) == null ? void 0 : _d.includes(\"ETIMEDOUT\")) || ((_e = error == null ? void 0 : error.message) == null ? void 0 : _e.includes(\"terminated\")) || ((_f = error == null ? void 0 : error.cause) == null ? void 0 : _f.code) === \"UND_ERR_SOCKET\" || ((_g = error == null ? void 0 : error.message) == null ? void 0 : _g.includes(\"other side closed\")) || (error == null ? void 0 : error.code) === \"UND_ERR_SOCKET\") {\n      return new import_shared18.CopilotKitLowLevelError({\n        error: error instanceof Error ? error : new Error(String(error)),\n        url: \"agent streaming connection\",\n        message: helpfulMessage\n      });\n    }\n    return new import_shared18.CopilotKitError({\n      message: helpfulMessage,\n      code: import_shared18.CopilotKitErrorCode.UNKNOWN\n    });\n  }\n  async error(type, context, error, publicApiKey) {\n    if (!this.onError)\n      return;\n    if (!publicApiKey) {\n      if (!this.hasWarnedAboutError) {\n        console.warn(\"CopilotKit: onError handler provided but requires publicApiKey to be defined for error handling to work.\");\n        this.hasWarnedAboutError = true;\n      }\n      return;\n    }\n    try {\n      const errorEvent = {\n        type,\n        timestamp: Date.now(),\n        context,\n        ...error && {\n          error\n        }\n      };\n      await this.onError(errorEvent);\n    } catch (errorHandlerError) {\n      console.error(\"Error in onError handler:\", errorHandlerError);\n    }\n  }\n  /**\n  * Public method to handle GraphQL validation errors\n  * This allows the GraphQL resolver to send validation errors through the error system\n  */\n  async errorGraphQLError(error, context) {\n    if (!this.onError)\n      return;\n    try {\n      await this.onError({\n        type: \"error\",\n        timestamp: Date.now(),\n        context: {\n          source: \"runtime\",\n          request: {\n            operation: context.operation,\n            startTime: Date.now()\n          },\n          technical: {\n            environment: \"development\"\n          },\n          metadata: {\n            errorType: \"GraphQLValidationError\",\n            cloudConfigPresent: context.cloudConfigPresent,\n            guardrailsEnabled: context.guardrailsEnabled\n          }\n        },\n        error\n      });\n    } catch (errorHandlerError) {\n      console.error(\"Error in onError handler:\", errorHandlerError);\n    }\n  }\n};\n__name(CopilotRuntime, \"CopilotRuntime\");\nfunction flattenToolCallsNoDuplicates(toolsByPriority) {\n  let allTools = [];\n  const allToolNames = [];\n  for (const tool of toolsByPriority) {\n    if (!allToolNames.includes(tool.name)) {\n      allTools.push(tool);\n      allToolNames.push(tool.name);\n    }\n  }\n  return allTools;\n}\n__name(flattenToolCallsNoDuplicates, \"flattenToolCallsNoDuplicates\");\nfunction copilotKitEndpoint(config2) {\n  return {\n    ...config2,\n    type: EndpointType.CopilotKit\n  };\n}\n__name(copilotKitEndpoint, \"copilotKitEndpoint\");\nfunction langGraphPlatformEndpoint(config2) {\n  return {\n    ...config2,\n    type: EndpointType.LangGraphPlatform\n  };\n}\n__name(langGraphPlatformEndpoint, \"langGraphPlatformEndpoint\");\nfunction resolveEndpointType(endpoint) {\n  if (!endpoint.type) {\n    if (\"deploymentUrl\" in endpoint && \"agents\" in endpoint) {\n      return EndpointType.LangGraphPlatform;\n    } else {\n      return EndpointType.CopilotKit;\n    }\n  }\n  return endpoint.type;\n}\n__name(resolveEndpointType, \"resolveEndpointType\");\n\n// src/lib/telemetry-client.ts\nvar packageJson = require_package();\nvar telemetryClient = new import_shared19.TelemetryClient({\n  packageName: packageJson.name,\n  packageVersion: packageJson.version\n});\nfunction getRuntimeInstanceTelemetryInfo(options) {\n  var _a, _b;\n  const runtime = options.runtime;\n  const endpointsInfo = runtime.remoteEndpointDefinitions.reduce((acc, endpoint) => {\n    let info = {\n      ...acc\n    };\n    const endpointType = resolveEndpointType(endpoint);\n    if (!info.endpointTypes.includes(endpointType)) {\n      info = {\n        ...info,\n        endpointTypes: [\n          ...info.endpointTypes,\n          endpointType\n        ]\n      };\n    }\n    if (endpointType === EndpointType.LangGraphPlatform) {\n      const ep = endpoint;\n      info = {\n        ...info,\n        agentsAmount: ep.agents.length,\n        hashedKey: ep.langsmithApiKey ? (0, import_node_crypto2.createHash)(\"sha256\").update(ep.langsmithApiKey).digest(\"hex\") : null\n      };\n    }\n    return info;\n  }, {\n    endpointTypes: [],\n    agentsAmount: null,\n    hashedKey: null\n  });\n  const publicApiKey = (_a = options.cloud) == null ? void 0 : _a.publicApiKey;\n  const apiKeyProvided = !!publicApiKey && publicApiKey.trim().length > 0;\n  return {\n    actionsAmount: runtime.actions.length,\n    endpointsAmount: runtime.remoteEndpointDefinitions.length,\n    endpointTypes: endpointsInfo.endpointTypes,\n    agentsAmount: endpointsInfo.agentsAmount,\n    hashedLgcKey: endpointsInfo.hashedKey,\n    \"cloud.api_key_provided\": apiKeyProvided,\n    ...apiKeyProvided ? {\n      \"cloud.public_api_key\": publicApiKey\n    } : {},\n    ...((_b = options.cloud) == null ? void 0 : _b.baseUrl) ? {\n      \"cloud.base_url\": options.cloud.baseUrl\n    } : {}\n  };\n}\n__name(getRuntimeInstanceTelemetryInfo, \"getRuntimeInstanceTelemetryInfo\");\nvar telemetry_client_default = telemetryClient;\n\n// src/agents/langgraph/event-source.ts\nvar import_shared20 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_rxjs2 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\nvar RemoteLangGraphEventSource = class {\n  eventStream$ = new import_rxjs2.ReplaySubject();\n  shouldEmitToolCall(shouldEmitToolCalls, toolCallName) {\n    if (typeof shouldEmitToolCalls === \"boolean\") {\n      return shouldEmitToolCalls;\n    }\n    if (Array.isArray(shouldEmitToolCalls)) {\n      return shouldEmitToolCalls.includes(toolCallName);\n    }\n    return shouldEmitToolCalls === toolCallName;\n  }\n  getCurrentContent(event) {\n    var _a, _b, _c, _d, _e;\n    const content = ((_c = (_b = (_a = event.data) == null ? void 0 : _a.chunk) == null ? void 0 : _b.kwargs) == null ? void 0 : _c.content) ?? ((_e = (_d = event.data) == null ? void 0 : _d.chunk) == null ? void 0 : _e.content);\n    if (!content) {\n      const toolCallChunks = this.getCurrentToolCallChunks(event) ?? [];\n      for (const chunk of toolCallChunks) {\n        if (chunk.args) {\n          return chunk.args;\n        }\n      }\n    }\n    if (typeof content === \"string\") {\n      return content;\n    } else if (Array.isArray(content) && content.length > 0) {\n      return content[0].text;\n    }\n    return null;\n  }\n  getCurrentMessageId(event) {\n    var _a, _b, _c, _d, _e;\n    return ((_c = (_b = (_a = event.data) == null ? void 0 : _a.chunk) == null ? void 0 : _b.kwargs) == null ? void 0 : _c.id) ?? ((_e = (_d = event.data) == null ? void 0 : _d.chunk) == null ? void 0 : _e.id);\n  }\n  getCurrentToolCallChunks(event) {\n    var _a, _b, _c, _d, _e;\n    return ((_c = (_b = (_a = event.data) == null ? void 0 : _a.chunk) == null ? void 0 : _b.kwargs) == null ? void 0 : _c.tool_call_chunks) ?? ((_e = (_d = event.data) == null ? void 0 : _d.chunk) == null ? void 0 : _e.tool_call_chunks);\n  }\n  getResponseMetadata(event) {\n    var _a, _b, _c, _d, _e;\n    return ((_c = (_b = (_a = event.data) == null ? void 0 : _a.chunk) == null ? void 0 : _b.kwargs) == null ? void 0 : _c.response_metadata) ?? ((_e = (_d = event.data) == null ? void 0 : _d.chunk) == null ? void 0 : _e.response_metadata);\n  }\n  processLangGraphEvents() {\n    let lastEventWithState = null;\n    return this.eventStream$.pipe((0, import_rxjs2.scan)((acc, event) => {\n      if (event.event === LangGraphEventTypes.OnChatModelStream) {\n        const prevMessageId = acc.lastMessageId;\n        acc.currentContent = this.getCurrentContent(event);\n        acc.lastMessageId = this.getCurrentMessageId(event) ?? acc.lastMessageId;\n        const toolCallChunks = this.getCurrentToolCallChunks(event) ?? [];\n        const responseMetadata = this.getResponseMetadata(event);\n        const toolCallCheck = toolCallChunks && toolCallChunks.length > 0;\n        let isToolCallEnd = (responseMetadata == null ? void 0 : responseMetadata.finish_reason) === \"tool_calls\";\n        acc.isToolCallStart = toolCallChunks.some((chunk) => chunk.name && chunk.id);\n        acc.isMessageStart = prevMessageId !== acc.lastMessageId && !acc.isToolCallStart;\n        let previousRoundHadToolCall = acc.isToolCall;\n        acc.isToolCall = toolCallCheck;\n        if (previousRoundHadToolCall && !toolCallCheck) {\n          isToolCallEnd = true;\n        }\n        acc.isToolCallEnd = isToolCallEnd;\n        acc.isMessageEnd = (responseMetadata == null ? void 0 : responseMetadata.finish_reason) === \"stop\";\n        ({ name: acc.lastToolCallName, id: acc.lastToolCallId } = toolCallChunks.find((chunk) => chunk.name && chunk.id) ?? {\n          name: acc.lastToolCallName,\n          id: acc.lastToolCallId\n        });\n      }\n      acc.event = event;\n      lastEventWithState = acc;\n      return acc;\n    }, {\n      event: null,\n      isMessageStart: false,\n      isMessageEnd: false,\n      isToolCallStart: false,\n      isToolCallEnd: false,\n      isToolCall: false,\n      lastMessageId: null,\n      lastToolCallId: null,\n      lastToolCallName: null,\n      currentContent: null,\n      processedToolCallIds: /* @__PURE__ */ new Set()\n    }), (0, import_rxjs2.mergeMap)((acc) => {\n      const events = [];\n      let shouldEmitMessages = true;\n      let shouldEmitToolCalls = true;\n      if (acc.event.event == LangGraphEventTypes.OnChatModelStream) {\n        if (\"copilotkit:emit-tool-calls\" in (acc.event.metadata || {})) {\n          shouldEmitToolCalls = acc.event.metadata[\"copilotkit:emit-tool-calls\"];\n        }\n        if (\"copilotkit:emit-messages\" in (acc.event.metadata || {})) {\n          shouldEmitMessages = acc.event.metadata[\"copilotkit:emit-messages\"];\n        }\n      }\n      if (acc.event.event === LangGraphEventTypes.OnInterrupt) {\n        events.push({\n          type: RuntimeEventTypes.MetaEvent,\n          name: RuntimeMetaEventName.LangGraphInterruptEvent,\n          value: acc.event.value\n        });\n      }\n      if (acc.event.event === LangGraphEventTypes.OnCopilotKitInterrupt) {\n        events.push({\n          type: RuntimeEventTypes.MetaEvent,\n          name: RuntimeMetaEventName.CopilotKitLangGraphInterruptEvent,\n          data: acc.event.data\n        });\n      }\n      if (acc.event.event === LangGraphEventTypes.OnCopilotKitError) {\n        const errorData = acc.event.data.error;\n        const preservedError = new import_shared20.CopilotKitLowLevelError({\n          error: new Error(errorData.message),\n          url: \"langgraph agent\",\n          message: `${errorData.type}: ${errorData.message}`\n        });\n        if (errorData.status_code) {\n          preservedError.statusCode = errorData.status_code;\n        }\n        if (errorData.response_data) {\n          preservedError.responseData = errorData.response_data;\n        }\n        preservedError.agentName = errorData.agent_name;\n        preservedError.originalErrorType = errorData.type;\n        throw preservedError;\n      }\n      const responseMetadata = this.getResponseMetadata(acc.event);\n      if (acc.isToolCallEnd && this.shouldEmitToolCall(shouldEmitToolCalls, acc.lastToolCallName) && acc.lastToolCallId && !acc.processedToolCallIds.has(acc.lastToolCallId)) {\n        acc.processedToolCallIds.add(acc.lastToolCallId);\n        events.push({\n          type: RuntimeEventTypes.ActionExecutionEnd,\n          actionExecutionId: acc.lastToolCallId\n        });\n      } else if ((responseMetadata == null ? void 0 : responseMetadata.finish_reason) === \"stop\" && shouldEmitMessages) {\n        events.push({\n          type: RuntimeEventTypes.TextMessageEnd,\n          messageId: acc.lastMessageId\n        });\n      }\n      switch (acc.event.event) {\n        case LangGraphEventTypes.OnCustomEvent:\n          if (acc.event.name === CustomEventNames.CopilotKitManuallyEmitMessage) {\n            events.push({\n              type: RuntimeEventTypes.TextMessageStart,\n              messageId: acc.event.data.message_id\n            });\n            events.push({\n              type: RuntimeEventTypes.TextMessageContent,\n              messageId: acc.event.data.message_id,\n              content: acc.event.data.message\n            });\n            events.push({\n              type: RuntimeEventTypes.TextMessageEnd,\n              messageId: acc.event.data.message_id\n            });\n          } else if (acc.event.name === CustomEventNames.CopilotKitManuallyEmitToolCall) {\n            events.push({\n              type: RuntimeEventTypes.ActionExecutionStart,\n              actionExecutionId: acc.event.data.id,\n              actionName: acc.event.data.name,\n              parentMessageId: acc.event.data.id\n            });\n            events.push({\n              type: RuntimeEventTypes.ActionExecutionArgs,\n              actionExecutionId: acc.event.data.id,\n              args: JSON.stringify(acc.event.data.args)\n            });\n            events.push({\n              type: RuntimeEventTypes.ActionExecutionEnd,\n              actionExecutionId: acc.event.data.id\n            });\n          }\n          break;\n        case LangGraphEventTypes.OnCopilotKitStateSync:\n          events.push({\n            type: RuntimeEventTypes.AgentStateMessage,\n            threadId: acc.event.thread_id,\n            role: acc.event.role,\n            agentName: acc.event.agent_name,\n            nodeName: acc.event.node_name,\n            runId: acc.event.run_id,\n            active: acc.event.active,\n            state: JSON.stringify(acc.event.state),\n            running: acc.event.running\n          });\n          break;\n        case LangGraphEventTypes.OnChatModelStream:\n          if (acc.isToolCallStart && this.shouldEmitToolCall(shouldEmitToolCalls, acc.lastToolCallName)) {\n            events.push({\n              type: RuntimeEventTypes.ActionExecutionStart,\n              actionExecutionId: acc.lastToolCallId,\n              actionName: acc.lastToolCallName,\n              parentMessageId: acc.lastMessageId\n            });\n          } else if (acc.isMessageStart && shouldEmitMessages) {\n            acc.processedToolCallIds.clear();\n            events.push({\n              type: RuntimeEventTypes.TextMessageStart,\n              messageId: acc.lastMessageId\n            });\n          }\n          if (acc.isToolCall && acc.currentContent && this.shouldEmitToolCall(shouldEmitToolCalls, acc.lastToolCallName)) {\n            events.push({\n              type: RuntimeEventTypes.ActionExecutionArgs,\n              actionExecutionId: acc.lastToolCallId,\n              args: acc.currentContent\n            });\n          } else if (!acc.isToolCall && acc.currentContent && shouldEmitMessages) {\n            events.push({\n              type: RuntimeEventTypes.TextMessageContent,\n              messageId: acc.lastMessageId,\n              content: acc.currentContent\n            });\n          }\n          break;\n      }\n      return events;\n    }), (0, import_rxjs2.catchError)((error) => {\n      if ((0, import_shared20.isStructuredCopilotKitError)(error)) {\n        throw error;\n      }\n      let helpfulMessage = generateHelpfulErrorMessage(error, \"LangGraph agent connection\");\n      throw new import_shared20.CopilotKitLowLevelError({\n        error: error instanceof Error ? error : new Error(String(error)),\n        url: \"langgraph event stream\",\n        message: helpfulMessage\n      });\n    }));\n  }\n};\n__name(RemoteLangGraphEventSource, \"RemoteLangGraphEventSource\");\n\n// src/lib/runtime/remote-action-constructors.ts\nvar import_shared21 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_shared22 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar import_shared23 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction constructLGCRemoteAction({ endpoint, graphqlContext, logger: logger2, messages, agentStates }) {\n  const agents = endpoint.agents.map((agent) => ({\n    name: agent.name,\n    description: agent.description,\n    parameters: [],\n    handler: async (_args) => {\n    },\n    remoteAgentHandler: async ({ name, actionInputsWithoutAgents, threadId, nodeName, additionalMessages = [], metaEvents }) => {\n      logger2.debug({\n        actionName: agent.name\n      }, \"Executing LangGraph Platform agent\");\n      telemetry_client_default.capture(\"oss.runtime.remote_action_executed\", {\n        agentExecution: true,\n        type: \"langgraph-platform\",\n        agentsAmount: endpoint.agents.length,\n        hashedLgcKey: endpoint.langsmithApiKey ? (0, import_node_crypto3.createHash)(\"sha256\").update(endpoint.langsmithApiKey).digest(\"hex\") : null\n      });\n      let state = {};\n      let config2 = {};\n      if (agentStates) {\n        const jsonState = agentStates.find((state2) => state2.agentName === name);\n        if (jsonState) {\n          state = (0, import_shared23.parseJson)(jsonState.state, {});\n          config2 = (0, import_shared23.parseJson)(jsonState.config, {});\n        }\n      }\n      try {\n        const response = await execute({\n          logger: logger2.child({\n            component: \"remote-actions.remote-lg-action.streamEvents\"\n          }),\n          deploymentUrl: endpoint.deploymentUrl,\n          langsmithApiKey: endpoint.langsmithApiKey,\n          agent,\n          threadId,\n          nodeName,\n          messages: [\n            ...messages,\n            ...additionalMessages\n          ],\n          state,\n          config: config2,\n          properties: graphqlContext.properties,\n          actions: (0, import_shared23.tryMap)(actionInputsWithoutAgents, (action) => ({\n            name: action.name,\n            description: action.description,\n            parameters: JSON.parse(action.jsonSchema)\n          })),\n          metaEvents\n        });\n        const eventSource = new RemoteLangGraphEventSource();\n        writeJsonLineResponseToEventStream(response, eventSource.eventStream$);\n        return eventSource.processLangGraphEvents();\n      } catch (error) {\n        if (error instanceof import_shared21.CopilotKitError || error instanceof import_shared21.CopilotKitLowLevelError) {\n          if (isUserConfigurationError(error)) {\n            logger2.debug({\n              url: endpoint.deploymentUrl,\n              error: error.message,\n              code: error.code\n            }, \"User configuration error in LangGraph Platform agent\");\n          } else {\n            logger2.error({\n              url: endpoint.deploymentUrl,\n              error: error.message,\n              type: error.constructor.name\n            }, \"LangGraph Platform agent error\");\n          }\n          throw error;\n        }\n        logger2.error({\n          url: endpoint.deploymentUrl,\n          status: 500,\n          body: error.message\n        }, \"Failed to execute LangGraph Platform agent\");\n        throw new import_shared21.CopilotKitLowLevelError({\n          error: error instanceof Error ? error : new Error(String(error)),\n          url: endpoint.deploymentUrl,\n          message: \"Failed to execute LangGraph Platform agent\"\n        });\n      }\n    }\n  }));\n  return [\n    ...agents\n  ];\n}\n__name(constructLGCRemoteAction, \"constructLGCRemoteAction\");\nvar RemoteAgentType;\n(function(RemoteAgentType2) {\n  RemoteAgentType2[\"LangGraph\"] = \"langgraph\";\n  RemoteAgentType2[\"CrewAI\"] = \"crewai\";\n})(RemoteAgentType || (RemoteAgentType = {}));\nfunction constructRemoteActions({ json, url, onBeforeRequest, graphqlContext, logger: logger2, messages, agentStates }) {\n  const totalAgents = Array.isArray(json[\"agents\"]) ? json[\"agents\"].length : 0;\n  const actions = json[\"actions\"].map((action) => ({\n    name: action.name,\n    description: action.description,\n    parameters: action.parameters,\n    handler: async (args) => {\n      logger2.debug({\n        actionName: action.name,\n        args\n      }, \"Executing remote action\");\n      const headers = createHeaders(onBeforeRequest, graphqlContext);\n      telemetry_client_default.capture(\"oss.runtime.remote_action_executed\", {\n        agentExecution: false,\n        type: \"self-hosted\",\n        agentsAmount: totalAgents\n      });\n      const fetchUrl = `${url}/actions/execute`;\n      try {\n        const response = await fetchWithRetry(fetchUrl, {\n          method: \"POST\",\n          headers,\n          body: JSON.stringify({\n            name: action.name,\n            arguments: args,\n            properties: graphqlContext.properties\n          })\n        }, logger2);\n        if (!response.ok) {\n          logger2.error({\n            url,\n            status: response.status,\n            body: await response.text()\n          }, \"Failed to execute remote action\");\n          if (response.status === 404) {\n            throw new import_shared22.CopilotKitApiDiscoveryError({\n              url: fetchUrl\n            });\n          }\n          throw new import_shared22.ResolvedCopilotKitError({\n            status: response.status,\n            url: fetchUrl,\n            isRemoteEndpoint: true\n          });\n        }\n        const requestResult = await response.json();\n        const result = requestResult[\"result\"];\n        logger2.debug({\n          actionName: action.name,\n          result\n        }, \"Executed remote action\");\n        return result;\n      } catch (error) {\n        if (error instanceof import_shared21.CopilotKitError || error instanceof import_shared21.CopilotKitLowLevelError) {\n          throw error;\n        }\n        throw new import_shared21.CopilotKitLowLevelError({\n          error,\n          url: fetchUrl\n        });\n      }\n    }\n  }));\n  const agents = totalAgents ? json[\"agents\"].map((agent) => ({\n    name: agent.name,\n    description: agent.description,\n    parameters: [],\n    handler: async (_args) => {\n    },\n    remoteAgentHandler: async ({ name, actionInputsWithoutAgents, threadId, nodeName, additionalMessages = [], metaEvents }) => {\n      logger2.debug({\n        actionName: agent.name\n      }, \"Executing remote agent\");\n      const headers = createHeaders(onBeforeRequest, graphqlContext);\n      telemetry_client_default.capture(\"oss.runtime.remote_action_executed\", {\n        agentExecution: true,\n        type: \"self-hosted\",\n        agentsAmount: json[\"agents\"].length\n      });\n      let state = {};\n      let config2 = {};\n      if (agentStates) {\n        const jsonState = agentStates.find((state2) => state2.agentName === name);\n        if (jsonState) {\n          state = (0, import_shared23.parseJson)(jsonState.state, {});\n          config2 = (0, import_shared23.parseJson)(jsonState.config, {});\n        }\n      }\n      const fetchUrl = `${url}/agents/execute`;\n      try {\n        const response = await fetchWithRetry(fetchUrl, {\n          method: \"POST\",\n          headers,\n          body: JSON.stringify({\n            name,\n            threadId,\n            nodeName,\n            messages: [\n              ...messages,\n              ...additionalMessages\n            ],\n            state,\n            config: config2,\n            properties: graphqlContext.properties,\n            actions: (0, import_shared23.tryMap)(actionInputsWithoutAgents, (action) => ({\n              name: action.name,\n              description: action.description,\n              parameters: JSON.parse(action.jsonSchema)\n            })),\n            metaEvents\n          })\n        }, logger2);\n        if (!response.ok) {\n          logger2.error({\n            url,\n            status: response.status,\n            body: await response.text()\n          }, \"Failed to execute remote agent\");\n          if (response.status === 404) {\n            throw new import_shared22.CopilotKitApiDiscoveryError({\n              url: fetchUrl\n            });\n          }\n          throw new import_shared22.ResolvedCopilotKitError({\n            status: response.status,\n            url: fetchUrl,\n            isRemoteEndpoint: true\n          });\n        }\n        if (agent.type === \"langgraph\") {\n          const eventSource = new RemoteLangGraphEventSource();\n          writeJsonLineResponseToEventStream(response.body, eventSource.eventStream$);\n          return eventSource.processLangGraphEvents();\n        } else if (agent.type === \"crewai\") {\n          const eventStream$ = new RuntimeEventSubject();\n          writeJsonLineResponseToEventStream(response.body, eventStream$);\n          return eventStream$;\n        } else {\n          throw new Error(\"Unsupported agent type\");\n        }\n      } catch (error) {\n        if (error instanceof import_shared21.CopilotKitError || error instanceof import_shared21.CopilotKitLowLevelError) {\n          throw error;\n        }\n        throw new import_shared21.CopilotKitLowLevelError({\n          error,\n          url: fetchUrl\n        });\n      }\n    }\n  })) : [];\n  return [\n    ...actions,\n    ...agents\n  ];\n}\n__name(constructRemoteActions, \"constructRemoteActions\");\nfunction createHeaders(onBeforeRequest, graphqlContext) {\n  const headers = {\n    \"Content-Type\": \"application/json\"\n  };\n  if (onBeforeRequest) {\n    const { headers: additionalHeaders } = onBeforeRequest({\n      ctx: graphqlContext\n    });\n    if (additionalHeaders) {\n      Object.assign(headers, additionalHeaders);\n    }\n  }\n  return headers;\n}\n__name(createHeaders, \"createHeaders\");\n\n// src/lib/runtime/remote-actions.ts\nvar import_shared26 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/lib/runtime/agui-action.ts\nvar import_rxjs3 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\nvar import_shared24 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction constructAGUIRemoteAction({ logger: logger2, messages, agentStates, agent, metaEvents, threadMetadata, nodeName, graphqlContext }) {\n  const action = {\n    name: agent.agentId,\n    description: agent.description,\n    parameters: [],\n    handler: async (_args) => {\n    },\n    remoteAgentHandler: async ({ actionInputsWithoutAgents, threadId }) => {\n      var _a;\n      logger2.debug({\n        actionName: agent.agentId\n      }, \"Executing remote agent\");\n      const agentWireMessages = convertMessagesToAGUIMessage(messages);\n      agent.messages = agentWireMessages;\n      agent.threadId = threadId;\n      telemetry_client_default.capture(\"oss.runtime.remote_action_executed\", {\n        agentExecution: true,\n        type: \"self-hosted\",\n        agentsAmount: 1\n      });\n      let state = {};\n      let config2 = {};\n      if (agentStates) {\n        const jsonState = agentStates.find((state2) => state2.agentName === agent.agentId);\n        if (jsonState) {\n          state = (0, import_shared24.parseJson)(jsonState.state, {});\n          config2 = (0, import_shared24.parseJson)(jsonState.config, {});\n        }\n      }\n      agent.state = state;\n      const tools = actionInputsWithoutAgents.map((input) => {\n        return {\n          name: input.name,\n          description: input.description,\n          parameters: JSON.parse(input.jsonSchema)\n        };\n      });\n      const { streamSubgraphs, ...restConfig } = config2;\n      const forwardedProps = {\n        config: restConfig,\n        ...(metaEvents == null ? void 0 : metaEvents.length) ? {\n          command: {\n            resume: (_a = metaEvents[0]) == null ? void 0 : _a.response\n          }\n        } : {},\n        ...threadMetadata ? {\n          threadMetadata\n        } : {},\n        ...nodeName ? {\n          nodeName\n        } : {},\n        ...streamSubgraphs ? {\n          streamSubgraphs\n        } : {},\n        // Forward properties from the graphql context to the agent, e.g Authorization token\n        ...graphqlContext.properties\n      };\n      return agent.legacy_to_be_removed_runAgentBridged({\n        tools,\n        forwardedProps\n      }).pipe((0, import_rxjs3.mergeMap)((event) => {\n        if (event.type === RuntimeEventTypes.RunError) {\n          const { message } = event;\n          return (0, import_rxjs3.throwError)(() => new import_shared24.CopilotKitError({\n            message,\n            code: import_shared24.CopilotKitErrorCode.UNKNOWN\n          }));\n        }\n        return (0, import_rxjs3.of)(event);\n      }), (0, import_rxjs3.catchError)((err) => {\n        throw new import_shared24.CopilotKitError({\n          message: err.message,\n          code: import_shared24.CopilotKitErrorCode.UNKNOWN\n        });\n      }));\n    }\n  };\n  return [\n    action\n  ];\n}\n__name(constructAGUIRemoteAction, \"constructAGUIRemoteAction\");\nfunction convertMessagesToAGUIMessage(messages) {\n  const result = [];\n  for (const message of messages) {\n    if (message.isTextMessage()) {\n      result.push({\n        id: message.id,\n        role: message.role,\n        content: message.content\n      });\n    } else if (message.isActionExecutionMessage()) {\n      const toolCall = {\n        id: message.id,\n        type: \"function\",\n        function: {\n          name: message.name,\n          arguments: JSON.stringify(message.arguments)\n        }\n      };\n      if (message.parentMessageId && result.some((m) => m.id === message.parentMessageId)) {\n        const parentMessage = result.find((m) => m.id === message.parentMessageId);\n        if (parentMessage.toolCalls === void 0) {\n          parentMessage.toolCalls = [];\n        }\n        parentMessage.toolCalls.push(toolCall);\n      } else {\n        result.push({\n          id: message.parentMessageId ?? message.id,\n          role: \"assistant\",\n          toolCalls: [\n            toolCall\n          ]\n        });\n      }\n    } else if (message.isResultMessage()) {\n      result.push({\n        id: message.id,\n        role: \"tool\",\n        content: message.result,\n        toolCallId: message.actionExecutionId\n      });\n    }\n  }\n  return result;\n}\n__name(convertMessagesToAGUIMessage, \"convertMessagesToAGUIMessage\");\n\n// src/lib/runtime/remote-actions.ts\nvar EndpointType;\n(function(EndpointType2) {\n  EndpointType2[\"CopilotKit\"] = \"copilotKit\";\n  EndpointType2[\"LangGraphPlatform\"] = \"langgraph-platform\";\n})(EndpointType || (EndpointType = {}));\nfunction isRemoteAgentAction(action) {\n  if (!action) {\n    return false;\n  }\n  return typeof action.remoteAgentHandler === \"function\";\n}\n__name(isRemoteAgentAction, \"isRemoteAgentAction\");\nasync function fetchRemoteInfo({ url, onBeforeRequest, graphqlContext, logger: logger2, frontendUrl }) {\n  logger2.debug({\n    url\n  }, \"Fetching actions from url\");\n  const headers = createHeaders(onBeforeRequest, graphqlContext);\n  const fetchUrl = `${url}/info`;\n  try {\n    const response = await fetch(fetchUrl, {\n      method: \"POST\",\n      headers,\n      body: JSON.stringify({\n        properties: graphqlContext.properties,\n        frontendUrl\n      })\n    });\n    if (!response.ok) {\n      logger2.error({\n        url,\n        status: response.status,\n        body: await response.text()\n      }, \"Failed to fetch actions from url\");\n      throw new import_shared26.ResolvedCopilotKitError({\n        status: response.status,\n        url: fetchUrl,\n        isRemoteEndpoint: true\n      });\n    }\n    const json = await response.json();\n    logger2.debug({\n      json\n    }, \"Fetched actions from url\");\n    return json;\n  } catch (error) {\n    if (error instanceof import_shared26.CopilotKitError) {\n      throw error;\n    }\n    throw new import_shared26.CopilotKitLowLevelError({\n      error,\n      url: fetchUrl\n    });\n  }\n}\n__name(fetchRemoteInfo, \"fetchRemoteInfo\");\nasync function setupRemoteActions({ remoteEndpointDefinitions, graphqlContext, messages, agentStates, frontendUrl, agents, metaEvents, nodeName }) {\n  var _a;\n  const logger2 = graphqlContext.logger.child({\n    component: \"remote-actions.fetchRemoteActions\"\n  });\n  logger2.debug({\n    remoteEndpointDefinitions\n  }, \"Fetching from remote endpoints\");\n  const threadMetadata = ((_a = graphqlContext.properties) == null ? void 0 : _a.threadMetadata) || {};\n  const filtered = remoteEndpointDefinitions.filter((value, index, self) => {\n    if (value.type === \"langgraph-platform\") {\n      return value;\n    }\n    return index === self.findIndex((t) => t.url === value.url);\n  });\n  const result = await Promise.all(filtered.map(async (endpoint) => {\n    if (endpoint.type === \"langgraph-platform\") {\n      return constructLGCRemoteAction({\n        endpoint,\n        messages,\n        graphqlContext,\n        logger: logger2.child({\n          component: \"remote-actions.constructLGCRemoteAction\",\n          endpoint\n        }),\n        agentStates\n      });\n    }\n    const json = await fetchRemoteInfo({\n      url: endpoint.url,\n      onBeforeRequest: endpoint.onBeforeRequest,\n      graphqlContext,\n      logger: logger2.child({\n        component: \"remote-actions.fetchActionsFromUrl\",\n        endpoint\n      }),\n      frontendUrl\n    });\n    return constructRemoteActions({\n      json,\n      messages,\n      url: endpoint.url,\n      onBeforeRequest: endpoint.onBeforeRequest,\n      graphqlContext,\n      logger: logger2.child({\n        component: \"remote-actions.constructActions\",\n        endpoint\n      }),\n      agentStates\n    });\n  }));\n  for (const [key, agent] of Object.entries(agents)) {\n    if (agent.agentId !== void 0 && agent.agentId !== key) {\n      throw new import_shared26.CopilotKitError({\n        message: `Agent ${key} has agentId ${agent.agentId} which does not match the key ${key}`,\n        code: import_shared25.CopilotKitErrorCode.UNKNOWN\n      });\n    } else if (agent.agentId === void 0) {\n      agent.agentId = key;\n    }\n    result.push(constructAGUIRemoteAction({\n      logger: logger2,\n      messages,\n      agentStates,\n      agent,\n      metaEvents,\n      threadMetadata,\n      nodeName,\n      graphqlContext\n    }));\n  }\n  return result.flat();\n}\n__name(setupRemoteActions, \"setupRemoteActions\");\n\n// src/service-adapters/events.ts\nvar RuntimeEventTypes;\n(function(RuntimeEventTypes2) {\n  RuntimeEventTypes2[\"TextMessageStart\"] = \"TextMessageStart\";\n  RuntimeEventTypes2[\"TextMessageContent\"] = \"TextMessageContent\";\n  RuntimeEventTypes2[\"TextMessageEnd\"] = \"TextMessageEnd\";\n  RuntimeEventTypes2[\"ActionExecutionStart\"] = \"ActionExecutionStart\";\n  RuntimeEventTypes2[\"ActionExecutionArgs\"] = \"ActionExecutionArgs\";\n  RuntimeEventTypes2[\"ActionExecutionEnd\"] = \"ActionExecutionEnd\";\n  RuntimeEventTypes2[\"ActionExecutionResult\"] = \"ActionExecutionResult\";\n  RuntimeEventTypes2[\"AgentStateMessage\"] = \"AgentStateMessage\";\n  RuntimeEventTypes2[\"MetaEvent\"] = \"MetaEvent\";\n  RuntimeEventTypes2[\"RunError\"] = \"RunError\";\n})(RuntimeEventTypes || (RuntimeEventTypes = {}));\nvar RuntimeMetaEventName;\n(function(RuntimeMetaEventName2) {\n  RuntimeMetaEventName2[\"LangGraphInterruptEvent\"] = \"LangGraphInterruptEvent\";\n  RuntimeMetaEventName2[\"LangGraphInterruptResumeEvent\"] = \"LangGraphInterruptResumeEvent\";\n  RuntimeMetaEventName2[\"CopilotKitLangGraphInterruptEvent\"] = \"CopilotKitLangGraphInterruptEvent\";\n})(RuntimeMetaEventName || (RuntimeMetaEventName = {}));\nvar RuntimeEventSubject = class extends import_rxjs4.ReplaySubject {\n  constructor() {\n    super();\n  }\n  sendTextMessageStart({ messageId, parentMessageId }) {\n    this.next({\n      type: \"TextMessageStart\",\n      messageId,\n      parentMessageId\n    });\n  }\n  sendTextMessageContent({ messageId, content }) {\n    this.next({\n      type: \"TextMessageContent\",\n      content,\n      messageId\n    });\n  }\n  sendTextMessageEnd({ messageId }) {\n    this.next({\n      type: \"TextMessageEnd\",\n      messageId\n    });\n  }\n  sendTextMessage(messageId, content) {\n    this.sendTextMessageStart({\n      messageId\n    });\n    this.sendTextMessageContent({\n      messageId,\n      content\n    });\n    this.sendTextMessageEnd({\n      messageId\n    });\n  }\n  sendActionExecutionStart({ actionExecutionId, actionName, parentMessageId }) {\n    this.next({\n      type: \"ActionExecutionStart\",\n      actionExecutionId,\n      actionName,\n      parentMessageId\n    });\n  }\n  sendActionExecutionArgs({ actionExecutionId, args }) {\n    this.next({\n      type: \"ActionExecutionArgs\",\n      args,\n      actionExecutionId\n    });\n  }\n  sendActionExecutionEnd({ actionExecutionId }) {\n    this.next({\n      type: \"ActionExecutionEnd\",\n      actionExecutionId\n    });\n  }\n  sendActionExecution({ actionExecutionId, actionName, args, parentMessageId }) {\n    this.sendActionExecutionStart({\n      actionExecutionId,\n      actionName,\n      parentMessageId\n    });\n    this.sendActionExecutionArgs({\n      actionExecutionId,\n      args\n    });\n    this.sendActionExecutionEnd({\n      actionExecutionId\n    });\n  }\n  sendActionExecutionResult({ actionExecutionId, actionName, result, error }) {\n    this.next({\n      type: \"ActionExecutionResult\",\n      actionName,\n      actionExecutionId,\n      result: ResultMessage.encodeResult(result, error)\n    });\n  }\n  sendAgentStateMessage({ threadId, agentName, nodeName, runId, active, role, state, running }) {\n    this.next({\n      type: \"AgentStateMessage\",\n      threadId,\n      agentName,\n      nodeName,\n      runId,\n      active,\n      role,\n      state,\n      running\n    });\n  }\n};\n__name(RuntimeEventSubject, \"RuntimeEventSubject\");\nvar RuntimeEventSource = class {\n  eventStream$ = new RuntimeEventSubject();\n  callback;\n  errorHandler;\n  errorContext;\n  constructor(params) {\n    this.errorHandler = params == null ? void 0 : params.errorHandler;\n    this.errorContext = params == null ? void 0 : params.errorContext;\n  }\n  async stream(callback) {\n    this.callback = callback;\n  }\n  sendErrorMessageToChat(message = \"An error occurred. Please try again.\") {\n    const errorMessage = `\\u274C ${message}`;\n    if (!this.callback) {\n      this.stream(async (eventStream$) => {\n        eventStream$.sendTextMessage((0, import_shared27.randomId)(), errorMessage);\n      });\n    } else {\n      this.eventStream$.sendTextMessage((0, import_shared27.randomId)(), errorMessage);\n    }\n  }\n  processRuntimeEvents({ serverSideActions, guardrailsResult$, actionInputsWithoutAgents, threadId }) {\n    this.callback(this.eventStream$).catch(async (error) => {\n      const structuredError = (0, import_shared27.ensureStructuredError)(error, convertStreamingErrorToStructured2);\n      if (this.errorHandler && this.errorContext) {\n        try {\n          await this.errorHandler(structuredError, this.errorContext);\n        } catch (errorHandlerError) {\n          console.error(\"Error in streaming error handler:\", errorHandlerError);\n        }\n      }\n      this.eventStream$.error(structuredError);\n      this.eventStream$.complete();\n    });\n    return this.eventStream$.pipe(\n      // track state\n      (0, import_rxjs4.scan)((acc, event) => {\n        acc = {\n          ...acc\n        };\n        if (event.type === \"ActionExecutionStart\") {\n          acc.callActionServerSide = serverSideActions.find((action) => action.name === event.actionName) !== void 0;\n          acc.args = \"\";\n          acc.actionExecutionId = event.actionExecutionId;\n          if (acc.callActionServerSide) {\n            acc.action = serverSideActions.find((action) => action.name === event.actionName);\n          }\n          acc.actionExecutionParentMessageId = event.parentMessageId;\n        } else if (event.type === \"ActionExecutionArgs\") {\n          acc.args += event.args;\n        }\n        acc.event = event;\n        return acc;\n      }, {\n        event: null,\n        callActionServerSide: false,\n        args: \"\",\n        actionExecutionId: null,\n        action: null,\n        actionExecutionParentMessageId: null\n      }),\n      (0, import_rxjs4.concatMap)((eventWithState) => {\n        if (eventWithState.event.type === \"ActionExecutionEnd\" && eventWithState.callActionServerSide) {\n          const toolCallEventStream$ = new RuntimeEventSubject();\n          executeAction(toolCallEventStream$, guardrailsResult$ ? guardrailsResult$ : null, eventWithState.action, eventWithState.args, eventWithState.actionExecutionParentMessageId, eventWithState.actionExecutionId, actionInputsWithoutAgents, threadId).catch((error) => {\n          });\n          telemetry_client_default.capture(\"oss.runtime.server_action_executed\", {});\n          return (0, import_rxjs4.concat)((0, import_rxjs4.of)(eventWithState.event), toolCallEventStream$).pipe((0, import_rxjs4.catchError)((error) => {\n            const structuredError = (0, import_shared27.ensureStructuredError)(error, convertStreamingErrorToStructured2);\n            if (this.errorHandler && this.errorContext) {\n              (0, import_rxjs4.from)(this.errorHandler(structuredError, {\n                ...this.errorContext,\n                action: {\n                  name: eventWithState.action.name,\n                  executionId: eventWithState.actionExecutionId\n                }\n              })).subscribe({\n                error: (errorHandlerError) => {\n                  console.error(\"Error in action execution error handler:\", errorHandlerError);\n                }\n              });\n            }\n            toolCallEventStream$.sendActionExecutionResult({\n              actionExecutionId: eventWithState.actionExecutionId,\n              actionName: eventWithState.action.name,\n              error: {\n                code: structuredError.code,\n                message: structuredError.message\n              }\n            });\n            return import_rxjs4.EMPTY;\n          }));\n        } else {\n          return (0, import_rxjs4.of)(eventWithState.event);\n        }\n      })\n    );\n  }\n};\n__name(RuntimeEventSource, \"RuntimeEventSource\");\nasync function executeAction(eventStream$, guardrailsResult$, action, actionArguments, actionExecutionParentMessageId, actionExecutionId, actionInputsWithoutAgents, threadId) {\n  var _a;\n  if (guardrailsResult$) {\n    const { status } = await (0, import_rxjs4.firstValueFrom)(guardrailsResult$);\n    if (status === \"denied\") {\n      eventStream$.complete();\n      return;\n    }\n  }\n  let args = [];\n  if (actionArguments) {\n    try {\n      args = JSON.parse(actionArguments);\n    } catch (e) {\n      console.error(\"Action argument unparsable\", {\n        actionArguments\n      });\n      eventStream$.sendActionExecutionResult({\n        actionExecutionId,\n        actionName: action.name,\n        error: {\n          code: \"INVALID_ARGUMENTS\",\n          message: \"Failed to parse action arguments\"\n        }\n      });\n      return;\n    }\n  }\n  if (isRemoteAgentAction(action)) {\n    const result = `${action.name} agent started`;\n    const agentExecution = (0, import_class_transformer2.plainToInstance)(ActionExecutionMessage, {\n      id: actionExecutionId,\n      createdAt: /* @__PURE__ */ new Date(),\n      name: action.name,\n      arguments: JSON.parse(actionArguments),\n      parentMessageId: actionExecutionParentMessageId ?? actionExecutionId\n    });\n    const agentExecutionResult = (0, import_class_transformer2.plainToInstance)(ResultMessage, {\n      id: \"result-\" + actionExecutionId,\n      createdAt: /* @__PURE__ */ new Date(),\n      actionExecutionId,\n      actionName: action.name,\n      result\n    });\n    eventStream$.sendActionExecutionResult({\n      actionExecutionId,\n      actionName: action.name,\n      result\n    });\n    const stream = await action.remoteAgentHandler({\n      name: action.name,\n      threadId,\n      actionInputsWithoutAgents,\n      additionalMessages: [\n        agentExecution,\n        agentExecutionResult\n      ]\n    });\n    (0, import_rxjs4.from)(stream).subscribe({\n      next: (event) => eventStream$.next(event),\n      error: (err) => {\n        const structuredError = (0, import_shared27.ensureStructuredError)(err, convertStreamingErrorToStructured2);\n        eventStream$.sendActionExecutionResult({\n          actionExecutionId,\n          actionName: action.name,\n          error: {\n            code: structuredError.code,\n            message: structuredError.message\n          }\n        });\n        eventStream$.complete();\n      },\n      complete: () => eventStream$.complete()\n    });\n  } else {\n    try {\n      const result = await ((_a = action.handler) == null ? void 0 : _a.call(action, args));\n      await streamLangChainResponse({\n        result,\n        eventStream$,\n        actionExecution: {\n          name: action.name,\n          id: actionExecutionId\n        }\n      });\n    } catch (e) {\n      console.error(\"Error in action handler\", e);\n      eventStream$.sendActionExecutionResult({\n        actionExecutionId,\n        actionName: action.name,\n        error: {\n          code: \"HANDLER_ERROR\",\n          message: e.message\n        }\n      });\n      eventStream$.complete();\n    }\n  }\n}\n__name(executeAction, \"executeAction\");\nfunction convertStreamingErrorToStructured2(error) {\n  var _a, _b, _c, _d, _e, _f, _g;\n  let helpfulMessage = generateHelpfulErrorMessage(error, \"event streaming connection\");\n  if (((_a = error == null ? void 0 : error.message) == null ? void 0 : _a.includes(\"fetch failed\")) || ((_b = error == null ? void 0 : error.message) == null ? void 0 : _b.includes(\"ECONNREFUSED\")) || ((_c = error == null ? void 0 : error.message) == null ? void 0 : _c.includes(\"ENOTFOUND\")) || ((_d = error == null ? void 0 : error.message) == null ? void 0 : _d.includes(\"ETIMEDOUT\")) || ((_e = error == null ? void 0 : error.message) == null ? void 0 : _e.includes(\"terminated\")) || ((_f = error == null ? void 0 : error.cause) == null ? void 0 : _f.code) === \"UND_ERR_SOCKET\" || ((_g = error == null ? void 0 : error.message) == null ? void 0 : _g.includes(\"other side closed\")) || (error == null ? void 0 : error.code) === \"UND_ERR_SOCKET\") {\n    return new import_shared27.CopilotKitLowLevelError({\n      error: error instanceof Error ? error : new Error(String(error)),\n      url: \"event streaming connection\",\n      message: helpfulMessage\n    });\n  }\n  return new import_shared27.CopilotKitError({\n    message: helpfulMessage,\n    code: import_shared27.CopilotKitErrorCode.UNKNOWN,\n    severity: import_shared27.Severity.CRITICAL\n  });\n}\n__name(convertStreamingErrorToStructured2, \"convertStreamingErrorToStructured\");\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_graphql_scalars2 = __webpack_require__(/*! graphql-scalars */ \"(rsc)/./node_modules/graphql-scalars/cjs/index.js\");\nvar import_class_transformer3 = __webpack_require__(/*! class-transformer */ \"(rsc)/./node_modules/class-transformer/esm5/index.js\");\nvar import_graphql = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/graphql/index.mjs\");\n\n// src/utils/failed-response-status-reasons.ts\nvar GuardrailsValidationFailureResponse = class extends FailedResponseStatus {\n  reason = FailedResponseStatusReason.GUARDRAILS_VALIDATION_FAILED;\n  constructor({ guardrailsReason }) {\n    super();\n    this.details = {\n      guardrailsReason\n    };\n  }\n};\n__name(GuardrailsValidationFailureResponse, \"GuardrailsValidationFailureResponse\");\nvar MessageStreamInterruptedResponse = class extends FailedResponseStatus {\n  reason = FailedResponseStatusReason.MESSAGE_STREAM_INTERRUPTED;\n  constructor({ messageId }) {\n    super();\n    this.details = {\n      messageId,\n      description: \"Check the message for mode details\"\n    };\n  }\n};\n__name(MessageStreamInterruptedResponse, \"MessageStreamInterruptedResponse\");\nvar UnknownErrorResponse = class extends FailedResponseStatus {\n  reason = FailedResponseStatusReason.UNKNOWN_ERROR;\n  constructor({ description, originalError }) {\n    super();\n    this.details = {\n      description,\n      originalError\n    };\n  }\n};\n__name(UnknownErrorResponse, \"UnknownErrorResponse\");\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_shared28 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\n\n// src/graphql/types/agents-response.type.ts\nvar import_type_graphql19 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate18(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate18, \"_ts_decorate\");\nfunction _ts_metadata18(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata18, \"_ts_metadata\");\nvar Agent = class {\n  id;\n  name;\n  description;\n};\n__name(Agent, \"Agent\");\n_ts_decorate18([\n  (0, import_type_graphql19.Field)(() => String),\n  _ts_metadata18(\"design:type\", String)\n], Agent.prototype, \"id\", void 0);\n_ts_decorate18([\n  (0, import_type_graphql19.Field)(() => String),\n  _ts_metadata18(\"design:type\", String)\n], Agent.prototype, \"name\", void 0);\n_ts_decorate18([\n  (0, import_type_graphql19.Field)(() => String),\n  _ts_metadata18(\"design:type\", String)\n], Agent.prototype, \"description\", void 0);\nAgent = _ts_decorate18([\n  (0, import_type_graphql19.ObjectType)()\n], Agent);\nvar AgentsResponse = class {\n  agents;\n};\n__name(AgentsResponse, \"AgentsResponse\");\n_ts_decorate18([\n  (0, import_type_graphql19.Field)(() => [\n    Agent\n  ]),\n  _ts_metadata18(\"design:type\", Array)\n], AgentsResponse.prototype, \"agents\", void 0);\nAgentsResponse = _ts_decorate18([\n  (0, import_type_graphql19.ObjectType)()\n], AgentsResponse);\n\n// src/graphql/resolvers/copilot.resolver.ts\nvar import_shared29 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction _ts_decorate19(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate19, \"_ts_decorate\");\nfunction _ts_metadata19(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata19, \"_ts_metadata\");\nfunction _ts_param(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\n__name(_ts_param, \"_ts_param\");\nvar invokeGuardrails = /* @__PURE__ */ __name(async ({ baseUrl, copilotCloudPublicApiKey, data, onResult, onError }) => {\n  var _a;\n  if (data.messages.length && ((_a = data.messages[data.messages.length - 1].textMessage) == null ? void 0 : _a.role) === MessageRole.user) {\n    const messages = data.messages.filter((m) => m.textMessage !== void 0 && (m.textMessage.role === MessageRole.user || m.textMessage.role === MessageRole.assistant)).map((m) => ({\n      role: m.textMessage.role,\n      content: m.textMessage.content\n    }));\n    const lastMessage = messages[messages.length - 1];\n    const restOfMessages = messages.slice(0, -1);\n    const body = {\n      input: lastMessage.content,\n      validTopics: data.cloud.guardrails.inputValidationRules.allowList,\n      invalidTopics: data.cloud.guardrails.inputValidationRules.denyList,\n      messages: restOfMessages\n    };\n    const guardrailsResult = await fetch(`${baseUrl}/guardrails/validate`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CopilotCloud-Public-API-Key\": copilotCloudPublicApiKey\n      },\n      body: JSON.stringify(body)\n    });\n    if (guardrailsResult.ok) {\n      const resultJson = await guardrailsResult.json();\n      onResult(resultJson);\n    } else {\n      onError(await guardrailsResult.json());\n    }\n  }\n}, \"invokeGuardrails\");\nvar CopilotResolver = class {\n  async hello() {\n    return \"Hello World\";\n  }\n  async availableAgents(ctx) {\n    let logger2 = ctx.logger.child({\n      component: \"CopilotResolver.availableAgents\"\n    });\n    logger2.debug(\"Processing\");\n    const agentsWithEndpoints = await ctx._copilotkit.runtime.discoverAgentsFromEndpoints(ctx);\n    logger2.debug(\"Event source created, creating response\");\n    return {\n      agents: agentsWithEndpoints.map(({ endpoint, ...agentWithoutEndpoint }) => agentWithoutEndpoint)\n    };\n  }\n  async generateCopilotResponse(ctx, data, properties) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    telemetry_client_default.capture(\"oss.runtime.copilot_request_created\", {\n      \"cloud.guardrails.enabled\": ((_a = data.cloud) == null ? void 0 : _a.guardrails) !== void 0,\n      requestType: data.metadata.requestType,\n      \"cloud.api_key_provided\": !!ctx.request.headers.get(\"x-copilotcloud-public-api-key\"),\n      ...ctx.request.headers.get(\"x-copilotcloud-public-api-key\") ? {\n        \"cloud.public_api_key\": ctx.request.headers.get(\"x-copilotcloud-public-api-key\")\n      } : {},\n      ...ctx._copilotkit.baseUrl ? {\n        \"cloud.base_url\": ctx._copilotkit.baseUrl\n      } : {\n        \"cloud.base_url\": \"https://api.cloud.copilotkit.ai\"\n      }\n    });\n    let logger2 = ctx.logger.child({\n      component: \"CopilotResolver.generateCopilotResponse\"\n    });\n    logger2.debug({\n      data\n    }, \"Generating Copilot response\");\n    if (properties) {\n      logger2.debug(\"Properties provided, merging with context properties\");\n      ctx.properties = {\n        ...ctx.properties,\n        ...properties\n      };\n    }\n    const copilotRuntime = ctx._copilotkit.runtime;\n    const serviceAdapter = ctx._copilotkit.serviceAdapter;\n    let copilotCloudPublicApiKey = null;\n    let copilotCloudBaseUrl;\n    const publicApiKeyFromHeaders = ctx.request.headers.get(\"x-copilotcloud-public-api-key\");\n    if (publicApiKeyFromHeaders) {\n      copilotCloudPublicApiKey = publicApiKeyFromHeaders;\n    }\n    if (data.cloud) {\n      logger2 = logger2.child({\n        cloud: true\n      });\n      logger2.debug(\"Cloud configuration provided, checking for public API key in headers\");\n      if (!copilotCloudPublicApiKey) {\n        logger2.error(\"Public API key not found in headers\");\n        await copilotRuntime.errorGraphQLError({\n          message: \"X-CopilotCloud-Public-API-Key header is required\",\n          code: \"MISSING_PUBLIC_API_KEY\",\n          type: \"GraphQLError\"\n        }, {\n          operation: \"generateCopilotResponse\",\n          cloudConfigPresent: Boolean(data.cloud),\n          guardrailsEnabled: Boolean((_b = data.cloud) == null ? void 0 : _b.guardrails)\n        });\n        throw new import_graphql.GraphQLError(\"X-CopilotCloud-Public-API-Key header is required\");\n      }\n      if (process.env.COPILOT_CLOUD_BASE_URL) {\n        copilotCloudBaseUrl = process.env.COPILOT_CLOUD_BASE_URL;\n      } else if ((_c = ctx._copilotkit.cloud) == null ? void 0 : _c.baseUrl) {\n        copilotCloudBaseUrl = (_d = ctx._copilotkit.cloud) == null ? void 0 : _d.baseUrl;\n      } else {\n        copilotCloudBaseUrl = \"https://api.cloud.copilotkit.ai\";\n      }\n      logger2 = logger2.child({\n        copilotCloudBaseUrl\n      });\n    }\n    logger2.debug(\"Setting up subjects\");\n    const responseStatus$ = new import_rxjs5.ReplaySubject();\n    const interruptStreaming$ = new import_rxjs5.ReplaySubject();\n    const guardrailsResult$ = new import_rxjs5.ReplaySubject();\n    let outputMessages = [];\n    let resolveOutputMessagesPromise;\n    let rejectOutputMessagesPromise;\n    const outputMessagesPromise = new Promise((resolve, reject) => {\n      resolveOutputMessagesPromise = resolve;\n      rejectOutputMessagesPromise = reject;\n    });\n    if (copilotCloudPublicApiKey) {\n      ctx.properties[\"copilotCloudPublicApiKey\"] = copilotCloudPublicApiKey;\n    }\n    logger2.debug(\"Processing\");\n    let runtimeResponse;\n    try {\n      runtimeResponse = await copilotRuntime.processRuntimeRequest({\n        serviceAdapter,\n        messages: data.messages,\n        actions: data.frontend.actions.filter((action) => action.available !== ActionInputAvailability.disabled),\n        threadId: data.threadId,\n        runId: data.runId,\n        publicApiKey: copilotCloudPublicApiKey,\n        outputMessagesPromise,\n        graphqlContext: ctx,\n        forwardedParameters: data.forwardedParameters,\n        agentSession: data.agentSession,\n        agentStates: data.agentStates,\n        url: data.frontend.url,\n        extensions: data.extensions,\n        metaEvents: data.metaEvents\n      });\n    } catch (error) {\n      if ((0, import_shared29.isStructuredCopilotKitError)(error) || ((_e = error == null ? void 0 : error.extensions) == null ? void 0 : _e.visibility)) {\n        throw new import_graphql.GraphQLError(error.message || \"Agent error occurred\", {\n          extensions: {\n            ...error.extensions,\n            code: error.code || ((_f = error.extensions) == null ? void 0 : _f.code) || \"AGENT_ERROR\",\n            originalError: error\n          }\n        });\n      }\n      throw error;\n    }\n    const { eventSource, threadId = (0, import_shared28.randomId)(), runId, serverSideActions, actionInputsWithoutAgents, extensions } = runtimeResponse;\n    logger2.debug(\"Event source created, creating response\");\n    const eventStream = eventSource.processRuntimeEvents({\n      serverSideActions,\n      guardrailsResult$: ((_g = data.cloud) == null ? void 0 : _g.guardrails) ? guardrailsResult$ : null,\n      actionInputsWithoutAgents: actionInputsWithoutAgents.filter(\n        // TODO-AGENTS: do not exclude ALL server side actions\n        (action) => !serverSideActions.find((serverSideAction) => serverSideAction.name == action.name)\n      ),\n      threadId\n    }).pipe(\n      // shareReplay() ensures that later subscribers will see the whole stream instead of\n      // just the events that were emitted after the subscriber was added.\n      (0, import_rxjs5.shareReplay)(),\n      (0, import_rxjs5.finalize)(() => {\n        logger2.debug(\"Event stream finalized\");\n      })\n    );\n    const response = {\n      threadId,\n      runId,\n      status: (0, import_rxjs5.firstValueFrom)(responseStatus$),\n      extensions,\n      metaEvents: new import_graphql_yoga.Repeater(async (push, stop) => {\n        let eventStreamSubscription;\n        eventStreamSubscription = eventStream.subscribe({\n          next: async (event) => {\n            if (event.type != RuntimeEventTypes.MetaEvent) {\n              return;\n            }\n            switch (event.name) {\n              case LangGraphEventTypes.OnInterrupt:\n                push((0, import_class_transformer3.plainToInstance)(LangGraphInterruptEvent, {\n                  // @ts-ignore\n                  type: event.type,\n                  // @ts-ignore\n                  name: RuntimeMetaEventName.LangGraphInterruptEvent,\n                  // @ts-ignore\n                  value: event.value\n                }));\n                break;\n              case RuntimeMetaEventName.LangGraphInterruptEvent:\n                push((0, import_class_transformer3.plainToInstance)(LangGraphInterruptEvent, {\n                  type: event.type,\n                  name: event.name,\n                  value: event.value\n                }));\n                break;\n              case RuntimeMetaEventName.CopilotKitLangGraphInterruptEvent:\n                push((0, import_class_transformer3.plainToInstance)(CopilotKitLangGraphInterruptEvent, {\n                  type: event.type,\n                  name: event.name,\n                  data: {\n                    value: event.data.value,\n                    messages: event.data.messages.map((message) => {\n                      if (message.type === \"TextMessage\" || \"content\" in message && \"role\" in message) {\n                        return (0, import_class_transformer3.plainToInstance)(TextMessage, {\n                          id: message.id,\n                          createdAt: /* @__PURE__ */ new Date(),\n                          content: [\n                            message.content\n                          ],\n                          role: message.role,\n                          status: new SuccessMessageStatus()\n                        });\n                      }\n                      if (\"arguments\" in message) {\n                        return (0, import_class_transformer3.plainToInstance)(ActionExecutionMessage, {\n                          name: message.name,\n                          id: message.id,\n                          arguments: [\n                            JSON.stringify(message.arguments)\n                          ],\n                          createdAt: /* @__PURE__ */ new Date(),\n                          status: new SuccessMessageStatus()\n                        });\n                      }\n                      throw new Error(\"Unknown message in metaEvents copilot resolver\");\n                    })\n                  }\n                }));\n                break;\n            }\n          },\n          error: (err) => {\n            var _a2, _b2;\n            if (((_a2 = err == null ? void 0 : err.name) == null ? void 0 : _a2.includes(\"CopilotKit\")) || ((_b2 = err == null ? void 0 : err.extensions) == null ? void 0 : _b2.visibility)) {\n              responseStatus$.next(new UnknownErrorResponse({\n                description: err.message || \"Agent error occurred\"\n              }));\n            } else {\n              responseStatus$.next(new UnknownErrorResponse({\n                description: `An unknown error has occurred in the event stream`\n              }));\n            }\n            eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n            stop();\n          },\n          complete: async () => {\n            logger2.debug(\"Meta events stream completed\");\n            responseStatus$.next(new SuccessResponseStatus());\n            eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n            stop();\n          }\n        });\n      }),\n      messages: new import_graphql_yoga.Repeater(async (pushMessage, stopStreamingMessages) => {\n        var _a2;\n        logger2.debug(\"Messages repeater created\");\n        if ((_a2 = data.cloud) == null ? void 0 : _a2.guardrails) {\n          logger2 = logger2.child({\n            guardrails: true\n          });\n          logger2.debug(\"Guardrails is enabled, validating input\");\n          invokeGuardrails({\n            baseUrl: copilotCloudBaseUrl,\n            copilotCloudPublicApiKey,\n            data,\n            onResult: (result) => {\n              logger2.debug({\n                status: result.status\n              }, \"Guardrails validation done\");\n              guardrailsResult$.next(result);\n              if (result.status === \"denied\") {\n                responseStatus$.next(new GuardrailsValidationFailureResponse({\n                  guardrailsReason: result.reason\n                }));\n                interruptStreaming$.next({\n                  reason: `Interrupted due to Guardrails validation failure. Reason: ${result.reason}`\n                });\n                outputMessages = [\n                  (0, import_class_transformer3.plainToInstance)(TextMessage, {\n                    id: (0, import_shared28.randomId)(),\n                    createdAt: /* @__PURE__ */ new Date(),\n                    content: result.reason,\n                    role: MessageRole.assistant\n                  })\n                ];\n                resolveOutputMessagesPromise(outputMessages);\n              }\n            },\n            onError: (err) => {\n              logger2.error({\n                err\n              }, \"Error in guardrails validation\");\n              responseStatus$.next(new UnknownErrorResponse({\n                description: `An unknown error has occurred in the guardrails validation`\n              }));\n              interruptStreaming$.next({\n                reason: `Interrupted due to unknown error in guardrails validation`\n              });\n              rejectOutputMessagesPromise(err);\n            }\n          });\n        }\n        let eventStreamSubscription;\n        logger2.debug(\"Event stream created, subscribing to event stream\");\n        eventStreamSubscription = eventStream.subscribe({\n          next: async (event) => {\n            switch (event.type) {\n              case RuntimeEventTypes.MetaEvent:\n                break;\n              case RuntimeEventTypes.TextMessageStart:\n                const textMessageContentStream = eventStream.pipe(\n                  // skip until this message start event\n                  (0, import_rxjs5.skipWhile)((e) => e !== event),\n                  // take until the message end event\n                  (0, import_rxjs5.takeWhile)((e) => !(e.type === RuntimeEventTypes.TextMessageEnd && e.messageId == event.messageId)),\n                  // filter out any other message events or message ids\n                  (0, import_rxjs5.filter)((e) => e.type == RuntimeEventTypes.TextMessageContent && e.messageId == event.messageId)\n                );\n                const streamingTextStatus = new import_rxjs5.Subject();\n                const messageId = event.messageId;\n                pushMessage({\n                  id: messageId,\n                  parentMessageId: event.parentMessageId,\n                  status: (0, import_rxjs5.firstValueFrom)(streamingTextStatus),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  role: MessageRole.assistant,\n                  content: new import_graphql_yoga.Repeater(async (pushTextChunk, stopStreamingText) => {\n                    logger2.debug(\"Text message content repeater created\");\n                    const textChunks = [];\n                    let textSubscription;\n                    interruptStreaming$.pipe((0, import_rxjs5.shareReplay)(), (0, import_rxjs5.take)(1), (0, import_rxjs5.tap)(({ reason, messageId: messageId2 }) => {\n                      logger2.debug({\n                        reason,\n                        messageId: messageId2\n                      }, \"Text streaming interrupted\");\n                      streamingTextStatus.next((0, import_class_transformer3.plainToInstance)(FailedMessageStatus, {\n                        reason\n                      }));\n                      responseStatus$.next(new MessageStreamInterruptedResponse({\n                        messageId: messageId2\n                      }));\n                      stopStreamingText();\n                      textSubscription == null ? void 0 : textSubscription.unsubscribe();\n                    })).subscribe();\n                    logger2.debug(\"Subscribing to text message content stream\");\n                    textSubscription = textMessageContentStream.subscribe({\n                      next: async (e) => {\n                        if (e.type == RuntimeEventTypes.TextMessageContent) {\n                          await pushTextChunk(e.content);\n                          textChunks.push(e.content);\n                        }\n                      },\n                      error: (err) => {\n                        logger2.error({\n                          err\n                        }, \"Error in text message content stream\");\n                        interruptStreaming$.next({\n                          reason: \"Error streaming message content\",\n                          messageId\n                        });\n                        stopStreamingText();\n                        textSubscription == null ? void 0 : textSubscription.unsubscribe();\n                      },\n                      complete: () => {\n                        logger2.debug(\"Text message content stream completed\");\n                        streamingTextStatus.next(new SuccessMessageStatus());\n                        stopStreamingText();\n                        textSubscription == null ? void 0 : textSubscription.unsubscribe();\n                        outputMessages.push((0, import_class_transformer3.plainToInstance)(TextMessage, {\n                          id: messageId,\n                          createdAt: /* @__PURE__ */ new Date(),\n                          content: textChunks.join(\"\"),\n                          role: MessageRole.assistant\n                        }));\n                      }\n                    });\n                  })\n                });\n                break;\n              case RuntimeEventTypes.ActionExecutionStart:\n                logger2.debug(\"Action execution start event received\");\n                const actionExecutionArgumentStream = eventStream.pipe(\n                  (0, import_rxjs5.skipWhile)((e) => e !== event),\n                  // take until the action execution end event\n                  (0, import_rxjs5.takeWhile)((e) => !(e.type === RuntimeEventTypes.ActionExecutionEnd && e.actionExecutionId == event.actionExecutionId)),\n                  // filter out any other action execution events or action execution ids\n                  (0, import_rxjs5.filter)((e) => e.type == RuntimeEventTypes.ActionExecutionArgs && e.actionExecutionId == event.actionExecutionId)\n                );\n                const streamingArgumentsStatus = new import_rxjs5.Subject();\n                pushMessage({\n                  id: event.actionExecutionId,\n                  parentMessageId: event.parentMessageId,\n                  status: (0, import_rxjs5.firstValueFrom)(streamingArgumentsStatus),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  name: event.actionName,\n                  arguments: new import_graphql_yoga.Repeater(async (pushArgumentsChunk, stopStreamingArguments) => {\n                    logger2.debug(\"Action execution argument stream created\");\n                    const argumentChunks = [];\n                    let actionExecutionArgumentSubscription;\n                    actionExecutionArgumentSubscription = actionExecutionArgumentStream.subscribe({\n                      next: async (e) => {\n                        if (e.type == RuntimeEventTypes.ActionExecutionArgs) {\n                          await pushArgumentsChunk(e.args);\n                          argumentChunks.push(e.args);\n                        }\n                      },\n                      error: (err) => {\n                        logger2.error({\n                          err\n                        }, \"Error in action execution argument stream\");\n                        streamingArgumentsStatus.next((0, import_class_transformer3.plainToInstance)(FailedMessageStatus, {\n                          reason: \"An unknown error has occurred in the action execution argument stream\"\n                        }));\n                        stopStreamingArguments();\n                        actionExecutionArgumentSubscription == null ? void 0 : actionExecutionArgumentSubscription.unsubscribe();\n                      },\n                      complete: () => {\n                        logger2.debug(\"Action execution argument stream completed\");\n                        streamingArgumentsStatus.next(new SuccessMessageStatus());\n                        stopStreamingArguments();\n                        actionExecutionArgumentSubscription == null ? void 0 : actionExecutionArgumentSubscription.unsubscribe();\n                        outputMessages.push((0, import_class_transformer3.plainToInstance)(ActionExecutionMessage, {\n                          id: event.actionExecutionId,\n                          createdAt: /* @__PURE__ */ new Date(),\n                          name: event.actionName,\n                          arguments: argumentChunks.join(\"\")\n                        }));\n                      }\n                    });\n                  })\n                });\n                break;\n              case RuntimeEventTypes.ActionExecutionResult:\n                logger2.debug({\n                  result: event.result\n                }, \"Action execution result event received\");\n                pushMessage({\n                  id: \"result-\" + event.actionExecutionId,\n                  status: new SuccessMessageStatus(),\n                  createdAt: /* @__PURE__ */ new Date(),\n                  actionExecutionId: event.actionExecutionId,\n                  actionName: event.actionName,\n                  result: event.result\n                });\n                outputMessages.push((0, import_class_transformer3.plainToInstance)(ResultMessage, {\n                  id: \"result-\" + event.actionExecutionId,\n                  createdAt: /* @__PURE__ */ new Date(),\n                  actionExecutionId: event.actionExecutionId,\n                  actionName: event.actionName,\n                  result: event.result\n                }));\n                break;\n              case RuntimeEventTypes.AgentStateMessage:\n                logger2.debug({\n                  event\n                }, \"Agent message event received\");\n                pushMessage({\n                  id: (0, import_shared28.randomId)(),\n                  status: new SuccessMessageStatus(),\n                  threadId: event.threadId,\n                  agentName: event.agentName,\n                  nodeName: event.nodeName,\n                  runId: event.runId,\n                  active: event.active,\n                  state: event.state,\n                  running: event.running,\n                  role: MessageRole.assistant,\n                  createdAt: /* @__PURE__ */ new Date()\n                });\n                outputMessages.push((0, import_class_transformer3.plainToInstance)(AgentStateMessage, {\n                  id: (0, import_shared28.randomId)(),\n                  threadId: event.threadId,\n                  agentName: event.agentName,\n                  nodeName: event.nodeName,\n                  runId: event.runId,\n                  active: event.active,\n                  state: event.state,\n                  running: event.running,\n                  role: MessageRole.assistant,\n                  createdAt: /* @__PURE__ */ new Date()\n                }));\n                break;\n            }\n          },\n          error: (err) => {\n            var _a3, _b2, _c2, _d2, _e2, _f2;\n            if (err instanceof import_shared29.CopilotKitError || err instanceof import_shared29.CopilotKitLowLevelError || err instanceof Error && err.name && err.name.includes(\"CopilotKit\") || ((_a3 = err == null ? void 0 : err.extensions) == null ? void 0 : _a3.visibility)) {\n              responseStatus$.next(new UnknownErrorResponse({\n                description: err.message || \"Agent error occurred\",\n                // Include original error information for frontend to extract\n                originalError: {\n                  code: err.code || ((_b2 = err.extensions) == null ? void 0 : _b2.code),\n                  statusCode: err.statusCode || ((_c2 = err.extensions) == null ? void 0 : _c2.statusCode),\n                  severity: err.severity || ((_d2 = err.extensions) == null ? void 0 : _d2.severity),\n                  visibility: err.visibility || ((_e2 = err.extensions) == null ? void 0 : _e2.visibility),\n                  originalErrorType: err.originalErrorType || ((_f2 = err.extensions) == null ? void 0 : _f2.originalErrorType),\n                  extensions: err.extensions\n                }\n              }));\n              eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n              rejectOutputMessagesPromise(err);\n              stopStreamingMessages();\n              return;\n            }\n            responseStatus$.next(new UnknownErrorResponse({\n              description: `An unknown error has occurred in the event stream`\n            }));\n            eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n            stopStreamingMessages();\n            rejectOutputMessagesPromise(err);\n          },\n          complete: async () => {\n            var _a3;\n            logger2.debug(\"Event stream completed\");\n            if ((_a3 = data.cloud) == null ? void 0 : _a3.guardrails) {\n              logger2.debug(\"Guardrails is enabled, waiting for guardrails result\");\n              await (0, import_rxjs5.firstValueFrom)(guardrailsResult$);\n            }\n            responseStatus$.next(new SuccessResponseStatus());\n            eventStreamSubscription == null ? void 0 : eventStreamSubscription.unsubscribe();\n            stopStreamingMessages();\n            resolveOutputMessagesPromise(outputMessages);\n          }\n        });\n      })\n    };\n    return response;\n  }\n};\n__name(CopilotResolver, \"CopilotResolver\");\n_ts_decorate19([\n  (0, import_type_graphql20.Query)(() => String),\n  _ts_metadata19(\"design:type\", Function),\n  _ts_metadata19(\"design:paramtypes\", []),\n  _ts_metadata19(\"design:returntype\", Promise)\n], CopilotResolver.prototype, \"hello\", null);\n_ts_decorate19([\n  (0, import_type_graphql20.Query)(() => AgentsResponse),\n  _ts_param(0, (0, import_type_graphql20.Ctx)()),\n  _ts_metadata19(\"design:type\", Function),\n  _ts_metadata19(\"design:paramtypes\", [\n    typeof GraphQLContext === \"undefined\" ? Object : GraphQLContext\n  ]),\n  _ts_metadata19(\"design:returntype\", Promise)\n], CopilotResolver.prototype, \"availableAgents\", null);\n_ts_decorate19([\n  (0, import_type_graphql20.Mutation)(() => CopilotResponse),\n  _ts_param(0, (0, import_type_graphql20.Ctx)()),\n  _ts_param(1, (0, import_type_graphql20.Arg)(\"data\")),\n  _ts_param(2, (0, import_type_graphql20.Arg)(\"properties\", () => import_graphql_scalars2.GraphQLJSONObject, {\n    nullable: true\n  })),\n  _ts_metadata19(\"design:type\", Function),\n  _ts_metadata19(\"design:paramtypes\", [\n    typeof GraphQLContext === \"undefined\" ? Object : GraphQLContext,\n    typeof GenerateCopilotResponseInput === \"undefined\" ? Object : GenerateCopilotResponseInput,\n    typeof CopilotRequestContextProperties === \"undefined\" ? Object : CopilotRequestContextProperties\n  ]),\n  _ts_metadata19(\"design:returntype\", Promise)\n], CopilotResolver.prototype, \"generateCopilotResponse\", null);\nCopilotResolver = _ts_decorate19([\n  (0, import_type_graphql20.Resolver)(() => CopilotResponse)\n], CopilotResolver);\n\n// src/lib/integrations/shared.ts\nvar import_plugin_defer_stream = __webpack_require__(/*! @graphql-yoga/plugin-defer-stream */ \"(rsc)/./node_modules/@graphql-yoga/plugin-defer-stream/cjs/index.js\");\n\n// src/lib/logger.ts\nvar import_pino = __toESM(__webpack_require__(/*! pino */ \"(rsc)/./node_modules/pino/pino.js\"));\nvar import_pino_pretty = __toESM(__webpack_require__(/*! pino-pretty */ \"(rsc)/./node_modules/pino-pretty/index.js\"));\nfunction createLogger(options) {\n  const { level, component } = options || {};\n  const stream = (0, import_pino_pretty.default)({\n    colorize: true\n  });\n  const logger2 = (0, import_pino.default)({\n    level: process.env.LOG_LEVEL || level || \"error\",\n    redact: {\n      paths: [\n        \"pid\",\n        \"hostname\"\n      ],\n      remove: true\n    }\n  }, stream);\n  if (component) {\n    return logger2.child({\n      component\n    });\n  } else {\n    return logger2;\n  }\n}\n__name(createLogger, \"createLogger\");\n\n// src/graphql/resolvers/state.resolver.ts\nvar import_type_graphql23 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nvar import_type_graphql24 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nvar import_type_graphql25 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\n\n// src/graphql/types/load-agent-state-response.type.ts\nvar import_type_graphql21 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate20(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate20, \"_ts_decorate\");\nfunction _ts_metadata20(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata20, \"_ts_metadata\");\nvar LoadAgentStateResponse = class {\n  threadId;\n  threadExists;\n  state;\n  messages;\n};\n__name(LoadAgentStateResponse, \"LoadAgentStateResponse\");\n_ts_decorate20([\n  (0, import_type_graphql21.Field)(() => String),\n  _ts_metadata20(\"design:type\", String)\n], LoadAgentStateResponse.prototype, \"threadId\", void 0);\n_ts_decorate20([\n  (0, import_type_graphql21.Field)(() => Boolean),\n  _ts_metadata20(\"design:type\", Boolean)\n], LoadAgentStateResponse.prototype, \"threadExists\", void 0);\n_ts_decorate20([\n  (0, import_type_graphql21.Field)(() => String),\n  _ts_metadata20(\"design:type\", String)\n], LoadAgentStateResponse.prototype, \"state\", void 0);\n_ts_decorate20([\n  (0, import_type_graphql21.Field)(() => String),\n  _ts_metadata20(\"design:type\", String)\n], LoadAgentStateResponse.prototype, \"messages\", void 0);\nLoadAgentStateResponse = _ts_decorate20([\n  (0, import_type_graphql21.ObjectType)()\n], LoadAgentStateResponse);\n\n// src/graphql/inputs/load-agent-state.input.ts\nvar import_type_graphql22 = __webpack_require__(/*! type-graphql */ \"(rsc)/./node_modules/type-graphql/build/cjs/index.js\");\nfunction _ts_decorate21(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate21, \"_ts_decorate\");\nfunction _ts_metadata21(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata21, \"_ts_metadata\");\nvar LoadAgentStateInput = class {\n  threadId;\n  agentName;\n};\n__name(LoadAgentStateInput, \"LoadAgentStateInput\");\n_ts_decorate21([\n  (0, import_type_graphql22.Field)(() => String),\n  _ts_metadata21(\"design:type\", String)\n], LoadAgentStateInput.prototype, \"threadId\", void 0);\n_ts_decorate21([\n  (0, import_type_graphql22.Field)(() => String),\n  _ts_metadata21(\"design:type\", String)\n], LoadAgentStateInput.prototype, \"agentName\", void 0);\nLoadAgentStateInput = _ts_decorate21([\n  (0, import_type_graphql22.InputType)()\n], LoadAgentStateInput);\n\n// src/graphql/resolvers/state.resolver.ts\nvar import_shared30 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nfunction _ts_decorate22(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\")\n    r = Reflect.decorate(decorators, target, key, desc);\n  else\n    for (var i = decorators.length - 1; i >= 0; i--)\n      if (d = decorators[i])\n        r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n__name(_ts_decorate22, \"_ts_decorate\");\nfunction _ts_metadata22(k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\")\n    return Reflect.metadata(k, v);\n}\n__name(_ts_metadata22, \"_ts_metadata\");\nfunction _ts_param2(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\n__name(_ts_param2, \"_ts_param\");\nvar StateResolver = class {\n  async loadAgentState(ctx, data) {\n    const agents = await ctx._copilotkit.runtime.getAllAgents(ctx);\n    const hasAgent = agents.some((agent) => agent.name === data.agentName);\n    if (!hasAgent) {\n      throw new import_shared30.CopilotKitAgentDiscoveryError({\n        agentName: data.agentName,\n        availableAgents: agents.map((a) => ({\n          name: a.name,\n          id: a.name\n        }))\n      });\n    }\n    const state = await ctx._copilotkit.runtime.loadAgentState(ctx, data.threadId, data.agentName);\n    return state;\n  }\n};\n__name(StateResolver, \"StateResolver\");\n_ts_decorate22([\n  (0, import_type_graphql25.Query)(() => LoadAgentStateResponse),\n  _ts_param2(0, (0, import_type_graphql24.Ctx)()),\n  _ts_param2(1, (0, import_type_graphql23.Arg)(\"data\")),\n  _ts_metadata22(\"design:type\", Function),\n  _ts_metadata22(\"design:paramtypes\", [\n    typeof GraphQLContext === \"undefined\" ? Object : GraphQLContext,\n    typeof LoadAgentStateInput === \"undefined\" ? Object : LoadAgentStateInput\n  ]),\n  _ts_metadata22(\"design:returntype\", Promise)\n], StateResolver.prototype, \"loadAgentState\", null);\nStateResolver = _ts_decorate22([\n  (0, import_type_graphql23.Resolver)(() => LoadAgentStateResponse)\n], StateResolver);\n\n// src/lib/integrations/shared.ts\nvar packageJson2 = __toESM(require_package());\nvar import_shared31 = __webpack_require__(/*! @copilotkit/shared */ \"(rsc)/./node_modules/@copilotkit/shared/dist/index.js\");\nvar logger = createLogger();\nvar addCustomHeaderPlugin = {\n  onResponse({ response }) {\n    response.headers.set(\"X-CopilotKit-Runtime-Version\", packageJson2.version);\n  }\n};\nasync function createContext(initialContext, copilotKitContext, contextLogger, properties = {}) {\n  logger.debug({\n    copilotKitContext\n  }, \"Creating GraphQL context\");\n  const ctx = {\n    ...initialContext,\n    _copilotkit: {\n      ...copilotKitContext\n    },\n    properties: {\n      ...properties\n    },\n    logger: contextLogger\n  };\n  return ctx;\n}\n__name(createContext, \"createContext\");\nfunction buildSchema(options = {}) {\n  logger.debug(\"Building GraphQL schema...\");\n  const schema = (0, import_type_graphql26.buildSchemaSync)({\n    resolvers: [\n      CopilotResolver,\n      StateResolver\n    ],\n    emitSchemaFile: options.emitSchemaFile\n  });\n  logger.debug(\"GraphQL schema built successfully\");\n  return schema;\n}\n__name(buildSchema, \"buildSchema\");\nfunction getCommonConfig(options) {\n  var _a;\n  const logLevel = process.env.LOG_LEVEL || options.logLevel || \"error\";\n  const logger2 = createLogger({\n    level: logLevel,\n    component: \"getCommonConfig\"\n  });\n  const contextLogger = createLogger({\n    level: logLevel\n  });\n  if (options.cloud) {\n    telemetry_client_default.setCloudConfiguration({\n      publicApiKey: options.cloud.publicApiKey,\n      baseUrl: options.cloud.baseUrl\n    });\n  }\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: {\n        ...options.properties._copilotkit\n      }\n    });\n  }\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      serviceAdapter: options.serviceAdapter.constructor.name\n    }\n  });\n  const userErrorCodes = [\n    import_shared31.CopilotKitErrorCode.AGENT_NOT_FOUND,\n    import_shared31.CopilotKitErrorCode.API_NOT_FOUND,\n    import_shared31.CopilotKitErrorCode.REMOTE_ENDPOINT_NOT_FOUND,\n    import_shared31.CopilotKitErrorCode.CONFIGURATION_ERROR,\n    import_shared31.CopilotKitErrorCode.MISSING_PUBLIC_API_KEY_ERROR\n  ];\n  return {\n    logging: createLogger({\n      component: \"Yoga GraphQL\",\n      level: logLevel\n    }),\n    schema: buildSchema(),\n    plugins: [\n      (0, import_plugin_defer_stream.useDeferStream)(),\n      addCustomHeaderPlugin\n    ],\n    context: (ctx) => createContext(ctx, options, contextLogger, options.properties),\n    // Suppress logging for user configuration errors\n    maskedErrors: {\n      maskError: (error, message, isDev) => {\n        const originalError = error.originalError || error;\n        const extensions = error.extensions;\n        const errorCode = extensions == null ? void 0 : extensions.code;\n        if (errorCode && userErrorCodes.includes(errorCode)) {\n          console.debug(\"User configuration error:\", error.message);\n          return error;\n        }\n        if (originalError instanceof import_shared31.CopilotKitError && userErrorCodes.includes(originalError.code)) {\n          console.debug(\"User configuration error:\", error.message);\n          return error;\n        }\n        console.error(\"Application error:\", error);\n        return error;\n      }\n    }\n  };\n}\n__name(getCommonConfig, \"getCommonConfig\");\n\n// src/lib/integrations/nextjs/app-router.ts\nvar import_graphql_yoga2 = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nfunction copilotRuntimeNextJSAppRouterEndpoint(options) {\n  var _a;\n  const commonConfig = getCommonConfig(options);\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"nextjs-app-router\"\n    }\n  });\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: options.properties._copilotkit\n    });\n  }\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", getRuntimeInstanceTelemetryInfo(options));\n  const logger2 = commonConfig.logging;\n  logger2.debug(\"Creating NextJS App Router endpoint\");\n  const yoga = (0, import_graphql_yoga2.createYoga)({\n    ...commonConfig,\n    graphqlEndpoint: options.endpoint,\n    fetchAPI: {\n      Response: globalThis.Response\n    }\n  });\n  return {\n    handleRequest: yoga,\n    GET: yoga,\n    POST: yoga,\n    OPTIONS: yoga\n  };\n}\n__name(copilotRuntimeNextJSAppRouterEndpoint, \"copilotRuntimeNextJSAppRouterEndpoint\");\n\n// src/lib/integrations/nextjs/pages-router.ts\nvar import_graphql_yoga3 = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nvar config = {\n  api: {\n    bodyParser: false\n  }\n};\nfunction copilotRuntimeNextJSPagesRouterEndpoint(options) {\n  var _a;\n  const commonConfig = getCommonConfig(options);\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"nextjs-pages-router\"\n    }\n  });\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: options.properties._copilotkit\n    });\n  }\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", getRuntimeInstanceTelemetryInfo(options));\n  const logger2 = commonConfig.logging;\n  logger2.debug(\"Creating NextJS Pages Router endpoint\");\n  const yoga = (0, import_graphql_yoga3.createYoga)({\n    ...commonConfig,\n    graphqlEndpoint: options.endpoint\n  });\n  return yoga;\n}\n__name(copilotRuntimeNextJSPagesRouterEndpoint, \"copilotRuntimeNextJSPagesRouterEndpoint\");\n\n// src/lib/integrations/node-http/index.ts\nvar import_graphql_yoga4 = __webpack_require__(/*! graphql-yoga */ \"(rsc)/./node_modules/graphql-yoga/cjs/index.js\");\nfunction copilotRuntimeNodeHttpEndpoint(options) {\n  var _a;\n  const commonConfig = getCommonConfig(options);\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"node-http\"\n    }\n  });\n  if ((_a = options.properties) == null ? void 0 : _a._copilotkit) {\n    telemetry_client_default.setGlobalProperties({\n      _copilotkit: options.properties._copilotkit\n    });\n  }\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", getRuntimeInstanceTelemetryInfo(options));\n  const logger2 = commonConfig.logging;\n  logger2.debug(\"Creating Node HTTP endpoint\");\n  const yoga = (0, import_graphql_yoga4.createYoga)({\n    ...commonConfig,\n    graphqlEndpoint: options.endpoint\n  });\n  return yoga;\n}\n__name(copilotRuntimeNodeHttpEndpoint, \"copilotRuntimeNodeHttpEndpoint\");\n\n// src/lib/integrations/node-express/index.ts\nfunction copilotRuntimeNodeExpressEndpoint(options) {\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"node-express\"\n    }\n  });\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", getRuntimeInstanceTelemetryInfo(options));\n  return copilotRuntimeNodeHttpEndpoint(options);\n}\n__name(copilotRuntimeNodeExpressEndpoint, \"copilotRuntimeNodeExpressEndpoint\");\n\n// src/lib/integrations/nest/index.ts\nfunction copilotRuntimeNestEndpoint(options) {\n  telemetry_client_default.setGlobalProperties({\n    runtime: {\n      framework: \"nest\"\n    }\n  });\n  telemetry_client_default.capture(\"oss.runtime.instance_created\", getRuntimeInstanceTelemetryInfo(options));\n  return copilotRuntimeNodeHttpEndpoint(options);\n}\n__name(copilotRuntimeNestEndpoint, \"copilotRuntimeNestEndpoint\");\n\n// src/lib/runtime/langgraph/langgraph-agent.ts\nvar import_client = __webpack_require__(/*! @ag-ui/client */ \"(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/client/dist/index.mjs\");\nvar import_rxjs6 = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/index.js\");\nvar import_langgraph = __webpack_require__(/*! @ag-ui/langgraph */ \"(rsc)/./node_modules/@ag-ui/langgraph/dist/index.mjs\");\nvar CustomEventNames2;\n(function(CustomEventNames3) {\n  CustomEventNames3[\"CopilotKitManuallyEmitMessage\"] = \"copilotkit_manually_emit_message\";\n  CustomEventNames3[\"CopilotKitManuallyEmitToolCall\"] = \"copilotkit_manually_emit_tool_call\";\n  CustomEventNames3[\"CopilotKitManuallyEmitIntermediateState\"] = \"copilotkit_manually_emit_intermediate_state\";\n  CustomEventNames3[\"CopilotKitExit\"] = \"copilotkit_exit\";\n})(CustomEventNames2 || (CustomEventNames2 = {}));\nvar LangGraphAgent = class extends import_langgraph.LangGraphAgent {\n  constructor(config2) {\n    super(config2);\n  }\n  dispatchEvent(event) {\n    if (event.type === import_client.EventType.CUSTOM) {\n      const customEvent = event;\n      if (customEvent.name === \"copilotkit_manually_emit_message\") {\n        this.subscriber.next({\n          type: import_client.EventType.TEXT_MESSAGE_START,\n          role: \"assistant\",\n          messageId: customEvent.value.message_id,\n          rawEvent: event\n        });\n        this.subscriber.next({\n          type: import_client.EventType.TEXT_MESSAGE_CONTENT,\n          messageId: customEvent.value.message_id,\n          delta: customEvent.value.message,\n          rawEvent: event\n        });\n        this.subscriber.next({\n          type: import_client.EventType.TEXT_MESSAGE_END,\n          messageId: customEvent.value.message_id,\n          rawEvent: event\n        });\n        return true;\n      }\n      if (customEvent.name === \"copilotkit_manually_emit_tool_call\") {\n        this.subscriber.next({\n          type: import_client.EventType.TOOL_CALL_START,\n          toolCallId: customEvent.value.id,\n          toolCallName: customEvent.value.name,\n          parentMessageId: customEvent.value.id,\n          rawEvent: event\n        });\n        this.subscriber.next({\n          type: import_client.EventType.TOOL_CALL_ARGS,\n          toolCallId: customEvent.value.id,\n          delta: customEvent.value.args,\n          rawEvent: event\n        });\n        this.subscriber.next({\n          type: import_client.EventType.TOOL_CALL_END,\n          toolCallId: customEvent.value.id,\n          rawEvent: event\n        });\n        return true;\n      }\n      if (customEvent.name === \"copilotkit_manually_emit_intermediate_state\") {\n        this.activeRun.manuallyEmittedState = customEvent.value;\n        this.dispatchEvent({\n          type: import_client.EventType.STATE_SNAPSHOT,\n          snapshot: this.getStateSnapshot({\n            values: this.activeRun.manuallyEmittedState\n          }),\n          rawEvent: event\n        });\n        return true;\n      }\n      if (customEvent.name === \"copilotkit_exit\") {\n        this.subscriber.next({\n          type: import_client.EventType.CUSTOM,\n          name: \"Exit\",\n          value: true\n        });\n        return true;\n      }\n    }\n    const rawEvent = event.rawEvent;\n    if (!rawEvent) {\n      this.subscriber.next(event);\n      return true;\n    }\n    const isMessageEvent = event.type === import_client.EventType.TEXT_MESSAGE_START || event.type === import_client.EventType.TEXT_MESSAGE_CONTENT || event.type === import_client.EventType.TEXT_MESSAGE_END;\n    const isToolEvent = event.type === import_client.EventType.TOOL_CALL_START || event.type === import_client.EventType.TOOL_CALL_ARGS || event.type === import_client.EventType.TOOL_CALL_END;\n    if (\"copilotkit:emit-tool-calls\" in (rawEvent.metadata || {})) {\n      if (rawEvent.metadata[\"copilotkit:emit-tool-calls\"] === false && isToolEvent) {\n        return false;\n      }\n    }\n    if (\"copilotkit:emit-messages\" in (rawEvent.metadata || {})) {\n      if (rawEvent.metadata[\"copilotkit:emit-messages\"] === false && isMessageEvent) {\n        return false;\n      }\n    }\n    this.subscriber.next(event);\n    return true;\n  }\n  // @ts-ignore\n  run(input) {\n    return super.run(input).pipe((0, import_rxjs6.map)((processedEvent) => {\n      var _a, _b, _c, _d, _e;\n      if (processedEvent.type === import_client.EventType.RAW) {\n        const event = processedEvent.event ?? processedEvent.rawEvent;\n        const eventType = event.event;\n        const toolCallData = (_c = (_b = (_a = event.data) == null ? void 0 : _a.chunk) == null ? void 0 : _b.tool_call_chunks) == null ? void 0 : _c[0];\n        const toolCallUsedToPredictState = (_e = (_d = event.metadata) == null ? void 0 : _d[\"copilotkit:emit-intermediate-state\"]) == null ? void 0 : _e.some((predictStateTool) => predictStateTool.tool === (toolCallData == null ? void 0 : toolCallData.name));\n        if (eventType === LangGraphEventTypes.OnChatModelStream && toolCallUsedToPredictState) {\n          return {\n            type: import_client.EventType.CUSTOM,\n            name: \"PredictState\",\n            value: event.metadata[\"copilotkit:emit-intermediate-state\"]\n          };\n        }\n      }\n      return processedEvent;\n    }));\n  }\n  langGraphDefaultMergeState(state, messages, tools) {\n    const { tools: returnedTools, ...rest } = super.langGraphDefaultMergeState(state, messages, tools);\n    return {\n      ...rest,\n      copilotkit: {\n        actions: returnedTools\n      }\n    };\n  }\n  async getSchemaKeys() {\n    const CONSTANT_KEYS = [\n      \"copilotkit\"\n    ];\n    const schemaKeys = await super.getSchemaKeys();\n    return {\n      config: schemaKeys.config,\n      input: schemaKeys.input ? [\n        ...schemaKeys.input,\n        ...CONSTANT_KEYS\n      ] : null,\n      output: schemaKeys.output ? [\n        ...schemaKeys.output,\n        ...CONSTANT_KEYS\n      ] : null\n    };\n  }\n};\n__name(LangGraphAgent, \"LangGraphAgent\");\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwyQkFBMkI7QUFDdkY7QUFDQSwyREFBMkQsYUFBYTtBQUN4RTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0NBQWtDO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOEZBQThGO0FBQzNIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSw4QkFBOEI7QUFDdkc7QUFDQTtBQUNBLG9EQUFvRCxrQkFBa0IsYUFBYTs7QUFFbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFB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QTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYzs7QUFFbEQ7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYzs7QUFFbEQ7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYzs7QUFFbEQ7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDL0M7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDZCQUE2QixtQkFBTyxDQUFDLDBFQUFpQjtBQUN0RCw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnREFBZ0Q7QUFDakQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdFQUFnRTtBQUNqRTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQywwRUFBYztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCLElBQUkscUJBQXFCO0FBQ25FLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUdBQW1HO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNULElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsNENBQTRDLGFBQWE7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Q0EsWUFBWSxnTkFBZ047QUFDNU47QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0EsdUJBQXVCLGFBQW9CO0FBQzNDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUI7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZLGdDQUFnQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLENBdUNMO0FBQ0QiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19jcmVhdGUgPSBPYmplY3QuY3JlYXRlO1xudmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO1xudmFyIF9fZ2V0UHJvdG9PZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcbnZhciBfX2hhc093blByb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIF9fbmFtZSA9ICh0YXJnZXQsIHZhbHVlKSA9PiBfX2RlZlByb3AodGFyZ2V0LCBcIm5hbWVcIiwgeyB2YWx1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20zLCBleGNlcHQsIGRlc2MpID0+IHtcbiAgaWYgKGZyb20zICYmIHR5cGVvZiBmcm9tMyA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbTMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAobGV0IGtleSBvZiBfX2dldE93blByb3BOYW1lcyhmcm9tMykpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb20zW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbTMsIGtleSkpIHx8IGRlc2MuZW51bWVyYWJsZSB9KTtcbiAgfVxuICByZXR1cm4gdG87XG59O1xudmFyIF9fdG9FU00gPSAobW9kLCBpc05vZGVNb2RlLCB0YXJnZXQpID0+ICh0YXJnZXQgPSBtb2QgIT0gbnVsbCA/IF9fY3JlYXRlKF9fZ2V0UHJvdG9PZihtb2QpKSA6IHt9LCBfX2NvcHlQcm9wcyhcbiAgLy8gSWYgdGhlIGltcG9ydGVyIGlzIGluIG5vZGUgY29tcGF0aWJpbGl0eSBtb2RlIG9yIHRoaXMgaXMgbm90IGFuIEVTTVxuICAvLyBmaWxlIHRoYXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgQ29tbW9uSlMgZmlsZSB1c2luZyBhIEJhYmVsLVxuICAvLyBjb21wYXRpYmxlIHRyYW5zZm9ybSAoaS5lLiBcIl9fZXNNb2R1bGVcIiBoYXMgbm90IGJlZW4gc2V0KSwgdGhlbiBzZXRcbiAgLy8gXCJkZWZhdWx0XCIgdG8gdGhlIENvbW1vbkpTIFwibW9kdWxlLmV4cG9ydHNcIiBmb3Igbm9kZSBjb21wYXRpYmlsaXR5LlxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHsgdmFsdWU6IG1vZCwgZW51bWVyYWJsZTogdHJ1ZSB9KSA6IHRhcmdldCxcbiAgbW9kXG4pKTtcbnZhciBfX3RvQ29tbW9uSlMgPSAobW9kKSA9PiBfX2NvcHlQcm9wcyhfX2RlZlByb3Aoe30sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pLCBtb2QpO1xuXG4vLyBwYWNrYWdlLmpzb25cbnZhciByZXF1aXJlX3BhY2thZ2UgPSBfX2NvbW1vbkpTKHtcbiAgXCJwYWNrYWdlLmpzb25cIihleHBvcnRzLCBtb2R1bGUyKSB7XG4gICAgbW9kdWxlMi5leHBvcnRzID0ge1xuICAgICAgbmFtZTogXCJAY29waWxvdGtpdC9ydW50aW1lXCIsXG4gICAgICBwcml2YXRlOiBmYWxzZSxcbiAgICAgIGhvbWVwYWdlOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Db3BpbG90S2l0L0NvcGlsb3RLaXRcIixcbiAgICAgIHJlcG9zaXRvcnk6IHtcbiAgICAgICAgdHlwZTogXCJnaXRcIixcbiAgICAgICAgdXJsOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Db3BpbG90S2l0L0NvcGlsb3RLaXQuZ2l0XCJcbiAgICAgIH0sXG4gICAgICBwdWJsaXNoQ29uZmlnOiB7XG4gICAgICAgIGFjY2VzczogXCJwdWJsaWNcIlxuICAgICAgfSxcbiAgICAgIHZlcnNpb246IFwiMS4xMC40XCIsXG4gICAgICBzaWRlRWZmZWN0czogZmFsc2UsXG4gICAgICBtYWluOiBcIi4vZGlzdC9pbmRleC5qc1wiLFxuICAgICAgbW9kdWxlOiBcIi4vZGlzdC9pbmRleC5tanNcIixcbiAgICAgIGV4cG9ydHM6IHtcbiAgICAgICAgXCIuXCI6IFwiLi9kaXN0L2luZGV4LmpzXCJcbiAgICAgIH0sXG4gICAgICB0eXBlczogXCIuL2Rpc3QvaW5kZXguZC50c1wiLFxuICAgICAgbGljZW5zZTogXCJNSVRcIixcbiAgICAgIHNjcmlwdHM6IHtcbiAgICAgICAgYnVpbGQ6ICd0c3VwIC0tb25TdWNjZXNzIFwicG5wbSBydW4gZ2VuZXJhdGUtZ3JhcGhxbC1zY2hlbWFcIicsXG4gICAgICAgIGRldjogJ3RzdXAgLS13YXRjaCAtLW9uU3VjY2VzcyBcInBucG0gcnVuIGdlbmVyYXRlLWdyYXBocWwtc2NoZW1hXCInLFxuICAgICAgICB0ZXN0OiBcImplc3QgLS1wYXNzV2l0aE5vVGVzdHNcIixcbiAgICAgICAgXCJjaGVjay10eXBlc1wiOiBcInRzYyAtLW5vRW1pdFwiLFxuICAgICAgICBjbGVhbjogXCJybSAtcmYgLnR1cmJvICYmIHJtIC1yZiBub2RlX21vZHVsZXMgJiYgcm0gLXJmIGRpc3QgJiYgcm0gLXJmIC5uZXh0ICYmIHJtIC1yZiBfX3NuYXBzaG90c19fXCIsXG4gICAgICAgIFwiZ2VuZXJhdGUtZ3JhcGhxbC1zY2hlbWFcIjogXCJybSAtcmYgX19zbmFwc2hvdHNfXyAmJiB0cy1ub2RlIC4vc2NyaXB0cy9nZW5lcmF0ZS1ncWwtc2NoZW1hLnRzXCIsXG4gICAgICAgIFwibGluazpnbG9iYWxcIjogXCJwbnBtIGxpbmsgLS1nbG9iYWxcIixcbiAgICAgICAgXCJ1bmxpbms6Z2xvYmFsXCI6IFwicG5wbSB1bmxpbmsgLS1nbG9iYWxcIlxuICAgICAgfSxcbiAgICAgIGRldkRlcGVuZGVuY2llczoge1xuICAgICAgICBcIkBqZXN0L2dsb2JhbHNcIjogXCJeMjkuNy4wXCIsXG4gICAgICAgIFwiQHN3Yy9jb3JlXCI6IFwiMS41LjI4XCIsXG4gICAgICAgIFwiQHR5cGVzL2V4cHJlc3NcIjogXCJeNC4xNy4yMVwiLFxuICAgICAgICBcIkB0eXBlcy9qZXN0XCI6IFwiXjI5LjUuMTJcIixcbiAgICAgICAgXCJAdHlwZXMvbm9kZVwiOiBcIl4xOC4xMS4xN1wiLFxuICAgICAgICBcIkB3aGF0d2ctbm9kZS9zZXJ2ZXJcIjogXCJeMC45LjM0XCIsXG4gICAgICAgIGVzbGludDogXCJeOC41Ni4wXCIsXG4gICAgICAgIFwiZXNsaW50LWNvbmZpZy1jdXN0b21cIjogXCJ3b3Jrc3BhY2U6KlwiLFxuICAgICAgICBqZXN0OiBcIl4yOS42LjRcIixcbiAgICAgICAgbm9kZW1vbjogXCJeMy4xLjNcIixcbiAgICAgICAgXCJ0cy1qZXN0XCI6IFwiXjI5LjEuMVwiLFxuICAgICAgICBcInRzLW5vZGVcIjogXCJeMTAuOS4yXCIsXG4gICAgICAgIHRzY29uZmlnOiBcIndvcmtzcGFjZToqXCIsXG4gICAgICAgIHRzdXA6IFwiXjYuNy4wXCIsXG4gICAgICAgIHR5cGVzY3JpcHQ6IFwiXjUuMi4zXCIsXG4gICAgICAgIFwiem9kLXRvLWpzb24tc2NoZW1hXCI6IFwiXjMuMjMuNVwiXG4gICAgICB9LFxuICAgICAgZGVwZW5kZW5jaWVzOiB7XG4gICAgICAgIFwiQGFnLXVpL2NsaWVudFwiOiBcIl4wLjAuMzdcIixcbiAgICAgICAgXCJAYWctdWkvY29yZVwiOiBcIl4wLjAuMzdcIixcbiAgICAgICAgXCJAYWctdWkvZW5jb2RlclwiOiBcIl4wLjAuMzdcIixcbiAgICAgICAgXCJAYWctdWkvbGFuZ2dyYXBoXCI6IFwiXjAuMC4xMlwiLFxuICAgICAgICBcIkBhZy11aS9wcm90b1wiOiBcIl4wLjAuMzdcIixcbiAgICAgICAgXCJAYW50aHJvcGljLWFpL3Nka1wiOiBcIl4wLjU3LjBcIixcbiAgICAgICAgXCJAY29waWxvdGtpdC9zaGFyZWRcIjogXCJ3b3Jrc3BhY2U6KlwiLFxuICAgICAgICBcIkBncmFwaHFsLXlvZ2EvcGx1Z2luLWRlZmVyLXN0cmVhbVwiOiBcIl4zLjMuMVwiLFxuICAgICAgICBcIkBsYW5nY2hhaW4vYXdzXCI6IFwiXjAuMS45XCIsXG4gICAgICAgIFwiQGxhbmdjaGFpbi9jb21tdW5pdHlcIjogXCJeMC4zLjI5XCIsXG4gICAgICAgIFwiQGxhbmdjaGFpbi9jb3JlXCI6IFwiXjAuMy4zOFwiLFxuICAgICAgICBcIkBsYW5nY2hhaW4vZ29vZ2xlLWdhdXRoXCI6IFwiXjAuMS4wXCIsXG4gICAgICAgIFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrXCI6IFwiXjAuMC43MFwiLFxuICAgICAgICBcIkBsYW5nY2hhaW4vb3BlbmFpXCI6IFwiXjAuNC4yXCIsXG4gICAgICAgIFwiQHNjYXJmL3NjYXJmXCI6IFwiXjEuMy4wXCIsXG4gICAgICAgIFwiY2xhc3MtdHJhbnNmb3JtZXJcIjogXCJeMC41LjFcIixcbiAgICAgICAgXCJjbGFzcy12YWxpZGF0b3JcIjogXCJeMC4xNC4xXCIsXG4gICAgICAgIGV4cHJlc3M6IFwiXjQuMTkuMlwiLFxuICAgICAgICBncmFwaHFsOiBcIl4xNi44LjFcIixcbiAgICAgICAgXCJncmFwaHFsLXNjYWxhcnNcIjogXCJeMS4yMy4wXCIsXG4gICAgICAgIFwiZ3JhcGhxbC15b2dhXCI6IFwiXjUuMy4xXCIsXG4gICAgICAgIFwiZ3JvcS1zZGtcIjogXCJeMC41LjBcIixcbiAgICAgICAgbGFuZ2NoYWluOiBcIl4wLjMuM1wiLFxuICAgICAgICBvcGVuYWk6IFwiXjQuODUuMVwiLFxuICAgICAgICBcInBhcnRpYWwtanNvblwiOiBcIl4wLjEuN1wiLFxuICAgICAgICBwaW5vOiBcIl45LjIuMFwiLFxuICAgICAgICBcInBpbm8tcHJldHR5XCI6IFwiXjExLjIuMVwiLFxuICAgICAgICBcInJlZmxlY3QtbWV0YWRhdGFcIjogXCJeMC4yLjJcIixcbiAgICAgICAgcnhqczogXCI3LjguMVwiLFxuICAgICAgICBcInR5cGUtZ3JhcGhxbFwiOiBcIjIuMC4wLXJjLjFcIixcbiAgICAgICAgem9kOiBcIl4zLjIzLjNcIlxuICAgICAgfSxcbiAgICAgIHBlZXJEZXBlbmRlbmNpZXM6IHtcbiAgICAgICAgXCJAYWctdWkvY2xpZW50XCI6IFwiPj0wLjAuMzdcIixcbiAgICAgICAgXCJAYWctdWkvY29yZVwiOiBcIj49MC4wLjM3XCIsXG4gICAgICAgIFwiQGFnLXVpL2VuY29kZXJcIjogXCI+PTAuMC4zN1wiLFxuICAgICAgICBcIkBhZy11aS9wcm90b1wiOiBcIj49MC4wLjM3XCJcbiAgICAgIH0sXG4gICAgICBrZXl3b3JkczogW1xuICAgICAgICBcImNvcGlsb3RraXRcIixcbiAgICAgICAgXCJjb3BpbG90XCIsXG4gICAgICAgIFwicmVhY3RcIixcbiAgICAgICAgXCJuZXh0anNcIixcbiAgICAgICAgXCJub2RlanNcIixcbiAgICAgICAgXCJhaVwiLFxuICAgICAgICBcImFzc2lzdGFudFwiLFxuICAgICAgICBcImphdmFzY3JpcHRcIixcbiAgICAgICAgXCJhdXRvbWF0aW9uXCIsXG4gICAgICAgIFwidGV4dGFyZWFcIlxuICAgICAgXVxuICAgIH07XG4gIH1cbn0pO1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBzcmNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoc3JjX2V4cG9ydHMsIHtcbiAgQW50aHJvcGljQWRhcHRlcjogKCkgPT4gQW50aHJvcGljQWRhcHRlcixcbiAgQmVkcm9ja0FkYXB0ZXI6ICgpID0+IEJlZHJvY2tBZGFwdGVyLFxuICBDb3BpbG90UnVudGltZTogKCkgPT4gQ29waWxvdFJ1bnRpbWUsXG4gIEN1c3RvbUV2ZW50TmFtZXM6ICgpID0+IEN1c3RvbUV2ZW50TmFtZXMyLFxuICBFbXB0eUFkYXB0ZXI6ICgpID0+IEVtcHR5QWRhcHRlcixcbiAgRXhwZXJpbWVudGFsRW1wdHlBZGFwdGVyOiAoKSA9PiBFeHBlcmltZW50YWxFbXB0eUFkYXB0ZXIsXG4gIEV4cGVyaW1lbnRhbE9sbGFtYUFkYXB0ZXI6ICgpID0+IEV4cGVyaW1lbnRhbE9sbGFtYUFkYXB0ZXIsXG4gIEdvb2dsZUdlbmVyYXRpdmVBSUFkYXB0ZXI6ICgpID0+IEdvb2dsZUdlbmVyYXRpdmVBSUFkYXB0ZXIsXG4gIEdyb3FBZGFwdGVyOiAoKSA9PiBHcm9xQWRhcHRlcixcbiAgR3VhcmRyYWlsc1ZhbGlkYXRpb25GYWlsdXJlUmVzcG9uc2U6ICgpID0+IEd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlLFxuICBMYW5nQ2hhaW5BZGFwdGVyOiAoKSA9PiBMYW5nQ2hhaW5BZGFwdGVyLFxuICBMYW5nR3JhcGhBZ2VudDogKCkgPT4gTGFuZ0dyYXBoQWdlbnQsXG4gIExhbmdHcmFwaEh0dHBBZ2VudDogKCkgPT4gaW1wb3J0X2xhbmdncmFwaC5MYW5nR3JhcGhIdHRwQWdlbnQsXG4gIE1lc3NhZ2VTdHJlYW1JbnRlcnJ1cHRlZFJlc3BvbnNlOiAoKSA9PiBNZXNzYWdlU3RyZWFtSW50ZXJydXB0ZWRSZXNwb25zZSxcbiAgT3BlbkFJQWRhcHRlcjogKCkgPT4gT3BlbkFJQWRhcHRlcixcbiAgT3BlbkFJQXNzaXN0YW50QWRhcHRlcjogKCkgPT4gT3BlbkFJQXNzaXN0YW50QWRhcHRlcixcbiAgUmVtb3RlQ2hhaW46ICgpID0+IFJlbW90ZUNoYWluLFxuICBVbmlmeUFkYXB0ZXI6ICgpID0+IFVuaWZ5QWRhcHRlcixcbiAgVW5rbm93bkVycm9yUmVzcG9uc2U6ICgpID0+IFVua25vd25FcnJvclJlc3BvbnNlLFxuICBhZGRDdXN0b21IZWFkZXJQbHVnaW46ICgpID0+IGFkZEN1c3RvbUhlYWRlclBsdWdpbixcbiAgYnVpbGRTY2hlbWE6ICgpID0+IGJ1aWxkU2NoZW1hLFxuICBjb25maWc6ICgpID0+IGNvbmZpZyxcbiAgY29udmVydE1DUFRvb2xzVG9BY3Rpb25zOiAoKSA9PiBjb252ZXJ0TUNQVG9vbHNUb0FjdGlvbnMsXG4gIGNvbnZlcnRTZXJ2aWNlQWRhcHRlckVycm9yOiAoKSA9PiBjb252ZXJ0U2VydmljZUFkYXB0ZXJFcnJvcixcbiAgY29waWxvdEtpdEVuZHBvaW50OiAoKSA9PiBjb3BpbG90S2l0RW5kcG9pbnQsXG4gIGNvcGlsb3RSdW50aW1lTmVzdEVuZHBvaW50OiAoKSA9PiBjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludDogKCkgPT4gY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOZXh0SlNQYWdlc1JvdXRlckVuZHBvaW50OiAoKSA9PiBjb3BpbG90UnVudGltZU5leHRKU1BhZ2VzUm91dGVyRW5kcG9pbnQsXG4gIGNvcGlsb3RSdW50aW1lTm9kZUV4cHJlc3NFbmRwb2ludDogKCkgPT4gY29waWxvdFJ1bnRpbWVOb2RlRXhwcmVzc0VuZHBvaW50LFxuICBjb3BpbG90UnVudGltZU5vZGVIdHRwRW5kcG9pbnQ6ICgpID0+IGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludCxcbiAgY3JlYXRlQ29udGV4dDogKCkgPT4gY3JlYXRlQ29udGV4dCxcbiAgY3JlYXRlTG9nZ2VyOiAoKSA9PiBjcmVhdGVMb2dnZXIsXG4gIGV4dHJhY3RQYXJhbWV0ZXJzRnJvbVNjaGVtYTogKCkgPT4gZXh0cmFjdFBhcmFtZXRlcnNGcm9tU2NoZW1hLFxuICBmbGF0dGVuVG9vbENhbGxzTm9EdXBsaWNhdGVzOiAoKSA9PiBmbGF0dGVuVG9vbENhbGxzTm9EdXBsaWNhdGVzLFxuICBnZW5lcmF0ZU1jcFRvb2xJbnN0cnVjdGlvbnM6ICgpID0+IGdlbmVyYXRlTWNwVG9vbEluc3RydWN0aW9ucyxcbiAgZ2V0Q29tbW9uQ29uZmlnOiAoKSA9PiBnZXRDb21tb25Db25maWcsXG4gIGxhbmdHcmFwaFBsYXRmb3JtRW5kcG9pbnQ6ICgpID0+IGxhbmdHcmFwaFBsYXRmb3JtRW5kcG9pbnQsXG4gIHJlc29sdmVFbmRwb2ludFR5cGU6ICgpID0+IHJlc29sdmVFbmRwb2ludFR5cGVcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xudmFyIGltcG9ydF9yZWZsZWN0X21ldGFkYXRhID0gcmVxdWlyZShcInJlZmxlY3QtbWV0YWRhdGFcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL29wZW5haS9vcGVuYWktYWRhcHRlci50c1xudmFyIGltcG9ydF9vcGVuYWkgPSBfX3RvRVNNKHJlcXVpcmUoXCJvcGVuYWlcIikpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9vcGVuYWkvdXRpbHMudHNcbnZhciBpbXBvcnRfc2hhcmVkID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbmZ1bmN0aW9uIGxpbWl0TWVzc2FnZXNUb1Rva2VuQ291bnQobWVzc2FnZXMsIHRvb2xzLCBtb2RlbCwgbWF4VG9rZW5zKSB7XG4gIG1heFRva2VucyB8fCAobWF4VG9rZW5zID0gbWF4VG9rZW5zRm9yT3BlbkFJTW9kZWwobW9kZWwpKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGNvbnN0IHRvb2xzTnVtVG9rZW5zID0gY291bnRUb29sc1Rva2Vucyhtb2RlbCwgdG9vbHMpO1xuICBpZiAodG9vbHNOdW1Ub2tlbnMgPiBtYXhUb2tlbnMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFRvbyBtYW55IHRva2VucyBpbiBmdW5jdGlvbiBkZWZpbml0aW9uczogJHt0b29sc051bVRva2Vuc30gPiAke21heFRva2Vuc31gKTtcbiAgfVxuICBtYXhUb2tlbnMgLT0gdG9vbHNOdW1Ub2tlbnM7XG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlcykge1xuICAgIGlmIChbXG4gICAgICBcInN5c3RlbVwiLFxuICAgICAgXCJkZXZlbG9wZXJcIlxuICAgIF0uaW5jbHVkZXMobWVzc2FnZS5yb2xlKSkge1xuICAgICAgY29uc3QgbnVtVG9rZW5zID0gY291bnRNZXNzYWdlVG9rZW5zKG1vZGVsLCBtZXNzYWdlKTtcbiAgICAgIG1heFRva2VucyAtPSBudW1Ub2tlbnM7XG4gICAgICBpZiAobWF4VG9rZW5zIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIHRva2VucyBmb3Igc3lzdGVtIG1lc3NhZ2UuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgY3V0b2ZmID0gZmFsc2U7XG4gIGNvbnN0IHJldmVyc2VkTWVzc2FnZXMgPSBbXG4gICAgLi4ubWVzc2FnZXNcbiAgXS5yZXZlcnNlKCk7XG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiByZXZlcnNlZE1lc3NhZ2VzKSB7XG4gICAgaWYgKFtcbiAgICAgIFwic3lzdGVtXCIsXG4gICAgICBcImRldmVsb3BlclwiXG4gICAgXS5pbmNsdWRlcyhtZXNzYWdlLnJvbGUpKSB7XG4gICAgICByZXN1bHQudW5zaGlmdChtZXNzYWdlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH0gZWxzZSBpZiAoY3V0b2ZmKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IG51bVRva2VucyA9IGNvdW50TWVzc2FnZVRva2Vucyhtb2RlbCwgbWVzc2FnZSk7XG4gICAgaWYgKG1heFRva2VucyA8IG51bVRva2Vucykge1xuICAgICAgY3V0b2ZmID0gdHJ1ZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICByZXN1bHQudW5zaGlmdChtZXNzYWdlKTtcbiAgICBtYXhUb2tlbnMgLT0gbnVtVG9rZW5zO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5fX25hbWUobGltaXRNZXNzYWdlc1RvVG9rZW5Db3VudCwgXCJsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50XCIpO1xuZnVuY3Rpb24gbWF4VG9rZW5zRm9yT3BlbkFJTW9kZWwobW9kZWwpIHtcbiAgcmV0dXJuIG1heFRva2Vuc0J5TW9kZWxbbW9kZWxdIHx8IERFRkFVTFRfTUFYX1RPS0VOUztcbn1cbl9fbmFtZShtYXhUb2tlbnNGb3JPcGVuQUlNb2RlbCwgXCJtYXhUb2tlbnNGb3JPcGVuQUlNb2RlbFwiKTtcbnZhciBERUZBVUxUX01BWF9UT0tFTlMgPSAxMjhlMztcbnZhciBtYXhUb2tlbnNCeU1vZGVsID0ge1xuICAvLyBvMVxuICBvMTogMmU1LFxuICBcIm8xLTIwMjQtMTItMTdcIjogMmU1LFxuICBcIm8xLW1pbmlcIjogMTI4ZTMsXG4gIFwibzEtbWluaS0yMDI0LTA5LTEyXCI6IDEyOGUzLFxuICBcIm8xLXByZXZpZXdcIjogMTI4ZTMsXG4gIFwibzEtcHJldmlldy0yMDI0LTA5LTEyXCI6IDEyOGUzLFxuICAvLyBvMy1taW5pXG4gIFwibzMtbWluaVwiOiAyZTUsXG4gIFwibzMtbWluaS0yMDI1LTAxLTMxXCI6IDJlNSxcbiAgLy8gR1BULTRcbiAgXCJncHQtNG9cIjogMTI4ZTMsXG4gIFwiY2hhdGdwdC00by1sYXRlc3RcIjogMTI4ZTMsXG4gIFwiZ3B0LTRvLTIwMjQtMDgtMDZcIjogMTI4ZTMsXG4gIFwiZ3B0LTRvLTIwMjQtMDUtMTNcIjogMTI4ZTMsXG4gIFwiZ3B0LTRvLW1pbmlcIjogMTI4ZTMsXG4gIFwiZ3B0LTRvLW1pbmktMjAyNC0wNy0xOFwiOiAxMjhlMyxcbiAgXCJncHQtNC10dXJib1wiOiAxMjhlMyxcbiAgXCJncHQtNC10dXJiby0yMDI0LTA0LTA5XCI6IDEyOGUzLFxuICBcImdwdC00LTAxMjUtcHJldmlld1wiOiAxMjhlMyxcbiAgXCJncHQtNC10dXJiby1wcmV2aWV3XCI6IDEyOGUzLFxuICBcImdwdC00LTExMDYtcHJldmlld1wiOiAxMjhlMyxcbiAgXCJncHQtNC12aXNpb24tcHJldmlld1wiOiAxMjhlMyxcbiAgXCJncHQtNC0xMTA2LXZpc2lvbi1wcmV2aWV3XCI6IDEyOGUzLFxuICBcImdwdC00LTMya1wiOiAzMjc2OCxcbiAgXCJncHQtNC0zMmstMDYxM1wiOiAzMjc2OCxcbiAgXCJncHQtNC0zMmstMDMxNFwiOiAzMjc2OCxcbiAgXCJncHQtNFwiOiA4MTkyLFxuICBcImdwdC00LTA2MTNcIjogODE5MixcbiAgXCJncHQtNC0wMzE0XCI6IDgxOTIsXG4gIC8vIEdQVC0zLjVcbiAgXCJncHQtMy41LXR1cmJvLTAxMjVcIjogMTYzODUsXG4gIFwiZ3B0LTMuNS10dXJib1wiOiAxNjM4NSxcbiAgXCJncHQtMy41LXR1cmJvLTExMDZcIjogMTYzODUsXG4gIFwiZ3B0LTMuNS10dXJiby1pbnN0cnVjdFwiOiA0MDk2LFxuICBcImdwdC0zLjUtdHVyYm8tMTZrXCI6IDE2Mzg1LFxuICBcImdwdC0zLjUtdHVyYm8tMDYxM1wiOiA0MDk2LFxuICBcImdwdC0zLjUtdHVyYm8tMTZrLTA2MTNcIjogMTYzODUsXG4gIFwiZ3B0LTMuNS10dXJiby0wMzAxXCI6IDQwOTdcbn07XG5mdW5jdGlvbiBjb3VudFRvb2xzVG9rZW5zKG1vZGVsLCB0b29scykge1xuICBpZiAodG9vbHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHRvb2xzKTtcbiAgcmV0dXJuIGNvdW50VG9rZW5zKG1vZGVsLCBqc29uKTtcbn1cbl9fbmFtZShjb3VudFRvb2xzVG9rZW5zLCBcImNvdW50VG9vbHNUb2tlbnNcIik7XG5mdW5jdGlvbiBjb3VudE1lc3NhZ2VUb2tlbnMobW9kZWwsIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGNvdW50VG9rZW5zKG1vZGVsLCBtZXNzYWdlLmNvbnRlbnQgfHwgXCJcIik7XG59XG5fX25hbWUoY291bnRNZXNzYWdlVG9rZW5zLCBcImNvdW50TWVzc2FnZVRva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvdW50VG9rZW5zKG1vZGVsLCB0ZXh0KSB7XG4gIHJldHVybiB0ZXh0Lmxlbmd0aCAvIDM7XG59XG5fX25hbWUoY291bnRUb2tlbnMsIFwiY291bnRUb2tlbnNcIik7XG5mdW5jdGlvbiBjb252ZXJ0QWN0aW9uSW5wdXRUb09wZW5BSVRvb2woYWN0aW9uKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgIGZ1bmN0aW9uOiB7XG4gICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICBwYXJhbWV0ZXJzOiAoMCwgaW1wb3J0X3NoYXJlZC5wYXJzZUpzb24pKGFjdGlvbi5qc29uU2NoZW1hLCB7fSlcbiAgICB9XG4gIH07XG59XG5fX25hbWUoY29udmVydEFjdGlvbklucHV0VG9PcGVuQUlUb29sLCBcImNvbnZlcnRBY3Rpb25JbnB1dFRvT3BlbkFJVG9vbFwiKTtcbmZ1bmN0aW9uIGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBrZWVwU3lzdGVtUm9sZSB9ID0gb3B0aW9ucyB8fCB7XG4gICAga2VlcFN5c3RlbVJvbGU6IGZhbHNlXG4gIH07XG4gIGlmIChtZXNzYWdlLmlzVGV4dE1lc3NhZ2UoKSkge1xuICAgIGxldCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICAgIGlmIChtZXNzYWdlLnJvbGUgPT09IFwic3lzdGVtXCIgJiYgIWtlZXBTeXN0ZW1Sb2xlKSB7XG4gICAgICByb2xlID0gXCJkZXZlbG9wZXJcIjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGUsXG4gICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnRcbiAgICB9O1xuICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNJbWFnZU1lc3NhZ2UoKSkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaW1hZ2VfdXJsXCIsXG4gICAgICAgICAgaW1hZ2VfdXJsOiB7XG4gICAgICAgICAgICB1cmw6IGBkYXRhOmltYWdlLyR7bWVzc2FnZS5mb3JtYXR9O2Jhc2U2NCwke21lc3NhZ2UuYnl0ZXN9YFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH0gZWxzZSBpZiAobWVzc2FnZS5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgdG9vbF9jYWxsczogW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICAgICAgICBhcmd1bWVudHM6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UuYXJndW1lbnRzKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH0gZWxzZSBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBcInRvb2xcIixcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgdG9vbF9jYWxsX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgfTtcbiAgfVxufVxuX19uYW1lKGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlLCBcImNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlXCIpO1xuZnVuY3Rpb24gY29udmVydFN5c3RlbU1lc3NhZ2VUb0Fzc2lzdGFudEFQSShtZXNzYWdlKSB7XG4gIHJldHVybiB7XG4gICAgLi4ubWVzc2FnZSxcbiAgICAuLi5bXG4gICAgICBcInN5c3RlbVwiLFxuICAgICAgXCJkZXZlbG9wZXJcIlxuICAgIF0uaW5jbHVkZXMobWVzc2FnZS5yb2xlKSAmJiB7XG4gICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgY29udGVudDogXCJUSEUgRk9MTE9XSU5HIE1FU1NBR0UgSVMgQSBTWVNURU0gTUVTU0FHRTogXCIgKyBtZXNzYWdlLmNvbnRlbnRcbiAgICB9XG4gIH07XG59XG5fX25hbWUoY29udmVydFN5c3RlbU1lc3NhZ2VUb0Fzc2lzdGFudEFQSSwgXCJjb252ZXJ0U3lzdGVtTWVzc2FnZVRvQXNzaXN0YW50QVBJXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9vcGVuYWkvb3BlbmFpLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkMyA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL3NoYXJlZC9lcnJvci11dGlscy50c1xudmFyIGltcG9ydF9zaGFyZWQyID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbmZ1bmN0aW9uIGNvbnZlcnRTZXJ2aWNlQWRhcHRlckVycm9yKGVycm9yLCBhZGFwdGVyTmFtZSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgZXJyb3JOYW1lID0gKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jb25zdHJ1Y3RvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5hbWUpIHx8IGVycm9yLm5hbWU7XG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgfHwgU3RyaW5nKGVycm9yKTtcbiAgY29uc3Qgc3RhdHVzQ29kZSA9IGVycm9yLnN0YXR1cyB8fCBlcnJvci5zdGF0dXNDb2RlIHx8ICgoX2IgPSBlcnJvci5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnN0YXR1cyk7XG4gIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGVycm9yLmVycm9yIHx8ICgoX2MgPSBlcnJvci5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmRhdGEpIHx8IGVycm9yLmRhdGE7XG4gIGNvbnN0IHN0cnVjdHVyZWRFcnJvciA9IG5ldyBpbXBvcnRfc2hhcmVkMi5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcih7XG4gICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpLFxuICAgIHVybDogYCR7YWRhcHRlck5hbWV9IHNlcnZpY2UgYWRhcHRlcmAsXG4gICAgbWVzc2FnZTogYCR7YWRhcHRlck5hbWV9IEFQSSBlcnJvcjogJHtlcnJvck1lc3NhZ2V9YFxuICB9KTtcbiAgaWYgKHN0YXR1c0NvZGUpIHtcbiAgICBzdHJ1Y3R1cmVkRXJyb3Iuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gIH1cbiAgaWYgKHJlc3BvbnNlRGF0YSkge1xuICAgIHN0cnVjdHVyZWRFcnJvci5yZXNwb25zZURhdGEgPSByZXNwb25zZURhdGE7XG4gIH1cbiAgaWYgKGVycm9yTmFtZSkge1xuICAgIHN0cnVjdHVyZWRFcnJvci5vcmlnaW5hbEVycm9yVHlwZSA9IGVycm9yTmFtZTtcbiAgfVxuICBsZXQgbmV3Q29kZTtcbiAgaWYgKHN0YXR1c0NvZGUgPT09IDQwMSkge1xuICAgIG5ld0NvZGUgPSBpbXBvcnRfc2hhcmVkMi5Db3BpbG90S2l0RXJyb3JDb2RlLkFVVEhFTlRJQ0FUSU9OX0VSUk9SO1xuICB9IGVsc2UgaWYgKHN0YXR1c0NvZGUgPj0gNDAwICYmIHN0YXR1c0NvZGUgPCA1MDApIHtcbiAgICBuZXdDb2RlID0gaW1wb3J0X3NoYXJlZDIuQ29waWxvdEtpdEVycm9yQ29kZS5DT05GSUdVUkFUSU9OX0VSUk9SO1xuICB9IGVsc2UgaWYgKHN0YXR1c0NvZGUgPj0gNTAwKSB7XG4gICAgbmV3Q29kZSA9IGltcG9ydF9zaGFyZWQyLkNvcGlsb3RLaXRFcnJvckNvZGUuTkVUV09SS19FUlJPUjtcbiAgfSBlbHNlIGlmIChzdGF0dXNDb2RlKSB7XG4gICAgbmV3Q29kZSA9IGltcG9ydF9zaGFyZWQyLkNvcGlsb3RLaXRFcnJvckNvZGUuQ09ORklHVVJBVElPTl9FUlJPUjtcbiAgfSBlbHNlIHtcbiAgICBuZXdDb2RlID0gaW1wb3J0X3NoYXJlZDIuQ29waWxvdEtpdEVycm9yQ29kZS5ORVRXT1JLX0VSUk9SO1xuICB9XG4gIHN0cnVjdHVyZWRFcnJvci5jb2RlID0gbmV3Q29kZTtcbiAgaWYgKHN0cnVjdHVyZWRFcnJvci5leHRlbnNpb25zKSB7XG4gICAgc3RydWN0dXJlZEVycm9yLmV4dGVuc2lvbnMuY29kZSA9IG5ld0NvZGU7XG4gIH1cbiAgcmV0dXJuIHN0cnVjdHVyZWRFcnJvcjtcbn1cbl9fbmFtZShjb252ZXJ0U2VydmljZUFkYXB0ZXJFcnJvciwgXCJjb252ZXJ0U2VydmljZUFkYXB0ZXJFcnJvclwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvb3BlbmFpL29wZW5haS1hZGFwdGVyLnRzXG52YXIgREVGQVVMVF9NT0RFTCA9IFwiZ3B0LTRvXCI7XG52YXIgT3BlbkFJQWRhcHRlciA9IGNsYXNzIHtcbiAgbW9kZWwgPSBERUZBVUxUX01PREVMO1xuICBkaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgPSBmYWxzZTtcbiAgX29wZW5haTtcbiAga2VlcFN5c3RlbVJvbGUgPSBmYWxzZTtcbiAgZ2V0IG9wZW5haSgpIHtcbiAgICByZXR1cm4gdGhpcy5fb3BlbmFpO1xuICB9XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHRoaXMuX29wZW5haSA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5vcGVuYWkpIHx8IG5ldyBpbXBvcnRfb3BlbmFpLmRlZmF1bHQoe30pO1xuICAgIGlmIChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5tb2RlbCkge1xuICAgICAgdGhpcy5tb2RlbCA9IHBhcmFtcy5tb2RlbDtcbiAgICB9XG4gICAgdGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzKSB8fCBmYWxzZTtcbiAgICB0aGlzLmtlZXBTeXN0ZW1Sb2xlID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmtlZXBTeXN0ZW1Sb2xlKSA/PyBmYWxzZTtcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB7IHRocmVhZElkOiB0aHJlYWRJZEZyb21SZXF1ZXN0LCBtb2RlbCA9IHRoaXMubW9kZWwsIG1lc3NhZ2VzLCBhY3Rpb25zLCBldmVudFNvdXJjZSwgZm9yd2FyZGVkUGFyYW1ldGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB0b29scyA9IGFjdGlvbnMubWFwKGNvbnZlcnRBY3Rpb25JbnB1dFRvT3BlbkFJVG9vbCk7XG4gICAgY29uc3QgdGhyZWFkSWQgPSB0aHJlYWRJZEZyb21SZXF1ZXN0ID8/ICgwLCBpbXBvcnRfc2hhcmVkMy5yYW5kb21VVUlEKSgpO1xuICAgIGNvbnN0IHZhbGlkVG9vbFVzZUlkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgICBpZiAobWVzc2FnZS5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSkge1xuICAgICAgICB2YWxpZFRvb2xVc2VJZHMuYWRkKG1lc3NhZ2UuaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmaWx0ZXJlZE1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgICAgICBpZiAoIXZhbGlkVG9vbFVzZUlkcy5oYXMobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRUb29sVXNlSWRzLmRlbGV0ZShtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBsZXQgb3BlbmFpTWVzc2FnZXMgPSBmaWx0ZXJlZE1lc3NhZ2VzLm1hcCgobSkgPT4gY29udmVydE1lc3NhZ2VUb09wZW5BSU1lc3NhZ2UobSwge1xuICAgICAga2VlcFN5c3RlbVJvbGU6IHRoaXMua2VlcFN5c3RlbVJvbGVcbiAgICB9KSk7XG4gICAgb3BlbmFpTWVzc2FnZXMgPSBsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50KG9wZW5haU1lc3NhZ2VzLCB0b29scywgbW9kZWwpO1xuICAgIGxldCB0b29sQ2hvaWNlID0gZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy50b29sQ2hvaWNlO1xuICAgIGlmICgoZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy50b29sQ2hvaWNlKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0b29sQ2hvaWNlID0ge1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgbmFtZTogZm9yd2FyZGVkUGFyYW1ldGVycy50b29sQ2hvaWNlRnVuY3Rpb25OYW1lXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLm9wZW5haS5iZXRhLmNoYXQuY29tcGxldGlvbnMuc3RyZWFtKHtcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIHN0cmVhbTogdHJ1ZSxcbiAgICAgICAgbWVzc2FnZXM6IG9wZW5haU1lc3NhZ2VzLFxuICAgICAgICAuLi50b29scy5sZW5ndGggPiAwICYmIHtcbiAgICAgICAgICB0b29sc1xuICAgICAgICB9LFxuICAgICAgICAuLi4oZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy5tYXhUb2tlbnMpICYmIHtcbiAgICAgICAgICBtYXhfY29tcGxldGlvbl90b2tlbnM6IGZvcndhcmRlZFBhcmFtZXRlcnMubWF4VG9rZW5zXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnN0b3ApICYmIHtcbiAgICAgICAgICBzdG9wOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnN0b3BcbiAgICAgICAgfSxcbiAgICAgICAgLi4udG9vbENob2ljZSAmJiB7XG4gICAgICAgICAgdG9vbF9jaG9pY2U6IHRvb2xDaG9pY2VcbiAgICAgICAgfSxcbiAgICAgICAgLi4udGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgJiYge1xuICAgICAgICAgIHBhcmFsbGVsX3Rvb2xfY2FsbHM6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRlbXBlcmF0dXJlKSAmJiB7XG4gICAgICAgICAgdGVtcGVyYXR1cmU6IGZvcndhcmRlZFBhcmFtZXRlcnMudGVtcGVyYXR1cmVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBldmVudFNvdXJjZS5zdHJlYW0oYXN5bmMgKGV2ZW50U3RyZWFtJCkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBsZXQgbW9kZSA9IG51bGw7XG4gICAgICAgIGxldCBjdXJyZW50TWVzc2FnZUlkO1xuICAgICAgICBsZXQgY3VycmVudFRvb2xDYWxsSWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIGlmIChjaHVuay5jaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gKF9hID0gY2h1bmsuY2hvaWNlc1swXS5kZWx0YS50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gY2h1bmsuY2hvaWNlc1swXS5kZWx0YS5jb250ZW50O1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiICYmICh0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuaWQpKSB7XG4gICAgICAgICAgICAgIG1vZGUgPSBudWxsO1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIiAmJiAodG9vbENhbGwgPT09IHZvaWQgMCB8fCAodG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmlkKSkpIHtcbiAgICAgICAgICAgICAgbW9kZSA9IG51bGw7XG4gICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHtcbiAgICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBpZiAodG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmlkKSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgICAgICBjdXJyZW50VG9vbENhbGxJZCA9IHRvb2xDYWxsLmlkO1xuICAgICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uU3RhcnQoe1xuICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBjaHVuay5pZCxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSBjaHVuay5pZDtcbiAgICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlU3RhcnQoe1xuICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIiAmJiBjb250ZW50KSB7XG4gICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VDb250ZW50KHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiICYmICgoX2IgPSB0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuZnVuY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYi5hcmd1bWVudHMpKSB7XG4gICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyh7XG4gICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50c1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKHtcbiAgICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoe1xuICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW09wZW5BSV0gRXJyb3IgZHVyaW5nIEFQSSBjYWxsOlwiLCBlcnJvcik7XG4gICAgICAgICAgdGhyb3cgY29udmVydFNlcnZpY2VBZGFwdGVyRXJyb3IoZXJyb3IsIFwiT3BlbkFJXCIpO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbT3BlbkFJXSBFcnJvciBkdXJpbmcgQVBJIGNhbGw6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGNvbnZlcnRTZXJ2aWNlQWRhcHRlckVycm9yKGVycm9yLCBcIk9wZW5BSVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZElkXG4gICAgfTtcbiAgfVxufTtcbl9fbmFtZShPcGVuQUlBZGFwdGVyLCBcIk9wZW5BSUFkYXB0ZXJcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2xhbmdjaGFpbi91dGlscy50c1xudmFyIGltcG9ydF9tZXNzYWdlcyA9IHJlcXVpcmUoXCJAbGFuZ2NoYWluL2NvcmUvbWVzc2FnZXNcIik7XG52YXIgaW1wb3J0X3Rvb2xzID0gcmVxdWlyZShcIkBsYW5nY2hhaW4vY29yZS90b29sc1wiKTtcbnZhciBpbXBvcnRfc2hhcmVkNSA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5mdW5jdGlvbiBjb252ZXJ0TWVzc2FnZVRvTGFuZ0NoYWluTWVzc2FnZShtZXNzYWdlKSB7XG4gIGlmIChtZXNzYWdlLmlzVGV4dE1lc3NhZ2UoKSkge1xuICAgIGlmIChtZXNzYWdlLnJvbGUgPT0gXCJ1c2VyXCIpIHtcbiAgICAgIHJldHVybiBuZXcgaW1wb3J0X21lc3NhZ2VzLkh1bWFuTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5yb2xlID09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgIHJldHVybiBuZXcgaW1wb3J0X21lc3NhZ2VzLkFJTWVzc2FnZShtZXNzYWdlLmNvbnRlbnQpO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICByZXR1cm4gbmV3IGltcG9ydF9tZXNzYWdlcy5TeXN0ZW1NZXNzYWdlKG1lc3NhZ2UuY29udGVudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpIHtcbiAgICByZXR1cm4gbmV3IGltcG9ydF9tZXNzYWdlcy5BSU1lc3NhZ2Uoe1xuICAgICAgY29udGVudDogXCJcIixcbiAgICAgIHRvb2xfY2FsbHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgIGFyZ3M6IG1lc3NhZ2UuYXJndW1lbnRzLFxuICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgIHJldHVybiBuZXcgaW1wb3J0X21lc3NhZ2VzLlRvb2xNZXNzYWdlKHtcbiAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgdG9vbF9jYWxsX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgfSk7XG4gIH1cbn1cbl9fbmFtZShjb252ZXJ0TWVzc2FnZVRvTGFuZ0NoYWluTWVzc2FnZSwgXCJjb252ZXJ0TWVzc2FnZVRvTGFuZ0NoYWluTWVzc2FnZVwiKTtcbmZ1bmN0aW9uIGNvbnZlcnRBY3Rpb25JbnB1dFRvTGFuZ0NoYWluVG9vbChhY3Rpb25JbnB1dCkge1xuICByZXR1cm4gbmV3IGltcG9ydF90b29scy5EeW5hbWljU3RydWN0dXJlZFRvb2woe1xuICAgIG5hbWU6IGFjdGlvbklucHV0Lm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGFjdGlvbklucHV0LmRlc2NyaXB0aW9uLFxuICAgIHNjaGVtYTogKDAsIGltcG9ydF9zaGFyZWQ1LmNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEpKEpTT04ucGFyc2UoYWN0aW9uSW5wdXQuanNvblNjaGVtYSksIHRydWUpLFxuICAgIGZ1bmM6IGFzeW5jICgpID0+IHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgfSk7XG59XG5fX25hbWUoY29udmVydEFjdGlvbklucHV0VG9MYW5nQ2hhaW5Ub29sLCBcImNvbnZlcnRBY3Rpb25JbnB1dFRvTGFuZ0NoYWluVG9vbFwiKTtcbmZ1bmN0aW9uIGlzQUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtZXNzYWdlKSA9PT0gXCJbb2JqZWN0IEFJTWVzc2FnZV1cIjtcbn1cbl9fbmFtZShpc0FJTWVzc2FnZSwgXCJpc0FJTWVzc2FnZVwiKTtcbmZ1bmN0aW9uIGlzQUlNZXNzYWdlQ2h1bmsobWVzc2FnZSkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG1lc3NhZ2UpID09PSBcIltvYmplY3QgQUlNZXNzYWdlQ2h1bmtdXCI7XG59XG5fX25hbWUoaXNBSU1lc3NhZ2VDaHVuaywgXCJpc0FJTWVzc2FnZUNodW5rXCIpO1xuZnVuY3Rpb24gaXNCYXNlTWVzc2FnZUNodW5rKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChtZXNzYWdlKSA9PT0gXCJbb2JqZWN0IEJhc2VNZXNzYWdlQ2h1bmtdXCI7XG59XG5fX25hbWUoaXNCYXNlTWVzc2FnZUNodW5rLCBcImlzQmFzZU1lc3NhZ2VDaHVua1wiKTtcbmZ1bmN0aW9uIG1heWJlU2VuZEFjdGlvbkV4ZWN1dGlvblJlc3VsdElzTWVzc2FnZShldmVudFN0cmVhbSQsIGFjdGlvbkV4ZWN1dGlvbikge1xuICBpZiAoYWN0aW9uRXhlY3V0aW9uKSB7XG4gICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHQoe1xuICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGFjdGlvbkV4ZWN1dGlvbi5pZCxcbiAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbkV4ZWN1dGlvbi5uYW1lLFxuICAgICAgcmVzdWx0OiBcIlNlbmRpbmcgYSBtZXNzYWdlXCJcbiAgICB9KTtcbiAgfVxufVxuX19uYW1lKG1heWJlU2VuZEFjdGlvbkV4ZWN1dGlvblJlc3VsdElzTWVzc2FnZSwgXCJtYXliZVNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHRJc01lc3NhZ2VcIik7XG5hc3luYyBmdW5jdGlvbiBzdHJlYW1MYW5nQ2hhaW5SZXNwb25zZSh7IHJlc3VsdCwgZXZlbnRTdHJlYW0kLCBhY3Rpb25FeGVjdXRpb24gfSkge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbDtcbiAgaWYgKHR5cGVvZiByZXN1bHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBpZiAoIWFjdGlvbkV4ZWN1dGlvbikge1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZSgoMCwgaW1wb3J0X3NoYXJlZDUucmFuZG9tSWQpKCksIHJlc3VsdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KHtcbiAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGFjdGlvbkV4ZWN1dGlvbi5pZCxcbiAgICAgICAgYWN0aW9uTmFtZTogYWN0aW9uRXhlY3V0aW9uLm5hbWUsXG4gICAgICAgIHJlc3VsdFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQUlNZXNzYWdlKHJlc3VsdCkpIHtcbiAgICBtYXliZVNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHRJc01lc3NhZ2UoZXZlbnRTdHJlYW0kLCBhY3Rpb25FeGVjdXRpb24pO1xuICAgIGlmIChyZXN1bHQuY29udGVudCkge1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZSgoMCwgaW1wb3J0X3NoYXJlZDUucmFuZG9tSWQpKCksIHJlc3VsdC5jb250ZW50KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiByZXN1bHQudG9vbF9jYWxscykge1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb24oe1xuICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogdG9vbENhbGwuaWQgfHwgKDAsIGltcG9ydF9zaGFyZWQ1LnJhbmRvbUlkKSgpLFxuICAgICAgICBhY3Rpb25OYW1lOiB0b29sQ2FsbC5uYW1lLFxuICAgICAgICBhcmdzOiBKU09OLnN0cmluZ2lmeSh0b29sQ2FsbC5hcmdzKVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzQmFzZU1lc3NhZ2VDaHVuayhyZXN1bHQpKSB7XG4gICAgbWF5YmVTZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0SXNNZXNzYWdlKGV2ZW50U3RyZWFtJCwgYWN0aW9uRXhlY3V0aW9uKTtcbiAgICBpZiAoKF9hID0gcmVzdWx0LmxjX2t3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbnRlbnQpIHtcbiAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2UoKDAsIGltcG9ydF9zaGFyZWQ1LnJhbmRvbUlkKSgpLCByZXN1bHQuY29udGVudCk7XG4gICAgfVxuICAgIGlmICgoX2IgPSByZXN1bHQubGNfa3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2IudG9vbF9jYWxscykge1xuICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiAoX2MgPSByZXN1bHQubGNfa3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2MudG9vbF9jYWxscykge1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbih7XG4gICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IHRvb2xDYWxsLmlkIHx8ICgwLCBpbXBvcnRfc2hhcmVkNS5yYW5kb21JZCkoKSxcbiAgICAgICAgICBhY3Rpb25OYW1lOiB0b29sQ2FsbC5uYW1lLFxuICAgICAgICAgIGFyZ3M6IEpTT04uc3RyaW5naWZ5KHRvb2xDYWxsLmFyZ3MpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChyZXN1bHQgJiYgXCJnZXRSZWFkZXJcIiBpbiByZXN1bHQpIHtcbiAgICBtYXliZVNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHRJc01lc3NhZ2UoZXZlbnRTdHJlYW0kLCBhY3Rpb25FeGVjdXRpb24pO1xuICAgIGxldCByZWFkZXIgPSByZXN1bHQuZ2V0UmVhZGVyKCk7XG4gICAgbGV0IG1vZGUgPSBudWxsO1xuICAgIGxldCBjdXJyZW50TWVzc2FnZUlkO1xuICAgIGNvbnN0IHRvb2xDYWxsRGV0YWlscyA9IHtcbiAgICAgIG5hbWU6IG51bGwsXG4gICAgICBpZDogbnVsbCxcbiAgICAgIGluZGV4OiBudWxsLFxuICAgICAgcHJldkluZGV4OiBudWxsXG4gICAgfTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgbGV0IHRvb2xDYWxsTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgbGV0IHRvb2xDYWxsSWQgPSB2b2lkIDA7XG4gICAgICAgIGxldCB0b29sQ2FsbEFyZ3MgPSB2b2lkIDA7XG4gICAgICAgIGxldCBoYXNUb29sQ2FsbCA9IGZhbHNlO1xuICAgICAgICBsZXQgY29udGVudCA9IFwiXCI7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5jb250ZW50KSB7XG4gICAgICAgICAgY29udGVudCA9IEFycmF5LmlzQXJyYXkodmFsdWUuY29udGVudCkgPyAoKF9kID0gdmFsdWUuY29udGVudFswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnRleHQpID8/IFwiXCIgOiB2YWx1ZS5jb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FJTWVzc2FnZUNodW5rKHZhbHVlKSkge1xuICAgICAgICAgIGxldCBjaHVuayA9IChfZSA9IHZhbHVlLnRvb2xfY2FsbF9jaHVua3MpID09IG51bGwgPyB2b2lkIDAgOiBfZVswXTtcbiAgICAgICAgICB0b29sQ2FsbEFyZ3MgPSBjaHVuayA9PSBudWxsID8gdm9pZCAwIDogY2h1bmsuYXJncztcbiAgICAgICAgICBoYXNUb29sQ2FsbCA9IGNodW5rICE9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLm5hbWUpXG4gICAgICAgICAgICB0b29sQ2FsbERldGFpbHMubmFtZSA9IGNodW5rLm5hbWU7XG4gICAgICAgICAgaWYgKChjaHVuayA9PSBudWxsID8gdm9pZCAwIDogY2h1bmsuaW5kZXgpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRvb2xDYWxsRGV0YWlscy5pbmRleCA9IGNodW5rLmluZGV4O1xuICAgICAgICAgICAgaWYgKHRvb2xDYWxsRGV0YWlscy5wcmV2SW5kZXggPT0gbnVsbClcbiAgICAgICAgICAgICAgdG9vbENhbGxEZXRhaWxzLnByZXZJbmRleCA9IGNodW5rLmluZGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLmlkKVxuICAgICAgICAgICAgdG9vbENhbGxEZXRhaWxzLmlkID0gY2h1bmsuaW5kZXggIT0gbnVsbCA/IGAke2NodW5rLmlkfS1pZHgtJHtjaHVuay5pbmRleH1gIDogY2h1bmsuaWQ7XG4gICAgICAgICAgdG9vbENhbGxOYW1lID0gdG9vbENhbGxEZXRhaWxzLm5hbWU7XG4gICAgICAgICAgdG9vbENhbGxJZCA9IHRvb2xDYWxsRGV0YWlscy5pZDtcbiAgICAgICAgfSBlbHNlIGlmIChpc0Jhc2VNZXNzYWdlQ2h1bmsodmFsdWUpKSB7XG4gICAgICAgICAgbGV0IGNodW5rID0gKF9nID0gKF9mID0gdmFsdWUuYWRkaXRpb25hbF9rd2FyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfZi50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2dbMF07XG4gICAgICAgICAgdG9vbENhbGxOYW1lID0gKF9oID0gY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2gubmFtZTtcbiAgICAgICAgICB0b29sQ2FsbElkID0gY2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IGNodW5rLmlkO1xuICAgICAgICAgIHRvb2xDYWxsQXJncyA9IChfaSA9IGNodW5rID09IG51bGwgPyB2b2lkIDAgOiBjaHVuay5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9pLmFyZ3VtZW50cztcbiAgICAgICAgICBoYXNUb29sQ2FsbCA9IChjaHVuayA9PSBudWxsID8gdm9pZCAwIDogY2h1bmsuZnVuY3Rpb24pICE9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kZSA9PT0gXCJtZXNzYWdlXCIgJiYgKHRvb2xDYWxsSWQgfHwgZG9uZSkpIHtcbiAgICAgICAgICBtb2RlID0gbnVsbDtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIiAmJiAoIWhhc1Rvb2xDYWxsIHx8IGRvbmUpKSB7XG4gICAgICAgICAgbW9kZSA9IG51bGw7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoe1xuICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IHRvb2xDYWxsSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgaWYgKGhhc1Rvb2xDYWxsICYmIHRvb2xDYWxsSWQgJiYgdG9vbENhbGxOYW1lKSB7XG4gICAgICAgICAgICBtb2RlID0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25TdGFydCh7XG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICBhY3Rpb25OYW1lOiB0b29sQ2FsbE5hbWUsXG4gICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogKF9qID0gdmFsdWUubGNfa3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2ouaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgbW9kZSA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgICAgY3VycmVudE1lc3NhZ2VJZCA9ICgoX2sgPSB2YWx1ZS5sY19rd2FyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfay5pZCkgfHwgKDAsIGltcG9ydF9zaGFyZWQ1LnJhbmRvbUlkKSgpO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KHtcbiAgICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudCh7XG4gICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiICYmIHRvb2xDYWxsQXJncykge1xuICAgICAgICAgIGlmICh0b29sQ2FsbERldGFpbHMuaW5kZXggIT09IHRvb2xDYWxsRGV0YWlscy5wcmV2SW5kZXgpIHtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHtcbiAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IHRvb2xDYWxsSWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25TdGFydCh7XG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICBhY3Rpb25OYW1lOiB0b29sQ2FsbE5hbWUsXG4gICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogKF9sID0gdmFsdWUubGNfa3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2wuaWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdG9vbENhbGxEZXRhaWxzLnByZXZJbmRleCA9IHRvb2xDYWxsRGV0YWlscy5pbmRleDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25BcmdzKHtcbiAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgYXJnczogdG9vbENhbGxBcmdzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWFkaW5nIGZyb20gc3RyZWFtXCIsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGFjdGlvbkV4ZWN1dGlvbikge1xuICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KHtcbiAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBhY3Rpb25FeGVjdXRpb24uaWQsXG4gICAgICBhY3Rpb25OYW1lOiBhY3Rpb25FeGVjdXRpb24ubmFtZSxcbiAgICAgIHJlc3VsdDogZW5jb2RlUmVzdWx0KHJlc3VsdClcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJldHVybiB0eXBlIGZyb20gTGFuZ0NoYWluIGZ1bmN0aW9uLlwiKTtcbiAgfVxuICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbn1cbl9fbmFtZShzdHJlYW1MYW5nQ2hhaW5SZXNwb25zZSwgXCJzdHJlYW1MYW5nQ2hhaW5SZXNwb25zZVwiKTtcbmZ1bmN0aW9uIGVuY29kZVJlc3VsdChyZXN1bHQpIHtcbiAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gIH1cbn1cbl9fbmFtZShlbmNvZGVSZXN1bHQsIFwiZW5jb2RlUmVzdWx0XCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9sYW5nY2hhaW4vbGFuZ2NoYWluLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkNiA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG52YXIgaW1wb3J0X3Byb21pc2VzID0gcmVxdWlyZShcIkBsYW5nY2hhaW4vY29yZS9jYWxsYmFja3MvcHJvbWlzZXNcIik7XG52YXIgTGFuZ0NoYWluQWRhcHRlciA9IGNsYXNzIHtcbiAgb3B0aW9ucztcbiAgLyoqXG4gICogVG8gdXNlIExhbmdDaGFpbiBhcyBhIGJhY2tlbmQsIHByb3ZpZGUgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoZSBhZGFwdGVyIHdpdGggeW91ciBjdXN0b20gTGFuZ0NoYWluIGxvZ2ljLlxuICAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBldmVudFNvdXJjZSwgbW9kZWwsIGFjdGlvbnMsIG1lc3NhZ2VzLCBydW5JZCwgdGhyZWFkSWQ6IHRocmVhZElkRnJvbVJlcXVlc3QgfSA9IHJlcXVlc3Q7XG4gICAgICBjb25zdCB0aHJlYWRJZCA9IHRocmVhZElkRnJvbVJlcXVlc3QgPz8gKDAsIGltcG9ydF9zaGFyZWQ2LnJhbmRvbVVVSUQpKCk7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLm9wdGlvbnMuY2hhaW5Gbih7XG4gICAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcy5tYXAoY29udmVydE1lc3NhZ2VUb0xhbmdDaGFpbk1lc3NhZ2UpLFxuICAgICAgICB0b29sczogYWN0aW9ucy5tYXAoY29udmVydEFjdGlvbklucHV0VG9MYW5nQ2hhaW5Ub29sKSxcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBydW5JZFxuICAgICAgfSk7XG4gICAgICBldmVudFNvdXJjZS5zdHJlYW0oYXN5bmMgKGV2ZW50U3RyZWFtJCkgPT4ge1xuICAgICAgICBhd2FpdCBzdHJlYW1MYW5nQ2hhaW5SZXNwb25zZSh7XG4gICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgIGV2ZW50U3RyZWFtJFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhyZWFkSWRcbiAgICAgIH07XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGF3YWl0ICgwLCBpbXBvcnRfcHJvbWlzZXMuYXdhaXRBbGxDYWxsYmFja3MpKCk7XG4gICAgfVxuICB9XG59O1xuX19uYW1lKExhbmdDaGFpbkFkYXB0ZXIsIFwiTGFuZ0NoYWluQWRhcHRlclwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvZ29vZ2xlL2dvb2dsZS1nZW5haS1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X2dvb2dsZV9nYXV0aCA9IHJlcXVpcmUoXCJAbGFuZ2NoYWluL2dvb2dsZS1nYXV0aFwiKTtcbnZhciBpbXBvcnRfbWVzc2FnZXMyID0gcmVxdWlyZShcIkBsYW5nY2hhaW4vY29yZS9tZXNzYWdlc1wiKTtcbnZhciBHb29nbGVHZW5lcmF0aXZlQUlBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBMYW5nQ2hhaW5BZGFwdGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIGNoYWluRm46IGFzeW5jICh7IG1lc3NhZ2VzLCB0b29scywgdGhyZWFkSWQgfSkgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZE1lc3NhZ2VzID0gbWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgaWYgKCEobWVzc2FnZSBpbnN0YW5jZW9mIGltcG9ydF9tZXNzYWdlczIuQUlNZXNzYWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQgJiYgU3RyaW5nKG1lc3NhZ2UuY29udGVudCkudHJpbSgpLmxlbmd0aCA+IDAgfHwgbWVzc2FnZS50b29sX2NhbGxzICYmIG1lc3NhZ2UudG9vbF9jYWxscy5sZW5ndGggPiAwO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBuZXcgaW1wb3J0X2dvb2dsZV9nYXV0aC5DaGF0R29vZ2xlKHtcbiAgICAgICAgICBhcGlLZXk6IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmFwaUtleSkgPz8gcHJvY2Vzcy5lbnYuR09PR0xFX0FQSV9LRVksXG4gICAgICAgICAgbW9kZWxOYW1lOiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RlbCkgPz8gXCJnZW1pbmktMS41LXByb1wiLFxuICAgICAgICAgIGFwaVZlcnNpb246IFwidjFiZXRhXCJcbiAgICAgICAgfSkuYmluZFRvb2xzKHRvb2xzKTtcbiAgICAgICAgcmV0dXJuIG1vZGVsLnN0cmVhbShmaWx0ZXJlZE1lc3NhZ2VzLCB7XG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbl9pZDogdGhyZWFkSWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuX19uYW1lKEdvb2dsZUdlbmVyYXRpdmVBSUFkYXB0ZXIsIFwiR29vZ2xlR2VuZXJhdGl2ZUFJQWRhcHRlclwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvb3BlbmFpL29wZW5haS1hc3Npc3RhbnQtYWRhcHRlci50c1xudmFyIGltcG9ydF9vcGVuYWkyID0gX190b0VTTShyZXF1aXJlKFwib3BlbmFpXCIpKTtcbnZhciBPcGVuQUlBc3Npc3RhbnRBZGFwdGVyID0gY2xhc3Mge1xuICBvcGVuYWk7XG4gIGNvZGVJbnRlcnByZXRlckVuYWJsZWQ7XG4gIGFzc2lzdGFudElkO1xuICBmaWxlU2VhcmNoRW5hYmxlZDtcbiAgZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzO1xuICBrZWVwU3lzdGVtUm9sZSA9IGZhbHNlO1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICB0aGlzLm9wZW5haSA9IHBhcmFtcy5vcGVuYWkgfHwgbmV3IGltcG9ydF9vcGVuYWkyLmRlZmF1bHQoe30pO1xuICAgIHRoaXMuY29kZUludGVycHJldGVyRW5hYmxlZCA9IHBhcmFtcy5jb2RlSW50ZXJwcmV0ZXJFbmFibGVkID09PSBmYWxzZSB8fCB0cnVlO1xuICAgIHRoaXMuZmlsZVNlYXJjaEVuYWJsZWQgPSBwYXJhbXMuZmlsZVNlYXJjaEVuYWJsZWQgPT09IGZhbHNlIHx8IHRydWU7XG4gICAgdGhpcy5hc3Npc3RhbnRJZCA9IHBhcmFtcy5hc3Npc3RhbnRJZDtcbiAgICB0aGlzLmRpc2FibGVQYXJhbGxlbFRvb2xDYWxscyA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMpIHx8IGZhbHNlO1xuICAgIHRoaXMua2VlcFN5c3RlbVJvbGUgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMua2VlcFN5c3RlbVJvbGUpID8/IGZhbHNlO1xuICB9XG4gIGFzeW5jIHByb2Nlc3MocmVxdWVzdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgeyBtZXNzYWdlcywgYWN0aW9ucywgZXZlbnRTb3VyY2UsIHJ1bklkLCBmb3J3YXJkZWRQYXJhbWV0ZXJzIH0gPSByZXF1ZXN0O1xuICAgIGxldCB0aHJlYWRJZCA9IChfYiA9IChfYSA9IHJlcXVlc3QuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm9wZW5haUFzc2lzdGFudEFQSSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRocmVhZElkO1xuICAgIGlmICghdGhyZWFkSWQpIHtcbiAgICAgIHRocmVhZElkID0gKGF3YWl0IHRoaXMub3BlbmFpLmJldGEudGhyZWFkcy5jcmVhdGUoKSkuaWQ7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXMuYXQoLTEpO1xuICAgIGxldCBuZXh0UnVuSWQgPSB2b2lkIDA7XG4gICAgaWYgKGxhc3RNZXNzYWdlLmlzUmVzdWx0TWVzc2FnZSgpICYmIHJ1bklkKSB7XG4gICAgICBuZXh0UnVuSWQgPSBhd2FpdCB0aGlzLnN1Ym1pdFRvb2xPdXRwdXRzKHRocmVhZElkLCBydW5JZCwgbWVzc2FnZXMsIGV2ZW50U291cmNlKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RNZXNzYWdlLmlzVGV4dE1lc3NhZ2UoKSkge1xuICAgICAgbmV4dFJ1bklkID0gYXdhaXQgdGhpcy5zdWJtaXRVc2VyTWVzc2FnZSh0aHJlYWRJZCwgbWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlLCBmb3J3YXJkZWRQYXJhbWV0ZXJzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWN0aW9uYWJsZSBtZXNzYWdlIGZvdW5kIGluIHRoZSBtZXNzYWdlc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHJ1bklkOiBuZXh0UnVuSWQsXG4gICAgICB0aHJlYWRJZCxcbiAgICAgIGV4dGVuc2lvbnM6IHtcbiAgICAgICAgLi4ucmVxdWVzdC5leHRlbnNpb25zLFxuICAgICAgICBvcGVuYWlBc3Npc3RhbnRBUEk6IHtcbiAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICBydW5JZDogbmV4dFJ1bklkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGFzeW5jIHN1Ym1pdFRvb2xPdXRwdXRzKHRocmVhZElkLCBydW5JZCwgbWVzc2FnZXMsIGV2ZW50U291cmNlKSB7XG4gICAgbGV0IHJ1biA9IGF3YWl0IHRoaXMub3BlbmFpLmJldGEudGhyZWFkcy5ydW5zLnJldHJpZXZlKHRocmVhZElkLCBydW5JZCk7XG4gICAgaWYgKCFydW4ucmVxdWlyZWRfYWN0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b29sIG91dHB1dHMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGNvbnN0IHRvb2xDYWxsc0lkcyA9IHJ1bi5yZXF1aXJlZF9hY3Rpb24uc3VibWl0X3Rvb2xfb3V0cHV0cy50b29sX2NhbGxzLm1hcCgodG9vbENhbGwpID0+IHRvb2xDYWxsLmlkKTtcbiAgICBjb25zdCByZXN1bHRNZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcigobWVzc2FnZSkgPT4gbWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSAmJiB0b29sQ2FsbHNJZHMuaW5jbHVkZXMobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCkpO1xuICAgIGlmICh0b29sQ2FsbHNJZHMubGVuZ3RoICE9IHJlc3VsdE1lc3NhZ2VzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTnVtYmVyIG9mIGZ1bmN0aW9uIHJlc3VsdHMgZG9lcyBub3QgbWF0Y2ggdGhlIG51bWJlciBvZiB0b29sIGNhbGxzXCIpO1xuICAgIH1cbiAgICBjb25zdCB0b29sT3V0cHV0cyA9IHJlc3VsdE1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9vbF9jYWxsX2lkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICBvdXRwdXQ6IG1lc3NhZ2UucmVzdWx0XG4gICAgICB9O1xuICAgIH0pO1xuICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMub3BlbmFpLmJldGEudGhyZWFkcy5ydW5zLnN1Ym1pdFRvb2xPdXRwdXRzU3RyZWFtKHRocmVhZElkLCBydW5JZCwge1xuICAgICAgdG9vbF9vdXRwdXRzOiB0b29sT3V0cHV0cyxcbiAgICAgIC4uLnRoaXMuZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzICYmIHtcbiAgICAgICAgcGFyYWxsZWxfdG9vbF9jYWxsczogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLnN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgZXZlbnRTb3VyY2UpO1xuICAgIHJldHVybiBydW5JZDtcbiAgfVxuICBhc3luYyBzdWJtaXRVc2VyTWVzc2FnZSh0aHJlYWRJZCwgbWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlLCBmb3J3YXJkZWRQYXJhbWV0ZXJzKSB7XG4gICAgbWVzc2FnZXMgPSBbXG4gICAgICAuLi5tZXNzYWdlc1xuICAgIF07XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTWVzc2FnZSA9IG1lc3NhZ2VzLnNoaWZ0KCk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zTWVzc2FnZS5pc1RleHRNZXNzYWdlKCkgPyBpbnN0cnVjdGlvbnNNZXNzYWdlLmNvbnRlbnQgOiBcIlwiO1xuICAgIGNvbnN0IHVzZXJNZXNzYWdlID0gbWVzc2FnZXMubWFwKChtKSA9PiBjb252ZXJ0TWVzc2FnZVRvT3BlbkFJTWVzc2FnZShtLCB7XG4gICAgICBrZWVwU3lzdGVtUm9sZTogdGhpcy5rZWVwU3lzdGVtUm9sZVxuICAgIH0pKS5tYXAoY29udmVydFN5c3RlbU1lc3NhZ2VUb0Fzc2lzdGFudEFQSSkuYXQoLTEpO1xuICAgIGlmICh1c2VyTWVzc2FnZS5yb2xlICE9PSBcInVzZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdXNlciBtZXNzYWdlIGZvdW5kXCIpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLm9wZW5haS5iZXRhLnRocmVhZHMubWVzc2FnZXMuY3JlYXRlKHRocmVhZElkLCB7XG4gICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgIGNvbnRlbnQ6IHVzZXJNZXNzYWdlLmNvbnRlbnRcbiAgICB9KTtcbiAgICBjb25zdCBvcGVuYWlUb29scyA9IGFjdGlvbnMubWFwKGNvbnZlcnRBY3Rpb25JbnB1dFRvT3BlbkFJVG9vbCk7XG4gICAgY29uc3QgdG9vbHMgPSBbXG4gICAgICAuLi5vcGVuYWlUb29scyxcbiAgICAgIC4uLnRoaXMuY29kZUludGVycHJldGVyRW5hYmxlZCA/IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiY29kZV9pbnRlcnByZXRlclwiXG4gICAgICAgIH1cbiAgICAgIF0gOiBbXSxcbiAgICAgIC4uLnRoaXMuZmlsZVNlYXJjaEVuYWJsZWQgPyBbXG4gICAgICAgIHtcbiAgICAgICAgICB0eXBlOiBcImZpbGVfc2VhcmNoXCJcbiAgICAgICAgfVxuICAgICAgXSA6IFtdXG4gICAgXTtcbiAgICBsZXQgc3RyZWFtID0gdGhpcy5vcGVuYWkuYmV0YS50aHJlYWRzLnJ1bnMuc3RyZWFtKHRocmVhZElkLCB7XG4gICAgICBhc3Npc3RhbnRfaWQ6IHRoaXMuYXNzaXN0YW50SWQsXG4gICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICB0b29scyxcbiAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1heFRva2VucykgJiYge1xuICAgICAgICBtYXhfY29tcGxldGlvbl90b2tlbnM6IGZvcndhcmRlZFBhcmFtZXRlcnMubWF4VG9rZW5zXG4gICAgICB9LFxuICAgICAgLi4udGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgJiYge1xuICAgICAgICBwYXJhbGxlbF90b29sX2NhbGxzOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGF3YWl0IHRoaXMuc3RyZWFtUmVzcG9uc2Uoc3RyZWFtLCBldmVudFNvdXJjZSk7XG4gICAgcmV0dXJuIGdldFJ1bklkRnJvbVN0cmVhbShzdHJlYW0pO1xuICB9XG4gIGFzeW5jIHN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgZXZlbnRTb3VyY2UpIHtcbiAgICBldmVudFNvdXJjZS5zdHJlYW0oYXN5bmMgKGV2ZW50U3RyZWFtJCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICBsZXQgaW5GdW5jdGlvbkNhbGwgPSBmYWxzZTtcbiAgICAgIGxldCBjdXJyZW50TWVzc2FnZUlkO1xuICAgICAgbGV0IGN1cnJlbnRUb29sQ2FsbElkO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgc3dpdGNoIChjaHVuay5ldmVudCkge1xuICAgICAgICAgIGNhc2UgXCJ0aHJlYWQubWVzc2FnZS5jcmVhdGVkXCI6XG4gICAgICAgICAgICBpZiAoaW5GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBjdXJyZW50VG9vbENhbGxJZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSBjaHVuay5kYXRhLmlkO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KHtcbiAgICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0aHJlYWQubWVzc2FnZS5kZWx0YVwiOlxuICAgICAgICAgICAgaWYgKCgoX2EgPSBjaHVuay5kYXRhLmRlbHRhLmNvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYVswXS50eXBlKSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUNvbnRlbnQoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiAoX2IgPSBjaHVuay5kYXRhLmRlbHRhLmNvbnRlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYlswXS50ZXh0LnZhbHVlXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInRocmVhZC5tZXNzYWdlLmNvbXBsZXRlZFwiOlxuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUVuZCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwidGhyZWFkLnJ1bi5zdGVwLmRlbHRhXCI6XG4gICAgICAgICAgICBsZXQgdG9vbENhbGxJZDtcbiAgICAgICAgICAgIGxldCB0b29sQ2FsbE5hbWU7XG4gICAgICAgICAgICBsZXQgdG9vbENhbGxBcmdzO1xuICAgICAgICAgICAgaWYgKGNodW5rLmRhdGEuZGVsdGEuc3RlcF9kZXRhaWxzLnR5cGUgPT09IFwidG9vbF9jYWxsc1wiICYmICgoX2MgPSBjaHVuay5kYXRhLmRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2NbMF0udHlwZSkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICB0b29sQ2FsbElkID0gKF9kID0gY2h1bmsuZGF0YS5kZWx0YS5zdGVwX2RldGFpbHMudG9vbF9jYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kWzBdLmlkO1xuICAgICAgICAgICAgICB0b29sQ2FsbE5hbWUgPSAoX2UgPSBjaHVuay5kYXRhLmRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2VbMF0uZnVuY3Rpb24ubmFtZTtcbiAgICAgICAgICAgICAgdG9vbENhbGxBcmdzID0gKF9mID0gY2h1bmsuZGF0YS5kZWx0YS5zdGVwX2RldGFpbHMudG9vbF9jYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mWzBdLmZ1bmN0aW9uLmFyZ3VtZW50cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b29sQ2FsbE5hbWUgJiYgdG9vbENhbGxJZCkge1xuICAgICAgICAgICAgICBpZiAoaW5GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCh7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbkZ1bmN0aW9uQ2FsbCA9IHRydWU7XG4gICAgICAgICAgICAgIGN1cnJlbnRUb29sQ2FsbElkID0gdG9vbENhbGxJZDtcbiAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25TdGFydCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogY2h1bmsuZGF0YS5pZCxcbiAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiB0b29sQ2FsbE5hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRvb2xDYWxsQXJncykge1xuICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkFyZ3Moe1xuICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBjdXJyZW50VG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICBhcmdzOiB0b29sQ2FsbEFyZ3NcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluRnVuY3Rpb25DYWxsKSB7XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHtcbiAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgfVxufTtcbl9fbmFtZShPcGVuQUlBc3Npc3RhbnRBZGFwdGVyLCBcIk9wZW5BSUFzc2lzdGFudEFkYXB0ZXJcIik7XG5mdW5jdGlvbiBnZXRSdW5JZEZyb21TdHJlYW0oc3RyZWFtKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IHJ1bklkR2V0dGVyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5ldmVudCA9PT0gXCJ0aHJlYWQucnVuLmNyZWF0ZWRcIikge1xuICAgICAgICBjb25zdCBydW5JZCA9IGV2ZW50LmRhdGEuaWQ7XG4gICAgICAgIHN0cmVhbS5vZmYoXCJldmVudFwiLCBydW5JZEdldHRlcik7XG4gICAgICAgIHJlc29sdmUocnVuSWQpO1xuICAgICAgfVxuICAgIH0sIFwicnVuSWRHZXR0ZXJcIik7XG4gICAgc3RyZWFtLm9uKFwiZXZlbnRcIiwgcnVuSWRHZXR0ZXIpO1xuICB9KTtcbn1cbl9fbmFtZShnZXRSdW5JZEZyb21TdHJlYW0sIFwiZ2V0UnVuSWRGcm9tU3RyZWFtXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy91bmlmeS91bmlmeS1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X29wZW5haTMgPSBfX3RvRVNNKHJlcXVpcmUoXCJvcGVuYWlcIikpO1xudmFyIGltcG9ydF9zaGFyZWQ3ID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBVbmlmeUFkYXB0ZXIgPSBjbGFzcyB7XG4gIGFwaUtleTtcbiAgbW9kZWw7XG4gIHN0YXJ0O1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYXBpS2V5KSB7XG4gICAgICB0aGlzLmFwaUtleSA9IG9wdGlvbnMuYXBpS2V5O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFwaUtleSA9IFwiVU5JRllfQVBJX0tFWVwiO1xuICAgIH1cbiAgICB0aGlzLm1vZGVsID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tb2RlbDtcbiAgICB0aGlzLnN0YXJ0ID0gdHJ1ZTtcbiAgfVxuICBhc3luYyBwcm9jZXNzKHJlcXVlc3QpIHtcbiAgICBjb25zdCB0b29scyA9IHJlcXVlc3QuYWN0aW9ucy5tYXAoY29udmVydEFjdGlvbklucHV0VG9PcGVuQUlUb29sKTtcbiAgICBjb25zdCBvcGVuYWkgPSBuZXcgaW1wb3J0X29wZW5haTMuZGVmYXVsdCh7XG4gICAgICBhcGlLZXk6IHRoaXMuYXBpS2V5LFxuICAgICAgYmFzZVVSTDogXCJodHRwczovL2FwaS51bmlmeS5haS92MC9cIlxuICAgIH0pO1xuICAgIGNvbnN0IGZvcndhcmRlZFBhcmFtZXRlcnMgPSByZXF1ZXN0LmZvcndhcmRlZFBhcmFtZXRlcnM7XG4gICAgY29uc3QgbWVzc2FnZXMgPSByZXF1ZXN0Lm1lc3NhZ2VzLm1hcCgobSkgPT4gY29udmVydE1lc3NhZ2VUb09wZW5BSU1lc3NhZ2UobSkpO1xuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG9wZW5haS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgLi4udG9vbHMubGVuZ3RoID4gMCAmJiB7XG4gICAgICAgIHRvb2xzXG4gICAgICB9LFxuICAgICAgLi4uKGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMudGVtcGVyYXR1cmUpICYmIHtcbiAgICAgICAgdGVtcGVyYXR1cmU6IGZvcndhcmRlZFBhcmFtZXRlcnMudGVtcGVyYXR1cmVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgbW9kZWwgPSBudWxsO1xuICAgIGxldCBjdXJyZW50TWVzc2FnZUlkO1xuICAgIGxldCBjdXJyZW50VG9vbENhbGxJZDtcbiAgICByZXF1ZXN0LmV2ZW50U291cmNlLnN0cmVhbShhc3luYyAoZXZlbnRTdHJlYW0kKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgbGV0IG1vZGUgPSBudWxsO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnQpIHtcbiAgICAgICAgICBtb2RlbCA9IGNodW5rLm1vZGVsO1xuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSAoMCwgaW1wb3J0X3NoYXJlZDcucmFuZG9tSWQpKCk7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KHtcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VDb250ZW50KHtcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGBNb2RlbCB1c2VkOiAke21vZGVsfVxuYFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoe1xuICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zdGFydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsID0gKF9hID0gY2h1bmsuY2hvaWNlc1swXS5kZWx0YS50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSBjaHVuay5jaG9pY2VzWzBdLmRlbHRhLmNvbnRlbnQ7XG4gICAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIiAmJiAodG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmlkKSkge1xuICAgICAgICAgIG1vZGUgPSBudWxsO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoe1xuICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiICYmICh0b29sQ2FsbCA9PT0gdm9pZCAwIHx8ICh0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuaWQpKSkge1xuICAgICAgICAgIG1vZGUgPSBudWxsO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHtcbiAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBjdXJyZW50VG9vbENhbGxJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5pZCkge1xuICAgICAgICAgICAgbW9kZSA9IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgIGN1cnJlbnRUb29sQ2FsbElkID0gdG9vbENhbGwuaWQ7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvblN0YXJ0KHtcbiAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkLFxuICAgICAgICAgICAgICBhY3Rpb25OYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgICAgIG1vZGUgPSBcIm1lc3NhZ2VcIjtcbiAgICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSBjaHVuay5pZDtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VTdGFydCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIiAmJiBjb250ZW50KSB7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUNvbnRlbnQoe1xuICAgICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkLFxuICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IFwiZnVuY3Rpb25cIiAmJiAoKF9iID0gdG9vbENhbGwgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xDYWxsLmZ1bmN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYXJndW1lbnRzKSkge1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyh7XG4gICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWQsXG4gICAgICAgICAgICBhcmdzOiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoe1xuICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHtcbiAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdGhyZWFkSWQ6IHJlcXVlc3QudGhyZWFkSWQgfHwgKDAsIGltcG9ydF9zaGFyZWQ3LnJhbmRvbVVVSUQpKClcbiAgICB9O1xuICB9XG59O1xuX19uYW1lKFVuaWZ5QWRhcHRlciwgXCJVbmlmeUFkYXB0ZXJcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2dyb3EvZ3JvcS1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X2dyb3Ffc2RrID0gcmVxdWlyZShcImdyb3Etc2RrXCIpO1xudmFyIGltcG9ydF9zaGFyZWQ4ID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBERUZBVUxUX01PREVMMiA9IFwibGxhbWEtMy4zLTcwYi12ZXJzYXRpbGVcIjtcbnZhciBHcm9xQWRhcHRlciA9IGNsYXNzIHtcbiAgbW9kZWwgPSBERUZBVUxUX01PREVMMjtcbiAgZGlzYWJsZVBhcmFsbGVsVG9vbENhbGxzID0gZmFsc2U7XG4gIF9ncm9xO1xuICBnZXQgZ3JvcSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ3JvcTtcbiAgfVxuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICB0aGlzLl9ncm9xID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmdyb3EpIHx8IG5ldyBpbXBvcnRfZ3JvcV9zZGsuR3JvcSh7fSk7XG4gICAgaWYgKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLm1vZGVsKSB7XG4gICAgICB0aGlzLm1vZGVsID0gcGFyYW1zLm1vZGVsO1xuICAgIH1cbiAgICB0aGlzLmRpc2FibGVQYXJhbGxlbFRvb2xDYWxscyA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMpIHx8IGZhbHNlO1xuICB9XG4gIGFzeW5jIHByb2Nlc3MocmVxdWVzdCkge1xuICAgIGNvbnN0IHsgdGhyZWFkSWQsIG1vZGVsID0gdGhpcy5tb2RlbCwgbWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlLCBmb3J3YXJkZWRQYXJhbWV0ZXJzIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IHRvb2xzID0gYWN0aW9ucy5tYXAoY29udmVydEFjdGlvbklucHV0VG9PcGVuQUlUb29sKTtcbiAgICBsZXQgb3BlbmFpTWVzc2FnZXMgPSBtZXNzYWdlcy5tYXAoKG0pID0+IGNvbnZlcnRNZXNzYWdlVG9PcGVuQUlNZXNzYWdlKG0sIHtcbiAgICAgIGtlZXBTeXN0ZW1Sb2xlOiB0cnVlXG4gICAgfSkpO1xuICAgIG9wZW5haU1lc3NhZ2VzID0gbGltaXRNZXNzYWdlc1RvVG9rZW5Db3VudChvcGVuYWlNZXNzYWdlcywgdG9vbHMsIG1vZGVsKTtcbiAgICBsZXQgdG9vbENob2ljZSA9IGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMudG9vbENob2ljZTtcbiAgICBpZiAoKGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMudG9vbENob2ljZSkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdG9vbENob2ljZSA9IHtcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgIG5hbWU6IGZvcndhcmRlZFBhcmFtZXRlcnMudG9vbENob2ljZUZ1bmN0aW9uTmFtZVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgc3RyZWFtO1xuICAgIHRyeSB7XG4gICAgICBzdHJlYW0gPSBhd2FpdCB0aGlzLmdyb3EuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgc3RyZWFtOiB0cnVlLFxuICAgICAgICBtZXNzYWdlczogb3BlbmFpTWVzc2FnZXMsXG4gICAgICAgIC4uLnRvb2xzLmxlbmd0aCA+IDAgJiYge1xuICAgICAgICAgIHRvb2xzXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1heFRva2VucykgJiYge1xuICAgICAgICAgIG1heF90b2tlbnM6IGZvcndhcmRlZFBhcmFtZXRlcnMubWF4VG9rZW5zXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnN0b3ApICYmIHtcbiAgICAgICAgICBzdG9wOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnN0b3BcbiAgICAgICAgfSxcbiAgICAgICAgLi4udG9vbENob2ljZSAmJiB7XG4gICAgICAgICAgdG9vbF9jaG9pY2U6IHRvb2xDaG9pY2VcbiAgICAgICAgfSxcbiAgICAgICAgLi4udGhpcy5kaXNhYmxlUGFyYWxsZWxUb29sQ2FsbHMgJiYge1xuICAgICAgICAgIHBhcmFsbGVsX3Rvb2xfY2FsbHM6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIC4uLihmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLnRlbXBlcmF0dXJlKSAmJiB7XG4gICAgICAgICAgdGVtcGVyYXR1cmU6IGZvcndhcmRlZFBhcmFtZXRlcnMudGVtcGVyYXR1cmVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGNvbnZlcnRTZXJ2aWNlQWRhcHRlckVycm9yKGVycm9yLCBcIkdyb3FcIik7XG4gICAgfVxuICAgIGV2ZW50U291cmNlLnN0cmVhbShhc3luYyAoZXZlbnRTdHJlYW0kKSA9PiB7XG4gICAgICB2YXIgX2EsIF9iO1xuICAgICAgbGV0IG1vZGUgPSBudWxsO1xuICAgICAgbGV0IGN1cnJlbnRNZXNzYWdlSWQ7XG4gICAgICBsZXQgY3VycmVudFRvb2xDYWxsSWQ7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gKF9hID0gY2h1bmsuY2hvaWNlc1swXS5kZWx0YS50b29sX2NhbGxzKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF07XG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGNodW5rLmNob2ljZXNbMF0uZGVsdGEuY29udGVudDtcbiAgICAgICAgICBpZiAobW9kZSA9PT0gXCJtZXNzYWdlXCIgJiYgKHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5pZCkpIHtcbiAgICAgICAgICAgIG1vZGUgPSBudWxsO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUVuZCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIgJiYgKHRvb2xDYWxsID09PSB2b2lkIDAgfHwgKHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5pZCkpKSB7XG4gICAgICAgICAgICBtb2RlID0gbnVsbDtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHtcbiAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0b29sQ2FsbCA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGwuaWQpIHtcbiAgICAgICAgICAgICAgbW9kZSA9IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgICAgY3VycmVudFRvb2xDYWxsSWQgPSB0b29sQ2FsbC5pZDtcbiAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25TdGFydCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBjaHVuay5pZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgICBtb2RlID0gXCJtZXNzYWdlXCI7XG4gICAgICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSBjaHVuay5pZDtcbiAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZVN0YXJ0KHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RlID09PSBcIm1lc3NhZ2VcIiAmJiBjb250ZW50KSB7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudCh7XG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIgJiYgKChfYiA9IHRvb2xDYWxsID09IG51bGwgPyB2b2lkIDAgOiB0b29sQ2FsbC5mdW5jdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmFyZ3VtZW50cykpIHtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyh7XG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBjdXJyZW50VG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgYXJnczogdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRUZXh0TWVzc2FnZUVuZCh7XG4gICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCh7XG4gICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgY29udmVydFNlcnZpY2VBZGFwdGVyRXJyb3IoZXJyb3IsIFwiR3JvcVwiKTtcbiAgICAgIH1cbiAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICB0aHJlYWRJZDogcmVxdWVzdC50aHJlYWRJZCB8fCAoMCwgaW1wb3J0X3NoYXJlZDgucmFuZG9tVVVJRCkoKVxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoR3JvcUFkYXB0ZXIsIFwiR3JvcUFkYXB0ZXJcIik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL3NoYXJlZC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwyNiA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5cbi8vIHNyYy9ncmFwaHFsL3Jlc29sdmVycy9jb3BpbG90LnJlc29sdmVyLnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDIwID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbnZhciBpbXBvcnRfcnhqczUgPSByZXF1aXJlKFwicnhqc1wiKTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2dlbmVyYXRlLWNvcGlsb3QtcmVzcG9uc2UuaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMTggPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvbWVzc2FnZS5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwzID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcblxuLy8gc3JjL2dyYXBocWwvdHlwZXMvZW51bXMudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbnZhciBNZXNzYWdlUm9sZTtcbihmdW5jdGlvbihNZXNzYWdlUm9sZTIpIHtcbiAgTWVzc2FnZVJvbGUyW1widXNlclwiXSA9IFwidXNlclwiO1xuICBNZXNzYWdlUm9sZTJbXCJhc3Npc3RhbnRcIl0gPSBcImFzc2lzdGFudFwiO1xuICBNZXNzYWdlUm9sZTJbXCJzeXN0ZW1cIl0gPSBcInN5c3RlbVwiO1xuICBNZXNzYWdlUm9sZTJbXCJ0b29sXCJdID0gXCJ0b29sXCI7XG4gIE1lc3NhZ2VSb2xlMltcImRldmVsb3BlclwiXSA9IFwiZGV2ZWxvcGVyXCI7XG59KShNZXNzYWdlUm9sZSB8fCAoTWVzc2FnZVJvbGUgPSB7fSkpO1xudmFyIENvcGlsb3RSZXF1ZXN0VHlwZTtcbihmdW5jdGlvbihDb3BpbG90UmVxdWVzdFR5cGUyKSB7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJDaGF0XCJdID0gXCJDaGF0XCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUYXNrXCJdID0gXCJUYXNrXCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUZXh0YXJlYUNvbXBsZXRpb25cIl0gPSBcIlRleHRhcmVhQ29tcGxldGlvblwiO1xuICBDb3BpbG90UmVxdWVzdFR5cGUyW1wiVGV4dGFyZWFQb3BvdmVyXCJdID0gXCJUZXh0YXJlYVBvcG92ZXJcIjtcbiAgQ29waWxvdFJlcXVlc3RUeXBlMltcIlN1Z2dlc3Rpb25cIl0gPSBcIlN1Z2dlc3Rpb25cIjtcbn0pKENvcGlsb3RSZXF1ZXN0VHlwZSB8fCAoQ29waWxvdFJlcXVlc3RUeXBlID0ge30pKTtcbnZhciBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eTtcbihmdW5jdGlvbihBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eTIpIHtcbiAgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkyW1wiZGlzYWJsZWRcIl0gPSBcImRpc2FibGVkXCI7XG4gIEFjdGlvbklucHV0QXZhaWxhYmlsaXR5MltcImVuYWJsZWRcIl0gPSBcImVuYWJsZWRcIjtcbiAgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkyW1wicmVtb3RlXCJdID0gXCJyZW1vdGVcIjtcbn0pKEFjdGlvbklucHV0QXZhaWxhYmlsaXR5IHx8IChBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eSA9IHt9KSk7XG4oMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbC5yZWdpc3RlckVudW1UeXBlKShNZXNzYWdlUm9sZSwge1xuICBuYW1lOiBcIk1lc3NhZ2VSb2xlXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlRoZSByb2xlIG9mIHRoZSBtZXNzYWdlXCJcbn0pO1xuKDAsIGltcG9ydF90eXBlX2dyYXBocWwucmVnaXN0ZXJFbnVtVHlwZSkoQ29waWxvdFJlcXVlc3RUeXBlLCB7XG4gIG5hbWU6IFwiQ29waWxvdFJlcXVlc3RUeXBlXCIsXG4gIGRlc2NyaXB0aW9uOiBcIlRoZSB0eXBlIG9mIENvcGlsb3QgcmVxdWVzdFwiXG59KTtcbigwLCBpbXBvcnRfdHlwZV9ncmFwaHFsLnJlZ2lzdGVyRW51bVR5cGUpKEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LCB7XG4gIG5hbWU6IFwiQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHlcIixcbiAgZGVzY3JpcHRpb246IFwiVGhlIGF2YWlsYWJpbGl0eSBvZiB0aGUgZnJvbnRlbmQgYWN0aW9uXCJcbn0pO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9iYXNlL2luZGV4LnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDIgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhKGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBCYXNlTWVzc2FnZUlucHV0ID0gY2xhc3Mge1xuICBpZDtcbiAgY3JlYXRlZEF0O1xufTtcbl9fbmFtZShCYXNlTWVzc2FnZUlucHV0LCBcIkJhc2VNZXNzYWdlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEJhc2VNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcImlkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIuRmllbGQpKCgpID0+IERhdGUpLFxuICBfdHNfbWV0YWRhdGEoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgRGF0ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IERhdGUpXG5dLCBCYXNlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJjcmVhdGVkQXRcIiwgdm9pZCAwKTtcbkJhc2VNZXNzYWdlSW5wdXQgPSBfdHNfZGVjb3JhdGUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIuSW5wdXRUeXBlKSgpXG5dLCBCYXNlTWVzc2FnZUlucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL21lc3NhZ2UuaW5wdXQudHNcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTIoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTIsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMihrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTIsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIE1lc3NhZ2VJbnB1dCA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VJbnB1dCB7XG4gIHRleHRNZXNzYWdlO1xuICBhY3Rpb25FeGVjdXRpb25NZXNzYWdlO1xuICByZXN1bHRNZXNzYWdlO1xuICBhZ2VudFN0YXRlTWVzc2FnZTtcbiAgaW1hZ2VNZXNzYWdlO1xufTtcbl9fbmFtZShNZXNzYWdlSW5wdXQsIFwiTWVzc2FnZUlucHV0XCIpO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gVGV4dE1lc3NhZ2VJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIFRleHRNZXNzYWdlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBUZXh0TWVzc2FnZUlucHV0KVxuXSwgTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJ0ZXh0TWVzc2FnZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0KVxuXSwgTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJhY3Rpb25FeGVjdXRpb25NZXNzYWdlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBSZXN1bHRNZXNzYWdlSW5wdXQsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBSZXN1bHRNZXNzYWdlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBSZXN1bHRNZXNzYWdlSW5wdXQpXG5dLCBNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInJlc3VsdE1lc3NhZ2VcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IEFnZW50U3RhdGVNZXNzYWdlSW5wdXQsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBBZ2VudFN0YXRlTWVzc2FnZUlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dClcbl0sIE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwiYWdlbnRTdGF0ZU1lc3NhZ2VcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IEltYWdlTWVzc2FnZUlucHV0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgSW1hZ2VNZXNzYWdlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBJbWFnZU1lc3NhZ2VJbnB1dClcbl0sIE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwiaW1hZ2VNZXNzYWdlXCIsIHZvaWQgMCk7XG5NZXNzYWdlSW5wdXQgPSBfdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLklucHV0VHlwZSkoKVxuXSwgTWVzc2FnZUlucHV0KTtcbnZhciBUZXh0TWVzc2FnZUlucHV0ID0gY2xhc3Mge1xuICBjb250ZW50O1xuICBwYXJlbnRNZXNzYWdlSWQ7XG4gIHJvbGU7XG59O1xuX19uYW1lKFRleHRNZXNzYWdlSW5wdXQsIFwiVGV4dE1lc3NhZ2VJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBUZXh0TWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFRleHRNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInBhcmVudE1lc3NhZ2VJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIE1lc3NhZ2VSb2xlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogTWVzc2FnZVJvbGUpXG5dLCBUZXh0TWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJyb2xlXCIsIHZvaWQgMCk7XG5UZXh0TWVzc2FnZUlucHV0ID0gX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5JbnB1dFR5cGUpKClcbl0sIFRleHRNZXNzYWdlSW5wdXQpO1xudmFyIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dCA9IGNsYXNzIHtcbiAgbmFtZTtcbiAgYXJndW1lbnRzO1xuICBwYXJlbnRNZXNzYWdlSWQ7XG4gIHNjb3BlO1xufTtcbl9fbmFtZShBY3Rpb25FeGVjdXRpb25NZXNzYWdlSW5wdXQsIFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0XCIpO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwiYXJndW1lbnRzXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwicGFyZW50TWVzc2FnZUlkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZSxcbiAgICBkZXByZWNhdGlvblJlYXNvbjogXCJUaGlzIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uXCJcbiAgfSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgU3RyaW5nID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogU3RyaW5nKVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJzY29wZVwiLCB2b2lkIDApO1xuQWN0aW9uRXhlY3V0aW9uTWVzc2FnZUlucHV0ID0gX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5JbnB1dFR5cGUpKClcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VJbnB1dCk7XG52YXIgUmVzdWx0TWVzc2FnZUlucHV0ID0gY2xhc3Mge1xuICBhY3Rpb25FeGVjdXRpb25JZDtcbiAgYWN0aW9uTmFtZTtcbiAgcGFyZW50TWVzc2FnZUlkO1xuICByZXN1bHQ7XG59O1xuX19uYW1lKFJlc3VsdE1lc3NhZ2VJbnB1dCwgXCJSZXN1bHRNZXNzYWdlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgUmVzdWx0TWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJhY3Rpb25FeGVjdXRpb25JZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwiYWN0aW9uTmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBSZXN1bHRNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInBhcmVudE1lc3NhZ2VJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwicmVzdWx0XCIsIHZvaWQgMCk7XG5SZXN1bHRNZXNzYWdlSW5wdXQgPSBfdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLklucHV0VHlwZSkoKVxuXSwgUmVzdWx0TWVzc2FnZUlucHV0KTtcbnZhciBBZ2VudFN0YXRlTWVzc2FnZUlucHV0ID0gY2xhc3Mge1xuICB0aHJlYWRJZDtcbiAgYWdlbnROYW1lO1xuICByb2xlO1xuICBzdGF0ZTtcbiAgcnVubmluZztcbiAgbm9kZU5hbWU7XG4gIHJ1bklkO1xuICBhY3RpdmU7XG59O1xuX19uYW1lKEFnZW50U3RhdGVNZXNzYWdlSW5wdXQsIFwiQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcImFnZW50TmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIE1lc3NhZ2VSb2xlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogTWVzc2FnZVJvbGUpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJyb2xlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwic3RhdGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IEJvb2xlYW4pLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbl0sIEFnZW50U3RhdGVNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInJ1bm5pbmdcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJub2RlTmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcInJ1bklkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBCb29sZWFuKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIEJvb2xlYW4pXG5dLCBBZ2VudFN0YXRlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJhY3RpdmVcIiwgdm9pZCAwKTtcbkFnZW50U3RhdGVNZXNzYWdlSW5wdXQgPSBfdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLklucHV0VHlwZSkoKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VJbnB1dCk7XG52YXIgSW1hZ2VNZXNzYWdlSW5wdXQgPSBjbGFzcyB7XG4gIGZvcm1hdDtcbiAgYnl0ZXM7XG4gIHBhcmVudE1lc3NhZ2VJZDtcbiAgcm9sZTtcbn07XG5fX25hbWUoSW1hZ2VNZXNzYWdlSW5wdXQsIFwiSW1hZ2VNZXNzYWdlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgSW1hZ2VNZXNzYWdlSW5wdXQucHJvdG90eXBlLCBcImZvcm1hdFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEltYWdlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJieXRlc1wiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMy5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBJbWFnZU1lc3NhZ2VJbnB1dC5wcm90b3R5cGUsIFwicGFyZW50TWVzc2FnZUlkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwzLkZpZWxkKSgoKSA9PiBNZXNzYWdlUm9sZSksXG4gIF90c19tZXRhZGF0YTIoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgTWVzc2FnZVJvbGUgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBNZXNzYWdlUm9sZSlcbl0sIEltYWdlTWVzc2FnZUlucHV0LnByb3RvdHlwZSwgXCJyb2xlXCIsIHZvaWQgMCk7XG5JbWFnZU1lc3NhZ2VJbnB1dCA9IF90c19kZWNvcmF0ZTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDMuSW5wdXRUeXBlKSgpXG5dLCBJbWFnZU1lc3NhZ2VJbnB1dCk7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9mcm9udGVuZC5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWw1ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2FjdGlvbi5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWw0ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTMoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTMsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMyhrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTMsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEFjdGlvbklucHV0ID0gY2xhc3Mge1xuICBuYW1lO1xuICBkZXNjcmlwdGlvbjtcbiAganNvblNjaGVtYTtcbiAgYXZhaWxhYmxlO1xufTtcbl9fbmFtZShBY3Rpb25JbnB1dCwgXCJBY3Rpb25JbnB1dFwiKTtcbl90c19kZWNvcmF0ZTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDQuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTMoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBY3Rpb25JbnB1dC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbklucHV0LnByb3RvdHlwZSwgXCJkZXNjcmlwdGlvblwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNC5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbklucHV0LnByb3RvdHlwZSwgXCJqc29uU2NoZW1hXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw0LkZpZWxkKSgoKSA9PiBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eSwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGEzKFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEFjdGlvbklucHV0QXZhaWxhYmlsaXR5ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkpXG5dLCBBY3Rpb25JbnB1dC5wcm90b3R5cGUsIFwiYXZhaWxhYmxlXCIsIHZvaWQgMCk7XG5BY3Rpb25JbnB1dCA9IF90c19kZWNvcmF0ZTMoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDQuSW5wdXRUeXBlKSgpXG5dLCBBY3Rpb25JbnB1dCk7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9mcm9udGVuZC5pbnB1dC50c1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlNChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlNCwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGE0KGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhNCwgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgRnJvbnRlbmRJbnB1dCA9IGNsYXNzIHtcbiAgdG9EZXByZWNhdGVfZnVsbENvbnRleHQ7XG4gIGFjdGlvbnM7XG4gIHVybDtcbn07XG5fX25hbWUoRnJvbnRlbmRJbnB1dCwgXCJGcm9udGVuZElucHV0XCIpO1xuX3RzX2RlY29yYXRlNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNS5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTQoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBGcm9udGVuZElucHV0LnByb3RvdHlwZSwgXCJ0b0RlcHJlY2F0ZV9mdWxsQ29udGV4dFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNS5GaWVsZCkoKCkgPT4gW1xuICAgIEFjdGlvbklucHV0XG4gIF0pLFxuICBfdHNfbWV0YWRhdGE0KFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG5dLCBGcm9udGVuZElucHV0LnByb3RvdHlwZSwgXCJhY3Rpb25zXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw1LkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZyb250ZW5kSW5wdXQucHJvdG90eXBlLCBcInVybFwiLCB2b2lkIDApO1xuRnJvbnRlbmRJbnB1dCA9IF90c19kZWNvcmF0ZTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDUuSW5wdXRUeXBlKSgpXG5dLCBGcm9udGVuZElucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2Nsb3VkLmlucHV0LnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDcgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvY2xvdWQtZ3VhcmRyYWlscy5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWw2ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTUsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhNShrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTUsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEd1YXJkcmFpbHNSdWxlSW5wdXQgPSBjbGFzcyB7XG4gIGFsbG93TGlzdCA9IFtdO1xuICBkZW55TGlzdCA9IFtdO1xufTtcbl9fbmFtZShHdWFyZHJhaWxzUnVsZUlucHV0LCBcIkd1YXJkcmFpbHNSdWxlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGU1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw2LkZpZWxkKSgoKSA9PiBbXG4gICAgU3RyaW5nXG4gIF0sIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgR3VhcmRyYWlsc1J1bGVJbnB1dC5wcm90b3R5cGUsIFwiYWxsb3dMaXN0XCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw2LkZpZWxkKSgoKSA9PiBbXG4gICAgU3RyaW5nXG4gIF0sIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNShcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgR3VhcmRyYWlsc1J1bGVJbnB1dC5wcm90b3R5cGUsIFwiZGVueUxpc3RcIiwgdm9pZCAwKTtcbkd1YXJkcmFpbHNSdWxlSW5wdXQgPSBfdHNfZGVjb3JhdGU1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw2LklucHV0VHlwZSkoKVxuXSwgR3VhcmRyYWlsc1J1bGVJbnB1dCk7XG52YXIgR3VhcmRyYWlsc0lucHV0ID0gY2xhc3Mge1xuICBpbnB1dFZhbGlkYXRpb25SdWxlcztcbn07XG5fX25hbWUoR3VhcmRyYWlsc0lucHV0LCBcIkd1YXJkcmFpbHNJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDYuRmllbGQpKCgpID0+IEd1YXJkcmFpbHNSdWxlSW5wdXQsIHtcbiAgICBudWxsYWJsZTogZmFsc2VcbiAgfSksXG4gIF90c19tZXRhZGF0YTUoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgR3VhcmRyYWlsc1J1bGVJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEd1YXJkcmFpbHNSdWxlSW5wdXQpXG5dLCBHdWFyZHJhaWxzSW5wdXQucHJvdG90eXBlLCBcImlucHV0VmFsaWRhdGlvblJ1bGVzXCIsIHZvaWQgMCk7XG5HdWFyZHJhaWxzSW5wdXQgPSBfdHNfZGVjb3JhdGU1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw2LklucHV0VHlwZSkoKVxuXSwgR3VhcmRyYWlsc0lucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2Nsb3VkLmlucHV0LnRzXG5mdW5jdGlvbiBfdHNfZGVjb3JhdGU2KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGU2LCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTYoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGE2LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBDbG91ZElucHV0ID0gY2xhc3Mge1xuICBndWFyZHJhaWxzO1xufTtcbl9fbmFtZShDbG91ZElucHV0LCBcIkNsb3VkSW5wdXRcIik7XG5fdHNfZGVjb3JhdGU2KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw3LkZpZWxkKSgoKSA9PiBHdWFyZHJhaWxzSW5wdXQsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBHdWFyZHJhaWxzSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBHdWFyZHJhaWxzSW5wdXQpXG5dLCBDbG91ZElucHV0LnByb3RvdHlwZSwgXCJndWFyZHJhaWxzXCIsIHZvaWQgMCk7XG5DbG91ZElucHV0ID0gX3RzX2RlY29yYXRlNihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsNy5JbnB1dFR5cGUpKClcbl0sIENsb3VkSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvZm9yd2FyZGVkLXBhcmFtZXRlcnMuaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsOCA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGU3KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGU3LCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTcoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGE3LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQgPSBjbGFzcyB7XG4gIG1vZGVsO1xuICBtYXhUb2tlbnM7XG4gIHN0b3A7XG4gIHRvb2xDaG9pY2U7XG4gIHRvb2xDaG9pY2VGdW5jdGlvbk5hbWU7XG4gIHRlbXBlcmF0dXJlO1xufTtcbl9fbmFtZShGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQsIFwiRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0XCIpO1xuX3RzX2RlY29yYXRlNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOC5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTcoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQucHJvdG90eXBlLCBcIm1vZGVsXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw4LkZpZWxkKSgoKSA9PiBOdW1iZXIsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNyhcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbl0sIEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dC5wcm90b3R5cGUsIFwibWF4VG9rZW5zXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw4LkZpZWxkKSgoKSA9PiBbXG4gICAgU3RyaW5nXG4gIF0sIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNyhcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0LnByb3RvdHlwZSwgXCJzdG9wXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw4LkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBTdHJpbmcgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBTdHJpbmcpXG5dLCBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQucHJvdG90eXBlLCBcInRvb2xDaG9pY2VcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDguRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE3KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0LnByb3RvdHlwZSwgXCJ0b29sQ2hvaWNlRnVuY3Rpb25OYW1lXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGU3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw4LkZpZWxkKSgoKSA9PiBOdW1iZXIsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhNyhcImRlc2lnbjp0eXBlXCIsIE51bWJlcilcbl0sIEZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dC5wcm90b3R5cGUsIFwidGVtcGVyYXR1cmVcIiwgdm9pZCAwKTtcbkZvcndhcmRlZFBhcmFtZXRlcnNJbnB1dCA9IF90c19kZWNvcmF0ZTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDguSW5wdXRUeXBlKSgpXG5dLCBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvYWdlbnQtc2Vzc2lvbi5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWw5ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTgoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTgsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhOChrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTgsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEFnZW50U2Vzc2lvbklucHV0ID0gY2xhc3Mge1xuICBhZ2VudE5hbWU7XG4gIHRocmVhZElkO1xuICBub2RlTmFtZTtcbn07XG5fX25hbWUoQWdlbnRTZXNzaW9uSW5wdXQsIFwiQWdlbnRTZXNzaW9uSW5wdXRcIik7XG5fdHNfZGVjb3JhdGU4KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWw5LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGE4KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTZXNzaW9uSW5wdXQucHJvdG90eXBlLCBcImFnZW50TmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlOChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsOS5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTgoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFNlc3Npb25JbnB1dC5wcm90b3R5cGUsIFwidGhyZWFkSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTgoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDkuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE4KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTZXNzaW9uSW5wdXQucHJvdG90eXBlLCBcIm5vZGVOYW1lXCIsIHZvaWQgMCk7XG5BZ2VudFNlc3Npb25JbnB1dCA9IF90c19kZWNvcmF0ZTgoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDkuSW5wdXRUeXBlKSgpXG5dLCBBZ2VudFNlc3Npb25JbnB1dCk7XG5cbi8vIHNyYy9ncmFwaHFsL2lucHV0cy9hZ2VudC1zdGF0ZS5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwxMCA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGU5KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGU5LCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTkoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGE5LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBBZ2VudFN0YXRlSW5wdXQgPSBjbGFzcyB7XG4gIGFnZW50TmFtZTtcbiAgc3RhdGU7XG4gIGNvbmZpZztcbn07XG5fX25hbWUoQWdlbnRTdGF0ZUlucHV0LCBcIkFnZW50U3RhdGVJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTkoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEwLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGE5KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudE5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTkoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEwLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGE5KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZUlucHV0LnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlOShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTAuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGE5KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnRTdGF0ZUlucHV0LnByb3RvdHlwZSwgXCJjb25maWdcIiwgdm9pZCAwKTtcbkFnZW50U3RhdGVJbnB1dCA9IF90c19kZWNvcmF0ZTkoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEwLklucHV0VHlwZSkoKVxuXSwgQWdlbnRTdGF0ZUlucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2V4dGVuc2lvbnMuaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMTEgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlMTAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTEwLCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTEwKGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhMTAsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIEV4dGVuc2lvbnNJbnB1dCA9IGNsYXNzIHtcbiAgb3BlbmFpQXNzaXN0YW50QVBJO1xufTtcbl9fbmFtZShFeHRlbnNpb25zSW5wdXQsIFwiRXh0ZW5zaW9uc0lucHV0XCIpO1xuX3RzX2RlY29yYXRlMTAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDExLkZpZWxkKSgoKSA9PiBPcGVuQUlBcGlBc3Npc3RhbnRBUElJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBPcGVuQUlBcGlBc3Npc3RhbnRBUElJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE9wZW5BSUFwaUFzc2lzdGFudEFQSUlucHV0KVxuXSwgRXh0ZW5zaW9uc0lucHV0LnByb3RvdHlwZSwgXCJvcGVuYWlBc3Npc3RhbnRBUElcIiwgdm9pZCAwKTtcbkV4dGVuc2lvbnNJbnB1dCA9IF90c19kZWNvcmF0ZTEwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMS5JbnB1dFR5cGUpKClcbl0sIEV4dGVuc2lvbnNJbnB1dCk7XG52YXIgT3BlbkFJQXBpQXNzaXN0YW50QVBJSW5wdXQgPSBjbGFzcyB7XG4gIHJ1bklkO1xuICB0aHJlYWRJZDtcbn07XG5fX25hbWUoT3BlbkFJQXBpQXNzaXN0YW50QVBJSW5wdXQsIFwiT3BlbkFJQXBpQXNzaXN0YW50QVBJSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUxMChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTEuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIE9wZW5BSUFwaUFzc2lzdGFudEFQSUlucHV0LnByb3RvdHlwZSwgXCJydW5JZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDExLkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTAoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBPcGVuQUlBcGlBc3Npc3RhbnRBUElJbnB1dC5wcm90b3R5cGUsIFwidGhyZWFkSWRcIiwgdm9pZCAwKTtcbk9wZW5BSUFwaUFzc2lzdGFudEFQSUlucHV0ID0gX3RzX2RlY29yYXRlMTAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDExLklucHV0VHlwZSkoKVxuXSwgT3BlbkFJQXBpQXNzaXN0YW50QVBJSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvbWV0YS1ldmVudC5pbnB1dC50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwxNyA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5cbi8vIHNyYy9ncmFwaHFsL3R5cGVzL21ldGEtZXZlbnRzLnR5cGUudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMTYgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9jb3BpbG90LXJlc3BvbnNlLnR5cGUudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMTUgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9tZXNzYWdlLXN0YXR1cy50eXBlLnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTExKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxMSwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExMShrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTExLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBNZXNzYWdlU3RhdHVzQ29kZTtcbihmdW5jdGlvbihNZXNzYWdlU3RhdHVzQ29kZTIpIHtcbiAgTWVzc2FnZVN0YXR1c0NvZGUyW1wiUGVuZGluZ1wiXSA9IFwicGVuZGluZ1wiO1xuICBNZXNzYWdlU3RhdHVzQ29kZTJbXCJTdWNjZXNzXCJdID0gXCJzdWNjZXNzXCI7XG4gIE1lc3NhZ2VTdGF0dXNDb2RlMltcIkZhaWxlZFwiXSA9IFwiZmFpbGVkXCI7XG59KShNZXNzYWdlU3RhdHVzQ29kZSB8fCAoTWVzc2FnZVN0YXR1c0NvZGUgPSB7fSkpO1xuKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5yZWdpc3RlckVudW1UeXBlKShNZXNzYWdlU3RhdHVzQ29kZSwge1xuICBuYW1lOiBcIk1lc3NhZ2VTdGF0dXNDb2RlXCJcbn0pO1xudmFyIEJhc2VNZXNzYWdlU3RhdHVzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShjbGFzcyBCYXNlTWVzc2FnZVN0YXR1czIge1xuICBjb2RlO1xufSwgXCJCYXNlTWVzc2FnZVN0YXR1c1wiKTtcbl90c19kZWNvcmF0ZTExKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5GaWVsZCkoKCkgPT4gTWVzc2FnZVN0YXR1c0NvZGUpLFxuICBfdHNfbWV0YWRhdGExMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEJhc2VNZXNzYWdlU3RhdHVzLnByb3RvdHlwZSwgXCJjb2RlXCIsIHZvaWQgMCk7XG5CYXNlTWVzc2FnZVN0YXR1cyA9IF90c19kZWNvcmF0ZTExKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5PYmplY3RUeXBlKSgpXG5dLCBCYXNlTWVzc2FnZVN0YXR1cyk7XG52YXIgUGVuZGluZ01lc3NhZ2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlU3RhdHVzIHtcbiAgY29kZSA9IFwicGVuZGluZ1wiO1xufTtcbl9fbmFtZShQZW5kaW5nTWVzc2FnZVN0YXR1cywgXCJQZW5kaW5nTWVzc2FnZVN0YXR1c1wiKTtcblBlbmRpbmdNZXNzYWdlU3RhdHVzID0gX3RzX2RlY29yYXRlMTEoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyLk9iamVjdFR5cGUpKClcbl0sIFBlbmRpbmdNZXNzYWdlU3RhdHVzKTtcbnZhciBTdWNjZXNzTWVzc2FnZVN0YXR1cyA9IGNsYXNzIGV4dGVuZHMgQmFzZU1lc3NhZ2VTdGF0dXMge1xuICBjb2RlID0gXCJzdWNjZXNzXCI7XG59O1xuX19uYW1lKFN1Y2Nlc3NNZXNzYWdlU3RhdHVzLCBcIlN1Y2Nlc3NNZXNzYWdlU3RhdHVzXCIpO1xuU3VjY2Vzc01lc3NhZ2VTdGF0dXMgPSBfdHNfZGVjb3JhdGUxMShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTIuT2JqZWN0VHlwZSkoKVxuXSwgU3VjY2Vzc01lc3NhZ2VTdGF0dXMpO1xudmFyIEZhaWxlZE1lc3NhZ2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VNZXNzYWdlU3RhdHVzIHtcbiAgY29kZSA9IFwiZmFpbGVkXCI7XG4gIHJlYXNvbjtcbn07XG5fX25hbWUoRmFpbGVkTWVzc2FnZVN0YXR1cywgXCJGYWlsZWRNZXNzYWdlU3RhdHVzXCIpO1xuX3RzX2RlY29yYXRlMTEoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZhaWxlZE1lc3NhZ2VTdGF0dXMucHJvdG90eXBlLCBcInJlYXNvblwiLCB2b2lkIDApO1xuRmFpbGVkTWVzc2FnZVN0YXR1cyA9IF90c19kZWNvcmF0ZTExKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMi5PYmplY3RUeXBlKSgpXG5dLCBGYWlsZWRNZXNzYWdlU3RhdHVzKTtcbnZhciBNZXNzYWdlU3RhdHVzVW5pb24gPSAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEyLmNyZWF0ZVVuaW9uVHlwZSkoe1xuICBuYW1lOiBcIk1lc3NhZ2VTdGF0dXNcIixcbiAgdHlwZXM6ICgpID0+IFtcbiAgICBQZW5kaW5nTWVzc2FnZVN0YXR1cyxcbiAgICBTdWNjZXNzTWVzc2FnZVN0YXR1cyxcbiAgICBGYWlsZWRNZXNzYWdlU3RhdHVzXG4gIF1cbn0pO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9yZXNwb25zZS1zdGF0dXMudHlwZS50c1xudmFyIGltcG9ydF9ncmFwaHFsX3NjYWxhcnMgPSByZXF1aXJlKFwiZ3JhcGhxbC1zY2FsYXJzXCIpO1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwxMyA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGUxMihkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlMTIsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMTIoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGExMiwgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgUmVzcG9uc2VTdGF0dXNDb2RlO1xuKGZ1bmN0aW9uKFJlc3BvbnNlU3RhdHVzQ29kZTIpIHtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlBlbmRpbmdcIl0gPSBcInBlbmRpbmdcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlN1Y2Nlc3NcIl0gPSBcInN1Y2Nlc3NcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIkZhaWxlZFwiXSA9IFwiZmFpbGVkXCI7XG59KShSZXNwb25zZVN0YXR1c0NvZGUgfHwgKFJlc3BvbnNlU3RhdHVzQ29kZSA9IHt9KSk7XG4oMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLnJlZ2lzdGVyRW51bVR5cGUpKFJlc3BvbnNlU3RhdHVzQ29kZSwge1xuICBuYW1lOiBcIlJlc3BvbnNlU3RhdHVzQ29kZVwiXG59KTtcbnZhciBCYXNlUmVzcG9uc2VTdGF0dXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGNsYXNzIEJhc2VSZXNwb25zZVN0YXR1czIge1xuICBjb2RlO1xufSwgXCJCYXNlUmVzcG9uc2VTdGF0dXNcIik7XG5fdHNfZGVjb3JhdGUxMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuRmllbGQpKCgpID0+IFJlc3BvbnNlU3RhdHVzQ29kZSksXG4gIF90c19tZXRhZGF0YTEyKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQmFzZVJlc3BvbnNlU3RhdHVzLnByb3RvdHlwZSwgXCJjb2RlXCIsIHZvaWQgMCk7XG5CYXNlUmVzcG9uc2VTdGF0dXMgPSBfdHNfZGVjb3JhdGUxMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuSW50ZXJmYWNlVHlwZSkoe1xuICAgIHJlc29sdmVUeXBlKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUuY29kZSA9PT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgcmV0dXJuIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cztcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuY29kZSA9PT0gXCJmYWlsZWRcIikge1xuICAgICAgICByZXR1cm4gRmFpbGVkUmVzcG9uc2VTdGF0dXM7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLmNvZGUgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgIHJldHVybiBQZW5kaW5nUmVzcG9uc2VTdGF0dXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfSksXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuT2JqZWN0VHlwZSkoKVxuXSwgQmFzZVJlc3BvbnNlU3RhdHVzKTtcbnZhciBQZW5kaW5nUmVzcG9uc2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VSZXNwb25zZVN0YXR1cyB7XG4gIGNvZGUgPSBcInBlbmRpbmdcIjtcbn07XG5fX25hbWUoUGVuZGluZ1Jlc3BvbnNlU3RhdHVzLCBcIlBlbmRpbmdSZXNwb25zZVN0YXR1c1wiKTtcblBlbmRpbmdSZXNwb25zZVN0YXR1cyA9IF90c19kZWNvcmF0ZTEyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMy5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZVJlc3BvbnNlU3RhdHVzXG4gIH0pXG5dLCBQZW5kaW5nUmVzcG9uc2VTdGF0dXMpO1xudmFyIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cyA9IGNsYXNzIGV4dGVuZHMgQmFzZVJlc3BvbnNlU3RhdHVzIHtcbiAgY29kZSA9IFwic3VjY2Vzc1wiO1xufTtcbl9fbmFtZShTdWNjZXNzUmVzcG9uc2VTdGF0dXMsIFwiU3VjY2Vzc1Jlc3BvbnNlU3RhdHVzXCIpO1xuU3VjY2Vzc1Jlc3BvbnNlU3RhdHVzID0gX3RzX2RlY29yYXRlMTIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlUmVzcG9uc2VTdGF0dXNcbiAgfSlcbl0sIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cyk7XG52YXIgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb247XG4oZnVuY3Rpb24oRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yKSB7XG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMltcIkdVQVJEUkFJTFNfVkFMSURBVElPTl9GQUlMRURcIl0gPSBcIkdVQVJEUkFJTFNfVkFMSURBVElPTl9GQUlMRURcIjtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiTUVTU0FHRV9TVFJFQU1fSU5URVJSVVBURURcIl0gPSBcIk1FU1NBR0VfU1RSRUFNX0lOVEVSUlVQVEVEXCI7XG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMltcIlVOS05PV05fRVJST1JcIl0gPSBcIlVOS05PV05fRVJST1JcIjtcbn0pKEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uIHx8IChGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbiA9IHt9KSk7XG4oMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLnJlZ2lzdGVyRW51bVR5cGUpKEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uLCB7XG4gIG5hbWU6IFwiRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb25cIlxufSk7XG52YXIgRmFpbGVkUmVzcG9uc2VTdGF0dXMgPSBjbGFzcyBleHRlbmRzIEJhc2VSZXNwb25zZVN0YXR1cyB7XG4gIGNvZGUgPSBcImZhaWxlZFwiO1xuICByZWFzb247XG4gIGRldGFpbHMgPSBudWxsO1xufTtcbl9fbmFtZShGYWlsZWRSZXNwb25zZVN0YXR1cywgXCJGYWlsZWRSZXNwb25zZVN0YXR1c1wiKTtcbl90c19kZWNvcmF0ZTEyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMy5GaWVsZCkoKCkgPT4gRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24pLFxuICBfdHNfbWV0YWRhdGExMihcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEZhaWxlZFJlc3BvbnNlU3RhdHVzLnByb3RvdHlwZSwgXCJyZWFzb25cIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTEyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxMy5GaWVsZCkoKCkgPT4gaW1wb3J0X2dyYXBocWxfc2NhbGFycy5HcmFwaFFMSlNPTiwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMihcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBSZWNvcmQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBSZWNvcmQpXG5dLCBGYWlsZWRSZXNwb25zZVN0YXR1cy5wcm90b3R5cGUsIFwiZGV0YWlsc1wiLCB2b2lkIDApO1xuRmFpbGVkUmVzcG9uc2VTdGF0dXMgPSBfdHNfZGVjb3JhdGUxMihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTMuT2JqZWN0VHlwZSkoe1xuICAgIGltcGxlbWVudHM6IEJhc2VSZXNwb25zZVN0YXR1c1xuICB9KVxuXSwgRmFpbGVkUmVzcG9uc2VTdGF0dXMpO1xudmFyIFJlc3BvbnNlU3RhdHVzVW5pb24gPSAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDEzLmNyZWF0ZVVuaW9uVHlwZSkoe1xuICBuYW1lOiBcIlJlc3BvbnNlU3RhdHVzXCIsXG4gIHR5cGVzOiAoKSA9PiBbXG4gICAgUGVuZGluZ1Jlc3BvbnNlU3RhdHVzLFxuICAgIFN1Y2Nlc3NSZXNwb25zZVN0YXR1cyxcbiAgICBGYWlsZWRSZXNwb25zZVN0YXR1c1xuICBdXG59KTtcblxuLy8gc3JjL2dyYXBocWwvdHlwZXMvZXh0ZW5zaW9ucy1yZXNwb25zZS50eXBlLnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDE0ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTEzKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxMywgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExMyhrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTEzLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBFeHRlbnNpb25zUmVzcG9uc2UgPSBjbGFzcyB7XG4gIG9wZW5haUFzc2lzdGFudEFQSTtcbn07XG5fX25hbWUoRXh0ZW5zaW9uc1Jlc3BvbnNlLCBcIkV4dGVuc2lvbnNSZXNwb25zZVwiKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gT3BlbkFJQXBpQXNzaXN0YW50QVBJUmVzcG9uc2UsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTMoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgT3BlbkFJQXBpQXNzaXN0YW50QVBJUmVzcG9uc2UgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBPcGVuQUlBcGlBc3Npc3RhbnRBUElSZXNwb25zZSlcbl0sIEV4dGVuc2lvbnNSZXNwb25zZS5wcm90b3R5cGUsIFwib3BlbmFpQXNzaXN0YW50QVBJXCIsIHZvaWQgMCk7XG5FeHRlbnNpb25zUmVzcG9uc2UgPSBfdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuT2JqZWN0VHlwZSkoKVxuXSwgRXh0ZW5zaW9uc1Jlc3BvbnNlKTtcbnZhciBPcGVuQUlBcGlBc3Npc3RhbnRBUElSZXNwb25zZSA9IGNsYXNzIHtcbiAgcnVuSWQ7XG4gIHRocmVhZElkO1xufTtcbl9fbmFtZShPcGVuQUlBcGlBc3Npc3RhbnRBUElSZXNwb25zZSwgXCJPcGVuQUlBcGlBc3Npc3RhbnRBUElSZXNwb25zZVwiKTtcbl90c19kZWNvcmF0ZTEzKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNC5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTEzKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgT3BlbkFJQXBpQXNzaXN0YW50QVBJUmVzcG9uc2UucHJvdG90eXBlLCBcInJ1bklkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExMyhcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIE9wZW5BSUFwaUFzc2lzdGFudEFQSVJlc3BvbnNlLnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuT3BlbkFJQXBpQXNzaXN0YW50QVBJUmVzcG9uc2UgPSBfdHNfZGVjb3JhdGUxMyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTQuT2JqZWN0VHlwZSkoKVxuXSwgT3BlbkFJQXBpQXNzaXN0YW50QVBJUmVzcG9uc2UpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9jb3BpbG90LXJlc3BvbnNlLnR5cGUudHNcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTE0KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxNCwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExNChrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTE0LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBCYXNlTWVzc2FnZU91dHB1dCA9IGNsYXNzIHtcbiAgaWQ7XG4gIGNyZWF0ZWRBdDtcbiAgc3RhdHVzO1xufTtcbl9fbmFtZShCYXNlTWVzc2FnZU91dHB1dCwgXCJCYXNlTWVzc2FnZU91dHB1dFwiKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBCYXNlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwiaWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gRGF0ZSksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIERhdGUgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBEYXRlKVxuXSwgQmFzZU1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcImNyZWF0ZWRBdFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBNZXNzYWdlU3RhdHVzVW5pb24pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIE9iamVjdClcbl0sIEJhc2VNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJzdGF0dXNcIiwgdm9pZCAwKTtcbkJhc2VNZXNzYWdlT3V0cHV0ID0gX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkludGVyZmFjZVR5cGUpKHtcbiAgICByZXNvbHZlVHlwZSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KFwiY29udGVudFwiKSkge1xuICAgICAgICByZXR1cm4gVGV4dE1lc3NhZ2VPdXRwdXQ7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KFwibmFtZVwiKSkge1xuICAgICAgICByZXR1cm4gQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dDtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuaGFzT3duUHJvcGVydHkoXCJyZXN1bHRcIikpIHtcbiAgICAgICAgcmV0dXJuIFJlc3VsdE1lc3NhZ2VPdXRwdXQ7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KFwic3RhdGVcIikpIHtcbiAgICAgICAgcmV0dXJuIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0O1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImZvcm1hdFwiKSAmJiB2YWx1ZS5oYXNPd25Qcm9wZXJ0eShcImJ5dGVzXCIpKSB7XG4gICAgICAgIHJldHVybiBJbWFnZU1lc3NhZ2VPdXRwdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfSlcbl0sIEJhc2VNZXNzYWdlT3V0cHV0KTtcbnZhciBUZXh0TWVzc2FnZU91dHB1dCA9IGNsYXNzIHtcbiAgcm9sZTtcbiAgY29udGVudDtcbiAgcGFyZW50TWVzc2FnZUlkO1xufTtcbl9fbmFtZShUZXh0TWVzc2FnZU91dHB1dCwgXCJUZXh0TWVzc2FnZU91dHB1dFwiKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgVGV4dE1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInJvbGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gW1xuICAgIFN0cmluZ1xuICBdKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIFRleHRNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJjb250ZW50XCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTUuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFRleHRNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJwYXJlbnRNZXNzYWdlSWRcIiwgdm9pZCAwKTtcblRleHRNZXNzYWdlT3V0cHV0ID0gX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1Lk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlTWVzc2FnZU91dHB1dFxuICB9KVxuXSwgVGV4dE1lc3NhZ2VPdXRwdXQpO1xudmFyIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQgPSBjbGFzcyB7XG4gIG5hbWU7XG4gIHNjb3BlO1xuICBhcmd1bWVudHM7XG4gIHBhcmVudE1lc3NhZ2VJZDtcbn07XG5fX25hbWUoQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dCwgXCJBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0XCIpO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcIm5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWUsXG4gICAgZGVwcmVjYXRpb25SZWFzb246IFwiVGhpcyBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvblwiXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInNjb3BlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTUuRmllbGQpKCgpID0+IFtcbiAgICBTdHJpbmdcbiAgXSksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG5dLCBBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJhcmd1bWVudHNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwicGFyZW50TWVzc2FnZUlkXCIsIHZvaWQgMCk7XG5BY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0ID0gX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1Lk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlTWVzc2FnZU91dHB1dFxuICB9KVxuXSwgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dCk7XG52YXIgUmVzdWx0TWVzc2FnZU91dHB1dCA9IGNsYXNzIHtcbiAgYWN0aW9uRXhlY3V0aW9uSWQ7XG4gIGFjdGlvbk5hbWU7XG4gIHJlc3VsdDtcbn07XG5fX25hbWUoUmVzdWx0TWVzc2FnZU91dHB1dCwgXCJSZXN1bHRNZXNzYWdlT3V0cHV0XCIpO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcImFjdGlvbkV4ZWN1dGlvbklkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTUuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgUmVzdWx0TWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwiYWN0aW9uTmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIFJlc3VsdE1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInJlc3VsdFwiLCB2b2lkIDApO1xuUmVzdWx0TWVzc2FnZU91dHB1dCA9IF90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZU1lc3NhZ2VPdXRwdXRcbiAgfSlcbl0sIFJlc3VsdE1lc3NhZ2VPdXRwdXQpO1xudmFyIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0ID0gY2xhc3Mge1xuICB0aHJlYWRJZDtcbiAgYWdlbnROYW1lO1xuICBub2RlTmFtZTtcbiAgcnVuSWQ7XG4gIGFjdGl2ZTtcbiAgcm9sZTtcbiAgc3RhdGU7XG4gIHJ1bm5pbmc7XG59O1xuX19uYW1lKEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LCBcIkFnZW50U3RhdGVNZXNzYWdlT3V0cHV0XCIpO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJhZ2VudE5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwibm9kZU5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwicnVuSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gQm9vbGVhbiksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJhY3RpdmVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcInJvbGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudFN0YXRlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwic3RhdGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gQm9vbGVhbiksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgQm9vbGVhbilcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJydW5uaW5nXCIsIHZvaWQgMCk7XG5BZ2VudFN0YXRlTWVzc2FnZU91dHB1dCA9IF90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5PYmplY3RUeXBlKSh7XG4gICAgaW1wbGVtZW50czogQmFzZU1lc3NhZ2VPdXRwdXRcbiAgfSlcbl0sIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0KTtcbnZhciBJbWFnZU1lc3NhZ2VPdXRwdXQgPSBjbGFzcyB7XG4gIGZvcm1hdDtcbiAgYnl0ZXM7XG4gIHJvbGU7XG4gIHBhcmVudE1lc3NhZ2VJZDtcbn07XG5fX25hbWUoSW1hZ2VNZXNzYWdlT3V0cHV0LCBcIkltYWdlTWVzc2FnZU91dHB1dFwiKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBJbWFnZU1lc3NhZ2VPdXRwdXQucHJvdG90eXBlLCBcImZvcm1hdFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEltYWdlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwiYnl0ZXNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gTWVzc2FnZVJvbGUpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXNzYWdlUm9sZSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IE1lc3NhZ2VSb2xlKVxuXSwgSW1hZ2VNZXNzYWdlT3V0cHV0LnByb3RvdHlwZSwgXCJyb2xlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTUuRmllbGQpKCgpID0+IFN0cmluZywge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIEltYWdlTWVzc2FnZU91dHB1dC5wcm90b3R5cGUsIFwicGFyZW50TWVzc2FnZUlkXCIsIHZvaWQgMCk7XG5JbWFnZU1lc3NhZ2VPdXRwdXQgPSBfdHNfZGVjb3JhdGUxNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTUuT2JqZWN0VHlwZSkoe1xuICAgIGltcGxlbWVudHM6IEJhc2VNZXNzYWdlT3V0cHV0XG4gIH0pXG5dLCBJbWFnZU1lc3NhZ2VPdXRwdXQpO1xudmFyIENvcGlsb3RSZXNwb25zZSA9IGNsYXNzIHtcbiAgdGhyZWFkSWQ7XG4gIHN0YXR1cztcbiAgcnVuSWQ7XG4gIG1lc3NhZ2VzO1xuICBleHRlbnNpb25zO1xuICBtZXRhRXZlbnRzO1xufTtcbl9fbmFtZShDb3BpbG90UmVzcG9uc2UsIFwiQ29waWxvdFJlc3BvbnNlXCIpO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIENvcGlsb3RSZXNwb25zZS5wcm90b3R5cGUsIFwidGhyZWFkSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gUmVzcG9uc2VTdGF0dXNVbmlvbiksXG4gIF90c19tZXRhZGF0YTE0KFwiZGVzaWduOnR5cGVcIiwgT2JqZWN0KVxuXSwgQ29waWxvdFJlc3BvbnNlLnByb3RvdHlwZSwgXCJzdGF0dXNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoe1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIENvcGlsb3RSZXNwb25zZS5wcm90b3R5cGUsIFwicnVuSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE0KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNS5GaWVsZCkoKCkgPT4gW1xuICAgIEJhc2VNZXNzYWdlT3V0cHV0XG4gIF0pLFxuICBfdHNfbWV0YWRhdGExNChcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgQ29waWxvdFJlc3BvbnNlLnByb3RvdHlwZSwgXCJtZXNzYWdlc1wiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1LkZpZWxkKSgoKSA9PiBFeHRlbnNpb25zUmVzcG9uc2UsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgRXh0ZW5zaW9uc1Jlc3BvbnNlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogRXh0ZW5zaW9uc1Jlc3BvbnNlKVxuXSwgQ29waWxvdFJlc3BvbnNlLnByb3RvdHlwZSwgXCJleHRlbnNpb25zXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTUuRmllbGQpKCgpID0+IFtcbiAgICBCYXNlTWV0YUV2ZW50XG4gIF0sIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTQoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIENvcGlsb3RSZXNwb25zZS5wcm90b3R5cGUsIFwibWV0YUV2ZW50c1wiLCB2b2lkIDApO1xuQ29waWxvdFJlc3BvbnNlID0gX3RzX2RlY29yYXRlMTQoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE1Lk9iamVjdFR5cGUpKClcbl0sIENvcGlsb3RSZXNwb25zZSk7XG5cbi8vIHNyYy9ncmFwaHFsL3R5cGVzL21ldGEtZXZlbnRzLnR5cGUudHNcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTE1KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxNSwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExNShrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTE1LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBNZXRhRXZlbnROYW1lO1xuKGZ1bmN0aW9uKE1ldGFFdmVudE5hbWUyKSB7XG4gIE1ldGFFdmVudE5hbWUyW1wiTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIl0gPSBcIkxhbmdHcmFwaEludGVycnVwdEV2ZW50XCI7XG4gIE1ldGFFdmVudE5hbWUyW1wiQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50XCJdID0gXCJDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIjtcbn0pKE1ldGFFdmVudE5hbWUgfHwgKE1ldGFFdmVudE5hbWUgPSB7fSkpO1xuKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNi5yZWdpc3RlckVudW1UeXBlKShNZXRhRXZlbnROYW1lLCB7XG4gIG5hbWU6IFwiTWV0YUV2ZW50TmFtZVwiLFxuICBkZXNjcmlwdGlvbjogXCJNZXRhIGV2ZW50IHR5cGVzXCJcbn0pO1xudmFyIEJhc2VNZXRhRXZlbnQgPSBjbGFzcyB7XG4gIHR5cGUgPSBcIk1ldGFFdmVudFwiO1xuICBuYW1lO1xufTtcbl9fbmFtZShCYXNlTWV0YUV2ZW50LCBcIkJhc2VNZXRhRXZlbnRcIik7XG5fdHNfZGVjb3JhdGUxNShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTYuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTE1KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQmFzZU1ldGFFdmVudC5wcm90b3R5cGUsIFwidHlwZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2LkZpZWxkKSgoKSA9PiBNZXRhRXZlbnROYW1lKSxcbiAgX3RzX21ldGFkYXRhMTUoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBCYXNlTWV0YUV2ZW50LnByb3RvdHlwZSwgXCJuYW1lXCIsIHZvaWQgMCk7XG5CYXNlTWV0YUV2ZW50ID0gX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2LkludGVyZmFjZVR5cGUpKHtcbiAgICByZXNvbHZlVHlwZSh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlLm5hbWUgPT09IFwiTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIikge1xuICAgICAgICByZXR1cm4gTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQ7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLm5hbWUgPT09IFwiQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50XCIpIHtcbiAgICAgICAgcmV0dXJuIENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9KSxcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNi5JbnRlcmZhY2VUeXBlKSgpXG5dLCBCYXNlTWV0YUV2ZW50KTtcbnZhciBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnREYXRhID0gY2xhc3Mge1xuICB2YWx1ZTtcbiAgbWVzc2FnZXM7XG59O1xuX19uYW1lKENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudERhdGEsIFwiQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50RGF0YVwiKTtcbl90c19kZWNvcmF0ZTE1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNi5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTUoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnREYXRhLnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2LkZpZWxkKSgoKSA9PiBbXG4gICAgQmFzZU1lc3NhZ2VPdXRwdXRcbiAgXSksXG4gIF90c19tZXRhZGF0YTE1KFwiZGVzaWduOnR5cGVcIiwgQXJyYXkpXG5dLCBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnREYXRhLnByb3RvdHlwZSwgXCJtZXNzYWdlc1wiLCB2b2lkIDApO1xuQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50RGF0YSA9IF90c19kZWNvcmF0ZTE1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNi5PYmplY3RUeXBlKSgpXG5dLCBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnREYXRhKTtcbnZhciBMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCA9IGNsYXNzIHtcbiAgbmFtZSA9IFwiTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIjtcbiAgdmFsdWU7XG4gIHJlc3BvbnNlO1xufTtcbl9fbmFtZShMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCwgXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiKTtcbl90c19kZWNvcmF0ZTE1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNi5GaWVsZCkoKCkgPT4gTWV0YUV2ZW50TmFtZSksXG4gIF90c19tZXRhZGF0YTE1KFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIE1ldGFFdmVudE5hbWUgPT09IFwidW5kZWZpbmVkXCIgfHwgZmFsc2UgPyBPYmplY3QgOiBcIkxhbmdHcmFwaEludGVycnVwdEV2ZW50XCIpXG5dLCBMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2LkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExNShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIExhbmdHcmFwaEludGVycnVwdEV2ZW50LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2LkZpZWxkKSgoKSA9PiBTdHJpbmcsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTUoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudC5wcm90b3R5cGUsIFwicmVzcG9uc2VcIiwgdm9pZCAwKTtcbkxhbmdHcmFwaEludGVycnVwdEV2ZW50ID0gX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2Lk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlTWV0YUV2ZW50XG4gIH0pXG5dLCBMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCk7XG52YXIgQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50ID0gY2xhc3Mge1xuICBuYW1lID0gXCJDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIjtcbiAgZGF0YTtcbiAgcmVzcG9uc2U7XG59O1xuX19uYW1lKENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCwgXCJDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIik7XG5fdHNfZGVjb3JhdGUxNShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTYuRmllbGQpKCgpID0+IE1ldGFFdmVudE5hbWUpLFxuICBfdHNfbWV0YWRhdGExNShcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBNZXRhRXZlbnROYW1lID09PSBcInVuZGVmaW5lZFwiIHx8IGZhbHNlID8gT2JqZWN0IDogXCJDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIilcbl0sIENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudC5wcm90b3R5cGUsIFwibmFtZVwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2LkZpZWxkKSgoKSA9PiBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnREYXRhKSxcbiAgX3RzX21ldGFkYXRhMTUoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50RGF0YSA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudERhdGEpXG5dLCBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQucHJvdG90eXBlLCBcImRhdGFcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE1KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNi5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTE1KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50LnByb3RvdHlwZSwgXCJyZXNwb25zZVwiLCB2b2lkIDApO1xuQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50ID0gX3RzX2RlY29yYXRlMTUoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE2Lk9iamVjdFR5cGUpKHtcbiAgICBpbXBsZW1lbnRzOiBCYXNlTWV0YUV2ZW50XG4gIH0pXG5dLCBDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9pbnB1dHMvbWV0YS1ldmVudC5pbnB1dC50c1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlMTYoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTE2LCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTE2KGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhMTYsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIE1ldGFFdmVudElucHV0ID0gY2xhc3Mge1xuICBuYW1lO1xuICB2YWx1ZTtcbiAgcmVzcG9uc2U7XG4gIG1lc3NhZ2VzO1xufTtcbl9fbmFtZShNZXRhRXZlbnRJbnB1dCwgXCJNZXRhRXZlbnRJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTE2KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNy5GaWVsZCkoKCkgPT4gTWV0YUV2ZW50TmFtZSksXG4gIF90c19tZXRhZGF0YTE2KFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIE1ldGFFdmVudE5hbWUgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBNZXRhRXZlbnROYW1lKVxuXSwgTWV0YUV2ZW50SW5wdXQucHJvdG90eXBlLCBcIm5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE2KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNy5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTYoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBNZXRhRXZlbnRJbnB1dC5wcm90b3R5cGUsIFwidmFsdWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE2KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNy5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTE2KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgTWV0YUV2ZW50SW5wdXQucHJvdG90eXBlLCBcInJlc3BvbnNlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNihbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTcuRmllbGQpKCgpID0+IFtcbiAgICBNZXNzYWdlSW5wdXRcbiAgXSwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNihcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgTWV0YUV2ZW50SW5wdXQucHJvdG90eXBlLCBcIm1lc3NhZ2VzXCIsIHZvaWQgMCk7XG5NZXRhRXZlbnRJbnB1dCA9IF90c19kZWNvcmF0ZTE2KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxNy5JbnB1dFR5cGUpKClcbl0sIE1ldGFFdmVudElucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2dlbmVyYXRlLWNvcGlsb3QtcmVzcG9uc2UuaW5wdXQudHNcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTE3KGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUxNywgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGExNyhrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTE3LCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQgPSBjbGFzcyB7XG4gIHJlcXVlc3RUeXBlO1xufTtcbl9fbmFtZShHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU1ldGFkYXRhSW5wdXQsIFwiR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0XCIpO1xuX3RzX2RlY29yYXRlMTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE4LkZpZWxkKSgoKSA9PiBDb3BpbG90UmVxdWVzdFR5cGUsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTcoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgQ29waWxvdFJlcXVlc3RUeXBlID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogQ29waWxvdFJlcXVlc3RUeXBlKVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0LnByb3RvdHlwZSwgXCJyZXF1ZXN0VHlwZVwiLCB2b2lkIDApO1xuR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0ID0gX3RzX2RlY29yYXRlMTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE4LklucHV0VHlwZSkoKVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0KTtcbnZhciBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0ID0gY2xhc3Mge1xuICBtZXRhZGF0YTtcbiAgdGhyZWFkSWQ7XG4gIHJ1bklkO1xuICBtZXNzYWdlcztcbiAgZnJvbnRlbmQ7XG4gIGNsb3VkO1xuICBmb3J3YXJkZWRQYXJhbWV0ZXJzO1xuICBhZ2VudFNlc3Npb247XG4gIGFnZW50U3RhdGU7XG4gIGFnZW50U3RhdGVzO1xuICBleHRlbnNpb25zO1xuICBtZXRhRXZlbnRzO1xufTtcbl9fbmFtZShHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LCBcIkdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXRcIik7XG5fdHNfZGVjb3JhdGUxNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTguRmllbGQpKCgpID0+IEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlTWV0YWRhdGFJbnB1dCwge1xuICAgIG51bGxhYmxlOiBmYWxzZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTcoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNZXRhZGF0YUlucHV0KVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwibWV0YWRhdGFcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOC5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTE3KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwidGhyZWFkSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOC5GaWVsZCkoKCkgPT4gU3RyaW5nLCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTE3KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwicnVuSWRcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOC5GaWVsZCkoKCkgPT4gW1xuICAgIE1lc3NhZ2VJbnB1dFxuICBdKSxcbiAgX3RzX21ldGFkYXRhMTcoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQucHJvdG90eXBlLCBcIm1lc3NhZ2VzXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTguRmllbGQpKCgpID0+IEZyb250ZW5kSW5wdXQpLFxuICBfdHNfbWV0YWRhdGExNyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBGcm9udGVuZElucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogRnJvbnRlbmRJbnB1dClcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQucHJvdG90eXBlLCBcImZyb250ZW5kXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTguRmllbGQpKCgpID0+IENsb3VkSW5wdXQsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTcoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgQ2xvdWRJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IENsb3VkSW5wdXQpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJjbG91ZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE4LkZpZWxkKSgoKSA9PiBGb3J3YXJkZWRQYXJhbWV0ZXJzSW5wdXQsIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTcoXCJkZXNpZ246dHlwZVwiLCB0eXBlb2YgRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogRm9yd2FyZGVkUGFyYW1ldGVyc0lucHV0KVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwiZm9yd2FyZGVkUGFyYW1ldGVyc1wiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMTcoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE4LkZpZWxkKSgoKSA9PiBBZ2VudFNlc3Npb25JbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBBZ2VudFNlc3Npb25JbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEFnZW50U2Vzc2lvbklucHV0KVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwiYWdlbnRTZXNzaW9uXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTguRmllbGQpKCgpID0+IEFnZW50U3RhdGVJbnB1dCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNyhcImRlc2lnbjp0eXBlXCIsIHR5cGVvZiBBZ2VudFN0YXRlSW5wdXQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBBZ2VudFN0YXRlSW5wdXQpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0LnByb3RvdHlwZSwgXCJhZ2VudFN0YXRlXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTguRmllbGQpKCgpID0+IFtcbiAgICBBZ2VudFN0YXRlSW5wdXRcbiAgXSwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pLFxuICBfdHNfbWV0YWRhdGExNyhcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dC5wcm90b3R5cGUsIFwiYWdlbnRTdGF0ZXNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOC5GaWVsZCkoKCkgPT4gRXh0ZW5zaW9uc0lucHV0LCB7XG4gICAgbnVsbGFibGU6IHRydWVcbiAgfSksXG4gIF90c19tZXRhZGF0YTE3KFwiZGVzaWduOnR5cGVcIiwgdHlwZW9mIEV4dGVuc2lvbnNJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEV4dGVuc2lvbnNJbnB1dClcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQucHJvdG90eXBlLCBcImV4dGVuc2lvbnNcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE3KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOC5GaWVsZCkoKCkgPT4gW1xuICAgIE1ldGFFdmVudElucHV0XG4gIF0sIHtcbiAgICBudWxsYWJsZTogdHJ1ZVxuICB9KSxcbiAgX3RzX21ldGFkYXRhMTcoXCJkZXNpZ246dHlwZVwiLCBBcnJheSlcbl0sIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQucHJvdG90eXBlLCBcIm1ldGFFdmVudHNcIiwgdm9pZCAwKTtcbkdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQgPSBfdHNfZGVjb3JhdGUxNyhbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTguSW5wdXRUeXBlKSgpXG5dLCBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0KTtcblxuLy8gc3JjL2dyYXBocWwvcmVzb2x2ZXJzL2NvcGlsb3QucmVzb2x2ZXIudHNcbnZhciBpbXBvcnRfZ3JhcGhxbF95b2dhID0gcmVxdWlyZShcImdyYXBocWwteW9nYVwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvZXZlbnRzLnRzXG52YXIgaW1wb3J0X3NoYXJlZDI3ID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIyID0gcmVxdWlyZShcImNsYXNzLXRyYW5zZm9ybWVyXCIpO1xudmFyIGltcG9ydF9yeGpzNCA9IHJlcXVpcmUoXCJyeGpzXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9jb252ZXJ0ZWQvaW5kZXgudHNcbnZhciBNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBCYXNlTWVzc2FnZUlucHV0IHtcbiAgdHlwZTtcbiAgaXNUZXh0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSBcIlRleHRNZXNzYWdlXCI7XG4gIH1cbiAgaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZVwiO1xuICB9XG4gIGlzUmVzdWx0TWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSBcIlJlc3VsdE1lc3NhZ2VcIjtcbiAgfVxuICBpc0FnZW50U3RhdGVNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIjtcbiAgfVxuICBpc0ltYWdlTWVzc2FnZSgpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlID09PSBcIkltYWdlTWVzc2FnZVwiO1xuICB9XG59O1xuX19uYW1lKE1lc3NhZ2UsIFwiTWVzc2FnZVwiKTtcbnZhciBUZXh0TWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHR5cGUgPSBcIlRleHRNZXNzYWdlXCI7XG4gIGNvbnRlbnQ7XG4gIHJvbGU7XG4gIHBhcmVudE1lc3NhZ2VJZDtcbn07XG5fX25hbWUoVGV4dE1lc3NhZ2UsIFwiVGV4dE1lc3NhZ2VcIik7XG52YXIgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHR5cGUgPSBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VcIjtcbiAgbmFtZTtcbiAgYXJndW1lbnRzO1xuICBwYXJlbnRNZXNzYWdlSWQ7XG59O1xuX19uYW1lKEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsIFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZVwiKTtcbnZhciBSZXN1bHRNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgdHlwZSA9IFwiUmVzdWx0TWVzc2FnZVwiO1xuICBhY3Rpb25FeGVjdXRpb25JZDtcbiAgYWN0aW9uTmFtZTtcbiAgcmVzdWx0O1xuICBzdGF0aWMgZW5jb2RlUmVzdWx0KHJlc3VsdCwgZXJyb3IpIHtcbiAgICBjb25zdCBlcnJvck9iaiA9IGVycm9yID8gdHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiID8ge1xuICAgICAgY29kZTogXCJFUlJPUlwiLFxuICAgICAgbWVzc2FnZTogZXJyb3JcbiAgICB9IDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IHtcbiAgICAgIGNvZGU6IFwiRVJST1JcIixcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2VcbiAgICB9IDogZXJyb3IgOiB2b2lkIDA7XG4gICAgaWYgKGVycm9yT2JqKSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBlcnJvcjogZXJyb3JPYmosXG4gICAgICAgIHJlc3VsdDogcmVzdWx0IHx8IFwiXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCA9PT0gXCJzdHJpbmdcIiA/IHJlc3VsdCA6IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gIH1cbiAgc3RhdGljIGRlY29kZVJlc3VsdChyZXN1bHQpIHtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdWx0OiBcIlwiXG4gICAgICB9O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShyZXN1bHQpO1xuICAgICAgaWYgKHBhcnNlZCAmJiB0eXBlb2YgcGFyc2VkID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChcImVycm9yXCIgaW4gcGFyc2VkKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiBwYXJzZWQuZXJyb3IsXG4gICAgICAgICAgICByZXN1bHQ6IHBhcnNlZC5yZXN1bHQgfHwgXCJcIlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXN1bHQ6IEpTT04uc3RyaW5naWZ5KHBhcnNlZClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3VsdFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN1bHRcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGhhc0Vycm9yKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBSZXN1bHRNZXNzYWdlLmRlY29kZVJlc3VsdCh0aGlzLnJlc3VsdCk7XG4gICAgICByZXR1cm4gISFlcnJvcjtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgZ2V0RXJyb3IoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IFJlc3VsdE1lc3NhZ2UuZGVjb2RlUmVzdWx0KHRoaXMucmVzdWx0KTtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9XG59O1xuX19uYW1lKFJlc3VsdE1lc3NhZ2UsIFwiUmVzdWx0TWVzc2FnZVwiKTtcbnZhciBBZ2VudFN0YXRlTWVzc2FnZSA9IGNsYXNzIGV4dGVuZHMgTWVzc2FnZSB7XG4gIHR5cGUgPSBcIkFnZW50U3RhdGVNZXNzYWdlXCI7XG4gIHRocmVhZElkO1xuICBhZ2VudE5hbWU7XG4gIG5vZGVOYW1lO1xuICBydW5JZDtcbiAgYWN0aXZlO1xuICByb2xlO1xuICBzdGF0ZTtcbiAgcnVubmluZztcbn07XG5fX25hbWUoQWdlbnRTdGF0ZU1lc3NhZ2UsIFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIik7XG52YXIgSW1hZ2VNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgdHlwZSA9IFwiSW1hZ2VNZXNzYWdlXCI7XG4gIGZvcm1hdDtcbiAgYnl0ZXM7XG4gIHJvbGU7XG4gIHBhcmVudE1lc3NhZ2VJZDtcbn07XG5fX25hbWUoSW1hZ2VNZXNzYWdlLCBcIkltYWdlTWVzc2FnZVwiKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL3JlbW90ZS1hY3Rpb25zLnRzXG52YXIgaW1wb3J0X3NoYXJlZDI1ID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL3JlbW90ZS1hY3Rpb24tY29uc3RydWN0b3JzLnRzXG52YXIgaW1wb3J0X25vZGVfY3J5cHRvMyA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5cbi8vIHNyYy9saWIvdGVsZW1ldHJ5LWNsaWVudC50c1xudmFyIGltcG9ydF9zaGFyZWQxOSA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG52YXIgaW1wb3J0X25vZGVfY3J5cHRvMiA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9jb3BpbG90LXJ1bnRpbWUudHNcbnZhciBpbXBvcnRfc2hhcmVkMTggPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9sYW5nY2hhaW4vbGFuZ3NlcnZlLnRzXG52YXIgaW1wb3J0X3JlbW90ZSA9IHJlcXVpcmUoXCJsYW5nY2hhaW4vcnVubmFibGVzL3JlbW90ZVwiKTtcbnZhciBSZW1vdGVDaGFpbiA9IGNsYXNzIHtcbiAgbmFtZTtcbiAgZGVzY3JpcHRpb247XG4gIGNoYWluVXJsO1xuICBwYXJhbWV0ZXJzO1xuICBwYXJhbWV0ZXJUeXBlO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBvcHRpb25zLmRlc2NyaXB0aW9uO1xuICAgIHRoaXMuY2hhaW5VcmwgPSBvcHRpb25zLmNoYWluVXJsO1xuICAgIHRoaXMucGFyYW1ldGVycyA9IG9wdGlvbnMucGFyYW1ldGVycztcbiAgICB0aGlzLnBhcmFtZXRlclR5cGUgPSBvcHRpb25zLnBhcmFtZXRlclR5cGUgfHwgXCJtdWx0aVwiO1xuICB9XG4gIGFzeW5jIHRvQWN0aW9uKCkge1xuICAgIGlmICghdGhpcy5wYXJhbWV0ZXJzKSB7XG4gICAgICBhd2FpdCB0aGlzLmluZmVyTGFuZ1NlcnZlUGFyYW1ldGVycygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBwYXJhbWV0ZXJzOiB0aGlzLnBhcmFtZXRlcnMsXG4gICAgICBoYW5kbGVyOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBjb25zdCBydW5uYWJsZSA9IG5ldyBpbXBvcnRfcmVtb3RlLlJlbW90ZVJ1bm5hYmxlKHtcbiAgICAgICAgICB1cmw6IHRoaXMuY2hhaW5VcmxcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBpbnB1dDtcbiAgICAgICAgaWYgKHRoaXMucGFyYW1ldGVyVHlwZSA9PT0gXCJzaW5nbGVcIikge1xuICAgICAgICAgIGlucHV0ID0gYXJnc1tPYmplY3Qua2V5cyhhcmdzKVswXV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQgPSBhcmdzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCBydW5uYWJsZS5pbnZva2UoaW5wdXQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgYXN5bmMgaW5mZXJMYW5nU2VydmVQYXJhbWV0ZXJzKCkge1xuICAgIGNvbnN0IHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgXCJzdHJpbmdcIixcbiAgICAgIFwibnVtYmVyXCIsXG4gICAgICBcImJvb2xlYW5cIlxuICAgIF07XG4gICAgbGV0IHNjaGVtYVVybCA9IHRoaXMuY2hhaW5VcmwucmVwbGFjZSgvXFwvKyQvLCBcIlwiKSArIFwiL2lucHV0X3NjaGVtYVwiO1xuICAgIGxldCBzY2hlbWEgPSBhd2FpdCBmZXRjaChzY2hlbWFVcmwpLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkuY2F0Y2goKCkgPT4ge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIGxhbmdzZXJ2ZSBzY2hlbWEgYXQgXCIgKyBzY2hlbWFVcmwpO1xuICAgIH0pO1xuICAgIGlmIChzdXBwb3J0ZWRUeXBlcy5pbmNsdWRlcyhzY2hlbWEudHlwZSkpIHtcbiAgICAgIHRoaXMucGFyYW1ldGVyVHlwZSA9IFwic2luZ2xlXCI7XG4gICAgICB0aGlzLnBhcmFtZXRlcnMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBuYW1lOiBcImlucHV0XCIsXG4gICAgICAgICAgdHlwZTogc2NoZW1hLnR5cGUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IFwiVGhlIGlucHV0IHRvIHRoZSBjaGFpblwiXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfSBlbHNlIGlmIChzY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgdGhpcy5wYXJhbWV0ZXJUeXBlID0gXCJtdWx0aVwiO1xuICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gT2JqZWN0LmtleXMoc2NoZW1hLnByb3BlcnRpZXMpLm1hcCgoa2V5KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHByb3BlcnR5ID0gc2NoZW1hLnByb3BlcnRpZXNba2V5XTtcbiAgICAgICAgaWYgKCFzdXBwb3J0ZWRUeXBlcy5pbmNsdWRlcyhwcm9wZXJ0eS50eXBlKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbmFtZToga2V5LFxuICAgICAgICAgIHR5cGU6IHByb3BlcnR5LnR5cGUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHByb3BlcnR5LmRlc2NyaXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgcmVxdWlyZWQ6ICgoX2EgPSBzY2hlbWEucmVxdWlyZWQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5pbmNsdWRlcyhrZXkpKSB8fCBmYWxzZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlXCIpO1xuICAgIH1cbiAgfVxufTtcbl9fbmFtZShSZW1vdGVDaGFpbiwgXCJSZW1vdGVDaGFpblwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvYW50aHJvcGljL2FudGhyb3BpYy1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X3NkayA9IF9fdG9FU00ocmVxdWlyZShcIkBhbnRocm9waWMtYWkvc2RrXCIpKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvYW50aHJvcGljL3V0aWxzLnRzXG5mdW5jdGlvbiBsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50MihtZXNzYWdlcywgdG9vbHMsIG1vZGVsLCBtYXhUb2tlbnMpIHtcbiAgbWF4VG9rZW5zIHx8IChtYXhUb2tlbnMgPSBNQVhfVE9LRU5TKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGNvbnN0IHRvb2xzTnVtVG9rZW5zID0gY291bnRUb29sc1Rva2VuczIobW9kZWwsIHRvb2xzKTtcbiAgaWYgKHRvb2xzTnVtVG9rZW5zID4gbWF4VG9rZW5zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBUb28gbWFueSB0b2tlbnMgaW4gZnVuY3Rpb24gZGVmaW5pdGlvbnM6ICR7dG9vbHNOdW1Ub2tlbnN9ID4gJHttYXhUb2tlbnN9YCk7XG4gIH1cbiAgbWF4VG9rZW5zIC09IHRvb2xzTnVtVG9rZW5zO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICBjb25zdCBudW1Ub2tlbnMgPSBjb3VudE1lc3NhZ2VUb2tlbnMyKG1vZGVsLCBtZXNzYWdlKTtcbiAgICAgIG1heFRva2VucyAtPSBudW1Ub2tlbnM7XG4gICAgICBpZiAobWF4VG9rZW5zIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZW5vdWdoIHRva2VucyBmb3Igc3lzdGVtIG1lc3NhZ2UuXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgY3V0b2ZmID0gZmFsc2U7XG4gIGNvbnN0IHJldmVyc2VkTWVzc2FnZXMgPSBbXG4gICAgLi4ubWVzc2FnZXNcbiAgXS5yZXZlcnNlKCk7XG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiByZXZlcnNlZE1lc3NhZ2VzKSB7XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgcmVzdWx0LnVuc2hpZnQobWVzc2FnZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9IGVsc2UgaWYgKGN1dG9mZikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGxldCBudW1Ub2tlbnMgPSBjb3VudE1lc3NhZ2VUb2tlbnMyKG1vZGVsLCBtZXNzYWdlKTtcbiAgICBpZiAobWF4VG9rZW5zIDwgbnVtVG9rZW5zKSB7XG4gICAgICBjdXRvZmYgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHJlc3VsdC51bnNoaWZ0KG1lc3NhZ2UpO1xuICAgIG1heFRva2VucyAtPSBudW1Ub2tlbnM7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbl9fbmFtZShsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50MiwgXCJsaW1pdE1lc3NhZ2VzVG9Ub2tlbkNvdW50XCIpO1xudmFyIE1BWF9UT0tFTlMgPSAxMjhlMztcbmZ1bmN0aW9uIGNvdW50VG9vbHNUb2tlbnMyKG1vZGVsLCB0b29scykge1xuICBpZiAodG9vbHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KHRvb2xzKTtcbiAgcmV0dXJuIGNvdW50VG9rZW5zMihtb2RlbCwganNvbik7XG59XG5fX25hbWUoY291bnRUb29sc1Rva2VuczIsIFwiY291bnRUb29sc1Rva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvdW50TWVzc2FnZVRva2VuczIobW9kZWwsIG1lc3NhZ2UpIHtcbiAgcmV0dXJuIGNvdW50VG9rZW5zMihtb2RlbCwgSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5jb250ZW50KSB8fCBcIlwiKTtcbn1cbl9fbmFtZShjb3VudE1lc3NhZ2VUb2tlbnMyLCBcImNvdW50TWVzc2FnZVRva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvdW50VG9rZW5zMihtb2RlbCwgdGV4dCkge1xuICByZXR1cm4gdGV4dC5sZW5ndGggLyAzO1xufVxuX19uYW1lKGNvdW50VG9rZW5zMiwgXCJjb3VudFRva2Vuc1wiKTtcbmZ1bmN0aW9uIGNvbnZlcnRBY3Rpb25JbnB1dFRvQW50aHJvcGljVG9vbChhY3Rpb24pIHtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgIGlucHV0X3NjaGVtYTogSlNPTi5wYXJzZShhY3Rpb24uanNvblNjaGVtYSlcbiAgfTtcbn1cbl9fbmFtZShjb252ZXJ0QWN0aW9uSW5wdXRUb0FudGhyb3BpY1Rvb2wsIFwiY29udmVydEFjdGlvbklucHV0VG9BbnRocm9waWNUb29sXCIpO1xuZnVuY3Rpb24gY29udmVydE1lc3NhZ2VUb0FudGhyb3BpY01lc3NhZ2UobWVzc2FnZSkge1xuICBpZiAobWVzc2FnZS5pc1RleHRNZXNzYWdlKCkpIHtcbiAgICBpZiAobWVzc2FnZS5yb2xlID09PSBcInN5c3RlbVwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB0ZXh0OiBcIlRIRSBGT0xMT1dJTkcgTUVTU0FHRSBJUyBBIFNZU1RFTSBNRVNTQUdFOiBcIiArIG1lc3NhZ2UuY29udGVudFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IFwidXNlclwiIDogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgdGV4dDogbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChtZXNzYWdlLmlzSW1hZ2VNZXNzYWdlKCkpIHtcbiAgICBsZXQgbWVkaWFUeXBlO1xuICAgIHN3aXRjaCAobWVzc2FnZS5mb3JtYXQpIHtcbiAgICAgIGNhc2UgXCJqcGVnXCI6XG4gICAgICAgIG1lZGlhVHlwZSA9IFwiaW1hZ2UvanBlZ1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwbmdcIjpcbiAgICAgICAgbWVkaWFUeXBlID0gXCJpbWFnZS9wbmdcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwid2VicFwiOlxuICAgICAgICBtZWRpYVR5cGUgPSBcImltYWdlL3dlYnBcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZ2lmXCI6XG4gICAgICAgIG1lZGlhVHlwZSA9IFwiaW1hZ2UvZ2lmXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBpbWFnZSBmb3JtYXQ6ICR7bWVzc2FnZS5mb3JtYXR9YCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiaW1hZ2VcIixcbiAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICBtZWRpYV90eXBlOiBtZWRpYVR5cGUsXG4gICAgICAgICAgICBkYXRhOiBtZXNzYWdlLmJ5dGVzXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlLmlzQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICB0eXBlOiBcInRvb2xfdXNlXCIsXG4gICAgICAgICAgaW5wdXQ6IG1lc3NhZ2UuYXJndW1lbnRzLFxuICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlLmlzUmVzdWx0TWVzc2FnZSgpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgY29udGVudDogW1xuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0IHx8IFwiQWN0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcIixcbiAgICAgICAgICB0b29sX3VzZV9pZDogbWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuX19uYW1lKGNvbnZlcnRNZXNzYWdlVG9BbnRocm9waWNNZXNzYWdlLCBcImNvbnZlcnRNZXNzYWdlVG9BbnRocm9waWNNZXNzYWdlXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9hbnRocm9waWMvYW50aHJvcGljLWFkYXB0ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkMTAgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIERFRkFVTFRfTU9ERUwzID0gXCJjbGF1ZGUtMy01LXNvbm5ldC1sYXRlc3RcIjtcbnZhciBBbnRocm9waWNBZGFwdGVyID0gY2xhc3Mge1xuICBtb2RlbCA9IERFRkFVTFRfTU9ERUwzO1xuICBwcm9tcHRDYWNoaW5nO1xuICBfYW50aHJvcGljO1xuICBnZXQgYW50aHJvcGljKCkge1xuICAgIHJldHVybiB0aGlzLl9hbnRocm9waWM7XG4gIH1cbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgdGhpcy5fYW50aHJvcGljID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmFudGhyb3BpYykgfHwgbmV3IGltcG9ydF9zZGsuZGVmYXVsdCh7fSk7XG4gICAgaWYgKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLm1vZGVsKSB7XG4gICAgICB0aGlzLm1vZGVsID0gcGFyYW1zLm1vZGVsO1xuICAgIH1cbiAgICB0aGlzLnByb21wdENhY2hpbmcgPSAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMucHJvbXB0Q2FjaGluZykgfHwge1xuICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICB9O1xuICB9XG4gIC8qKlxuICAqIEFkZHMgY2FjaGUgY29udHJvbCB0byBzeXN0ZW0gcHJvbXB0XG4gICovXG4gIGFkZFN5c3RlbVByb21wdENhY2hpbmcoc3lzdGVtLCBkZWJ1ZyA9IGZhbHNlKSB7XG4gICAgaWYgKCF0aGlzLnByb21wdENhY2hpbmcuZW5hYmxlZCB8fCAhc3lzdGVtKSB7XG4gICAgICByZXR1cm4gc3lzdGVtO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW5hbFRleHRMZW5ndGggPSBzeXN0ZW0ubGVuZ3RoO1xuICAgIGlmIChkZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coYFtBTlRIUk9QSUMgQ0FDSEUgREVCVUddIEFkZGVkIGNhY2hlIGNvbnRyb2wgdG8gc3lzdGVtIHByb21wdCAoJHtvcmlnaW5hbFRleHRMZW5ndGh9IGNoYXJzKS5gKTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHRleHQ6IHN5c3RlbSxcbiAgICAgICAgY2FjaGVfY29udHJvbDoge1xuICAgICAgICAgIHR5cGU6IFwiZXBoZW1lcmFsXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gIH1cbiAgLyoqXG4gICogQWRkcyBjYWNoZSBjb250cm9sIHRvIHRoZSBmaW5hbCBtZXNzYWdlXG4gICovXG4gIGFkZEluY3JlbWVudGFsTWVzc2FnZUNhY2hpbmcobWVzc2FnZXMsIGRlYnVnID0gZmFsc2UpIHtcbiAgICBpZiAoIXRoaXMucHJvbXB0Q2FjaGluZy5lbmFibGVkIHx8IG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG1lc3NhZ2VzO1xuICAgIH1cbiAgICBjb25zdCBmaW5hbE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCBtZXNzYWdlTnVtYmVyID0gbWVzc2FnZXMubGVuZ3RoO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbmFsTWVzc2FnZS5jb250ZW50KSAmJiBmaW5hbE1lc3NhZ2UuY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBmaW5hbEJsb2NrID0gZmluYWxNZXNzYWdlLmNvbnRlbnRbZmluYWxNZXNzYWdlLmNvbnRlbnQubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCB1cGRhdGVkTWVzc2FnZXMgPSBbXG4gICAgICAgIC4uLm1lc3NhZ2VzLnNsaWNlKDAsIC0xKSxcbiAgICAgICAge1xuICAgICAgICAgIC4uLmZpbmFsTWVzc2FnZSxcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICAuLi5maW5hbE1lc3NhZ2UuY29udGVudC5zbGljZSgwLCAtMSksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIC4uLmZpbmFsQmxvY2ssXG4gICAgICAgICAgICAgIGNhY2hlX2NvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImVwaGVtZXJhbFwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgICBpZiAoZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtBTlRIUk9QSUMgQ0FDSEUgREVCVUddIEFkZGVkIGNhY2hlIGNvbnRyb2wgdG8gZmluYWwgbWVzc2FnZSAobWVzc2FnZSAke21lc3NhZ2VOdW1iZXJ9KS5gKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVkTWVzc2FnZXM7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlcztcbiAgfVxuICBzaG91bGRHZW5lcmF0ZUZhbGxiYWNrUmVzcG9uc2UobWVzc2FnZXMpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gbWVzc2FnZXNbbWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gICAgY29uc3QgZW5kc1dpdGhUb29sUmVzdWx0ID0gbGFzdE1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIgJiYgQXJyYXkuaXNBcnJheShsYXN0TWVzc2FnZS5jb250ZW50KSAmJiBsYXN0TWVzc2FnZS5jb250ZW50LnNvbWUoKGNvbnRlbnQpID0+IGNvbnRlbnQudHlwZSA9PT0gXCJ0b29sX3Jlc3VsdFwiKTtcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID49IDMgJiYgZW5kc1dpdGhUb29sUmVzdWx0KSB7XG4gICAgICBjb25zdCBsYXN0VGhyZWUgPSBtZXNzYWdlcy5zbGljZSgtMyk7XG4gICAgICBjb25zdCBoYXNSZWNlbnRUb29sUGF0dGVybiA9ICgoX2EgPSBsYXN0VGhyZWVbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5yb2xlKSA9PT0gXCJ1c2VyXCIgJiYgLy8gSW5pdGlhbCB1c2VyIG1lc3NhZ2VcbiAgICAgICgoX2IgPSBsYXN0VGhyZWVbMV0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5yb2xlKSA9PT0gXCJhc3Npc3RhbnRcIiAmJiAvLyBBc3Npc3RhbnQgdG9vbCB1c2VcbiAgICAgIEFycmF5LmlzQXJyYXkobGFzdFRocmVlWzFdLmNvbnRlbnQpICYmIGxhc3RUaHJlZVsxXS5jb250ZW50LnNvbWUoKGNvbnRlbnQpID0+IGNvbnRlbnQudHlwZSA9PT0gXCJ0b29sX3VzZVwiKSAmJiAoKF9jID0gbGFzdFRocmVlWzJdKSA9PSBudWxsID8gdm9pZCAwIDogX2Mucm9sZSkgPT09IFwidXNlclwiICYmIC8vIFRvb2wgcmVzdWx0XG4gICAgICBBcnJheS5pc0FycmF5KGxhc3RUaHJlZVsyXS5jb250ZW50KSAmJiBsYXN0VGhyZWVbMl0uY29udGVudC5zb21lKChjb250ZW50KSA9PiBjb250ZW50LnR5cGUgPT09IFwidG9vbF9yZXN1bHRcIik7XG4gICAgICByZXR1cm4gaGFzUmVjZW50VG9vbFBhdHRlcm47XG4gICAgfVxuICAgIHJldHVybiBlbmRzV2l0aFRvb2xSZXN1bHQ7XG4gIH1cbiAgYXN5bmMgcHJvY2VzcyhyZXF1ZXN0KSB7XG4gICAgY29uc3QgeyB0aHJlYWRJZCwgbW9kZWwgPSB0aGlzLm1vZGVsLCBtZXNzYWdlczogcmF3TWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlLCBmb3J3YXJkZWRQYXJhbWV0ZXJzIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IHRvb2xzID0gYWN0aW9ucy5tYXAoY29udmVydEFjdGlvbklucHV0VG9BbnRocm9waWNUb29sKTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IFtcbiAgICAgIC4uLnJhd01lc3NhZ2VzXG4gICAgXTtcbiAgICBjb25zdCBpbnN0cnVjdGlvbnNNZXNzYWdlID0gbWVzc2FnZXMuc2hpZnQoKTtcbiAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnNNZXNzYWdlLmlzVGV4dE1lc3NhZ2UoKSA/IGluc3RydWN0aW9uc01lc3NhZ2UuY29udGVudCA6IFwiXCI7XG4gICAgY29uc3QgdmFsaWRUb29sVXNlSWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgIGlmIChtZXNzYWdlLmlzQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSgpKSB7XG4gICAgICAgIHZhbGlkVG9vbFVzZUlkcy5hZGQobWVzc2FnZS5pZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHByb2Nlc3NlZFRvb2xSZXN1bHRJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGNvbnN0IGFudGhyb3BpY01lc3NhZ2VzID0gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgICAgICBpZiAoIXZhbGlkVG9vbFVzZUlkcy5oYXMobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvY2Vzc2VkVG9vbFJlc3VsdElkcy5oYXMobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzZWRUb29sUmVzdWx0SWRzLmFkZChtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwidG9vbF9yZXN1bHRcIixcbiAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZS5yZXN1bHQgfHwgXCJBY3Rpb24gY29tcGxldGVkIHN1Y2Nlc3NmdWxseVwiLFxuICAgICAgICAgICAgICB0b29sX3VzZV9pZDogbWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb252ZXJ0TWVzc2FnZVRvQW50aHJvcGljTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9KS5maWx0ZXIoQm9vbGVhbikuZmlsdGVyKChtc2cpID0+IHtcbiAgICAgIGlmIChtc2cucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiAmJiBBcnJheS5pc0FycmF5KG1zZy5jb250ZW50KSkge1xuICAgICAgICBjb25zdCBoYXNFbXB0eVRleHRPbmx5ID0gbXNnLmNvbnRlbnQubGVuZ3RoID09PSAxICYmIG1zZy5jb250ZW50WzBdLnR5cGUgPT09IFwidGV4dFwiICYmICghbXNnLmNvbnRlbnRbMF0udGV4dCB8fCBtc2cuY29udGVudFswXS50ZXh0LnRyaW0oKSA9PT0gXCJcIik7XG4gICAgICAgIHJldHVybiAhaGFzRW1wdHlUZXh0T25seTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIGNvbnN0IGxpbWl0ZWRNZXNzYWdlcyA9IGxpbWl0TWVzc2FnZXNUb1Rva2VuQ291bnQyKGFudGhyb3BpY01lc3NhZ2VzLCB0b29scywgbW9kZWwpO1xuICAgIGNvbnN0IGNhY2hlZFN5c3RlbVByb21wdCA9IHRoaXMuYWRkU3lzdGVtUHJvbXB0Q2FjaGluZyhpbnN0cnVjdGlvbnMsIHRoaXMucHJvbXB0Q2FjaGluZy5kZWJ1Zyk7XG4gICAgY29uc3QgY2FjaGVkTWVzc2FnZXMgPSB0aGlzLmFkZEluY3JlbWVudGFsTWVzc2FnZUNhY2hpbmcobGltaXRlZE1lc3NhZ2VzLCB0aGlzLnByb21wdENhY2hpbmcuZGVidWcpO1xuICAgIGxldCB0b29sQ2hvaWNlID0gZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy50b29sQ2hvaWNlO1xuICAgIGlmICgoZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy50b29sQ2hvaWNlKSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0b29sQ2hvaWNlID0ge1xuICAgICAgICB0eXBlOiBcInRvb2xcIixcbiAgICAgICAgbmFtZTogZm9yd2FyZGVkUGFyYW1ldGVycy50b29sQ2hvaWNlRnVuY3Rpb25OYW1lXG4gICAgICB9O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgY3JlYXRlUGFyYW1zID0ge1xuICAgICAgICBzeXN0ZW06IGNhY2hlZFN5c3RlbVByb21wdCxcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXG4gICAgICAgIG1lc3NhZ2VzOiBjYWNoZWRNZXNzYWdlcyxcbiAgICAgICAgbWF4X3Rva2VuczogKGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMubWF4VG9rZW5zKSB8fCAxMDI0LFxuICAgICAgICAuLi4oZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy50ZW1wZXJhdHVyZSkgPyB7XG4gICAgICAgICAgdGVtcGVyYXR1cmU6IGZvcndhcmRlZFBhcmFtZXRlcnMudGVtcGVyYXR1cmVcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICAuLi50b29scy5sZW5ndGggPiAwICYmIHtcbiAgICAgICAgICB0b29sc1xuICAgICAgICB9LFxuICAgICAgICAuLi50b29sQ2hvaWNlICYmIHtcbiAgICAgICAgICB0b29sX2Nob2ljZTogdG9vbENob2ljZVxuICAgICAgICB9LFxuICAgICAgICBzdHJlYW06IHRydWVcbiAgICAgIH07XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmFudGhyb3BpYy5tZXNzYWdlcy5jcmVhdGUoY3JlYXRlUGFyYW1zKTtcbiAgICAgIGV2ZW50U291cmNlLnN0cmVhbShhc3luYyAoZXZlbnRTdHJlYW0kKSA9PiB7XG4gICAgICAgIGxldCBtb2RlID0gbnVsbDtcbiAgICAgICAgbGV0IGRpZE91dHB1dFRleHQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGN1cnJlbnRNZXNzYWdlSWQgPSAoMCwgaW1wb3J0X3NoYXJlZDEwLnJhbmRvbUlkKSgpO1xuICAgICAgICBsZXQgY3VycmVudFRvb2xDYWxsSWQgPSAoMCwgaW1wb3J0X3NoYXJlZDEwLnJhbmRvbUlkKSgpO1xuICAgICAgICBsZXQgZmlsdGVyVGhpbmtpbmdUZXh0QnVmZmVyID0gbmV3IEZpbHRlclRoaW5raW5nVGV4dEJ1ZmZlcigpO1xuICAgICAgICBsZXQgaGFzUmVjZWl2ZWRDb250ZW50ID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIGlmIChjaHVuay50eXBlID09PSBcIm1lc3NhZ2Vfc3RhcnRcIikge1xuICAgICAgICAgICAgICBjdXJyZW50TWVzc2FnZUlkID0gY2h1bmsubWVzc2FnZS5pZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2h1bmsudHlwZSA9PT0gXCJjb250ZW50X2Jsb2NrX3N0YXJ0XCIpIHtcbiAgICAgICAgICAgICAgaGFzUmVjZWl2ZWRDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgaWYgKGNodW5rLmNvbnRlbnRfYmxvY2sudHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICBkaWRPdXRwdXRUZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZmlsdGVyVGhpbmtpbmdUZXh0QnVmZmVyLnJlc2V0KCk7XG4gICAgICAgICAgICAgICAgbW9kZSA9IFwibWVzc2FnZVwiO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNodW5rLmNvbnRlbnRfYmxvY2sudHlwZSA9PT0gXCJ0b29sX3VzZVwiKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFRvb2xDYWxsSWQgPSBjaHVuay5jb250ZW50X2Jsb2NrLmlkO1xuICAgICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kQWN0aW9uRXhlY3V0aW9uU3RhcnQoe1xuICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IGN1cnJlbnRUb29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uTmFtZTogY2h1bmsuY29udGVudF9ibG9jay5uYW1lLFxuICAgICAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbW9kZSA9IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaHVuay50eXBlID09PSBcImNvbnRlbnRfYmxvY2tfZGVsdGFcIikge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsuZGVsdGEudHlwZSA9PT0gXCJ0ZXh0X2RlbHRhXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gZmlsdGVyVGhpbmtpbmdUZXh0QnVmZmVyLm9uVGV4dENodW5rKGNodW5rLmRlbHRhLnRleHQpO1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGlmICghZGlkT3V0cHV0VGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlU3RhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgZGlkT3V0cHV0VGV4dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGV4dFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNodW5rLmRlbHRhLnR5cGUgPT09IFwiaW5wdXRfanNvbl9kZWx0YVwiKSB7XG4gICAgICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25BcmdzKHtcbiAgICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBjdXJyZW50VG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIGFyZ3M6IGNodW5rLmRlbHRhLnBhcnRpYWxfanNvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNodW5rLnR5cGUgPT09IFwiY29udGVudF9ibG9ja19zdG9wXCIpIHtcbiAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwibWVzc2FnZVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZE91dHB1dFRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvbkVuZCh7XG4gICAgICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogY3VycmVudFRvb2xDYWxsSWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBjb252ZXJ0U2VydmljZUFkYXB0ZXJFcnJvcihlcnJvciwgXCJBbnRocm9waWNcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNSZWNlaXZlZENvbnRlbnQgJiYgdGhpcy5zaG91bGRHZW5lcmF0ZUZhbGxiYWNrUmVzcG9uc2UoY2FjaGVkTWVzc2FnZXMpKSB7XG4gICAgICAgICAgbGV0IGZhbGxiYWNrQ29udGVudCA9IFwiVGFzayBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlwiO1xuICAgICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gY2FjaGVkTWVzc2FnZXNbY2FjaGVkTWVzc2FnZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKChsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2Uucm9sZSkgPT09IFwidXNlclwiICYmIEFycmF5LmlzQXJyYXkobGFzdE1lc3NhZ2UuY29udGVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xSZXN1bHQgPSBsYXN0TWVzc2FnZS5jb250ZW50LmZpbmQoKGMpID0+IGMudHlwZSA9PT0gXCJ0b29sX3Jlc3VsdFwiKTtcbiAgICAgICAgICAgIGlmICgodG9vbFJlc3VsdCA9PSBudWxsID8gdm9pZCAwIDogdG9vbFJlc3VsdC5jb250ZW50KSAmJiB0b29sUmVzdWx0LmNvbnRlbnQgIT09IFwiQWN0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHlcIikge1xuICAgICAgICAgICAgICBmYWxsYmFja0NvbnRlbnQgPSB0b29sUmVzdWx0LmNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRNZXNzYWdlSWQgPSAoMCwgaW1wb3J0X3NoYXJlZDEwLnJhbmRvbUlkKSgpO1xuICAgICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VTdGFydCh7XG4gICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudCh7XG4gICAgICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICBjb250ZW50OiBmYWxsYmFja0NvbnRlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlRW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogY3VycmVudE1lc3NhZ2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGNvbnZlcnRTZXJ2aWNlQWRhcHRlckVycm9yKGVycm9yLCBcIkFudGhyb3BpY1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZElkOiB0aHJlYWRJZCB8fCAoMCwgaW1wb3J0X3NoYXJlZDEwLnJhbmRvbVVVSUQpKClcbiAgICB9O1xuICB9XG59O1xuX19uYW1lKEFudGhyb3BpY0FkYXB0ZXIsIFwiQW50aHJvcGljQWRhcHRlclwiKTtcbnZhciBUSElOS0lOR19UQUcgPSBcIjx0aGlua2luZz5cIjtcbnZhciBUSElOS0lOR19UQUdfRU5EID0gXCI8L3RoaW5raW5nPlwiO1xudmFyIEZpbHRlclRoaW5raW5nVGV4dEJ1ZmZlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoY2xhc3MgRmlsdGVyVGhpbmtpbmdUZXh0QnVmZmVyMiB7XG4gIGJ1ZmZlcjtcbiAgZGlkRmlsdGVyVGhpbmtpbmdUYWcgPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5idWZmZXIgPSBcIlwiO1xuICB9XG4gIG9uVGV4dENodW5rKHRleHQpIHtcbiAgICB0aGlzLmJ1ZmZlciArPSB0ZXh0O1xuICAgIGlmICh0aGlzLmRpZEZpbHRlclRoaW5raW5nVGFnKSB7XG4gICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG4gICAgY29uc3QgcG90ZW50aWFsVGFnID0gdGhpcy5idWZmZXIuc2xpY2UoMCwgVEhJTktJTkdfVEFHLmxlbmd0aCk7XG4gICAgaWYgKFRISU5LSU5HX1RBRy5zdGFydHNXaXRoKHBvdGVudGlhbFRhZykpIHtcbiAgICAgIGlmICh0aGlzLmJ1ZmZlci5pbmNsdWRlcyhUSElOS0lOR19UQUdfRU5EKSkge1xuICAgICAgICBjb25zdCBlbmQgPSB0aGlzLmJ1ZmZlci5pbmRleE9mKFRISU5LSU5HX1RBR19FTkQpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFRleHQgPSB0aGlzLmJ1ZmZlci5zbGljZShlbmQgKyBUSElOS0lOR19UQUdfRU5ELmxlbmd0aCk7XG4gICAgICAgIHRoaXMuYnVmZmVyID0gZmlsdGVyZWRUZXh0O1xuICAgICAgICB0aGlzLmRpZEZpbHRlclRoaW5raW5nVGFnID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkVGV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICByZXNldCgpIHtcbiAgICB0aGlzLmJ1ZmZlciA9IFwiXCI7XG4gICAgdGhpcy5kaWRGaWx0ZXJUaGlua2luZ1RhZyA9IGZhbHNlO1xuICB9XG59LCBcIkZpbHRlclRoaW5raW5nVGV4dEJ1ZmZlclwiKTtcblxuLy8gc3JjL3NlcnZpY2UtYWRhcHRlcnMvZXhwZXJpbWVudGFsL29sbGFtYS9vbGxhbWEtYWRhcHRlci50c1xudmFyIGltcG9ydF9vbGxhbWEgPSByZXF1aXJlKFwiQGxhbmdjaGFpbi9jb21tdW5pdHkvbGxtcy9vbGxhbWFcIik7XG52YXIgaW1wb3J0X3NoYXJlZDEyID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBERUZBVUxUX01PREVMNCA9IFwibGxhbWEzOmxhdGVzdFwiO1xudmFyIEV4cGVyaW1lbnRhbE9sbGFtYUFkYXB0ZXIgPSBjbGFzcyB7XG4gIG1vZGVsO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubW9kZWwpIHtcbiAgICAgIHRoaXMubW9kZWwgPSBvcHRpb25zLm1vZGVsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm1vZGVsID0gREVGQVVMVF9NT0RFTDQ7XG4gICAgfVxuICB9XG4gIGFzeW5jIHByb2Nlc3MocmVxdWVzdCkge1xuICAgIGNvbnN0IHsgbWVzc2FnZXMsIGFjdGlvbnMsIGV2ZW50U291cmNlIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IG9sbGFtYSA9IG5ldyBpbXBvcnRfb2xsYW1hLk9sbGFtYSh7XG4gICAgICBtb2RlbDogdGhpcy5tb2RlbFxuICAgIH0pO1xuICAgIGNvbnN0IGNvbnRlbnRzID0gbWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLmlzVGV4dE1lc3NhZ2UoKSkubWFwKChtKSA9PiBtLmNvbnRlbnQpO1xuICAgIGNvbnN0IF9zdHJlYW0gPSBhd2FpdCBvbGxhbWEuc3RyZWFtKGNvbnRlbnRzKTtcbiAgICBldmVudFNvdXJjZS5zdHJlYW0oYXN5bmMgKGV2ZW50U3RyZWFtJCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudE1lc3NhZ2VJZCA9ICgwLCBpbXBvcnRfc2hhcmVkMTIucmFuZG9tSWQpKCk7XG4gICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlU3RhcnQoe1xuICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgIH0pO1xuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVua1RleHQgb2YgX3N0cmVhbSkge1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZFRleHRNZXNzYWdlQ29udGVudCh7XG4gICAgICAgICAgbWVzc2FnZUlkOiBjdXJyZW50TWVzc2FnZUlkLFxuICAgICAgICAgIGNvbnRlbnQ6IGNodW5rVGV4dFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2VFbmQoe1xuICAgICAgICBtZXNzYWdlSWQ6IGN1cnJlbnRNZXNzYWdlSWRcbiAgICAgIH0pO1xuICAgICAgZXZlbnRTdHJlYW0kLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRocmVhZElkOiByZXF1ZXN0LnRocmVhZElkIHx8ICgwLCBpbXBvcnRfc2hhcmVkMTIucmFuZG9tVVVJRCkoKVxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoRXhwZXJpbWVudGFsT2xsYW1hQWRhcHRlciwgXCJFeHBlcmltZW50YWxPbGxhbWFBZGFwdGVyXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9iZWRyb2NrL2JlZHJvY2stYWRhcHRlci50c1xudmFyIGltcG9ydF9hd3MgPSByZXF1aXJlKFwiQGxhbmdjaGFpbi9hd3NcIik7XG52YXIgQmVkcm9ja0FkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIExhbmdDaGFpbkFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIoe1xuICAgICAgY2hhaW5GbjogYXN5bmMgKHsgbWVzc2FnZXMsIHRvb2xzLCB0aHJlYWRJZCB9KSA9PiB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gbmV3IGltcG9ydF9hd3MuQ2hhdEJlZHJvY2tDb252ZXJzZSh7XG4gICAgICAgICAgbW9kZWw6IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm1vZGVsKSA/PyBcImFtYXpvbi5ub3ZhLWxpdGUtdjE6MFwiLFxuICAgICAgICAgIHJlZ2lvbjogKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucmVnaW9uKSA/PyBcInVzLWVhc3QtMVwiLFxuICAgICAgICAgIGNyZWRlbnRpYWxzOiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5jcmVkZW50aWFscykgPyB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogb3B0aW9ucy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgIHNlY3JldEFjY2Vzc0tleTogb3B0aW9ucy5jcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXlcbiAgICAgICAgICB9IDogdm9pZCAwXG4gICAgICAgIH0pLmJpbmRUb29scyh0b29scyk7XG4gICAgICAgIHJldHVybiBtb2RlbC5zdHJlYW0obWVzc2FnZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuX19uYW1lKEJlZHJvY2tBZGFwdGVyLCBcIkJlZHJvY2tBZGFwdGVyXCIpO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9lbXB0eS9lbXB0eS1hZGFwdGVyLnRzXG52YXIgaW1wb3J0X3NoYXJlZDEzID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBFbXB0eUFkYXB0ZXIgPSBjbGFzcyB7XG4gIGFzeW5jIHByb2Nlc3MocmVxdWVzdCkge1xuICAgIHJldHVybiB7XG4gICAgICB0aHJlYWRJZDogcmVxdWVzdC50aHJlYWRJZCB8fCAoMCwgaW1wb3J0X3NoYXJlZDEzLnJhbmRvbVVVSUQpKClcbiAgICB9O1xuICB9XG59O1xuX19uYW1lKEVtcHR5QWRhcHRlciwgXCJFbXB0eUFkYXB0ZXJcIik7XG52YXIgRXhwZXJpbWVudGFsRW1wdHlBZGFwdGVyID0gRW1wdHlBZGFwdGVyO1xuXG4vLyBzcmMvc2VydmljZS1hZGFwdGVycy9jb252ZXJzaW9uLnRzXG52YXIgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyID0gcmVxdWlyZShcImNsYXNzLXRyYW5zZm9ybWVyXCIpO1xudmFyIGltcG9ydF9zaGFyZWQxNCA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5mdW5jdGlvbiBjb252ZXJ0R3FsSW5wdXRUb01lc3NhZ2VzKGlucHV0TWVzc2FnZXMpIHtcbiAgY29uc3QgbWVzc2FnZXMgPSAoMCwgaW1wb3J0X3NoYXJlZDE0LnRyeU1hcCkoaW5wdXRNZXNzYWdlcywgKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS50ZXh0TWVzc2FnZSkge1xuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIucGxhaW5Ub0luc3RhbmNlKShUZXh0TWVzc2FnZSwge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS50ZXh0TWVzc2FnZS5yb2xlLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLnRleHRNZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS50ZXh0TWVzc2FnZS5wYXJlbnRNZXNzYWdlSWRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pbWFnZU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyLnBsYWluVG9JbnN0YW5jZSkoSW1hZ2VNZXNzYWdlLCB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICByb2xlOiBtZXNzYWdlLmltYWdlTWVzc2FnZS5yb2xlLFxuICAgICAgICBieXRlczogbWVzc2FnZS5pbWFnZU1lc3NhZ2UuYnl0ZXMsXG4gICAgICAgIGZvcm1hdDogbWVzc2FnZS5pbWFnZU1lc3NhZ2UuZm9ybWF0LFxuICAgICAgICBwYXJlbnRNZXNzYWdlSWQ6IG1lc3NhZ2UuaW1hZ2VNZXNzYWdlLnBhcmVudE1lc3NhZ2VJZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyLnBsYWluVG9JbnN0YW5jZSkoQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSwge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgbmFtZTogbWVzc2FnZS5hY3Rpb25FeGVjdXRpb25NZXNzYWdlLm5hbWUsXG4gICAgICAgIGFyZ3VtZW50czogSlNPTi5wYXJzZShtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UuYXJndW1lbnRzKSxcbiAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UucGFyZW50TWVzc2FnZUlkXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UucmVzdWx0TWVzc2FnZSkge1xuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIucGxhaW5Ub0luc3RhbmNlKShSZXN1bHRNZXNzYWdlLCB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogbWVzc2FnZS5yZXN1bHRNZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICBhY3Rpb25OYW1lOiBtZXNzYWdlLnJlc3VsdE1lc3NhZ2UuYWN0aW9uTmFtZSxcbiAgICAgICAgcmVzdWx0OiBtZXNzYWdlLnJlc3VsdE1lc3NhZ2UucmVzdWx0XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyLnBsYWluVG9JbnN0YW5jZSkoQWdlbnRTdGF0ZU1lc3NhZ2UsIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHRocmVhZElkOiBtZXNzYWdlLmFnZW50U3RhdGVNZXNzYWdlLnRocmVhZElkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICBhZ2VudE5hbWU6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UuYWdlbnROYW1lLFxuICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgcnVuSWQ6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UucnVuSWQsXG4gICAgICAgIGFjdGl2ZTogbWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZS5hY3RpdmUsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2Uucm9sZSxcbiAgICAgICAgc3RhdGU6IEpTT04ucGFyc2UobWVzc2FnZS5hZ2VudFN0YXRlTWVzc2FnZS5zdGF0ZSksXG4gICAgICAgIHJ1bm5pbmc6IG1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UucnVubmluZ1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBtZXNzYWdlcy5maWx0ZXIoKG0pID0+IG0pO1xufVxuX19uYW1lKGNvbnZlcnRHcWxJbnB1dFRvTWVzc2FnZXMsIFwiY29udmVydEdxbElucHV0VG9NZXNzYWdlc1wiKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL2NvcGlsb3QtcnVudGltZS50c1xudmFyIGltcG9ydF9yeGpzID0gcmVxdWlyZShcInJ4anNcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9yZXRyeS11dGlscy50c1xudmFyIFJFVFJZX0NPTkZJRyA9IHtcbiAgbWF4UmV0cmllczogMyxcbiAgYmFzZURlbGF5TXM6IDFlMyxcbiAgbWF4RGVsYXlNczogNWUzLFxuICAvLyBIVFRQIHN0YXR1cyBjb2RlcyB0aGF0IHNob3VsZCBiZSByZXRyaWVkXG4gIHJldHJ5YWJsZVN0YXR1c0NvZGVzOiBbXG4gICAgNTAyLFxuICAgIDUwMyxcbiAgICA1MDQsXG4gICAgNDA4LFxuICAgIDQyOVxuICBdLFxuICAvLyBOZXR3b3JrIGVycm9yIHBhdHRlcm5zIHRoYXQgc2hvdWxkIGJlIHJldHJpZWRcbiAgcmV0cnlhYmxlRXJyb3JNZXNzYWdlczogW1xuICAgIFwiZmV0Y2ggZmFpbGVkXCIsXG4gICAgXCJuZXR3b3JrIGVycm9yXCIsXG4gICAgXCJjb25uZWN0aW9uIHRpbWVvdXRcIixcbiAgICBcIkVDT05OUkVGVVNFRFwiLFxuICAgIFwiRVRJTUVET1VUXCIsXG4gICAgXCJFTk9URk9VTkRcIixcbiAgICBcIkVDT05OUkVTRVRcIlxuICBdXG59O1xuZnVuY3Rpb24gaXNSZXRyeWFibGVFcnJvcihlcnJvciwgcmVzcG9uc2UpIHtcbiAgdmFyIF9hLCBfYjtcbiAgaWYgKHJlc3BvbnNlICYmIFJFVFJZX0NPTkZJRy5yZXRyeWFibGVTdGF0dXNDb2Rlcy5pbmNsdWRlcyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgZXJyb3JDb2RlID0gKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jYXVzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvZGUpIHx8IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IuY29kZSk7XG4gIGlmIChlcnJvckNvZGUgJiYgUkVUUllfQ09ORklHLnJldHJ5YWJsZUVycm9yTWVzc2FnZXMuaW5jbHVkZXMoZXJyb3JDb2RlKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9ICgoX2IgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRvTG93ZXJDYXNlKCkpIHx8IFwiXCI7XG4gIHJldHVybiBSRVRSWV9DT05GSUcucmV0cnlhYmxlRXJyb3JNZXNzYWdlcy5zb21lKChtc2cpID0+IGVycm9yTWVzc2FnZS5pbmNsdWRlcyhtc2cpKTtcbn1cbl9fbmFtZShpc1JldHJ5YWJsZUVycm9yLCBcImlzUmV0cnlhYmxlRXJyb3JcIik7XG5mdW5jdGlvbiBzbGVlcChtcykge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cbl9fbmFtZShzbGVlcCwgXCJzbGVlcFwiKTtcbmZ1bmN0aW9uIGNhbGN1bGF0ZURlbGF5KGF0dGVtcHQpIHtcbiAgY29uc3QgZGVsYXkgPSBSRVRSWV9DT05GSUcuYmFzZURlbGF5TXMgKiBNYXRoLnBvdygyLCBhdHRlbXB0KTtcbiAgcmV0dXJuIE1hdGgubWluKGRlbGF5LCBSRVRSWV9DT05GSUcubWF4RGVsYXlNcyk7XG59XG5fX25hbWUoY2FsY3VsYXRlRGVsYXksIFwiY2FsY3VsYXRlRGVsYXlcIik7XG5hc3luYyBmdW5jdGlvbiBmZXRjaFdpdGhSZXRyeSh1cmwsIG9wdGlvbnMsIGxvZ2dlcjIpIHtcbiAgbGV0IGxhc3RFcnJvcjtcbiAgZm9yIChsZXQgYXR0ZW1wdCA9IDA7IGF0dGVtcHQgPD0gUkVUUllfQ09ORklHLm1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwgb3B0aW9ucyk7XG4gICAgICBpZiAoaXNSZXRyeWFibGVFcnJvcihudWxsLCByZXNwb25zZSkgJiYgYXR0ZW1wdCA8IFJFVFJZX0NPTkZJRy5tYXhSZXRyaWVzKSB7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gY2FsY3VsYXRlRGVsYXkoYXR0ZW1wdCk7XG4gICAgICAgIGxvZ2dlcjIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlcjIud2FybihgUmVxdWVzdCB0byAke3VybH0gZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfS4gUmV0cnlpbmcgYXR0ZW1wdCAke2F0dGVtcHQgKyAxfS8ke1JFVFJZX0NPTkZJRy5tYXhSZXRyaWVzICsgMX0gaW4gJHtkZWxheX1tcy5gKTtcbiAgICAgICAgYXdhaXQgc2xlZXAoZGVsYXkpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbGFzdEVycm9yID0gZXJyb3I7XG4gICAgICBpZiAoaXNSZXRyeWFibGVFcnJvcihlcnJvcikgJiYgYXR0ZW1wdCA8IFJFVFJZX0NPTkZJRy5tYXhSZXRyaWVzKSB7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gY2FsY3VsYXRlRGVsYXkoYXR0ZW1wdCk7XG4gICAgICAgIGxvZ2dlcjIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlcjIud2FybihgUmVxdWVzdCB0byAke3VybH0gZmFpbGVkIHdpdGggbmV0d29yayBlcnJvci4gUmV0cnlpbmcgYXR0ZW1wdCAke2F0dGVtcHQgKyAxfS8ke1JFVFJZX0NPTkZJRy5tYXhSZXRyaWVzICsgMX0gaW4gJHtkZWxheX1tcy4gRXJyb3I6ICR7KGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSB8fCBTdHJpbmcoZXJyb3IpfWApO1xuICAgICAgICBhd2FpdCBzbGVlcChkZWxheSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHRocm93IGxhc3RFcnJvcjtcbn1cbl9fbmFtZShmZXRjaFdpdGhSZXRyeSwgXCJmZXRjaFdpdGhSZXRyeVwiKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL2NvcGlsb3QtcnVudGltZS50c1xudmFyIGltcG9ydF9sYW5nZ3JhcGhfc2RrMiA9IHJlcXVpcmUoXCJAbGFuZ2NoYWluL2xhbmdncmFwaC1zZGtcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9yZW1vdGUtbGctYWN0aW9uLnRzXG52YXIgaW1wb3J0X2xhbmdncmFwaF9zZGsgPSByZXF1aXJlKFwiQGxhbmdjaGFpbi9sYW5nZ3JhcGgtc2RrXCIpO1xudmFyIGltcG9ydF9ub2RlX2NyeXB0byA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG52YXIgaW1wb3J0X3NoYXJlZDE2ID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBpbXBvcnRfcGFydGlhbF9qc29uID0gcmVxdWlyZShcInBhcnRpYWwtanNvblwiKTtcblxuLy8gc3JjL2FnZW50cy9sYW5nZ3JhcGgvZXZlbnRzLnRzXG52YXIgTGFuZ0dyYXBoRXZlbnRUeXBlcztcbihmdW5jdGlvbihMYW5nR3JhcGhFdmVudFR5cGVzMikge1xuICBMYW5nR3JhcGhFdmVudFR5cGVzMltcIk9uQ2hhaW5TdGFydFwiXSA9IFwib25fY2hhaW5fc3RhcnRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNoYWluU3RyZWFtXCJdID0gXCJvbl9jaGFpbl9zdHJlYW1cIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNoYWluRW5kXCJdID0gXCJvbl9jaGFpbl9lbmRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNoYXRNb2RlbFN0YXJ0XCJdID0gXCJvbl9jaGF0X21vZGVsX3N0YXJ0XCI7XG4gIExhbmdHcmFwaEV2ZW50VHlwZXMyW1wiT25DaGF0TW9kZWxTdHJlYW1cIl0gPSBcIm9uX2NoYXRfbW9kZWxfc3RyZWFtXCI7XG4gIExhbmdHcmFwaEV2ZW50VHlwZXMyW1wiT25DaGF0TW9kZWxFbmRcIl0gPSBcIm9uX2NoYXRfbW9kZWxfZW5kXCI7XG4gIExhbmdHcmFwaEV2ZW50VHlwZXMyW1wiT25Ub29sU3RhcnRcIl0gPSBcIm9uX3Rvb2xfc3RhcnRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPblRvb2xFbmRcIl0gPSBcIm9uX3Rvb2xfZW5kXCI7XG4gIExhbmdHcmFwaEV2ZW50VHlwZXMyW1wiT25Db3BpbG90S2l0U3RhdGVTeW5jXCJdID0gXCJvbl9jb3BpbG90a2l0X3N0YXRlX3N5bmNcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNvcGlsb3RLaXRFbWl0TWVzc2FnZVwiXSA9IFwib25fY29waWxvdGtpdF9lbWl0X21lc3NhZ2VcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkNvcGlsb3RLaXRFbWl0VG9vbENhbGxcIl0gPSBcIm9uX2NvcGlsb3RraXRfZW1pdF90b29sX2NhbGxcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkN1c3RvbUV2ZW50XCJdID0gXCJvbl9jdXN0b21fZXZlbnRcIjtcbiAgTGFuZ0dyYXBoRXZlbnRUeXBlczJbXCJPbkludGVycnVwdFwiXSA9IFwib25faW50ZXJydXB0XCI7XG4gIExhbmdHcmFwaEV2ZW50VHlwZXMyW1wiT25Db3BpbG90S2l0SW50ZXJydXB0XCJdID0gXCJvbl9jb3BpbG90a2l0X2ludGVycnVwdFwiO1xuICBMYW5nR3JhcGhFdmVudFR5cGVzMltcIk9uQ29waWxvdEtpdEVycm9yXCJdID0gXCJvbl9jb3BpbG90a2l0X2Vycm9yXCI7XG59KShMYW5nR3JhcGhFdmVudFR5cGVzIHx8IChMYW5nR3JhcGhFdmVudFR5cGVzID0ge30pKTtcbnZhciBNZXRhRXZlbnROYW1lcztcbihmdW5jdGlvbihNZXRhRXZlbnROYW1lczIpIHtcbiAgTWV0YUV2ZW50TmFtZXMyW1wiTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIl0gPSBcIkxhbmdHcmFwaEludGVycnVwdEV2ZW50XCI7XG4gIE1ldGFFdmVudE5hbWVzMltcIkNvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiXSA9IFwiQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50XCI7XG59KShNZXRhRXZlbnROYW1lcyB8fCAoTWV0YUV2ZW50TmFtZXMgPSB7fSkpO1xudmFyIEN1c3RvbUV2ZW50TmFtZXM7XG4oZnVuY3Rpb24oQ3VzdG9tRXZlbnROYW1lczMpIHtcbiAgQ3VzdG9tRXZlbnROYW1lczNbXCJDb3BpbG90S2l0TWFudWFsbHlFbWl0TWVzc2FnZVwiXSA9IFwiY29waWxvdGtpdF9tYW51YWxseV9lbWl0X21lc3NhZ2VcIjtcbiAgQ3VzdG9tRXZlbnROYW1lczNbXCJDb3BpbG90S2l0TWFudWFsbHlFbWl0VG9vbENhbGxcIl0gPSBcImNvcGlsb3RraXRfbWFudWFsbHlfZW1pdF90b29sX2NhbGxcIjtcbiAgQ3VzdG9tRXZlbnROYW1lczNbXCJDb3BpbG90S2l0TWFudWFsbHlFbWl0SW50ZXJtZWRpYXRlU3RhdGVcIl0gPSBcImNvcGlsb3RraXRfbWFudWFsbHlfZW1pdF9pbnRlcm1lZGlhdGVfc3RhdGVcIjtcbiAgQ3VzdG9tRXZlbnROYW1lczNbXCJDb3BpbG90S2l0RXhpdFwiXSA9IFwiY29waWxvdGtpdF9leGl0XCI7XG59KShDdXN0b21FdmVudE5hbWVzIHx8IChDdXN0b21FdmVudE5hbWVzID0ge30pKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL3JlbW90ZS1sZy1hY3Rpb24udHNcbnZhciBpbXBvcnRfc2hhcmVkMTcgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIGltcG9ydF9tZXNzYWdlczMgPSByZXF1aXJlKFwiQGxhbmdjaGFpbi9jb3JlL21lc3NhZ2VzXCIpO1xuXG4vLyBzcmMvbGliL3N0cmVhbWluZy50c1xudmFyIGltcG9ydF9zaGFyZWQxNSA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5cbi8vIHNyYy9saWIvZXJyb3ItbWVzc2FnZXMudHNcbnZhciBlcnJvckNvbmZpZyA9IHtcbiAgZXJyb3JQYXR0ZXJuczoge1xuICAgIEVDT05OUkVGVVNFRDoge1xuICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIHJlZnVzZWQgLSB0aGUgYWdlbnQgc2VydmljZSBpcyBub3QgcnVubmluZyBvciBub3QgYWNjZXNzaWJsZSBhdCB0aGUgc3BlY2lmaWVkIGFkZHJlc3MuIFBsZWFzZSBjaGVjayB0aGF0IHlvdXIgYWdlbnQgaXMgc3RhcnRlZCBhbmQgbGlzdGVuaW5nIG9uIHRoZSBjb3JyZWN0IHBvcnQuXCIsXG4gICAgICBjYXRlZ29yeTogXCJuZXR3b3JrXCIsXG4gICAgICBzZXZlcml0eTogXCJlcnJvclwiLFxuICAgICAgYWN0aW9uYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgRU5PVEZPVU5EOiB7XG4gICAgICBtZXNzYWdlOiBcIkhvc3Qgbm90IGZvdW5kIC0gdGhlIGFnZW50IHNlcnZpY2UgVVJMIGFwcGVhcnMgdG8gYmUgaW5jb3JyZWN0IG9yIHRoZSBzZXJ2aWNlIGlzIG5vdCBhY2Nlc3NpYmxlLiBQbGVhc2UgdmVyaWZ5IHRoZSBhZ2VudCBlbmRwb2ludCBVUkwuXCIsXG4gICAgICBjYXRlZ29yeTogXCJuZXR3b3JrXCIsXG4gICAgICBzZXZlcml0eTogXCJlcnJvclwiLFxuICAgICAgYWN0aW9uYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgRVRJTUVET1VUOiB7XG4gICAgICBtZXNzYWdlOiBcIkNvbm5lY3Rpb24gdGltZW91dCAtIHRoZSBhZ2VudCBzZXJ2aWNlIGlzIHRha2luZyB0b28gbG9uZyB0byByZXNwb25kLiBUaGlzIGNvdWxkIGluZGljYXRlIG5ldHdvcmsgaXNzdWVzIG9yIGFuIG92ZXJsb2FkZWQgYWdlbnQgc2VydmljZS5cIixcbiAgICAgIGNhdGVnb3J5OiBcIm5ldHdvcmtcIixcbiAgICAgIHNldmVyaXR5OiBcIndhcm5pbmdcIixcbiAgICAgIGFjdGlvbmFibGU6IHRydWVcbiAgICB9LFxuICAgIHRlcm1pbmF0ZWQ6IHtcbiAgICAgIG1lc3NhZ2U6IFwiQWdlbnQge2NvbnRleHR9IHdhcyB1bmV4cGVjdGVkbHkgdGVybWluYXRlZC4gVGhpcyBvZnRlbiBpbmRpY2F0ZXMgYW4gZXJyb3IgaW4gdGhlIGFnZW50IHNlcnZpY2UgKGUuZy4sIGF1dGhlbnRpY2F0aW9uIGZhaWx1cmVzLCBtaXNzaW5nIGVudmlyb25tZW50IHZhcmlhYmxlcywgb3IgYWdlbnQgY3Jhc2hlcykuIENoZWNrIHRoZSBhZ2VudCBsb2dzIGZvciB0aGUgcm9vdCBjYXVzZS5cIixcbiAgICAgIGNhdGVnb3J5OiBcImNvbm5lY3Rpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfSxcbiAgICBVTkRfRVJSX1NPQ0tFVDoge1xuICAgICAgbWVzc2FnZTogXCJTb2NrZXQgY29ubmVjdGlvbiB3YXMgY2xvc2VkIHVuZXhwZWN0ZWRseS4gVGhpcyB0eXBpY2FsbHkgaW5kaWNhdGVzIHRoZSBhZ2VudCBzZXJ2aWNlIGVuY291bnRlcmVkIGFuIGVycm9yIGFuZCBzaHV0IGRvd24gdGhlIGNvbm5lY3Rpb24uIENoZWNrIHRoZSBhZ2VudCBsb2dzIGZvciB0aGUgdW5kZXJseWluZyBjYXVzZS5cIixcbiAgICAgIGNhdGVnb3J5OiBcImNvbm5lY3Rpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfSxcbiAgICBvdGhlcl9zaWRlX2Nsb3NlZDoge1xuICAgICAgbWVzc2FnZTogXCJUaGUgYWdlbnQgc2VydmljZSBjbG9zZWQgdGhlIGNvbm5lY3Rpb24gdW5leHBlY3RlZGx5LiBUaGlzIHVzdWFsbHkgaW5kaWNhdGVzIGFuIGVycm9yIGluIHRoZSBhZ2VudCBzZXJ2aWNlLiBDaGVjayB0aGUgYWdlbnQgbG9ncyBmb3IgbW9yZSBkZXRhaWxzLlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiY29ubmVjdGlvblwiLFxuICAgICAgc2V2ZXJpdHk6IFwiZXJyb3JcIixcbiAgICAgIGFjdGlvbmFibGU6IHRydWVcbiAgICB9LFxuICAgIGZldGNoX2ZhaWxlZDoge1xuICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gY29ubmVjdCB0byB0aGUgYWdlbnQgc2VydmljZS4gUGxlYXNlIHZlcmlmeSB0aGUgYWdlbnQgaXMgcnVubmluZyBhbmQgdGhlIGVuZHBvaW50IFVSTCBpcyBjb3JyZWN0LlwiLFxuICAgICAgY2F0ZWdvcnk6IFwibmV0d29ya1wiLFxuICAgICAgc2V2ZXJpdHk6IFwiZXJyb3JcIixcbiAgICAgIGFjdGlvbmFibGU6IHRydWVcbiAgICB9LFxuICAgIC8vIEF1dGhlbnRpY2F0aW9uIHBhdHRlcm5zXG4gICAgXCI0MDFcIjoge1xuICAgICAgbWVzc2FnZTogXCJBdXRoZW50aWNhdGlvbiBmYWlsZWQuIFBsZWFzZSBjaGVjayB5b3VyIEFQSSBrZXlzIGFuZCBlbnN1cmUgdGhleSBhcmUgY29ycmVjdGx5IGNvbmZpZ3VyZWQuXCIsXG4gICAgICBjYXRlZ29yeTogXCJhdXRoZW50aWNhdGlvblwiLFxuICAgICAgc2V2ZXJpdHk6IFwiZXJyb3JcIixcbiAgICAgIGFjdGlvbmFibGU6IHRydWVcbiAgICB9LFxuICAgIFwiYXBpIGtleVwiOiB7XG4gICAgICBtZXNzYWdlOiBcIkFQSSBrZXkgZXJyb3IgZGV0ZWN0ZWQuIFBsZWFzZSB2ZXJpZnkgeW91ciBBUEkga2V5IGlzIGNvcnJlY3QgYW5kIGhhcyB0aGUgbmVjZXNzYXJ5IHBlcm1pc3Npb25zLlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiYXV0aGVudGljYXRpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfSxcbiAgICB1bmF1dGhvcml6ZWQ6IHtcbiAgICAgIG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkIGFjY2Vzcy4gUGxlYXNlIGNoZWNrIHlvdXIgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMuXCIsXG4gICAgICBjYXRlZ29yeTogXCJhdXRoZW50aWNhdGlvblwiLFxuICAgICAgc2V2ZXJpdHk6IFwiZXJyb3JcIixcbiAgICAgIGFjdGlvbmFibGU6IHRydWVcbiAgICB9LFxuICAgIC8vIFB5dGhvbi1zcGVjaWZpYyBlcnJvciBwYXR0ZXJuc1xuICAgIEF1dGhlbnRpY2F0aW9uRXJyb3I6IHtcbiAgICAgIG1lc3NhZ2U6IFwiT3BlbkFJIGF1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIGNoZWNrIHlvdXIgT1BFTkFJX0FQSV9LRVkgZW52aXJvbm1lbnQgdmFyaWFibGUgb3IgQVBJIGtleSBjb25maWd1cmF0aW9uLlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiYXV0aGVudGljYXRpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfSxcbiAgICBcIkluY29ycmVjdCBBUEkga2V5IHByb3ZpZGVkXCI6IHtcbiAgICAgIG1lc3NhZ2U6IFwiT3BlbkFJIEFQSSBrZXkgaXMgaW52YWxpZC4gUGxlYXNlIHZlcmlmeSB5b3VyIE9QRU5BSV9BUElfS0VZIGlzIGNvcnJlY3QgYW5kIGFjdGl2ZS5cIixcbiAgICAgIGNhdGVnb3J5OiBcImF1dGhlbnRpY2F0aW9uXCIsXG4gICAgICBzZXZlcml0eTogXCJlcnJvclwiLFxuICAgICAgYWN0aW9uYWJsZTogdHJ1ZVxuICAgIH0sXG4gICAgUmF0ZUxpbWl0RXJyb3I6IHtcbiAgICAgIG1lc3NhZ2U6IFwiT3BlbkFJIHJhdGUgbGltaXQgZXhjZWVkZWQuIFBsZWFzZSB3YWl0IGEgbW9tZW50IGFuZCB0cnkgYWdhaW4sIG9yIGNoZWNrIHlvdXIgT3BlbkFJIHVzYWdlIGxpbWl0cy5cIixcbiAgICAgIGNhdGVnb3J5OiBcIm5ldHdvcmtcIixcbiAgICAgIHNldmVyaXR5OiBcIndhcm5pbmdcIixcbiAgICAgIGFjdGlvbmFibGU6IHRydWVcbiAgICB9LFxuICAgIEludmFsaWRSZXF1ZXN0RXJyb3I6IHtcbiAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCByZXF1ZXN0IHRvIE9wZW5BSSBBUEkuIFBsZWFzZSBjaGVjayB5b3VyIHJlcXVlc3QgcGFyYW1ldGVycyBhbmQgbW9kZWwgY29uZmlndXJhdGlvbi5cIixcbiAgICAgIGNhdGVnb3J5OiBcInZhbGlkYXRpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfSxcbiAgICBQZXJtaXNzaW9uRGVuaWVkRXJyb3I6IHtcbiAgICAgIG1lc3NhZ2U6IFwiUGVybWlzc2lvbiBkZW5pZWQgZm9yIE9wZW5BSSBBUEkuIFBsZWFzZSBjaGVjayB5b3VyIEFQSSBrZXkgcGVybWlzc2lvbnMgYW5kIGJpbGxpbmcgc3RhdHVzLlwiLFxuICAgICAgY2F0ZWdvcnk6IFwiYXV0aGVudGljYXRpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfSxcbiAgICBOb3RGb3VuZEVycm9yOiB7XG4gICAgICBtZXNzYWdlOiBcIk9wZW5BSSByZXNvdXJjZSBub3QgZm91bmQuIFBsZWFzZSBjaGVjayB5b3VyIG1vZGVsIG5hbWUgYW5kIGF2YWlsYWJpbGl0eS5cIixcbiAgICAgIGNhdGVnb3J5OiBcInZhbGlkYXRpb25cIixcbiAgICAgIHNldmVyaXR5OiBcImVycm9yXCIsXG4gICAgICBhY3Rpb25hYmxlOiB0cnVlXG4gICAgfVxuICB9LFxuICBmYWxsYmFja3M6IHtcbiAgICBuZXR3b3JrOiBcIkEgbmV0d29yayBlcnJvciBvY2N1cnJlZCB3aGlsZSBjb25uZWN0aW5nIHRvIHRoZSBhZ2VudCBzZXJ2aWNlLiBQbGVhc2UgY2hlY2sgeW91ciBjb25uZWN0aW9uIGFuZCBlbnN1cmUgdGhlIGFnZW50IHNlcnZpY2UgaXMgcnVubmluZy5cIixcbiAgICBjb25uZWN0aW9uOiBcIlRoZSBjb25uZWN0aW9uIHRvIHRoZSBhZ2VudCBzZXJ2aWNlIHdhcyBsb3N0IHVuZXhwZWN0ZWRseS4gVGhpcyBtYXkgaW5kaWNhdGUgYW4gaXNzdWUgd2l0aCB0aGUgYWdlbnQgc2VydmljZS5cIixcbiAgICBhdXRoZW50aWNhdGlvbjogXCJBdXRoZW50aWNhdGlvbiBmYWlsZWQuIFBsZWFzZSBjaGVjayB5b3VyIEFQSSBrZXlzIGFuZCBjcmVkZW50aWFscy5cIixcbiAgICB2YWxpZGF0aW9uOiBcIkludmFsaWQgaW5wdXQgb3IgY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHlvdXIgcGFyYW1ldGVycyBhbmQgdHJ5IGFnYWluLlwiLFxuICAgIHVua25vd246IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZC4gUGxlYXNlIGNoZWNrIHRoZSBsb2dzIGZvciBtb3JlIGRldGFpbHMuXCIsXG4gICAgZGVmYXVsdDogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgY2hlY2sgdGhlIGxvZ3MgZm9yIG1vcmUgZGV0YWlscy5cIlxuICB9LFxuICBjb250ZXh0VGVtcGxhdGVzOiB7XG4gICAgY29ubmVjdGlvbjogXCJjb25uZWN0aW9uXCIsXG4gICAgZXZlbnRfc3RyZWFtaW5nX2Nvbm5lY3Rpb246IFwiZXZlbnQgc3RyZWFtaW5nIGNvbm5lY3Rpb25cIixcbiAgICBhZ2VudF9zdHJlYW1pbmdfY29ubmVjdGlvbjogXCJhZ2VudCBzdHJlYW1pbmcgY29ubmVjdGlvblwiLFxuICAgIGxhbmdncmFwaF9hZ2VudF9jb25uZWN0aW9uOiBcIkxhbmdHcmFwaCBhZ2VudCBjb25uZWN0aW9uXCJcbiAgfVxufTtcbmZ1bmN0aW9uIGdldEZhbGxiYWNrTWVzc2FnZShjYXRlZ29yeSkge1xuICByZXR1cm4gZXJyb3JDb25maWcuZmFsbGJhY2tzW2NhdGVnb3J5XSB8fCBlcnJvckNvbmZpZy5mYWxsYmFja3MuZGVmYXVsdDtcbn1cbl9fbmFtZShnZXRGYWxsYmFja01lc3NhZ2UsIFwiZ2V0RmFsbGJhY2tNZXNzYWdlXCIpO1xuXG4vLyBzcmMvbGliL3N0cmVhbWluZy50c1xuYXN5bmMgZnVuY3Rpb24gd3JpdGVKc29uTGluZVJlc3BvbnNlVG9FdmVudFN0cmVhbShyZXNwb25zZSwgZXZlbnRTdHJlYW0kKSB7XG4gIGNvbnN0IHJlYWRlciA9IHJlc3BvbnNlLmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGxldCBidWZmZXIgPSBbXTtcbiAgZnVuY3Rpb24gZmx1c2hCdWZmZXIoKSB7XG4gICAgY29uc3QgY3VycmVudEJ1ZmZlciA9IGJ1ZmZlci5qb2luKFwiXCIpO1xuICAgIGlmIChjdXJyZW50QnVmZmVyLnRyaW0oKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFydHMgPSBjdXJyZW50QnVmZmVyLnNwbGl0KFwiXFxuXCIpO1xuICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGFzdFBhcnRJc0NvbXBsZXRlID0gY3VycmVudEJ1ZmZlci5lbmRzV2l0aChcIlxcblwiKTtcbiAgICBidWZmZXIgPSBbXTtcbiAgICBpZiAoIWxhc3RQYXJ0SXNDb21wbGV0ZSkge1xuICAgICAgYnVmZmVyLnB1c2gocGFydHMucG9wKCkpO1xuICAgIH1cbiAgICBwYXJ0cy5tYXAoKHBhcnQpID0+IHBhcnQudHJpbSgpKS5maWx0ZXIoKHBhcnQpID0+IHBhcnQgIT0gXCJcIikuZm9yRWFjaCgocGFydCkgPT4ge1xuICAgICAgZXZlbnRTdHJlYW0kLm5leHQoSlNPTi5wYXJzZShwYXJ0KSk7XG4gICAgfSk7XG4gIH1cbiAgX19uYW1lKGZsdXNoQnVmZmVyLCBcImZsdXNoQnVmZmVyXCIpO1xuICB0cnkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgIGJ1ZmZlci5wdXNoKGRlY29kZXIuZGVjb2RlKHZhbHVlLCB7XG4gICAgICAgICAgc3RyZWFtOiB0cnVlXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIGZsdXNoQnVmZmVyKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc3Qgc3RydWN0dXJlZEVycm9yID0gKDAsIGltcG9ydF9zaGFyZWQxNS5lbnN1cmVTdHJ1Y3R1cmVkRXJyb3IpKGVycm9yLCBjb252ZXJ0U3RyZWFtaW5nRXJyb3JUb1N0cnVjdHVyZWQpO1xuICAgIGV2ZW50U3RyZWFtJC5lcnJvcihzdHJ1Y3R1cmVkRXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbn1cbl9fbmFtZSh3cml0ZUpzb25MaW5lUmVzcG9uc2VUb0V2ZW50U3RyZWFtLCBcIndyaXRlSnNvbkxpbmVSZXNwb25zZVRvRXZlbnRTdHJlYW1cIik7XG5mdW5jdGlvbiBjb252ZXJ0U3RyZWFtaW5nRXJyb3JUb1N0cnVjdHVyZWQoZXJyb3IpIHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICBsZXQgaGVscGZ1bE1lc3NhZ2UgPSBnZW5lcmF0ZUhlbHBmdWxFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICBpZiAoKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoXCJmZXRjaCBmYWlsZWRcIikpIHx8ICgoX2IgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwiRUNPTk5SRUZVU0VEXCIpKSB8fCAoKF9jID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pbmNsdWRlcyhcIkVOT1RGT1VORFwiKSkgfHwgKChfZCA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2QuaW5jbHVkZXMoXCJFVElNRURPVVRcIikpIHx8ICgoX2UgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmluY2x1ZGVzKFwidGVybWluYXRlZFwiKSkgfHwgKChfZiA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jYXVzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNvZGUpID09PSBcIlVORF9FUlJfU09DS0VUXCIgfHwgKChfZyA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2cuaW5jbHVkZXMoXCJvdGhlciBzaWRlIGNsb3NlZFwiKSkgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jb2RlKSA9PT0gXCJVTkRfRVJSX1NPQ0tFVFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJlcnJvclwiLCBlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBpbXBvcnRfc2hhcmVkMTUuQ29waWxvdEtpdExvd0xldmVsRXJyb3Ioe1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKSxcbiAgICAgIHVybDogXCJzdHJlYW1pbmcgY29ubmVjdGlvblwiLFxuICAgICAgbWVzc2FnZTogaGVscGZ1bE1lc3NhZ2VcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IGltcG9ydF9zaGFyZWQxNS5Db3BpbG90S2l0RXJyb3Ioe1xuICAgIG1lc3NhZ2U6IGhlbHBmdWxNZXNzYWdlLFxuICAgIGNvZGU6IGltcG9ydF9zaGFyZWQxNS5Db3BpbG90S2l0RXJyb3JDb2RlLlVOS05PV05cbiAgfSk7XG59XG5fX25hbWUoY29udmVydFN0cmVhbWluZ0Vycm9yVG9TdHJ1Y3R1cmVkLCBcImNvbnZlcnRTdHJlYW1pbmdFcnJvclRvU3RydWN0dXJlZFwiKTtcbmZ1bmN0aW9uIGdlbmVyYXRlSGVscGZ1bEVycm9yTWVzc2FnZShlcnJvciwgY29udGV4dCA9IFwiY29ubmVjdGlvblwiKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgY29uc3QgYmFzZU1lc3NhZ2UgPSAoZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpIHx8IFN0cmluZyhlcnJvcik7XG4gIGNvbnN0IG9yaWdpbmFsRXJyb3JUeXBlID0gKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5vcmlnaW5hbEVycm9yVHlwZSkgfHwgKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2Eub3JpZ2luYWxFcnJvclR5cGUpO1xuICBjb25zdCBzdGF0dXNDb2RlID0gKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5zdGF0dXNDb2RlKSB8fCAoKF9iID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5zdGF0dXNDb2RlKTtcbiAgY29uc3QgcmVzcG9uc2VEYXRhID0gKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5yZXNwb25zZURhdGEpIHx8ICgoX2MgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnJlc3BvbnNlRGF0YSk7XG4gIGlmIChvcmlnaW5hbEVycm9yVHlwZSkge1xuICAgIGNvbnN0IHR5cGVDb25maWcgPSBlcnJvckNvbmZpZy5lcnJvclBhdHRlcm5zW29yaWdpbmFsRXJyb3JUeXBlXTtcbiAgICBpZiAodHlwZUNvbmZpZykge1xuICAgICAgcmV0dXJuIHR5cGVDb25maWcubWVzc2FnZS5yZXBsYWNlKFwie2NvbnRleHR9XCIsIGNvbnRleHQpO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IFtwYXR0ZXJuLCBjb25maWcyXSBvZiBPYmplY3QuZW50cmllcyhlcnJvckNvbmZpZy5lcnJvclBhdHRlcm5zKSkge1xuICAgIGNvbnN0IHNob3VsZE1hdGNoID0gKGJhc2VNZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBiYXNlTWVzc2FnZS5pbmNsdWRlcyhwYXR0ZXJuKSkgfHwgKChfZCA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jYXVzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNvZGUpID09PSBwYXR0ZXJuIHx8IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IuY29kZSkgPT09IHBhdHRlcm4gfHwgc3RhdHVzQ29kZSA9PT0gcGFyc2VJbnQocGF0dGVybikgfHwgcGF0dGVybiA9PT0gXCJvdGhlcl9zaWRlX2Nsb3NlZFwiICYmIChiYXNlTWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogYmFzZU1lc3NhZ2UuaW5jbHVkZXMoXCJvdGhlciBzaWRlIGNsb3NlZFwiKSkgfHwgcGF0dGVybiA9PT0gXCJmZXRjaF9mYWlsZWRcIiAmJiAoYmFzZU1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IGJhc2VNZXNzYWdlLmluY2x1ZGVzKFwiZmV0Y2ggZmFpbGVkXCIpKSB8fCByZXNwb25zZURhdGEgJiYgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2VEYXRhKS5pbmNsdWRlcyhwYXR0ZXJuKTtcbiAgICBpZiAoc2hvdWxkTWF0Y2gpIHtcbiAgICAgIHJldHVybiBjb25maWcyLm1lc3NhZ2UucmVwbGFjZShcIntjb250ZXh0fVwiLCBjb250ZXh0KTtcbiAgICB9XG4gIH1cbiAgaWYgKGlzTmV0d29ya0Vycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBnZXRGYWxsYmFja01lc3NhZ2UoXCJuZXR3b3JrXCIpO1xuICB9XG4gIGlmIChpc0Nvbm5lY3Rpb25FcnJvcihlcnJvcikpIHtcbiAgICByZXR1cm4gZ2V0RmFsbGJhY2tNZXNzYWdlKFwiY29ubmVjdGlvblwiKTtcbiAgfVxuICBpZiAoaXNBdXRoZW50aWNhdGlvbkVycm9yKGVycm9yKSkge1xuICAgIHJldHVybiBnZXRGYWxsYmFja01lc3NhZ2UoXCJhdXRoZW50aWNhdGlvblwiKTtcbiAgfVxuICByZXR1cm4gZ2V0RmFsbGJhY2tNZXNzYWdlKFwiZGVmYXVsdFwiKTtcbn1cbl9fbmFtZShnZW5lcmF0ZUhlbHBmdWxFcnJvck1lc3NhZ2UsIFwiZ2VuZXJhdGVIZWxwZnVsRXJyb3JNZXNzYWdlXCIpO1xuZnVuY3Rpb24gaXNOZXR3b3JrRXJyb3IoZXJyb3IpIHtcbiAgY29uc3QgbmV0d29ya1BhdHRlcm5zID0gW1xuICAgIFwiRUNPTk5SRUZVU0VEXCIsXG4gICAgXCJFTk9URk9VTkRcIixcbiAgICBcIkVUSU1FRE9VVFwiLFxuICAgIFwiZmV0Y2hfZmFpbGVkXCJcbiAgXTtcbiAgcmV0dXJuIG5ldHdvcmtQYXR0ZXJucy5zb21lKChwYXR0ZXJuKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5jbHVkZXMocGF0dGVybikpIHx8ICgoX2IgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IuY2F1c2UpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jb2RlKSA9PT0gcGF0dGVybiB8fCAoZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmNvZGUpID09PSBwYXR0ZXJuO1xuICB9KTtcbn1cbl9fbmFtZShpc05ldHdvcmtFcnJvciwgXCJpc05ldHdvcmtFcnJvclwiKTtcbmZ1bmN0aW9uIGlzQ29ubmVjdGlvbkVycm9yKGVycm9yKSB7XG4gIGNvbnN0IGNvbm5lY3Rpb25QYXR0ZXJucyA9IFtcbiAgICBcInRlcm1pbmF0ZWRcIixcbiAgICBcIlVORF9FUlJfU09DS0VUXCIsXG4gICAgXCJvdGhlciBzaWRlIGNsb3NlZFwiXG4gIF07XG4gIHJldHVybiBjb25uZWN0aW9uUGF0dGVybnMuc29tZSgocGF0dGVybikgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuICgoX2EgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKHBhdHRlcm4pKSB8fCAoKF9iID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmNhdXNlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY29kZSkgPT09IHBhdHRlcm4gfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jb2RlKSA9PT0gcGF0dGVybjtcbiAgfSk7XG59XG5fX25hbWUoaXNDb25uZWN0aW9uRXJyb3IsIFwiaXNDb25uZWN0aW9uRXJyb3JcIik7XG5mdW5jdGlvbiBpc0F1dGhlbnRpY2F0aW9uRXJyb3IoZXJyb3IpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgYXV0aFBhdHRlcm5zID0gW1xuICAgIFwiNDAxXCIsXG4gICAgXCJhcGkga2V5XCIsXG4gICAgXCJ1bmF1dGhvcml6ZWRcIixcbiAgICBcImF1dGhlbnRpY2F0aW9uXCIsXG4gICAgXCJBdXRoZW50aWNhdGlvbkVycm9yXCIsXG4gICAgXCJQZXJtaXNzaW9uRGVuaWVkRXJyb3JcIlxuICBdO1xuICBjb25zdCBiYXNlTWVzc2FnZSA9IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgfHwgU3RyaW5nKGVycm9yKTtcbiAgY29uc3Qgb3JpZ2luYWxFcnJvclR5cGUgPSAoZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm9yaWdpbmFsRXJyb3JUeXBlKSB8fCAoKF9hID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vcmlnaW5hbEVycm9yVHlwZSk7XG4gIGNvbnN0IHN0YXR1c0NvZGUgPSAoZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLnN0YXR1c0NvZGUpIHx8ICgoX2IgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnN0YXR1c0NvZGUpO1xuICByZXR1cm4gYXV0aFBhdHRlcm5zLnNvbWUoKHBhdHRlcm4pID0+IChiYXNlTWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogYmFzZU1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhwYXR0ZXJuLnRvTG93ZXJDYXNlKCkpKSB8fCBvcmlnaW5hbEVycm9yVHlwZSA9PT0gcGF0dGVybiB8fCBzdGF0dXNDb2RlID09PSA0MDEgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5zdGF0dXMpID09PSA0MDEgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5zdGF0dXNDb2RlKSA9PT0gNDAxKTtcbn1cbl9fbmFtZShpc0F1dGhlbnRpY2F0aW9uRXJyb3IsIFwiaXNBdXRoZW50aWNhdGlvbkVycm9yXCIpO1xuXG4vLyBzcmMvbGliL3J1bnRpbWUvcmVtb3RlLWxnLWFjdGlvbi50c1xuZnVuY3Rpb24gaXNVc2VyQ29uZmlndXJhdGlvbkVycm9yKGVycm9yKSB7XG4gIHZhciBfYSwgX2I7XG4gIHJldHVybiAoZXJyb3IgaW5zdGFuY2VvZiBpbXBvcnRfc2hhcmVkMTcuQ29waWxvdEtpdEVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDE3LkNvcGlsb3RLaXRMb3dMZXZlbEVycm9yKSAmJiAoZXJyb3IuY29kZSA9PT0gXCJORVRXT1JLX0VSUk9SXCIgfHwgZXJyb3IuY29kZSA9PT0gXCJBVVRIRU5USUNBVElPTl9FUlJPUlwiIHx8IGVycm9yLnN0YXR1c0NvZGUgPT09IDQwMSB8fCBlcnJvci5zdGF0dXNDb2RlID09PSA0MDMgfHwgKChfYSA9IGVycm9yLm1lc3NhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYXV0aGVudGljYXRpb25cIikpIHx8ICgoX2IgPSBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImFwaSBrZXlcIikpKTtcbn1cbl9fbmFtZShpc1VzZXJDb25maWd1cmF0aW9uRXJyb3IsIFwiaXNVc2VyQ29uZmlndXJhdGlvbkVycm9yXCIpO1xuYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZShhcmdzKSB7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgIGxldCBsYXN0RXJyb3I7XG4gICAgICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8PSBSRVRSWV9DT05GSUcubWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgc3RyZWFtRXZlbnRzKGNvbnRyb2xsZXIsIGFyZ3MpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxhc3RFcnJvciA9IGVycjtcbiAgICAgICAgICBpZiAoaXNSZXRyeWFibGVFcnJvcihlcnIpICYmIGF0dGVtcHQgPCBSRVRSWV9DT05GSUcubWF4UmV0cmllcykge1xuICAgICAgICAgICAgY29uc3QgZGVsYXkgPSBjYWxjdWxhdGVEZWxheShhdHRlbXB0KTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTGFuZ0dyYXBoIGNvbm5lY3Rpb24gYXR0ZW1wdCAke2F0dGVtcHQgKyAxfS8ke1JFVFJZX0NPTkZJRy5tYXhSZXRyaWVzICsgMX0gZmFpbGVkLiBSZXRyeWluZyBpbiAke2RlbGF5fW1zLiBFcnJvcjogJHsoZXJyID09IG51bGwgPyB2b2lkIDAgOiBlcnIubWVzc2FnZSkgfHwgU3RyaW5nKGVycil9YCk7XG4gICAgICAgICAgICBhd2FpdCBzbGVlcChkZWxheSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGNhdXNlID0gbGFzdEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBsYXN0RXJyb3IuY2F1c2U7XG4gICAgICBjb25zdCBlcnJvckNvZGUgPSAoY2F1c2UgPT0gbnVsbCA/IHZvaWQgMCA6IGNhdXNlLmNvZGUpIHx8IChsYXN0RXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGxhc3RFcnJvci5jb2RlKTtcbiAgICAgIGlmIChlcnJvckNvZGUgPT09IFwiRUNPTk5SRUZVU0VEXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQxNy5Db3BpbG90S2l0TWlzdXNlRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBcbiAgICAgICAgICAgIFRoZSBMYW5nR3JhcGggY2xpZW50IGNvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBncmFwaCBhZnRlciAke1JFVFJZX0NPTkZJRy5tYXhSZXRyaWVzICsgMX0gYXR0ZW1wdHMuIFBsZWFzZSBmdXJ0aGVyIGNoZWNrIHByZXZpb3VzIGxvZ3MsIHdoaWNoIGluY2x1ZGVzIGZ1cnRoZXIgZGV0YWlscy5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgU2VlIG1vcmU6IGh0dHBzOi8vZG9jcy5jb3BpbG90a2l0LmFpL3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzYFxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsYXN0RXJyb3IgaW5zdGFuY2VvZiBpbXBvcnRfc2hhcmVkMTcuQ29waWxvdEtpdEVycm9yIHx8IGxhc3RFcnJvciBpbnN0YW5jZW9mIGltcG9ydF9zaGFyZWQxNy5Db3BpbG90S2l0TG93TGV2ZWxFcnJvciB8fCBsYXN0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBsYXN0RXJyb3IubmFtZSAmJiBsYXN0RXJyb3IubmFtZS5pbmNsdWRlcyhcIkNvcGlsb3RLaXRcIikpIHtcbiAgICAgICAgICB0aHJvdyBsYXN0RXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQxNy5Db3BpbG90S2l0TWlzdXNlRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBcbiAgICAgICAgICAgIFRoZSBMYW5nR3JhcGggY2xpZW50IHRocmV3IHVuaGFuZGxlZCBlcnJvciAke2xhc3RFcnJvcn0uXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFNlZSBtb3JlOiBodHRwczovL2RvY3MuY29waWxvdGtpdC5haS90cm91Ymxlc2hvb3RpbmcvY29tbW9uLWlzc3Vlc2BcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbl9fbmFtZShleGVjdXRlLCBcImV4ZWN1dGVcIik7XG5hc3luYyBmdW5jdGlvbiBzdHJlYW1FdmVudHMoY29udHJvbGxlciwgYXJncykge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rO1xuICBjb25zdCB7IGRlcGxveW1lbnRVcmwsIGxhbmdzbWl0aEFwaUtleSwgdGhyZWFkSWQ6IGFyZ3NJbml0aWFsVGhyZWFkSWQsIGFnZW50LCBub2RlTmFtZTogaW5pdGlhbE5vZGVOYW1lLCBzdGF0ZTogaW5pdGlhbFN0YXRlLCBjb25maWc6IGV4cGxpY2l0Q29uZmlnLCBtZXNzYWdlcywgYWN0aW9ucywgbG9nZ2VyOiBsb2dnZXIyLCBwcm9wZXJ0aWVzLCBtZXRhRXZlbnRzIH0gPSBhcmdzO1xuICBsZXQgbm9kZU5hbWUgPSBpbml0aWFsTm9kZU5hbWU7XG4gIGxldCBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgY29uc3QgeyBuYW1lLCBhc3Npc3RhbnRJZDogaW5pdGlhbEFzc2lzdGFudElkIH0gPSBhZ2VudDtcbiAgY29uc3QgcHJvcGVydHlIZWFkZXJzID0gcHJvcGVydGllcy5hdXRob3JpemF0aW9uID8ge1xuICAgIGF1dGhvcml6YXRpb246IGBCZWFyZXIgJHtwcm9wZXJ0aWVzLmF1dGhvcml6YXRpb259YFxuICB9IDogbnVsbDtcbiAgY29uc3QgY2xpZW50ID0gbmV3IGltcG9ydF9sYW5nZ3JhcGhfc2RrLkNsaWVudCh7XG4gICAgYXBpVXJsOiBkZXBsb3ltZW50VXJsLFxuICAgIGFwaUtleTogbGFuZ3NtaXRoQXBpS2V5LFxuICAgIGRlZmF1bHRIZWFkZXJzOiB7XG4gICAgICAuLi5wcm9wZXJ0eUhlYWRlcnNcbiAgICB9XG4gIH0pO1xuICBsZXQgdGhyZWFkSWQgPSBhcmdzSW5pdGlhbFRocmVhZElkID8/ICgwLCBpbXBvcnRfc2hhcmVkMTYucmFuZG9tVVVJRCkoKTtcbiAgaWYgKGFyZ3NJbml0aWFsVGhyZWFkSWQgJiYgYXJnc0luaXRpYWxUaHJlYWRJZC5zdGFydHNXaXRoKFwiY2stXCIpKSB7XG4gICAgdGhyZWFkSWQgPSBhcmdzSW5pdGlhbFRocmVhZElkLnN1YnN0cmluZygzKTtcbiAgfVxuICBpZiAoISgwLCBpbXBvcnRfc2hhcmVkMTYuaXNWYWxpZFVVSUQpKHRocmVhZElkKSkge1xuICAgIGNvbnNvbGUud2FybihgQ2Fubm90IHVzZSB0aGUgdGhyZWFkSWQgJHt0aHJlYWRJZH0gd2l0aCBMYW5nR3JhcGggUGxhdGZvcm0uIE11c3QgYmUgYSB2YWxpZCBVVUlELmApO1xuICB9XG4gIGxldCB3YXNJbml0aWF0ZWRXaXRoRXhpc3RpbmdUaHJlYWQgPSB0cnVlO1xuICB0cnkge1xuICAgIGF3YWl0IGNsaWVudC50aHJlYWRzLmdldCh0aHJlYWRJZCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgd2FzSW5pdGlhdGVkV2l0aEV4aXN0aW5nVGhyZWFkID0gZmFsc2U7XG4gICAgYXdhaXQgY2xpZW50LnRocmVhZHMuY3JlYXRlKHtcbiAgICAgIHRocmVhZElkXG4gICAgfSk7XG4gIH1cbiAgbGV0IGFnZW50U3RhdGUgPSB7XG4gICAgdmFsdWVzOiB7fVxuICB9O1xuICBpZiAod2FzSW5pdGlhdGVkV2l0aEV4aXN0aW5nVGhyZWFkKSB7XG4gICAgYWdlbnRTdGF0ZSA9IGF3YWl0IGNsaWVudC50aHJlYWRzLmdldFN0YXRlKHRocmVhZElkKTtcbiAgfVxuICBjb25zdCBhZ2VudFN0YXRlVmFsdWVzID0gYWdlbnRTdGF0ZS52YWx1ZXM7XG4gIHN0YXRlLm1lc3NhZ2VzID0gYWdlbnRTdGF0ZVZhbHVlcy5tZXNzYWdlcztcbiAgY29uc3QgbW9kZSA9IHRocmVhZElkICYmIG5vZGVOYW1lICE9IFwiX19lbmRfX1wiICYmIG5vZGVOYW1lICE9IHZvaWQgMCAmJiBub2RlTmFtZSAhPSBudWxsID8gXCJjb250aW51ZVwiIDogXCJzdGFydFwiO1xuICBsZXQgZm9ybWF0dGVkTWVzc2FnZXMgPSBbXTtcbiAgdHJ5IHtcbiAgICBmb3JtYXR0ZWRNZXNzYWdlcyA9IGNvcGlsb3RraXRNZXNzYWdlc1RvTGFuZ0NoYWluKG1lc3NhZ2VzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZ2dlcjIuZXJyb3IoZSwgYEVycm9yIGV2ZW50IHRocm93bjogJHtlLm1lc3NhZ2V9YCk7XG4gIH1cbiAgc3RhdGUgPSBsYW5nR3JhcGhEZWZhdWx0TWVyZ2VTdGF0ZShzdGF0ZSwgZm9ybWF0dGVkTWVzc2FnZXMsIGFjdGlvbnMsIG5hbWUpO1xuICBjb25zdCBzdHJlYW1JbnB1dCA9IG1vZGUgPT09IFwic3RhcnRcIiA/IHN0YXRlIDogbnVsbDtcbiAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICBpbnB1dDogc3RyZWFtSW5wdXQsXG4gICAgc3RyZWFtTW9kZTogW1xuICAgICAgXCJldmVudHNcIixcbiAgICAgIFwidmFsdWVzXCIsXG4gICAgICBcInVwZGF0ZXNcIlxuICAgIF0sXG4gICAgY29tbWFuZDogdm9pZCAwXG4gIH07XG4gIGNvbnN0IGxnSW50ZXJydXB0TWV0YUV2ZW50ID0gbWV0YUV2ZW50cyA9PSBudWxsID8gdm9pZCAwIDogbWV0YUV2ZW50cy5maW5kKChldikgPT4gZXYubmFtZSA9PT0gTWV0YUV2ZW50TmFtZS5MYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCk7XG4gIGlmIChsZ0ludGVycnVwdE1ldGFFdmVudCA9PSBudWxsID8gdm9pZCAwIDogbGdJbnRlcnJ1cHRNZXRhRXZlbnQucmVzcG9uc2UpIHtcbiAgICBsZXQgcmVzcG9uc2UgPSBsZ0ludGVycnVwdE1ldGFFdmVudC5yZXNwb25zZTtcbiAgICBwYXlsb2FkLmNvbW1hbmQgPSB7XG4gICAgICByZXN1bWU6ICgwLCBpbXBvcnRfc2hhcmVkMTcucGFyc2VKc29uKShyZXNwb25zZSwgcmVzcG9uc2UpXG4gICAgfTtcbiAgfVxuICBjb25zdCBpbnRlcnJ1cHRzID0gKChfYiA9IChfYSA9IGFnZW50U3RhdGUudGFza3MpID09IG51bGwgPyB2b2lkIDAgOiBfYVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmludGVycnVwdHMpID8/IFtdO1xuICBpZiAobW9kZSA9PT0gXCJjb250aW51ZVwiICYmICFpbnRlcnJ1cHRzLmxlbmd0aCkge1xuICAgIGF3YWl0IGNsaWVudC50aHJlYWRzLnVwZGF0ZVN0YXRlKHRocmVhZElkLCB7XG4gICAgICB2YWx1ZXM6IHN0YXRlLFxuICAgICAgYXNOb2RlOiBub2RlTmFtZVxuICAgIH0pO1xuICB9XG4gIGxldCBzdHJlYW1JbmZvID0ge1xuICAgIGhhc2hlZExnY0tleTogbGFuZ3NtaXRoQXBpS2V5ID8gKDAsIGltcG9ydF9ub2RlX2NyeXB0by5jcmVhdGVIYXNoKShcInNoYTI1NlwiKS51cGRhdGUobGFuZ3NtaXRoQXBpS2V5KS5kaWdlc3QoXCJoZXhcIikgOiBudWxsXG4gIH07XG4gIGNvbnN0IGFzc2lzdGFudHMgPSBhd2FpdCBjbGllbnQuYXNzaXN0YW50cy5zZWFyY2goKTtcbiAgY29uc3QgcmV0cmlldmVkQXNzaXN0YW50ID0gYXNzaXN0YW50cy5maW5kKChhKSA9PiBhLm5hbWUgPT09IG5hbWUgfHwgYS5hc3Npc3RhbnRfaWQgPT09IGluaXRpYWxBc3Npc3RhbnRJZCk7XG4gIGlmICghcmV0cmlldmVkQXNzaXN0YW50KSB7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5hZ2VudF9leGVjdXRpb25fc3RyZWFtX2Vycm9yZWRcIiwge1xuICAgICAgLi4uc3RyZWFtSW5mbyxcbiAgICAgIGVycm9yOiBgRm91bmQgbm8gYXNzaXN0YW50cyBmb3IgZ2l2ZW4gaW5mb3JtYXRpb24sIHdoaWxlICR7YXNzaXN0YW50cy5sZW5ndGh9IGFzc2lzdGFudHMgZXhpc3RzYFxuICAgIH0pO1xuICAgIGNvbnNvbGUuZXJyb3IoYFxuICAgICAgTm8gYWdlbnQgZm91bmQgZm9yIHRoZSBhZ2VudCBuYW1lIHNwZWNpZmllZCBpbiBDb3BpbG90S2l0IHByb3ZpZGVyXG4gICAgICBQbGVhc2UgY2hlY2sgeW91ciBhdmFpbGFibGUgYWdlbnRzIG9yIHByb3ZpZGUgYW4gYWdlbnQgSUQgaW4gdGhlIExhbmdHcmFwaCBQbGF0Zm9ybSBlbmRwb2ludCBkZWZpbml0aW9uLlxuXG4gICAgICBcbiAgICAgIFRoZXNlIGFyZSB0aGUgYXZhaWxhYmxlIGFnZW50czogWyR7YXNzaXN0YW50cy5tYXAoKGEpID0+IGAke2EubmFtZX0gKElEOiAke2EuYXNzaXN0YW50X2lkfSlgKS5qb2luKFwiLCBcIil9XVxuICAgICAgYCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWdlbnQgaWQgZm91bmRcIik7XG4gIH1cbiAgY29uc3QgYXNzaXN0YW50SWQgPSByZXRyaWV2ZWRBc3Npc3RhbnQuYXNzaXN0YW50X2lkO1xuICBjb25zdCBncmFwaEluZm8gPSBhd2FpdCBjbGllbnQuYXNzaXN0YW50cy5nZXRHcmFwaChhc3Npc3RhbnRJZCk7XG4gIGNvbnN0IGdyYXBoU2NoZW1hID0gYXdhaXQgY2xpZW50LmFzc2lzdGFudHMuZ2V0U2NoZW1hcyhhc3Npc3RhbnRJZCk7XG4gIGNvbnN0IHNjaGVtYUtleXMgPSBnZXRTY2hlbWFLZXlzKGdyYXBoU2NoZW1hKTtcbiAgaWYgKGV4cGxpY2l0Q29uZmlnKSB7XG4gICAgbGV0IGZpbHRlcmVkQ29uZmlndXJhYmxlID0gcmV0cmlldmVkQXNzaXN0YW50LmNvbmZpZy5jb25maWd1cmFibGU7XG4gICAgaWYgKGV4cGxpY2l0Q29uZmlnLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgZmlsdGVyZWRDb25maWd1cmFibGUgPSAoc2NoZW1hS2V5cyA9PSBudWxsID8gdm9pZCAwIDogc2NoZW1hS2V5cy5jb25maWcpID8gZmlsdGVyT2JqZWN0QnlTY2hlbWFLZXlzKGV4cGxpY2l0Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBleHBsaWNpdENvbmZpZy5jb25maWd1cmFibGUsIHNjaGVtYUtleXMgPT0gbnVsbCA/IHZvaWQgMCA6IHNjaGVtYUtleXMuY29uZmlnKSA6IGV4cGxpY2l0Q29uZmlnID09IG51bGwgPyB2b2lkIDAgOiBleHBsaWNpdENvbmZpZy5jb25maWd1cmFibGU7XG4gICAgfVxuICAgIGNvbnN0IG5ld0NvbmZpZyA9IHtcbiAgICAgIC4uLnJldHJpZXZlZEFzc2lzdGFudC5jb25maWcsXG4gICAgICAuLi5leHBsaWNpdENvbmZpZyxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmlsdGVyZWRDb25maWd1cmFibGVcbiAgICB9O1xuICAgIGNvbnN0IGlzUmVjdXJzaW9uTGltaXRTZXRUb0RlZmF1bHQgPSByZXRyaWV2ZWRBc3Npc3RhbnQuY29uZmlnLnJlY3Vyc2lvbl9saW1pdCA9PSBudWxsICYmIGV4cGxpY2l0Q29uZmlnLnJlY3Vyc2lvbl9saW1pdCA9PT0gMjU7XG4gICAgY29uc3QgY29uZmlnc0FyZURpZmZlcmVudCA9IEpTT04uc3RyaW5naWZ5KG5ld0NvbmZpZykgIT09IEpTT04uc3RyaW5naWZ5KHJldHJpZXZlZEFzc2lzdGFudC5jb25maWcpO1xuICAgIGNvbnN0IGlzT25seVJlY3Vyc2lvbkxpbWl0RGlmZmVyZW50ID0gaXNSZWN1cnNpb25MaW1pdFNldFRvRGVmYXVsdCAmJiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAuLi5uZXdDb25maWcsXG4gICAgICByZWN1cnNpb25fbGltaXQ6IG51bGxcbiAgICB9KSA9PT0gSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgLi4ucmV0cmlldmVkQXNzaXN0YW50LmNvbmZpZyxcbiAgICAgIHJlY3Vyc2lvbl9saW1pdDogbnVsbFxuICAgIH0pO1xuICAgIGlmIChjb25maWdzQXJlRGlmZmVyZW50ICYmICFpc09ubHlSZWN1cnNpb25MaW1pdERpZmZlcmVudCkge1xuICAgICAgYXdhaXQgY2xpZW50LmFzc2lzdGFudHMudXBkYXRlKGFzc2lzdGFudElkLCB7XG4gICAgICAgIGNvbmZpZzogbmV3Q29uZmlnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKHBheWxvYWQuaW5wdXQgJiYgKHNjaGVtYUtleXMgPT0gbnVsbCA/IHZvaWQgMCA6IHNjaGVtYUtleXMuaW5wdXQpKSB7XG4gICAgcGF5bG9hZC5pbnB1dCA9IGZpbHRlck9iamVjdEJ5U2NoZW1hS2V5cyhwYXlsb2FkLmlucHV0LCBzY2hlbWFLZXlzLmlucHV0KTtcbiAgfVxuICBsZXQgc3RyZWFtaW5nU3RhdGVFeHRyYWN0b3IgPSBuZXcgU3RyZWFtaW5nU3RhdGVFeHRyYWN0b3IoW10pO1xuICBsZXQgcHJldk5vZGVOYW1lID0gbnVsbDtcbiAgbGV0IGVtaXRJbnRlcm1lZGlhdGVTdGF0ZVVudGlsRW5kID0gbnVsbDtcbiAgbGV0IHNob3VsZEV4aXQgPSBmYWxzZTtcbiAgbGV0IGV4dGVybmFsUnVuSWQgPSBudWxsO1xuICBjb25zdCBlbWl0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgobWVzc2FnZSkgPT4gY29udHJvbGxlci5lbnF1ZXVlKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShtZXNzYWdlKSksIFwiZW1pdFwiKTtcbiAgaWYgKChpbnRlcnJ1cHRzID09IG51bGwgPyB2b2lkIDAgOiBpbnRlcnJ1cHRzLmxlbmd0aCkgJiYgISgoX2MgPSBwYXlsb2FkLmNvbW1hbmQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5yZXN1bWUpKSB7XG4gICAgaWYgKCFsZ0ludGVycnVwdE1ldGFFdmVudCkge1xuICAgICAgcGF5bG9hZC5jb21tYW5kID0ge1xuICAgICAgICByZXN1bWU6IHN0YXRlLm1lc3NhZ2VzXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcnJ1cHRzLmZvckVhY2goKGludGVycnVwdCkgPT4ge1xuICAgICAgICBlbWl0SW50ZXJydXB0KGludGVycnVwdC52YWx1ZSwgZW1pdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgc3RyZWFtUmVzcG9uc2UgPSBjbGllbnQucnVucy5zdHJlYW0odGhyZWFkSWQsIGFzc2lzdGFudElkLCBwYXlsb2FkKTtcbiAgbGV0IGxhdGVzdFN0YXRlVmFsdWVzID0ge307XG4gIGxldCB1cGRhdGVkU3RhdGUgPSBzdGF0ZTtcbiAgbGV0IG1hbnVhbGx5RW1pdHRlZFN0YXRlID0gbnVsbDtcbiAgdHJ5IHtcbiAgICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLmFnZW50X2V4ZWN1dGlvbl9zdHJlYW1fc3RhcnRlZFwiLCB7XG4gICAgICBoYXNoZWRMZ2NLZXk6IHN0cmVhbUluZm8uaGFzaGVkTGdjS2V5XG4gICAgfSk7XG4gICAgZm9yIGF3YWl0IChsZXQgc3RyZWFtUmVzcG9uc2VDaHVuayBvZiBzdHJlYW1SZXNwb25zZSkge1xuICAgICAgaWYgKCFbXG4gICAgICAgIFwiZXZlbnRzXCIsXG4gICAgICAgIFwidmFsdWVzXCIsXG4gICAgICAgIFwiZXJyb3JcIixcbiAgICAgICAgXCJ1cGRhdGVzXCJcbiAgICAgIF0uaW5jbHVkZXMoc3RyZWFtUmVzcG9uc2VDaHVuay5ldmVudCkpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgaWYgKHN0cmVhbVJlc3BvbnNlQ2h1bmsuZXZlbnQgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBzdHJlYW1SZXNwb25zZUNodW5rLmRhdGE7XG4gICAgICAgIGlmIChlcnJvckRhdGEgJiYgdHlwZW9mIGVycm9yRGF0YSA9PT0gXCJvYmplY3RcIiAmJiBcImVycm9yX2RldGFpbHNcIiBpbiBlcnJvckRhdGEpIHtcbiAgICAgICAgICBjb25zdCBlcnJvckRldGFpbHMgPSBlcnJvckRhdGEuZXJyb3JfZGV0YWlscztcbiAgICAgICAgICBjb25zdCBwcmVzZXJ2ZWRFcnJvciA9IG5ldyBpbXBvcnRfc2hhcmVkMTcuQ29waWxvdEtpdExvd0xldmVsRXJyb3Ioe1xuICAgICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvckRldGFpbHMubWVzc2FnZSksXG4gICAgICAgICAgICB1cmw6IFwibGFuZ2dyYXBoIHBsYXRmb3JtIGFnZW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBgJHtlcnJvckRldGFpbHMudHlwZX06ICR7ZXJyb3JEZXRhaWxzLm1lc3NhZ2V9YFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChlcnJvckRldGFpbHMuc3RhdHVzX2NvZGUpIHtcbiAgICAgICAgICAgIHByZXNlcnZlZEVycm9yLnN0YXR1c0NvZGUgPSBlcnJvckRldGFpbHMuc3RhdHVzX2NvZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlcnJvckRldGFpbHMucmVzcG9uc2VfZGF0YSkge1xuICAgICAgICAgICAgcHJlc2VydmVkRXJyb3IucmVzcG9uc2VEYXRhID0gZXJyb3JEZXRhaWxzLnJlc3BvbnNlX2RhdGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZXNlcnZlZEVycm9yLmFnZW50TmFtZSA9IGVycm9yRGV0YWlscy5hZ2VudF9uYW1lO1xuICAgICAgICAgIHByZXNlcnZlZEVycm9yLm9yaWdpbmFsRXJyb3JUeXBlID0gZXJyb3JEZXRhaWxzLnR5cGU7XG4gICAgICAgICAgdGhyb3cgcHJlc2VydmVkRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVscGZ1bE1lc3NhZ2UgPSBnZW5lcmF0ZUhlbHBmdWxFcnJvck1lc3NhZ2UobmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlKSwgXCJMYW5nR3JhcGggUGxhdGZvcm0gYWdlbnRcIik7XG4gICAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMTcuQ29waWxvdEtpdExvd0xldmVsRXJyb3Ioe1xuICAgICAgICAgIGVycm9yOiBuZXcgRXJyb3IoZXJyb3JEYXRhLm1lc3NhZ2UpLFxuICAgICAgICAgIHVybDogXCJsYW5nZ3JhcGggcGxhdGZvcm0gYWdlbnRcIixcbiAgICAgICAgICBtZXNzYWdlOiBoZWxwZnVsTWVzc2FnZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNodW5rID0gc3RyZWFtUmVzcG9uc2VDaHVuaztcbiAgICAgIGNvbnN0IGludGVycnVwdEV2ZW50cyA9IGNodW5rLmRhdGEuX19pbnRlcnJ1cHRfXztcbiAgICAgIGlmIChpbnRlcnJ1cHRFdmVudHMgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVycnVwdEV2ZW50cy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgaW50ZXJydXB0VmFsdWUgPSBpbnRlcnJ1cHRFdmVudHMgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVycnVwdEV2ZW50c1swXS52YWx1ZTtcbiAgICAgICAgZW1pdEludGVycnVwdChpbnRlcnJ1cHRWYWx1ZSwgZW1pdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHN0cmVhbVJlc3BvbnNlQ2h1bmsuZXZlbnQgPT09IFwidXBkYXRlc1wiKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGlmIChzdHJlYW1SZXNwb25zZUNodW5rLmV2ZW50ID09PSBcInZhbHVlc1wiKSB7XG4gICAgICAgIGxhdGVzdFN0YXRlVmFsdWVzID0gY2h1bmsuZGF0YTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjaHVua0RhdGEgPSBjaHVuay5kYXRhO1xuICAgICAgY29uc3QgY3VycmVudE5vZGVOYW1lID0gY2h1bmtEYXRhLm1ldGFkYXRhLmxhbmdncmFwaF9ub2RlO1xuICAgICAgY29uc3QgZXZlbnRUeXBlID0gY2h1bmtEYXRhLmV2ZW50O1xuICAgICAgY29uc3QgcnVuSWQgPSBjaHVua0RhdGEubWV0YWRhdGEucnVuX2lkO1xuICAgICAgZXh0ZXJuYWxSdW5JZCA9IHJ1bklkO1xuICAgICAgY29uc3QgbWV0YWRhdGEgPSBjaHVua0RhdGEubWV0YWRhdGE7XG4gICAgICBpZiAoKChfZSA9IChfZCA9IGNodW5rRGF0YS5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2Qub3V0cHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2UubW9kZWwpICE9IG51bGwgJiYgKChfZyA9IChfZiA9IGNodW5rRGF0YS5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2Yub3V0cHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2cubW9kZWwpICE9IFwiXCIpIHtcbiAgICAgICAgc3RyZWFtSW5mby5wcm92aWRlciA9IChfaSA9IChfaCA9IGNodW5rRGF0YS5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2gub3V0cHV0KSA9PSBudWxsID8gdm9pZCAwIDogX2kubW9kZWw7XG4gICAgICB9XG4gICAgICBpZiAobWV0YWRhdGEubGFuZ2dyYXBoX2hvc3QgIT0gbnVsbCAmJiBtZXRhZGF0YS5sYW5nZ3JhcGhfaG9zdCAhPSBcIlwiKSB7XG4gICAgICAgIHN0cmVhbUluZm8ubGFuZ0dyYXBoSG9zdCA9IG1ldGFkYXRhLmxhbmdncmFwaF9ob3N0O1xuICAgICAgfVxuICAgICAgaWYgKG1ldGFkYXRhLmxhbmdncmFwaF92ZXJzaW9uICE9IG51bGwgJiYgbWV0YWRhdGEubGFuZ2dyYXBoX3ZlcnNpb24gIT0gXCJcIikge1xuICAgICAgICBzdHJlYW1JbmZvLmxhbmdHcmFwaFZlcnNpb24gPSBtZXRhZGF0YS5sYW5nZ3JhcGhfdmVyc2lvbjtcbiAgICAgIH1cbiAgICAgIHNob3VsZEV4aXQgPSBzaG91bGRFeGl0IHx8IGV2ZW50VHlwZSA9PT0gTGFuZ0dyYXBoRXZlbnRUeXBlcy5PbkN1c3RvbUV2ZW50ICYmIGNodW5rRGF0YS5uYW1lID09PSBDdXN0b21FdmVudE5hbWVzLkNvcGlsb3RLaXRFeGl0O1xuICAgICAgY29uc3QgZW1pdEludGVybWVkaWF0ZVN0YXRlID0gbWV0YWRhdGFbXCJjb3BpbG90a2l0OmVtaXQtaW50ZXJtZWRpYXRlLXN0YXRlXCJdO1xuICAgICAgY29uc3QgbWFudWFsbHlFbWl0SW50ZXJtZWRpYXRlU3RhdGUgPSBldmVudFR5cGUgPT09IExhbmdHcmFwaEV2ZW50VHlwZXMuT25DdXN0b21FdmVudCAmJiBjaHVua0RhdGEubmFtZSA9PT0gQ3VzdG9tRXZlbnROYW1lcy5Db3BpbG90S2l0TWFudWFsbHlFbWl0SW50ZXJtZWRpYXRlU3RhdGU7XG4gICAgICBjb25zdCBleGl0aW5nTm9kZSA9IG5vZGVOYW1lID09PSBjdXJyZW50Tm9kZU5hbWUgJiYgZXZlbnRUeXBlID09PSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ2hhaW5FbmQ7XG4gICAgICBpZiAoZXhpdGluZ05vZGUpIHtcbiAgICAgICAgbWFudWFsbHlFbWl0dGVkU3RhdGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGdyYXBoSW5mb1tcIm5vZGVzXCJdLnNvbWUoKG5vZGUpID0+IG5vZGUuaWQgPT09IGN1cnJlbnROb2RlTmFtZSkpIHtcbiAgICAgICAgbm9kZU5hbWUgPSBjdXJyZW50Tm9kZU5hbWU7XG4gICAgICB9XG4gICAgICB1cGRhdGVkU3RhdGUgPSBtYW51YWxseUVtaXR0ZWRTdGF0ZSA/PyBsYXRlc3RTdGF0ZVZhbHVlcztcbiAgICAgIGlmICghbm9kZU5hbWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobWFudWFsbHlFbWl0SW50ZXJtZWRpYXRlU3RhdGUpIHtcbiAgICAgICAgbWFudWFsbHlFbWl0dGVkU3RhdGUgPSBjaHVua0RhdGEuZGF0YTtcbiAgICAgICAgZW1pdChnZXRTdGF0ZVN5bmNFdmVudCh7XG4gICAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgICAgcnVuSWQsXG4gICAgICAgICAgYWdlbnROYW1lOiBhZ2VudC5uYW1lLFxuICAgICAgICAgIG5vZGVOYW1lLFxuICAgICAgICAgIHN0YXRlOiBtYW51YWxseUVtaXR0ZWRTdGF0ZSxcbiAgICAgICAgICBydW5uaW5nOiB0cnVlLFxuICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBzY2hlbWFLZXlzXG4gICAgICAgIH0pKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoZW1pdEludGVybWVkaWF0ZVN0YXRlICYmIGVtaXRJbnRlcm1lZGlhdGVTdGF0ZVVudGlsRW5kID09IG51bGwpIHtcbiAgICAgICAgZW1pdEludGVybWVkaWF0ZVN0YXRlVW50aWxFbmQgPSBub2RlTmFtZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbWl0SW50ZXJtZWRpYXRlU3RhdGUgJiYgZXZlbnRUeXBlID09PSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ2hhdE1vZGVsU3RhcnQpIHtcbiAgICAgICAgc3RyZWFtaW5nU3RhdGVFeHRyYWN0b3IgPSBuZXcgU3RyZWFtaW5nU3RhdGVFeHRyYWN0b3IoZW1pdEludGVybWVkaWF0ZVN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbWl0SW50ZXJtZWRpYXRlU3RhdGUgJiYgZXZlbnRUeXBlID09PSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ2hhdE1vZGVsU3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbWluZ1N0YXRlRXh0cmFjdG9yLmJ1ZmZlclRvb2xDYWxscyhjaHVua0RhdGEpO1xuICAgICAgfVxuICAgICAgaWYgKGVtaXRJbnRlcm1lZGlhdGVTdGF0ZVVudGlsRW5kICE9PSBudWxsKSB7XG4gICAgICAgIHVwZGF0ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAuLi51cGRhdGVkU3RhdGUsXG4gICAgICAgICAgLi4uc3RyZWFtaW5nU3RhdGVFeHRyYWN0b3IuZXh0cmFjdFN0YXRlKClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICghZW1pdEludGVybWVkaWF0ZVN0YXRlICYmIGN1cnJlbnROb2RlTmFtZSA9PT0gZW1pdEludGVybWVkaWF0ZVN0YXRlVW50aWxFbmQgJiYgZXZlbnRUeXBlID09PSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ2hhaW5FbmQpIHtcbiAgICAgICAgZW1pdEludGVybWVkaWF0ZVN0YXRlVW50aWxFbmQgPSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRTdGF0ZSkgIT09IEpTT04uc3RyaW5naWZ5KHN0YXRlKSB8fCBwcmV2Tm9kZU5hbWUgIT0gbm9kZU5hbWUgfHwgZXhpdGluZ05vZGUpIHtcbiAgICAgICAgc3RhdGUgPSB1cGRhdGVkU3RhdGU7XG4gICAgICAgIHByZXZOb2RlTmFtZSA9IG5vZGVOYW1lO1xuICAgICAgICBlbWl0KGdldFN0YXRlU3luY0V2ZW50KHtcbiAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICBydW5JZCxcbiAgICAgICAgICBhZ2VudE5hbWU6IGFnZW50Lm5hbWUsXG4gICAgICAgICAgbm9kZU5hbWUsXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgcnVubmluZzogdHJ1ZSxcbiAgICAgICAgICBhY3RpdmU6ICFleGl0aW5nTm9kZSxcbiAgICAgICAgICBzY2hlbWFLZXlzXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIGVtaXQoSlNPTi5zdHJpbmdpZnkoY2h1bmtEYXRhKSArIFwiXFxuXCIpO1xuICAgIH1cbiAgICBzdGF0ZSA9IGF3YWl0IGNsaWVudC50aHJlYWRzLmdldFN0YXRlKHRocmVhZElkKTtcbiAgICBjb25zdCB0YXNrcyA9IHN0YXRlLnRhc2tzO1xuICAgIGNvbnN0IGludGVycnVwdHMyID0gKChfaiA9IHRhc2tzID09IG51bGwgPyB2b2lkIDAgOiB0YXNrc1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9qLmludGVycnVwdHMpID8/IFtdO1xuICAgIGNvbnN0IGlzRW5kTm9kZSA9IHN0YXRlLm5leHQubGVuZ3RoID09PSAwO1xuICAgIGNvbnN0IHdyaXRlcyA9ICgoX2sgPSBzdGF0ZS5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9rLndyaXRlcykgPz8ge307XG4gICAgaWYgKCEoaW50ZXJydXB0czIgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVycnVwdHMyLmxlbmd0aCkpIHtcbiAgICAgIG5vZGVOYW1lID0gaXNFbmROb2RlID8gXCJfX2VuZF9fXCIgOiBzdGF0ZS5uZXh0WzBdID8/IE9iamVjdC5rZXlzKHdyaXRlcylbMF07XG4gICAgfVxuICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUuYWdlbnRfZXhlY3V0aW9uX3N0cmVhbV9lbmRlZFwiLCBzdHJlYW1JbmZvKTtcbiAgICBlbWl0KGdldFN0YXRlU3luY0V2ZW50KHtcbiAgICAgIHRocmVhZElkLFxuICAgICAgcnVuSWQ6IGV4dGVybmFsUnVuSWQsXG4gICAgICBhZ2VudE5hbWU6IGFnZW50Lm5hbWUsXG4gICAgICBub2RlTmFtZTogaXNFbmROb2RlID8gXCJfX2VuZF9fXCIgOiBub2RlTmFtZSxcbiAgICAgIHN0YXRlOiBzdGF0ZS52YWx1ZXMsXG4gICAgICBydW5uaW5nOiAhc2hvdWxkRXhpdCxcbiAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICBpbmNsdWRlTWVzc2FnZXM6IHRydWUsXG4gICAgICBzY2hlbWFLZXlzXG4gICAgfSkpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChpc1VzZXJDb25maWd1cmF0aW9uRXJyb3IoZSkpIHtcbiAgICAgIGxvZ2dlcjIuZGVidWcoe1xuICAgICAgICBlcnJvcjogZS5tZXNzYWdlLFxuICAgICAgICBjb2RlOiBlLmNvZGVcbiAgICAgIH0sIFwiVXNlciBjb25maWd1cmF0aW9uIGVycm9yXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dnZXIyLmVycm9yKGUpO1xuICAgIH1cbiAgICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLmFnZW50X2V4ZWN1dGlvbl9zdHJlYW1fZXJyb3JlZFwiLCB7XG4gICAgICAuLi5zdHJlYW1JbmZvLFxuICAgICAgZXJyb3I6IGUubWVzc2FnZVxuICAgIH0pO1xuICAgIGlmIChlIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDE3LkNvcGlsb3RLaXRFcnJvciB8fCBlIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDE3LkNvcGlsb3RLaXRMb3dMZXZlbEVycm9yIHx8IGUgaW5zdGFuY2VvZiBFcnJvciAmJiBlLm5hbWUgJiYgZS5uYW1lLmluY2x1ZGVzKFwiQ29waWxvdEtpdFwiKSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG59XG5fX25hbWUoc3RyZWFtRXZlbnRzLCBcInN0cmVhbUV2ZW50c1wiKTtcbmZ1bmN0aW9uIGdldFN0YXRlU3luY0V2ZW50KHsgdGhyZWFkSWQsIHJ1bklkLCBhZ2VudE5hbWUsIG5vZGVOYW1lLCBzdGF0ZSwgcnVubmluZywgYWN0aXZlLCBpbmNsdWRlTWVzc2FnZXMgPSBmYWxzZSwgc2NoZW1hS2V5cyB9KSB7XG4gIGlmICghaW5jbHVkZU1lc3NhZ2VzKSB7XG4gICAgc3RhdGUgPSBPYmplY3Qua2V5cyhzdGF0ZSkucmVkdWNlKChhY2MsIGtleSkgPT4ge1xuICAgICAgaWYgKGtleSAhPT0gXCJtZXNzYWdlc1wiKSB7XG4gICAgICAgIGFjY1trZXldID0gc3RhdGVba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9IGVsc2Uge1xuICAgIHN0YXRlID0ge1xuICAgICAgLi4uc3RhdGUsXG4gICAgICBtZXNzYWdlczogbGFuZ2NoYWluTWVzc2FnZXNUb0NvcGlsb3RLaXQoc3RhdGUubWVzc2FnZXMgfHwgW10pXG4gICAgfTtcbiAgfVxuICBpZiAoc2NoZW1hS2V5cyA9PSBudWxsID8gdm9pZCAwIDogc2NoZW1hS2V5cy5vdXRwdXQpIHtcbiAgICBzdGF0ZSA9IGZpbHRlck9iamVjdEJ5U2NoZW1hS2V5cyhzdGF0ZSwgc2NoZW1hS2V5cy5vdXRwdXQpO1xuICB9XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgZXZlbnQ6IExhbmdHcmFwaEV2ZW50VHlwZXMuT25Db3BpbG90S2l0U3RhdGVTeW5jLFxuICAgIHRocmVhZF9pZDogdGhyZWFkSWQsXG4gICAgcnVuX2lkOiBydW5JZCxcbiAgICBhZ2VudF9uYW1lOiBhZ2VudE5hbWUsXG4gICAgbm9kZV9uYW1lOiBub2RlTmFtZSxcbiAgICBhY3RpdmUsXG4gICAgc3RhdGUsXG4gICAgcnVubmluZyxcbiAgICByb2xlOiBcImFzc2lzdGFudFwiXG4gIH0pICsgXCJcXG5cIjtcbn1cbl9fbmFtZShnZXRTdGF0ZVN5bmNFdmVudCwgXCJnZXRTdGF0ZVN5bmNFdmVudFwiKTtcbnZhciBTdHJlYW1pbmdTdGF0ZUV4dHJhY3RvciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoY2xhc3MgU3RyZWFtaW5nU3RhdGVFeHRyYWN0b3IyIHtcbiAgZW1pdEludGVybWVkaWF0ZVN0YXRlO1xuICB0b29sQ2FsbEJ1ZmZlcjtcbiAgY3VycmVudFRvb2xDYWxsO1xuICBwcmV2aW91c2x5UGFyc2FibGVTdGF0ZTtcbiAgY29uc3RydWN0b3IoZW1pdEludGVybWVkaWF0ZVN0YXRlKSB7XG4gICAgdGhpcy5lbWl0SW50ZXJtZWRpYXRlU3RhdGUgPSBlbWl0SW50ZXJtZWRpYXRlU3RhdGU7XG4gICAgdGhpcy50b29sQ2FsbEJ1ZmZlciA9IHt9O1xuICAgIHRoaXMuY3VycmVudFRvb2xDYWxsID0gbnVsbDtcbiAgICB0aGlzLnByZXZpb3VzbHlQYXJzYWJsZVN0YXRlID0ge307XG4gIH1cbiAgYnVmZmVyVG9vbENhbGxzKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmRhdGEuY2h1bmsudG9vbF9jYWxsX2NodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBjaHVuayA9IGV2ZW50LmRhdGEuY2h1bmsudG9vbF9jYWxsX2NodW5rc1swXTtcbiAgICAgIGlmIChjaHVuay5uYW1lICE9PSBudWxsICYmIGNodW5rLm5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRUb29sQ2FsbCA9IGNodW5rLm5hbWU7XG4gICAgICAgIHRoaXMudG9vbENhbGxCdWZmZXJbdGhpcy5jdXJyZW50VG9vbENhbGxdID0gY2h1bmsuYXJncztcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50VG9vbENhbGwgIT09IG51bGwgJiYgdGhpcy5jdXJyZW50VG9vbENhbGwgIT09IHZvaWQgMCkge1xuICAgICAgICB0aGlzLnRvb2xDYWxsQnVmZmVyW3RoaXMuY3VycmVudFRvb2xDYWxsXSArPSBjaHVuay5hcmdzO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXRFbWl0U3RhdGVDb25maWcoY3VycmVudFRvb2xOYW1lKSB7XG4gICAgZm9yIChjb25zdCBjb25maWcyIG9mIHRoaXMuZW1pdEludGVybWVkaWF0ZVN0YXRlKSB7XG4gICAgICBjb25zdCBzdGF0ZUtleSA9IGNvbmZpZzJbXCJzdGF0ZV9rZXlcIl07XG4gICAgICBjb25zdCB0b29sID0gY29uZmlnMltcInRvb2xcIl07XG4gICAgICBjb25zdCB0b29sQXJndW1lbnQgPSBjb25maWcyW1widG9vbF9hcmd1bWVudFwiXTtcbiAgICAgIGlmIChjdXJyZW50VG9vbE5hbWUgPT09IHRvb2wpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICB0b29sQXJndW1lbnQsXG4gICAgICAgICAgc3RhdGVLZXlcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIG51bGwsXG4gICAgICBudWxsXG4gICAgXTtcbiAgfVxuICBleHRyYWN0U3RhdGUoKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnRvb2xDYWxsQnVmZmVyKSkge1xuICAgICAgY29uc3QgW2FyZ3VtZW50TmFtZSwgc3RhdGVLZXldID0gdGhpcy5nZXRFbWl0U3RhdGVDb25maWcoa2V5KTtcbiAgICAgIGlmIChzdGF0ZUtleSA9PT0gbnVsbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBwYXJzZWRWYWx1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHBhcnNlZFZhbHVlID0gKDAsIGltcG9ydF9wYXJ0aWFsX2pzb24ucGFyc2UpKHZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy5wcmV2aW91c2x5UGFyc2FibGVTdGF0ZSkge1xuICAgICAgICAgIHBhcnNlZFZhbHVlID0gdGhpcy5wcmV2aW91c2x5UGFyc2FibGVTdGF0ZVtrZXldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnByZXZpb3VzbHlQYXJzYWJsZVN0YXRlW2tleV0gPSBwYXJzZWRWYWx1ZTtcbiAgICAgIGlmICghYXJndW1lbnROYW1lKSB7XG4gICAgICAgIHN0YXRlW3N0YXRlS2V5XSA9IHBhcnNlZFZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGVbc3RhdGVLZXldID0gcGFyc2VkVmFsdWVbYXJndW1lbnROYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xuICB9XG59LCBcIlN0cmVhbWluZ1N0YXRlRXh0cmFjdG9yXCIpO1xuZnVuY3Rpb24gbGFuZ0dyYXBoRGVmYXVsdE1lcmdlU3RhdGUoc3RhdGUsIG1lc3NhZ2VzLCBhY3Rpb25zLCBhZ2VudE5hbWUpIHtcbiAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDAgJiYgXCJyb2xlXCIgaW4gbWVzc2FnZXNbMF0gJiYgbWVzc2FnZXNbMF0ucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuc2xpY2UoMSk7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdNZXNzYWdlcyA9IHN0YXRlLm1lc3NhZ2VzIHx8IFtdO1xuICBjb25zdCBleGlzdGluZ01lc3NhZ2VJZHMgPSBuZXcgU2V0KGV4aXN0aW5nTWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiBtZXNzYWdlLmlkKSk7XG4gIGNvbnN0IG1lc3NhZ2VJZHMgPSBuZXcgU2V0KG1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gbWVzc2FnZS5pZCkpO1xuICBsZXQgcmVtb3ZlZE1lc3NhZ2VzID0gW107XG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPCBleGlzdGluZ01lc3NhZ2VzLmxlbmd0aCkge1xuICAgIHJlbW92ZWRNZXNzYWdlcyA9IGV4aXN0aW5nTWVzc2FnZXMuZmlsdGVyKChtKSA9PiAhbWVzc2FnZUlkcy5oYXMobS5pZCkpLm1hcCgobSkgPT4gbmV3IGltcG9ydF9tZXNzYWdlczMuUmVtb3ZlTWVzc2FnZSh7XG4gICAgICBpZDogbS5pZFxuICAgIH0pKTtcbiAgfVxuICBjb25zdCBuZXdNZXNzYWdlcyA9IG1lc3NhZ2VzLmZpbHRlcigobWVzc2FnZSkgPT4gIWV4aXN0aW5nTWVzc2FnZUlkcy5oYXMobWVzc2FnZS5pZCkpO1xuICByZXR1cm4ge1xuICAgIC4uLnN0YXRlLFxuICAgIG1lc3NhZ2VzOiBbXG4gICAgICAuLi5yZW1vdmVkTWVzc2FnZXMsXG4gICAgICAuLi5uZXdNZXNzYWdlc1xuICAgIF0sXG4gICAgY29waWxvdGtpdDoge1xuICAgICAgYWN0aW9uc1xuICAgIH1cbiAgfTtcbn1cbl9fbmFtZShsYW5nR3JhcGhEZWZhdWx0TWVyZ2VTdGF0ZSwgXCJsYW5nR3JhcGhEZWZhdWx0TWVyZ2VTdGF0ZVwiKTtcbmZ1bmN0aW9uIGxhbmdjaGFpbk1lc3NhZ2VzVG9Db3BpbG90S2l0KG1lc3NhZ2VzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBjb25zdCB0b29sX2NhbGxfbmFtZXMgPSB7fTtcbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJhaVwiKSB7XG4gICAgICBmb3IgKGNvbnN0IHRvb2xfY2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgdG9vbF9jYWxsX25hbWVzW3Rvb2xfY2FsbC5pZF0gPSB0b29sX2NhbGwubmFtZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBtZXNzYWdlIG9mIG1lc3NhZ2VzKSB7XG4gICAgbGV0IGNvbnRlbnQgPSBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgY29udGVudCA9IGNvbnRlbnRbMF07XG4gICAgfVxuICAgIGlmIChjb250ZW50IGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgICBjb250ZW50ID0gY29udGVudC50ZXh0O1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50eXBlID09PSBcImh1bWFuXCIpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIGlkOiBtZXNzYWdlLmlkXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UudHlwZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICByb2xlOiBcInN5c3RlbVwiLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBpZDogbWVzc2FnZS5pZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiYWlcIikge1xuICAgICAgaWYgKG1lc3NhZ2UudG9vbF9jYWxscyAmJiBtZXNzYWdlLnRvb2xfY2FsbHMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKGNvbnN0IHRvb2xfY2FsbCBvZiBtZXNzYWdlLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgICBpZDogdG9vbF9jYWxsLmlkLFxuICAgICAgICAgICAgbmFtZTogdG9vbF9jYWxsLm5hbWUsXG4gICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xfY2FsbC5hcmdzLFxuICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBtZXNzYWdlLmlkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBtZXNzYWdlLmlkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS50eXBlID09PSBcInRvb2xcIikge1xuICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IHRvb2xfY2FsbF9uYW1lc1ttZXNzYWdlLnRvb2xfY2FsbF9pZF0gfHwgbWVzc2FnZS5uYW1lIHx8IFwiXCI7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBtZXNzYWdlLnRvb2xfY2FsbF9pZCxcbiAgICAgICAgYWN0aW9uTmFtZSxcbiAgICAgICAgcmVzdWx0OiBjb250ZW50LFxuICAgICAgICBpZDogbWVzc2FnZS5pZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc3VsdHNEaWN0ID0ge307XG4gIGZvciAoY29uc3QgbXNnIG9mIHJlc3VsdCkge1xuICAgIGlmIChtc2cuYWN0aW9uRXhlY3V0aW9uSWQpIHtcbiAgICAgIHJlc3VsdHNEaWN0W21zZy5hY3Rpb25FeGVjdXRpb25JZF0gPSBtc2c7XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlb3JkZXJlZFJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IG1zZyBvZiByZXN1bHQpIHtcbiAgICBpZiAoIShcImFjdGlvbkV4ZWN1dGlvbklkXCIgaW4gbXNnKSkge1xuICAgICAgcmVvcmRlcmVkUmVzdWx0LnB1c2gobXNnKTtcbiAgICB9XG4gICAgaWYgKFwiYXJndW1lbnRzXCIgaW4gbXNnKSB7XG4gICAgICBjb25zdCBtc2dJZCA9IG1zZy5pZDtcbiAgICAgIGlmIChtc2dJZCBpbiByZXN1bHRzRGljdCkge1xuICAgICAgICByZW9yZGVyZWRSZXN1bHQucHVzaChyZXN1bHRzRGljdFttc2dJZF0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVvcmRlcmVkUmVzdWx0O1xufVxuX19uYW1lKGxhbmdjaGFpbk1lc3NhZ2VzVG9Db3BpbG90S2l0LCBcImxhbmdjaGFpbk1lc3NhZ2VzVG9Db3BpbG90S2l0XCIpO1xuZnVuY3Rpb24gY29waWxvdGtpdE1lc3NhZ2VzVG9MYW5nQ2hhaW4obWVzc2FnZXMpIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGNvbnN0IHByb2Nlc3NlZEFjdGlvbkV4ZWN1dGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS5pc1RleHRNZXNzYWdlKCkpIHtcbiAgICAgIGlmIChtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLnVzZXJcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJzeXN0ZW1cIikge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICByb2xlOiBNZXNzYWdlUm9sZS5zeXN0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgLi4ubWVzc2FnZSxcbiAgICAgICAgICByb2xlOiBNZXNzYWdlUm9sZS5hc3Npc3RhbnRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaXNJbWFnZU1lc3NhZ2UoKSkge1xuICAgICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCIpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUudXNlcixcbiAgICAgICAgICBjb250ZW50OiBcIlwiXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUuYXNzaXN0YW50LFxuICAgICAgICAgIGNvbnRlbnQ6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IG1lc3NhZ2UucGFyZW50TWVzc2FnZUlkID8/IG1lc3NhZ2UuaWQ7XG4gICAgICBpZiAocHJvY2Vzc2VkQWN0aW9uRXhlY3V0aW9ucy5oYXMobWVzc2FnZUlkKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHByb2Nlc3NlZEFjdGlvbkV4ZWN1dGlvbnMuYWRkKG1lc3NhZ2VJZCk7XG4gICAgICBjb25zdCByZWxhdGVkQWN0aW9uRXhlY3V0aW9ucyA9IG1lc3NhZ2VzLmZpbHRlcigobSkgPT4gbS5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSAmJiAobS5wYXJlbnRNZXNzYWdlSWQgJiYgbS5wYXJlbnRNZXNzYWdlSWQgPT09IG1lc3NhZ2VJZCB8fCBtLmlkID09PSBtZXNzYWdlSWQpKTtcbiAgICAgIGNvbnN0IHRvb2xfY2FsbHMgPSByZWxhdGVkQWN0aW9uRXhlY3V0aW9ucy5tYXAoKG0pID0+ICh7XG4gICAgICAgIG5hbWU6IG0ubmFtZSxcbiAgICAgICAgYXJnczogbS5hcmd1bWVudHMsXG4gICAgICAgIGlkOiBtLmlkXG4gICAgICB9KSk7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIGlkOiBtZXNzYWdlSWQsXG4gICAgICAgIHR5cGU6IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZVwiLFxuICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICB0b29sX2NhbGxzLFxuICAgICAgICByb2xlOiBNZXNzYWdlUm9sZS5hc3Npc3RhbnRcbiAgICAgIH0pO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmlzUmVzdWx0TWVzc2FnZSgpKSB7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHR5cGU6IG1lc3NhZ2UudHlwZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5yZXN1bHQsXG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICB0b29sX2NhbGxfaWQ6IG1lc3NhZ2UuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgIG5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZSxcbiAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUudG9vbFxuICAgICAgfSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIG1lc3NhZ2UgdHlwZSAke21lc3NhZ2UudHlwZX1gKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuX19uYW1lKGNvcGlsb3RraXRNZXNzYWdlc1RvTGFuZ0NoYWluLCBcImNvcGlsb3RraXRNZXNzYWdlc1RvTGFuZ0NoYWluXCIpO1xuZnVuY3Rpb24gZ2V0U2NoZW1hS2V5cyhncmFwaFNjaGVtYSkge1xuICBjb25zdCBDT05TVEFOVF9LRVlTID0gW1xuICAgIFwibWVzc2FnZXNcIixcbiAgICBcImNvcGlsb3RraXRcIlxuICBdO1xuICBsZXQgY29uZmlnU2NoZW1hID0gbnVsbDtcbiAgaWYgKGdyYXBoU2NoZW1hLmNvbmZpZ19zY2hlbWEucHJvcGVydGllcykge1xuICAgIGNvbmZpZ1NjaGVtYSA9IE9iamVjdC5rZXlzKGdyYXBoU2NoZW1hLmNvbmZpZ19zY2hlbWEucHJvcGVydGllcyk7XG4gIH1cbiAgaWYgKCFncmFwaFNjaGVtYS5pbnB1dF9zY2hlbWEucHJvcGVydGllcyB8fCAhZ3JhcGhTY2hlbWEub3V0cHV0X3NjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIGNvbmZpZ1NjaGVtYTtcbiAgfVxuICBjb25zdCBpbnB1dFNjaGVtYSA9IE9iamVjdC5rZXlzKGdyYXBoU2NoZW1hLmlucHV0X3NjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgY29uc3Qgb3V0cHV0U2NoZW1hID0gT2JqZWN0LmtleXMoZ3JhcGhTY2hlbWEub3V0cHV0X3NjaGVtYS5wcm9wZXJ0aWVzKTtcbiAgcmV0dXJuIHtcbiAgICBpbnB1dDogaW5wdXRTY2hlbWEgJiYgaW5wdXRTY2hlbWEubGVuZ3RoID8gW1xuICAgICAgLi4uaW5wdXRTY2hlbWEsXG4gICAgICAuLi5DT05TVEFOVF9LRVlTXG4gICAgXSA6IG51bGwsXG4gICAgb3V0cHV0OiBvdXRwdXRTY2hlbWEgJiYgb3V0cHV0U2NoZW1hLmxlbmd0aCA/IFtcbiAgICAgIC4uLm91dHB1dFNjaGVtYSxcbiAgICAgIC4uLkNPTlNUQU5UX0tFWVNcbiAgICBdIDogbnVsbCxcbiAgICBjb25maWc6IGNvbmZpZ1NjaGVtYVxuICB9O1xufVxuX19uYW1lKGdldFNjaGVtYUtleXMsIFwiZ2V0U2NoZW1hS2V5c1wiKTtcbmZ1bmN0aW9uIGZpbHRlck9iamVjdEJ5U2NoZW1hS2V5cyhvYmosIHNjaGVtYUtleXMpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhvYmopLmZpbHRlcigoW2tleV0pID0+IHNjaGVtYUtleXMuaW5jbHVkZXMoa2V5KSkpO1xufVxuX19uYW1lKGZpbHRlck9iamVjdEJ5U2NoZW1hS2V5cywgXCJmaWx0ZXJPYmplY3RCeVNjaGVtYUtleXNcIik7XG5mdW5jdGlvbiBlbWl0SW50ZXJydXB0KGludGVycnVwdFZhbHVlLCBlbWl0KSB7XG4gIGlmICh0eXBlb2YgaW50ZXJydXB0VmFsdWUgIT0gXCJzdHJpbmdcIiAmJiBcIl9fY29waWxvdGtpdF9pbnRlcnJ1cHRfdmFsdWVfX1wiIGluIGludGVycnVwdFZhbHVlKSB7XG4gICAgY29uc3QgZXZWYWx1ZSA9IGludGVycnVwdFZhbHVlLl9fY29waWxvdGtpdF9pbnRlcnJ1cHRfdmFsdWVfXztcbiAgICBlbWl0KEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGV2ZW50OiBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ29waWxvdEtpdEludGVycnVwdCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdmFsdWU6IHR5cGVvZiBldlZhbHVlID09PSBcInN0cmluZ1wiID8gZXZWYWx1ZSA6IEpTT04uc3RyaW5naWZ5KGV2VmFsdWUpLFxuICAgICAgICBtZXNzYWdlczogbGFuZ2NoYWluTWVzc2FnZXNUb0NvcGlsb3RLaXQoaW50ZXJydXB0VmFsdWUuX19jb3BpbG90a2l0X21lc3NhZ2VzX18pXG4gICAgICB9XG4gICAgfSkgKyBcIlxcblwiKTtcbiAgfSBlbHNlIHtcbiAgICBlbWl0KEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGV2ZW50OiBMYW5nR3JhcGhFdmVudFR5cGVzLk9uSW50ZXJydXB0LFxuICAgICAgdmFsdWU6IHR5cGVvZiBpbnRlcnJ1cHRWYWx1ZSA9PT0gXCJzdHJpbmdcIiA/IGludGVycnVwdFZhbHVlIDogSlNPTi5zdHJpbmdpZnkoaW50ZXJydXB0VmFsdWUpXG4gICAgfSkgKyBcIlxcblwiKTtcbiAgfVxufVxuX19uYW1lKGVtaXRJbnRlcnJ1cHQsIFwiZW1pdEludGVycnVwdFwiKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL21jcC10b29scy11dGlscy50c1xuZnVuY3Rpb24gZXh0cmFjdFBhcmFtZXRlcnNGcm9tU2NoZW1hKHRvb2xPclNjaGVtYSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IHBhcmFtZXRlcnMgPSBbXTtcbiAgY29uc3Qgc2NoZW1hID0gXCJzY2hlbWFcIiBpbiAodG9vbE9yU2NoZW1hIHx8IHt9KSA/IHRvb2xPclNjaGVtYS5zY2hlbWEgOiB0b29sT3JTY2hlbWE7XG4gIGNvbnN0IHRvb2xQYXJhbWV0ZXJzID0gKChfYSA9IHNjaGVtYSA9PSBudWxsID8gdm9pZCAwIDogc2NoZW1hLnBhcmFtZXRlcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5qc29uU2NoZW1hKSB8fCAoc2NoZW1hID09IG51bGwgPyB2b2lkIDAgOiBzY2hlbWEucGFyYW1ldGVycyk7XG4gIGNvbnN0IHByb3BlcnRpZXMgPSB0b29sUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogdG9vbFBhcmFtZXRlcnMucHJvcGVydGllcztcbiAgY29uc3QgcmVxdWlyZWRQYXJhbXMgPSBuZXcgU2V0KCh0b29sUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogdG9vbFBhcmFtZXRlcnMucmVxdWlyZWQpIHx8IFtdKTtcbiAgaWYgKCFwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIHBhcmFtZXRlcnM7XG4gIH1cbiAgZm9yIChjb25zdCBwYXJhbU5hbWUgaW4gcHJvcGVydGllcykge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvcGVydGllcywgcGFyYW1OYW1lKSkge1xuICAgICAgY29uc3QgcGFyYW1EZWYgPSBwcm9wZXJ0aWVzW3BhcmFtTmFtZV07XG4gICAgICBsZXQgdHlwZSA9IHBhcmFtRGVmLnR5cGUgfHwgXCJzdHJpbmdcIjtcbiAgICAgIGxldCBkZXNjcmlwdGlvbiA9IHBhcmFtRGVmLmRlc2NyaXB0aW9uIHx8IFwiXCI7XG4gICAgICBpZiAodHlwZSA9PT0gXCJhcnJheVwiICYmIHBhcmFtRGVmLml0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UeXBlID0gcGFyYW1EZWYuaXRlbXMudHlwZSB8fCBcIm9iamVjdFwiO1xuICAgICAgICBpZiAoaXRlbVR5cGUgPT09IFwib2JqZWN0XCIgJiYgcGFyYW1EZWYuaXRlbXMucHJvcGVydGllcykge1xuICAgICAgICAgIGNvbnN0IGl0ZW1Qcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMocGFyYW1EZWYuaXRlbXMucHJvcGVydGllcykuam9pbihcIiwgXCIpO1xuICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gKyAoZGVzY3JpcHRpb24gPyBcIiBcIiA6IFwiXCIpICsgYEFycmF5IG9mIG9iamVjdHMgd2l0aCBwcm9wZXJ0aWVzOiAke2l0ZW1Qcm9wZXJ0aWVzfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHlwZSA9IGBhcnJheTwke2l0ZW1UeXBlfT5gO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1EZWYuZW51bSAmJiBBcnJheS5pc0FycmF5KHBhcmFtRGVmLmVudW0pKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSBwYXJhbURlZi5lbnVtLmpvaW4oXCIgfCBcIik7XG4gICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gKyAoZGVzY3JpcHRpb24gPyBcIiBcIiA6IFwiXCIpICsgYEFsbG93ZWQgdmFsdWVzOiAke2VudW1WYWx1ZXN9YDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSBcIm9iamVjdFwiICYmIHBhcmFtRGVmLnByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0UHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHBhcmFtRGVmLnByb3BlcnRpZXMpLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiArIChkZXNjcmlwdGlvbiA/IFwiIFwiIDogXCJcIikgKyBgT2JqZWN0IHdpdGggcHJvcGVydGllczogJHtvYmplY3RQcm9wZXJ0aWVzfWA7XG4gICAgICB9XG4gICAgICBwYXJhbWV0ZXJzLnB1c2goe1xuICAgICAgICBuYW1lOiBwYXJhbU5hbWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICByZXF1aXJlZDogcmVxdWlyZWRQYXJhbXMuaGFzKHBhcmFtTmFtZSlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyYW1ldGVycztcbn1cbl9fbmFtZShleHRyYWN0UGFyYW1ldGVyc0Zyb21TY2hlbWEsIFwiZXh0cmFjdFBhcmFtZXRlcnNGcm9tU2NoZW1hXCIpO1xuZnVuY3Rpb24gY29udmVydE1DUFRvb2xzVG9BY3Rpb25zKG1jcFRvb2xzLCBtY3BFbmRwb2ludCkge1xuICBjb25zdCBhY3Rpb25zID0gW107XG4gIGZvciAoY29uc3QgW3Rvb2xOYW1lLCB0b29sXSBvZiBPYmplY3QuZW50cmllcyhtY3BUb29scykpIHtcbiAgICBjb25zdCBwYXJhbWV0ZXJzID0gZXh0cmFjdFBhcmFtZXRlcnNGcm9tU2NoZW1hKHRvb2wpO1xuICAgIGNvbnN0IGhhbmRsZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJhbXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRvb2wuZXhlY3V0ZShwYXJhbXMpO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCA9PT0gXCJzdHJpbmdcIiA/IHJlc3VsdCA6IEpTT04uc3RyaW5naWZ5KHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBleGVjdXRpbmcgTUNQIHRvb2wgJyR7dG9vbE5hbWV9JyBmcm9tIGVuZHBvaW50ICR7bWNwRW5kcG9pbnR9OmAsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeGVjdXRpb24gZmFpbGVkIGZvciBNQ1AgdG9vbCAnJHt0b29sTmFtZX0nOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcbiAgICAgIH1cbiAgICB9LCBcImhhbmRsZXJcIik7XG4gICAgYWN0aW9ucy5wdXNoKHtcbiAgICAgIG5hbWU6IHRvb2xOYW1lLFxuICAgICAgZGVzY3JpcHRpb246IHRvb2wuZGVzY3JpcHRpb24gfHwgYE1DUCB0b29sOiAke3Rvb2xOYW1lfSAoZnJvbSAke21jcEVuZHBvaW50fSlgLFxuICAgICAgcGFyYW1ldGVycyxcbiAgICAgIGhhbmRsZXIsXG4gICAgICAvLyBBZGQgbWV0YWRhdGEgZm9yIGVhc2llciBpZGVudGlmaWNhdGlvbi9kZWJ1Z2dpbmdcbiAgICAgIF9pc01DUFRvb2w6IHRydWUsXG4gICAgICBfbWNwRW5kcG9pbnQ6IG1jcEVuZHBvaW50XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGFjdGlvbnM7XG59XG5fX25hbWUoY29udmVydE1DUFRvb2xzVG9BY3Rpb25zLCBcImNvbnZlcnRNQ1BUb29sc1RvQWN0aW9uc1wiKTtcbmZ1bmN0aW9uIGdlbmVyYXRlTWNwVG9vbEluc3RydWN0aW9ucyh0b29sc01hcCkge1xuICBpZiAoIXRvb2xzTWFwIHx8IE9iamVjdC5rZXlzKHRvb2xzTWFwKS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBjb25zdCB0b29sRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRvb2xzTWFwKTtcbiAgY29uc3QgdG9vbHNEb2MgPSB0b29sRW50cmllcy5tYXAoKFtuYW1lLCB0b29sXSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBsZXQgcGFyYW1zRG9jID0gXCIgICAgTm8gcGFyYW1ldGVycyByZXF1aXJlZFwiO1xuICAgIHRyeSB7XG4gICAgICBpZiAodG9vbC5zY2hlbWEgJiYgdHlwZW9mIHRvb2wuc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYSA9IHRvb2wuc2NoZW1hO1xuICAgICAgICBjb25zdCB0b29sUGFyYW1ldGVycyA9ICgoX2EgPSBzY2hlbWEucGFyYW1ldGVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmpzb25TY2hlbWEpIHx8IHNjaGVtYS5wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBwcm9wZXJ0aWVzID0gKHRvb2xQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiB0b29sUGFyYW1ldGVycy5wcm9wZXJ0aWVzKSB8fCBzY2hlbWEucHJvcGVydGllcztcbiAgICAgICAgY29uc3QgcmVxdWlyZWRQYXJhbXMgPSAodG9vbFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xQYXJhbWV0ZXJzLnJlcXVpcmVkKSB8fCBzY2hlbWEucmVxdWlyZWQgfHwgW107XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgY29uc3QgcGFyYW1zTGlzdCA9IE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLm1hcCgoW3BhcmFtTmFtZSwgcHJvcFNjaGVtYV0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb3BEZXRhaWxzID0gcHJvcFNjaGVtYTtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVpcmVkTWFyayA9IHJlcXVpcmVkUGFyYW1zLmluY2x1ZGVzKHBhcmFtTmFtZSkgPyBcIipcIiA6IFwiXCI7XG4gICAgICAgICAgICBsZXQgdHlwZUluZm8gPSBwcm9wRGV0YWlscy50eXBlIHx8IFwiYW55XCI7XG4gICAgICAgICAgICBsZXQgZGVzY3JpcHRpb24gPSBwcm9wRGV0YWlscy5kZXNjcmlwdGlvbiA/IGAgLSAke3Byb3BEZXRhaWxzLmRlc2NyaXB0aW9ufWAgOiBcIlwiO1xuICAgICAgICAgICAgaWYgKHR5cGVJbmZvID09PSBcImFycmF5XCIgJiYgcHJvcERldGFpbHMuaXRlbXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgaXRlbVR5cGUgPSBwcm9wRGV0YWlscy5pdGVtcy50eXBlIHx8IFwib2JqZWN0XCI7XG4gICAgICAgICAgICAgIGlmIChpdGVtVHlwZSA9PT0gXCJvYmplY3RcIiAmJiBwcm9wRGV0YWlscy5pdGVtcy5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbVByb3BzID0gT2JqZWN0LmtleXMocHJvcERldGFpbHMuaXRlbXMucHJvcGVydGllcykuam9pbihcIiwgXCIpO1xuICAgICAgICAgICAgICAgIHR5cGVJbmZvID0gYGFycmF5PG9iamVjdD5gO1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gKyAoZGVzY3JpcHRpb24gPyBcIiBcIiA6IFwiIC0gXCIpICsgYEFycmF5IG9mIG9iamVjdHMgd2l0aCBwcm9wZXJ0aWVzOiAke2l0ZW1Qcm9wc31gO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHR5cGVJbmZvID0gYGFycmF5PCR7aXRlbVR5cGV9PmA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wRGV0YWlscy5lbnVtICYmIEFycmF5LmlzQXJyYXkocHJvcERldGFpbHMuZW51bSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHByb3BEZXRhaWxzLmVudW0uam9pbihcIiB8IFwiKTtcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiArIChkZXNjcmlwdGlvbiA/IFwiIFwiIDogXCIgLSBcIikgKyBgQWxsb3dlZCB2YWx1ZXM6ICR7ZW51bVZhbHVlc31gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVJbmZvID09PSBcIm9iamVjdFwiICYmIHByb3BEZXRhaWxzLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0UHJvcHMgPSBPYmplY3Qua2V5cyhwcm9wRGV0YWlscy5wcm9wZXJ0aWVzKS5qb2luKFwiLCBcIik7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gKyAoZGVzY3JpcHRpb24gPyBcIiBcIiA6IFwiIC0gXCIpICsgYE9iamVjdCB3aXRoIHByb3BlcnRpZXM6ICR7b2JqZWN0UHJvcHN9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBgICAgIC0gJHtwYXJhbU5hbWV9JHtyZXF1aXJlZE1hcmt9ICgke3R5cGVJbmZvfSkke2Rlc2NyaXB0aW9ufWA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHBhcmFtc0xpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcGFyYW1zRG9jID0gcGFyYW1zTGlzdC5qb2luKFwiXFxuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHBhcnNpbmcgc2NoZW1hIGZvciB0b29sICR7bmFtZX06YCwgZSk7XG4gICAgfVxuICAgIHJldHVybiBgLSAke25hbWV9OiAke3Rvb2wuZGVzY3JpcHRpb24gfHwgXCJcIn1cbiR7cGFyYW1zRG9jfWA7XG4gIH0pLmpvaW4oXCJcXG5cXG5cIik7XG4gIHJldHVybiBgWW91IGhhdmUgYWNjZXNzIHRvIHRoZSBmb2xsb3dpbmcgZXh0ZXJuYWwgdG9vbHMgcHJvdmlkZWQgYnkgTW9kZWwgQ29udGV4dCBQcm90b2NvbCAoTUNQKSBzZXJ2ZXJzOlxuXG4ke3Rvb2xzRG9jfVxuXG5XaGVuIHVzaW5nIHRoZXNlIHRvb2xzOlxuMS4gT25seSBwcm92aWRlIHZhbGlkIHBhcmFtZXRlcnMgYWNjb3JkaW5nIHRvIHRoZWlyIHR5cGUgcmVxdWlyZW1lbnRzXG4yLiBSZXF1aXJlZCBwYXJhbWV0ZXJzIGFyZSBtYXJrZWQgd2l0aCAqXG4zLiBGb3IgYXJyYXkgcGFyYW1ldGVycywgcHJvdmlkZSBkYXRhIGluIHRoZSBjb3JyZWN0IGFycmF5IGZvcm1hdFxuNC4gRm9yIG9iamVjdCBwYXJhbWV0ZXJzLCBpbmNsdWRlIGFsbCByZXF1aXJlZCBuZXN0ZWQgcHJvcGVydGllc1xuNS4gRm9yIGVudW0gcGFyYW1ldGVycywgdXNlIG9ubHkgdGhlIGFsbG93ZWQgdmFsdWVzIGxpc3RlZFxuNi4gRm9ybWF0IEFQSSBjYWxscyBjb3JyZWN0bHkgd2l0aCB0aGUgZXhwZWN0ZWQgcGFyYW1ldGVyIHN0cnVjdHVyZVxuNy4gQWx3YXlzIGNoZWNrIHRvb2wgcmVzcG9uc2VzIHRvIGRldGVybWluZSB5b3VyIG5leHQgYWN0aW9uYDtcbn1cbl9fbmFtZShnZW5lcmF0ZU1jcFRvb2xJbnN0cnVjdGlvbnMsIFwiZ2VuZXJhdGVNY3BUb29sSW5zdHJ1Y3Rpb25zXCIpO1xuXG4vLyBzcmMvbGliL3J1bnRpbWUvY29waWxvdC1ydW50aW1lLnRzXG52YXIgQ29waWxvdFJ1bnRpbWUgPSBjbGFzcyB7XG4gIGFjdGlvbnM7XG4gIGFnZW50cztcbiAgcmVtb3RlRW5kcG9pbnREZWZpbml0aW9ucztcbiAgbGFuZ3NlcnZlID0gW107XG4gIG9uQmVmb3JlUmVxdWVzdDtcbiAgb25BZnRlclJlcXVlc3Q7XG4gIGRlbGVnYXRlQWdlbnRQcm9jZXNzaW5nVG9TZXJ2aWNlQWRhcHRlcjtcbiAgb2JzZXJ2YWJpbGl0eTtcbiAgYXZhaWxhYmxlQWdlbnRzO1xuICBvbkVycm9yO1xuICBoYXNXYXJuZWRBYm91dEVycm9yID0gZmFsc2U7XG4gIC8vICsrKyBNQ1AgUHJvcGVydGllcyArKytcbiAgbWNwU2VydmVyc0NvbmZpZztcbiAgbWNwQWN0aW9uQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAvLyAtLS0gTUNQIFByb3BlcnRpZXMgLS0tXG4gIC8vICsrKyBNQ1AgQ2xpZW50IEZhY3RvcnkgKysrXG4gIGNyZWF0ZU1DUENsaWVudEltcGw7XG4gIC8vIC0tLSBNQ1AgQ2xpZW50IEZhY3RvcnkgLS0tXG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmFjdGlvbnMpICYmIChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5yZW1vdGVFbmRwb2ludHMpICYmIChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5yZW1vdGVFbmRwb2ludHMuc29tZSgoZSkgPT4gZS50eXBlID09PSBFbmRwb2ludFR5cGUuTGFuZ0dyYXBoUGxhdGZvcm0pKSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQWN0aW9ucyBzZXQgaW4gcnVudGltZSBpbnN0YW5jZSB3aWxsIG5vdCBiZSBhdmFpbGFibGUgZm9yIHRoZSBhZ2VudFwiKTtcbiAgICAgIGNvbnNvbGUud2FybihgTGFuZ0dyYXBoIFBsYXRmb3JtIHJlbW90ZSBlbmRwb2ludHMgYXJlIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIFwiYWdlbnRzXCIgcHJvcGVydHlgKTtcbiAgICB9XG4gICAgdGhpcy5hY3Rpb25zID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmFjdGlvbnMpIHx8IFtdO1xuICAgIHRoaXMuYXZhaWxhYmxlQWdlbnRzID0gW107XG4gICAgZm9yIChjb25zdCBjaGFpbiBvZiAocGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMubGFuZ3NlcnZlKSB8fCBbXSkge1xuICAgICAgY29uc3QgcmVtb3RlQ2hhaW4gPSBuZXcgUmVtb3RlQ2hhaW4oY2hhaW4pO1xuICAgICAgdGhpcy5sYW5nc2VydmUucHVzaChyZW1vdGVDaGFpbi50b0FjdGlvbigpKTtcbiAgICB9XG4gICAgdGhpcy5yZW1vdGVFbmRwb2ludERlZmluaXRpb25zID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLnJlbW90ZUVuZHBvaW50cykgPz8gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLnJlbW90ZUFjdGlvbnMpID8/IFtdO1xuICAgIHRoaXMub25CZWZvcmVSZXF1ZXN0ID0gKF9hID0gcGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMubWlkZGxld2FyZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm9uQmVmb3JlUmVxdWVzdDtcbiAgICB0aGlzLm9uQWZ0ZXJSZXF1ZXN0ID0gKF9iID0gcGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMubWlkZGxld2FyZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLm9uQWZ0ZXJSZXF1ZXN0O1xuICAgIHRoaXMuZGVsZWdhdGVBZ2VudFByb2Nlc3NpbmdUb1NlcnZpY2VBZGFwdGVyID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmRlbGVnYXRlQWdlbnRQcm9jZXNzaW5nVG9TZXJ2aWNlQWRhcHRlcikgfHwgZmFsc2U7XG4gICAgdGhpcy5vYnNlcnZhYmlsaXR5ID0gcGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMub2JzZXJ2YWJpbGl0eV9jO1xuICAgIHRoaXMuYWdlbnRzID0gKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmFnZW50cykgPz8ge307XG4gICAgdGhpcy5vbkVycm9yID0gcGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMub25FcnJvcjtcbiAgICB0aGlzLm1jcFNlcnZlcnNDb25maWcgPSBwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5tY3BTZXJ2ZXJzO1xuICAgIHRoaXMuY3JlYXRlTUNQQ2xpZW50SW1wbCA9IHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLmNyZWF0ZU1DUENsaWVudDtcbiAgICBpZiAodGhpcy5tY3BTZXJ2ZXJzQ29uZmlnICYmIHRoaXMubWNwU2VydmVyc0NvbmZpZy5sZW5ndGggPiAwICYmICF0aGlzLmNyZWF0ZU1DUENsaWVudEltcGwpIHtcbiAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMTguQ29waWxvdEtpdE1pc3VzZUVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogXCJNQ1AgSW50ZWdyYXRpb24gRXJyb3I6IGBtY3BTZXJ2ZXJzYCB3ZXJlIHByb3ZpZGVkLCBidXQgdGhlIGBjcmVhdGVNQ1BDbGllbnRgIGZ1bmN0aW9uIHdhcyBub3QgcGFzc2VkIHRvIHRoZSBDb3BpbG90UnVudGltZSBjb25zdHJ1Y3Rvci4gUGxlYXNlIHByb3ZpZGUgYW4gaW1wbGVtZW50YXRpb24gZm9yIGBjcmVhdGVNQ1BDbGllbnRgLlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5hY3Rpb25zKSAmJiAoKChfYyA9IHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLnJlbW90ZUVuZHBvaW50cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnNvbWUoKGUpID0+IGUudHlwZSA9PT0gRW5kcG9pbnRUeXBlLkxhbmdHcmFwaFBsYXRmb3JtKSkgfHwgKChfZCA9IHRoaXMubWNwU2VydmVyc0NvbmZpZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmxlbmd0aCkpKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJMb2NhbCAnYWN0aW9ucycgZGVmaW5lZCBpbiBDb3BpbG90UnVudGltZSBtaWdodCBub3QgYmUgYXZhaWxhYmxlIHRvIHJlbW90ZSBhZ2VudHMgKExhbmdHcmFwaCwgTUNQKS4gQ29uc2lkZXIgZGVmaW5pbmcgYWN0aW9ucyBjbG9zZXIgdG8gdGhlIGFnZW50IGltcGxlbWVudGF0aW9uIGlmIG5lZWRlZC5cIik7XG4gICAgfVxuICB9XG4gIC8vICsrKyBNQ1AgSW5zdHJ1Y3Rpb24gSW5qZWN0aW9uIE1ldGhvZCArKytcbiAgaW5qZWN0TUNQVG9vbEluc3RydWN0aW9ucyhtZXNzYWdlcywgY3VycmVudEFjdGlvbnMpIHtcbiAgICBjb25zdCBtY3BBY3Rpb25zRm9yUmVxdWVzdCA9IGN1cnJlbnRBY3Rpb25zLmZpbHRlcigoYWN0aW9uKSA9PiBhY3Rpb24uX2lzTUNQVG9vbCk7XG4gICAgaWYgKCFtY3BBY3Rpb25zRm9yUmVxdWVzdCB8fCBtY3BBY3Rpb25zRm9yUmVxdWVzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICB9XG4gICAgY29uc3QgdW5pcXVlTWNwVG9vbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIG1jcEFjdGlvbnNGb3JSZXF1ZXN0LmZvckVhY2goKGFjdGlvbikgPT4ge1xuICAgICAgdW5pcXVlTWNwVG9vbHMuc2V0KGFjdGlvbi5uYW1lLCBhY3Rpb24pO1xuICAgIH0pO1xuICAgIGNvbnN0IHRvb2xzTWFwID0ge307XG4gICAgQXJyYXkuZnJvbSh1bmlxdWVNY3BUb29scy52YWx1ZXMoKSkuZm9yRWFjaCgoYWN0aW9uKSA9PiB7XG4gICAgICB0b29sc01hcFthY3Rpb24ubmFtZV0gPSB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24gfHwgXCJcIixcbiAgICAgICAgc2NoZW1hOiBhY3Rpb24ucGFyYW1ldGVycyA/IHtcbiAgICAgICAgICBwYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBhY3Rpb24ucGFyYW1ldGVycy5yZWR1Y2UoKGFjYywgcCkgPT4gKHtcbiAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICBbcC5uYW1lXToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHAudHlwZSxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcC5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSwge30pLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGFjdGlvbi5wYXJhbWV0ZXJzLmZpbHRlcigocCkgPT4gcC5yZXF1aXJlZCkubWFwKChwKSA9PiBwLm5hbWUpXG4gICAgICAgICAgfVxuICAgICAgICB9IDoge30sXG4gICAgICAgIGV4ZWN1dGU6IGFzeW5jICgpID0+ICh7fSlcbiAgICAgIH07XG4gICAgfSk7XG4gICAgY29uc3QgbWNwVG9vbEluc3RydWN0aW9ucyA9IGdlbmVyYXRlTWNwVG9vbEluc3RydWN0aW9ucyh0b29sc01hcCk7XG4gICAgaWYgKCFtY3BUb29sSW5zdHJ1Y3Rpb25zKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZXM7XG4gICAgfVxuICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IG1jcFRvb2xJbnN0cnVjdGlvbnMgKyBcIlxcblVzZSB0aGVtIHdoZW4gYXBwcm9wcmlhdGUgdG8gZnVsZmlsbCB0aGUgdXNlcidzIHJlcXVlc3QuXCI7XG4gICAgY29uc3Qgc3lzdGVtTWVzc2FnZUluZGV4ID0gbWVzc2FnZXMuZmluZEluZGV4KChtc2cpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoKF9hID0gbXNnLnRleHRNZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2Eucm9sZSkgPT09IFwic3lzdGVtXCI7XG4gICAgfSk7XG4gICAgY29uc3QgbmV3TWVzc2FnZXMgPSBbXG4gICAgICAuLi5tZXNzYWdlc1xuICAgIF07XG4gICAgaWYgKHN5c3RlbU1lc3NhZ2VJbmRleCAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nTXNnID0gbmV3TWVzc2FnZXNbc3lzdGVtTWVzc2FnZUluZGV4XTtcbiAgICAgIGlmIChleGlzdGluZ01zZy50ZXh0TWVzc2FnZSkge1xuICAgICAgICBleGlzdGluZ01zZy50ZXh0TWVzc2FnZS5jb250ZW50ID0gKGV4aXN0aW5nTXNnLnRleHRNZXNzYWdlLmNvbnRlbnQgPyBleGlzdGluZ01zZy50ZXh0TWVzc2FnZS5jb250ZW50ICsgXCJcXG5cXG5cIiA6IFwiXCIpICsgaW5zdHJ1Y3Rpb25zO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdNZXNzYWdlcy51bnNoaWZ0KHtcbiAgICAgICAgaWQ6ICgwLCBpbXBvcnRfc2hhcmVkMTgucmFuZG9tSWQpKCksXG4gICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgIHRleHRNZXNzYWdlOiB7XG4gICAgICAgICAgcm9sZTogTWVzc2FnZVJvbGUuc3lzdGVtLFxuICAgICAgICAgIGNvbnRlbnQ6IGluc3RydWN0aW9uc1xuICAgICAgICB9LFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25NZXNzYWdlOiB2b2lkIDAsXG4gICAgICAgIHJlc3VsdE1lc3NhZ2U6IHZvaWQgMCxcbiAgICAgICAgYWdlbnRTdGF0ZU1lc3NhZ2U6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdNZXNzYWdlcztcbiAgfVxuICBhc3luYyBwcm9jZXNzUnVudGltZVJlcXVlc3QocmVxdWVzdCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgeyBzZXJ2aWNlQWRhcHRlciwgbWVzc2FnZXM6IHJhd01lc3NhZ2VzLCBhY3Rpb25zOiBjbGllbnRTaWRlQWN0aW9uc0lucHV0LCB0aHJlYWRJZCwgcnVuSWQsIG91dHB1dE1lc3NhZ2VzUHJvbWlzZSwgZ3JhcGhxbENvbnRleHQsIGZvcndhcmRlZFBhcmFtZXRlcnMsIHVybCwgZXh0ZW5zaW9ucywgYWdlbnRTZXNzaW9uLCBhZ2VudFN0YXRlcywgcHVibGljQXBpS2V5IH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IGV2ZW50U291cmNlID0gbmV3IFJ1bnRpbWVFdmVudFNvdXJjZSh7XG4gICAgICBlcnJvckhhbmRsZXI6IGFzeW5jIChlcnJvciwgY29udGV4dCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLmVycm9yKFwiZXJyb3JcIiwgY29udGV4dCwgZXJyb3IsIHB1YmxpY0FwaUtleSk7XG4gICAgICB9LFxuICAgICAgZXJyb3JDb250ZXh0OiB7XG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBydW5JZCxcbiAgICAgICAgc291cmNlOiBcInJ1bnRpbWVcIixcbiAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgIG9wZXJhdGlvbjogXCJwcm9jZXNzUnVudGltZVJlcXVlc3RcIixcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KClcbiAgICAgICAgfSxcbiAgICAgICAgYWdlbnQ6IGFnZW50U2Vzc2lvbiA/IHtcbiAgICAgICAgICBuYW1lOiBhZ2VudFNlc3Npb24uYWdlbnROYW1lXG4gICAgICAgIH0gOiB2b2lkIDAsXG4gICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcmVxdWVzdFN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgY29uc3Qgc3RyZWFtZWRDaHVua3MgPSBbXTtcbiAgICB0cnkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuYWdlbnRzKS5sZW5ndGggJiYgKGFnZW50U2Vzc2lvbiA9PSBudWxsID8gdm9pZCAwIDogYWdlbnRTZXNzaW9uLmFnZW50TmFtZSkgJiYgIXRoaXMuZGVsZWdhdGVBZ2VudFByb2Nlc3NpbmdUb1NlcnZpY2VBZGFwdGVyKSB7XG4gICAgICAgIHRoaXMuYWdlbnRzID0ge1xuICAgICAgICAgIFthZ2VudFNlc3Npb24uYWdlbnROYW1lXTogdGhpcy5hZ2VudHNbYWdlbnRTZXNzaW9uLmFnZW50TmFtZV1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChhZ2VudFNlc3Npb24gJiYgIXRoaXMuZGVsZWdhdGVBZ2VudFByb2Nlc3NpbmdUb1NlcnZpY2VBZGFwdGVyKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnByb2Nlc3NBZ2VudFJlcXVlc3QocmVxdWVzdCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VydmljZUFkYXB0ZXIgaW5zdGFuY2VvZiBFbXB0eUFkYXB0ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0TWlzdXNlRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGFkYXB0ZXIgY29uZmlndXJhdGlvbjogRW1wdHlBZGFwdGVyIGlzIG9ubHkgbWVhbnQgdG8gYmUgdXNlZCB3aXRoIGFnZW50IGxvY2sgbW9kZS4gXG5Gb3Igbm9uLWFnZW50IGNvbXBvbmVudHMgbGlrZSB1c2VDb3BpbG90Q2hhdFN1Z2dlc3Rpb25zLCBDb3BpbG90VGV4dGFyZWEsIG9yIENvcGlsb3RUYXNrLCBcbnBsZWFzZSB1c2UgYW4gTExNIGFkYXB0ZXIgaW5zdGVhZC5gXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2VydmVyU2lkZUFjdGlvbnMgPSBhd2FpdCB0aGlzLmdldFNlcnZlclNpZGVBY3Rpb25zKHJlcXVlc3QpO1xuICAgICAgY29uc3QgZmlsdGVyZWRSYXdNZXNzYWdlcyA9IHJhd01lc3NhZ2VzLmZpbHRlcigobWVzc2FnZSkgPT4gIW1lc3NhZ2UuYWdlbnRTdGF0ZU1lc3NhZ2UpO1xuICAgICAgY29uc3QgbWVzc2FnZXNXaXRoSW5qZWN0ZWRJbnN0cnVjdGlvbnMgPSB0aGlzLmluamVjdE1DUFRvb2xJbnN0cnVjdGlvbnMoZmlsdGVyZWRSYXdNZXNzYWdlcywgc2VydmVyU2lkZUFjdGlvbnMpO1xuICAgICAgY29uc3QgaW5wdXRNZXNzYWdlcyA9IGNvbnZlcnRHcWxJbnB1dFRvTWVzc2FnZXMobWVzc2FnZXNXaXRoSW5qZWN0ZWRJbnN0cnVjdGlvbnMpO1xuICAgICAgaWYgKCgoX2EgPSB0aGlzLm9ic2VydmFiaWxpdHkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5lbmFibGVkKSAmJiBwdWJsaWNBcGlLZXkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHtcbiAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgcnVuSWQsXG4gICAgICAgICAgICBtb2RlbDogZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy5tb2RlbCxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBpbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgYWN0aW9uczogY2xpZW50U2lkZUFjdGlvbnNJbnB1dCxcbiAgICAgICAgICAgIGZvcndhcmRlZFBhcmFtZXRlcnMsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHJlcXVlc3RTdGFydFRpbWUsXG4gICAgICAgICAgICBwcm92aWRlcjogdGhpcy5kZXRlY3RQcm92aWRlcihzZXJ2aWNlQWRhcHRlcilcbiAgICAgICAgICB9O1xuICAgICAgICAgIGF3YWl0IHRoaXMub2JzZXJ2YWJpbGl0eS5ob29rcy5oYW5kbGVSZXF1ZXN0KHJlcXVlc3REYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9nZ2luZyBMTE0gcmVxdWVzdDpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBzZXJ2ZXJTaWRlQWN0aW9uc0lucHV0ID0gc2VydmVyU2lkZUFjdGlvbnMubWFwKChhY3Rpb24pID0+ICh7XG4gICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICBqc29uU2NoZW1hOiBKU09OLnN0cmluZ2lmeSgoMCwgaW1wb3J0X3NoYXJlZDE4LmFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEpKGFjdGlvbi5wYXJhbWV0ZXJzKSlcbiAgICAgIH0pKTtcbiAgICAgIGNvbnN0IGFjdGlvbklucHV0cyA9IGZsYXR0ZW5Ub29sQ2FsbHNOb0R1cGxpY2F0ZXMoW1xuICAgICAgICAuLi5zZXJ2ZXJTaWRlQWN0aW9uc0lucHV0LFxuICAgICAgICAuLi5jbGllbnRTaWRlQWN0aW9uc0lucHV0LmZpbHRlcihcbiAgICAgICAgICAvLyBGaWx0ZXIgcmVtb3RlIGFjdGlvbnMgZnJvbSBDb3BpbG90S2l0IGNvcmUgbG9vcFxuICAgICAgICAgIChhY3Rpb24pID0+IGFjdGlvbi5hdmFpbGFibGUgIT09IEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LnJlbW90ZVxuICAgICAgICApXG4gICAgICBdKTtcbiAgICAgIGF3YWl0ICgoX2IgPSB0aGlzLm9uQmVmb3JlUmVxdWVzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwodGhpcywge1xuICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgcnVuSWQsXG4gICAgICAgIGlucHV0TWVzc2FnZXMsXG4gICAgICAgIHByb3BlcnRpZXM6IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXMsXG4gICAgICAgIHVybFxuICAgICAgfSkpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmljZUFkYXB0ZXIucHJvY2Vzcyh7XG4gICAgICAgIG1lc3NhZ2VzOiBpbnB1dE1lc3NhZ2VzLFxuICAgICAgICBhY3Rpb25zOiBhY3Rpb25JbnB1dHMsXG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBydW5JZCxcbiAgICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICAgIGZvcndhcmRlZFBhcmFtZXRlcnMsXG4gICAgICAgIGV4dGVuc2lvbnMsXG4gICAgICAgIGFnZW50U2Vzc2lvbixcbiAgICAgICAgYWdlbnRTdGF0ZXNcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgbm9uRW1wdHlUaHJlYWRJZCA9IHRocmVhZElkID8/IHJlc3VsdC50aHJlYWRJZDtcbiAgICAgIG91dHB1dE1lc3NhZ2VzUHJvbWlzZS50aGVuKChvdXRwdXRNZXNzYWdlcykgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICAoX2EyID0gdGhpcy5vbkFmdGVyUmVxdWVzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jYWxsKHRoaXMsIHtcbiAgICAgICAgICB0aHJlYWRJZDogbm9uRW1wdHlUaHJlYWRJZCxcbiAgICAgICAgICBydW5JZDogcmVzdWx0LnJ1bklkLFxuICAgICAgICAgIGlucHV0TWVzc2FnZXMsXG4gICAgICAgICAgb3V0cHV0TWVzc2FnZXMsXG4gICAgICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllcyxcbiAgICAgICAgICB1cmxcbiAgICAgICAgfSk7XG4gICAgICB9KS5jYXRjaCgoX2Vycm9yKSA9PiB7XG4gICAgICB9KTtcbiAgICAgIGlmICgoKF9jID0gdGhpcy5vYnNlcnZhYmlsaXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2MuZW5hYmxlZCkgJiYgcHVibGljQXBpS2V5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgb3V0cHV0TWVzc2FnZXNQcm9taXNlLnRoZW4oKG91dHB1dE1lc3NhZ2VzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgIHRocmVhZElkOiByZXN1bHQudGhyZWFkSWQsXG4gICAgICAgICAgICAgIHJ1bklkOiByZXN1bHQucnVuSWQsXG4gICAgICAgICAgICAgIG1vZGVsOiBmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1vZGVsLFxuICAgICAgICAgICAgICAvLyBVc2UgY29sbGVjdGVkIGNodW5rcyBmb3IgcHJvZ3Jlc3NpdmUgbW9kZSBvciBvdXRwdXRNZXNzYWdlcyBmb3IgcmVndWxhciBtb2RlXG4gICAgICAgICAgICAgIG91dHB1dDogdGhpcy5vYnNlcnZhYmlsaXR5LnByb2dyZXNzaXZlID8gc3RyZWFtZWRDaHVua3MgOiBvdXRwdXRNZXNzYWdlcyxcbiAgICAgICAgICAgICAgbGF0ZW5jeTogRGF0ZS5ub3coKSAtIHJlcXVlc3RTdGFydFRpbWUsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMuZGV0ZWN0UHJvdmlkZXIoc2VydmljZUFkYXB0ZXIpLFxuICAgICAgICAgICAgICAvLyBJbmRpY2F0ZSB0aGlzIGlzIHRoZSBmaW5hbCByZXNwb25zZVxuICAgICAgICAgICAgICBpc0ZpbmFsUmVzcG9uc2U6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB0aGlzLm9ic2VydmFiaWxpdHkuaG9va3MuaGFuZGxlUmVzcG9uc2UocmVzcG9uc2VEYXRhKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2dnaW5nIExMTSByZXNwb25zZTpcIiwgbG9nRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZXQgb3V0cHV0IG1lc3NhZ2VzIGZvciBsb2dnaW5nOlwiLCBlcnJvcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNldHRpbmcgdXAgbG9nZ2luZyBmb3IgTExNIHJlc3BvbnNlOlwiLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgoKF9kID0gdGhpcy5vYnNlcnZhYmlsaXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2QuZW5hYmxlZCkgJiYgdGhpcy5vYnNlcnZhYmlsaXR5LnByb2dyZXNzaXZlICYmIHB1YmxpY0FwaUtleSkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFN0cmVhbSA9IGV2ZW50U291cmNlLnN0cmVhbS5iaW5kKGV2ZW50U291cmNlKTtcbiAgICAgICAgZXZlbnRTb3VyY2Uuc3RyZWFtID0gYXN5bmMgKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgYXdhaXQgb3JpZ2luYWxTdHJlYW0oYXN5bmMgKGV2ZW50U3RyZWFtJCkgPT4ge1xuICAgICAgICAgICAgZXZlbnRTdHJlYW0kLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgIG5leHQ6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBSdW50aW1lRXZlbnRUeXBlcy5UZXh0TWVzc2FnZUNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgIHN0cmVhbWVkQ2h1bmtzLnB1c2goZXZlbnQuY29udGVudCk7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9ncmVzc2l2ZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyZWFkSWQ6IHRocmVhZElkIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcnVuSWQsXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMubW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBldmVudC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgIGxhdGVuY3k6IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogdGhpcy5kZXRlY3RQcm92aWRlcihzZXJ2aWNlQWRhcHRlciksXG4gICAgICAgICAgICAgICAgICAgICAgaXNQcm9ncmVzc2l2ZUNodW5rOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJpbGl0eS5ob29rcy5oYW5kbGVSZXNwb25zZShwcm9ncmVzc2l2ZURhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gcHJvZ3Jlc3NpdmUgbG9nZ2luZzpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcmVwYXJpbmcgcHJvZ3Jlc3NpdmUgbG9nIGRhdGE6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXdhaXQgY2FsbGJhY2soZXZlbnRTdHJlYW0kKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRocmVhZElkOiBub25FbXB0eVRocmVhZElkLFxuICAgICAgICBydW5JZDogcmVzdWx0LnJ1bklkLFxuICAgICAgICBldmVudFNvdXJjZSxcbiAgICAgICAgc2VydmVyU2lkZUFjdGlvbnMsXG4gICAgICAgIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHM6IGFjdGlvbklucHV0cy5maWx0ZXIoKGFjdGlvbikgPT4gKFxuICAgICAgICAgIC8vIFRPRE8tQUdFTlRTOiBkbyBub3QgZXhjbHVkZSBBTEwgc2VydmVyIHNpZGUgYWN0aW9uc1xuICAgICAgICAgICFzZXJ2ZXJTaWRlQWN0aW9ucy5maW5kKChzZXJ2ZXJTaWRlQWN0aW9uKSA9PiBzZXJ2ZXJTaWRlQWN0aW9uLm5hbWUgPT0gYWN0aW9uLm5hbWUpXG4gICAgICAgICkpLFxuICAgICAgICBleHRlbnNpb25zOiByZXN1bHQuZXh0ZW5zaW9uc1xuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKCgoX2UgPSB0aGlzLm9ic2VydmFiaWxpdHkpID09IG51bGwgPyB2b2lkIDAgOiBfZS5lbmFibGVkKSAmJiBwdWJsaWNBcGlLZXkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSB7XG4gICAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICAgIHJ1bklkLFxuICAgICAgICAgICAgbW9kZWw6IGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMubW9kZWwsXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIGxhdGVuY3k6IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lLFxuICAgICAgICAgICAgcHJvdmlkZXI6IHRoaXMuZGV0ZWN0UHJvdmlkZXIoc2VydmljZUFkYXB0ZXIpXG4gICAgICAgICAgfTtcbiAgICAgICAgICBhd2FpdCB0aGlzLm9ic2VydmFiaWxpdHkuaG9va3MuaGFuZGxlRXJyb3IoZXJyb3JEYXRhKTtcbiAgICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9nZ2luZyBMTE0gZXJyb3I6XCIsIGxvZ0Vycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGV0IHN0cnVjdHVyZWRFcnJvcjtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0RXJyb3IpIHtcbiAgICAgICAgc3RydWN0dXJlZEVycm9yID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHJ1Y3R1cmVkRXJyb3IgPSAoMCwgaW1wb3J0X3NoYXJlZDE4LmVuc3VyZVN0cnVjdHVyZWRFcnJvcikoZXJyb3IsIChlcnIpID0+IHRoaXMuY29udmVydFN0cmVhbWluZ0Vycm9yVG9TdHJ1Y3R1cmVkKGVycikpO1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5lcnJvcihcImVycm9yXCIsIHtcbiAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgIHJ1bklkLFxuICAgICAgICBzb3VyY2U6IFwicnVudGltZVwiLFxuICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgb3BlcmF0aW9uOiBcInByb2Nlc3NSdW50aW1lUmVxdWVzdFwiLFxuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHN0YXJ0VGltZTogcmVxdWVzdFN0YXJ0VGltZVxuICAgICAgICB9LFxuICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgIGVuZFRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgbGF0ZW5jeTogRGF0ZS5ub3coKSAtIHJlcXVlc3RTdGFydFRpbWVcbiAgICAgICAgfSxcbiAgICAgICAgYWdlbnQ6IGFnZW50U2Vzc2lvbiA/IHtcbiAgICAgICAgICBuYW1lOiBhZ2VudFNlc3Npb24uYWdlbnROYW1lXG4gICAgICAgIH0gOiB2b2lkIDAsXG4gICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgICAgICAgICBzdGFja1RyYWNlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB2b2lkIDBcbiAgICAgICAgfVxuICAgICAgfSwgc3RydWN0dXJlZEVycm9yLCBwdWJsaWNBcGlLZXkpO1xuICAgICAgdGhyb3cgc3RydWN0dXJlZEVycm9yO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRBbGxBZ2VudHMoZ3JhcGhxbENvbnRleHQpIHtcbiAgICBjb25zdCBhZ2VudHNXaXRoRW5kcG9pbnRzID0gYXdhaXQgdGhpcy5kaXNjb3ZlckFnZW50c0Zyb21FbmRwb2ludHMoZ3JhcGhxbENvbnRleHQpO1xuICAgIGNvbnN0IGFndWlBZ2VudHMgPSB0aGlzLmRpc2NvdmVyQWdlbnRzRnJvbUFndWkoKTtcbiAgICB0aGlzLmF2YWlsYWJsZUFnZW50cyA9IFtcbiAgICAgIC4uLmFnZW50c1dpdGhFbmRwb2ludHMsXG4gICAgICAuLi5hZ3VpQWdlbnRzXG4gICAgXS5tYXAoKGEpID0+ICh7XG4gICAgICBuYW1lOiBhLm5hbWUsXG4gICAgICBpZDogYS5pZFxuICAgIH0pKTtcbiAgICByZXR1cm4gW1xuICAgICAgLi4uYWdlbnRzV2l0aEVuZHBvaW50cyxcbiAgICAgIC4uLmFndWlBZ2VudHNcbiAgICBdO1xuICB9XG4gIGFzeW5jIGRpc2NvdmVyQWdlbnRzRnJvbUVuZHBvaW50cyhncmFwaHFsQ29udGV4dCkge1xuICAgIGNvbnN0IGFnZW50cyA9IHRoaXMucmVtb3RlRW5kcG9pbnREZWZpbml0aW9ucy5yZWR1Y2UoYXN5bmMgKGFjYywgZW5kcG9pbnQpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50czIgPSBhd2FpdCBhY2M7XG4gICAgICBpZiAoZW5kcG9pbnQudHlwZSA9PT0gRW5kcG9pbnRUeXBlLkxhbmdHcmFwaFBsYXRmb3JtKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5SGVhZGVycyA9IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXMuYXV0aG9yaXphdGlvbiA/IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBgQmVhcmVyICR7Z3JhcGhxbENvbnRleHQucHJvcGVydGllcy5hdXRob3JpemF0aW9ufWBcbiAgICAgICAgfSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBpbXBvcnRfbGFuZ2dyYXBoX3NkazIuQ2xpZW50KHtcbiAgICAgICAgICBhcGlVcmw6IGVuZHBvaW50LmRlcGxveW1lbnRVcmwsXG4gICAgICAgICAgYXBpS2V5OiBlbmRwb2ludC5sYW5nc21pdGhBcGlLZXksXG4gICAgICAgICAgZGVmYXVsdEhlYWRlcnM6IHtcbiAgICAgICAgICAgIC4uLnByb3BlcnR5SGVhZGVyc1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBkYXRhID0gW107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZGF0YSA9IGF3YWl0IGNsaWVudC5hc3Npc3RhbnRzLnNlYXJjaCgpO1xuICAgICAgICAgIGlmIChkYXRhICYmIFwiZGV0YWlsXCIgaW4gZGF0YSAmJiBkYXRhLmRldGFpbC50b0xvd2VyQ2FzZSgpID09PSBcIm5vdCBmb3VuZFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDE4LkNvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yKHtcbiAgICAgICAgICAgICAgYXZhaWxhYmxlQWdlbnRzOiB0aGlzLmF2YWlsYWJsZUFnZW50c1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0TWlzdXNlRXJyb3Ioe1xuICAgICAgICAgICAgbWVzc2FnZTogYFxuICAgICAgICAgICAgICBGYWlsZWQgdG8gZmluZCBvciBjb250YWN0IHJlbW90ZSBlbmRwb2ludCBhdCB1cmwgJHtlbmRwb2ludC5kZXBsb3ltZW50VXJsfS5cbiAgICAgICAgICAgICAgTWFrZSBzdXJlIHRoZSBBUEkgaXMgcnVubmluZyBhbmQgdGhhdCBpdCdzIGluZGVlZCBhIExhbmdHcmFwaCBwbGF0Zm9ybSB1cmwuXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBTZWUgbW9yZTogaHR0cHM6Ly9kb2NzLmNvcGlsb3RraXQuYWkvdHJvdWJsZXNob290aW5nL2NvbW1vbi1pc3N1ZXNgXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5kcG9pbnRBZ2VudHMgPSBkYXRhLm1hcCgoZW50cnkpID0+ICh7XG4gICAgICAgICAgbmFtZTogZW50cnkuZ3JhcGhfaWQsXG4gICAgICAgICAgaWQ6IGVudHJ5LmFzc2lzdGFudF9pZCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogXCJcIixcbiAgICAgICAgICBlbmRwb2ludFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgLi4uYWdlbnRzMixcbiAgICAgICAgICAuLi5lbmRwb2ludEFnZW50c1xuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgY29uc3QgY3BrRW5kcG9pbnQgPSBlbmRwb2ludDtcbiAgICAgIGNvbnN0IGZldGNoVXJsID0gYCR7ZW5kcG9pbnQudXJsfS9pbmZvYDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoUmV0cnkoZmV0Y2hVcmwsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IGNyZWF0ZUhlYWRlcnMoY3BrRW5kcG9pbnQub25CZWZvcmVSZXF1ZXN0LCBncmFwaHFsQ29udGV4dCksXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllc1xuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDE4LkNvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcih7XG4gICAgICAgICAgICAgIHVybDogZmV0Y2hVcmxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDE4LlJlc29sdmVkQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgdXJsOiBmZXRjaFVybCxcbiAgICAgICAgICAgIGlzUmVtb3RlRW5kcG9pbnQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCBlbmRwb2ludEFnZW50cyA9ICgoZGF0YSA9PSBudWxsID8gdm9pZCAwIDogZGF0YS5hZ2VudHMpID8/IFtdKS5tYXAoKGFnZW50KSA9PiAoe1xuICAgICAgICAgIG5hbWU6IGFnZW50Lm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGFnZW50LmRlc2NyaXB0aW9uID8/IFwiXCIgPz8gXCJcIixcbiAgICAgICAgICBpZDogKDAsIGltcG9ydF9zaGFyZWQxOC5yYW5kb21JZCkoKSxcbiAgICAgICAgICBlbmRwb2ludFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgLi4uYWdlbnRzMixcbiAgICAgICAgICAuLi5lbmRwb2ludEFnZW50c1xuICAgICAgICBdO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDE4LkNvcGlsb3RLaXRFcnJvcikge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMTguQ29waWxvdEtpdExvd0xldmVsRXJyb3Ioe1xuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIHVybDogZmV0Y2hVcmxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgUHJvbWlzZS5yZXNvbHZlKFtdKSk7XG4gICAgcmV0dXJuIGFnZW50cztcbiAgfVxuICBkaXNjb3ZlckFnZW50c0Zyb21BZ3VpKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLmFnZW50cyA/PyBbXSkubWFwKChba2V5LCBhZ2VudF0pID0+ICh7XG4gICAgICBuYW1lOiBhZ2VudC5hZ2VudE5hbWUgPz8ga2V5LFxuICAgICAgaWQ6IGFnZW50LmFnZW50SWQgPz8ga2V5LFxuICAgICAgZGVzY3JpcHRpb246IGFnZW50LmRlc2NyaXB0aW9uID8/IFwiXCJcbiAgICB9KSk7XG4gIH1cbiAgYXN5bmMgbG9hZEFnZW50U3RhdGUoZ3JhcGhxbENvbnRleHQsIHRocmVhZElkLCBhZ2VudE5hbWUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYWdlbnRzID0gYXdhaXQgdGhpcy5nZXRBbGxBZ2VudHMoZ3JhcGhxbENvbnRleHQpO1xuICAgIGNvbnN0IGFnZW50ID0gYWdlbnRzLmZpbmQoKGFnZW50MikgPT4gYWdlbnQyLm5hbWUgPT09IGFnZW50TmFtZSk7XG4gICAgaWYgKCFhZ2VudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWdlbnQgbm90IGZvdW5kXCIpO1xuICAgIH1cbiAgICBpZiAoXCJlbmRwb2ludFwiIGluIGFnZW50ICYmIChhZ2VudC5lbmRwb2ludC50eXBlID09PSBFbmRwb2ludFR5cGUuQ29waWxvdEtpdCB8fCAhKFwidHlwZVwiIGluIGFnZW50LmVuZHBvaW50KSkpIHtcbiAgICAgIGNvbnN0IGNwa0VuZHBvaW50ID0gYWdlbnQuZW5kcG9pbnQ7XG4gICAgICBjb25zdCBmZXRjaFVybCA9IGAke2Nwa0VuZHBvaW50LnVybH0vYWdlbnRzL3N0YXRlYDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoUmV0cnkoZmV0Y2hVcmwsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnM6IGNyZWF0ZUhlYWRlcnMoY3BrRW5kcG9pbnQub25CZWZvcmVSZXF1ZXN0LCBncmFwaHFsQ29udGV4dCksXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllcyxcbiAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgbmFtZTogYWdlbnROYW1lXG4gICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMTguQ29waWxvdEtpdEFwaURpc2NvdmVyeUVycm9yKHtcbiAgICAgICAgICAgICAgdXJsOiBmZXRjaFVybFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c30gZXJyb3JgO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvckJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRFcnJvciA9IEpTT04ucGFyc2UoZXJyb3JCb2R5KTtcbiAgICAgICAgICAgIGlmIChwYXJzZWRFcnJvci5lcnJvciAmJiB0eXBlb2YgcGFyc2VkRXJyb3IuZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gcGFyc2VkRXJyb3IuZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMTguUmVzb2x2ZWRDb3BpbG90S2l0RXJyb3Ioe1xuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICB1cmw6IGZldGNoVXJsLFxuICAgICAgICAgICAgaXNSZW1vdGVFbmRwb2ludDogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICBzdGF0ZTogSlNPTi5zdHJpbmdpZnkoZGF0YS5zdGF0ZSksXG4gICAgICAgICAgbWVzc2FnZXM6IEpTT04uc3RyaW5naWZ5KGRhdGEubWVzc2FnZXMpXG4gICAgICAgIH07XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBpbXBvcnRfc2hhcmVkMTguQ29waWxvdEtpdEVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcih7XG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgdXJsOiBmZXRjaFVybFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHJvcGVydHlIZWFkZXJzID0gZ3JhcGhxbENvbnRleHQucHJvcGVydGllcy5hdXRob3JpemF0aW9uID8ge1xuICAgICAgYXV0aG9yaXphdGlvbjogYEJlYXJlciAke2dyYXBocWxDb250ZXh0LnByb3BlcnRpZXMuYXV0aG9yaXphdGlvbn1gXG4gICAgfSA6IG51bGw7XG4gICAgbGV0IHN0YXRlID0ge307XG4gICAgdHJ5IHtcbiAgICAgIGxldCBjbGllbnQ7XG4gICAgICBpZiAoXCJlbmRwb2ludFwiIGluIGFnZW50ICYmIGFnZW50LmVuZHBvaW50LnR5cGUgPT09IEVuZHBvaW50VHlwZS5MYW5nR3JhcGhQbGF0Zm9ybSkge1xuICAgICAgICBjbGllbnQgPSBuZXcgaW1wb3J0X2xhbmdncmFwaF9zZGsyLkNsaWVudCh7XG4gICAgICAgICAgYXBpVXJsOiBhZ2VudC5lbmRwb2ludC5kZXBsb3ltZW50VXJsLFxuICAgICAgICAgIGFwaUtleTogYWdlbnQuZW5kcG9pbnQubGFuZ3NtaXRoQXBpS2V5LFxuICAgICAgICAgIGRlZmF1bHRIZWFkZXJzOiB7XG4gICAgICAgICAgICAuLi5wcm9wZXJ0eUhlYWRlcnNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYWd1aUFnZW50ID0gZ3JhcGhxbENvbnRleHQuX2NvcGlsb3RraXQucnVudGltZS5hZ2VudHNbYWdlbnQubmFtZV07XG4gICAgICAgIGlmICghYWd1aUFnZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBZ2VudDogJHthZ2VudC5uYW1lfSBjb3VsZCBub3QgYmUgcmVzb2x2ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBjbGllbnQgPSBhZ3VpQWdlbnQuY2xpZW50ID8/IG51bGw7XG4gICAgICB9XG4gICAgICBzdGF0ZSA9IGNsaWVudCA/IChhd2FpdCBjbGllbnQudGhyZWFkcy5nZXRTdGF0ZSh0aHJlYWRJZCkpLnZhbHVlcyA6IHt9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcik7XG4gICAgICBjb25zdCBlcnJvclN0YXR1cyA9ICgoX2EgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zdGF0dXMpIHx8IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3Iuc3RhdHVzKTtcbiAgICAgIGlmIChlcnJvclN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHN0YXRlID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGBBZ2VudCAnJHthZ2VudE5hbWV9JyBjb25maWd1cmF0aW9uIGlzc3VlOiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQxOC5SZXNvbHZlZENvcGlsb3RLaXRFcnJvcih7XG4gICAgICAgICAgc3RhdHVzOiA0MDAsXG4gICAgICAgICAgbWVzc2FnZTogYEFnZW50ICcke2FnZW50TmFtZX0nIGZhaWxlZCB0byBleGVjdXRlOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgICAgIGNvZGU6IGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0RXJyb3JDb2RlLkNPTkZJR1VSQVRJT05fRVJST1JcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyhzdGF0ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aHJlYWRJZDogdGhyZWFkSWQgfHwgXCJcIixcbiAgICAgICAgdGhyZWFkRXhpc3RzOiBmYWxzZSxcbiAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KHt9KSxcbiAgICAgICAgbWVzc2FnZXM6IEpTT04uc3RyaW5naWZ5KFtdKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyBtZXNzYWdlcywgLi4uc3RhdGVXaXRob3V0TWVzc2FnZXMgfSA9IHN0YXRlO1xuICAgICAgY29uc3QgY29waWxvdGtpdE1lc3NhZ2VzID0gbGFuZ2NoYWluTWVzc2FnZXNUb0NvcGlsb3RLaXQobWVzc2FnZXMpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhyZWFkSWQ6IHRocmVhZElkIHx8IFwiXCIsXG4gICAgICAgIHRocmVhZEV4aXN0czogdHJ1ZSxcbiAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KHN0YXRlV2l0aG91dE1lc3NhZ2VzKSxcbiAgICAgICAgbWVzc2FnZXM6IEpTT04uc3RyaW5naWZ5KGNvcGlsb3RraXRNZXNzYWdlcylcbiAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgQWdlbnQ6ICR7YWdlbnQubmFtZX0gY291bGQgbm90IGJlIHJlc29sdmVkYCk7XG4gIH1cbiAgYXN5bmMgcHJvY2Vzc0FnZW50UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICBjb25zdCB7IG1lc3NhZ2VzOiByYXdNZXNzYWdlcywgb3V0cHV0TWVzc2FnZXNQcm9taXNlLCBncmFwaHFsQ29udGV4dCwgYWdlbnRTZXNzaW9uLCB0aHJlYWRJZDogdGhyZWFkSWRGcm9tUmVxdWVzdCwgbWV0YUV2ZW50cywgcHVibGljQXBpS2V5LCBmb3J3YXJkZWRQYXJhbWV0ZXJzIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IHsgYWdlbnROYW1lLCBub2RlTmFtZSB9ID0gYWdlbnRTZXNzaW9uO1xuICAgIGNvbnN0IHJlcXVlc3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IHN0cmVhbWVkQ2h1bmtzID0gW107XG4gICAgY29uc3QgdGhyZWFkSWQgPSB0aHJlYWRJZEZyb21SZXF1ZXN0ID8/IGFnZW50U2Vzc2lvbi50aHJlYWRJZDtcbiAgICBhd2FpdCB0aGlzLmVycm9yKFwiYWdlbnRfc3RhdGVcIiwge1xuICAgICAgdGhyZWFkSWQsXG4gICAgICBzb3VyY2U6IFwiYWdlbnRcIixcbiAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgb3BlcmF0aW9uOiBcInByb2Nlc3NBZ2VudFJlcXVlc3RcIixcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgc3RhcnRUaW1lOiByZXF1ZXN0U3RhcnRUaW1lXG4gICAgICB9LFxuICAgICAgYWdlbnQ6IHtcbiAgICAgICAgbmFtZTogYWdlbnROYW1lLFxuICAgICAgICBub2RlTmFtZVxuICAgICAgfSxcbiAgICAgIG1lc3NhZ2VzOiB7XG4gICAgICAgIGlucHV0OiByYXdNZXNzYWdlcyxcbiAgICAgICAgbWVzc2FnZUNvdW50OiByYXdNZXNzYWdlcy5sZW5ndGhcbiAgICAgIH0sXG4gICAgICB0ZWNobmljYWw6IHtcbiAgICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WXG4gICAgICB9XG4gICAgfSwgdm9pZCAwLCBwdWJsaWNBcGlLZXkpO1xuICAgIGNvbnN0IHNlcnZlclNpZGVBY3Rpb25zID0gYXdhaXQgdGhpcy5nZXRTZXJ2ZXJTaWRlQWN0aW9ucyhyZXF1ZXN0KTtcbiAgICBjb25zdCBtZXNzYWdlcyA9IGNvbnZlcnRHcWxJbnB1dFRvTWVzc2FnZXMocmF3TWVzc2FnZXMpO1xuICAgIGNvbnN0IGN1cnJlbnRBZ2VudCA9IHNlcnZlclNpZGVBY3Rpb25zLmZpbmQoKGFjdGlvbikgPT4gYWN0aW9uLm5hbWUgPT09IGFnZW50TmFtZSAmJiBpc1JlbW90ZUFnZW50QWN0aW9uKGFjdGlvbikpO1xuICAgIGlmICghY3VycmVudEFnZW50KSB7XG4gICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDE4LkNvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yKHtcbiAgICAgICAgYWdlbnROYW1lLFxuICAgICAgICBhdmFpbGFibGVBZ2VudHM6IHRoaXMuYXZhaWxhYmxlQWdlbnRzXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgYXZhaWxhYmxlQWN0aW9uc0ZvckN1cnJlbnRBZ2VudCA9IHNlcnZlclNpZGVBY3Rpb25zLmZpbHRlcigoYWN0aW9uKSA9PiAoXG4gICAgICAvLyBDYXNlIDE6IEtlZXAgYWxsIHJlZ3VsYXIgKG5vbi1hZ2VudCkgYWN0aW9uc1xuICAgICAgIWlzUmVtb3RlQWdlbnRBY3Rpb24oYWN0aW9uKSB8fCAvLyBDYXNlIDI6IEZvciBhZ2VudCBhY3Rpb25zLCBrZWVwIGFsbCBleGNlcHQgc2VsZiAocHJldmVudCBpbmZpbml0ZSBsb29wcylcbiAgICAgIGlzUmVtb3RlQWdlbnRBY3Rpb24oYWN0aW9uKSAmJiBhY3Rpb24ubmFtZSAhPT0gYWdlbnROYW1lXG4gICAgKSkubWFwKChhY3Rpb24pID0+ICh7XG4gICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICBqc29uU2NoZW1hOiBKU09OLnN0cmluZ2lmeSgoMCwgaW1wb3J0X3NoYXJlZDE4LmFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEpKGFjdGlvbi5wYXJhbWV0ZXJzKSlcbiAgICB9KSk7XG4gICAgY29uc3QgYWxsQXZhaWxhYmxlQWN0aW9ucyA9IGZsYXR0ZW5Ub29sQ2FsbHNOb0R1cGxpY2F0ZXMoW1xuICAgICAgLi4uYXZhaWxhYmxlQWN0aW9uc0ZvckN1cnJlbnRBZ2VudCxcbiAgICAgIC4uLnJlcXVlc3QuYWN0aW9uc1xuICAgIF0pO1xuICAgIGlmICgoKF9hID0gdGhpcy5vYnNlcnZhYmlsaXR5KSA9PSBudWxsID8gdm9pZCAwIDogX2EuZW5hYmxlZCkgJiYgcHVibGljQXBpS2V5KSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXF1ZXN0RGF0YSA9IHtcbiAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICBydW5JZDogdm9pZCAwLFxuICAgICAgICAgIG1vZGVsOiBmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1vZGVsLFxuICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgIGFjdGlvbnM6IGFsbEF2YWlsYWJsZUFjdGlvbnMsXG4gICAgICAgICAgZm9yd2FyZGVkUGFyYW1ldGVycyxcbiAgICAgICAgICB0aW1lc3RhbXA6IHJlcXVlc3RTdGFydFRpbWUsXG4gICAgICAgICAgcHJvdmlkZXI6IFwiYWdlbnRcIixcbiAgICAgICAgICBhZ2VudE5hbWUsXG4gICAgICAgICAgbm9kZU5hbWVcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgdGhpcy5vYnNlcnZhYmlsaXR5Lmhvb2tzLmhhbmRsZVJlcXVlc3QocmVxdWVzdERhdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvZ2dpbmcgYWdlbnQgcmVxdWVzdDpcIiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBhd2FpdCAoKF9iID0gdGhpcy5vbkJlZm9yZVJlcXVlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKHRoaXMsIHtcbiAgICAgIHRocmVhZElkLFxuICAgICAgcnVuSWQ6IHZvaWQgMCxcbiAgICAgIGlucHV0TWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllc1xuICAgIH0pKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXZlbnRTb3VyY2UgPSBuZXcgUnVudGltZUV2ZW50U291cmNlKHtcbiAgICAgICAgZXJyb3JIYW5kbGVyOiBhc3luYyAoZXJyb3IsIGNvbnRleHQpID0+IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmVycm9yKFwiZXJyb3JcIiwgY29udGV4dCwgZXJyb3IsIHB1YmxpY0FwaUtleSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yQ29udGV4dDoge1xuICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgIHNvdXJjZTogXCJhZ2VudFwiLFxuICAgICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogXCJwcm9jZXNzQWdlbnRSZXF1ZXN0XCIsXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiByZXF1ZXN0U3RhcnRUaW1lXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhZ2VudDoge1xuICAgICAgICAgICAgbmFtZTogYWdlbnROYW1lLFxuICAgICAgICAgICAgbm9kZU5hbWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGN1cnJlbnRBZ2VudC5yZW1vdGVBZ2VudEhhbmRsZXIoe1xuICAgICAgICBuYW1lOiBhZ2VudE5hbWUsXG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBub2RlTmFtZSxcbiAgICAgICAgbWV0YUV2ZW50cyxcbiAgICAgICAgYWN0aW9uSW5wdXRzV2l0aG91dEFnZW50czogYWxsQXZhaWxhYmxlQWN0aW9uc1xuICAgICAgfSk7XG4gICAgICBpZiAoKChfYyA9IHRoaXMub2JzZXJ2YWJpbGl0eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmVuYWJsZWQpICYmIHRoaXMub2JzZXJ2YWJpbGl0eS5wcm9ncmVzc2l2ZSAmJiBwdWJsaWNBcGlLZXkpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdHJlYW0gPSBldmVudFNvdXJjZS5zdHJlYW0uYmluZChldmVudFNvdXJjZSk7XG4gICAgICAgIGV2ZW50U291cmNlLnN0cmVhbSA9IGFzeW5jIChjYWxsYmFjaykgPT4ge1xuICAgICAgICAgIGF3YWl0IG9yaWdpbmFsU3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICBuZXh0OiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gUnVudGltZUV2ZW50VHlwZXMuVGV4dE1lc3NhZ2VDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICBzdHJlYW1lZENodW5rcy5wdXNoKGV2ZW50LmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZ3Jlc3NpdmVEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHRocmVhZElkOiB0aHJlYWRJZCB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bklkOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IGZvcndhcmRlZFBhcmFtZXRlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcndhcmRlZFBhcmFtZXRlcnMubW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBldmVudC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgIGxhdGVuY3k6IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogXCJhZ2VudFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGlzUHJvZ3Jlc3NpdmVDaHVuazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmlsaXR5Lmhvb2tzLmhhbmRsZVJlc3BvbnNlKHByb2dyZXNzaXZlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBwcm9ncmVzc2l2ZSBhZ2VudCBsb2dnaW5nOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHByZXBhcmluZyBwcm9ncmVzc2l2ZSBhZ2VudCBsb2cgZGF0YTpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBjYWxsYmFjayhldmVudFN0cmVhbSQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZXZlbnRTb3VyY2Uuc3RyZWFtKGFzeW5jIChldmVudFN0cmVhbSQpID0+IHtcbiAgICAgICAgKDAsIGltcG9ydF9yeGpzLmZyb20pKHN0cmVhbSkuc3Vic2NyaWJlKHtcbiAgICAgICAgICBuZXh0OiAoZXZlbnQpID0+IGV2ZW50U3RyZWFtJC5uZXh0KGV2ZW50KSxcbiAgICAgICAgICBlcnJvcjogYXN5bmMgKGVycikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICAgIGlmICgoKF9hMiA9IHRoaXMub2JzZXJ2YWJpbGl0eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5lbmFibGVkKSAmJiBwdWJsaWNBcGlLZXkpIHtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICAgICAgICAgIHJ1bklkOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICBtb2RlbDogZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy5tb2RlbCxcbiAgICAgICAgICAgICAgICAgIGVycm9yOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyciA6IFN0cmluZyhlcnIpLFxuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgbGF0ZW5jeTogRGF0ZS5ub3coKSAtIHJlcXVlc3RTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlcjogXCJhZ2VudFwiLFxuICAgICAgICAgICAgICAgICAgYWdlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgbm9kZU5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJpbGl0eS5ob29rcy5oYW5kbGVFcnJvcihlcnJvckRhdGEpO1xuICAgICAgICAgICAgICB9IGNhdGNoIChsb2dFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2dnaW5nIGFnZW50IGVycm9yOlwiLCBsb2dFcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0cnVjdHVyZWRFcnJvciA9ICgwLCBpbXBvcnRfc2hhcmVkMTguZW5zdXJlU3RydWN0dXJlZEVycm9yKShlcnIsIChlcnJvcikgPT4gdGhpcy5jb252ZXJ0U3RyZWFtaW5nRXJyb3JUb1N0cnVjdHVyZWQoZXJyb3IpKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZXJyb3IoXCJlcnJvclwiLCB7XG4gICAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgICBzb3VyY2U6IFwiYWdlbnRcIixcbiAgICAgICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbjogXCJwcm9jZXNzQWdlbnRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBzdGFydFRpbWU6IHJlcXVlc3RTdGFydFRpbWVcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgICBlbmRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIGxhdGVuY3k6IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGFnZW50OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogYWdlbnROYW1lLFxuICAgICAgICAgICAgICAgIG5vZGVOYW1lXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgICAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgICAgICAgICAgICAgICBzdGFja1RyYWNlOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5zdGFjayA6IHZvaWQgMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBzdHJ1Y3R1cmVkRXJyb3IsIHB1YmxpY0FwaUtleSk7XG4gICAgICAgICAgICBldmVudFN0cmVhbSQuZXJyb3Ioc3RydWN0dXJlZEVycm9yKTtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgY29tcGxldGU6ICgpID0+IGV2ZW50U3RyZWFtJC5jb21wbGV0ZSgpXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpZiAoKChfZCA9IHRoaXMub2JzZXJ2YWJpbGl0eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmVuYWJsZWQpICYmIHB1YmxpY0FwaUtleSkge1xuICAgICAgICBvdXRwdXRNZXNzYWdlc1Byb21pc2UudGhlbigob3V0cHV0TWVzc2FnZXMpID0+IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICAgIHJ1bklkOiB2b2lkIDAsXG4gICAgICAgICAgICBtb2RlbDogZm9yd2FyZGVkUGFyYW1ldGVycyA9PSBudWxsID8gdm9pZCAwIDogZm9yd2FyZGVkUGFyYW1ldGVycy5tb2RlbCxcbiAgICAgICAgICAgIC8vIFVzZSBjb2xsZWN0ZWQgY2h1bmtzIGZvciBwcm9ncmVzc2l2ZSBtb2RlIG9yIG91dHB1dE1lc3NhZ2VzIGZvciByZWd1bGFyIG1vZGVcbiAgICAgICAgICAgIG91dHB1dDogdGhpcy5vYnNlcnZhYmlsaXR5LnByb2dyZXNzaXZlID8gc3RyZWFtZWRDaHVua3MgOiBvdXRwdXRNZXNzYWdlcyxcbiAgICAgICAgICAgIGxhdGVuY3k6IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgcHJvdmlkZXI6IFwiYWdlbnRcIixcbiAgICAgICAgICAgIGlzRmluYWxSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgICAgIGFnZW50TmFtZSxcbiAgICAgICAgICAgIG5vZGVOYW1lXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmlsaXR5Lmhvb2tzLmhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlRGF0YSk7XG4gICAgICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBsb2dnaW5nIGFnZW50IHJlc3BvbnNlOlwiLCBsb2dFcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGdldCBvdXRwdXQgbWVzc2FnZXMgZm9yIGFnZW50IGxvZ2dpbmc6XCIsIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBvdXRwdXRNZXNzYWdlc1Byb21pc2UudGhlbigob3V0cHV0TWVzc2FnZXMpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgKF9hMiA9IHRoaXMub25BZnRlclJlcXVlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgICAgcnVuSWQ6IHZvaWQgMCxcbiAgICAgICAgICBpbnB1dE1lc3NhZ2VzOiBtZXNzYWdlcyxcbiAgICAgICAgICBvdXRwdXRNZXNzYWdlcyxcbiAgICAgICAgICBwcm9wZXJ0aWVzOiBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzXG4gICAgICAgIH0pO1xuICAgICAgfSkuY2F0Y2goKF9lcnJvcikgPT4ge1xuICAgICAgfSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgcnVuSWQ6IHZvaWQgMCxcbiAgICAgICAgZXZlbnRTb3VyY2UsXG4gICAgICAgIHNlcnZlclNpZGVBY3Rpb25zLFxuICAgICAgICBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzOiBhbGxBdmFpbGFibGVBY3Rpb25zXG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoKChfZSA9IHRoaXMub2JzZXJ2YWJpbGl0eSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmVuYWJsZWQpICYmIHB1YmxpY0FwaUtleSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IHtcbiAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgcnVuSWQ6IHZvaWQgMCxcbiAgICAgICAgICAgIG1vZGVsOiBmb3J3YXJkZWRQYXJhbWV0ZXJzID09IG51bGwgPyB2b2lkIDAgOiBmb3J3YXJkZWRQYXJhbWV0ZXJzLm1vZGVsLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICBsYXRlbmN5OiBEYXRlLm5vdygpIC0gcmVxdWVzdFN0YXJ0VGltZSxcbiAgICAgICAgICAgIHByb3ZpZGVyOiBcImFnZW50XCIsXG4gICAgICAgICAgICBhZ2VudE5hbWUsXG4gICAgICAgICAgICBub2RlTmFtZVxuICAgICAgICAgIH07XG4gICAgICAgICAgYXdhaXQgdGhpcy5vYnNlcnZhYmlsaXR5Lmhvb2tzLmhhbmRsZUVycm9yKGVycm9yRGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvZ2dpbmcgYWdlbnQgZXJyb3I6XCIsIGxvZ0Vycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3Qgc3RydWN0dXJlZEVycm9yID0gKDAsIGltcG9ydF9zaGFyZWQxOC5lbnN1cmVTdHJ1Y3R1cmVkRXJyb3IpKGVycm9yLCAoZXJyKSA9PiB0aGlzLmNvbnZlcnRTdHJlYW1pbmdFcnJvclRvU3RydWN0dXJlZChlcnIpKTtcbiAgICAgIGF3YWl0IHRoaXMuZXJyb3IoXCJlcnJvclwiLCB7XG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBzb3VyY2U6IFwiYWdlbnRcIixcbiAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgIG9wZXJhdGlvbjogXCJwcm9jZXNzQWdlbnRSZXF1ZXN0XCIsXG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICBzdGFydFRpbWU6IHJlcXVlc3RTdGFydFRpbWVcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICBlbmRUaW1lOiBEYXRlLm5vdygpLFxuICAgICAgICAgIGxhdGVuY3k6IERhdGUubm93KCkgLSByZXF1ZXN0U3RhcnRUaW1lXG4gICAgICAgIH0sXG4gICAgICAgIGFnZW50OiB7XG4gICAgICAgICAgbmFtZTogYWdlbnROYW1lLFxuICAgICAgICAgIG5vZGVOYW1lXG4gICAgICAgIH0sXG4gICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOVixcbiAgICAgICAgICBzdGFja1RyYWNlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB2b2lkIDBcbiAgICAgICAgfVxuICAgICAgfSwgc3RydWN0dXJlZEVycm9yLCBwdWJsaWNBcGlLZXkpO1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVzcG9uc2U6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IHN0cnVjdHVyZWRFcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZ2V0U2VydmVyU2lkZUFjdGlvbnMocmVxdWVzdCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IHsgZ3JhcGhxbENvbnRleHQsIG1lc3NhZ2VzOiByYXdNZXNzYWdlcywgYWdlbnRTdGF0ZXMsIHVybCB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCBpbnB1dE1lc3NhZ2VzID0gY29udmVydEdxbElucHV0VG9NZXNzYWdlcyhyYXdNZXNzYWdlcyk7XG4gICAgY29uc3QgbGFuZ3NlcnZlRnVuY3Rpb25zID0gW107XG4gICAgZm9yIChjb25zdCBjaGFpblByb21pc2Ugb2YgdGhpcy5sYW5nc2VydmUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNoYWluID0gYXdhaXQgY2hhaW5Qcm9taXNlO1xuICAgICAgICBsYW5nc2VydmVGdW5jdGlvbnMucHVzaChjaGFpbik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyBsYW5nc2VydmUgY2hhaW46XCIsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVtb3RlRW5kcG9pbnREZWZpbml0aW9ucyA9IHRoaXMucmVtb3RlRW5kcG9pbnREZWZpbml0aW9ucy5tYXAoKGVuZHBvaW50KSA9PiAoe1xuICAgICAgLi4uZW5kcG9pbnQsXG4gICAgICB0eXBlOiByZXNvbHZlRW5kcG9pbnRUeXBlKGVuZHBvaW50KVxuICAgIH0pKTtcbiAgICBjb25zdCByZW1vdGVBY3Rpb25zID0gYXdhaXQgc2V0dXBSZW1vdGVBY3Rpb25zKHtcbiAgICAgIHJlbW90ZUVuZHBvaW50RGVmaW5pdGlvbnMsXG4gICAgICBncmFwaHFsQ29udGV4dCxcbiAgICAgIG1lc3NhZ2VzOiBpbnB1dE1lc3NhZ2VzLFxuICAgICAgYWdlbnRTdGF0ZXMsXG4gICAgICBmcm9udGVuZFVybDogdXJsLFxuICAgICAgYWdlbnRzOiB0aGlzLmFnZW50cyxcbiAgICAgIG1ldGFFdmVudHM6IHJlcXVlc3QubWV0YUV2ZW50cyxcbiAgICAgIG5vZGVOYW1lOiAoX2EgPSByZXF1ZXN0LmFnZW50U2Vzc2lvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm5vZGVOYW1lXG4gICAgfSk7XG4gICAgY29uc3QgY29uZmlndXJlZEFjdGlvbnMgPSB0eXBlb2YgdGhpcy5hY3Rpb25zID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzLmFjdGlvbnMoe1xuICAgICAgcHJvcGVydGllczogZ3JhcGhxbENvbnRleHQucHJvcGVydGllcyxcbiAgICAgIHVybFxuICAgIH0pIDogdGhpcy5hY3Rpb25zO1xuICAgIGNvbnN0IHJlcXVlc3RTcGVjaWZpY01DUEFjdGlvbnMgPSBbXTtcbiAgICBpZiAodGhpcy5jcmVhdGVNQ1BDbGllbnRJbXBsKSB7XG4gICAgICBjb25zdCBiYXNlRW5kcG9pbnRzID0gdGhpcy5tY3BTZXJ2ZXJzQ29uZmlnIHx8IFtdO1xuICAgICAgY29uc3QgcmVxdWVzdEVuZHBvaW50cyA9ICgoX2IgPSBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IubWNwU2VydmVycykgfHwgKChfYyA9IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5tY3BFbmRwb2ludHMpIHx8IFtdO1xuICAgICAgY29uc3QgZWZmZWN0aXZlRW5kcG9pbnRzTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIFtcbiAgICAgICAgLi4uYmFzZUVuZHBvaW50c1xuICAgICAgXS5mb3JFYWNoKChlcCkgPT4ge1xuICAgICAgICBpZiAoZXAgJiYgZXAuZW5kcG9pbnQpIHtcbiAgICAgICAgICBlZmZlY3RpdmVFbmRwb2ludHNNYXAuc2V0KGVwLmVuZHBvaW50LCBlcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgW1xuICAgICAgICAuLi5yZXF1ZXN0RW5kcG9pbnRzXG4gICAgICBdLmZvckVhY2goKGVwKSA9PiB7XG4gICAgICAgIGlmIChlcCAmJiBlcC5lbmRwb2ludCkge1xuICAgICAgICAgIGVmZmVjdGl2ZUVuZHBvaW50c01hcC5zZXQoZXAuZW5kcG9pbnQsIGVwKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBlZmZlY3RpdmVFbmRwb2ludHMgPSBBcnJheS5mcm9tKGVmZmVjdGl2ZUVuZHBvaW50c01hcC52YWx1ZXMoKSk7XG4gICAgICBmb3IgKGNvbnN0IGNvbmZpZzIgb2YgZWZmZWN0aXZlRW5kcG9pbnRzKSB7XG4gICAgICAgIGNvbnN0IGVuZHBvaW50VXJsID0gY29uZmlnMi5lbmRwb2ludDtcbiAgICAgICAgbGV0IGFjdGlvbnNGb3JFbmRwb2ludCA9IHRoaXMubWNwQWN0aW9uQ2FjaGUuZ2V0KGVuZHBvaW50VXJsKTtcbiAgICAgICAgaWYgKCFhY3Rpb25zRm9yRW5kcG9pbnQpIHtcbiAgICAgICAgICBsZXQgY2xpZW50ID0gbnVsbDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2xpZW50ID0gYXdhaXQgdGhpcy5jcmVhdGVNQ1BDbGllbnRJbXBsKGNvbmZpZzIpO1xuICAgICAgICAgICAgY29uc3QgdG9vbHMgPSBhd2FpdCBjbGllbnQudG9vbHMoKTtcbiAgICAgICAgICAgIGFjdGlvbnNGb3JFbmRwb2ludCA9IGNvbnZlcnRNQ1BUb29sc1RvQWN0aW9ucyh0b29scywgZW5kcG9pbnRVcmwpO1xuICAgICAgICAgICAgdGhpcy5tY3BBY3Rpb25DYWNoZS5zZXQoZW5kcG9pbnRVcmwsIGFjdGlvbnNGb3JFbmRwb2ludCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYE1DUDogRmFpbGVkIHRvIGZldGNoIHRvb2xzIGZyb20gZW5kcG9pbnQgJHtlbmRwb2ludFVybH0uIFNraXBwaW5nLiBFcnJvcjpgLCBlcnJvcik7XG4gICAgICAgICAgICBhY3Rpb25zRm9yRW5kcG9pbnQgPSBbXTtcbiAgICAgICAgICAgIHRoaXMubWNwQWN0aW9uQ2FjaGUuc2V0KGVuZHBvaW50VXJsLCBhY3Rpb25zRm9yRW5kcG9pbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXF1ZXN0U3BlY2lmaWNNQ1BBY3Rpb25zLnB1c2goLi4uYWN0aW9uc0ZvckVuZHBvaW50IHx8IFtdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIC4uLmNvbmZpZ3VyZWRBY3Rpb25zLFxuICAgICAgLi4ubGFuZ3NlcnZlRnVuY3Rpb25zLFxuICAgICAgLi4ucmVtb3RlQWN0aW9ucyxcbiAgICAgIC4uLnJlcXVlc3RTcGVjaWZpY01DUEFjdGlvbnNcbiAgICBdO1xuICB9XG4gIC8vIEFkZCBoZWxwZXIgbWV0aG9kIHRvIGRldGVjdCBwcm92aWRlclxuICBkZXRlY3RQcm92aWRlcihzZXJ2aWNlQWRhcHRlcikge1xuICAgIGNvbnN0IGFkYXB0ZXJOYW1lID0gc2VydmljZUFkYXB0ZXIuY29uc3RydWN0b3IubmFtZTtcbiAgICBpZiAoYWRhcHRlck5hbWUuaW5jbHVkZXMoXCJPcGVuQUlcIikpXG4gICAgICByZXR1cm4gXCJvcGVuYWlcIjtcbiAgICBpZiAoYWRhcHRlck5hbWUuaW5jbHVkZXMoXCJBbnRocm9waWNcIikpXG4gICAgICByZXR1cm4gXCJhbnRocm9waWNcIjtcbiAgICBpZiAoYWRhcHRlck5hbWUuaW5jbHVkZXMoXCJHb29nbGVcIikpXG4gICAgICByZXR1cm4gXCJnb29nbGVcIjtcbiAgICBpZiAoYWRhcHRlck5hbWUuaW5jbHVkZXMoXCJHcm9xXCIpKVxuICAgICAgcmV0dXJuIFwiZ3JvcVwiO1xuICAgIGlmIChhZGFwdGVyTmFtZS5pbmNsdWRlcyhcIkxhbmdDaGFpblwiKSlcbiAgICAgIHJldHVybiBcImxhbmdjaGFpblwiO1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgY29udmVydFN0cmVhbWluZ0Vycm9yVG9TdHJ1Y3R1cmVkKGVycm9yKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgIGxldCBoZWxwZnVsTWVzc2FnZSA9IGdlbmVyYXRlSGVscGZ1bEVycm9yTWVzc2FnZShlcnJvciwgXCJhZ2VudCBzdHJlYW1pbmcgY29ubmVjdGlvblwiKTtcbiAgICBpZiAoKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoXCJmZXRjaCBmYWlsZWRcIikpIHx8ICgoX2IgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwiRUNPTk5SRUZVU0VEXCIpKSB8fCAoKF9jID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pbmNsdWRlcyhcIkVOT1RGT1VORFwiKSkgfHwgKChfZCA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2QuaW5jbHVkZXMoXCJFVElNRURPVVRcIikpIHx8ICgoX2UgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmluY2x1ZGVzKFwidGVybWluYXRlZFwiKSkgfHwgKChfZiA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jYXVzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNvZGUpID09PSBcIlVORF9FUlJfU09DS0VUXCIgfHwgKChfZyA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2cuaW5jbHVkZXMoXCJvdGhlciBzaWRlIGNsb3NlZFwiKSkgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jb2RlKSA9PT0gXCJVTkRfRVJSX1NPQ0tFVFwiKSB7XG4gICAgICByZXR1cm4gbmV3IGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcih7XG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSksXG4gICAgICAgIHVybDogXCJhZ2VudCBzdHJlYW1pbmcgY29ubmVjdGlvblwiLFxuICAgICAgICBtZXNzYWdlOiBoZWxwZnVsTWVzc2FnZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgaW1wb3J0X3NoYXJlZDE4LkNvcGlsb3RLaXRFcnJvcih7XG4gICAgICBtZXNzYWdlOiBoZWxwZnVsTWVzc2FnZSxcbiAgICAgIGNvZGU6IGltcG9ydF9zaGFyZWQxOC5Db3BpbG90S2l0RXJyb3JDb2RlLlVOS05PV05cbiAgICB9KTtcbiAgfVxuICBhc3luYyBlcnJvcih0eXBlLCBjb250ZXh0LCBlcnJvciwgcHVibGljQXBpS2V5KSB7XG4gICAgaWYgKCF0aGlzLm9uRXJyb3IpXG4gICAgICByZXR1cm47XG4gICAgaWYgKCFwdWJsaWNBcGlLZXkpIHtcbiAgICAgIGlmICghdGhpcy5oYXNXYXJuZWRBYm91dEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkNvcGlsb3RLaXQ6IG9uRXJyb3IgaGFuZGxlciBwcm92aWRlZCBidXQgcmVxdWlyZXMgcHVibGljQXBpS2V5IHRvIGJlIGRlZmluZWQgZm9yIGVycm9yIGhhbmRsaW5nIHRvIHdvcmsuXCIpO1xuICAgICAgICB0aGlzLmhhc1dhcm5lZEFib3V0RXJyb3IgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgY29uc3QgZXJyb3JFdmVudCA9IHtcbiAgICAgICAgdHlwZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICAuLi5lcnJvciAmJiB7XG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGF3YWl0IHRoaXMub25FcnJvcihlcnJvckV2ZW50KTtcbiAgICB9IGNhdGNoIChlcnJvckhhbmRsZXJFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIG9uRXJyb3IgaGFuZGxlcjpcIiwgZXJyb3JIYW5kbGVyRXJyb3IpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgKiBQdWJsaWMgbWV0aG9kIHRvIGhhbmRsZSBHcmFwaFFMIHZhbGlkYXRpb24gZXJyb3JzXG4gICogVGhpcyBhbGxvd3MgdGhlIEdyYXBoUUwgcmVzb2x2ZXIgdG8gc2VuZCB2YWxpZGF0aW9uIGVycm9ycyB0aHJvdWdoIHRoZSBlcnJvciBzeXN0ZW1cbiAgKi9cbiAgYXN5bmMgZXJyb3JHcmFwaFFMRXJyb3IoZXJyb3IsIGNvbnRleHQpIHtcbiAgICBpZiAoIXRoaXMub25FcnJvcilcbiAgICAgIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5vbkVycm9yKHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICBzb3VyY2U6IFwicnVudGltZVwiLFxuICAgICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogY29udGV4dC5vcGVyYXRpb24sXG4gICAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgZXJyb3JUeXBlOiBcIkdyYXBoUUxWYWxpZGF0aW9uRXJyb3JcIixcbiAgICAgICAgICAgIGNsb3VkQ29uZmlnUHJlc2VudDogY29udGV4dC5jbG91ZENvbmZpZ1ByZXNlbnQsXG4gICAgICAgICAgICBndWFyZHJhaWxzRW5hYmxlZDogY29udGV4dC5ndWFyZHJhaWxzRW5hYmxlZFxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3JcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9ySGFuZGxlckVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gb25FcnJvciBoYW5kbGVyOlwiLCBlcnJvckhhbmRsZXJFcnJvcik7XG4gICAgfVxuICB9XG59O1xuX19uYW1lKENvcGlsb3RSdW50aW1lLCBcIkNvcGlsb3RSdW50aW1lXCIpO1xuZnVuY3Rpb24gZmxhdHRlblRvb2xDYWxsc05vRHVwbGljYXRlcyh0b29sc0J5UHJpb3JpdHkpIHtcbiAgbGV0IGFsbFRvb2xzID0gW107XG4gIGNvbnN0IGFsbFRvb2xOYW1lcyA9IFtdO1xuICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHNCeVByaW9yaXR5KSB7XG4gICAgaWYgKCFhbGxUb29sTmFtZXMuaW5jbHVkZXModG9vbC5uYW1lKSkge1xuICAgICAgYWxsVG9vbHMucHVzaCh0b29sKTtcbiAgICAgIGFsbFRvb2xOYW1lcy5wdXNoKHRvb2wubmFtZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBhbGxUb29scztcbn1cbl9fbmFtZShmbGF0dGVuVG9vbENhbGxzTm9EdXBsaWNhdGVzLCBcImZsYXR0ZW5Ub29sQ2FsbHNOb0R1cGxpY2F0ZXNcIik7XG5mdW5jdGlvbiBjb3BpbG90S2l0RW5kcG9pbnQoY29uZmlnMikge1xuICByZXR1cm4ge1xuICAgIC4uLmNvbmZpZzIsXG4gICAgdHlwZTogRW5kcG9pbnRUeXBlLkNvcGlsb3RLaXRcbiAgfTtcbn1cbl9fbmFtZShjb3BpbG90S2l0RW5kcG9pbnQsIFwiY29waWxvdEtpdEVuZHBvaW50XCIpO1xuZnVuY3Rpb24gbGFuZ0dyYXBoUGxhdGZvcm1FbmRwb2ludChjb25maWcyKSB7XG4gIHJldHVybiB7XG4gICAgLi4uY29uZmlnMixcbiAgICB0eXBlOiBFbmRwb2ludFR5cGUuTGFuZ0dyYXBoUGxhdGZvcm1cbiAgfTtcbn1cbl9fbmFtZShsYW5nR3JhcGhQbGF0Zm9ybUVuZHBvaW50LCBcImxhbmdHcmFwaFBsYXRmb3JtRW5kcG9pbnRcIik7XG5mdW5jdGlvbiByZXNvbHZlRW5kcG9pbnRUeXBlKGVuZHBvaW50KSB7XG4gIGlmICghZW5kcG9pbnQudHlwZSkge1xuICAgIGlmIChcImRlcGxveW1lbnRVcmxcIiBpbiBlbmRwb2ludCAmJiBcImFnZW50c1wiIGluIGVuZHBvaW50KSB7XG4gICAgICByZXR1cm4gRW5kcG9pbnRUeXBlLkxhbmdHcmFwaFBsYXRmb3JtO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gRW5kcG9pbnRUeXBlLkNvcGlsb3RLaXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBlbmRwb2ludC50eXBlO1xufVxuX19uYW1lKHJlc29sdmVFbmRwb2ludFR5cGUsIFwicmVzb2x2ZUVuZHBvaW50VHlwZVwiKTtcblxuLy8gc3JjL2xpYi90ZWxlbWV0cnktY2xpZW50LnRzXG52YXIgcGFja2FnZUpzb24gPSByZXF1aXJlX3BhY2thZ2UoKTtcbnZhciB0ZWxlbWV0cnlDbGllbnQgPSBuZXcgaW1wb3J0X3NoYXJlZDE5LlRlbGVtZXRyeUNsaWVudCh7XG4gIHBhY2thZ2VOYW1lOiBwYWNrYWdlSnNvbi5uYW1lLFxuICBwYWNrYWdlVmVyc2lvbjogcGFja2FnZUpzb24udmVyc2lvblxufSk7XG5mdW5jdGlvbiBnZXRSdW50aW1lSW5zdGFuY2VUZWxlbWV0cnlJbmZvKG9wdGlvbnMpIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcnVudGltZSA9IG9wdGlvbnMucnVudGltZTtcbiAgY29uc3QgZW5kcG9pbnRzSW5mbyA9IHJ1bnRpbWUucmVtb3RlRW5kcG9pbnREZWZpbml0aW9ucy5yZWR1Y2UoKGFjYywgZW5kcG9pbnQpID0+IHtcbiAgICBsZXQgaW5mbyA9IHtcbiAgICAgIC4uLmFjY1xuICAgIH07XG4gICAgY29uc3QgZW5kcG9pbnRUeXBlID0gcmVzb2x2ZUVuZHBvaW50VHlwZShlbmRwb2ludCk7XG4gICAgaWYgKCFpbmZvLmVuZHBvaW50VHlwZXMuaW5jbHVkZXMoZW5kcG9pbnRUeXBlKSkge1xuICAgICAgaW5mbyA9IHtcbiAgICAgICAgLi4uaW5mbyxcbiAgICAgICAgZW5kcG9pbnRUeXBlczogW1xuICAgICAgICAgIC4uLmluZm8uZW5kcG9pbnRUeXBlcyxcbiAgICAgICAgICBlbmRwb2ludFR5cGVcbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGVuZHBvaW50VHlwZSA9PT0gRW5kcG9pbnRUeXBlLkxhbmdHcmFwaFBsYXRmb3JtKSB7XG4gICAgICBjb25zdCBlcCA9IGVuZHBvaW50O1xuICAgICAgaW5mbyA9IHtcbiAgICAgICAgLi4uaW5mbyxcbiAgICAgICAgYWdlbnRzQW1vdW50OiBlcC5hZ2VudHMubGVuZ3RoLFxuICAgICAgICBoYXNoZWRLZXk6IGVwLmxhbmdzbWl0aEFwaUtleSA/ICgwLCBpbXBvcnRfbm9kZV9jcnlwdG8yLmNyZWF0ZUhhc2gpKFwic2hhMjU2XCIpLnVwZGF0ZShlcC5sYW5nc21pdGhBcGlLZXkpLmRpZ2VzdChcImhleFwiKSA6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBpbmZvO1xuICB9LCB7XG4gICAgZW5kcG9pbnRUeXBlczogW10sXG4gICAgYWdlbnRzQW1vdW50OiBudWxsLFxuICAgIGhhc2hlZEtleTogbnVsbFxuICB9KTtcbiAgY29uc3QgcHVibGljQXBpS2V5ID0gKF9hID0gb3B0aW9ucy5jbG91ZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnB1YmxpY0FwaUtleTtcbiAgY29uc3QgYXBpS2V5UHJvdmlkZWQgPSAhIXB1YmxpY0FwaUtleSAmJiBwdWJsaWNBcGlLZXkudHJpbSgpLmxlbmd0aCA+IDA7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uc0Ftb3VudDogcnVudGltZS5hY3Rpb25zLmxlbmd0aCxcbiAgICBlbmRwb2ludHNBbW91bnQ6IHJ1bnRpbWUucmVtb3RlRW5kcG9pbnREZWZpbml0aW9ucy5sZW5ndGgsXG4gICAgZW5kcG9pbnRUeXBlczogZW5kcG9pbnRzSW5mby5lbmRwb2ludFR5cGVzLFxuICAgIGFnZW50c0Ftb3VudDogZW5kcG9pbnRzSW5mby5hZ2VudHNBbW91bnQsXG4gICAgaGFzaGVkTGdjS2V5OiBlbmRwb2ludHNJbmZvLmhhc2hlZEtleSxcbiAgICBcImNsb3VkLmFwaV9rZXlfcHJvdmlkZWRcIjogYXBpS2V5UHJvdmlkZWQsXG4gICAgLi4uYXBpS2V5UHJvdmlkZWQgPyB7XG4gICAgICBcImNsb3VkLnB1YmxpY19hcGlfa2V5XCI6IHB1YmxpY0FwaUtleVxuICAgIH0gOiB7fSxcbiAgICAuLi4oKF9iID0gb3B0aW9ucy5jbG91ZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmJhc2VVcmwpID8ge1xuICAgICAgXCJjbG91ZC5iYXNlX3VybFwiOiBvcHRpb25zLmNsb3VkLmJhc2VVcmxcbiAgICB9IDoge31cbiAgfTtcbn1cbl9fbmFtZShnZXRSdW50aW1lSW5zdGFuY2VUZWxlbWV0cnlJbmZvLCBcImdldFJ1bnRpbWVJbnN0YW5jZVRlbGVtZXRyeUluZm9cIik7XG52YXIgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0ID0gdGVsZW1ldHJ5Q2xpZW50O1xuXG4vLyBzcmMvYWdlbnRzL2xhbmdncmFwaC9ldmVudC1zb3VyY2UudHNcbnZhciBpbXBvcnRfc2hhcmVkMjAgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIGltcG9ydF9yeGpzMiA9IHJlcXVpcmUoXCJyeGpzXCIpO1xudmFyIFJlbW90ZUxhbmdHcmFwaEV2ZW50U291cmNlID0gY2xhc3Mge1xuICBldmVudFN0cmVhbSQgPSBuZXcgaW1wb3J0X3J4anMyLlJlcGxheVN1YmplY3QoKTtcbiAgc2hvdWxkRW1pdFRvb2xDYWxsKHNob3VsZEVtaXRUb29sQ2FsbHMsIHRvb2xDYWxsTmFtZSkge1xuICAgIGlmICh0eXBlb2Ygc2hvdWxkRW1pdFRvb2xDYWxscyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiBzaG91bGRFbWl0VG9vbENhbGxzO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzaG91bGRFbWl0VG9vbENhbGxzKSkge1xuICAgICAgcmV0dXJuIHNob3VsZEVtaXRUb29sQ2FsbHMuaW5jbHVkZXModG9vbENhbGxOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZEVtaXRUb29sQ2FsbHMgPT09IHRvb2xDYWxsTmFtZTtcbiAgfVxuICBnZXRDdXJyZW50Q29udGVudChldmVudCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgY29udGVudCA9ICgoX2MgPSAoX2IgPSAoX2EgPSBldmVudC5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2h1bmspID09IG51bGwgPyB2b2lkIDAgOiBfYi5rd2FyZ3MpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jb250ZW50KSA/PyAoKF9lID0gKF9kID0gZXZlbnQuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNodW5rKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY29udGVudCk7XG4gICAgaWYgKCFjb250ZW50KSB7XG4gICAgICBjb25zdCB0b29sQ2FsbENodW5rcyA9IHRoaXMuZ2V0Q3VycmVudFRvb2xDYWxsQ2h1bmtzKGV2ZW50KSA/PyBbXTtcbiAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgdG9vbENhbGxDaHVua3MpIHtcbiAgICAgICAgaWYgKGNodW5rLmFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gY2h1bmsuYXJncztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50KSAmJiBjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBjb250ZW50WzBdLnRleHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGdldEN1cnJlbnRNZXNzYWdlSWQoZXZlbnQpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIHJldHVybiAoKF9jID0gKF9iID0gKF9hID0gZXZlbnQuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNodW5rKSA9PSBudWxsID8gdm9pZCAwIDogX2Iua3dhcmdzKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaWQpID8/ICgoX2UgPSAoX2QgPSBldmVudC5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2QuY2h1bmspID09IG51bGwgPyB2b2lkIDAgOiBfZS5pZCk7XG4gIH1cbiAgZ2V0Q3VycmVudFRvb2xDYWxsQ2h1bmtzKGV2ZW50KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICByZXR1cm4gKChfYyA9IChfYiA9IChfYSA9IGV2ZW50LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jaHVuaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmt3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnRvb2xfY2FsbF9jaHVua3MpID8/ICgoX2UgPSAoX2QgPSBldmVudC5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2QuY2h1bmspID09IG51bGwgPyB2b2lkIDAgOiBfZS50b29sX2NhbGxfY2h1bmtzKTtcbiAgfVxuICBnZXRSZXNwb25zZU1ldGFkYXRhKGV2ZW50KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICByZXR1cm4gKChfYyA9IChfYiA9IChfYSA9IGV2ZW50LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jaHVuaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmt3YXJncykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnJlc3BvbnNlX21ldGFkYXRhKSA/PyAoKF9lID0gKF9kID0gZXZlbnQuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNodW5rKSA9PSBudWxsID8gdm9pZCAwIDogX2UucmVzcG9uc2VfbWV0YWRhdGEpO1xuICB9XG4gIHByb2Nlc3NMYW5nR3JhcGhFdmVudHMoKSB7XG4gICAgbGV0IGxhc3RFdmVudFdpdGhTdGF0ZSA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRTdHJlYW0kLnBpcGUoKDAsIGltcG9ydF9yeGpzMi5zY2FuKSgoYWNjLCBldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmV2ZW50ID09PSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ2hhdE1vZGVsU3RyZWFtKSB7XG4gICAgICAgIGNvbnN0IHByZXZNZXNzYWdlSWQgPSBhY2MubGFzdE1lc3NhZ2VJZDtcbiAgICAgICAgYWNjLmN1cnJlbnRDb250ZW50ID0gdGhpcy5nZXRDdXJyZW50Q29udGVudChldmVudCk7XG4gICAgICAgIGFjYy5sYXN0TWVzc2FnZUlkID0gdGhpcy5nZXRDdXJyZW50TWVzc2FnZUlkKGV2ZW50KSA/PyBhY2MubGFzdE1lc3NhZ2VJZDtcbiAgICAgICAgY29uc3QgdG9vbENhbGxDaHVua3MgPSB0aGlzLmdldEN1cnJlbnRUb29sQ2FsbENodW5rcyhldmVudCkgPz8gW107XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlTWV0YWRhdGEgPSB0aGlzLmdldFJlc3BvbnNlTWV0YWRhdGEoZXZlbnQpO1xuICAgICAgICBjb25zdCB0b29sQ2FsbENoZWNrID0gdG9vbENhbGxDaHVua3MgJiYgdG9vbENhbGxDaHVua3MubGVuZ3RoID4gMDtcbiAgICAgICAgbGV0IGlzVG9vbENhbGxFbmQgPSAocmVzcG9uc2VNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogcmVzcG9uc2VNZXRhZGF0YS5maW5pc2hfcmVhc29uKSA9PT0gXCJ0b29sX2NhbGxzXCI7XG4gICAgICAgIGFjYy5pc1Rvb2xDYWxsU3RhcnQgPSB0b29sQ2FsbENodW5rcy5zb21lKChjaHVuaykgPT4gY2h1bmsubmFtZSAmJiBjaHVuay5pZCk7XG4gICAgICAgIGFjYy5pc01lc3NhZ2VTdGFydCA9IHByZXZNZXNzYWdlSWQgIT09IGFjYy5sYXN0TWVzc2FnZUlkICYmICFhY2MuaXNUb29sQ2FsbFN0YXJ0O1xuICAgICAgICBsZXQgcHJldmlvdXNSb3VuZEhhZFRvb2xDYWxsID0gYWNjLmlzVG9vbENhbGw7XG4gICAgICAgIGFjYy5pc1Rvb2xDYWxsID0gdG9vbENhbGxDaGVjaztcbiAgICAgICAgaWYgKHByZXZpb3VzUm91bmRIYWRUb29sQ2FsbCAmJiAhdG9vbENhbGxDaGVjaykge1xuICAgICAgICAgIGlzVG9vbENhbGxFbmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGFjYy5pc1Rvb2xDYWxsRW5kID0gaXNUb29sQ2FsbEVuZDtcbiAgICAgICAgYWNjLmlzTWVzc2FnZUVuZCA9IChyZXNwb25zZU1ldGFkYXRhID09IG51bGwgPyB2b2lkIDAgOiByZXNwb25zZU1ldGFkYXRhLmZpbmlzaF9yZWFzb24pID09PSBcInN0b3BcIjtcbiAgICAgICAgKHsgbmFtZTogYWNjLmxhc3RUb29sQ2FsbE5hbWUsIGlkOiBhY2MubGFzdFRvb2xDYWxsSWQgfSA9IHRvb2xDYWxsQ2h1bmtzLmZpbmQoKGNodW5rKSA9PiBjaHVuay5uYW1lICYmIGNodW5rLmlkKSA/PyB7XG4gICAgICAgICAgbmFtZTogYWNjLmxhc3RUb29sQ2FsbE5hbWUsXG4gICAgICAgICAgaWQ6IGFjYy5sYXN0VG9vbENhbGxJZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGFjYy5ldmVudCA9IGV2ZW50O1xuICAgICAgbGFzdEV2ZW50V2l0aFN0YXRlID0gYWNjO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7XG4gICAgICBldmVudDogbnVsbCxcbiAgICAgIGlzTWVzc2FnZVN0YXJ0OiBmYWxzZSxcbiAgICAgIGlzTWVzc2FnZUVuZDogZmFsc2UsXG4gICAgICBpc1Rvb2xDYWxsU3RhcnQ6IGZhbHNlLFxuICAgICAgaXNUb29sQ2FsbEVuZDogZmFsc2UsXG4gICAgICBpc1Rvb2xDYWxsOiBmYWxzZSxcbiAgICAgIGxhc3RNZXNzYWdlSWQ6IG51bGwsXG4gICAgICBsYXN0VG9vbENhbGxJZDogbnVsbCxcbiAgICAgIGxhc3RUb29sQ2FsbE5hbWU6IG51bGwsXG4gICAgICBjdXJyZW50Q29udGVudDogbnVsbCxcbiAgICAgIHByb2Nlc3NlZFRvb2xDYWxsSWRzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gICAgfSksICgwLCBpbXBvcnRfcnhqczIubWVyZ2VNYXApKChhY2MpID0+IHtcbiAgICAgIGNvbnN0IGV2ZW50cyA9IFtdO1xuICAgICAgbGV0IHNob3VsZEVtaXRNZXNzYWdlcyA9IHRydWU7XG4gICAgICBsZXQgc2hvdWxkRW1pdFRvb2xDYWxscyA9IHRydWU7XG4gICAgICBpZiAoYWNjLmV2ZW50LmV2ZW50ID09IExhbmdHcmFwaEV2ZW50VHlwZXMuT25DaGF0TW9kZWxTdHJlYW0pIHtcbiAgICAgICAgaWYgKFwiY29waWxvdGtpdDplbWl0LXRvb2wtY2FsbHNcIiBpbiAoYWNjLmV2ZW50Lm1ldGFkYXRhIHx8IHt9KSkge1xuICAgICAgICAgIHNob3VsZEVtaXRUb29sQ2FsbHMgPSBhY2MuZXZlbnQubWV0YWRhdGFbXCJjb3BpbG90a2l0OmVtaXQtdG9vbC1jYWxsc1wiXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJjb3BpbG90a2l0OmVtaXQtbWVzc2FnZXNcIiBpbiAoYWNjLmV2ZW50Lm1ldGFkYXRhIHx8IHt9KSkge1xuICAgICAgICAgIHNob3VsZEVtaXRNZXNzYWdlcyA9IGFjYy5ldmVudC5tZXRhZGF0YVtcImNvcGlsb3RraXQ6ZW1pdC1tZXNzYWdlc1wiXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFjYy5ldmVudC5ldmVudCA9PT0gTGFuZ0dyYXBoRXZlbnRUeXBlcy5PbkludGVycnVwdCkge1xuICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuTWV0YUV2ZW50LFxuICAgICAgICAgIG5hbWU6IFJ1bnRpbWVNZXRhRXZlbnROYW1lLkxhbmdHcmFwaEludGVycnVwdEV2ZW50LFxuICAgICAgICAgIHZhbHVlOiBhY2MuZXZlbnQudmFsdWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoYWNjLmV2ZW50LmV2ZW50ID09PSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ29waWxvdEtpdEludGVycnVwdCkge1xuICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuTWV0YUV2ZW50LFxuICAgICAgICAgIG5hbWU6IFJ1bnRpbWVNZXRhRXZlbnROYW1lLkNvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCxcbiAgICAgICAgICBkYXRhOiBhY2MuZXZlbnQuZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChhY2MuZXZlbnQuZXZlbnQgPT09IExhbmdHcmFwaEV2ZW50VHlwZXMuT25Db3BpbG90S2l0RXJyb3IpIHtcbiAgICAgICAgY29uc3QgZXJyb3JEYXRhID0gYWNjLmV2ZW50LmRhdGEuZXJyb3I7XG4gICAgICAgIGNvbnN0IHByZXNlcnZlZEVycm9yID0gbmV3IGltcG9ydF9zaGFyZWQyMC5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcih7XG4gICAgICAgICAgZXJyb3I6IG5ldyBFcnJvcihlcnJvckRhdGEubWVzc2FnZSksXG4gICAgICAgICAgdXJsOiBcImxhbmdncmFwaCBhZ2VudFwiLFxuICAgICAgICAgIG1lc3NhZ2U6IGAke2Vycm9yRGF0YS50eXBlfTogJHtlcnJvckRhdGEubWVzc2FnZX1gXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZXJyb3JEYXRhLnN0YXR1c19jb2RlKSB7XG4gICAgICAgICAgcHJlc2VydmVkRXJyb3Iuc3RhdHVzQ29kZSA9IGVycm9yRGF0YS5zdGF0dXNfY29kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JEYXRhLnJlc3BvbnNlX2RhdGEpIHtcbiAgICAgICAgICBwcmVzZXJ2ZWRFcnJvci5yZXNwb25zZURhdGEgPSBlcnJvckRhdGEucmVzcG9uc2VfZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBwcmVzZXJ2ZWRFcnJvci5hZ2VudE5hbWUgPSBlcnJvckRhdGEuYWdlbnRfbmFtZTtcbiAgICAgICAgcHJlc2VydmVkRXJyb3Iub3JpZ2luYWxFcnJvclR5cGUgPSBlcnJvckRhdGEudHlwZTtcbiAgICAgICAgdGhyb3cgcHJlc2VydmVkRXJyb3I7XG4gICAgICB9XG4gICAgICBjb25zdCByZXNwb25zZU1ldGFkYXRhID0gdGhpcy5nZXRSZXNwb25zZU1ldGFkYXRhKGFjYy5ldmVudCk7XG4gICAgICBpZiAoYWNjLmlzVG9vbENhbGxFbmQgJiYgdGhpcy5zaG91bGRFbWl0VG9vbENhbGwoc2hvdWxkRW1pdFRvb2xDYWxscywgYWNjLmxhc3RUb29sQ2FsbE5hbWUpICYmIGFjYy5sYXN0VG9vbENhbGxJZCAmJiAhYWNjLnByb2Nlc3NlZFRvb2xDYWxsSWRzLmhhcyhhY2MubGFzdFRvb2xDYWxsSWQpKSB7XG4gICAgICAgIGFjYy5wcm9jZXNzZWRUb29sQ2FsbElkcy5hZGQoYWNjLmxhc3RUb29sQ2FsbElkKTtcbiAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkVuZCxcbiAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogYWNjLmxhc3RUb29sQ2FsbElkXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICgocmVzcG9uc2VNZXRhZGF0YSA9PSBudWxsID8gdm9pZCAwIDogcmVzcG9uc2VNZXRhZGF0YS5maW5pc2hfcmVhc29uKSA9PT0gXCJzdG9wXCIgJiYgc2hvdWxkRW1pdE1lc3NhZ2VzKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBSdW50aW1lRXZlbnRUeXBlcy5UZXh0TWVzc2FnZUVuZCxcbiAgICAgICAgICBtZXNzYWdlSWQ6IGFjYy5sYXN0TWVzc2FnZUlkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChhY2MuZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSBMYW5nR3JhcGhFdmVudFR5cGVzLk9uQ3VzdG9tRXZlbnQ6XG4gICAgICAgICAgaWYgKGFjYy5ldmVudC5uYW1lID09PSBDdXN0b21FdmVudE5hbWVzLkNvcGlsb3RLaXRNYW51YWxseUVtaXRNZXNzYWdlKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLlRleHRNZXNzYWdlU3RhcnQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogYWNjLmV2ZW50LmRhdGEubWVzc2FnZV9pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLlRleHRNZXNzYWdlQ29udGVudCxcbiAgICAgICAgICAgICAgbWVzc2FnZUlkOiBhY2MuZXZlbnQuZGF0YS5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICBjb250ZW50OiBhY2MuZXZlbnQuZGF0YS5tZXNzYWdlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuVGV4dE1lc3NhZ2VFbmQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogYWNjLmV2ZW50LmRhdGEubWVzc2FnZV9pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY2MuZXZlbnQubmFtZSA9PT0gQ3VzdG9tRXZlbnROYW1lcy5Db3BpbG90S2l0TWFudWFsbHlFbWl0VG9vbENhbGwpIHtcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuQWN0aW9uRXhlY3V0aW9uU3RhcnQsXG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBhY2MuZXZlbnQuZGF0YS5pZCxcbiAgICAgICAgICAgICAgYWN0aW9uTmFtZTogYWNjLmV2ZW50LmRhdGEubmFtZSxcbiAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBhY2MuZXZlbnQuZGF0YS5pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkFyZ3MsXG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBhY2MuZXZlbnQuZGF0YS5pZCxcbiAgICAgICAgICAgICAgYXJnczogSlNPTi5zdHJpbmdpZnkoYWNjLmV2ZW50LmRhdGEuYXJncylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiBSdW50aW1lRXZlbnRUeXBlcy5BY3Rpb25FeGVjdXRpb25FbmQsXG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBhY2MuZXZlbnQuZGF0YS5pZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIExhbmdHcmFwaEV2ZW50VHlwZXMuT25Db3BpbG90S2l0U3RhdGVTeW5jOlxuICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFnZW50U3RhdGVNZXNzYWdlLFxuICAgICAgICAgICAgdGhyZWFkSWQ6IGFjYy5ldmVudC50aHJlYWRfaWQsXG4gICAgICAgICAgICByb2xlOiBhY2MuZXZlbnQucm9sZSxcbiAgICAgICAgICAgIGFnZW50TmFtZTogYWNjLmV2ZW50LmFnZW50X25hbWUsXG4gICAgICAgICAgICBub2RlTmFtZTogYWNjLmV2ZW50Lm5vZGVfbmFtZSxcbiAgICAgICAgICAgIHJ1bklkOiBhY2MuZXZlbnQucnVuX2lkLFxuICAgICAgICAgICAgYWN0aXZlOiBhY2MuZXZlbnQuYWN0aXZlLFxuICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KGFjYy5ldmVudC5zdGF0ZSksXG4gICAgICAgICAgICBydW5uaW5nOiBhY2MuZXZlbnQucnVubmluZ1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIExhbmdHcmFwaEV2ZW50VHlwZXMuT25DaGF0TW9kZWxTdHJlYW06XG4gICAgICAgICAgaWYgKGFjYy5pc1Rvb2xDYWxsU3RhcnQgJiYgdGhpcy5zaG91bGRFbWl0VG9vbENhbGwoc2hvdWxkRW1pdFRvb2xDYWxscywgYWNjLmxhc3RUb29sQ2FsbE5hbWUpKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvblN0YXJ0LFxuICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogYWNjLmxhc3RUb29sQ2FsbElkLFxuICAgICAgICAgICAgICBhY3Rpb25OYW1lOiBhY2MubGFzdFRvb2xDYWxsTmFtZSxcbiAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBhY2MubGFzdE1lc3NhZ2VJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhY2MuaXNNZXNzYWdlU3RhcnQgJiYgc2hvdWxkRW1pdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBhY2MucHJvY2Vzc2VkVG9vbENhbGxJZHMuY2xlYXIoKTtcbiAgICAgICAgICAgIGV2ZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgdHlwZTogUnVudGltZUV2ZW50VHlwZXMuVGV4dE1lc3NhZ2VTdGFydCxcbiAgICAgICAgICAgICAgbWVzc2FnZUlkOiBhY2MubGFzdE1lc3NhZ2VJZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhY2MuaXNUb29sQ2FsbCAmJiBhY2MuY3VycmVudENvbnRlbnQgJiYgdGhpcy5zaG91bGRFbWl0VG9vbENhbGwoc2hvdWxkRW1pdFRvb2xDYWxscywgYWNjLmxhc3RUb29sQ2FsbE5hbWUpKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkFyZ3MsXG4gICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBhY2MubGFzdFRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIGFyZ3M6IGFjYy5jdXJyZW50Q29udGVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghYWNjLmlzVG9vbENhbGwgJiYgYWNjLmN1cnJlbnRDb250ZW50ICYmIHNob3VsZEVtaXRNZXNzYWdlcykge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgICB0eXBlOiBSdW50aW1lRXZlbnRUeXBlcy5UZXh0TWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogYWNjLmxhc3RNZXNzYWdlSWQsXG4gICAgICAgICAgICAgIGNvbnRlbnQ6IGFjYy5jdXJyZW50Q29udGVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV2ZW50cztcbiAgICB9KSwgKDAsIGltcG9ydF9yeGpzMi5jYXRjaEVycm9yKSgoZXJyb3IpID0+IHtcbiAgICAgIGlmICgoMCwgaW1wb3J0X3NoYXJlZDIwLmlzU3RydWN0dXJlZENvcGlsb3RLaXRFcnJvcikoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgbGV0IGhlbHBmdWxNZXNzYWdlID0gZ2VuZXJhdGVIZWxwZnVsRXJyb3JNZXNzYWdlKGVycm9yLCBcIkxhbmdHcmFwaCBhZ2VudCBjb25uZWN0aW9uXCIpO1xuICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQyMC5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcih7XG4gICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSksXG4gICAgICAgIHVybDogXCJsYW5nZ3JhcGggZXZlbnQgc3RyZWFtXCIsXG4gICAgICAgIG1lc3NhZ2U6IGhlbHBmdWxNZXNzYWdlXG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH1cbn07XG5fX25hbWUoUmVtb3RlTGFuZ0dyYXBoRXZlbnRTb3VyY2UsIFwiUmVtb3RlTGFuZ0dyYXBoRXZlbnRTb3VyY2VcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9yZW1vdGUtYWN0aW9uLWNvbnN0cnVjdG9ycy50c1xudmFyIGltcG9ydF9zaGFyZWQyMSA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG52YXIgaW1wb3J0X3NoYXJlZDIyID0gcmVxdWlyZShcIkBjb3BpbG90a2l0L3NoYXJlZFwiKTtcbnZhciBpbXBvcnRfc2hhcmVkMjMgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xuZnVuY3Rpb24gY29uc3RydWN0TEdDUmVtb3RlQWN0aW9uKHsgZW5kcG9pbnQsIGdyYXBocWxDb250ZXh0LCBsb2dnZXI6IGxvZ2dlcjIsIG1lc3NhZ2VzLCBhZ2VudFN0YXRlcyB9KSB7XG4gIGNvbnN0IGFnZW50cyA9IGVuZHBvaW50LmFnZW50cy5tYXAoKGFnZW50KSA9PiAoe1xuICAgIG5hbWU6IGFnZW50Lm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGFnZW50LmRlc2NyaXB0aW9uLFxuICAgIHBhcmFtZXRlcnM6IFtdLFxuICAgIGhhbmRsZXI6IGFzeW5jIChfYXJncykgPT4ge1xuICAgIH0sXG4gICAgcmVtb3RlQWdlbnRIYW5kbGVyOiBhc3luYyAoeyBuYW1lLCBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzLCB0aHJlYWRJZCwgbm9kZU5hbWUsIGFkZGl0aW9uYWxNZXNzYWdlcyA9IFtdLCBtZXRhRXZlbnRzIH0pID0+IHtcbiAgICAgIGxvZ2dlcjIuZGVidWcoe1xuICAgICAgICBhY3Rpb25OYW1lOiBhZ2VudC5uYW1lXG4gICAgICB9LCBcIkV4ZWN1dGluZyBMYW5nR3JhcGggUGxhdGZvcm0gYWdlbnRcIik7XG4gICAgICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLnJlbW90ZV9hY3Rpb25fZXhlY3V0ZWRcIiwge1xuICAgICAgICBhZ2VudEV4ZWN1dGlvbjogdHJ1ZSxcbiAgICAgICAgdHlwZTogXCJsYW5nZ3JhcGgtcGxhdGZvcm1cIixcbiAgICAgICAgYWdlbnRzQW1vdW50OiBlbmRwb2ludC5hZ2VudHMubGVuZ3RoLFxuICAgICAgICBoYXNoZWRMZ2NLZXk6IGVuZHBvaW50LmxhbmdzbWl0aEFwaUtleSA/ICgwLCBpbXBvcnRfbm9kZV9jcnlwdG8zLmNyZWF0ZUhhc2gpKFwic2hhMjU2XCIpLnVwZGF0ZShlbmRwb2ludC5sYW5nc21pdGhBcGlLZXkpLmRpZ2VzdChcImhleFwiKSA6IG51bGxcbiAgICAgIH0pO1xuICAgICAgbGV0IHN0YXRlID0ge307XG4gICAgICBsZXQgY29uZmlnMiA9IHt9O1xuICAgICAgaWYgKGFnZW50U3RhdGVzKSB7XG4gICAgICAgIGNvbnN0IGpzb25TdGF0ZSA9IGFnZW50U3RhdGVzLmZpbmQoKHN0YXRlMikgPT4gc3RhdGUyLmFnZW50TmFtZSA9PT0gbmFtZSk7XG4gICAgICAgIGlmIChqc29uU3RhdGUpIHtcbiAgICAgICAgICBzdGF0ZSA9ICgwLCBpbXBvcnRfc2hhcmVkMjMucGFyc2VKc29uKShqc29uU3RhdGUuc3RhdGUsIHt9KTtcbiAgICAgICAgICBjb25maWcyID0gKDAsIGltcG9ydF9zaGFyZWQyMy5wYXJzZUpzb24pKGpzb25TdGF0ZS5jb25maWcsIHt9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBleGVjdXRlKHtcbiAgICAgICAgICBsb2dnZXI6IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICAgICAgY29tcG9uZW50OiBcInJlbW90ZS1hY3Rpb25zLnJlbW90ZS1sZy1hY3Rpb24uc3RyZWFtRXZlbnRzXCJcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBkZXBsb3ltZW50VXJsOiBlbmRwb2ludC5kZXBsb3ltZW50VXJsLFxuICAgICAgICAgIGxhbmdzbWl0aEFwaUtleTogZW5kcG9pbnQubGFuZ3NtaXRoQXBpS2V5LFxuICAgICAgICAgIGFnZW50LFxuICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgIG5vZGVOYW1lLFxuICAgICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAgICAuLi5tZXNzYWdlcyxcbiAgICAgICAgICAgIC4uLmFkZGl0aW9uYWxNZXNzYWdlc1xuICAgICAgICAgIF0sXG4gICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgY29uZmlnOiBjb25maWcyLFxuICAgICAgICAgIHByb3BlcnRpZXM6IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXMsXG4gICAgICAgICAgYWN0aW9uczogKDAsIGltcG9ydF9zaGFyZWQyMy50cnlNYXApKGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMsIChhY3Rpb24pID0+ICh7XG4gICAgICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBKU09OLnBhcnNlKGFjdGlvbi5qc29uU2NoZW1hKVxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICBtZXRhRXZlbnRzXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBldmVudFNvdXJjZSA9IG5ldyBSZW1vdGVMYW5nR3JhcGhFdmVudFNvdXJjZSgpO1xuICAgICAgICB3cml0ZUpzb25MaW5lUmVzcG9uc2VUb0V2ZW50U3RyZWFtKHJlc3BvbnNlLCBldmVudFNvdXJjZS5ldmVudFN0cmVhbSQpO1xuICAgICAgICByZXR1cm4gZXZlbnRTb3VyY2UucHJvY2Vzc0xhbmdHcmFwaEV2ZW50cygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDIxLkNvcGlsb3RLaXRFcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIGltcG9ydF9zaGFyZWQyMS5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcikge1xuICAgICAgICAgIGlmIChpc1VzZXJDb25maWd1cmF0aW9uRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgICAgICAgdXJsOiBlbmRwb2ludC5kZXBsb3ltZW50VXJsLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgY29kZTogZXJyb3IuY29kZVxuICAgICAgICAgICAgfSwgXCJVc2VyIGNvbmZpZ3VyYXRpb24gZXJyb3IgaW4gTGFuZ0dyYXBoIFBsYXRmb3JtIGFnZW50XCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIyLmVycm9yKHtcbiAgICAgICAgICAgICAgdXJsOiBlbmRwb2ludC5kZXBsb3ltZW50VXJsLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgdHlwZTogZXJyb3IuY29uc3RydWN0b3IubmFtZVxuICAgICAgICAgICAgfSwgXCJMYW5nR3JhcGggUGxhdGZvcm0gYWdlbnQgZXJyb3JcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcjIuZXJyb3Ioe1xuICAgICAgICAgIHVybDogZW5kcG9pbnQuZGVwbG95bWVudFVybCxcbiAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICBib2R5OiBlcnJvci5tZXNzYWdlXG4gICAgICAgIH0sIFwiRmFpbGVkIHRvIGV4ZWN1dGUgTGFuZ0dyYXBoIFBsYXRmb3JtIGFnZW50XCIpO1xuICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDIxLkNvcGlsb3RLaXRMb3dMZXZlbEVycm9yKHtcbiAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpLFxuICAgICAgICAgIHVybDogZW5kcG9pbnQuZGVwbG95bWVudFVybCxcbiAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBleGVjdXRlIExhbmdHcmFwaCBQbGF0Zm9ybSBhZ2VudFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSkpO1xuICByZXR1cm4gW1xuICAgIC4uLmFnZW50c1xuICBdO1xufVxuX19uYW1lKGNvbnN0cnVjdExHQ1JlbW90ZUFjdGlvbiwgXCJjb25zdHJ1Y3RMR0NSZW1vdGVBY3Rpb25cIik7XG52YXIgUmVtb3RlQWdlbnRUeXBlO1xuKGZ1bmN0aW9uKFJlbW90ZUFnZW50VHlwZTIpIHtcbiAgUmVtb3RlQWdlbnRUeXBlMltcIkxhbmdHcmFwaFwiXSA9IFwibGFuZ2dyYXBoXCI7XG4gIFJlbW90ZUFnZW50VHlwZTJbXCJDcmV3QUlcIl0gPSBcImNyZXdhaVwiO1xufSkoUmVtb3RlQWdlbnRUeXBlIHx8IChSZW1vdGVBZ2VudFR5cGUgPSB7fSkpO1xuZnVuY3Rpb24gY29uc3RydWN0UmVtb3RlQWN0aW9ucyh7IGpzb24sIHVybCwgb25CZWZvcmVSZXF1ZXN0LCBncmFwaHFsQ29udGV4dCwgbG9nZ2VyOiBsb2dnZXIyLCBtZXNzYWdlcywgYWdlbnRTdGF0ZXMgfSkge1xuICBjb25zdCB0b3RhbEFnZW50cyA9IEFycmF5LmlzQXJyYXkoanNvbltcImFnZW50c1wiXSkgPyBqc29uW1wiYWdlbnRzXCJdLmxlbmd0aCA6IDA7XG4gIGNvbnN0IGFjdGlvbnMgPSBqc29uW1wiYWN0aW9uc1wiXS5tYXAoKGFjdGlvbikgPT4gKHtcbiAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgIHBhcmFtZXRlcnM6IGFjdGlvbi5wYXJhbWV0ZXJzLFxuICAgIGhhbmRsZXI6IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgYWN0aW9uTmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgIGFyZ3NcbiAgICAgIH0sIFwiRXhlY3V0aW5nIHJlbW90ZSBhY3Rpb25cIik7XG4gICAgICBjb25zdCBoZWFkZXJzID0gY3JlYXRlSGVhZGVycyhvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0KTtcbiAgICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUucmVtb3RlX2FjdGlvbl9leGVjdXRlZFwiLCB7XG4gICAgICAgIGFnZW50RXhlY3V0aW9uOiBmYWxzZSxcbiAgICAgICAgdHlwZTogXCJzZWxmLWhvc3RlZFwiLFxuICAgICAgICBhZ2VudHNBbW91bnQ6IHRvdGFsQWdlbnRzXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGZldGNoVXJsID0gYCR7dXJsfS9hY3Rpb25zL2V4ZWN1dGVgO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaFdpdGhSZXRyeShmZXRjaFVybCwge1xuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBuYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgICAgIGFyZ3VtZW50czogYXJncyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IGdyYXBocWxDb250ZXh0LnByb3BlcnRpZXNcbiAgICAgICAgICB9KVxuICAgICAgICB9LCBsb2dnZXIyKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIGxvZ2dlcjIuZXJyb3Ioe1xuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICBib2R5OiBhd2FpdCByZXNwb25zZS50ZXh0KClcbiAgICAgICAgICB9LCBcIkZhaWxlZCB0byBleGVjdXRlIHJlbW90ZSBhY3Rpb25cIik7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDIyLkNvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcih7XG4gICAgICAgICAgICAgIHVybDogZmV0Y2hVcmxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDIyLlJlc29sdmVkQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgdXJsOiBmZXRjaFVybCxcbiAgICAgICAgICAgIGlzUmVtb3RlRW5kcG9pbnQ6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0UmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZXF1ZXN0UmVzdWx0W1wicmVzdWx0XCJdO1xuICAgICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgICBhY3Rpb25OYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgICByZXN1bHRcbiAgICAgICAgfSwgXCJFeGVjdXRlZCByZW1vdGUgYWN0aW9uXCIpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDIxLkNvcGlsb3RLaXRFcnJvciB8fCBlcnJvciBpbnN0YW5jZW9mIGltcG9ydF9zaGFyZWQyMS5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcikge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMjEuQ29waWxvdEtpdExvd0xldmVsRXJyb3Ioe1xuICAgICAgICAgIGVycm9yLFxuICAgICAgICAgIHVybDogZmV0Y2hVcmxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KSk7XG4gIGNvbnN0IGFnZW50cyA9IHRvdGFsQWdlbnRzID8ganNvbltcImFnZW50c1wiXS5tYXAoKGFnZW50KSA9PiAoe1xuICAgIG5hbWU6IGFnZW50Lm5hbWUsXG4gICAgZGVzY3JpcHRpb246IGFnZW50LmRlc2NyaXB0aW9uLFxuICAgIHBhcmFtZXRlcnM6IFtdLFxuICAgIGhhbmRsZXI6IGFzeW5jIChfYXJncykgPT4ge1xuICAgIH0sXG4gICAgcmVtb3RlQWdlbnRIYW5kbGVyOiBhc3luYyAoeyBuYW1lLCBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzLCB0aHJlYWRJZCwgbm9kZU5hbWUsIGFkZGl0aW9uYWxNZXNzYWdlcyA9IFtdLCBtZXRhRXZlbnRzIH0pID0+IHtcbiAgICAgIGxvZ2dlcjIuZGVidWcoe1xuICAgICAgICBhY3Rpb25OYW1lOiBhZ2VudC5uYW1lXG4gICAgICB9LCBcIkV4ZWN1dGluZyByZW1vdGUgYWdlbnRcIik7XG4gICAgICBjb25zdCBoZWFkZXJzID0gY3JlYXRlSGVhZGVycyhvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0KTtcbiAgICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUucmVtb3RlX2FjdGlvbl9leGVjdXRlZFwiLCB7XG4gICAgICAgIGFnZW50RXhlY3V0aW9uOiB0cnVlLFxuICAgICAgICB0eXBlOiBcInNlbGYtaG9zdGVkXCIsXG4gICAgICAgIGFnZW50c0Ftb3VudDoganNvbltcImFnZW50c1wiXS5sZW5ndGhcbiAgICAgIH0pO1xuICAgICAgbGV0IHN0YXRlID0ge307XG4gICAgICBsZXQgY29uZmlnMiA9IHt9O1xuICAgICAgaWYgKGFnZW50U3RhdGVzKSB7XG4gICAgICAgIGNvbnN0IGpzb25TdGF0ZSA9IGFnZW50U3RhdGVzLmZpbmQoKHN0YXRlMikgPT4gc3RhdGUyLmFnZW50TmFtZSA9PT0gbmFtZSk7XG4gICAgICAgIGlmIChqc29uU3RhdGUpIHtcbiAgICAgICAgICBzdGF0ZSA9ICgwLCBpbXBvcnRfc2hhcmVkMjMucGFyc2VKc29uKShqc29uU3RhdGUuc3RhdGUsIHt9KTtcbiAgICAgICAgICBjb25maWcyID0gKDAsIGltcG9ydF9zaGFyZWQyMy5wYXJzZUpzb24pKGpzb25TdGF0ZS5jb25maWcsIHt9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZmV0Y2hVcmwgPSBgJHt1cmx9L2FnZW50cy9leGVjdXRlYDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoUmV0cnkoZmV0Y2hVcmwsIHtcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgbm9kZU5hbWUsXG4gICAgICAgICAgICBtZXNzYWdlczogW1xuICAgICAgICAgICAgICAuLi5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgLi4uYWRkaXRpb25hbE1lc3NhZ2VzXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBjb25maWc6IGNvbmZpZzIsXG4gICAgICAgICAgICBwcm9wZXJ0aWVzOiBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgYWN0aW9uczogKDAsIGltcG9ydF9zaGFyZWQyMy50cnlNYXApKGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMsIChhY3Rpb24pID0+ICh7XG4gICAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBKU09OLnBhcnNlKGFjdGlvbi5qc29uU2NoZW1hKVxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgbWV0YUV2ZW50c1xuICAgICAgICAgIH0pXG4gICAgICAgIH0sIGxvZ2dlcjIpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgbG9nZ2VyMi5lcnJvcih7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIGJvZHk6IGF3YWl0IHJlc3BvbnNlLnRleHQoKVxuICAgICAgICAgIH0sIFwiRmFpbGVkIHRvIGV4ZWN1dGUgcmVtb3RlIGFnZW50XCIpO1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQyMi5Db3BpbG90S2l0QXBpRGlzY292ZXJ5RXJyb3Ioe1xuICAgICAgICAgICAgICB1cmw6IGZldGNoVXJsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQyMi5SZXNvbHZlZENvcGlsb3RLaXRFcnJvcih7XG4gICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIHVybDogZmV0Y2hVcmwsXG4gICAgICAgICAgICBpc1JlbW90ZUVuZHBvaW50OiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFnZW50LnR5cGUgPT09IFwibGFuZ2dyYXBoXCIpIHtcbiAgICAgICAgICBjb25zdCBldmVudFNvdXJjZSA9IG5ldyBSZW1vdGVMYW5nR3JhcGhFdmVudFNvdXJjZSgpO1xuICAgICAgICAgIHdyaXRlSnNvbkxpbmVSZXNwb25zZVRvRXZlbnRTdHJlYW0ocmVzcG9uc2UuYm9keSwgZXZlbnRTb3VyY2UuZXZlbnRTdHJlYW0kKTtcbiAgICAgICAgICByZXR1cm4gZXZlbnRTb3VyY2UucHJvY2Vzc0xhbmdHcmFwaEV2ZW50cygpO1xuICAgICAgICB9IGVsc2UgaWYgKGFnZW50LnR5cGUgPT09IFwiY3Jld2FpXCIpIHtcbiAgICAgICAgICBjb25zdCBldmVudFN0cmVhbSQgPSBuZXcgUnVudGltZUV2ZW50U3ViamVjdCgpO1xuICAgICAgICAgIHdyaXRlSnNvbkxpbmVSZXNwb25zZVRvRXZlbnRTdHJlYW0ocmVzcG9uc2UuYm9keSwgZXZlbnRTdHJlYW0kKTtcbiAgICAgICAgICByZXR1cm4gZXZlbnRTdHJlYW0kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGFnZW50IHR5cGVcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIGltcG9ydF9zaGFyZWQyMS5Db3BpbG90S2l0RXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBpbXBvcnRfc2hhcmVkMjEuQ29waWxvdEtpdExvd0xldmVsRXJyb3IpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X3NoYXJlZDIxLkNvcGlsb3RLaXRMb3dMZXZlbEVycm9yKHtcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICB1cmw6IGZldGNoVXJsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSkpIDogW107XG4gIHJldHVybiBbXG4gICAgLi4uYWN0aW9ucyxcbiAgICAuLi5hZ2VudHNcbiAgXTtcbn1cbl9fbmFtZShjb25zdHJ1Y3RSZW1vdGVBY3Rpb25zLCBcImNvbnN0cnVjdFJlbW90ZUFjdGlvbnNcIik7XG5mdW5jdGlvbiBjcmVhdGVIZWFkZXJzKG9uQmVmb3JlUmVxdWVzdCwgZ3JhcGhxbENvbnRleHQpIHtcbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxuICB9O1xuICBpZiAob25CZWZvcmVSZXF1ZXN0KSB7XG4gICAgY29uc3QgeyBoZWFkZXJzOiBhZGRpdGlvbmFsSGVhZGVycyB9ID0gb25CZWZvcmVSZXF1ZXN0KHtcbiAgICAgIGN0eDogZ3JhcGhxbENvbnRleHRcbiAgICB9KTtcbiAgICBpZiAoYWRkaXRpb25hbEhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oaGVhZGVycywgYWRkaXRpb25hbEhlYWRlcnMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaGVhZGVycztcbn1cbl9fbmFtZShjcmVhdGVIZWFkZXJzLCBcImNyZWF0ZUhlYWRlcnNcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9yZW1vdGUtYWN0aW9ucy50c1xudmFyIGltcG9ydF9zaGFyZWQyNiA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9hZ3VpLWFjdGlvbi50c1xudmFyIGltcG9ydF9yeGpzMyA9IHJlcXVpcmUoXCJyeGpzXCIpO1xudmFyIGltcG9ydF9zaGFyZWQyNCA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5mdW5jdGlvbiBjb25zdHJ1Y3RBR1VJUmVtb3RlQWN0aW9uKHsgbG9nZ2VyOiBsb2dnZXIyLCBtZXNzYWdlcywgYWdlbnRTdGF0ZXMsIGFnZW50LCBtZXRhRXZlbnRzLCB0aHJlYWRNZXRhZGF0YSwgbm9kZU5hbWUsIGdyYXBocWxDb250ZXh0IH0pIHtcbiAgY29uc3QgYWN0aW9uID0ge1xuICAgIG5hbWU6IGFnZW50LmFnZW50SWQsXG4gICAgZGVzY3JpcHRpb246IGFnZW50LmRlc2NyaXB0aW9uLFxuICAgIHBhcmFtZXRlcnM6IFtdLFxuICAgIGhhbmRsZXI6IGFzeW5jIChfYXJncykgPT4ge1xuICAgIH0sXG4gICAgcmVtb3RlQWdlbnRIYW5kbGVyOiBhc3luYyAoeyBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzLCB0aHJlYWRJZCB9KSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgYWN0aW9uTmFtZTogYWdlbnQuYWdlbnRJZFxuICAgICAgfSwgXCJFeGVjdXRpbmcgcmVtb3RlIGFnZW50XCIpO1xuICAgICAgY29uc3QgYWdlbnRXaXJlTWVzc2FnZXMgPSBjb252ZXJ0TWVzc2FnZXNUb0FHVUlNZXNzYWdlKG1lc3NhZ2VzKTtcbiAgICAgIGFnZW50Lm1lc3NhZ2VzID0gYWdlbnRXaXJlTWVzc2FnZXM7XG4gICAgICBhZ2VudC50aHJlYWRJZCA9IHRocmVhZElkO1xuICAgICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5yZW1vdGVfYWN0aW9uX2V4ZWN1dGVkXCIsIHtcbiAgICAgICAgYWdlbnRFeGVjdXRpb246IHRydWUsXG4gICAgICAgIHR5cGU6IFwic2VsZi1ob3N0ZWRcIixcbiAgICAgICAgYWdlbnRzQW1vdW50OiAxXG4gICAgICB9KTtcbiAgICAgIGxldCBzdGF0ZSA9IHt9O1xuICAgICAgbGV0IGNvbmZpZzIgPSB7fTtcbiAgICAgIGlmIChhZ2VudFN0YXRlcykge1xuICAgICAgICBjb25zdCBqc29uU3RhdGUgPSBhZ2VudFN0YXRlcy5maW5kKChzdGF0ZTIpID0+IHN0YXRlMi5hZ2VudE5hbWUgPT09IGFnZW50LmFnZW50SWQpO1xuICAgICAgICBpZiAoanNvblN0YXRlKSB7XG4gICAgICAgICAgc3RhdGUgPSAoMCwgaW1wb3J0X3NoYXJlZDI0LnBhcnNlSnNvbikoanNvblN0YXRlLnN0YXRlLCB7fSk7XG4gICAgICAgICAgY29uZmlnMiA9ICgwLCBpbXBvcnRfc2hhcmVkMjQucGFyc2VKc29uKShqc29uU3RhdGUuY29uZmlnLCB7fSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFnZW50LnN0YXRlID0gc3RhdGU7XG4gICAgICBjb25zdCB0b29scyA9IGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMubWFwKChpbnB1dCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IGlucHV0Lm5hbWUsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGlucHV0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgIHBhcmFtZXRlcnM6IEpTT04ucGFyc2UoaW5wdXQuanNvblNjaGVtYSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgeyBzdHJlYW1TdWJncmFwaHMsIC4uLnJlc3RDb25maWcgfSA9IGNvbmZpZzI7XG4gICAgICBjb25zdCBmb3J3YXJkZWRQcm9wcyA9IHtcbiAgICAgICAgY29uZmlnOiByZXN0Q29uZmlnLFxuICAgICAgICAuLi4obWV0YUV2ZW50cyA9PSBudWxsID8gdm9pZCAwIDogbWV0YUV2ZW50cy5sZW5ndGgpID8ge1xuICAgICAgICAgIGNvbW1hbmQ6IHtcbiAgICAgICAgICAgIHJlc3VtZTogKF9hID0gbWV0YUV2ZW50c1swXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlc3BvbnNlXG4gICAgICAgICAgfVxuICAgICAgICB9IDoge30sXG4gICAgICAgIC4uLnRocmVhZE1ldGFkYXRhID8ge1xuICAgICAgICAgIHRocmVhZE1ldGFkYXRhXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgLi4ubm9kZU5hbWUgPyB7XG4gICAgICAgICAgbm9kZU5hbWVcbiAgICAgICAgfSA6IHt9LFxuICAgICAgICAuLi5zdHJlYW1TdWJncmFwaHMgPyB7XG4gICAgICAgICAgc3RyZWFtU3ViZ3JhcGhzXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgLy8gRm9yd2FyZCBwcm9wZXJ0aWVzIGZyb20gdGhlIGdyYXBocWwgY29udGV4dCB0byB0aGUgYWdlbnQsIGUuZyBBdXRob3JpemF0aW9uIHRva2VuXG4gICAgICAgIC4uLmdyYXBocWxDb250ZXh0LnByb3BlcnRpZXNcbiAgICAgIH07XG4gICAgICByZXR1cm4gYWdlbnQubGVnYWN5X3RvX2JlX3JlbW92ZWRfcnVuQWdlbnRCcmlkZ2VkKHtcbiAgICAgICAgdG9vbHMsXG4gICAgICAgIGZvcndhcmRlZFByb3BzXG4gICAgICB9KS5waXBlKCgwLCBpbXBvcnRfcnhqczMubWVyZ2VNYXApKChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gUnVudGltZUV2ZW50VHlwZXMuUnVuRXJyb3IpIHtcbiAgICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IGV2ZW50O1xuICAgICAgICAgIHJldHVybiAoMCwgaW1wb3J0X3J4anMzLnRocm93RXJyb3IpKCgpID0+IG5ldyBpbXBvcnRfc2hhcmVkMjQuQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBjb2RlOiBpbXBvcnRfc2hhcmVkMjQuQ29waWxvdEtpdEVycm9yQ29kZS5VTktOT1dOXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgaW1wb3J0X3J4anMzLm9mKShldmVudCk7XG4gICAgICB9KSwgKDAsIGltcG9ydF9yeGpzMy5jYXRjaEVycm9yKSgoZXJyKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMjQuQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZSxcbiAgICAgICAgICBjb2RlOiBpbXBvcnRfc2hhcmVkMjQuQ29waWxvdEtpdEVycm9yQ29kZS5VTktOT1dOXG4gICAgICAgIH0pO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFtcbiAgICBhY3Rpb25cbiAgXTtcbn1cbl9fbmFtZShjb25zdHJ1Y3RBR1VJUmVtb3RlQWN0aW9uLCBcImNvbnN0cnVjdEFHVUlSZW1vdGVBY3Rpb25cIik7XG5mdW5jdGlvbiBjb252ZXJ0TWVzc2FnZXNUb0FHVUlNZXNzYWdlKG1lc3NhZ2VzKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS5pc1RleHRNZXNzYWdlKCkpIHtcbiAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpIHtcbiAgICAgIGNvbnN0IHRvb2xDYWxsID0ge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZSxcbiAgICAgICAgICBhcmd1bWVudHM6IEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UuYXJndW1lbnRzKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgaWYgKG1lc3NhZ2UucGFyZW50TWVzc2FnZUlkICYmIHJlc3VsdC5zb21lKChtKSA9PiBtLmlkID09PSBtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZCkpIHtcbiAgICAgICAgY29uc3QgcGFyZW50TWVzc2FnZSA9IHJlc3VsdC5maW5kKChtKSA9PiBtLmlkID09PSBtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZCk7XG4gICAgICAgIGlmIChwYXJlbnRNZXNzYWdlLnRvb2xDYWxscyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgcGFyZW50TWVzc2FnZS50b29sQ2FsbHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnRNZXNzYWdlLnRvb2xDYWxscy5wdXNoKHRvb2xDYWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICBpZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWQgPz8gbWVzc2FnZS5pZCxcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIHRvb2xDYWxsczogW1xuICAgICAgICAgICAgdG9vbENhbGxcbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgICB0b29sQ2FsbElkOiBtZXNzYWdlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbl9fbmFtZShjb252ZXJ0TWVzc2FnZXNUb0FHVUlNZXNzYWdlLCBcImNvbnZlcnRNZXNzYWdlc1RvQUdVSU1lc3NhZ2VcIik7XG5cbi8vIHNyYy9saWIvcnVudGltZS9yZW1vdGUtYWN0aW9ucy50c1xudmFyIEVuZHBvaW50VHlwZTtcbihmdW5jdGlvbihFbmRwb2ludFR5cGUyKSB7XG4gIEVuZHBvaW50VHlwZTJbXCJDb3BpbG90S2l0XCJdID0gXCJjb3BpbG90S2l0XCI7XG4gIEVuZHBvaW50VHlwZTJbXCJMYW5nR3JhcGhQbGF0Zm9ybVwiXSA9IFwibGFuZ2dyYXBoLXBsYXRmb3JtXCI7XG59KShFbmRwb2ludFR5cGUgfHwgKEVuZHBvaW50VHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBpc1JlbW90ZUFnZW50QWN0aW9uKGFjdGlvbikge1xuICBpZiAoIWFjdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGFjdGlvbi5yZW1vdGVBZ2VudEhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIjtcbn1cbl9fbmFtZShpc1JlbW90ZUFnZW50QWN0aW9uLCBcImlzUmVtb3RlQWdlbnRBY3Rpb25cIik7XG5hc3luYyBmdW5jdGlvbiBmZXRjaFJlbW90ZUluZm8oeyB1cmwsIG9uQmVmb3JlUmVxdWVzdCwgZ3JhcGhxbENvbnRleHQsIGxvZ2dlcjogbG9nZ2VyMiwgZnJvbnRlbmRVcmwgfSkge1xuICBsb2dnZXIyLmRlYnVnKHtcbiAgICB1cmxcbiAgfSwgXCJGZXRjaGluZyBhY3Rpb25zIGZyb20gdXJsXCIpO1xuICBjb25zdCBoZWFkZXJzID0gY3JlYXRlSGVhZGVycyhvbkJlZm9yZVJlcXVlc3QsIGdyYXBocWxDb250ZXh0KTtcbiAgY29uc3QgZmV0Y2hVcmwgPSBgJHt1cmx9L2luZm9gO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmV0Y2hVcmwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9wZXJ0aWVzOiBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzLFxuICAgICAgICBmcm9udGVuZFVybFxuICAgICAgfSlcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICBsb2dnZXIyLmVycm9yKHtcbiAgICAgICAgdXJsLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgYm9keTogYXdhaXQgcmVzcG9uc2UudGV4dCgpXG4gICAgICB9LCBcIkZhaWxlZCB0byBmZXRjaCBhY3Rpb25zIGZyb20gdXJsXCIpO1xuICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQyNi5SZXNvbHZlZENvcGlsb3RLaXRFcnJvcih7XG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB1cmw6IGZldGNoVXJsLFxuICAgICAgICBpc1JlbW90ZUVuZHBvaW50OiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgIGpzb25cbiAgICB9LCBcIkZldGNoZWQgYWN0aW9ucyBmcm9tIHVybFwiKTtcbiAgICByZXR1cm4ganNvbjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBpbXBvcnRfc2hhcmVkMjYuQ29waWxvdEtpdEVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQyNi5Db3BpbG90S2l0TG93TGV2ZWxFcnJvcih7XG4gICAgICBlcnJvcixcbiAgICAgIHVybDogZmV0Y2hVcmxcbiAgICB9KTtcbiAgfVxufVxuX19uYW1lKGZldGNoUmVtb3RlSW5mbywgXCJmZXRjaFJlbW90ZUluZm9cIik7XG5hc3luYyBmdW5jdGlvbiBzZXR1cFJlbW90ZUFjdGlvbnMoeyByZW1vdGVFbmRwb2ludERlZmluaXRpb25zLCBncmFwaHFsQ29udGV4dCwgbWVzc2FnZXMsIGFnZW50U3RhdGVzLCBmcm9udGVuZFVybCwgYWdlbnRzLCBtZXRhRXZlbnRzLCBub2RlTmFtZSB9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbG9nZ2VyMiA9IGdyYXBocWxDb250ZXh0LmxvZ2dlci5jaGlsZCh7XG4gICAgY29tcG9uZW50OiBcInJlbW90ZS1hY3Rpb25zLmZldGNoUmVtb3RlQWN0aW9uc1wiXG4gIH0pO1xuICBsb2dnZXIyLmRlYnVnKHtcbiAgICByZW1vdGVFbmRwb2ludERlZmluaXRpb25zXG4gIH0sIFwiRmV0Y2hpbmcgZnJvbSByZW1vdGUgZW5kcG9pbnRzXCIpO1xuICBjb25zdCB0aHJlYWRNZXRhZGF0YSA9ICgoX2EgPSBncmFwaHFsQ29udGV4dC5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EudGhyZWFkTWV0YWRhdGEpIHx8IHt9O1xuICBjb25zdCBmaWx0ZXJlZCA9IHJlbW90ZUVuZHBvaW50RGVmaW5pdGlvbnMuZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIHNlbGYpID0+IHtcbiAgICBpZiAodmFsdWUudHlwZSA9PT0gXCJsYW5nZ3JhcGgtcGxhdGZvcm1cIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXggPT09IHNlbGYuZmluZEluZGV4KCh0KSA9PiB0LnVybCA9PT0gdmFsdWUudXJsKTtcbiAgfSk7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UuYWxsKGZpbHRlcmVkLm1hcChhc3luYyAoZW5kcG9pbnQpID0+IHtcbiAgICBpZiAoZW5kcG9pbnQudHlwZSA9PT0gXCJsYW5nZ3JhcGgtcGxhdGZvcm1cIikge1xuICAgICAgcmV0dXJuIGNvbnN0cnVjdExHQ1JlbW90ZUFjdGlvbih7XG4gICAgICAgIGVuZHBvaW50LFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgZ3JhcGhxbENvbnRleHQsXG4gICAgICAgIGxvZ2dlcjogbG9nZ2VyMi5jaGlsZCh7XG4gICAgICAgICAgY29tcG9uZW50OiBcInJlbW90ZS1hY3Rpb25zLmNvbnN0cnVjdExHQ1JlbW90ZUFjdGlvblwiLFxuICAgICAgICAgIGVuZHBvaW50XG4gICAgICAgIH0pLFxuICAgICAgICBhZ2VudFN0YXRlc1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGpzb24gPSBhd2FpdCBmZXRjaFJlbW90ZUluZm8oe1xuICAgICAgdXJsOiBlbmRwb2ludC51cmwsXG4gICAgICBvbkJlZm9yZVJlcXVlc3Q6IGVuZHBvaW50Lm9uQmVmb3JlUmVxdWVzdCxcbiAgICAgIGdyYXBocWxDb250ZXh0LFxuICAgICAgbG9nZ2VyOiBsb2dnZXIyLmNoaWxkKHtcbiAgICAgICAgY29tcG9uZW50OiBcInJlbW90ZS1hY3Rpb25zLmZldGNoQWN0aW9uc0Zyb21VcmxcIixcbiAgICAgICAgZW5kcG9pbnRcbiAgICAgIH0pLFxuICAgICAgZnJvbnRlbmRVcmxcbiAgICB9KTtcbiAgICByZXR1cm4gY29uc3RydWN0UmVtb3RlQWN0aW9ucyh7XG4gICAgICBqc29uLFxuICAgICAgbWVzc2FnZXMsXG4gICAgICB1cmw6IGVuZHBvaW50LnVybCxcbiAgICAgIG9uQmVmb3JlUmVxdWVzdDogZW5kcG9pbnQub25CZWZvcmVSZXF1ZXN0LFxuICAgICAgZ3JhcGhxbENvbnRleHQsXG4gICAgICBsb2dnZXI6IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICBjb21wb25lbnQ6IFwicmVtb3RlLWFjdGlvbnMuY29uc3RydWN0QWN0aW9uc1wiLFxuICAgICAgICBlbmRwb2ludFxuICAgICAgfSksXG4gICAgICBhZ2VudFN0YXRlc1xuICAgIH0pO1xuICB9KSk7XG4gIGZvciAoY29uc3QgW2tleSwgYWdlbnRdIG9mIE9iamVjdC5lbnRyaWVzKGFnZW50cykpIHtcbiAgICBpZiAoYWdlbnQuYWdlbnRJZCAhPT0gdm9pZCAwICYmIGFnZW50LmFnZW50SWQgIT09IGtleSkge1xuICAgICAgdGhyb3cgbmV3IGltcG9ydF9zaGFyZWQyNi5Db3BpbG90S2l0RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgQWdlbnQgJHtrZXl9IGhhcyBhZ2VudElkICR7YWdlbnQuYWdlbnRJZH0gd2hpY2ggZG9lcyBub3QgbWF0Y2ggdGhlIGtleSAke2tleX1gLFxuICAgICAgICBjb2RlOiBpbXBvcnRfc2hhcmVkMjUuQ29waWxvdEtpdEVycm9yQ29kZS5VTktOT1dOXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFnZW50LmFnZW50SWQgPT09IHZvaWQgMCkge1xuICAgICAgYWdlbnQuYWdlbnRJZCA9IGtleTtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2goY29uc3RydWN0QUdVSVJlbW90ZUFjdGlvbih7XG4gICAgICBsb2dnZXI6IGxvZ2dlcjIsXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIGFnZW50U3RhdGVzLFxuICAgICAgYWdlbnQsXG4gICAgICBtZXRhRXZlbnRzLFxuICAgICAgdGhyZWFkTWV0YWRhdGEsXG4gICAgICBub2RlTmFtZSxcbiAgICAgIGdyYXBocWxDb250ZXh0XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQuZmxhdCgpO1xufVxuX19uYW1lKHNldHVwUmVtb3RlQWN0aW9ucywgXCJzZXR1cFJlbW90ZUFjdGlvbnNcIik7XG5cbi8vIHNyYy9zZXJ2aWNlLWFkYXB0ZXJzL2V2ZW50cy50c1xudmFyIFJ1bnRpbWVFdmVudFR5cGVzO1xuKGZ1bmN0aW9uKFJ1bnRpbWVFdmVudFR5cGVzMikge1xuICBSdW50aW1lRXZlbnRUeXBlczJbXCJUZXh0TWVzc2FnZVN0YXJ0XCJdID0gXCJUZXh0TWVzc2FnZVN0YXJ0XCI7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIlRleHRNZXNzYWdlQ29udGVudFwiXSA9IFwiVGV4dE1lc3NhZ2VDb250ZW50XCI7XG4gIFJ1bnRpbWVFdmVudFR5cGVzMltcIlRleHRNZXNzYWdlRW5kXCJdID0gXCJUZXh0TWVzc2FnZUVuZFwiO1xuICBSdW50aW1lRXZlbnRUeXBlczJbXCJBY3Rpb25FeGVjdXRpb25TdGFydFwiXSA9IFwiQWN0aW9uRXhlY3V0aW9uU3RhcnRcIjtcbiAgUnVudGltZUV2ZW50VHlwZXMyW1wiQWN0aW9uRXhlY3V0aW9uQXJnc1wiXSA9IFwiQWN0aW9uRXhlY3V0aW9uQXJnc1wiO1xuICBSdW50aW1lRXZlbnRUeXBlczJbXCJBY3Rpb25FeGVjdXRpb25FbmRcIl0gPSBcIkFjdGlvbkV4ZWN1dGlvbkVuZFwiO1xuICBSdW50aW1lRXZlbnRUeXBlczJbXCJBY3Rpb25FeGVjdXRpb25SZXN1bHRcIl0gPSBcIkFjdGlvbkV4ZWN1dGlvblJlc3VsdFwiO1xuICBSdW50aW1lRXZlbnRUeXBlczJbXCJBZ2VudFN0YXRlTWVzc2FnZVwiXSA9IFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIjtcbiAgUnVudGltZUV2ZW50VHlwZXMyW1wiTWV0YUV2ZW50XCJdID0gXCJNZXRhRXZlbnRcIjtcbiAgUnVudGltZUV2ZW50VHlwZXMyW1wiUnVuRXJyb3JcIl0gPSBcIlJ1bkVycm9yXCI7XG59KShSdW50aW1lRXZlbnRUeXBlcyB8fCAoUnVudGltZUV2ZW50VHlwZXMgPSB7fSkpO1xudmFyIFJ1bnRpbWVNZXRhRXZlbnROYW1lO1xuKGZ1bmN0aW9uKFJ1bnRpbWVNZXRhRXZlbnROYW1lMikge1xuICBSdW50aW1lTWV0YUV2ZW50TmFtZTJbXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiXSA9IFwiTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIjtcbiAgUnVudGltZU1ldGFFdmVudE5hbWUyW1wiTGFuZ0dyYXBoSW50ZXJydXB0UmVzdW1lRXZlbnRcIl0gPSBcIkxhbmdHcmFwaEludGVycnVwdFJlc3VtZUV2ZW50XCI7XG4gIFJ1bnRpbWVNZXRhRXZlbnROYW1lMltcIkNvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiXSA9IFwiQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50XCI7XG59KShSdW50aW1lTWV0YUV2ZW50TmFtZSB8fCAoUnVudGltZU1ldGFFdmVudE5hbWUgPSB7fSkpO1xudmFyIFJ1bnRpbWVFdmVudFN1YmplY3QgPSBjbGFzcyBleHRlbmRzIGltcG9ydF9yeGpzNC5SZXBsYXlTdWJqZWN0IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuICBzZW5kVGV4dE1lc3NhZ2VTdGFydCh7IG1lc3NhZ2VJZCwgcGFyZW50TWVzc2FnZUlkIH0pIHtcbiAgICB0aGlzLm5leHQoe1xuICAgICAgdHlwZTogXCJUZXh0TWVzc2FnZVN0YXJ0XCIsXG4gICAgICBtZXNzYWdlSWQsXG4gICAgICBwYXJlbnRNZXNzYWdlSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kVGV4dE1lc3NhZ2VDb250ZW50KHsgbWVzc2FnZUlkLCBjb250ZW50IH0pIHtcbiAgICB0aGlzLm5leHQoe1xuICAgICAgdHlwZTogXCJUZXh0TWVzc2FnZUNvbnRlbnRcIixcbiAgICAgIGNvbnRlbnQsXG4gICAgICBtZXNzYWdlSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kVGV4dE1lc3NhZ2VFbmQoeyBtZXNzYWdlSWQgfSkge1xuICAgIHRoaXMubmV4dCh7XG4gICAgICB0eXBlOiBcIlRleHRNZXNzYWdlRW5kXCIsXG4gICAgICBtZXNzYWdlSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kVGV4dE1lc3NhZ2UobWVzc2FnZUlkLCBjb250ZW50KSB7XG4gICAgdGhpcy5zZW5kVGV4dE1lc3NhZ2VTdGFydCh7XG4gICAgICBtZXNzYWdlSWRcbiAgICB9KTtcbiAgICB0aGlzLnNlbmRUZXh0TWVzc2FnZUNvbnRlbnQoe1xuICAgICAgbWVzc2FnZUlkLFxuICAgICAgY29udGVudFxuICAgIH0pO1xuICAgIHRoaXMuc2VuZFRleHRNZXNzYWdlRW5kKHtcbiAgICAgIG1lc3NhZ2VJZFxuICAgIH0pO1xuICB9XG4gIHNlbmRBY3Rpb25FeGVjdXRpb25TdGFydCh7IGFjdGlvbkV4ZWN1dGlvbklkLCBhY3Rpb25OYW1lLCBwYXJlbnRNZXNzYWdlSWQgfSkge1xuICAgIHRoaXMubmV4dCh7XG4gICAgICB0eXBlOiBcIkFjdGlvbkV4ZWN1dGlvblN0YXJ0XCIsXG4gICAgICBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgIGFjdGlvbk5hbWUsXG4gICAgICBwYXJlbnRNZXNzYWdlSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uQXJncyh7IGFjdGlvbkV4ZWN1dGlvbklkLCBhcmdzIH0pIHtcbiAgICB0aGlzLm5leHQoe1xuICAgICAgdHlwZTogXCJBY3Rpb25FeGVjdXRpb25BcmdzXCIsXG4gICAgICBhcmdzLFxuICAgICAgYWN0aW9uRXhlY3V0aW9uSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uRW5kKHsgYWN0aW9uRXhlY3V0aW9uSWQgfSkge1xuICAgIHRoaXMubmV4dCh7XG4gICAgICB0eXBlOiBcIkFjdGlvbkV4ZWN1dGlvbkVuZFwiLFxuICAgICAgYWN0aW9uRXhlY3V0aW9uSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uKHsgYWN0aW9uRXhlY3V0aW9uSWQsIGFjdGlvbk5hbWUsIGFyZ3MsIHBhcmVudE1lc3NhZ2VJZCB9KSB7XG4gICAgdGhpcy5zZW5kQWN0aW9uRXhlY3V0aW9uU3RhcnQoe1xuICAgICAgYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICBhY3Rpb25OYW1lLFxuICAgICAgcGFyZW50TWVzc2FnZUlkXG4gICAgfSk7XG4gICAgdGhpcy5zZW5kQWN0aW9uRXhlY3V0aW9uQXJncyh7XG4gICAgICBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgIGFyZ3NcbiAgICB9KTtcbiAgICB0aGlzLnNlbmRBY3Rpb25FeGVjdXRpb25FbmQoe1xuICAgICAgYWN0aW9uRXhlY3V0aW9uSWRcbiAgICB9KTtcbiAgfVxuICBzZW5kQWN0aW9uRXhlY3V0aW9uUmVzdWx0KHsgYWN0aW9uRXhlY3V0aW9uSWQsIGFjdGlvbk5hbWUsIHJlc3VsdCwgZXJyb3IgfSkge1xuICAgIHRoaXMubmV4dCh7XG4gICAgICB0eXBlOiBcIkFjdGlvbkV4ZWN1dGlvblJlc3VsdFwiLFxuICAgICAgYWN0aW9uTmFtZSxcbiAgICAgIGFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgcmVzdWx0OiBSZXN1bHRNZXNzYWdlLmVuY29kZVJlc3VsdChyZXN1bHQsIGVycm9yKVxuICAgIH0pO1xuICB9XG4gIHNlbmRBZ2VudFN0YXRlTWVzc2FnZSh7IHRocmVhZElkLCBhZ2VudE5hbWUsIG5vZGVOYW1lLCBydW5JZCwgYWN0aXZlLCByb2xlLCBzdGF0ZSwgcnVubmluZyB9KSB7XG4gICAgdGhpcy5uZXh0KHtcbiAgICAgIHR5cGU6IFwiQWdlbnRTdGF0ZU1lc3NhZ2VcIixcbiAgICAgIHRocmVhZElkLFxuICAgICAgYWdlbnROYW1lLFxuICAgICAgbm9kZU5hbWUsXG4gICAgICBydW5JZCxcbiAgICAgIGFjdGl2ZSxcbiAgICAgIHJvbGUsXG4gICAgICBzdGF0ZSxcbiAgICAgIHJ1bm5pbmdcbiAgICB9KTtcbiAgfVxufTtcbl9fbmFtZShSdW50aW1lRXZlbnRTdWJqZWN0LCBcIlJ1bnRpbWVFdmVudFN1YmplY3RcIik7XG52YXIgUnVudGltZUV2ZW50U291cmNlID0gY2xhc3Mge1xuICBldmVudFN0cmVhbSQgPSBuZXcgUnVudGltZUV2ZW50U3ViamVjdCgpO1xuICBjYWxsYmFjaztcbiAgZXJyb3JIYW5kbGVyO1xuICBlcnJvckNvbnRleHQ7XG4gIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gcGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuZXJyb3JIYW5kbGVyO1xuICAgIHRoaXMuZXJyb3JDb250ZXh0ID0gcGFyYW1zID09IG51bGwgPyB2b2lkIDAgOiBwYXJhbXMuZXJyb3JDb250ZXh0O1xuICB9XG4gIGFzeW5jIHN0cmVhbShjYWxsYmFjaykge1xuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuICBzZW5kRXJyb3JNZXNzYWdlVG9DaGF0KG1lc3NhZ2UgPSBcIkFuIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYFxcdTI3NEMgJHttZXNzYWdlfWA7XG4gICAgaWYgKCF0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0aGlzLnN0cmVhbShhc3luYyAoZXZlbnRTdHJlYW0kKSA9PiB7XG4gICAgICAgIGV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2UoKDAsIGltcG9ydF9zaGFyZWQyNy5yYW5kb21JZCkoKSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmV2ZW50U3RyZWFtJC5zZW5kVGV4dE1lc3NhZ2UoKDAsIGltcG9ydF9zaGFyZWQyNy5yYW5kb21JZCkoKSwgZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH1cbiAgcHJvY2Vzc1J1bnRpbWVFdmVudHMoeyBzZXJ2ZXJTaWRlQWN0aW9ucywgZ3VhcmRyYWlsc1Jlc3VsdCQsIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMsIHRocmVhZElkIH0pIHtcbiAgICB0aGlzLmNhbGxiYWNrKHRoaXMuZXZlbnRTdHJlYW0kKS5jYXRjaChhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnN0IHN0cnVjdHVyZWRFcnJvciA9ICgwLCBpbXBvcnRfc2hhcmVkMjcuZW5zdXJlU3RydWN0dXJlZEVycm9yKShlcnJvciwgY29udmVydFN0cmVhbWluZ0Vycm9yVG9TdHJ1Y3R1cmVkMik7XG4gICAgICBpZiAodGhpcy5lcnJvckhhbmRsZXIgJiYgdGhpcy5lcnJvckNvbnRleHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLmVycm9ySGFuZGxlcihzdHJ1Y3R1cmVkRXJyb3IsIHRoaXMuZXJyb3JDb250ZXh0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3JIYW5kbGVyRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gc3RyZWFtaW5nIGVycm9yIGhhbmRsZXI6XCIsIGVycm9ySGFuZGxlckVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5ldmVudFN0cmVhbSQuZXJyb3Ioc3RydWN0dXJlZEVycm9yKTtcbiAgICAgIHRoaXMuZXZlbnRTdHJlYW0kLmNvbXBsZXRlKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRTdHJlYW0kLnBpcGUoXG4gICAgICAvLyB0cmFjayBzdGF0ZVxuICAgICAgKDAsIGltcG9ydF9yeGpzNC5zY2FuKSgoYWNjLCBldmVudCkgPT4ge1xuICAgICAgICBhY2MgPSB7XG4gICAgICAgICAgLi4uYWNjXG4gICAgICAgIH07XG4gICAgICAgIGlmIChldmVudC50eXBlID09PSBcIkFjdGlvbkV4ZWN1dGlvblN0YXJ0XCIpIHtcbiAgICAgICAgICBhY2MuY2FsbEFjdGlvblNlcnZlclNpZGUgPSBzZXJ2ZXJTaWRlQWN0aW9ucy5maW5kKChhY3Rpb24pID0+IGFjdGlvbi5uYW1lID09PSBldmVudC5hY3Rpb25OYW1lKSAhPT0gdm9pZCAwO1xuICAgICAgICAgIGFjYy5hcmdzID0gXCJcIjtcbiAgICAgICAgICBhY2MuYWN0aW9uRXhlY3V0aW9uSWQgPSBldmVudC5hY3Rpb25FeGVjdXRpb25JZDtcbiAgICAgICAgICBpZiAoYWNjLmNhbGxBY3Rpb25TZXJ2ZXJTaWRlKSB7XG4gICAgICAgICAgICBhY2MuYWN0aW9uID0gc2VydmVyU2lkZUFjdGlvbnMuZmluZCgoYWN0aW9uKSA9PiBhY3Rpb24ubmFtZSA9PT0gZXZlbnQuYWN0aW9uTmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFjYy5hY3Rpb25FeGVjdXRpb25QYXJlbnRNZXNzYWdlSWQgPSBldmVudC5wYXJlbnRNZXNzYWdlSWQ7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gXCJBY3Rpb25FeGVjdXRpb25BcmdzXCIpIHtcbiAgICAgICAgICBhY2MuYXJncyArPSBldmVudC5hcmdzO1xuICAgICAgICB9XG4gICAgICAgIGFjYy5ldmVudCA9IGV2ZW50O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge1xuICAgICAgICBldmVudDogbnVsbCxcbiAgICAgICAgY2FsbEFjdGlvblNlcnZlclNpZGU6IGZhbHNlLFxuICAgICAgICBhcmdzOiBcIlwiLFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogbnVsbCxcbiAgICAgICAgYWN0aW9uOiBudWxsLFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25QYXJlbnRNZXNzYWdlSWQ6IG51bGxcbiAgICAgIH0pLFxuICAgICAgKDAsIGltcG9ydF9yeGpzNC5jb25jYXRNYXApKChldmVudFdpdGhTdGF0ZSkgPT4ge1xuICAgICAgICBpZiAoZXZlbnRXaXRoU3RhdGUuZXZlbnQudHlwZSA9PT0gXCJBY3Rpb25FeGVjdXRpb25FbmRcIiAmJiBldmVudFdpdGhTdGF0ZS5jYWxsQWN0aW9uU2VydmVyU2lkZSkge1xuICAgICAgICAgIGNvbnN0IHRvb2xDYWxsRXZlbnRTdHJlYW0kID0gbmV3IFJ1bnRpbWVFdmVudFN1YmplY3QoKTtcbiAgICAgICAgICBleGVjdXRlQWN0aW9uKHRvb2xDYWxsRXZlbnRTdHJlYW0kLCBndWFyZHJhaWxzUmVzdWx0JCA/IGd1YXJkcmFpbHNSZXN1bHQkIDogbnVsbCwgZXZlbnRXaXRoU3RhdGUuYWN0aW9uLCBldmVudFdpdGhTdGF0ZS5hcmdzLCBldmVudFdpdGhTdGF0ZS5hY3Rpb25FeGVjdXRpb25QYXJlbnRNZXNzYWdlSWQsIGV2ZW50V2l0aFN0YXRlLmFjdGlvbkV4ZWN1dGlvbklkLCBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzLCB0aHJlYWRJZCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LmNhcHR1cmUoXCJvc3MucnVudGltZS5zZXJ2ZXJfYWN0aW9uX2V4ZWN1dGVkXCIsIHt9KTtcbiAgICAgICAgICByZXR1cm4gKDAsIGltcG9ydF9yeGpzNC5jb25jYXQpKCgwLCBpbXBvcnRfcnhqczQub2YpKGV2ZW50V2l0aFN0YXRlLmV2ZW50KSwgdG9vbENhbGxFdmVudFN0cmVhbSQpLnBpcGUoKDAsIGltcG9ydF9yeGpzNC5jYXRjaEVycm9yKSgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cnVjdHVyZWRFcnJvciA9ICgwLCBpbXBvcnRfc2hhcmVkMjcuZW5zdXJlU3RydWN0dXJlZEVycm9yKShlcnJvciwgY29udmVydFN0cmVhbWluZ0Vycm9yVG9TdHJ1Y3R1cmVkMik7XG4gICAgICAgICAgICBpZiAodGhpcy5lcnJvckhhbmRsZXIgJiYgdGhpcy5lcnJvckNvbnRleHQpIHtcbiAgICAgICAgICAgICAgKDAsIGltcG9ydF9yeGpzNC5mcm9tKSh0aGlzLmVycm9ySGFuZGxlcihzdHJ1Y3R1cmVkRXJyb3IsIHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmVycm9yQ29udGV4dCxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGV2ZW50V2l0aFN0YXRlLmFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgZXhlY3V0aW9uSWQ6IGV2ZW50V2l0aFN0YXRlLmFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBlcnJvcjogKGVycm9ySGFuZGxlckVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gYWN0aW9uIGV4ZWN1dGlvbiBlcnJvciBoYW5kbGVyOlwiLCBlcnJvckhhbmRsZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRvb2xDYWxsRXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHQoe1xuICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogZXZlbnRXaXRoU3RhdGUuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgICAgICAgIGFjdGlvbk5hbWU6IGV2ZW50V2l0aFN0YXRlLmFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvZGU6IHN0cnVjdHVyZWRFcnJvci5jb2RlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN0cnVjdHVyZWRFcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGltcG9ydF9yeGpzNC5FTVBUWTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuICgwLCBpbXBvcnRfcnhqczQub2YpKGV2ZW50V2l0aFN0YXRlLmV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG59O1xuX19uYW1lKFJ1bnRpbWVFdmVudFNvdXJjZSwgXCJSdW50aW1lRXZlbnRTb3VyY2VcIik7XG5hc3luYyBmdW5jdGlvbiBleGVjdXRlQWN0aW9uKGV2ZW50U3RyZWFtJCwgZ3VhcmRyYWlsc1Jlc3VsdCQsIGFjdGlvbiwgYWN0aW9uQXJndW1lbnRzLCBhY3Rpb25FeGVjdXRpb25QYXJlbnRNZXNzYWdlSWQsIGFjdGlvbkV4ZWN1dGlvbklkLCBhY3Rpb25JbnB1dHNXaXRob3V0QWdlbnRzLCB0aHJlYWRJZCkge1xuICB2YXIgX2E7XG4gIGlmIChndWFyZHJhaWxzUmVzdWx0JCkge1xuICAgIGNvbnN0IHsgc3RhdHVzIH0gPSBhd2FpdCAoMCwgaW1wb3J0X3J4anM0LmZpcnN0VmFsdWVGcm9tKShndWFyZHJhaWxzUmVzdWx0JCk7XG4gICAgaWYgKHN0YXR1cyA9PT0gXCJkZW5pZWRcIikge1xuICAgICAgZXZlbnRTdHJlYW0kLmNvbXBsZXRlKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGxldCBhcmdzID0gW107XG4gIGlmIChhY3Rpb25Bcmd1bWVudHMpIHtcbiAgICB0cnkge1xuICAgICAgYXJncyA9IEpTT04ucGFyc2UoYWN0aW9uQXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQWN0aW9uIGFyZ3VtZW50IHVucGFyc2FibGVcIiwge1xuICAgICAgICBhY3Rpb25Bcmd1bWVudHNcbiAgICAgIH0pO1xuICAgICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHQoe1xuICAgICAgICBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgYWN0aW9uTmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgY29kZTogXCJJTlZBTElEX0FSR1VNRU5UU1wiLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHBhcnNlIGFjdGlvbiBhcmd1bWVudHNcIlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgaWYgKGlzUmVtb3RlQWdlbnRBY3Rpb24oYWN0aW9uKSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGAke2FjdGlvbi5uYW1lfSBhZ2VudCBzdGFydGVkYDtcbiAgICBjb25zdCBhZ2VudEV4ZWN1dGlvbiA9ICgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIyLnBsYWluVG9JbnN0YW5jZSkoQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSwge1xuICAgICAgaWQ6IGFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgYXJndW1lbnRzOiBKU09OLnBhcnNlKGFjdGlvbkFyZ3VtZW50cyksXG4gICAgICBwYXJlbnRNZXNzYWdlSWQ6IGFjdGlvbkV4ZWN1dGlvblBhcmVudE1lc3NhZ2VJZCA/PyBhY3Rpb25FeGVjdXRpb25JZFxuICAgIH0pO1xuICAgIGNvbnN0IGFnZW50RXhlY3V0aW9uUmVzdWx0ID0gKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjIucGxhaW5Ub0luc3RhbmNlKShSZXN1bHRNZXNzYWdlLCB7XG4gICAgICBpZDogXCJyZXN1bHQtXCIgKyBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICBhY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgIGFjdGlvbk5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgcmVzdWx0XG4gICAgfSk7XG4gICAgZXZlbnRTdHJlYW0kLnNlbmRBY3Rpb25FeGVjdXRpb25SZXN1bHQoe1xuICAgICAgYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICBhY3Rpb25OYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgIHJlc3VsdFxuICAgIH0pO1xuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGFjdGlvbi5yZW1vdGVBZ2VudEhhbmRsZXIoe1xuICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICB0aHJlYWRJZCxcbiAgICAgIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMsXG4gICAgICBhZGRpdGlvbmFsTWVzc2FnZXM6IFtcbiAgICAgICAgYWdlbnRFeGVjdXRpb24sXG4gICAgICAgIGFnZW50RXhlY3V0aW9uUmVzdWx0XG4gICAgICBdXG4gICAgfSk7XG4gICAgKDAsIGltcG9ydF9yeGpzNC5mcm9tKShzdHJlYW0pLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoZXZlbnQpID0+IGV2ZW50U3RyZWFtJC5uZXh0KGV2ZW50KSxcbiAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0cnVjdHVyZWRFcnJvciA9ICgwLCBpbXBvcnRfc2hhcmVkMjcuZW5zdXJlU3RydWN0dXJlZEVycm9yKShlcnIsIGNvbnZlcnRTdHJlYW1pbmdFcnJvclRvU3RydWN0dXJlZDIpO1xuICAgICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvblJlc3VsdCh7XG4gICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgICAgYWN0aW9uTmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIGNvZGU6IHN0cnVjdHVyZWRFcnJvci5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTogc3RydWN0dXJlZEVycm9yLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogKCkgPT4gZXZlbnRTdHJlYW0kLmNvbXBsZXRlKClcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgKChfYSA9IGFjdGlvbi5oYW5kbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChhY3Rpb24sIGFyZ3MpKTtcbiAgICAgIGF3YWl0IHN0cmVhbUxhbmdDaGFpblJlc3BvbnNlKHtcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBldmVudFN0cmVhbSQsXG4gICAgICAgIGFjdGlvbkV4ZWN1dGlvbjoge1xuICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgIGlkOiBhY3Rpb25FeGVjdXRpb25JZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gYWN0aW9uIGhhbmRsZXJcIiwgZSk7XG4gICAgICBldmVudFN0cmVhbSQuc2VuZEFjdGlvbkV4ZWN1dGlvblJlc3VsdCh7XG4gICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICBhY3Rpb25OYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICBjb2RlOiBcIkhBTkRMRVJfRVJST1JcIixcbiAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBldmVudFN0cmVhbSQuY29tcGxldGUoKTtcbiAgICB9XG4gIH1cbn1cbl9fbmFtZShleGVjdXRlQWN0aW9uLCBcImV4ZWN1dGVBY3Rpb25cIik7XG5mdW5jdGlvbiBjb252ZXJ0U3RyZWFtaW5nRXJyb3JUb1N0cnVjdHVyZWQyKGVycm9yKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgbGV0IGhlbHBmdWxNZXNzYWdlID0gZ2VuZXJhdGVIZWxwZnVsRXJyb3JNZXNzYWdlKGVycm9yLCBcImV2ZW50IHN0cmVhbWluZyBjb25uZWN0aW9uXCIpO1xuICBpZiAoKChfYSA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaW5jbHVkZXMoXCJmZXRjaCBmYWlsZWRcIikpIHx8ICgoX2IgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmluY2x1ZGVzKFwiRUNPTk5SRUZVU0VEXCIpKSB8fCAoKF9jID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5pbmNsdWRlcyhcIkVOT1RGT1VORFwiKSkgfHwgKChfZCA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2QuaW5jbHVkZXMoXCJFVElNRURPVVRcIikpIHx8ICgoX2UgPSBlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmluY2x1ZGVzKFwidGVybWluYXRlZFwiKSkgfHwgKChfZiA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jYXVzZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNvZGUpID09PSBcIlVORF9FUlJfU09DS0VUXCIgfHwgKChfZyA9IGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5tZXNzYWdlKSA9PSBudWxsID8gdm9pZCAwIDogX2cuaW5jbHVkZXMoXCJvdGhlciBzaWRlIGNsb3NlZFwiKSkgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5jb2RlKSA9PT0gXCJVTkRfRVJSX1NPQ0tFVFwiKSB7XG4gICAgcmV0dXJuIG5ldyBpbXBvcnRfc2hhcmVkMjcuQ29waWxvdEtpdExvd0xldmVsRXJyb3Ioe1xuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihTdHJpbmcoZXJyb3IpKSxcbiAgICAgIHVybDogXCJldmVudCBzdHJlYW1pbmcgY29ubmVjdGlvblwiLFxuICAgICAgbWVzc2FnZTogaGVscGZ1bE1lc3NhZ2VcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IGltcG9ydF9zaGFyZWQyNy5Db3BpbG90S2l0RXJyb3Ioe1xuICAgIG1lc3NhZ2U6IGhlbHBmdWxNZXNzYWdlLFxuICAgIGNvZGU6IGltcG9ydF9zaGFyZWQyNy5Db3BpbG90S2l0RXJyb3JDb2RlLlVOS05PV04sXG4gICAgc2V2ZXJpdHk6IGltcG9ydF9zaGFyZWQyNy5TZXZlcml0eS5DUklUSUNBTFxuICB9KTtcbn1cbl9fbmFtZShjb252ZXJ0U3RyZWFtaW5nRXJyb3JUb1N0cnVjdHVyZWQyLCBcImNvbnZlcnRTdHJlYW1pbmdFcnJvclRvU3RydWN0dXJlZFwiKTtcblxuLy8gc3JjL2dyYXBocWwvcmVzb2x2ZXJzL2NvcGlsb3QucmVzb2x2ZXIudHNcbnZhciBpbXBvcnRfZ3JhcGhxbF9zY2FsYXJzMiA9IHJlcXVpcmUoXCJncmFwaHFsLXNjYWxhcnNcIik7XG52YXIgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMyA9IHJlcXVpcmUoXCJjbGFzcy10cmFuc2Zvcm1lclwiKTtcbnZhciBpbXBvcnRfZ3JhcGhxbCA9IHJlcXVpcmUoXCJncmFwaHFsXCIpO1xuXG4vLyBzcmMvdXRpbHMvZmFpbGVkLXJlc3BvbnNlLXN0YXR1cy1yZWFzb25zLnRzXG52YXIgR3VhcmRyYWlsc1ZhbGlkYXRpb25GYWlsdXJlUmVzcG9uc2UgPSBjbGFzcyBleHRlbmRzIEZhaWxlZFJlc3BvbnNlU3RhdHVzIHtcbiAgcmVhc29uID0gRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24uR1VBUkRSQUlMU19WQUxJREFUSU9OX0ZBSUxFRDtcbiAgY29uc3RydWN0b3IoeyBndWFyZHJhaWxzUmVhc29uIH0pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZGV0YWlscyA9IHtcbiAgICAgIGd1YXJkcmFpbHNSZWFzb25cbiAgICB9O1xuICB9XG59O1xuX19uYW1lKEd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlLCBcIkd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlXCIpO1xudmFyIE1lc3NhZ2VTdHJlYW1JbnRlcnJ1cHRlZFJlc3BvbnNlID0gY2xhc3MgZXh0ZW5kcyBGYWlsZWRSZXNwb25zZVN0YXR1cyB7XG4gIHJlYXNvbiA9IEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uLk1FU1NBR0VfU1RSRUFNX0lOVEVSUlVQVEVEO1xuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2VJZCB9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRldGFpbHMgPSB7XG4gICAgICBtZXNzYWdlSWQsXG4gICAgICBkZXNjcmlwdGlvbjogXCJDaGVjayB0aGUgbWVzc2FnZSBmb3IgbW9kZSBkZXRhaWxzXCJcbiAgICB9O1xuICB9XG59O1xuX19uYW1lKE1lc3NhZ2VTdHJlYW1JbnRlcnJ1cHRlZFJlc3BvbnNlLCBcIk1lc3NhZ2VTdHJlYW1JbnRlcnJ1cHRlZFJlc3BvbnNlXCIpO1xudmFyIFVua25vd25FcnJvclJlc3BvbnNlID0gY2xhc3MgZXh0ZW5kcyBGYWlsZWRSZXNwb25zZVN0YXR1cyB7XG4gIHJlYXNvbiA9IEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uLlVOS05PV05fRVJST1I7XG4gIGNvbnN0cnVjdG9yKHsgZGVzY3JpcHRpb24sIG9yaWdpbmFsRXJyb3IgfSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kZXRhaWxzID0ge1xuICAgICAgZGVzY3JpcHRpb24sXG4gICAgICBvcmlnaW5hbEVycm9yXG4gICAgfTtcbiAgfVxufTtcbl9fbmFtZShVbmtub3duRXJyb3JSZXNwb25zZSwgXCJVbmtub3duRXJyb3JSZXNwb25zZVwiKTtcblxuLy8gc3JjL2dyYXBocWwvcmVzb2x2ZXJzL2NvcGlsb3QucmVzb2x2ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkMjggPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC90eXBlcy9hZ2VudHMtcmVzcG9uc2UudHlwZS50c1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwxOSA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGUxOChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlMTgsIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMTgoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGExOCwgXCJfdHNfbWV0YWRhdGFcIik7XG52YXIgQWdlbnQgPSBjbGFzcyB7XG4gIGlkO1xuICBuYW1lO1xuICBkZXNjcmlwdGlvbjtcbn07XG5fX25hbWUoQWdlbnQsIFwiQWdlbnRcIik7XG5fdHNfZGVjb3JhdGUxOChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTkuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTE4KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnQucHJvdG90eXBlLCBcImlkXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUxOChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTkuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTE4KFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgQWdlbnQucHJvdG90eXBlLCBcIm5hbWVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTE4KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMTgoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBBZ2VudC5wcm90b3R5cGUsIFwiZGVzY3JpcHRpb25cIiwgdm9pZCAwKTtcbkFnZW50ID0gX3RzX2RlY29yYXRlMTgoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDE5Lk9iamVjdFR5cGUpKClcbl0sIEFnZW50KTtcbnZhciBBZ2VudHNSZXNwb25zZSA9IGNsYXNzIHtcbiAgYWdlbnRzO1xufTtcbl9fbmFtZShBZ2VudHNSZXNwb25zZSwgXCJBZ2VudHNSZXNwb25zZVwiKTtcbl90c19kZWNvcmF0ZTE4KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwxOS5GaWVsZCkoKCkgPT4gW1xuICAgIEFnZW50XG4gIF0pLFxuICBfdHNfbWV0YWRhdGExOChcImRlc2lnbjp0eXBlXCIsIEFycmF5KVxuXSwgQWdlbnRzUmVzcG9uc2UucHJvdG90eXBlLCBcImFnZW50c1wiLCB2b2lkIDApO1xuQWdlbnRzUmVzcG9uc2UgPSBfdHNfZGVjb3JhdGUxOChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMTkuT2JqZWN0VHlwZSkoKVxuXSwgQWdlbnRzUmVzcG9uc2UpO1xuXG4vLyBzcmMvZ3JhcGhxbC9yZXNvbHZlcnMvY29waWxvdC5yZXNvbHZlci50c1xudmFyIGltcG9ydF9zaGFyZWQyOSA9IHJlcXVpcmUoXCJAY29waWxvdGtpdC9zaGFyZWRcIik7XG5mdW5jdGlvbiBfdHNfZGVjb3JhdGUxOShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIilcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSlcbiAgICAgICAgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5fX25hbWUoX3RzX2RlY29yYXRlMTksIFwiX3RzX2RlY29yYXRlXCIpO1xuZnVuY3Rpb24gX3RzX21ldGFkYXRhMTkoaywgdikge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn1cbl9fbmFtZShfdHNfbWV0YWRhdGExOSwgXCJfdHNfbWV0YWRhdGFcIik7XG5mdW5jdGlvbiBfdHNfcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbih0YXJnZXQsIGtleSkge1xuICAgIGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7XG4gIH07XG59XG5fX25hbWUoX3RzX3BhcmFtLCBcIl90c19wYXJhbVwiKTtcbnZhciBpbnZva2VHdWFyZHJhaWxzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAoeyBiYXNlVXJsLCBjb3BpbG90Q2xvdWRQdWJsaWNBcGlLZXksIGRhdGEsIG9uUmVzdWx0LCBvbkVycm9yIH0pID0+IHtcbiAgdmFyIF9hO1xuICBpZiAoZGF0YS5tZXNzYWdlcy5sZW5ndGggJiYgKChfYSA9IGRhdGEubWVzc2FnZXNbZGF0YS5tZXNzYWdlcy5sZW5ndGggLSAxXS50ZXh0TWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJvbGUpID09PSBNZXNzYWdlUm9sZS51c2VyKSB7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBkYXRhLm1lc3NhZ2VzLmZpbHRlcigobSkgPT4gbS50ZXh0TWVzc2FnZSAhPT0gdm9pZCAwICYmIChtLnRleHRNZXNzYWdlLnJvbGUgPT09IE1lc3NhZ2VSb2xlLnVzZXIgfHwgbS50ZXh0TWVzc2FnZS5yb2xlID09PSBNZXNzYWdlUm9sZS5hc3Npc3RhbnQpKS5tYXAoKG0pID0+ICh7XG4gICAgICByb2xlOiBtLnRleHRNZXNzYWdlLnJvbGUsXG4gICAgICBjb250ZW50OiBtLnRleHRNZXNzYWdlLmNvbnRlbnRcbiAgICB9KSk7XG4gICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICBjb25zdCByZXN0T2ZNZXNzYWdlcyA9IG1lc3NhZ2VzLnNsaWNlKDAsIC0xKTtcbiAgICBjb25zdCBib2R5ID0ge1xuICAgICAgaW5wdXQ6IGxhc3RNZXNzYWdlLmNvbnRlbnQsXG4gICAgICB2YWxpZFRvcGljczogZGF0YS5jbG91ZC5ndWFyZHJhaWxzLmlucHV0VmFsaWRhdGlvblJ1bGVzLmFsbG93TGlzdCxcbiAgICAgIGludmFsaWRUb3BpY3M6IGRhdGEuY2xvdWQuZ3VhcmRyYWlscy5pbnB1dFZhbGlkYXRpb25SdWxlcy5kZW55TGlzdCxcbiAgICAgIG1lc3NhZ2VzOiByZXN0T2ZNZXNzYWdlc1xuICAgIH07XG4gICAgY29uc3QgZ3VhcmRyYWlsc1Jlc3VsdCA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L2d1YXJkcmFpbHMvdmFsaWRhdGVgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgXCJYLUNvcGlsb3RDbG91ZC1QdWJsaWMtQVBJLUtleVwiOiBjb3BpbG90Q2xvdWRQdWJsaWNBcGlLZXlcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pO1xuICAgIGlmIChndWFyZHJhaWxzUmVzdWx0Lm9rKSB7XG4gICAgICBjb25zdCByZXN1bHRKc29uID0gYXdhaXQgZ3VhcmRyYWlsc1Jlc3VsdC5qc29uKCk7XG4gICAgICBvblJlc3VsdChyZXN1bHRKc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25FcnJvcihhd2FpdCBndWFyZHJhaWxzUmVzdWx0Lmpzb24oKSk7XG4gICAgfVxuICB9XG59LCBcImludm9rZUd1YXJkcmFpbHNcIik7XG52YXIgQ29waWxvdFJlc29sdmVyID0gY2xhc3Mge1xuICBhc3luYyBoZWxsbygpIHtcbiAgICByZXR1cm4gXCJIZWxsbyBXb3JsZFwiO1xuICB9XG4gIGFzeW5jIGF2YWlsYWJsZUFnZW50cyhjdHgpIHtcbiAgICBsZXQgbG9nZ2VyMiA9IGN0eC5sb2dnZXIuY2hpbGQoe1xuICAgICAgY29tcG9uZW50OiBcIkNvcGlsb3RSZXNvbHZlci5hdmFpbGFibGVBZ2VudHNcIlxuICAgIH0pO1xuICAgIGxvZ2dlcjIuZGVidWcoXCJQcm9jZXNzaW5nXCIpO1xuICAgIGNvbnN0IGFnZW50c1dpdGhFbmRwb2ludHMgPSBhd2FpdCBjdHguX2NvcGlsb3RraXQucnVudGltZS5kaXNjb3ZlckFnZW50c0Zyb21FbmRwb2ludHMoY3R4KTtcbiAgICBsb2dnZXIyLmRlYnVnKFwiRXZlbnQgc291cmNlIGNyZWF0ZWQsIGNyZWF0aW5nIHJlc3BvbnNlXCIpO1xuICAgIHJldHVybiB7XG4gICAgICBhZ2VudHM6IGFnZW50c1dpdGhFbmRwb2ludHMubWFwKCh7IGVuZHBvaW50LCAuLi5hZ2VudFdpdGhvdXRFbmRwb2ludCB9KSA9PiBhZ2VudFdpdGhvdXRFbmRwb2ludClcbiAgICB9O1xuICB9XG4gIGFzeW5jIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKGN0eCwgZGF0YSwgcHJvcGVydGllcykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZztcbiAgICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLmNvcGlsb3RfcmVxdWVzdF9jcmVhdGVkXCIsIHtcbiAgICAgIFwiY2xvdWQuZ3VhcmRyYWlscy5lbmFibGVkXCI6ICgoX2EgPSBkYXRhLmNsb3VkKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ3VhcmRyYWlscykgIT09IHZvaWQgMCxcbiAgICAgIHJlcXVlc3RUeXBlOiBkYXRhLm1ldGFkYXRhLnJlcXVlc3RUeXBlLFxuICAgICAgXCJjbG91ZC5hcGlfa2V5X3Byb3ZpZGVkXCI6ICEhY3R4LnJlcXVlc3QuaGVhZGVycy5nZXQoXCJ4LWNvcGlsb3RjbG91ZC1wdWJsaWMtYXBpLWtleVwiKSxcbiAgICAgIC4uLmN0eC5yZXF1ZXN0LmhlYWRlcnMuZ2V0KFwieC1jb3BpbG90Y2xvdWQtcHVibGljLWFwaS1rZXlcIikgPyB7XG4gICAgICAgIFwiY2xvdWQucHVibGljX2FwaV9rZXlcIjogY3R4LnJlcXVlc3QuaGVhZGVycy5nZXQoXCJ4LWNvcGlsb3RjbG91ZC1wdWJsaWMtYXBpLWtleVwiKVxuICAgICAgfSA6IHt9LFxuICAgICAgLi4uY3R4Ll9jb3BpbG90a2l0LmJhc2VVcmwgPyB7XG4gICAgICAgIFwiY2xvdWQuYmFzZV91cmxcIjogY3R4Ll9jb3BpbG90a2l0LmJhc2VVcmxcbiAgICAgIH0gOiB7XG4gICAgICAgIFwiY2xvdWQuYmFzZV91cmxcIjogXCJodHRwczovL2FwaS5jbG91ZC5jb3BpbG90a2l0LmFpXCJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgbG9nZ2VyMiA9IGN0eC5sb2dnZXIuY2hpbGQoe1xuICAgICAgY29tcG9uZW50OiBcIkNvcGlsb3RSZXNvbHZlci5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZVwiXG4gICAgfSk7XG4gICAgbG9nZ2VyMi5kZWJ1Zyh7XG4gICAgICBkYXRhXG4gICAgfSwgXCJHZW5lcmF0aW5nIENvcGlsb3QgcmVzcG9uc2VcIik7XG4gICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgIGxvZ2dlcjIuZGVidWcoXCJQcm9wZXJ0aWVzIHByb3ZpZGVkLCBtZXJnaW5nIHdpdGggY29udGV4dCBwcm9wZXJ0aWVzXCIpO1xuICAgICAgY3R4LnByb3BlcnRpZXMgPSB7XG4gICAgICAgIC4uLmN0eC5wcm9wZXJ0aWVzLFxuICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBjb3BpbG90UnVudGltZSA9IGN0eC5fY29waWxvdGtpdC5ydW50aW1lO1xuICAgIGNvbnN0IHNlcnZpY2VBZGFwdGVyID0gY3R4Ll9jb3BpbG90a2l0LnNlcnZpY2VBZGFwdGVyO1xuICAgIGxldCBjb3BpbG90Q2xvdWRQdWJsaWNBcGlLZXkgPSBudWxsO1xuICAgIGxldCBjb3BpbG90Q2xvdWRCYXNlVXJsO1xuICAgIGNvbnN0IHB1YmxpY0FwaUtleUZyb21IZWFkZXJzID0gY3R4LnJlcXVlc3QuaGVhZGVycy5nZXQoXCJ4LWNvcGlsb3RjbG91ZC1wdWJsaWMtYXBpLWtleVwiKTtcbiAgICBpZiAocHVibGljQXBpS2V5RnJvbUhlYWRlcnMpIHtcbiAgICAgIGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSA9IHB1YmxpY0FwaUtleUZyb21IZWFkZXJzO1xuICAgIH1cbiAgICBpZiAoZGF0YS5jbG91ZCkge1xuICAgICAgbG9nZ2VyMiA9IGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgICBjbG91ZDogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBsb2dnZXIyLmRlYnVnKFwiQ2xvdWQgY29uZmlndXJhdGlvbiBwcm92aWRlZCwgY2hlY2tpbmcgZm9yIHB1YmxpYyBBUEkga2V5IGluIGhlYWRlcnNcIik7XG4gICAgICBpZiAoIWNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSkge1xuICAgICAgICBsb2dnZXIyLmVycm9yKFwiUHVibGljIEFQSSBrZXkgbm90IGZvdW5kIGluIGhlYWRlcnNcIik7XG4gICAgICAgIGF3YWl0IGNvcGlsb3RSdW50aW1lLmVycm9yR3JhcGhRTEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIlgtQ29waWxvdENsb3VkLVB1YmxpYy1BUEktS2V5IGhlYWRlciBpcyByZXF1aXJlZFwiLFxuICAgICAgICAgIGNvZGU6IFwiTUlTU0lOR19QVUJMSUNfQVBJX0tFWVwiLFxuICAgICAgICAgIHR5cGU6IFwiR3JhcGhRTEVycm9yXCJcbiAgICAgICAgfSwge1xuICAgICAgICAgIG9wZXJhdGlvbjogXCJnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZVwiLFxuICAgICAgICAgIGNsb3VkQ29uZmlnUHJlc2VudDogQm9vbGVhbihkYXRhLmNsb3VkKSxcbiAgICAgICAgICBndWFyZHJhaWxzRW5hYmxlZDogQm9vbGVhbigoX2IgPSBkYXRhLmNsb3VkKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZ3VhcmRyYWlscylcbiAgICAgICAgfSk7XG4gICAgICAgIHRocm93IG5ldyBpbXBvcnRfZ3JhcGhxbC5HcmFwaFFMRXJyb3IoXCJYLUNvcGlsb3RDbG91ZC1QdWJsaWMtQVBJLUtleSBoZWFkZXIgaXMgcmVxdWlyZWRcIik7XG4gICAgICB9XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuQ09QSUxPVF9DTE9VRF9CQVNFX1VSTCkge1xuICAgICAgICBjb3BpbG90Q2xvdWRCYXNlVXJsID0gcHJvY2Vzcy5lbnYuQ09QSUxPVF9DTE9VRF9CQVNFX1VSTDtcbiAgICAgIH0gZWxzZSBpZiAoKF9jID0gY3R4Ll9jb3BpbG90a2l0LmNsb3VkKSA9PSBudWxsID8gdm9pZCAwIDogX2MuYmFzZVVybCkge1xuICAgICAgICBjb3BpbG90Q2xvdWRCYXNlVXJsID0gKF9kID0gY3R4Ll9jb3BpbG90a2l0LmNsb3VkKSA9PSBudWxsID8gdm9pZCAwIDogX2QuYmFzZVVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvcGlsb3RDbG91ZEJhc2VVcmwgPSBcImh0dHBzOi8vYXBpLmNsb3VkLmNvcGlsb3RraXQuYWlcIjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlcjIgPSBsb2dnZXIyLmNoaWxkKHtcbiAgICAgICAgY29waWxvdENsb3VkQmFzZVVybFxuICAgICAgfSk7XG4gICAgfVxuICAgIGxvZ2dlcjIuZGVidWcoXCJTZXR0aW5nIHVwIHN1YmplY3RzXCIpO1xuICAgIGNvbnN0IHJlc3BvbnNlU3RhdHVzJCA9IG5ldyBpbXBvcnRfcnhqczUuUmVwbGF5U3ViamVjdCgpO1xuICAgIGNvbnN0IGludGVycnVwdFN0cmVhbWluZyQgPSBuZXcgaW1wb3J0X3J4anM1LlJlcGxheVN1YmplY3QoKTtcbiAgICBjb25zdCBndWFyZHJhaWxzUmVzdWx0JCA9IG5ldyBpbXBvcnRfcnhqczUuUmVwbGF5U3ViamVjdCgpO1xuICAgIGxldCBvdXRwdXRNZXNzYWdlcyA9IFtdO1xuICAgIGxldCByZXNvbHZlT3V0cHV0TWVzc2FnZXNQcm9taXNlO1xuICAgIGxldCByZWplY3RPdXRwdXRNZXNzYWdlc1Byb21pc2U7XG4gICAgY29uc3Qgb3V0cHV0TWVzc2FnZXNQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgcmVzb2x2ZU91dHB1dE1lc3NhZ2VzUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICByZWplY3RPdXRwdXRNZXNzYWdlc1Byb21pc2UgPSByZWplY3Q7XG4gICAgfSk7XG4gICAgaWYgKGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSkge1xuICAgICAgY3R4LnByb3BlcnRpZXNbXCJjb3BpbG90Q2xvdWRQdWJsaWNBcGlLZXlcIl0gPSBjb3BpbG90Q2xvdWRQdWJsaWNBcGlLZXk7XG4gICAgfVxuICAgIGxvZ2dlcjIuZGVidWcoXCJQcm9jZXNzaW5nXCIpO1xuICAgIGxldCBydW50aW1lUmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJ1bnRpbWVSZXNwb25zZSA9IGF3YWl0IGNvcGlsb3RSdW50aW1lLnByb2Nlc3NSdW50aW1lUmVxdWVzdCh7XG4gICAgICAgIHNlcnZpY2VBZGFwdGVyLFxuICAgICAgICBtZXNzYWdlczogZGF0YS5tZXNzYWdlcyxcbiAgICAgICAgYWN0aW9uczogZGF0YS5mcm9udGVuZC5hY3Rpb25zLmZpbHRlcigoYWN0aW9uKSA9PiBhY3Rpb24uYXZhaWxhYmxlICE9PSBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eS5kaXNhYmxlZCksXG4gICAgICAgIHRocmVhZElkOiBkYXRhLnRocmVhZElkLFxuICAgICAgICBydW5JZDogZGF0YS5ydW5JZCxcbiAgICAgICAgcHVibGljQXBpS2V5OiBjb3BpbG90Q2xvdWRQdWJsaWNBcGlLZXksXG4gICAgICAgIG91dHB1dE1lc3NhZ2VzUHJvbWlzZSxcbiAgICAgICAgZ3JhcGhxbENvbnRleHQ6IGN0eCxcbiAgICAgICAgZm9yd2FyZGVkUGFyYW1ldGVyczogZGF0YS5mb3J3YXJkZWRQYXJhbWV0ZXJzLFxuICAgICAgICBhZ2VudFNlc3Npb246IGRhdGEuYWdlbnRTZXNzaW9uLFxuICAgICAgICBhZ2VudFN0YXRlczogZGF0YS5hZ2VudFN0YXRlcyxcbiAgICAgICAgdXJsOiBkYXRhLmZyb250ZW5kLnVybCxcbiAgICAgICAgZXh0ZW5zaW9uczogZGF0YS5leHRlbnNpb25zLFxuICAgICAgICBtZXRhRXZlbnRzOiBkYXRhLm1ldGFFdmVudHNcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoKDAsIGltcG9ydF9zaGFyZWQyOS5pc1N0cnVjdHVyZWRDb3BpbG90S2l0RXJyb3IpKGVycm9yKSB8fCAoKF9lID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfZS52aXNpYmlsaXR5KSkge1xuICAgICAgICB0aHJvdyBuZXcgaW1wb3J0X2dyYXBocWwuR3JhcGhRTEVycm9yKGVycm9yLm1lc3NhZ2UgfHwgXCJBZ2VudCBlcnJvciBvY2N1cnJlZFwiLCB7XG4gICAgICAgICAgZXh0ZW5zaW9uczoge1xuICAgICAgICAgICAgLi4uZXJyb3IuZXh0ZW5zaW9ucyxcbiAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUgfHwgKChfZiA9IGVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfZi5jb2RlKSB8fCBcIkFHRU5UX0VSUk9SXCIsXG4gICAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgY29uc3QgeyBldmVudFNvdXJjZSwgdGhyZWFkSWQgPSAoMCwgaW1wb3J0X3NoYXJlZDI4LnJhbmRvbUlkKSgpLCBydW5JZCwgc2VydmVyU2lkZUFjdGlvbnMsIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMsIGV4dGVuc2lvbnMgfSA9IHJ1bnRpbWVSZXNwb25zZTtcbiAgICBsb2dnZXIyLmRlYnVnKFwiRXZlbnQgc291cmNlIGNyZWF0ZWQsIGNyZWF0aW5nIHJlc3BvbnNlXCIpO1xuICAgIGNvbnN0IGV2ZW50U3RyZWFtID0gZXZlbnRTb3VyY2UucHJvY2Vzc1J1bnRpbWVFdmVudHMoe1xuICAgICAgc2VydmVyU2lkZUFjdGlvbnMsXG4gICAgICBndWFyZHJhaWxzUmVzdWx0JDogKChfZyA9IGRhdGEuY2xvdWQpID09IG51bGwgPyB2b2lkIDAgOiBfZy5ndWFyZHJhaWxzKSA/IGd1YXJkcmFpbHNSZXN1bHQkIDogbnVsbCxcbiAgICAgIGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHM6IGFjdGlvbklucHV0c1dpdGhvdXRBZ2VudHMuZmlsdGVyKFxuICAgICAgICAvLyBUT0RPLUFHRU5UUzogZG8gbm90IGV4Y2x1ZGUgQUxMIHNlcnZlciBzaWRlIGFjdGlvbnNcbiAgICAgICAgKGFjdGlvbikgPT4gIXNlcnZlclNpZGVBY3Rpb25zLmZpbmQoKHNlcnZlclNpZGVBY3Rpb24pID0+IHNlcnZlclNpZGVBY3Rpb24ubmFtZSA9PSBhY3Rpb24ubmFtZSlcbiAgICAgICksXG4gICAgICB0aHJlYWRJZFxuICAgIH0pLnBpcGUoXG4gICAgICAvLyBzaGFyZVJlcGxheSgpIGVuc3VyZXMgdGhhdCBsYXRlciBzdWJzY3JpYmVycyB3aWxsIHNlZSB0aGUgd2hvbGUgc3RyZWFtIGluc3RlYWQgb2ZcbiAgICAgIC8vIGp1c3QgdGhlIGV2ZW50cyB0aGF0IHdlcmUgZW1pdHRlZCBhZnRlciB0aGUgc3Vic2NyaWJlciB3YXMgYWRkZWQuXG4gICAgICAoMCwgaW1wb3J0X3J4anM1LnNoYXJlUmVwbGF5KSgpLFxuICAgICAgKDAsIGltcG9ydF9yeGpzNS5maW5hbGl6ZSkoKCkgPT4ge1xuICAgICAgICBsb2dnZXIyLmRlYnVnKFwiRXZlbnQgc3RyZWFtIGZpbmFsaXplZFwiKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgIHRocmVhZElkLFxuICAgICAgcnVuSWQsXG4gICAgICBzdGF0dXM6ICgwLCBpbXBvcnRfcnhqczUuZmlyc3RWYWx1ZUZyb20pKHJlc3BvbnNlU3RhdHVzJCksXG4gICAgICBleHRlbnNpb25zLFxuICAgICAgbWV0YUV2ZW50czogbmV3IGltcG9ydF9ncmFwaHFsX3lvZ2EuUmVwZWF0ZXIoYXN5bmMgKHB1c2gsIHN0b3ApID0+IHtcbiAgICAgICAgbGV0IGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uO1xuICAgICAgICBldmVudFN0cmVhbVN1YnNjcmlwdGlvbiA9IGV2ZW50U3RyZWFtLnN1YnNjcmliZSh7XG4gICAgICAgICAgbmV4dDogYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSAhPSBSdW50aW1lRXZlbnRUeXBlcy5NZXRhRXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChldmVudC5uYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgTGFuZ0dyYXBoRXZlbnRUeXBlcy5PbkludGVycnVwdDpcbiAgICAgICAgICAgICAgICBwdXNoKCgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIzLnBsYWluVG9JbnN0YW5jZSkoTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICBuYW1lOiBSdW50aW1lTWV0YUV2ZW50TmFtZS5MYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCxcbiAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBldmVudC52YWx1ZVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSdW50aW1lTWV0YUV2ZW50TmFtZS5MYW5nR3JhcGhJbnRlcnJ1cHRFdmVudDpcbiAgICAgICAgICAgICAgICBwdXNoKCgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIzLnBsYWluVG9JbnN0YW5jZSkoTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgICAgICAgICBuYW1lOiBldmVudC5uYW1lLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50LnZhbHVlXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJ1bnRpbWVNZXRhRXZlbnROYW1lLkNvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudDpcbiAgICAgICAgICAgICAgICBwdXNoKCgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIzLnBsYWluVG9JbnN0YW5jZSkoQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBldmVudC50eXBlLFxuICAgICAgICAgICAgICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGV2ZW50LmRhdGEudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBldmVudC5kYXRhLm1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLnR5cGUgPT09IFwiVGV4dE1lc3NhZ2VcIiB8fCBcImNvbnRlbnRcIiBpbiBtZXNzYWdlICYmIFwicm9sZVwiIGluIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMy5wbGFpblRvSW5zdGFuY2UpKFRleHRNZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IG1lc3NhZ2Uucm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBuZXcgU3VjY2Vzc01lc3NhZ2VTdGF0dXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcImFyZ3VtZW50c1wiIGluIG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMy5wbGFpblRvSW5zdGFuY2UpKEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogbmV3IFN1Y2Nlc3NNZXNzYWdlU3RhdHVzKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1lc3NhZ2UgaW4gbWV0YUV2ZW50cyBjb3BpbG90IHJlc29sdmVyXCIpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EyLCBfYjI7XG4gICAgICAgICAgICBpZiAoKChfYTIgPSBlcnIgPT0gbnVsbCA/IHZvaWQgMCA6IGVyci5uYW1lKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmluY2x1ZGVzKFwiQ29waWxvdEtpdFwiKSkgfHwgKChfYjIgPSBlcnIgPT0gbnVsbCA/IHZvaWQgMCA6IGVyci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLnZpc2liaWxpdHkpKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzJC5uZXh0KG5ldyBVbmtub3duRXJyb3JSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGVyci5tZXNzYWdlIHx8IFwiQWdlbnQgZXJyb3Igb2NjdXJyZWRcIlxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyQubmV4dChuZXcgVW5rbm93bkVycm9yUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gdW5rbm93biBlcnJvciBoYXMgb2NjdXJyZWQgaW4gdGhlIGV2ZW50IHN0cmVhbWBcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnRTdHJlYW1TdWJzY3JpcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb21wbGV0ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIk1ldGEgZXZlbnRzIHN0cmVhbSBjb21wbGV0ZWRcIik7XG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cyQubmV4dChuZXcgU3VjY2Vzc1Jlc3BvbnNlU3RhdHVzKCkpO1xuICAgICAgICAgICAgZXZlbnRTdHJlYW1TdWJzY3JpcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pLFxuICAgICAgbWVzc2FnZXM6IG5ldyBpbXBvcnRfZ3JhcGhxbF95b2dhLlJlcGVhdGVyKGFzeW5jIChwdXNoTWVzc2FnZSwgc3RvcFN0cmVhbWluZ01lc3NhZ2VzKSA9PiB7XG4gICAgICAgIHZhciBfYTI7XG4gICAgICAgIGxvZ2dlcjIuZGVidWcoXCJNZXNzYWdlcyByZXBlYXRlciBjcmVhdGVkXCIpO1xuICAgICAgICBpZiAoKF9hMiA9IGRhdGEuY2xvdWQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZ3VhcmRyYWlscykge1xuICAgICAgICAgIGxvZ2dlcjIgPSBsb2dnZXIyLmNoaWxkKHtcbiAgICAgICAgICAgIGd1YXJkcmFpbHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsb2dnZXIyLmRlYnVnKFwiR3VhcmRyYWlscyBpcyBlbmFibGVkLCB2YWxpZGF0aW5nIGlucHV0XCIpO1xuICAgICAgICAgIGludm9rZUd1YXJkcmFpbHMoe1xuICAgICAgICAgICAgYmFzZVVybDogY29waWxvdENsb3VkQmFzZVVybCxcbiAgICAgICAgICAgIGNvcGlsb3RDbG91ZFB1YmxpY0FwaUtleSxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBvblJlc3VsdDogKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXNcbiAgICAgICAgICAgICAgfSwgXCJHdWFyZHJhaWxzIHZhbGlkYXRpb24gZG9uZVwiKTtcbiAgICAgICAgICAgICAgZ3VhcmRyYWlsc1Jlc3VsdCQubmV4dChyZXN1bHQpO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkZW5pZWRcIikge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzJC5uZXh0KG5ldyBHdWFyZHJhaWxzVmFsaWRhdGlvbkZhaWx1cmVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICBndWFyZHJhaWxzUmVhc29uOiByZXN1bHQucmVhc29uXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGludGVycnVwdFN0cmVhbWluZyQubmV4dCh7XG4gICAgICAgICAgICAgICAgICByZWFzb246IGBJbnRlcnJ1cHRlZCBkdWUgdG8gR3VhcmRyYWlscyB2YWxpZGF0aW9uIGZhaWx1cmUuIFJlYXNvbjogJHtyZXN1bHQucmVhc29ufWBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvdXRwdXRNZXNzYWdlcyA9IFtcbiAgICAgICAgICAgICAgICAgICgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIzLnBsYWluVG9JbnN0YW5jZSkoVGV4dE1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICgwLCBpbXBvcnRfc2hhcmVkMjgucmFuZG9tSWQpKCksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHJlc3VsdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLmFzc2lzdGFudFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIHJlc29sdmVPdXRwdXRNZXNzYWdlc1Byb21pc2Uob3V0cHV0TWVzc2FnZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25FcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIyLmVycm9yKHtcbiAgICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICAgfSwgXCJFcnJvciBpbiBndWFyZHJhaWxzIHZhbGlkYXRpb25cIik7XG4gICAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzJC5uZXh0KG5ldyBVbmtub3duRXJyb3JSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGBBbiB1bmtub3duIGVycm9yIGhhcyBvY2N1cnJlZCBpbiB0aGUgZ3VhcmRyYWlscyB2YWxpZGF0aW9uYFxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIGludGVycnVwdFN0cmVhbWluZyQubmV4dCh7XG4gICAgICAgICAgICAgICAgcmVhc29uOiBgSW50ZXJydXB0ZWQgZHVlIHRvIHVua25vd24gZXJyb3IgaW4gZ3VhcmRyYWlscyB2YWxpZGF0aW9uYFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgcmVqZWN0T3V0cHV0TWVzc2FnZXNQcm9taXNlKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uO1xuICAgICAgICBsb2dnZXIyLmRlYnVnKFwiRXZlbnQgc3RyZWFtIGNyZWF0ZWQsIHN1YnNjcmliaW5nIHRvIGV2ZW50IHN0cmVhbVwiKTtcbiAgICAgICAgZXZlbnRTdHJlYW1TdWJzY3JpcHRpb24gPSBldmVudFN0cmVhbS5zdWJzY3JpYmUoe1xuICAgICAgICAgIG5leHQ6IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgUnVudGltZUV2ZW50VHlwZXMuTWV0YUV2ZW50OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJ1bnRpbWVFdmVudFR5cGVzLlRleHRNZXNzYWdlU3RhcnQ6XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dE1lc3NhZ2VDb250ZW50U3RyZWFtID0gZXZlbnRTdHJlYW0ucGlwZShcbiAgICAgICAgICAgICAgICAgIC8vIHNraXAgdW50aWwgdGhpcyBtZXNzYWdlIHN0YXJ0IGV2ZW50XG4gICAgICAgICAgICAgICAgICAoMCwgaW1wb3J0X3J4anM1LnNraXBXaGlsZSkoKGUpID0+IGUgIT09IGV2ZW50KSxcbiAgICAgICAgICAgICAgICAgIC8vIHRha2UgdW50aWwgdGhlIG1lc3NhZ2UgZW5kIGV2ZW50XG4gICAgICAgICAgICAgICAgICAoMCwgaW1wb3J0X3J4anM1LnRha2VXaGlsZSkoKGUpID0+ICEoZS50eXBlID09PSBSdW50aW1lRXZlbnRUeXBlcy5UZXh0TWVzc2FnZUVuZCAmJiBlLm1lc3NhZ2VJZCA9PSBldmVudC5tZXNzYWdlSWQpKSxcbiAgICAgICAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgYW55IG90aGVyIG1lc3NhZ2UgZXZlbnRzIG9yIG1lc3NhZ2UgaWRzXG4gICAgICAgICAgICAgICAgICAoMCwgaW1wb3J0X3J4anM1LmZpbHRlcikoKGUpID0+IGUudHlwZSA9PSBSdW50aW1lRXZlbnRUeXBlcy5UZXh0TWVzc2FnZUNvbnRlbnQgJiYgZS5tZXNzYWdlSWQgPT0gZXZlbnQubWVzc2FnZUlkKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtaW5nVGV4dFN0YXR1cyA9IG5ldyBpbXBvcnRfcnhqczUuU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGV2ZW50Lm1lc3NhZ2VJZDtcbiAgICAgICAgICAgICAgICBwdXNoTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICBpZDogbWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBldmVudC5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6ICgwLCBpbXBvcnRfcnhqczUuZmlyc3RWYWx1ZUZyb20pKHN0cmVhbWluZ1RleHRTdGF0dXMpLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLmFzc2lzdGFudCxcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyBpbXBvcnRfZ3JhcGhxbF95b2dhLlJlcGVhdGVyKGFzeW5jIChwdXNoVGV4dENodW5rLCBzdG9wU3RyZWFtaW5nVGV4dCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKFwiVGV4dCBtZXNzYWdlIGNvbnRlbnQgcmVwZWF0ZXIgY3JlYXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGV4dENodW5rcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dFN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgaW50ZXJydXB0U3RyZWFtaW5nJC5waXBlKCgwLCBpbXBvcnRfcnhqczUuc2hhcmVSZXBsYXkpKCksICgwLCBpbXBvcnRfcnhqczUudGFrZSkoMSksICgwLCBpbXBvcnRfcnhqczUudGFwKSgoeyByZWFzb24sIG1lc3NhZ2VJZDogbWVzc2FnZUlkMiB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1Zyh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZDJcbiAgICAgICAgICAgICAgICAgICAgICB9LCBcIlRleHQgc3RyZWFtaW5nIGludGVycnVwdGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbWluZ1RleHRTdGF0dXMubmV4dCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMy5wbGFpblRvSW5zdGFuY2UpKEZhaWxlZE1lc3NhZ2VTdGF0dXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvblxuICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0YXR1cyQubmV4dChuZXcgTWVzc2FnZVN0cmVhbUludGVycnVwdGVkUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlSWQyXG4gICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dFN1YnNjcmlwdGlvbiA9PSBudWxsID8gdm9pZCAwIDogdGV4dFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KSkuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcjIuZGVidWcoXCJTdWJzY3JpYmluZyB0byB0ZXh0IG1lc3NhZ2UgY29udGVudCBzdHJlYW1cIik7XG4gICAgICAgICAgICAgICAgICAgIHRleHRTdWJzY3JpcHRpb24gPSB0ZXh0TWVzc2FnZUNvbnRlbnRTdHJlYW0uc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0OiBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudHlwZSA9PSBSdW50aW1lRXZlbnRUeXBlcy5UZXh0TWVzc2FnZUNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcHVzaFRleHRDaHVuayhlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0Q2h1bmtzLnB1c2goZS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIyLmVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcIkVycm9yIGluIHRleHQgbWVzc2FnZSBjb250ZW50IHN0cmVhbVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludGVycnVwdFN0cmVhbWluZyQubmV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJFcnJvciBzdHJlYW1pbmcgbWVzc2FnZSBjb250ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wU3RyZWFtaW5nVGV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFN1YnNjcmlwdGlvbiA9PSBudWxsID8gdm9pZCAwIDogdGV4dFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcjIuZGVidWcoXCJUZXh0IG1lc3NhZ2UgY29udGVudCBzdHJlYW0gY29tcGxldGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtaW5nVGV4dFN0YXR1cy5uZXh0KG5ldyBTdWNjZXNzTWVzc2FnZVN0YXR1cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0U3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0ZXh0U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRNZXNzYWdlcy5wdXNoKCgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIzLnBsYWluVG9JbnN0YW5jZSkoVGV4dE1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGV4dENodW5rcy5qb2luKFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBNZXNzYWdlUm9sZS5hc3Npc3RhbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSdW50aW1lRXZlbnRUeXBlcy5BY3Rpb25FeGVjdXRpb25TdGFydDpcbiAgICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKFwiQWN0aW9uIGV4ZWN1dGlvbiBzdGFydCBldmVudCByZWNlaXZlZFwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN0cmVhbSA9IGV2ZW50U3RyZWFtLnBpcGUoXG4gICAgICAgICAgICAgICAgICAoMCwgaW1wb3J0X3J4anM1LnNraXBXaGlsZSkoKGUpID0+IGUgIT09IGV2ZW50KSxcbiAgICAgICAgICAgICAgICAgIC8vIHRha2UgdW50aWwgdGhlIGFjdGlvbiBleGVjdXRpb24gZW5kIGV2ZW50XG4gICAgICAgICAgICAgICAgICAoMCwgaW1wb3J0X3J4anM1LnRha2VXaGlsZSkoKGUpID0+ICEoZS50eXBlID09PSBSdW50aW1lRXZlbnRUeXBlcy5BY3Rpb25FeGVjdXRpb25FbmQgJiYgZS5hY3Rpb25FeGVjdXRpb25JZCA9PSBldmVudC5hY3Rpb25FeGVjdXRpb25JZCkpLFxuICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBhbnkgb3RoZXIgYWN0aW9uIGV4ZWN1dGlvbiBldmVudHMgb3IgYWN0aW9uIGV4ZWN1dGlvbiBpZHNcbiAgICAgICAgICAgICAgICAgICgwLCBpbXBvcnRfcnhqczUuZmlsdGVyKSgoZSkgPT4gZS50eXBlID09IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkFyZ3MgJiYgZS5hY3Rpb25FeGVjdXRpb25JZCA9PSBldmVudC5hY3Rpb25FeGVjdXRpb25JZClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbWluZ0FyZ3VtZW50c1N0YXR1cyA9IG5ldyBpbXBvcnRfcnhqczUuU3ViamVjdCgpO1xuICAgICAgICAgICAgICAgIHB1c2hNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgIGlkOiBldmVudC5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogZXZlbnQucGFyZW50TWVzc2FnZUlkLFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAoMCwgaW1wb3J0X3J4anM1LmZpcnN0VmFsdWVGcm9tKShzdHJlYW1pbmdBcmd1bWVudHNTdGF0dXMpLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG5hbWU6IGV2ZW50LmFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IG5ldyBpbXBvcnRfZ3JhcGhxbF95b2dhLlJlcGVhdGVyKGFzeW5jIChwdXNoQXJndW1lbnRzQ2h1bmssIHN0b3BTdHJlYW1pbmdBcmd1bWVudHMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkFjdGlvbiBleGVjdXRpb24gYXJndW1lbnQgc3RyZWFtIGNyZWF0ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyZ3VtZW50Q2h1bmtzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uQXJndW1lbnRTdWJzY3JpcHRpb24gPSBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN0cmVhbS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IGFzeW5jIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09IFJ1bnRpbWVFdmVudFR5cGVzLkFjdGlvbkV4ZWN1dGlvbkFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcHVzaEFyZ3VtZW50c0NodW5rKGUuYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50Q2h1bmtzLnB1c2goZS5hcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIyLmVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBcIkVycm9yIGluIGFjdGlvbiBleGVjdXRpb24gYXJndW1lbnQgc3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtaW5nQXJndW1lbnRzU3RhdHVzLm5leHQoKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjMucGxhaW5Ub0luc3RhbmNlKShGYWlsZWRNZXNzYWdlU3RhdHVzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJBbiB1bmtub3duIGVycm9yIGhhcyBvY2N1cnJlZCBpbiB0aGUgYWN0aW9uIGV4ZWN1dGlvbiBhcmd1bWVudCBzdHJlYW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcFN0cmVhbWluZ0FyZ3VtZW50cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uRXhlY3V0aW9uQXJndW1lbnRTdWJzY3JpcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGFjdGlvbkV4ZWN1dGlvbkFyZ3VtZW50U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkFjdGlvbiBleGVjdXRpb24gYXJndW1lbnQgc3RyZWFtIGNvbXBsZXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbWluZ0FyZ3VtZW50c1N0YXR1cy5uZXh0KG5ldyBTdWNjZXNzTWVzc2FnZVN0YXR1cygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BTdHJlYW1pbmdBcmd1bWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbkFyZ3VtZW50U3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiBhY3Rpb25FeGVjdXRpb25Bcmd1bWVudFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0TWVzc2FnZXMucHVzaCgoMCwgaW1wb3J0X2NsYXNzX3RyYW5zZm9ybWVyMy5wbGFpblRvSW5zdGFuY2UpKEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGV2ZW50LmFjdGlvbkV4ZWN1dGlvbklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudC5hY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3VtZW50Q2h1bmtzLmpvaW4oXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSdW50aW1lRXZlbnRUeXBlcy5BY3Rpb25FeGVjdXRpb25SZXN1bHQ6XG4gICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1Zyh7XG4gICAgICAgICAgICAgICAgICByZXN1bHQ6IGV2ZW50LnJlc3VsdFxuICAgICAgICAgICAgICAgIH0sIFwiQWN0aW9uIGV4ZWN1dGlvbiByZXN1bHQgZXZlbnQgcmVjZWl2ZWRcIik7XG4gICAgICAgICAgICAgICAgcHVzaE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgaWQ6IFwicmVzdWx0LVwiICsgZXZlbnQuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6IG5ldyBTdWNjZXNzTWVzc2FnZVN0YXR1cygpLFxuICAgICAgICAgICAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkOiBldmVudC5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbk5hbWU6IGV2ZW50LmFjdGlvbk5hbWUsXG4gICAgICAgICAgICAgICAgICByZXN1bHQ6IGV2ZW50LnJlc3VsdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG91dHB1dE1lc3NhZ2VzLnB1c2goKDAsIGltcG9ydF9jbGFzc190cmFuc2Zvcm1lcjMucGxhaW5Ub0luc3RhbmNlKShSZXN1bHRNZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgICBpZDogXCJyZXN1bHQtXCIgKyBldmVudC5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogZXZlbnQuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgICAgICAgICAgICAgICBhY3Rpb25OYW1lOiBldmVudC5hY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgcmVzdWx0OiBldmVudC5yZXN1bHRcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUnVudGltZUV2ZW50VHlwZXMuQWdlbnRTdGF0ZU1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1Zyh7XG4gICAgICAgICAgICAgICAgICBldmVudFxuICAgICAgICAgICAgICAgIH0sIFwiQWdlbnQgbWVzc2FnZSBldmVudCByZWNlaXZlZFwiKTtcbiAgICAgICAgICAgICAgICBwdXNoTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICBpZDogKDAsIGltcG9ydF9zaGFyZWQyOC5yYW5kb21JZCkoKSxcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogbmV3IFN1Y2Nlc3NNZXNzYWdlU3RhdHVzKCksXG4gICAgICAgICAgICAgICAgICB0aHJlYWRJZDogZXZlbnQudGhyZWFkSWQsXG4gICAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IGV2ZW50LmFnZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVOYW1lOiBldmVudC5ub2RlTmFtZSxcbiAgICAgICAgICAgICAgICAgIHJ1bklkOiBldmVudC5ydW5JZCxcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZTogZXZlbnQuYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IGV2ZW50LnN0YXRlLFxuICAgICAgICAgICAgICAgICAgcnVubmluZzogZXZlbnQucnVubmluZyxcbiAgICAgICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLmFzc2lzdGFudCxcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvdXRwdXRNZXNzYWdlcy5wdXNoKCgwLCBpbXBvcnRfY2xhc3NfdHJhbnNmb3JtZXIzLnBsYWluVG9JbnN0YW5jZSkoQWdlbnRTdGF0ZU1lc3NhZ2UsIHtcbiAgICAgICAgICAgICAgICAgIGlkOiAoMCwgaW1wb3J0X3NoYXJlZDI4LnJhbmRvbUlkKSgpLFxuICAgICAgICAgICAgICAgICAgdGhyZWFkSWQ6IGV2ZW50LnRocmVhZElkLFxuICAgICAgICAgICAgICAgICAgYWdlbnROYW1lOiBldmVudC5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgICBub2RlTmFtZTogZXZlbnQubm9kZU5hbWUsXG4gICAgICAgICAgICAgICAgICBydW5JZDogZXZlbnQucnVuSWQsXG4gICAgICAgICAgICAgICAgICBhY3RpdmU6IGV2ZW50LmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBldmVudC5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgIHJ1bm5pbmc6IGV2ZW50LnJ1bm5pbmcsXG4gICAgICAgICAgICAgICAgICByb2xlOiBNZXNzYWdlUm9sZS5hc3Npc3RhbnQsXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3I6IChlcnIpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTMsIF9iMiwgX2MyLCBfZDIsIF9lMiwgX2YyO1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIGltcG9ydF9zaGFyZWQyOS5Db3BpbG90S2l0RXJyb3IgfHwgZXJyIGluc3RhbmNlb2YgaW1wb3J0X3NoYXJlZDI5LkNvcGlsb3RLaXRMb3dMZXZlbEVycm9yIHx8IGVyciBpbnN0YW5jZW9mIEVycm9yICYmIGVyci5uYW1lICYmIGVyci5uYW1lLmluY2x1ZGVzKFwiQ29waWxvdEtpdFwiKSB8fCAoKF9hMyA9IGVyciA9PSBudWxsID8gdm9pZCAwIDogZXJyLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTMudmlzaWJpbGl0eSkpIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMkLm5leHQobmV3IFVua25vd25FcnJvclJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZXJyLm1lc3NhZ2UgfHwgXCJBZ2VudCBlcnJvciBvY2N1cnJlZFwiLFxuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgb3JpZ2luYWwgZXJyb3IgaW5mb3JtYXRpb24gZm9yIGZyb250ZW5kIHRvIGV4dHJhY3RcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yOiB7XG4gICAgICAgICAgICAgICAgICBjb2RlOiBlcnIuY29kZSB8fCAoKF9iMiA9IGVyci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmNvZGUpLFxuICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogZXJyLnN0YXR1c0NvZGUgfHwgKChfYzIgPSBlcnIuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jMi5zdGF0dXNDb2RlKSxcbiAgICAgICAgICAgICAgICAgIHNldmVyaXR5OiBlcnIuc2V2ZXJpdHkgfHwgKChfZDIgPSBlcnIuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kMi5zZXZlcml0eSksXG4gICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBlcnIudmlzaWJpbGl0eSB8fCAoKF9lMiA9IGVyci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2UyLnZpc2liaWxpdHkpLFxuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvclR5cGU6IGVyci5vcmlnaW5hbEVycm9yVHlwZSB8fCAoKF9mMiA9IGVyci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2YyLm9yaWdpbmFsRXJyb3JUeXBlKSxcbiAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnM6IGVyci5leHRlbnNpb25zXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgIGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiBldmVudFN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICByZWplY3RPdXRwdXRNZXNzYWdlc1Byb21pc2UoZXJyKTtcbiAgICAgICAgICAgICAgc3RvcFN0cmVhbWluZ01lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzJC5uZXh0KG5ldyBVbmtub3duRXJyb3JSZXNwb25zZSh7XG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgQW4gdW5rbm93biBlcnJvciBoYXMgb2NjdXJyZWQgaW4gdGhlIGV2ZW50IHN0cmVhbWBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiBldmVudFN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc3RvcFN0cmVhbWluZ01lc3NhZ2VzKCk7XG4gICAgICAgICAgICByZWplY3RPdXRwdXRNZXNzYWdlc1Byb21pc2UoZXJyKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbXBsZXRlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EzO1xuICAgICAgICAgICAgbG9nZ2VyMi5kZWJ1ZyhcIkV2ZW50IHN0cmVhbSBjb21wbGV0ZWRcIik7XG4gICAgICAgICAgICBpZiAoKF9hMyA9IGRhdGEuY2xvdWQpID09IG51bGwgPyB2b2lkIDAgOiBfYTMuZ3VhcmRyYWlscykge1xuICAgICAgICAgICAgICBsb2dnZXIyLmRlYnVnKFwiR3VhcmRyYWlscyBpcyBlbmFibGVkLCB3YWl0aW5nIGZvciBndWFyZHJhaWxzIHJlc3VsdFwiKTtcbiAgICAgICAgICAgICAgYXdhaXQgKDAsIGltcG9ydF9yeGpzNS5maXJzdFZhbHVlRnJvbSkoZ3VhcmRyYWlsc1Jlc3VsdCQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzcG9uc2VTdGF0dXMkLm5leHQobmV3IFN1Y2Nlc3NSZXNwb25zZVN0YXR1cygpKTtcbiAgICAgICAgICAgIGV2ZW50U3RyZWFtU3Vic2NyaXB0aW9uID09IG51bGwgPyB2b2lkIDAgOiBldmVudFN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgc3RvcFN0cmVhbWluZ01lc3NhZ2VzKCk7XG4gICAgICAgICAgICByZXNvbHZlT3V0cHV0TWVzc2FnZXNQcm9taXNlKG91dHB1dE1lc3NhZ2VzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICB9O1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxufTtcbl9fbmFtZShDb3BpbG90UmVzb2x2ZXIsIFwiQ29waWxvdFJlc29sdmVyXCIpO1xuX3RzX2RlY29yYXRlMTkoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIwLlF1ZXJ5KSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGExOShcImRlc2lnbjp0eXBlXCIsIEZ1bmN0aW9uKSxcbiAgX3RzX21ldGFkYXRhMTkoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSksXG4gIF90c19tZXRhZGF0YTE5KFwiZGVzaWduOnJldHVybnR5cGVcIiwgUHJvbWlzZSlcbl0sIENvcGlsb3RSZXNvbHZlci5wcm90b3R5cGUsIFwiaGVsbG9cIiwgbnVsbCk7XG5fdHNfZGVjb3JhdGUxOShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjAuUXVlcnkpKCgpID0+IEFnZW50c1Jlc3BvbnNlKSxcbiAgX3RzX3BhcmFtKDAsICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjAuQ3R4KSgpKSxcbiAgX3RzX21ldGFkYXRhMTkoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gIF90c19tZXRhZGF0YTE5KFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1xuICAgIHR5cGVvZiBHcmFwaFFMQ29udGV4dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEdyYXBoUUxDb250ZXh0XG4gIF0pLFxuICBfdHNfbWV0YWRhdGExOShcImRlc2lnbjpyZXR1cm50eXBlXCIsIFByb21pc2UpXG5dLCBDb3BpbG90UmVzb2x2ZXIucHJvdG90eXBlLCBcImF2YWlsYWJsZUFnZW50c1wiLCBudWxsKTtcbl90c19kZWNvcmF0ZTE5KFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMC5NdXRhdGlvbikoKCkgPT4gQ29waWxvdFJlc3BvbnNlKSxcbiAgX3RzX3BhcmFtKDAsICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjAuQ3R4KSgpKSxcbiAgX3RzX3BhcmFtKDEsICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjAuQXJnKShcImRhdGFcIikpLFxuICBfdHNfcGFyYW0oMiwgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMC5BcmcpKFwicHJvcGVydGllc1wiLCAoKSA9PiBpbXBvcnRfZ3JhcGhxbF9zY2FsYXJzMi5HcmFwaFFMSlNPTk9iamVjdCwge1xuICAgIG51bGxhYmxlOiB0cnVlXG4gIH0pKSxcbiAgX3RzX21ldGFkYXRhMTkoXCJkZXNpZ246dHlwZVwiLCBGdW5jdGlvbiksXG4gIF90c19tZXRhZGF0YTE5KFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW1xuICAgIHR5cGVvZiBHcmFwaFFMQ29udGV4dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IEdyYXBoUUxDb250ZXh0LFxuICAgIHR5cGVvZiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0ID09PSBcInVuZGVmaW5lZFwiID8gT2JqZWN0IDogR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VJbnB1dCxcbiAgICB0eXBlb2YgQ29waWxvdFJlcXVlc3RDb250ZXh0UHJvcGVydGllcyA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IENvcGlsb3RSZXF1ZXN0Q29udGV4dFByb3BlcnRpZXNcbiAgXSksXG4gIF90c19tZXRhZGF0YTE5KFwiZGVzaWduOnJldHVybnR5cGVcIiwgUHJvbWlzZSlcbl0sIENvcGlsb3RSZXNvbHZlci5wcm90b3R5cGUsIFwiZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VcIiwgbnVsbCk7XG5Db3BpbG90UmVzb2x2ZXIgPSBfdHNfZGVjb3JhdGUxOShbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjAuUmVzb2x2ZXIpKCgpID0+IENvcGlsb3RSZXNwb25zZSlcbl0sIENvcGlsb3RSZXNvbHZlcik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL3NoYXJlZC50c1xudmFyIGltcG9ydF9wbHVnaW5fZGVmZXJfc3RyZWFtID0gcmVxdWlyZShcIkBncmFwaHFsLXlvZ2EvcGx1Z2luLWRlZmVyLXN0cmVhbVwiKTtcblxuLy8gc3JjL2xpYi9sb2dnZXIudHNcbnZhciBpbXBvcnRfcGlubyA9IF9fdG9FU00ocmVxdWlyZShcInBpbm9cIikpO1xudmFyIGltcG9ydF9waW5vX3ByZXR0eSA9IF9fdG9FU00ocmVxdWlyZShcInBpbm8tcHJldHR5XCIpKTtcbmZ1bmN0aW9uIGNyZWF0ZUxvZ2dlcihvcHRpb25zKSB7XG4gIGNvbnN0IHsgbGV2ZWwsIGNvbXBvbmVudCB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgY29uc3Qgc3RyZWFtID0gKDAsIGltcG9ydF9waW5vX3ByZXR0eS5kZWZhdWx0KSh7XG4gICAgY29sb3JpemU6IHRydWVcbiAgfSk7XG4gIGNvbnN0IGxvZ2dlcjIgPSAoMCwgaW1wb3J0X3Bpbm8uZGVmYXVsdCkoe1xuICAgIGxldmVsOiBwcm9jZXNzLmVudi5MT0dfTEVWRUwgfHwgbGV2ZWwgfHwgXCJlcnJvclwiLFxuICAgIHJlZGFjdDoge1xuICAgICAgcGF0aHM6IFtcbiAgICAgICAgXCJwaWRcIixcbiAgICAgICAgXCJob3N0bmFtZVwiXG4gICAgICBdLFxuICAgICAgcmVtb3ZlOiB0cnVlXG4gICAgfVxuICB9LCBzdHJlYW0pO1xuICBpZiAoY29tcG9uZW50KSB7XG4gICAgcmV0dXJuIGxvZ2dlcjIuY2hpbGQoe1xuICAgICAgY29tcG9uZW50XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxvZ2dlcjI7XG4gIH1cbn1cbl9fbmFtZShjcmVhdGVMb2dnZXIsIFwiY3JlYXRlTG9nZ2VyXCIpO1xuXG4vLyBzcmMvZ3JhcGhxbC9yZXNvbHZlcnMvc3RhdGUucmVzb2x2ZXIudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMjMgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xudmFyIGltcG9ydF90eXBlX2dyYXBocWwyNCA9IHJlcXVpcmUoXCJ0eXBlLWdyYXBocWxcIik7XG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDI1ID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcblxuLy8gc3JjL2dyYXBocWwvdHlwZXMvbG9hZC1hZ2VudC1zdGF0ZS1yZXNwb25zZS50eXBlLnRzXG52YXIgaW1wb3J0X3R5cGVfZ3JhcGhxbDIxID0gcmVxdWlyZShcInR5cGUtZ3JhcGhxbFwiKTtcbmZ1bmN0aW9uIF90c19kZWNvcmF0ZTIwKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZVxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKVxuICAgICAgICByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cbl9fbmFtZShfdHNfZGVjb3JhdGUyMCwgXCJfdHNfZGVjb3JhdGVcIik7XG5mdW5jdGlvbiBfdHNfbWV0YWRhdGEyMChrLCB2KSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKVxuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufVxuX19uYW1lKF90c19tZXRhZGF0YTIwLCBcIl90c19tZXRhZGF0YVwiKTtcbnZhciBMb2FkQWdlbnRTdGF0ZVJlc3BvbnNlID0gY2xhc3Mge1xuICB0aHJlYWRJZDtcbiAgdGhyZWFkRXhpc3RzO1xuICBzdGF0ZTtcbiAgbWVzc2FnZXM7XG59O1xuX19uYW1lKExvYWRBZ2VudFN0YXRlUmVzcG9uc2UsIFwiTG9hZEFnZW50U3RhdGVSZXNwb25zZVwiKTtcbl90c19kZWNvcmF0ZTIwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMjAoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBMb2FkQWdlbnRTdGF0ZVJlc3BvbnNlLnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMjAoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIxLkZpZWxkKSgoKSA9PiBCb29sZWFuKSxcbiAgX3RzX21ldGFkYXRhMjAoXCJkZXNpZ246dHlwZVwiLCBCb29sZWFuKVxuXSwgTG9hZEFnZW50U3RhdGVSZXNwb25zZS5wcm90b3R5cGUsIFwidGhyZWFkRXhpc3RzXCIsIHZvaWQgMCk7XG5fdHNfZGVjb3JhdGUyMChbXG4gICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjEuRmllbGQpKCgpID0+IFN0cmluZyksXG4gIF90c19tZXRhZGF0YTIwKFwiZGVzaWduOnR5cGVcIiwgU3RyaW5nKVxuXSwgTG9hZEFnZW50U3RhdGVSZXNwb25zZS5wcm90b3R5cGUsIFwic3RhdGVcIiwgdm9pZCAwKTtcbl90c19kZWNvcmF0ZTIwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMS5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMjAoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBMb2FkQWdlbnRTdGF0ZVJlc3BvbnNlLnByb3RvdHlwZSwgXCJtZXNzYWdlc1wiLCB2b2lkIDApO1xuTG9hZEFnZW50U3RhdGVSZXNwb25zZSA9IF90c19kZWNvcmF0ZTIwKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMS5PYmplY3RUeXBlKSgpXG5dLCBMb2FkQWdlbnRTdGF0ZVJlc3BvbnNlKTtcblxuLy8gc3JjL2dyYXBocWwvaW5wdXRzL2xvYWQtYWdlbnQtc3RhdGUuaW5wdXQudHNcbnZhciBpbXBvcnRfdHlwZV9ncmFwaHFsMjIgPSByZXF1aXJlKFwidHlwZS1ncmFwaHFsXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlMjEoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTIxLCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTIxKGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhMjEsIFwiX3RzX21ldGFkYXRhXCIpO1xudmFyIExvYWRBZ2VudFN0YXRlSW5wdXQgPSBjbGFzcyB7XG4gIHRocmVhZElkO1xuICBhZ2VudE5hbWU7XG59O1xuX19uYW1lKExvYWRBZ2VudFN0YXRlSW5wdXQsIFwiTG9hZEFnZW50U3RhdGVJbnB1dFwiKTtcbl90c19kZWNvcmF0ZTIxKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMi5GaWVsZCkoKCkgPT4gU3RyaW5nKSxcbiAgX3RzX21ldGFkYXRhMjEoXCJkZXNpZ246dHlwZVwiLCBTdHJpbmcpXG5dLCBMb2FkQWdlbnRTdGF0ZUlucHV0LnByb3RvdHlwZSwgXCJ0aHJlYWRJZFwiLCB2b2lkIDApO1xuX3RzX2RlY29yYXRlMjEoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDIyLkZpZWxkKSgoKSA9PiBTdHJpbmcpLFxuICBfdHNfbWV0YWRhdGEyMShcImRlc2lnbjp0eXBlXCIsIFN0cmluZylcbl0sIExvYWRBZ2VudFN0YXRlSW5wdXQucHJvdG90eXBlLCBcImFnZW50TmFtZVwiLCB2b2lkIDApO1xuTG9hZEFnZW50U3RhdGVJbnB1dCA9IF90c19kZWNvcmF0ZTIxKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMi5JbnB1dFR5cGUpKClcbl0sIExvYWRBZ2VudFN0YXRlSW5wdXQpO1xuXG4vLyBzcmMvZ3JhcGhxbC9yZXNvbHZlcnMvc3RhdGUucmVzb2x2ZXIudHNcbnZhciBpbXBvcnRfc2hhcmVkMzAgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xuZnVuY3Rpb24gX3RzX2RlY29yYXRlMjIoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICBpZiAoZCA9IGRlY29yYXRvcnNbaV0pXG4gICAgICAgIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufVxuX19uYW1lKF90c19kZWNvcmF0ZTIyLCBcIl90c19kZWNvcmF0ZVwiKTtcbmZ1bmN0aW9uIF90c19tZXRhZGF0YTIyKGssIHYpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59XG5fX25hbWUoX3RzX21ldGFkYXRhMjIsIFwiX3RzX21ldGFkYXRhXCIpO1xuZnVuY3Rpb24gX3RzX3BhcmFtMihwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XG4gICAgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTtcbiAgfTtcbn1cbl9fbmFtZShfdHNfcGFyYW0yLCBcIl90c19wYXJhbVwiKTtcbnZhciBTdGF0ZVJlc29sdmVyID0gY2xhc3Mge1xuICBhc3luYyBsb2FkQWdlbnRTdGF0ZShjdHgsIGRhdGEpIHtcbiAgICBjb25zdCBhZ2VudHMgPSBhd2FpdCBjdHguX2NvcGlsb3RraXQucnVudGltZS5nZXRBbGxBZ2VudHMoY3R4KTtcbiAgICBjb25zdCBoYXNBZ2VudCA9IGFnZW50cy5zb21lKChhZ2VudCkgPT4gYWdlbnQubmFtZSA9PT0gZGF0YS5hZ2VudE5hbWUpO1xuICAgIGlmICghaGFzQWdlbnQpIHtcbiAgICAgIHRocm93IG5ldyBpbXBvcnRfc2hhcmVkMzAuQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3Ioe1xuICAgICAgICBhZ2VudE5hbWU6IGRhdGEuYWdlbnROYW1lLFxuICAgICAgICBhdmFpbGFibGVBZ2VudHM6IGFnZW50cy5tYXAoKGEpID0+ICh7XG4gICAgICAgICAgbmFtZTogYS5uYW1lLFxuICAgICAgICAgIGlkOiBhLm5hbWVcbiAgICAgICAgfSkpXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGUgPSBhd2FpdCBjdHguX2NvcGlsb3RraXQucnVudGltZS5sb2FkQWdlbnRTdGF0ZShjdHgsIGRhdGEudGhyZWFkSWQsIGRhdGEuYWdlbnROYW1lKTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cbn07XG5fX25hbWUoU3RhdGVSZXNvbHZlciwgXCJTdGF0ZVJlc29sdmVyXCIpO1xuX3RzX2RlY29yYXRlMjIoW1xuICAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDI1LlF1ZXJ5KSgoKSA9PiBMb2FkQWdlbnRTdGF0ZVJlc3BvbnNlKSxcbiAgX3RzX3BhcmFtMigwLCAoMCwgaW1wb3J0X3R5cGVfZ3JhcGhxbDI0LkN0eCkoKSksXG4gIF90c19wYXJhbTIoMSwgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMy5BcmcpKFwiZGF0YVwiKSksXG4gIF90c19tZXRhZGF0YTIyKFwiZGVzaWduOnR5cGVcIiwgRnVuY3Rpb24pLFxuICBfdHNfbWV0YWRhdGEyMihcImRlc2lnbjpwYXJhbXR5cGVzXCIsIFtcbiAgICB0eXBlb2YgR3JhcGhRTENvbnRleHQgPT09IFwidW5kZWZpbmVkXCIgPyBPYmplY3QgOiBHcmFwaFFMQ29udGV4dCxcbiAgICB0eXBlb2YgTG9hZEFnZW50U3RhdGVJbnB1dCA9PT0gXCJ1bmRlZmluZWRcIiA/IE9iamVjdCA6IExvYWRBZ2VudFN0YXRlSW5wdXRcbiAgXSksXG4gIF90c19tZXRhZGF0YTIyKFwiZGVzaWduOnJldHVybnR5cGVcIiwgUHJvbWlzZSlcbl0sIFN0YXRlUmVzb2x2ZXIucHJvdG90eXBlLCBcImxvYWRBZ2VudFN0YXRlXCIsIG51bGwpO1xuU3RhdGVSZXNvbHZlciA9IF90c19kZWNvcmF0ZTIyKFtcbiAgKDAsIGltcG9ydF90eXBlX2dyYXBocWwyMy5SZXNvbHZlcikoKCkgPT4gTG9hZEFnZW50U3RhdGVSZXNwb25zZSlcbl0sIFN0YXRlUmVzb2x2ZXIpO1xuXG4vLyBzcmMvbGliL2ludGVncmF0aW9ucy9zaGFyZWQudHNcbnZhciBwYWNrYWdlSnNvbjIgPSBfX3RvRVNNKHJlcXVpcmVfcGFja2FnZSgpKTtcbnZhciBpbXBvcnRfc2hhcmVkMzEgPSByZXF1aXJlKFwiQGNvcGlsb3RraXQvc2hhcmVkXCIpO1xudmFyIGxvZ2dlciA9IGNyZWF0ZUxvZ2dlcigpO1xudmFyIGFkZEN1c3RvbUhlYWRlclBsdWdpbiA9IHtcbiAgb25SZXNwb25zZSh7IHJlc3BvbnNlIH0pIHtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtQ29waWxvdEtpdC1SdW50aW1lLVZlcnNpb25cIiwgcGFja2FnZUpzb24yLnZlcnNpb24pO1xuICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ29udGV4dChpbml0aWFsQ29udGV4dCwgY29waWxvdEtpdENvbnRleHQsIGNvbnRleHRMb2dnZXIsIHByb3BlcnRpZXMgPSB7fSkge1xuICBsb2dnZXIuZGVidWcoe1xuICAgIGNvcGlsb3RLaXRDb250ZXh0XG4gIH0sIFwiQ3JlYXRpbmcgR3JhcGhRTCBjb250ZXh0XCIpO1xuICBjb25zdCBjdHggPSB7XG4gICAgLi4uaW5pdGlhbENvbnRleHQsXG4gICAgX2NvcGlsb3RraXQ6IHtcbiAgICAgIC4uLmNvcGlsb3RLaXRDb250ZXh0XG4gICAgfSxcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgfSxcbiAgICBsb2dnZXI6IGNvbnRleHRMb2dnZXJcbiAgfTtcbiAgcmV0dXJuIGN0eDtcbn1cbl9fbmFtZShjcmVhdGVDb250ZXh0LCBcImNyZWF0ZUNvbnRleHRcIik7XG5mdW5jdGlvbiBidWlsZFNjaGVtYShvcHRpb25zID0ge30pIHtcbiAgbG9nZ2VyLmRlYnVnKFwiQnVpbGRpbmcgR3JhcGhRTCBzY2hlbWEuLi5cIik7XG4gIGNvbnN0IHNjaGVtYSA9ICgwLCBpbXBvcnRfdHlwZV9ncmFwaHFsMjYuYnVpbGRTY2hlbWFTeW5jKSh7XG4gICAgcmVzb2x2ZXJzOiBbXG4gICAgICBDb3BpbG90UmVzb2x2ZXIsXG4gICAgICBTdGF0ZVJlc29sdmVyXG4gICAgXSxcbiAgICBlbWl0U2NoZW1hRmlsZTogb3B0aW9ucy5lbWl0U2NoZW1hRmlsZVxuICB9KTtcbiAgbG9nZ2VyLmRlYnVnKFwiR3JhcGhRTCBzY2hlbWEgYnVpbHQgc3VjY2Vzc2Z1bGx5XCIpO1xuICByZXR1cm4gc2NoZW1hO1xufVxuX19uYW1lKGJ1aWxkU2NoZW1hLCBcImJ1aWxkU2NoZW1hXCIpO1xuZnVuY3Rpb24gZ2V0Q29tbW9uQ29uZmlnKG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBsb2dMZXZlbCA9IHByb2Nlc3MuZW52LkxPR19MRVZFTCB8fCBvcHRpb25zLmxvZ0xldmVsIHx8IFwiZXJyb3JcIjtcbiAgY29uc3QgbG9nZ2VyMiA9IGNyZWF0ZUxvZ2dlcih7XG4gICAgbGV2ZWw6IGxvZ0xldmVsLFxuICAgIGNvbXBvbmVudDogXCJnZXRDb21tb25Db25maWdcIlxuICB9KTtcbiAgY29uc3QgY29udGV4dExvZ2dlciA9IGNyZWF0ZUxvZ2dlcih7XG4gICAgbGV2ZWw6IGxvZ0xldmVsXG4gIH0pO1xuICBpZiAob3B0aW9ucy5jbG91ZCkge1xuICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRDbG91ZENvbmZpZ3VyYXRpb24oe1xuICAgICAgcHVibGljQXBpS2V5OiBvcHRpb25zLmNsb3VkLnB1YmxpY0FwaUtleSxcbiAgICAgIGJhc2VVcmw6IG9wdGlvbnMuY2xvdWQuYmFzZVVybFxuICAgIH0pO1xuICB9XG4gIGlmICgoX2EgPSBvcHRpb25zLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5fY29waWxvdGtpdCkge1xuICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICAgIF9jb3BpbG90a2l0OiB7XG4gICAgICAgIC4uLm9wdGlvbnMucHJvcGVydGllcy5fY29waWxvdGtpdFxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICBydW50aW1lOiB7XG4gICAgICBzZXJ2aWNlQWRhcHRlcjogb3B0aW9ucy5zZXJ2aWNlQWRhcHRlci5jb25zdHJ1Y3Rvci5uYW1lXG4gICAgfVxuICB9KTtcbiAgY29uc3QgdXNlckVycm9yQ29kZXMgPSBbXG4gICAgaW1wb3J0X3NoYXJlZDMxLkNvcGlsb3RLaXRFcnJvckNvZGUuQUdFTlRfTk9UX0ZPVU5ELFxuICAgIGltcG9ydF9zaGFyZWQzMS5Db3BpbG90S2l0RXJyb3JDb2RlLkFQSV9OT1RfRk9VTkQsXG4gICAgaW1wb3J0X3NoYXJlZDMxLkNvcGlsb3RLaXRFcnJvckNvZGUuUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORCxcbiAgICBpbXBvcnRfc2hhcmVkMzEuQ29waWxvdEtpdEVycm9yQ29kZS5DT05GSUdVUkFUSU9OX0VSUk9SLFxuICAgIGltcG9ydF9zaGFyZWQzMS5Db3BpbG90S2l0RXJyb3JDb2RlLk1JU1NJTkdfUFVCTElDX0FQSV9LRVlfRVJST1JcbiAgXTtcbiAgcmV0dXJuIHtcbiAgICBsb2dnaW5nOiBjcmVhdGVMb2dnZXIoe1xuICAgICAgY29tcG9uZW50OiBcIllvZ2EgR3JhcGhRTFwiLFxuICAgICAgbGV2ZWw6IGxvZ0xldmVsXG4gICAgfSksXG4gICAgc2NoZW1hOiBidWlsZFNjaGVtYSgpLFxuICAgIHBsdWdpbnM6IFtcbiAgICAgICgwLCBpbXBvcnRfcGx1Z2luX2RlZmVyX3N0cmVhbS51c2VEZWZlclN0cmVhbSkoKSxcbiAgICAgIGFkZEN1c3RvbUhlYWRlclBsdWdpblxuICAgIF0sXG4gICAgY29udGV4dDogKGN0eCkgPT4gY3JlYXRlQ29udGV4dChjdHgsIG9wdGlvbnMsIGNvbnRleHRMb2dnZXIsIG9wdGlvbnMucHJvcGVydGllcyksXG4gICAgLy8gU3VwcHJlc3MgbG9nZ2luZyBmb3IgdXNlciBjb25maWd1cmF0aW9uIGVycm9yc1xuICAgIG1hc2tlZEVycm9yczoge1xuICAgICAgbWFza0Vycm9yOiAoZXJyb3IsIG1lc3NhZ2UsIGlzRGV2KSA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSBlcnJvci5vcmlnaW5hbEVycm9yIHx8IGVycm9yO1xuICAgICAgICBjb25zdCBleHRlbnNpb25zID0gZXJyb3IuZXh0ZW5zaW9ucztcbiAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gZXh0ZW5zaW9ucyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZW5zaW9ucy5jb2RlO1xuICAgICAgICBpZiAoZXJyb3JDb2RlICYmIHVzZXJFcnJvckNvZGVzLmluY2x1ZGVzKGVycm9yQ29kZSkpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiVXNlciBjb25maWd1cmF0aW9uIGVycm9yOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBpbXBvcnRfc2hhcmVkMzEuQ29waWxvdEtpdEVycm9yICYmIHVzZXJFcnJvckNvZGVzLmluY2x1ZGVzKG9yaWdpbmFsRXJyb3IuY29kZSkpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiVXNlciBjb25maWd1cmF0aW9uIGVycm9yOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFwcGxpY2F0aW9uIGVycm9yOlwiLCBlcnJvcik7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5fX25hbWUoZ2V0Q29tbW9uQ29uZmlnLCBcImdldENvbW1vbkNvbmZpZ1wiKTtcblxuLy8gc3JjL2xpYi9pbnRlZ3JhdGlvbnMvbmV4dGpzL2FwcC1yb3V0ZXIudHNcbnZhciBpbXBvcnRfZ3JhcGhxbF95b2dhMiA9IHJlcXVpcmUoXCJncmFwaHFsLXlvZ2FcIik7XG5mdW5jdGlvbiBjb3BpbG90UnVudGltZU5leHRKU0FwcFJvdXRlckVuZHBvaW50KG9wdGlvbnMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBjb21tb25Db25maWcgPSBnZXRDb21tb25Db25maWcob3B0aW9ucyk7XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICBydW50aW1lOiB7XG4gICAgICBmcmFtZXdvcms6IFwibmV4dGpzLWFwcC1yb3V0ZXJcIlxuICAgIH1cbiAgfSk7XG4gIGlmICgoX2EgPSBvcHRpb25zLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5fY29waWxvdGtpdCkge1xuICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICAgIF9jb3BpbG90a2l0OiBvcHRpb25zLnByb3BlcnRpZXMuX2NvcGlsb3RraXRcbiAgICB9KTtcbiAgfVxuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLmluc3RhbmNlX2NyZWF0ZWRcIiwgZ2V0UnVudGltZUluc3RhbmNlVGVsZW1ldHJ5SW5mbyhvcHRpb25zKSk7XG4gIGNvbnN0IGxvZ2dlcjIgPSBjb21tb25Db25maWcubG9nZ2luZztcbiAgbG9nZ2VyMi5kZWJ1ZyhcIkNyZWF0aW5nIE5leHRKUyBBcHAgUm91dGVyIGVuZHBvaW50XCIpO1xuICBjb25zdCB5b2dhID0gKDAsIGltcG9ydF9ncmFwaHFsX3lvZ2EyLmNyZWF0ZVlvZ2EpKHtcbiAgICAuLi5jb21tb25Db25maWcsXG4gICAgZ3JhcGhxbEVuZHBvaW50OiBvcHRpb25zLmVuZHBvaW50LFxuICAgIGZldGNoQVBJOiB7XG4gICAgICBSZXNwb25zZTogZ2xvYmFsVGhpcy5SZXNwb25zZVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7XG4gICAgaGFuZGxlUmVxdWVzdDogeW9nYSxcbiAgICBHRVQ6IHlvZ2EsXG4gICAgUE9TVDogeW9nYSxcbiAgICBPUFRJT05TOiB5b2dhXG4gIH07XG59XG5fX25hbWUoY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludCwgXCJjb3BpbG90UnVudGltZU5leHRKU0FwcFJvdXRlckVuZHBvaW50XCIpO1xuXG4vLyBzcmMvbGliL2ludGVncmF0aW9ucy9uZXh0anMvcGFnZXMtcm91dGVyLnRzXG52YXIgaW1wb3J0X2dyYXBocWxfeW9nYTMgPSByZXF1aXJlKFwiZ3JhcGhxbC15b2dhXCIpO1xudmFyIGNvbmZpZyA9IHtcbiAgYXBpOiB7XG4gICAgYm9keVBhcnNlcjogZmFsc2VcbiAgfVxufTtcbmZ1bmN0aW9uIGNvcGlsb3RSdW50aW1lTmV4dEpTUGFnZXNSb3V0ZXJFbmRwb2ludChvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29tbW9uQ29uZmlnID0gZ2V0Q29tbW9uQ29uZmlnKG9wdGlvbnMpO1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgcnVudGltZToge1xuICAgICAgZnJhbWV3b3JrOiBcIm5leHRqcy1wYWdlcy1yb3V0ZXJcIlxuICAgIH1cbiAgfSk7XG4gIGlmICgoX2EgPSBvcHRpb25zLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5fY29waWxvdGtpdCkge1xuICAgIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICAgIF9jb3BpbG90a2l0OiBvcHRpb25zLnByb3BlcnRpZXMuX2NvcGlsb3RraXRcbiAgICB9KTtcbiAgfVxuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLmluc3RhbmNlX2NyZWF0ZWRcIiwgZ2V0UnVudGltZUluc3RhbmNlVGVsZW1ldHJ5SW5mbyhvcHRpb25zKSk7XG4gIGNvbnN0IGxvZ2dlcjIgPSBjb21tb25Db25maWcubG9nZ2luZztcbiAgbG9nZ2VyMi5kZWJ1ZyhcIkNyZWF0aW5nIE5leHRKUyBQYWdlcyBSb3V0ZXIgZW5kcG9pbnRcIik7XG4gIGNvbnN0IHlvZ2EgPSAoMCwgaW1wb3J0X2dyYXBocWxfeW9nYTMuY3JlYXRlWW9nYSkoe1xuICAgIC4uLmNvbW1vbkNvbmZpZyxcbiAgICBncmFwaHFsRW5kcG9pbnQ6IG9wdGlvbnMuZW5kcG9pbnRcbiAgfSk7XG4gIHJldHVybiB5b2dhO1xufVxuX19uYW1lKGNvcGlsb3RSdW50aW1lTmV4dEpTUGFnZXNSb3V0ZXJFbmRwb2ludCwgXCJjb3BpbG90UnVudGltZU5leHRKU1BhZ2VzUm91dGVyRW5kcG9pbnRcIik7XG5cbi8vIHNyYy9saWIvaW50ZWdyYXRpb25zL25vZGUtaHR0cC9pbmRleC50c1xudmFyIGltcG9ydF9ncmFwaHFsX3lvZ2E0ID0gcmVxdWlyZShcImdyYXBocWwteW9nYVwiKTtcbmZ1bmN0aW9uIGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludChvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgY29tbW9uQ29uZmlnID0gZ2V0Q29tbW9uQ29uZmlnKG9wdGlvbnMpO1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgcnVudGltZToge1xuICAgICAgZnJhbWV3b3JrOiBcIm5vZGUtaHR0cFwiXG4gICAgfVxuICB9KTtcbiAgaWYgKChfYSA9IG9wdGlvbnMucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLl9jb3BpbG90a2l0KSB7XG4gICAgdGVsZW1ldHJ5X2NsaWVudF9kZWZhdWx0LnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgX2NvcGlsb3RraXQ6IG9wdGlvbnMucHJvcGVydGllcy5fY29waWxvdGtpdFxuICAgIH0pO1xuICB9XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUuaW5zdGFuY2VfY3JlYXRlZFwiLCBnZXRSdW50aW1lSW5zdGFuY2VUZWxlbWV0cnlJbmZvKG9wdGlvbnMpKTtcbiAgY29uc3QgbG9nZ2VyMiA9IGNvbW1vbkNvbmZpZy5sb2dnaW5nO1xuICBsb2dnZXIyLmRlYnVnKFwiQ3JlYXRpbmcgTm9kZSBIVFRQIGVuZHBvaW50XCIpO1xuICBjb25zdCB5b2dhID0gKDAsIGltcG9ydF9ncmFwaHFsX3lvZ2E0LmNyZWF0ZVlvZ2EpKHtcbiAgICAuLi5jb21tb25Db25maWcsXG4gICAgZ3JhcGhxbEVuZHBvaW50OiBvcHRpb25zLmVuZHBvaW50XG4gIH0pO1xuICByZXR1cm4geW9nYTtcbn1cbl9fbmFtZShjb3BpbG90UnVudGltZU5vZGVIdHRwRW5kcG9pbnQsIFwiY29waWxvdFJ1bnRpbWVOb2RlSHR0cEVuZHBvaW50XCIpO1xuXG4vLyBzcmMvbGliL2ludGVncmF0aW9ucy9ub2RlLWV4cHJlc3MvaW5kZXgudHNcbmZ1bmN0aW9uIGNvcGlsb3RSdW50aW1lTm9kZUV4cHJlc3NFbmRwb2ludChvcHRpb25zKSB7XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5zZXRHbG9iYWxQcm9wZXJ0aWVzKHtcbiAgICBydW50aW1lOiB7XG4gICAgICBmcmFtZXdvcms6IFwibm9kZS1leHByZXNzXCJcbiAgICB9XG4gIH0pO1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuY2FwdHVyZShcIm9zcy5ydW50aW1lLmluc3RhbmNlX2NyZWF0ZWRcIiwgZ2V0UnVudGltZUluc3RhbmNlVGVsZW1ldHJ5SW5mbyhvcHRpb25zKSk7XG4gIHJldHVybiBjb3BpbG90UnVudGltZU5vZGVIdHRwRW5kcG9pbnQob3B0aW9ucyk7XG59XG5fX25hbWUoY29waWxvdFJ1bnRpbWVOb2RlRXhwcmVzc0VuZHBvaW50LCBcImNvcGlsb3RSdW50aW1lTm9kZUV4cHJlc3NFbmRwb2ludFwiKTtcblxuLy8gc3JjL2xpYi9pbnRlZ3JhdGlvbnMvbmVzdC9pbmRleC50c1xuZnVuY3Rpb24gY29waWxvdFJ1bnRpbWVOZXN0RW5kcG9pbnQob3B0aW9ucykge1xuICB0ZWxlbWV0cnlfY2xpZW50X2RlZmF1bHQuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgcnVudGltZToge1xuICAgICAgZnJhbWV3b3JrOiBcIm5lc3RcIlxuICAgIH1cbiAgfSk7XG4gIHRlbGVtZXRyeV9jbGllbnRfZGVmYXVsdC5jYXB0dXJlKFwib3NzLnJ1bnRpbWUuaW5zdGFuY2VfY3JlYXRlZFwiLCBnZXRSdW50aW1lSW5zdGFuY2VUZWxlbWV0cnlJbmZvKG9wdGlvbnMpKTtcbiAgcmV0dXJuIGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludChvcHRpb25zKTtcbn1cbl9fbmFtZShjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludCwgXCJjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludFwiKTtcblxuLy8gc3JjL2xpYi9ydW50aW1lL2xhbmdncmFwaC9sYW5nZ3JhcGgtYWdlbnQudHNcbnZhciBpbXBvcnRfY2xpZW50ID0gcmVxdWlyZShcIkBhZy11aS9jbGllbnRcIik7XG52YXIgaW1wb3J0X3J4anM2ID0gcmVxdWlyZShcInJ4anNcIik7XG52YXIgaW1wb3J0X2xhbmdncmFwaCA9IHJlcXVpcmUoXCJAYWctdWkvbGFuZ2dyYXBoXCIpO1xudmFyIEN1c3RvbUV2ZW50TmFtZXMyO1xuKGZ1bmN0aW9uKEN1c3RvbUV2ZW50TmFtZXMzKSB7XG4gIEN1c3RvbUV2ZW50TmFtZXMzW1wiQ29waWxvdEtpdE1hbnVhbGx5RW1pdE1lc3NhZ2VcIl0gPSBcImNvcGlsb3RraXRfbWFudWFsbHlfZW1pdF9tZXNzYWdlXCI7XG4gIEN1c3RvbUV2ZW50TmFtZXMzW1wiQ29waWxvdEtpdE1hbnVhbGx5RW1pdFRvb2xDYWxsXCJdID0gXCJjb3BpbG90a2l0X21hbnVhbGx5X2VtaXRfdG9vbF9jYWxsXCI7XG4gIEN1c3RvbUV2ZW50TmFtZXMzW1wiQ29waWxvdEtpdE1hbnVhbGx5RW1pdEludGVybWVkaWF0ZVN0YXRlXCJdID0gXCJjb3BpbG90a2l0X21hbnVhbGx5X2VtaXRfaW50ZXJtZWRpYXRlX3N0YXRlXCI7XG4gIEN1c3RvbUV2ZW50TmFtZXMzW1wiQ29waWxvdEtpdEV4aXRcIl0gPSBcImNvcGlsb3RraXRfZXhpdFwiO1xufSkoQ3VzdG9tRXZlbnROYW1lczIgfHwgKEN1c3RvbUV2ZW50TmFtZXMyID0ge30pKTtcbnZhciBMYW5nR3JhcGhBZ2VudCA9IGNsYXNzIGV4dGVuZHMgaW1wb3J0X2xhbmdncmFwaC5MYW5nR3JhcGhBZ2VudCB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZzIpIHtcbiAgICBzdXBlcihjb25maWcyKTtcbiAgfVxuICBkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IGltcG9ydF9jbGllbnQuRXZlbnRUeXBlLkNVU1RPTSkge1xuICAgICAgY29uc3QgY3VzdG9tRXZlbnQgPSBldmVudDtcbiAgICAgIGlmIChjdXN0b21FdmVudC5uYW1lID09PSBcImNvcGlsb3RraXRfbWFudWFsbHlfZW1pdF9tZXNzYWdlXCIpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyLm5leHQoe1xuICAgICAgICAgIHR5cGU6IGltcG9ydF9jbGllbnQuRXZlbnRUeXBlLlRFWFRfTUVTU0FHRV9TVEFSVCxcbiAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgIG1lc3NhZ2VJZDogY3VzdG9tRXZlbnQudmFsdWUubWVzc2FnZV9pZCxcbiAgICAgICAgICByYXdFdmVudDogZXZlbnRcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlci5uZXh0KHtcbiAgICAgICAgICB0eXBlOiBpbXBvcnRfY2xpZW50LkV2ZW50VHlwZS5URVhUX01FU1NBR0VfQ09OVEVOVCxcbiAgICAgICAgICBtZXNzYWdlSWQ6IGN1c3RvbUV2ZW50LnZhbHVlLm1lc3NhZ2VfaWQsXG4gICAgICAgICAgZGVsdGE6IGN1c3RvbUV2ZW50LnZhbHVlLm1lc3NhZ2UsXG4gICAgICAgICAgcmF3RXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN1YnNjcmliZXIubmV4dCh7XG4gICAgICAgICAgdHlwZTogaW1wb3J0X2NsaWVudC5FdmVudFR5cGUuVEVYVF9NRVNTQUdFX0VORCxcbiAgICAgICAgICBtZXNzYWdlSWQ6IGN1c3RvbUV2ZW50LnZhbHVlLm1lc3NhZ2VfaWQsXG4gICAgICAgICAgcmF3RXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXN0b21FdmVudC5uYW1lID09PSBcImNvcGlsb3RraXRfbWFudWFsbHlfZW1pdF90b29sX2NhbGxcIikge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXIubmV4dCh7XG4gICAgICAgICAgdHlwZTogaW1wb3J0X2NsaWVudC5FdmVudFR5cGUuVE9PTF9DQUxMX1NUQVJULFxuICAgICAgICAgIHRvb2xDYWxsSWQ6IGN1c3RvbUV2ZW50LnZhbHVlLmlkLFxuICAgICAgICAgIHRvb2xDYWxsTmFtZTogY3VzdG9tRXZlbnQudmFsdWUubmFtZSxcbiAgICAgICAgICBwYXJlbnRNZXNzYWdlSWQ6IGN1c3RvbUV2ZW50LnZhbHVlLmlkLFxuICAgICAgICAgIHJhd0V2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyLm5leHQoe1xuICAgICAgICAgIHR5cGU6IGltcG9ydF9jbGllbnQuRXZlbnRUeXBlLlRPT0xfQ0FMTF9BUkdTLFxuICAgICAgICAgIHRvb2xDYWxsSWQ6IGN1c3RvbUV2ZW50LnZhbHVlLmlkLFxuICAgICAgICAgIGRlbHRhOiBjdXN0b21FdmVudC52YWx1ZS5hcmdzLFxuICAgICAgICAgIHJhd0V2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyLm5leHQoe1xuICAgICAgICAgIHR5cGU6IGltcG9ydF9jbGllbnQuRXZlbnRUeXBlLlRPT0xfQ0FMTF9FTkQsXG4gICAgICAgICAgdG9vbENhbGxJZDogY3VzdG9tRXZlbnQudmFsdWUuaWQsXG4gICAgICAgICAgcmF3RXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXN0b21FdmVudC5uYW1lID09PSBcImNvcGlsb3RraXRfbWFudWFsbHlfZW1pdF9pbnRlcm1lZGlhdGVfc3RhdGVcIikge1xuICAgICAgICB0aGlzLmFjdGl2ZVJ1bi5tYW51YWxseUVtaXR0ZWRTdGF0ZSA9IGN1c3RvbUV2ZW50LnZhbHVlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICAgIHR5cGU6IGltcG9ydF9jbGllbnQuRXZlbnRUeXBlLlNUQVRFX1NOQVBTSE9ULFxuICAgICAgICAgIHNuYXBzaG90OiB0aGlzLmdldFN0YXRlU25hcHNob3Qoe1xuICAgICAgICAgICAgdmFsdWVzOiB0aGlzLmFjdGl2ZVJ1bi5tYW51YWxseUVtaXR0ZWRTdGF0ZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHJhd0V2ZW50OiBldmVudFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoY3VzdG9tRXZlbnQubmFtZSA9PT0gXCJjb3BpbG90a2l0X2V4aXRcIikge1xuICAgICAgICB0aGlzLnN1YnNjcmliZXIubmV4dCh7XG4gICAgICAgICAgdHlwZTogaW1wb3J0X2NsaWVudC5FdmVudFR5cGUuQ1VTVE9NLFxuICAgICAgICAgIG5hbWU6IFwiRXhpdFwiLFxuICAgICAgICAgIHZhbHVlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmF3RXZlbnQgPSBldmVudC5yYXdFdmVudDtcbiAgICBpZiAoIXJhd0V2ZW50KSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXIubmV4dChldmVudCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgaXNNZXNzYWdlRXZlbnQgPSBldmVudC50eXBlID09PSBpbXBvcnRfY2xpZW50LkV2ZW50VHlwZS5URVhUX01FU1NBR0VfU1RBUlQgfHwgZXZlbnQudHlwZSA9PT0gaW1wb3J0X2NsaWVudC5FdmVudFR5cGUuVEVYVF9NRVNTQUdFX0NPTlRFTlQgfHwgZXZlbnQudHlwZSA9PT0gaW1wb3J0X2NsaWVudC5FdmVudFR5cGUuVEVYVF9NRVNTQUdFX0VORDtcbiAgICBjb25zdCBpc1Rvb2xFdmVudCA9IGV2ZW50LnR5cGUgPT09IGltcG9ydF9jbGllbnQuRXZlbnRUeXBlLlRPT0xfQ0FMTF9TVEFSVCB8fCBldmVudC50eXBlID09PSBpbXBvcnRfY2xpZW50LkV2ZW50VHlwZS5UT09MX0NBTExfQVJHUyB8fCBldmVudC50eXBlID09PSBpbXBvcnRfY2xpZW50LkV2ZW50VHlwZS5UT09MX0NBTExfRU5EO1xuICAgIGlmIChcImNvcGlsb3RraXQ6ZW1pdC10b29sLWNhbGxzXCIgaW4gKHJhd0V2ZW50Lm1ldGFkYXRhIHx8IHt9KSkge1xuICAgICAgaWYgKHJhd0V2ZW50Lm1ldGFkYXRhW1wiY29waWxvdGtpdDplbWl0LXRvb2wtY2FsbHNcIl0gPT09IGZhbHNlICYmIGlzVG9vbEV2ZW50KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwiY29waWxvdGtpdDplbWl0LW1lc3NhZ2VzXCIgaW4gKHJhd0V2ZW50Lm1ldGFkYXRhIHx8IHt9KSkge1xuICAgICAgaWYgKHJhd0V2ZW50Lm1ldGFkYXRhW1wiY29waWxvdGtpdDplbWl0LW1lc3NhZ2VzXCJdID09PSBmYWxzZSAmJiBpc01lc3NhZ2VFdmVudCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3Vic2NyaWJlci5uZXh0KGV2ZW50KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICAvLyBAdHMtaWdub3JlXG4gIHJ1bihpbnB1dCkge1xuICAgIHJldHVybiBzdXBlci5ydW4oaW5wdXQpLnBpcGUoKDAsIGltcG9ydF9yeGpzNi5tYXApKChwcm9jZXNzZWRFdmVudCkgPT4ge1xuICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgIGlmIChwcm9jZXNzZWRFdmVudC50eXBlID09PSBpbXBvcnRfY2xpZW50LkV2ZW50VHlwZS5SQVcpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBwcm9jZXNzZWRFdmVudC5ldmVudCA/PyBwcm9jZXNzZWRFdmVudC5yYXdFdmVudDtcbiAgICAgICAgY29uc3QgZXZlbnRUeXBlID0gZXZlbnQuZXZlbnQ7XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsRGF0YSA9IChfYyA9IChfYiA9IChfYSA9IGV2ZW50LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jaHVuaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRvb2xfY2FsbF9jaHVua3MpID09IG51bGwgPyB2b2lkIDAgOiBfY1swXTtcbiAgICAgICAgY29uc3QgdG9vbENhbGxVc2VkVG9QcmVkaWN0U3RhdGUgPSAoX2UgPSAoX2QgPSBldmVudC5tZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kW1wiY29waWxvdGtpdDplbWl0LWludGVybWVkaWF0ZS1zdGF0ZVwiXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnNvbWUoKHByZWRpY3RTdGF0ZVRvb2wpID0+IHByZWRpY3RTdGF0ZVRvb2wudG9vbCA9PT0gKHRvb2xDYWxsRGF0YSA9PSBudWxsID8gdm9pZCAwIDogdG9vbENhbGxEYXRhLm5hbWUpKTtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gTGFuZ0dyYXBoRXZlbnRUeXBlcy5PbkNoYXRNb2RlbFN0cmVhbSAmJiB0b29sQ2FsbFVzZWRUb1ByZWRpY3RTdGF0ZSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBpbXBvcnRfY2xpZW50LkV2ZW50VHlwZS5DVVNUT00sXG4gICAgICAgICAgICBuYW1lOiBcIlByZWRpY3RTdGF0ZVwiLFxuICAgICAgICAgICAgdmFsdWU6IGV2ZW50Lm1ldGFkYXRhW1wiY29waWxvdGtpdDplbWl0LWludGVybWVkaWF0ZS1zdGF0ZVwiXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9jZXNzZWRFdmVudDtcbiAgICB9KSk7XG4gIH1cbiAgbGFuZ0dyYXBoRGVmYXVsdE1lcmdlU3RhdGUoc3RhdGUsIG1lc3NhZ2VzLCB0b29scykge1xuICAgIGNvbnN0IHsgdG9vbHM6IHJldHVybmVkVG9vbHMsIC4uLnJlc3QgfSA9IHN1cGVyLmxhbmdHcmFwaERlZmF1bHRNZXJnZVN0YXRlKHN0YXRlLCBtZXNzYWdlcywgdG9vbHMpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXN0LFxuICAgICAgY29waWxvdGtpdDoge1xuICAgICAgICBhY3Rpb25zOiByZXR1cm5lZFRvb2xzXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICBhc3luYyBnZXRTY2hlbWFLZXlzKCkge1xuICAgIGNvbnN0IENPTlNUQU5UX0tFWVMgPSBbXG4gICAgICBcImNvcGlsb3RraXRcIlxuICAgIF07XG4gICAgY29uc3Qgc2NoZW1hS2V5cyA9IGF3YWl0IHN1cGVyLmdldFNjaGVtYUtleXMoKTtcbiAgICByZXR1cm4ge1xuICAgICAgY29uZmlnOiBzY2hlbWFLZXlzLmNvbmZpZyxcbiAgICAgIGlucHV0OiBzY2hlbWFLZXlzLmlucHV0ID8gW1xuICAgICAgICAuLi5zY2hlbWFLZXlzLmlucHV0LFxuICAgICAgICAuLi5DT05TVEFOVF9LRVlTXG4gICAgICBdIDogbnVsbCxcbiAgICAgIG91dHB1dDogc2NoZW1hS2V5cy5vdXRwdXQgPyBbXG4gICAgICAgIC4uLnNjaGVtYUtleXMub3V0cHV0LFxuICAgICAgICAuLi5DT05TVEFOVF9LRVlTXG4gICAgICBdIDogbnVsbFxuICAgIH07XG4gIH1cbn07XG5fX25hbWUoTGFuZ0dyYXBoQWdlbnQsIFwiTGFuZ0dyYXBoQWdlbnRcIik7XG4vLyBBbm5vdGF0ZSB0aGUgQ29tbW9uSlMgZXhwb3J0IG5hbWVzIGZvciBFU00gaW1wb3J0IGluIG5vZGU6XG4wICYmIChtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQW50aHJvcGljQWRhcHRlcixcbiAgQmVkcm9ja0FkYXB0ZXIsXG4gIENvcGlsb3RSdW50aW1lLFxuICBDdXN0b21FdmVudE5hbWVzLFxuICBFbXB0eUFkYXB0ZXIsXG4gIEV4cGVyaW1lbnRhbEVtcHR5QWRhcHRlcixcbiAgRXhwZXJpbWVudGFsT2xsYW1hQWRhcHRlcixcbiAgR29vZ2xlR2VuZXJhdGl2ZUFJQWRhcHRlcixcbiAgR3JvcUFkYXB0ZXIsXG4gIEd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbHVyZVJlc3BvbnNlLFxuICBMYW5nQ2hhaW5BZGFwdGVyLFxuICBMYW5nR3JhcGhBZ2VudCxcbiAgTGFuZ0dyYXBoSHR0cEFnZW50LFxuICBNZXNzYWdlU3RyZWFtSW50ZXJydXB0ZWRSZXNwb25zZSxcbiAgT3BlbkFJQWRhcHRlcixcbiAgT3BlbkFJQXNzaXN0YW50QWRhcHRlcixcbiAgUmVtb3RlQ2hhaW4sXG4gIFVuaWZ5QWRhcHRlcixcbiAgVW5rbm93bkVycm9yUmVzcG9uc2UsXG4gIGFkZEN1c3RvbUhlYWRlclBsdWdpbixcbiAgYnVpbGRTY2hlbWEsXG4gIGNvbmZpZyxcbiAgY29udmVydE1DUFRvb2xzVG9BY3Rpb25zLFxuICBjb252ZXJ0U2VydmljZUFkYXB0ZXJFcnJvcixcbiAgY29waWxvdEtpdEVuZHBvaW50LFxuICBjb3BpbG90UnVudGltZU5lc3RFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOZXh0SlNBcHBSb3V0ZXJFbmRwb2ludCxcbiAgY29waWxvdFJ1bnRpbWVOZXh0SlNQYWdlc1JvdXRlckVuZHBvaW50LFxuICBjb3BpbG90UnVudGltZU5vZGVFeHByZXNzRW5kcG9pbnQsXG4gIGNvcGlsb3RSdW50aW1lTm9kZUh0dHBFbmRwb2ludCxcbiAgY3JlYXRlQ29udGV4dCxcbiAgY3JlYXRlTG9nZ2VyLFxuICBleHRyYWN0UGFyYW1ldGVyc0Zyb21TY2hlbWEsXG4gIGZsYXR0ZW5Ub29sQ2FsbHNOb0R1cGxpY2F0ZXMsXG4gIGdlbmVyYXRlTWNwVG9vbEluc3RydWN0aW9ucyxcbiAgZ2V0Q29tbW9uQ29uZmlnLFxuICBsYW5nR3JhcGhQbGF0Zm9ybUVuZHBvaW50LFxuICByZXNvbHZlRW5kcG9pbnRUeXBlXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/runtime/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/client/dist/index.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime/node_modules/@ag-ui/client/dist/index.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AGUIError: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError),\n/* harmony export */   AbstractAgent: () => (/* binding */ G),\n/* harmony export */   AssistantMessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AssistantMessageSchema),\n/* harmony export */   BaseEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.BaseEventSchema),\n/* harmony export */   BaseMessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.BaseMessageSchema),\n/* harmony export */   ContextSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ContextSchema),\n/* harmony export */   CustomEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.CustomEventSchema),\n/* harmony export */   DeveloperMessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.DeveloperMessageSchema),\n/* harmony export */   EventSchemas: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventSchemas),\n/* harmony export */   EventType: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType),\n/* harmony export */   FunctionCallSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.FunctionCallSchema),\n/* harmony export */   HttpAgent: () => (/* binding */ W),\n/* harmony export */   MessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.MessageSchema),\n/* harmony export */   MessagesSnapshotEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.MessagesSnapshotEventSchema),\n/* harmony export */   RawEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.RawEventSchema),\n/* harmony export */   RoleSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.RoleSchema),\n/* harmony export */   RunAgentInputSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.RunAgentInputSchema),\n/* harmony export */   RunErrorEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.RunErrorEventSchema),\n/* harmony export */   RunFinishedEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.RunFinishedEventSchema),\n/* harmony export */   RunStartedEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.RunStartedEventSchema),\n/* harmony export */   StateDeltaEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.StateDeltaEventSchema),\n/* harmony export */   StateSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.StateSchema),\n/* harmony export */   StateSnapshotEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.StateSnapshotEventSchema),\n/* harmony export */   StepFinishedEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.StepFinishedEventSchema),\n/* harmony export */   StepStartedEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.StepStartedEventSchema),\n/* harmony export */   SystemMessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.SystemMessageSchema),\n/* harmony export */   TextMessageChunkEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.TextMessageChunkEventSchema),\n/* harmony export */   TextMessageContentEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.TextMessageContentEventSchema),\n/* harmony export */   TextMessageEndEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.TextMessageEndEventSchema),\n/* harmony export */   TextMessageStartEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.TextMessageStartEventSchema),\n/* harmony export */   ThinkingEndEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ThinkingEndEventSchema),\n/* harmony export */   ThinkingStartEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ThinkingStartEventSchema),\n/* harmony export */   ThinkingTextMessageContentEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ThinkingTextMessageContentEventSchema),\n/* harmony export */   ThinkingTextMessageEndEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ThinkingTextMessageEndEventSchema),\n/* harmony export */   ThinkingTextMessageStartEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ThinkingTextMessageStartEventSchema),\n/* harmony export */   ToolCallArgsEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolCallArgsEventSchema),\n/* harmony export */   ToolCallChunkEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolCallChunkEventSchema),\n/* harmony export */   ToolCallEndEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolCallEndEventSchema),\n/* harmony export */   ToolCallResultEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolCallResultEventSchema),\n/* harmony export */   ToolCallSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolCallSchema),\n/* harmony export */   ToolCallStartEventSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolCallStartEventSchema),\n/* harmony export */   ToolMessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolMessageSchema),\n/* harmony export */   ToolSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.ToolSchema),\n/* harmony export */   UserMessageSchema: () => (/* reexport safe */ _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.UserMessageSchema),\n/* harmony export */   convertToLegacyEvents: () => (/* binding */ $),\n/* harmony export */   defaultApplyEvents: () => (/* binding */ k),\n/* harmony export */   parseProtoStream: () => (/* binding */ j),\n/* harmony export */   parseSSEStream: () => (/* binding */ B),\n/* harmony export */   runHttpRequest: () => (/* binding */ z),\n/* harmony export */   transformHttpEventStream: () => (/* binding */ J),\n/* harmony export */   verifyEvents: () => (/* binding */ U)\n/* harmony export */ });\n/* harmony import */ var _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ag-ui/core */ \"(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/core/dist/index.mjs\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/empty.js\");\n/* harmony import */ var fast_json_patch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fast-json-patch */ \"(rsc)/./node_modules/fast-json-patch/index.mjs\");\n/* harmony import */ var untruncate_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! untruncate-json */ \"(rsc)/./node_modules/untruncate-json/dist/esm/index.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/throwError.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/Subject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/defer.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _ag_ui_proto__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @ag-ui/proto */ \"(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/proto/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/uuid/dist/esm/v4.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/util/pipe.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/operators/mergeMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/operators/finalize.js\");\nvar ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var V=(u,o,n)=>o in u?ee(u,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[o]=n,L=(u,o)=>{for(var n in o||(o={}))ae.call(o,n)&&V(u,n,o[n]);if(b)for(var n of b(o))se.call(o,n)&&V(u,n,o[n]);return u},H=(u,o)=>te(u,ne(o));var C=u=>{if(typeof structuredClone==\"function\")return structuredClone(u);try{return JSON.parse(JSON.stringify(u))}catch(o){return L({},u)}};async function h(u,o,n,a){let e=o,s=n,g;for(let r of u)try{let l=await a(r,C(e),C(s));if(l===void 0)continue;if(l.messages!==void 0&&(e=l.messages),l.state!==void 0&&(s=l.state),g=l.stopPropagation,g===!0)break}catch(l){ false||process.env.JEST_WORKER_ID!==void 0||console.error(\"Subscriber error:\",l);continue}return L(L(L({},JSON.stringify(e)!==JSON.stringify(o)?{messages:e}:{}),JSON.stringify(s)!==JSON.stringify(n)?{state:s}:{}),g!==void 0?{stopPropagation:g}:{})}var k=(u,o,n,a)=>{let e=C(u.messages),s=C(u.state),g={},r=E=>{E.messages!==void 0&&(e=E.messages,g.messages=E.messages),E.state!==void 0&&(s=E.state,g.state=E.state)},l=()=>{let E=C(g);return g={},E.messages!==void 0||E.state!==void 0?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(E):rxjs__WEBPACK_IMPORTED_MODULE_3__.EMPTY};return o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.concatMap)(async E=>{var d;let M=await h(a,e,s,(i,t,S)=>{var m;return(m=i.onEvent)==null?void 0:m.call(i,{event:E,agent:n,input:u,messages:t,state:S})});if(r(M),M.stopPropagation===!0)return l();switch(E.type){case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_START:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onTextMessageStartEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});if(r(i),i.stopPropagation!==!0){let{messageId:t,role:S=\"assistant\"}=E,m={id:t,role:S,content:\"\"};e.push(m),r({messages:e})}return l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CONTENT:{let{messageId:i,delta:t}=E,S=e.find(c=>c.id===i);if(!S)return console.warn(`TEXT_MESSAGE_CONTENT: No message found with ID '${i}'`),l();let m=await h(a,e,s,(c,T,x)=>{var O,P;return(P=c.onTextMessageContentEvent)==null?void 0:P.call(c,{event:E,messages:T,state:x,agent:n,input:u,textMessageBuffer:(O=S.content)!=null?O:\"\"})});return r(m),m.stopPropagation!==!0&&(S.content=(S.content||\"\")+t,r({messages:e})),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_END:{let{messageId:i}=E,t=e.find(m=>m.id===i);if(!t)return console.warn(`TEXT_MESSAGE_END: No message found with ID '${i}'`),l();let S=await h(a,e,s,(m,c,T)=>{var x,O;return(O=m.onTextMessageEndEvent)==null?void 0:O.call(m,{event:E,messages:c,state:T,agent:n,input:u,textMessageBuffer:(x=t.content)!=null?x:\"\"})});return r(S),await Promise.all(a.map(m=>{var c;(c=m.onNewMessage)==null||c.call(m,{message:t,messages:e,state:s,agent:n,input:u})})),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_START:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onToolCallStartEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});if(r(i),i.stopPropagation!==!0){let{toolCallId:t,toolCallName:S,parentMessageId:m}=E,c;m&&e.length>0&&e[e.length-1].id===m?c=e[e.length-1]:(c={id:m||t,role:\"assistant\",toolCalls:[]},e.push(c)),(d=c.toolCalls)!=null||(c.toolCalls=[]),c.toolCalls.push({id:t,type:\"function\",function:{name:S,arguments:\"\"}}),r({messages:e})}return l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_ARGS:{let{toolCallId:i,delta:t}=E,S=e.find(T=>{var x;return(x=T.toolCalls)==null?void 0:x.some(O=>O.id===i)});if(!S)return console.warn(`TOOL_CALL_ARGS: No message found containing tool call with ID '${i}'`),l();let m=S.toolCalls.find(T=>T.id===i);if(!m)return console.warn(`TOOL_CALL_ARGS: No tool call found with ID '${i}'`),l();let c=await h(a,e,s,(T,x,O)=>{var K;let P=m.function.arguments,F=m.function.name,D={};try{D=(0,untruncate_json__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(P)}catch(qe){}return(K=T.onToolCallArgsEvent)==null?void 0:K.call(T,{event:E,messages:x,state:O,agent:n,input:u,toolCallBuffer:P,toolCallName:F,partialToolCallArgs:D})});return r(c),c.stopPropagation!==!0&&(m.function.arguments+=t,r({messages:e})),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_END:{let{toolCallId:i}=E,t=e.find(c=>{var T;return(T=c.toolCalls)==null?void 0:T.some(x=>x.id===i)});if(!t)return console.warn(`TOOL_CALL_END: No message found containing tool call with ID '${i}'`),l();let S=t.toolCalls.find(c=>c.id===i);if(!S)return console.warn(`TOOL_CALL_END: No tool call found with ID '${i}'`),l();let m=await h(a,e,s,(c,T,x)=>{var D;let O=S.function.arguments,P=S.function.name,F={};try{F=JSON.parse(O)}catch(K){}return(D=c.onToolCallEndEvent)==null?void 0:D.call(c,{event:E,messages:T,state:x,agent:n,input:u,toolCallName:P,toolCallArgs:F})});return r(m),await Promise.all(a.map(c=>{var T;(T=c.onNewToolCall)==null||T.call(c,{toolCall:S,messages:e,state:s,agent:n,input:u})})),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_RESULT:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onToolCallResultEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});if(r(i),i.stopPropagation!==!0){let{messageId:t,toolCallId:S,content:m,role:c}=E,T={id:t,toolCallId:S,role:c||\"tool\",content:m};e.push(T),await Promise.all(a.map(x=>{var O;(O=x.onNewMessage)==null||O.call(x,{message:T,messages:e,state:s,agent:n,input:u})})),r({messages:e})}return l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_SNAPSHOT:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onStateSnapshotEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});if(r(i),i.stopPropagation!==!0){let{snapshot:t}=E;s=t,r({state:s})}return l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_DELTA:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onStateDeltaEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});if(r(i),i.stopPropagation!==!0){let{delta:t}=E;try{s=(0,fast_json_patch__WEBPACK_IMPORTED_MODULE_1__.applyPatch)(s,t,!0,!1).newDocument,r({state:s})}catch(S){let m=S instanceof Error?S.message:String(S);console.warn(`Failed to apply state patch:\nCurrent state: ${JSON.stringify(s,null,2)}\nPatch operations: ${JSON.stringify(t,null,2)}\nError: ${m}`)}}return l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.MESSAGES_SNAPSHOT:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onMessagesSnapshotEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});if(r(i),i.stopPropagation!==!0){let{messages:t}=E;e=t,r({messages:e})}return l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RAW:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onRawEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.CUSTOM:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onCustomEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onRunStartedEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_FINISHED:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onRunFinishedEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u,result:E.result})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_ERROR:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onRunErrorEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_STARTED:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onStepStartedEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_FINISHED:{let i=await h(a,e,s,(t,S,m)=>{var c;return(c=t.onStepFinishedEvent)==null?void 0:c.call(t,{event:E,messages:S,state:m,agent:n,input:u})});return r(i),l()}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CHUNK:throw new Error(\"TEXT_MESSAGE_CHUNK must be tranformed before being applied\");case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_CHUNK:throw new Error(\"TOOL_CALL_CHUNK must be tranformed before being applied\");case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_START:return l();case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_END:return l();case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_START:return l();case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_CONTENT:return l();case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_END:return l()}let w=E.type;return l()}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.mergeAll)(),a.length>0?(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.defaultIfEmpty)({}):E=>E)};var U=u=>o=>{let n=new Map,a=new Map,e=!1,s=!1,g=!1,r=new Map,l=!1,E=!1,M=!1,w=()=>{n.clear(),a.clear(),r.clear(),l=!1,E=!1,e=!1,s=!1,M=!0};return o.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.mergeMap)(d=>{let i=d.type;if(u&&console.debug(\"[VERIFY]:\",JSON.stringify(d)),s)return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send event type '${i}': The run has already errored with 'RUN_ERROR'. No further events can be sent.`));if(e&&i!==_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_ERROR&&i!==_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED)return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send event type '${i}': The run has already finished with 'RUN_FINISHED'. Start a new run with 'RUN_STARTED'.`));if(g){if(i===_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED){if(M&&!e)return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'RUN_STARTED' while a run is still active. The previous run must be finished with 'RUN_FINISHED' before starting a new run.\"));e&&w()}}else if(g=!0,i!==_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED&&i!==_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_ERROR)return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"First event must be 'RUN_STARTED'\"));switch(i){case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_START:{let t=d.messageId;return n.has(t)?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'TEXT_MESSAGE_START' event: A text message with ID '${t}' is already in progress. Complete it with 'TEXT_MESSAGE_END' first.`)):(n.set(t,!0),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CONTENT:{let t=d.messageId;return n.has(t)?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'TEXT_MESSAGE_CONTENT' event: No active text message found with ID '${t}'. Start a text message with 'TEXT_MESSAGE_START' first.`))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_END:{let t=d.messageId;return n.has(t)?(n.delete(t),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'TEXT_MESSAGE_END' event: No active text message found with ID '${t}'. A 'TEXT_MESSAGE_START' event must be sent first.`))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_START:{let t=d.toolCallId;return a.has(t)?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'TOOL_CALL_START' event: A tool call with ID '${t}' is already in progress. Complete it with 'TOOL_CALL_END' first.`)):(a.set(t,!0),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_ARGS:{let t=d.toolCallId;return a.has(t)?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'TOOL_CALL_ARGS' event: No active tool call found with ID '${t}'. Start a tool call with 'TOOL_CALL_START' first.`))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_END:{let t=d.toolCallId;return a.has(t)?(a.delete(t),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'TOOL_CALL_END' event: No active tool call found with ID '${t}'. A 'TOOL_CALL_START' event must be sent first.`))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_STARTED:{let t=d.stepName;return r.has(t)?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Step \"${t}\" is already active for 'STEP_STARTED'`)):(r.set(t,!0),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_FINISHED:{let t=d.stepName;return r.has(t)?(r.delete(t),(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'STEP_FINISHED' for step \"${t}\" that was not started`))}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED:return M=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d);case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_FINISHED:{if(r.size>0){let t=Array.from(r.keys()).join(\", \");return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'RUN_FINISHED' while steps are still active: ${t}`))}if(n.size>0){let t=Array.from(n.keys()).join(\", \");return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'RUN_FINISHED' while text messages are still active: ${t}`))}if(a.size>0){let t=Array.from(a.keys()).join(\", \");return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(`Cannot send 'RUN_FINISHED' while tool calls are still active: ${t}`))}return e=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_ERROR:return s=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d);case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.CUSTOM:return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d);case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_START:return l?E?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'THINKING_TEXT_MESSAGE_START' event: A thinking message is already in progress. Complete it with 'THINKING_TEXT_MESSAGE_END' first.\")):(E=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'THINKING_TEXT_MESSAGE_START' event: A thinking step is not in progress. Create one with 'THINKING_START' first.\"));case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_CONTENT:return E?(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'THINKING_TEXT_MESSAGE_CONTENT' event: No active thinking message found. Start a message with 'THINKING_TEXT_MESSAGE_START' first.\"));case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_END:return E?(E=!1,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'THINKING_TEXT_MESSAGE_END' event: No active thinking message found. A 'THINKING_TEXT_MESSAGE_START' event must be sent first.\"));case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_START:return l?(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'THINKING_START' event: A thinking step is already in progress. End it with 'THINKING_END' first.\")):(l=!0,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d));case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_END:return l?(l=!1,(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.AGUIError(\"Cannot send 'THINKING_END' event: No active thinking step found. A 'THINKING_START' event must be sent first.\"));default:return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(d)}}))};var z=(u,o)=>(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.defer)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.from)(fetch(u,o))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.switchMap)(n=>{var s;let a={type:\"headers\",status:n.status,headers:n.headers},e=(s=n.body)==null?void 0:s.getReader();return e?new rxjs__WEBPACK_IMPORTED_MODULE_9__.Observable(g=>(g.next(a),(async()=>{try{for(;;){let{done:r,value:l}=await e.read();if(r)break;let E={type:\"data\",data:l};g.next(E)}g.complete()}catch(r){g.error(r)}})(),()=>{e.cancel()})):(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.throwError)(()=>new Error(\"Failed to getReader() from response\"))}));var B=u=>{let o=new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject,n=new TextDecoder(\"utf-8\",{fatal:!1}),a=\"\";u.subscribe({next:s=>{if(s.type!==\"headers\"&&s.type===\"data\"&&s.data){let g=n.decode(s.data,{stream:!0});a+=g;let r=a.split(/\\n\\n/);a=r.pop()||\"\";for(let l of r)e(l)}},error:s=>o.error(s),complete:()=>{a&&(a+=n.decode(),e(a)),o.complete()}});function e(s){let g=s.split(`\n`),r=[];for(let l of g)l.startsWith(\"data: \")&&r.push(l.slice(6));if(r.length>0)try{let l=r.join(`\n`),E=JSON.parse(l);o.next(E)}catch(l){o.error(l)}}return o.asObservable()};var j=u=>{let o=new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject,n=new Uint8Array(0);u.subscribe({next:e=>{if(e.type!==\"headers\"&&e.type===\"data\"&&e.data){let s=new Uint8Array(n.length+e.data.length);s.set(n,0),s.set(e.data,n.length),n=s,a()}},error:e=>o.error(e),complete:()=>{if(n.length>0)try{a()}catch(e){console.warn(\"Incomplete or invalid protocol buffer data at stream end\")}o.complete()}});function a(){for(;n.length>=4;){let g=4+new DataView(n.buffer,n.byteOffset,4).getUint32(0,!1);if(n.length<g)break;try{let r=n.slice(4,g),l=_ag_ui_proto__WEBPACK_IMPORTED_MODULE_11__.decode(r);o.next(l),n=n.slice(g)}catch(r){let l=r instanceof Error?r.message:String(r);o.error(new Error(`Failed to decode protocol buffer message: ${l}`));return}}}return o.asObservable()};var J=u=>{let o=new rxjs__WEBPACK_IMPORTED_MODULE_10__.Subject,n=new rxjs__WEBPACK_IMPORTED_MODULE_12__.ReplaySubject,a=!1;return u.subscribe({next:e=>{n.next(e),e.type===\"headers\"&&!a?(a=!0,e.headers.get(\"content-type\")===_ag_ui_proto__WEBPACK_IMPORTED_MODULE_11__.AGUI_MEDIA_TYPE?j(n).subscribe({next:g=>o.next(g),error:g=>o.error(g),complete:()=>o.complete()}):B(n).subscribe({next:g=>{try{let r=_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventSchemas.parse(g);o.next(r)}catch(r){o.error(r)}},error:g=>o.error(g),complete:()=>o.complete()})):a||o.error(new Error(\"No headers event received before data events\"))},error:e=>{n.error(e),o.error(e)},complete:()=>{n.complete()}}),o.asObservable()};var A=zod__WEBPACK_IMPORTED_MODULE_13__[\"enum\"]([\"TextMessageStart\",\"TextMessageContent\",\"TextMessageEnd\",\"ActionExecutionStart\",\"ActionExecutionArgs\",\"ActionExecutionEnd\",\"ActionExecutionResult\",\"AgentStateMessage\",\"MetaEvent\",\"RunStarted\",\"RunFinished\",\"RunError\",\"NodeStarted\",\"NodeFinished\"]),ye=zod__WEBPACK_IMPORTED_MODULE_13__[\"enum\"]([\"LangGraphInterruptEvent\",\"PredictState\",\"Exit\"]),Ce=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.TextMessageStart),messageId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),parentMessageId:zod__WEBPACK_IMPORTED_MODULE_13__.string().optional(),role:zod__WEBPACK_IMPORTED_MODULE_13__.string().optional()}),Re=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.TextMessageContent),messageId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),content:zod__WEBPACK_IMPORTED_MODULE_13__.string()}),_e=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.TextMessageEnd),messageId:zod__WEBPACK_IMPORTED_MODULE_13__.string()}),Ne=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.ActionExecutionStart),actionExecutionId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),actionName:zod__WEBPACK_IMPORTED_MODULE_13__.string(),parentMessageId:zod__WEBPACK_IMPORTED_MODULE_13__.string().optional()}),xe=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.ActionExecutionArgs),actionExecutionId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),args:zod__WEBPACK_IMPORTED_MODULE_13__.string()}),Ie=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.ActionExecutionEnd),actionExecutionId:zod__WEBPACK_IMPORTED_MODULE_13__.string()}),Le=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.ActionExecutionResult),actionName:zod__WEBPACK_IMPORTED_MODULE_13__.string(),actionExecutionId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),result:zod__WEBPACK_IMPORTED_MODULE_13__.string()}),Oe=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.AgentStateMessage),threadId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),agentName:zod__WEBPACK_IMPORTED_MODULE_13__.string(),nodeName:zod__WEBPACK_IMPORTED_MODULE_13__.string(),runId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),active:zod__WEBPACK_IMPORTED_MODULE_13__.boolean(),role:zod__WEBPACK_IMPORTED_MODULE_13__.string(),state:zod__WEBPACK_IMPORTED_MODULE_13__.string(),running:zod__WEBPACK_IMPORTED_MODULE_13__.boolean()}),we=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.MetaEvent),name:ye,value:zod__WEBPACK_IMPORTED_MODULE_13__.any()}),Pe=zod__WEBPACK_IMPORTED_MODULE_13__.object({type:zod__WEBPACK_IMPORTED_MODULE_13__.literal(A.enum.RunError),message:zod__WEBPACK_IMPORTED_MODULE_13__.string(),code:zod__WEBPACK_IMPORTED_MODULE_13__.string().optional()}),dn=zod__WEBPACK_IMPORTED_MODULE_13__.discriminatedUnion(\"type\",[Ce,Re,_e,Ne,xe,Ie,Le,Oe,we,Pe]),fn=zod__WEBPACK_IMPORTED_MODULE_13__.object({id:zod__WEBPACK_IMPORTED_MODULE_13__.string(),role:zod__WEBPACK_IMPORTED_MODULE_13__.string(),content:zod__WEBPACK_IMPORTED_MODULE_13__.string(),parentMessageId:zod__WEBPACK_IMPORTED_MODULE_13__.string().optional()}),Tn=zod__WEBPACK_IMPORTED_MODULE_13__.object({id:zod__WEBPACK_IMPORTED_MODULE_13__.string(),name:zod__WEBPACK_IMPORTED_MODULE_13__.string(),arguments:zod__WEBPACK_IMPORTED_MODULE_13__.any(),parentMessageId:zod__WEBPACK_IMPORTED_MODULE_13__.string().optional()}),An=zod__WEBPACK_IMPORTED_MODULE_13__.object({id:zod__WEBPACK_IMPORTED_MODULE_13__.string(),result:zod__WEBPACK_IMPORTED_MODULE_13__.any(),actionExecutionId:zod__WEBPACK_IMPORTED_MODULE_13__.string(),actionName:zod__WEBPACK_IMPORTED_MODULE_13__.string()});var $=(u,o,n)=>a=>{let e={},s=!0,g=!0,r=\"\",l=null,E=null,M=[],w={},d=i=>{typeof i==\"object\"&&i!==null&&(\"messages\"in i&&delete i.messages,e=i)};return a.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.mergeMap)(i=>{switch(i.type){case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_START:{let t=i;return[{type:A.enum.TextMessageStart,messageId:t.messageId,role:t.role}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CONTENT:{let t=i;return[{type:A.enum.TextMessageContent,messageId:t.messageId,content:t.delta}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_END:{let t=i;return[{type:A.enum.TextMessageEnd,messageId:t.messageId}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_START:{let t=i;return M.push({id:t.toolCallId,type:\"function\",function:{name:t.toolCallName,arguments:\"\"}}),g=!0,w[t.toolCallId]=t.toolCallName,[{type:A.enum.ActionExecutionStart,actionExecutionId:t.toolCallId,actionName:t.toolCallName,parentMessageId:t.parentMessageId}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_ARGS:{let t=i,S=M.find(c=>c.id===t.toolCallId);if(!S)return console.warn(`TOOL_CALL_ARGS: No tool call found with ID '${t.toolCallId}'`),[];S.function.arguments+=t.delta;let m=!1;if(E){let c=E.find(T=>T.tool==S.function.name);if(c)try{let T=JSON.parse((0,untruncate_json__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(S.function.arguments));c.tool_argument&&c.tool_argument in T?(d(H(L({},e),{[c.state_key]:T[c.tool_argument]})),m=!0):c.tool_argument||(d(H(L({},e),{[c.state_key]:T})),m=!0)}catch(T){}}return[{type:A.enum.ActionExecutionArgs,actionExecutionId:t.toolCallId,args:t.delta},...m?[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(e),active:g}]:[]]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_END:{let t=i;return[{type:A.enum.ActionExecutionEnd,actionExecutionId:t.toolCallId}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_RESULT:{let t=i;return[{type:A.enum.ActionExecutionResult,actionExecutionId:t.toolCallId,result:t.content,actionName:w[t.toolCallId]||\"unknown\"}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RAW:return[];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.CUSTOM:{let t=i;switch(t.name){case\"Exit\":s=!1;break;case\"PredictState\":E=t.value;break}return[{type:A.enum.MetaEvent,name:t.name,value:t.value}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_SNAPSHOT:return d(i.snapshot),[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(e),active:g}];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_DELTA:{let S=(0,fast_json_patch__WEBPACK_IMPORTED_MODULE_1__.applyPatch)(e,i.delta,!0,!1);return S?(d(S.newDocument),[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(e),active:g}]):[]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.MESSAGES_SNAPSHOT:return l=i.messages,[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(L(L({},e),l?{messages:l}:{})),active:!0}];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED:return[];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_FINISHED:return l&&(e.messages=l),[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(L(L({},e),l?{messages:Fe(l)}:{})),active:!1}];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_ERROR:{let t=i;return[{type:A.enum.RunError,message:t.message,code:t.code}]}case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_STARTED:return r=i.stepName,M=[],E=null,[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(e),active:!0}];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_FINISHED:return M=[],E=null,[{type:A.enum.AgentStateMessage,threadId:u,agentName:n,nodeName:r,runId:o,running:s,role:\"assistant\",state:JSON.stringify(e),active:!1}];default:return[]}}))};function Fe(u){var n;let o=[];for(let a of u)if(a.role===\"assistant\"||a.role===\"user\"||a.role===\"system\"){if(a.content){let e={id:a.id,role:a.role,content:a.content};o.push(e)}if(a.role===\"assistant\"&&a.toolCalls&&a.toolCalls.length>0)for(let e of a.toolCalls){let s={id:e.id,name:e.function.name,arguments:JSON.parse(e.function.arguments),parentMessageId:a.id};o.push(s)}}else if(a.role===\"tool\"){let e=\"unknown\";for(let g of u)if(g.role===\"assistant\"&&((n=g.toolCalls)!=null&&n.length)){for(let r of g.toolCalls)if(r.id===a.toolCallId){e=r.function.name;break}}let s={id:a.id,result:a.content,actionExecutionId:a.toolCallId,actionName:e};o.push(s)}return o}var q=u=>o=>{let n,a,e,s=()=>{if(!n||e!==\"text\")throw new Error(\"No text message to close\");let l={type:_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_END,messageId:n.messageId};return e=void 0,n=void 0,u&&console.debug(\"[TRANSFORM]: TEXT_MESSAGE_END\",JSON.stringify(l)),l},g=()=>{if(!a||e!==\"tool\")throw new Error(\"No tool call to close\");let l={type:_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_END,toolCallId:a.toolCallId};return e=void 0,a=void 0,u&&console.debug(\"[TRANSFORM]: TOOL_CALL_END\",JSON.stringify(l)),l},r=()=>e===\"text\"?[s()]:e===\"tool\"?[g()]:[];return o.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_14__.mergeMap)(l=>{switch(l.type){case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_START:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CONTENT:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_END:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_START:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_ARGS:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_END:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_RESULT:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_SNAPSHOT:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_DELTA:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.MESSAGES_SNAPSHOT:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.CUSTOM:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_STARTED:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_FINISHED:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RUN_ERROR:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_STARTED:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STEP_FINISHED:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_START:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_END:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_START:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_CONTENT:case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.THINKING_TEXT_MESSAGE_END:return[...r(),l];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.RAW:return[l];case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CHUNK:let M=l,w=[];if((e!==\"text\"||M.messageId!==void 0&&M.messageId!==(n==null?void 0:n.messageId))&&w.push(...r()),e!==\"text\"){if(M.messageId===void 0)throw new Error(\"First TEXT_MESSAGE_CHUNK must have a messageId\");n={messageId:M.messageId},e=\"text\";let t={type:_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_START,messageId:M.messageId,role:M.role||\"assistant\"};w.push(t),u&&console.debug(\"[TRANSFORM]: TEXT_MESSAGE_START\",JSON.stringify(t))}if(M.delta!==void 0){let t={type:_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TEXT_MESSAGE_CONTENT,messageId:n.messageId,delta:M.delta};w.push(t),u&&console.debug(\"[TRANSFORM]: TEXT_MESSAGE_CONTENT\",JSON.stringify(t))}return w;case _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_CHUNK:let d=l,i=[];if((e!==\"tool\"||d.toolCallId!==void 0&&d.toolCallId!==(a==null?void 0:a.toolCallId))&&i.push(...r()),e!==\"tool\"){if(d.toolCallId===void 0)throw new Error(\"First TOOL_CALL_CHUNK must have a toolCallId\");if(d.toolCallName===void 0)throw new Error(\"First TOOL_CALL_CHUNK must have a toolCallName\");a={toolCallId:d.toolCallId,toolCallName:d.toolCallName,parentMessageId:d.parentMessageId},e=\"tool\";let t={type:_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_START,toolCallId:d.toolCallId,toolCallName:d.toolCallName,parentMessageId:d.parentMessageId};i.push(t),u&&console.debug(\"[TRANSFORM]: TOOL_CALL_START\",JSON.stringify(t))}if(d.delta!==void 0){let t={type:_ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.TOOL_CALL_ARGS,toolCallId:a.toolCallId,delta:d.delta};i.push(t),u&&console.debug(\"[TRANSFORM]: TOOL_CALL_ARGS\",JSON.stringify(t))}return i}let E=l.type}),(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.finalize)(()=>r()))};var G=class{constructor({agentId:o,description:n,threadId:a,initialMessages:e,initialState:s,debug:g}={}){this.debug=!1;this.subscribers=[];this.agentId=o,this.description=n!=null?n:\"\",this.threadId=a!=null?a:(0,uuid__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(),this.messages=C(e!=null?e:[]),this.state=C(s!=null?s:{}),this.debug=g!=null?g:!1}subscribe(o){return this.subscribers.push(o),{unsubscribe:()=>{this.subscribers=this.subscribers.filter(n=>n!==o)}}}async runAgent(o,n){var l;this.agentId=(l=this.agentId)!=null?l:(0,uuid__WEBPACK_IMPORTED_MODULE_16__[\"default\"])();let a=this.prepareRunAgentInput(o),e,s=new Set(this.messages.map(E=>E.id)),g=[{onRunFinishedEvent:E=>{e=E.result}},...this.subscribers,n!=null?n:{}];await this.onInitialize(a,g);let r=(0,rxjs__WEBPACK_IMPORTED_MODULE_17__.pipe)(()=>this.run(a),q(this.debug),U(this.debug),E=>this.apply(a,E,g),E=>this.processApplyEvents(a,E,g),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.catchError)(E=>this.onError(a,E,g)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.finalize)(()=>{this.onFinalize(a,g)}));return (0,rxjs__WEBPACK_IMPORTED_MODULE_18__.lastValueFrom)(r((0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(null))).then(()=>{let E=C(this.messages).filter(M=>!s.has(M.id));return{result:e,newMessages:E}})}abortRun(){}apply(o,n,a){return k(o,n,this,a)}processApplyEvents(o,n,a){return n.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.tap)(e=>{e.messages&&(this.messages=e.messages,a.forEach(s=>{var g;(g=s.onMessagesChanged)==null||g.call(s,{messages:this.messages,state:this.state,agent:this,input:o})})),e.state&&(this.state=e.state,a.forEach(s=>{var g;(g=s.onStateChanged)==null||g.call(s,{state:this.state,messages:this.messages,agent:this,input:o})}))}))}prepareRunAgentInput(o){var n,a,e;return{threadId:this.threadId,runId:(o==null?void 0:o.runId)||(0,uuid__WEBPACK_IMPORTED_MODULE_16__[\"default\"])(),tools:C((n=o==null?void 0:o.tools)!=null?n:[]),context:C((a=o==null?void 0:o.context)!=null?a:[]),forwardedProps:C((e=o==null?void 0:o.forwardedProps)!=null?e:{}),state:C(this.state),messages:C(this.messages)}}async onInitialize(o,n){let a=await h(n,this.messages,this.state,(e,s,g)=>{var r;return(r=e.onRunInitialized)==null?void 0:r.call(e,{messages:s,state:g,agent:this,input:o})});(a.messages!==void 0||a.state!==void 0)&&(a.messages&&(this.messages=a.messages,o.messages=a.messages,n.forEach(e=>{var s;(s=e.onMessagesChanged)==null||s.call(e,{messages:this.messages,state:this.state,agent:this,input:o})})),a.state&&(this.state=a.state,o.state=a.state,n.forEach(e=>{var s;(s=e.onStateChanged)==null||s.call(e,{state:this.state,messages:this.messages,agent:this,input:o})})))}onError(o,n,a){return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.from)(h(a,this.messages,this.state,(e,s,g)=>{var r;return(r=e.onRunFailed)==null?void 0:r.call(e,{error:n,messages:s,state:g,agent:this,input:o})})).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(e=>{let s=e;if((s.messages!==void 0||s.state!==void 0)&&(s.messages!==void 0&&(this.messages=s.messages,a.forEach(g=>{var r;(r=g.onMessagesChanged)==null||r.call(g,{messages:this.messages,state:this.state,agent:this,input:o})})),s.state!==void 0&&(this.state=s.state,a.forEach(g=>{var r;(r=g.onStateChanged)==null||r.call(g,{state:this.state,messages:this.messages,agent:this,input:o})}))),s.stopPropagation!==!0)throw console.error(\"Agent execution failed:\",n),n;return{}}))}async onFinalize(o,n){let a=await h(n,this.messages,this.state,(e,s,g)=>{var r;return(r=e.onRunFinalized)==null?void 0:r.call(e,{messages:s,state:g,agent:this,input:o})});(a.messages!==void 0||a.state!==void 0)&&(a.messages!==void 0&&(this.messages=a.messages,n.forEach(e=>{var s;(s=e.onMessagesChanged)==null||s.call(e,{messages:this.messages,state:this.state,agent:this,input:o})})),a.state!==void 0&&(this.state=a.state,n.forEach(e=>{var s;(s=e.onStateChanged)==null||s.call(e,{state:this.state,messages:this.messages,agent:this,input:o})})))}clone(){let o=Object.create(Object.getPrototypeOf(this));for(let n of Object.getOwnPropertyNames(this)){let a=this[n];typeof a!=\"function\"&&(o[n]=C(a))}return o}addMessage(o){this.messages.push(o),(async()=>{var n,a,e;for(let s of this.subscribers)await((n=s.onNewMessage)==null?void 0:n.call(s,{message:o,messages:this.messages,state:this.state,agent:this}));if(o.role===\"assistant\"&&o.toolCalls)for(let s of o.toolCalls)for(let g of this.subscribers)await((a=g.onNewToolCall)==null?void 0:a.call(g,{toolCall:s,messages:this.messages,state:this.state,agent:this}));for(let s of this.subscribers)await((e=s.onMessagesChanged)==null?void 0:e.call(s,{messages:this.messages,state:this.state,agent:this}))})()}addMessages(o){this.messages.push(...o),(async()=>{var n,a,e;for(let s of o){for(let g of this.subscribers)await((n=g.onNewMessage)==null?void 0:n.call(g,{message:s,messages:this.messages,state:this.state,agent:this}));if(s.role===\"assistant\"&&s.toolCalls)for(let g of s.toolCalls)for(let r of this.subscribers)await((a=r.onNewToolCall)==null?void 0:a.call(r,{toolCall:g,messages:this.messages,state:this.state,agent:this}))}for(let s of this.subscribers)await((e=s.onMessagesChanged)==null?void 0:e.call(s,{messages:this.messages,state:this.state,agent:this}))})()}setMessages(o){this.messages=C(o),(async()=>{var n;for(let a of this.subscribers)await((n=a.onMessagesChanged)==null?void 0:n.call(a,{messages:this.messages,state:this.state,agent:this}))})()}setState(o){this.state=C(o),(async()=>{var n;for(let a of this.subscribers)await((n=a.onStateChanged)==null?void 0:n.call(a,{messages:this.messages,state:this.state,agent:this}))})()}legacy_to_be_removed_runAgentBridged(o){var a;this.agentId=(a=this.agentId)!=null?a:(0,uuid__WEBPACK_IMPORTED_MODULE_16__[\"default\"])();let n=this.prepareRunAgentInput(o);return this.run(n).pipe(q(this.debug),U(this.debug),$(this.threadId,n.runId,this.agentId),e=>e.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.map)(s=>(this.debug&&console.debug(\"[LEGACY]:\",JSON.stringify(s)),s))))}};var W=class extends G{constructor(n){var a;super(n);this.abortController=new AbortController;this.url=n.url,this.headers=C((a=n.headers)!=null?a:{})}requestInit(n){return{method:\"POST\",headers:H(L({},this.headers),{\"Content-Type\":\"application/json\",Accept:\"text/event-stream\"}),body:JSON.stringify(n),signal:this.abortController.signal}}runAgent(n,a){var e;return this.abortController=(e=n==null?void 0:n.abortController)!=null?e:new AbortController,super.runAgent(n,a)}abortRun(){this.abortController.abort(),super.abortRun()}run(n){let a=z(this.url,this.requestInit(n));return J(a)}};\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9ub2RlX21vZHVsZXMvQGFnLXVpL2NsaWVudC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsd0RBQXdELHdDQUF3QyxtQ0FBbUMsZ0ZBQWdGLDhCQUE4QixrREFBa0QsbUJBQW1CLHFCQUFxQiw0QkFBNEIsaURBQWlELFNBQVMsc0JBQXFMLFVBQVUsZ0VBQWdFLElBQUkscUNBQXFDLFNBQVMsV0FBVyxNQUFvRCwwQkFBMEIsY0FBYyxtQkFBbUIsMkJBQTJCLHVCQUF1QixzR0FBc0csU0FBUyxNQUE2Qiw0RUFBNEUsU0FBUyxlQUFlLHdDQUF3QyxXQUFXLEdBQUcseUNBQXlDLFFBQVEsR0FBRyxjQUFjLGtCQUFrQixHQUFHLEVBQWtDLGtCQUFrQixxQ0FBcUMsT0FBTyx3R0FBd0csUUFBUSxXQUFXLFdBQVcsdUNBQXVDLHdDQUFFLElBQUksdUNBQUUsRUFBRSxjQUFjLHlEQUFFLFdBQVcsTUFBTSw4QkFBOEIsTUFBTSwyQ0FBMkMsMkNBQTJDLEVBQUUsRUFBRSwwQ0FBMEMsZUFBZSxLQUFLLGtEQUFDLHFCQUFxQiw4QkFBOEIsTUFBTSwyREFBMkQsMkNBQTJDLEVBQUUsRUFBRSxnQ0FBZ0MsSUFBSSwrQkFBK0IsTUFBTSx3QkFBd0IsYUFBYSxXQUFXLEVBQUUsV0FBVyxLQUFLLGtEQUFDLHVCQUF1QixJQUFJLG9CQUFvQix5QkFBeUIsNkVBQTZFLEVBQUUsUUFBUSw4QkFBOEIsUUFBUSw2REFBNkQsc0ZBQXNGLEVBQUUsRUFBRSxvRUFBb0UsV0FBVyxPQUFPLEtBQUssa0RBQUMsbUJBQW1CLElBQUksWUFBWSx5QkFBeUIseUVBQXlFLEVBQUUsUUFBUSw4QkFBOEIsUUFBUSx5REFBeUQsc0ZBQXNGLEVBQUUsRUFBRSx3Q0FBd0MsTUFBTSxvQ0FBb0Ms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Y0FBYyxpQ0FBaUMsVUFBVSw4RUFBOEUsNkRBQTZELEdBQUcsNklBQTZJLDhEQUE4RCxHQUFHLG1GQUFtRixtREFBbUQsR0FBRyxJQUFJLGVBQWUsb0NBQW9DLFVBQVUsZ0JBQWdCLDhFQUE4RSw2REFBNkQsR0FBRyw2SUFBNkksOERBQThELEdBQUcsbUZBQW1GLG1EQUFtRCxHQUFHLElBQUksZUFBZSw4QkFBOEIsTUFBTSxtRkFBbUYsbURBQW1ELEdBQUcsSUFBSSxZQUFZLDJCQUEyQixNQUFNLGdGQUFnRixtREFBbUQsR0FBRyxJQUFJLHdDQUF3QyxNQUFNLHNDQUFzQyxpREFBQyxHQUFHLG1DQUFtQyxvR0FBb0csbURBQUMsc0VBQXNFLHNCQUFzQixlQUFlLE1BQU0sU0FBUyx5Q0FBeUMsc0RBQXNELEVBQUUsZUFBZSxPQUFPLDRCQUE0QixnQkFBZ0IsNkRBQTZELDZEQUE2RCxjQUFjLE1BQU0saUhBQWlILFdBQVcsOENBQThDLE9BQU8sc0NBQXNDLGNBQWtQO0FBQy80ZiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9ub2RlX21vZHVsZXMvQGFnLXVpL2NsaWVudC9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZWU9T2JqZWN0LmRlZmluZVByb3BlcnR5LHRlPU9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO3ZhciBuZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczt2YXIgYj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO3ZhciBhZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHNlPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7dmFyIFY9KHUsbyxuKT0+byBpbiB1P2VlKHUsbyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6bn0pOnVbb109bixMPSh1LG8pPT57Zm9yKHZhciBuIGluIG98fChvPXt9KSlhZS5jYWxsKG8sbikmJlYodSxuLG9bbl0pO2lmKGIpZm9yKHZhciBuIG9mIGIobykpc2UuY2FsbChvLG4pJiZWKHUsbixvW25dKTtyZXR1cm4gdX0sSD0odSxvKT0+dGUodSxuZShvKSk7aW1wb3J0e0V2ZW50VHlwZSBhcyB2fWZyb21cIkBhZy11aS9jb3JlXCI7aW1wb3J0e21lcmdlQWxsIGFzIG9lLGRlZmF1bHRJZkVtcHR5IGFzIHJlLGNvbmNhdE1hcCBhcyBpZX1mcm9tXCJyeGpzL29wZXJhdG9yc1wiO2ltcG9ydHtvZiBhcyBsZSxFTVBUWSBhcyBnZX1mcm9tXCJyeGpzXCI7dmFyIEM9dT0+e2lmKHR5cGVvZiBzdHJ1Y3R1cmVkQ2xvbmU9PVwiZnVuY3Rpb25cIilyZXR1cm4gc3RydWN0dXJlZENsb25lKHUpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh1KSl9Y2F0Y2gobyl7cmV0dXJuIEwoe30sdSl9fTtpbXBvcnR7YXBwbHlQYXRjaCBhcyBjZX1mcm9tXCJmYXN0LWpzb24tcGF0Y2hcIjthc3luYyBmdW5jdGlvbiBoKHUsbyxuLGEpe2xldCBlPW8scz1uLGc7Zm9yKGxldCByIG9mIHUpdHJ5e2xldCBsPWF3YWl0IGEocixDKGUpLEMocykpO2lmKGw9PT12b2lkIDApY29udGludWU7aWYobC5tZXNzYWdlcyE9PXZvaWQgMCYmKGU9bC5tZXNzYWdlcyksbC5zdGF0ZSE9PXZvaWQgMCYmKHM9bC5zdGF0ZSksZz1sLnN0b3BQcm9wYWdhdGlvbixnPT09ITApYnJlYWt9Y2F0Y2gobCl7cHJvY2Vzcy5lbnYuTk9ERV9FTlY9PT1cInRlc3RcInx8cHJvY2Vzcy5lbnYuSkVTVF9XT1JLRVJfSUQhPT12b2lkIDB8fGNvbnNvbGUuZXJyb3IoXCJTdWJzY3JpYmVyIGVycm9yOlwiLGwpO2NvbnRpbnVlfXJldHVybiBMKEwoTCh7fSxKU09OLnN0cmluZ2lmeShlKSE9PUpTT04uc3RyaW5naWZ5KG8pP3ttZXNzYWdlczplfTp7fSksSlNPTi5zdHJpbmdpZnkocykhPT1KU09OLnN0cmluZ2lmeShuKT97c3RhdGU6c306e30pLGchPT12b2lkIDA/e3N0b3BQcm9wYWdhdGlvbjpnfTp7fSl9aW1wb3J0IEVlIGZyb21cInVudHJ1bmNhdGUtanNvblwiO3ZhciBrPSh1LG8sbixhKT0+e2xldCBlPUModS5tZXNzYWdlcykscz1DKHUuc3RhdGUpLGc9e30scj1FPT57RS5tZXNzYWdlcyE9PXZvaWQgMCYmKGU9RS5tZXNzYWdlcyxnLm1lc3NhZ2VzPUUubWVzc2FnZXMpLEUuc3RhdGUhPT12b2lkIDAmJihzPUUuc3RhdGUsZy5zdGF0ZT1FLnN0YXRlKX0sbD0oKT0+e2xldCBFPUMoZyk7cmV0dXJuIGc9e30sRS5tZXNzYWdlcyE9PXZvaWQgMHx8RS5zdGF0ZSE9PXZvaWQgMD9sZShFKTpnZX07cmV0dXJuIG8ucGlwZShpZShhc3luYyBFPT57dmFyIGQ7bGV0IE09YXdhaXQgaChhLGUscywoaSx0LFMpPT57dmFyIG07cmV0dXJuKG09aS5vbkV2ZW50KT09bnVsbD92b2lkIDA6bS5jYWxsKGkse2V2ZW50OkUsYWdlbnQ6bixpbnB1dDp1LG1lc3NhZ2VzOnQsc3RhdGU6U30pfSk7aWYocihNKSxNLnN0b3BQcm9wYWdhdGlvbj09PSEwKXJldHVybiBsKCk7c3dpdGNoKEUudHlwZSl7Y2FzZSB2LlRFWFRfTUVTU0FHRV9TVEFSVDp7bGV0IGk9YXdhaXQgaChhLGUscywodCxTLG0pPT57dmFyIGM7cmV0dXJuKGM9dC5vblRleHRNZXNzYWdlU3RhcnRFdmVudCk9PW51bGw/dm9pZCAwOmMuY2FsbCh0LHtldmVudDpFLG1lc3NhZ2VzOlMsc3RhdGU6bSxhZ2VudDpuLGlucHV0OnV9KX0pO2lmKHIoaSksaS5zdG9wUHJvcGFnYXRpb24hPT0hMCl7bGV0e21lc3NhZ2VJZDp0LHJvbGU6Uz1cImFzc2lzdGFudFwifT1FLG09e2lkOnQscm9sZTpTLGNvbnRlbnQ6XCJcIn07ZS5wdXNoKG0pLHIoe21lc3NhZ2VzOmV9KX1yZXR1cm4gbCgpfWNhc2Ugdi5URVhUX01FU1NBR0VfQ09OVEVOVDp7bGV0e21lc3NhZ2VJZDppLGRlbHRhOnR9PUUsUz1lLmZpbmQoYz0+Yy5pZD09PWkpO2lmKCFTKXJldHVybiBjb25zb2xlLndhcm4oYFRFWFRfTUVTU0FHRV9DT05URU5UOiBObyBtZXNzYWdlIGZvdW5kIHdpdGggSUQgJyR7aX0nYCksbCgpO2xldCBtPWF3YWl0IGgoYSxlLHMsKGMsVCx4KT0+e3ZhciBPLFA7cmV0dXJuKFA9Yy5vblRleHRNZXNzYWdlQ29udGVudEV2ZW50KT09bnVsbD92b2lkIDA6UC5jYWxsKGMse2V2ZW50OkUsbWVzc2FnZXM6VCxzdGF0ZTp4LGFnZW50Om4saW5wdXQ6dSx0ZXh0TWVzc2FnZUJ1ZmZlcjooTz1TLmNvbnRlbnQpIT1udWxsP086XCJcIn0pfSk7cmV0dXJuIHIobSksbS5zdG9wUHJvcGFnYXRpb24hPT0hMCYmKFMuY29udGVudD0oUy5jb250ZW50fHxcIlwiKSt0LHIoe21lc3NhZ2VzOmV9KSksbCgpfWNhc2Ugdi5URVhUX01FU1NBR0VfRU5EOntsZXR7bWVzc2FnZUlkOml9PUUsdD1lLmZpbmQobT0+bS5pZD09PWkpO2lmKCF0KXJldHVybiBjb25zb2xlLndhcm4oYFRFWFRfTUVTU0FHRV9FTkQ6IE5vIG1lc3NhZ2UgZm91bmQgd2l0aCBJRCAnJHtpfSdgKSxsKCk7bGV0IFM9YXdhaXQgaChhLGUscywobSxjLFQpPT57dmFyIHgsTztyZXR1cm4oTz1tLm9uVGV4dE1lc3NhZ2VFbmRFdmVudCk9PW51bGw/dm9pZCAwOk8uY2FsbChtLHtldmVudDpFLG1lc3NhZ2VzOmMsc3RhdGU6VCxhZ2VudDpuLGlucHV0OnUsdGV4dE1lc3NhZ2VCdWZmZXI6KHg9dC5jb250ZW50KSE9bnVsbD94OlwiXCJ9KX0pO3JldHVybiByKFMpLGF3YWl0IFByb21pc2UuYWxsKGEubWFwKG09Pnt2YXIgYzsoYz1tLm9uTmV3TWVzc2FnZSk9PW51bGx8fGMuY2FsbChtLHttZXNzYWdlOnQsbWVzc2FnZXM6ZSxzdGF0ZTpzLGFnZW50Om4saW5wdXQ6dX0pfSkpLGwoKX1jYXNlIHYuVE9PTF9DQUxMX1NUQVJUOntsZXQgaT1hd2FpdCBoKGEsZSxzLCh0LFMsbSk9Pnt2YXIgYztyZXR1cm4oYz10Lm9uVG9vbENhbGxTdGFydEV2ZW50KT09bnVsbD92b2lkIDA6Yy5jYWxsKHQse2V2ZW50OkUsbWVzc2FnZXM6UyxzdGF0ZTptLGFnZW50Om4saW5wdXQ6dX0pfSk7aWYocihpKSxpLnN0b3BQcm9wYWdhdGlvbiE9PSEwKXtsZXR7dG9vbENhbGxJZDp0LHRvb2xDYWxsTmFtZTpTLHBhcmVudE1lc3NhZ2VJZDptfT1FLGM7bSYmZS5sZW5ndGg+MCYmZVtlLmxlbmd0aC0xXS5pZD09PW0/Yz1lW2UubGVuZ3RoLTFdOihjPXtpZDptfHx0LHJvbGU6XCJhc3Npc3RhbnRcIix0b29sQ2FsbHM6W119LGUucHVzaChjKSksKGQ9Yy50b29sQ2FsbHMpIT1udWxsfHwoYy50b29sQ2FsbHM9W10pLGMudG9vbENhbGxzLnB1c2goe2lkOnQsdHlwZTpcImZ1bmN0aW9uXCIsZnVuY3Rpb246e25hbWU6Uyxhcmd1bWVudHM6XCJcIn19KSxyKHttZXNzYWdlczplfSl9cmV0dXJuIGwoKX1jYXNlIHYuVE9PTF9DQUxMX0FSR1M6e2xldHt0b29sQ2FsbElkOmksZGVsdGE6dH09RSxTPWUuZmluZChUPT57dmFyIHg7cmV0dXJuKHg9VC50b29sQ2FsbHMpPT1udWxsP3ZvaWQgMDp4LnNvbWUoTz0+Ty5pZD09PWkpfSk7aWYoIVMpcmV0dXJuIGNvbnNvbGUud2FybihgVE9PTF9DQUxMX0FSR1M6IE5vIG1lc3NhZ2UgZm91bmQgY29udGFpbmluZyB0b29sIGNhbGwgd2l0aCBJRCAnJHtpfSdgKSxsKCk7bGV0IG09Uy50b29sQ2FsbHMuZmluZChUPT5ULmlkPT09aSk7aWYoIW0pcmV0dXJuIGNvbnNvbGUud2FybihgVE9PTF9DQUxMX0FSR1M6IE5vIHRvb2wgY2FsbCBmb3VuZCB3aXRoIElEICcke2l9J2ApLGwoKTtsZXQgYz1hd2FpdCBoKGEsZSxzLChULHgsTyk9Pnt2YXIgSztsZXQgUD1tLmZ1bmN0aW9uLmFyZ3VtZW50cyxGPW0uZnVuY3Rpb24ubmFtZSxEPXt9O3RyeXtEPUVlKFApfWNhdGNoKHFlKXt9cmV0dXJuKEs9VC5vblRvb2xDYWxsQXJnc0V2ZW50KT09bnVsbD92b2lkIDA6Sy5jYWxsKFQse2V2ZW50OkUsbWVzc2FnZXM6eCxzdGF0ZTpPLGFnZW50Om4saW5wdXQ6dSx0b29sQ2FsbEJ1ZmZlcjpQLHRvb2xDYWxsTmFtZTpGLHBhcnRpYWxUb29sQ2FsbEFyZ3M6RH0pfSk7cmV0dXJuIHIoYyksYy5zdG9wUHJvcGFnYXRpb24hPT0hMCYmKG0uZnVuY3Rpb24uYXJndW1lbnRzKz10LHIoe21lc3NhZ2VzOmV9KSksbCgpfWNhc2Ugdi5UT09MX0NBTExfRU5EOntsZXR7dG9vbENhbGxJZDppfT1FLHQ9ZS5maW5kKGM9Pnt2YXIgVDtyZXR1cm4oVD1jLnRvb2xDYWxscyk9PW51bGw/dm9pZCAwOlQuc29tZSh4PT54LmlkPT09aSl9KTtpZighdClyZXR1cm4gY29uc29sZS53YXJuKGBUT09MX0NBTExfRU5EOiBObyBtZXNzYWdlIGZvdW5kIGNvbnRhaW5pbmcgdG9vbCBjYWxsIHdpdGggSUQgJyR7aX0nYCksbCgpO2xldCBTPXQudG9vbENhbGxzLmZpbmQoYz0+Yy5pZD09PWkpO2lmKCFTKXJldHVybiBjb25zb2xlLndhcm4oYFRPT0xfQ0FMTF9FTkQ6IE5vIHRvb2wgY2FsbCBmb3VuZCB3aXRoIElEICcke2l9J2ApLGwoKTtsZXQgbT1hd2FpdCBoKGEsZSxzLChjLFQseCk9Pnt2YXIgRDtsZXQgTz1TLmZ1bmN0aW9uLmFyZ3VtZW50cyxQPVMuZnVuY3Rpb24ubmFtZSxGPXt9O3RyeXtGPUpTT04ucGFyc2UoTyl9Y2F0Y2goSyl7fXJldHVybihEPWMub25Ub29sQ2FsbEVuZEV2ZW50KT09bnVsbD92b2lkIDA6RC5jYWxsKGMse2V2ZW50OkUsbWVzc2FnZXM6VCxzdGF0ZTp4LGFnZW50Om4saW5wdXQ6dSx0b29sQ2FsbE5hbWU6UCx0b29sQ2FsbEFyZ3M6Rn0pfSk7cmV0dXJuIHIobSksYXdhaXQgUHJvbWlzZS5hbGwoYS5tYXAoYz0+e3ZhciBUOyhUPWMub25OZXdUb29sQ2FsbCk9PW51bGx8fFQuY2FsbChjLHt0b29sQ2FsbDpTLG1lc3NhZ2VzOmUsc3RhdGU6cyxhZ2VudDpuLGlucHV0OnV9KX0pKSxsKCl9Y2FzZSB2LlRPT0xfQ0FMTF9SRVNVTFQ6e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25Ub29sQ2FsbFJlc3VsdEV2ZW50KT09bnVsbD92b2lkIDA6Yy5jYWxsKHQse2V2ZW50OkUsbWVzc2FnZXM6UyxzdGF0ZTptLGFnZW50Om4saW5wdXQ6dX0pfSk7aWYocihpKSxpLnN0b3BQcm9wYWdhdGlvbiE9PSEwKXtsZXR7bWVzc2FnZUlkOnQsdG9vbENhbGxJZDpTLGNvbnRlbnQ6bSxyb2xlOmN9PUUsVD17aWQ6dCx0b29sQ2FsbElkOlMscm9sZTpjfHxcInRvb2xcIixjb250ZW50Om19O2UucHVzaChUKSxhd2FpdCBQcm9taXNlLmFsbChhLm1hcCh4PT57dmFyIE87KE89eC5vbk5ld01lc3NhZ2UpPT1udWxsfHxPLmNhbGwoeCx7bWVzc2FnZTpULG1lc3NhZ2VzOmUsc3RhdGU6cyxhZ2VudDpuLGlucHV0OnV9KX0pKSxyKHttZXNzYWdlczplfSl9cmV0dXJuIGwoKX1jYXNlIHYuU1RBVEVfU05BUFNIT1Q6e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25TdGF0ZVNuYXBzaG90RXZlbnQpPT1udWxsP3ZvaWQgMDpjLmNhbGwodCx7ZXZlbnQ6RSxtZXNzYWdlczpTLHN0YXRlOm0sYWdlbnQ6bixpbnB1dDp1fSl9KTtpZihyKGkpLGkuc3RvcFByb3BhZ2F0aW9uIT09ITApe2xldHtzbmFwc2hvdDp0fT1FO3M9dCxyKHtzdGF0ZTpzfSl9cmV0dXJuIGwoKX1jYXNlIHYuU1RBVEVfREVMVEE6e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25TdGF0ZURlbHRhRXZlbnQpPT1udWxsP3ZvaWQgMDpjLmNhbGwodCx7ZXZlbnQ6RSxtZXNzYWdlczpTLHN0YXRlOm0sYWdlbnQ6bixpbnB1dDp1fSl9KTtpZihyKGkpLGkuc3RvcFByb3BhZ2F0aW9uIT09ITApe2xldHtkZWx0YTp0fT1FO3RyeXtzPWNlKHMsdCwhMCwhMSkubmV3RG9jdW1lbnQscih7c3RhdGU6c30pfWNhdGNoKFMpe2xldCBtPVMgaW5zdGFuY2VvZiBFcnJvcj9TLm1lc3NhZ2U6U3RyaW5nKFMpO2NvbnNvbGUud2FybihgRmFpbGVkIHRvIGFwcGx5IHN0YXRlIHBhdGNoOlxuQ3VycmVudCBzdGF0ZTogJHtKU09OLnN0cmluZ2lmeShzLG51bGwsMil9XG5QYXRjaCBvcGVyYXRpb25zOiAke0pTT04uc3RyaW5naWZ5KHQsbnVsbCwyKX1cbkVycm9yOiAke219YCl9fXJldHVybiBsKCl9Y2FzZSB2Lk1FU1NBR0VTX1NOQVBTSE9UOntsZXQgaT1hd2FpdCBoKGEsZSxzLCh0LFMsbSk9Pnt2YXIgYztyZXR1cm4oYz10Lm9uTWVzc2FnZXNTbmFwc2hvdEV2ZW50KT09bnVsbD92b2lkIDA6Yy5jYWxsKHQse2V2ZW50OkUsbWVzc2FnZXM6UyxzdGF0ZTptLGFnZW50Om4saW5wdXQ6dX0pfSk7aWYocihpKSxpLnN0b3BQcm9wYWdhdGlvbiE9PSEwKXtsZXR7bWVzc2FnZXM6dH09RTtlPXQscih7bWVzc2FnZXM6ZX0pfXJldHVybiBsKCl9Y2FzZSB2LlJBVzp7bGV0IGk9YXdhaXQgaChhLGUscywodCxTLG0pPT57dmFyIGM7cmV0dXJuKGM9dC5vblJhd0V2ZW50KT09bnVsbD92b2lkIDA6Yy5jYWxsKHQse2V2ZW50OkUsbWVzc2FnZXM6UyxzdGF0ZTptLGFnZW50Om4saW5wdXQ6dX0pfSk7cmV0dXJuIHIoaSksbCgpfWNhc2Ugdi5DVVNUT006e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25DdXN0b21FdmVudCk9PW51bGw/dm9pZCAwOmMuY2FsbCh0LHtldmVudDpFLG1lc3NhZ2VzOlMsc3RhdGU6bSxhZ2VudDpuLGlucHV0OnV9KX0pO3JldHVybiByKGkpLGwoKX1jYXNlIHYuUlVOX1NUQVJURUQ6e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25SdW5TdGFydGVkRXZlbnQpPT1udWxsP3ZvaWQgMDpjLmNhbGwodCx7ZXZlbnQ6RSxtZXNzYWdlczpTLHN0YXRlOm0sYWdlbnQ6bixpbnB1dDp1fSl9KTtyZXR1cm4gcihpKSxsKCl9Y2FzZSB2LlJVTl9GSU5JU0hFRDp7bGV0IGk9YXdhaXQgaChhLGUscywodCxTLG0pPT57dmFyIGM7cmV0dXJuKGM9dC5vblJ1bkZpbmlzaGVkRXZlbnQpPT1udWxsP3ZvaWQgMDpjLmNhbGwodCx7ZXZlbnQ6RSxtZXNzYWdlczpTLHN0YXRlOm0sYWdlbnQ6bixpbnB1dDp1LHJlc3VsdDpFLnJlc3VsdH0pfSk7cmV0dXJuIHIoaSksbCgpfWNhc2Ugdi5SVU5fRVJST1I6e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25SdW5FcnJvckV2ZW50KT09bnVsbD92b2lkIDA6Yy5jYWxsKHQse2V2ZW50OkUsbWVzc2FnZXM6UyxzdGF0ZTptLGFnZW50Om4saW5wdXQ6dX0pfSk7cmV0dXJuIHIoaSksbCgpfWNhc2Ugdi5TVEVQX1NUQVJURUQ6e2xldCBpPWF3YWl0IGgoYSxlLHMsKHQsUyxtKT0+e3ZhciBjO3JldHVybihjPXQub25TdGVwU3RhcnRlZEV2ZW50KT09bnVsbD92b2lkIDA6Yy5jYWxsKHQse2V2ZW50OkUsbWVzc2FnZXM6UyxzdGF0ZTptLGFnZW50Om4saW5wdXQ6dX0pfSk7cmV0dXJuIHIoaSksbCgpfWNhc2Ugdi5TVEVQX0ZJTklTSEVEOntsZXQgaT1hd2FpdCBoKGEsZSxzLCh0LFMsbSk9Pnt2YXIgYztyZXR1cm4oYz10Lm9uU3RlcEZpbmlzaGVkRXZlbnQpPT1udWxsP3ZvaWQgMDpjLmNhbGwodCx7ZXZlbnQ6RSxtZXNzYWdlczpTLHN0YXRlOm0sYWdlbnQ6bixpbnB1dDp1fSl9KTtyZXR1cm4gcihpKSxsKCl9Y2FzZSB2LlRFWFRfTUVTU0FHRV9DSFVOSzp0aHJvdyBuZXcgRXJyb3IoXCJURVhUX01FU1NBR0VfQ0hVTksgbXVzdCBiZSB0cmFuZm9ybWVkIGJlZm9yZSBiZWluZyBhcHBsaWVkXCIpO2Nhc2Ugdi5UT09MX0NBTExfQ0hVTks6dGhyb3cgbmV3IEVycm9yKFwiVE9PTF9DQUxMX0NIVU5LIG11c3QgYmUgdHJhbmZvcm1lZCBiZWZvcmUgYmVpbmcgYXBwbGllZFwiKTtjYXNlIHYuVEhJTktJTkdfU1RBUlQ6cmV0dXJuIGwoKTtjYXNlIHYuVEhJTktJTkdfRU5EOnJldHVybiBsKCk7Y2FzZSB2LlRISU5LSU5HX1RFWFRfTUVTU0FHRV9TVEFSVDpyZXR1cm4gbCgpO2Nhc2Ugdi5USElOS0lOR19URVhUX01FU1NBR0VfQ09OVEVOVDpyZXR1cm4gbCgpO2Nhc2Ugdi5USElOS0lOR19URVhUX01FU1NBR0VfRU5EOnJldHVybiBsKCl9bGV0IHc9RS50eXBlO3JldHVybiBsKCl9KSxvZSgpLGEubGVuZ3RoPjA/cmUoe30pOkU9PkUpfTtpbXBvcnR7RXZlbnRUeXBlIGFzIHksQUdVSUVycm9yIGFzIFJ9ZnJvbVwiQGFnLXVpL2NvcmVcIjtpbXBvcnR7dGhyb3dFcnJvciBhcyBfLG9mIGFzIE59ZnJvbVwicnhqc1wiO2ltcG9ydHttZXJnZU1hcCBhcyB1ZX1mcm9tXCJyeGpzL29wZXJhdG9yc1wiO3ZhciBVPXU9Pm89PntsZXQgbj1uZXcgTWFwLGE9bmV3IE1hcCxlPSExLHM9ITEsZz0hMSxyPW5ldyBNYXAsbD0hMSxFPSExLE09ITEsdz0oKT0+e24uY2xlYXIoKSxhLmNsZWFyKCksci5jbGVhcigpLGw9ITEsRT0hMSxlPSExLHM9ITEsTT0hMH07cmV0dXJuIG8ucGlwZSh1ZShkPT57bGV0IGk9ZC50eXBlO2lmKHUmJmNvbnNvbGUuZGVidWcoXCJbVkVSSUZZXTpcIixKU09OLnN0cmluZ2lmeShkKSkscylyZXR1cm4gXygoKT0+bmV3IFIoYENhbm5vdCBzZW5kIGV2ZW50IHR5cGUgJyR7aX0nOiBUaGUgcnVuIGhhcyBhbHJlYWR5IGVycm9yZWQgd2l0aCAnUlVOX0VSUk9SJy4gTm8gZnVydGhlciBldmVudHMgY2FuIGJlIHNlbnQuYCkpO2lmKGUmJmkhPT15LlJVTl9FUlJPUiYmaSE9PXkuUlVOX1NUQVJURUQpcmV0dXJuIF8oKCk9Pm5ldyBSKGBDYW5ub3Qgc2VuZCBldmVudCB0eXBlICcke2l9JzogVGhlIHJ1biBoYXMgYWxyZWFkeSBmaW5pc2hlZCB3aXRoICdSVU5fRklOSVNIRUQnLiBTdGFydCBhIG5ldyBydW4gd2l0aCAnUlVOX1NUQVJURUQnLmApKTtpZihnKXtpZihpPT09eS5SVU5fU1RBUlRFRCl7aWYoTSYmIWUpcmV0dXJuIF8oKCk9Pm5ldyBSKFwiQ2Fubm90IHNlbmQgJ1JVTl9TVEFSVEVEJyB3aGlsZSBhIHJ1biBpcyBzdGlsbCBhY3RpdmUuIFRoZSBwcmV2aW91cyBydW4gbXVzdCBiZSBmaW5pc2hlZCB3aXRoICdSVU5fRklOSVNIRUQnIGJlZm9yZSBzdGFydGluZyBhIG5ldyBydW4uXCIpKTtlJiZ3KCl9fWVsc2UgaWYoZz0hMCxpIT09eS5SVU5fU1RBUlRFRCYmaSE9PXkuUlVOX0VSUk9SKXJldHVybiBfKCgpPT5uZXcgUihcIkZpcnN0IGV2ZW50IG11c3QgYmUgJ1JVTl9TVEFSVEVEJ1wiKSk7c3dpdGNoKGkpe2Nhc2UgeS5URVhUX01FU1NBR0VfU1RBUlQ6e2xldCB0PWQubWVzc2FnZUlkO3JldHVybiBuLmhhcyh0KT9fKCgpPT5uZXcgUihgQ2Fubm90IHNlbmQgJ1RFWFRfTUVTU0FHRV9TVEFSVCcgZXZlbnQ6IEEgdGV4dCBtZXNzYWdlIHdpdGggSUQgJyR7dH0nIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MuIENvbXBsZXRlIGl0IHdpdGggJ1RFWFRfTUVTU0FHRV9FTkQnIGZpcnN0LmApKToobi5zZXQodCwhMCksTihkKSl9Y2FzZSB5LlRFWFRfTUVTU0FHRV9DT05URU5UOntsZXQgdD1kLm1lc3NhZ2VJZDtyZXR1cm4gbi5oYXModCk/TihkKTpfKCgpPT5uZXcgUihgQ2Fubm90IHNlbmQgJ1RFWFRfTUVTU0FHRV9DT05URU5UJyBldmVudDogTm8gYWN0aXZlIHRleHQgbWVzc2FnZSBmb3VuZCB3aXRoIElEICcke3R9Jy4gU3RhcnQgYSB0ZXh0IG1lc3NhZ2Ugd2l0aCAnVEVYVF9NRVNTQUdFX1NUQVJUJyBmaXJzdC5gKSl9Y2FzZSB5LlRFWFRfTUVTU0FHRV9FTkQ6e2xldCB0PWQubWVzc2FnZUlkO3JldHVybiBuLmhhcyh0KT8obi5kZWxldGUodCksTihkKSk6XygoKT0+bmV3IFIoYENhbm5vdCBzZW5kICdURVhUX01FU1NBR0VfRU5EJyBldmVudDogTm8gYWN0aXZlIHRleHQgbWVzc2FnZSBmb3VuZCB3aXRoIElEICcke3R9Jy4gQSAnVEVYVF9NRVNTQUdFX1NUQVJUJyBldmVudCBtdXN0IGJlIHNlbnQgZmlyc3QuYCkpfWNhc2UgeS5UT09MX0NBTExfU1RBUlQ6e2xldCB0PWQudG9vbENhbGxJZDtyZXR1cm4gYS5oYXModCk/XygoKT0+bmV3IFIoYENhbm5vdCBzZW5kICdUT09MX0NBTExfU1RBUlQnIGV2ZW50OiBBIHRvb2wgY2FsbCB3aXRoIElEICcke3R9JyBpcyBhbHJlYWR5IGluIHByb2dyZXNzLiBDb21wbGV0ZSBpdCB3aXRoICdUT09MX0NBTExfRU5EJyBmaXJzdC5gKSk6KGEuc2V0KHQsITApLE4oZCkpfWNhc2UgeS5UT09MX0NBTExfQVJHUzp7bGV0IHQ9ZC50b29sQ2FsbElkO3JldHVybiBhLmhhcyh0KT9OKGQpOl8oKCk9Pm5ldyBSKGBDYW5ub3Qgc2VuZCAnVE9PTF9DQUxMX0FSR1MnIGV2ZW50OiBObyBhY3RpdmUgdG9vbCBjYWxsIGZvdW5kIHdpdGggSUQgJyR7dH0nLiBTdGFydCBhIHRvb2wgY2FsbCB3aXRoICdUT09MX0NBTExfU1RBUlQnIGZpcnN0LmApKX1jYXNlIHkuVE9PTF9DQUxMX0VORDp7bGV0IHQ9ZC50b29sQ2FsbElkO3JldHVybiBhLmhhcyh0KT8oYS5kZWxldGUodCksTihkKSk6XygoKT0+bmV3IFIoYENhbm5vdCBzZW5kICdUT09MX0NBTExfRU5EJyBldmVudDogTm8gYWN0aXZlIHRvb2wgY2FsbCBmb3VuZCB3aXRoIElEICcke3R9Jy4gQSAnVE9PTF9DQUxMX1NUQVJUJyBldmVudCBtdXN0IGJlIHNlbnQgZmlyc3QuYCkpfWNhc2UgeS5TVEVQX1NUQVJURUQ6e2xldCB0PWQuc3RlcE5hbWU7cmV0dXJuIHIuaGFzKHQpP18oKCk9Pm5ldyBSKGBTdGVwIFwiJHt0fVwiIGlzIGFscmVhZHkgYWN0aXZlIGZvciAnU1RFUF9TVEFSVEVEJ2ApKTooci5zZXQodCwhMCksTihkKSl9Y2FzZSB5LlNURVBfRklOSVNIRUQ6e2xldCB0PWQuc3RlcE5hbWU7cmV0dXJuIHIuaGFzKHQpPyhyLmRlbGV0ZSh0KSxOKGQpKTpfKCgpPT5uZXcgUihgQ2Fubm90IHNlbmQgJ1NURVBfRklOSVNIRUQnIGZvciBzdGVwIFwiJHt0fVwiIHRoYXQgd2FzIG5vdCBzdGFydGVkYCkpfWNhc2UgeS5SVU5fU1RBUlRFRDpyZXR1cm4gTT0hMCxOKGQpO2Nhc2UgeS5SVU5fRklOSVNIRUQ6e2lmKHIuc2l6ZT4wKXtsZXQgdD1BcnJheS5mcm9tKHIua2V5cygpKS5qb2luKFwiLCBcIik7cmV0dXJuIF8oKCk9Pm5ldyBSKGBDYW5ub3Qgc2VuZCAnUlVOX0ZJTklTSEVEJyB3aGlsZSBzdGVwcyBhcmUgc3RpbGwgYWN0aXZlOiAke3R9YCkpfWlmKG4uc2l6ZT4wKXtsZXQgdD1BcnJheS5mcm9tKG4ua2V5cygpKS5qb2luKFwiLCBcIik7cmV0dXJuIF8oKCk9Pm5ldyBSKGBDYW5ub3Qgc2VuZCAnUlVOX0ZJTklTSEVEJyB3aGlsZSB0ZXh0IG1lc3NhZ2VzIGFyZSBzdGlsbCBhY3RpdmU6ICR7dH1gKSl9aWYoYS5zaXplPjApe2xldCB0PUFycmF5LmZyb20oYS5rZXlzKCkpLmpvaW4oXCIsIFwiKTtyZXR1cm4gXygoKT0+bmV3IFIoYENhbm5vdCBzZW5kICdSVU5fRklOSVNIRUQnIHdoaWxlIHRvb2wgY2FsbHMgYXJlIHN0aWxsIGFjdGl2ZTogJHt0fWApKX1yZXR1cm4gZT0hMCxOKGQpfWNhc2UgeS5SVU5fRVJST1I6cmV0dXJuIHM9ITAsTihkKTtjYXNlIHkuQ1VTVE9NOnJldHVybiBOKGQpO2Nhc2UgeS5USElOS0lOR19URVhUX01FU1NBR0VfU1RBUlQ6cmV0dXJuIGw/RT9fKCgpPT5uZXcgUihcIkNhbm5vdCBzZW5kICdUSElOS0lOR19URVhUX01FU1NBR0VfU1RBUlQnIGV2ZW50OiBBIHRoaW5raW5nIG1lc3NhZ2UgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcy4gQ29tcGxldGUgaXQgd2l0aCAnVEhJTktJTkdfVEVYVF9NRVNTQUdFX0VORCcgZmlyc3QuXCIpKTooRT0hMCxOKGQpKTpfKCgpPT5uZXcgUihcIkNhbm5vdCBzZW5kICdUSElOS0lOR19URVhUX01FU1NBR0VfU1RBUlQnIGV2ZW50OiBBIHRoaW5raW5nIHN0ZXAgaXMgbm90IGluIHByb2dyZXNzLiBDcmVhdGUgb25lIHdpdGggJ1RISU5LSU5HX1NUQVJUJyBmaXJzdC5cIikpO2Nhc2UgeS5USElOS0lOR19URVhUX01FU1NBR0VfQ09OVEVOVDpyZXR1cm4gRT9OKGQpOl8oKCk9Pm5ldyBSKFwiQ2Fubm90IHNlbmQgJ1RISU5LSU5HX1RFWFRfTUVTU0FHRV9DT05URU5UJyBldmVudDogTm8gYWN0aXZlIHRoaW5raW5nIG1lc3NhZ2UgZm91bmQuIFN0YXJ0IGEgbWVzc2FnZSB3aXRoICdUSElOS0lOR19URVhUX01FU1NBR0VfU1RBUlQnIGZpcnN0LlwiKSk7Y2FzZSB5LlRISU5LSU5HX1RFWFRfTUVTU0FHRV9FTkQ6cmV0dXJuIEU/KEU9ITEsTihkKSk6XygoKT0+bmV3IFIoXCJDYW5ub3Qgc2VuZCAnVEhJTktJTkdfVEVYVF9NRVNTQUdFX0VORCcgZXZlbnQ6IE5vIGFjdGl2ZSB0aGlua2luZyBtZXNzYWdlIGZvdW5kLiBBICdUSElOS0lOR19URVhUX01FU1NBR0VfU1RBUlQnIGV2ZW50IG11c3QgYmUgc2VudCBmaXJzdC5cIikpO2Nhc2UgeS5USElOS0lOR19TVEFSVDpyZXR1cm4gbD9fKCgpPT5uZXcgUihcIkNhbm5vdCBzZW5kICdUSElOS0lOR19TVEFSVCcgZXZlbnQ6IEEgdGhpbmtpbmcgc3RlcCBpcyBhbHJlYWR5IGluIHByb2dyZXNzLiBFbmQgaXQgd2l0aCAnVEhJTktJTkdfRU5EJyBmaXJzdC5cIikpOihsPSEwLE4oZCkpO2Nhc2UgeS5USElOS0lOR19FTkQ6cmV0dXJuIGw/KGw9ITEsTihkKSk6XygoKT0+bmV3IFIoXCJDYW5ub3Qgc2VuZCAnVEhJTktJTkdfRU5EJyBldmVudDogTm8gYWN0aXZlIHRoaW5raW5nIHN0ZXAgZm91bmQuIEEgJ1RISU5LSU5HX1NUQVJUJyBldmVudCBtdXN0IGJlIHNlbnQgZmlyc3QuXCIpKTtkZWZhdWx0OnJldHVybiBOKGQpfX0pKX07aW1wb3J0e0V2ZW50U2NoZW1hcyBhcyB2ZX1mcm9tXCJAYWctdWkvY29yZVwiO2ltcG9ydHtTdWJqZWN0IGFzIGhlLFJlcGxheVN1YmplY3QgYXMgTWV9ZnJvbVwicnhqc1wiO2ltcG9ydHtPYnNlcnZhYmxlIGFzIHBlLGZyb20gYXMgbWUsZGVmZXIgYXMgU2UsdGhyb3dFcnJvciBhcyBkZX1mcm9tXCJyeGpzXCI7aW1wb3J0e3N3aXRjaE1hcCBhcyBmZX1mcm9tXCJyeGpzL29wZXJhdG9yc1wiO3ZhciB6PSh1LG8pPT5TZSgoKT0+bWUoZmV0Y2godSxvKSkpLnBpcGUoZmUobj0+e3ZhciBzO2xldCBhPXt0eXBlOlwiaGVhZGVyc1wiLHN0YXR1czpuLnN0YXR1cyxoZWFkZXJzOm4uaGVhZGVyc30sZT0ocz1uLmJvZHkpPT1udWxsP3ZvaWQgMDpzLmdldFJlYWRlcigpO3JldHVybiBlP25ldyBwZShnPT4oZy5uZXh0KGEpLChhc3luYygpPT57dHJ5e2Zvcig7Oyl7bGV0e2RvbmU6cix2YWx1ZTpsfT1hd2FpdCBlLnJlYWQoKTtpZihyKWJyZWFrO2xldCBFPXt0eXBlOlwiZGF0YVwiLGRhdGE6bH07Zy5uZXh0KEUpfWcuY29tcGxldGUoKX1jYXRjaChyKXtnLmVycm9yKHIpfX0pKCksKCk9PntlLmNhbmNlbCgpfSkpOmRlKCgpPT5uZXcgRXJyb3IoXCJGYWlsZWQgdG8gZ2V0UmVhZGVyKCkgZnJvbSByZXNwb25zZVwiKSl9KSk7aW1wb3J0e1N1YmplY3QgYXMgVGV9ZnJvbVwicnhqc1wiO3ZhciBCPXU9PntsZXQgbz1uZXcgVGUsbj1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiLHtmYXRhbDohMX0pLGE9XCJcIjt1LnN1YnNjcmliZSh7bmV4dDpzPT57aWYocy50eXBlIT09XCJoZWFkZXJzXCImJnMudHlwZT09PVwiZGF0YVwiJiZzLmRhdGEpe2xldCBnPW4uZGVjb2RlKHMuZGF0YSx7c3RyZWFtOiEwfSk7YSs9ZztsZXQgcj1hLnNwbGl0KC9cXG5cXG4vKTthPXIucG9wKCl8fFwiXCI7Zm9yKGxldCBsIG9mIHIpZShsKX19LGVycm9yOnM9Pm8uZXJyb3IocyksY29tcGxldGU6KCk9PnthJiYoYSs9bi5kZWNvZGUoKSxlKGEpKSxvLmNvbXBsZXRlKCl9fSk7ZnVuY3Rpb24gZShzKXtsZXQgZz1zLnNwbGl0KGBcbmApLHI9W107Zm9yKGxldCBsIG9mIGcpbC5zdGFydHNXaXRoKFwiZGF0YTogXCIpJiZyLnB1c2gobC5zbGljZSg2KSk7aWYoci5sZW5ndGg+MCl0cnl7bGV0IGw9ci5qb2luKGBcbmApLEU9SlNPTi5wYXJzZShsKTtvLm5leHQoRSl9Y2F0Y2gobCl7by5lcnJvcihsKX19cmV0dXJuIG8uYXNPYnNlcnZhYmxlKCl9O2ltcG9ydHtTdWJqZWN0IGFzIEFlfWZyb21cInJ4anNcIjtpbXBvcnQqYXMgWSBmcm9tXCJAYWctdWkvcHJvdG9cIjt2YXIgaj11PT57bGV0IG89bmV3IEFlLG49bmV3IFVpbnQ4QXJyYXkoMCk7dS5zdWJzY3JpYmUoe25leHQ6ZT0+e2lmKGUudHlwZSE9PVwiaGVhZGVyc1wiJiZlLnR5cGU9PT1cImRhdGFcIiYmZS5kYXRhKXtsZXQgcz1uZXcgVWludDhBcnJheShuLmxlbmd0aCtlLmRhdGEubGVuZ3RoKTtzLnNldChuLDApLHMuc2V0KGUuZGF0YSxuLmxlbmd0aCksbj1zLGEoKX19LGVycm9yOmU9Pm8uZXJyb3IoZSksY29tcGxldGU6KCk9PntpZihuLmxlbmd0aD4wKXRyeXthKCl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKFwiSW5jb21wbGV0ZSBvciBpbnZhbGlkIHByb3RvY29sIGJ1ZmZlciBkYXRhIGF0IHN0cmVhbSBlbmRcIil9by5jb21wbGV0ZSgpfX0pO2Z1bmN0aW9uIGEoKXtmb3IoO24ubGVuZ3RoPj00Oyl7bGV0IGc9NCtuZXcgRGF0YVZpZXcobi5idWZmZXIsbi5ieXRlT2Zmc2V0LDQpLmdldFVpbnQzMigwLCExKTtpZihuLmxlbmd0aDxnKWJyZWFrO3RyeXtsZXQgcj1uLnNsaWNlKDQsZyksbD1ZLmRlY29kZShyKTtvLm5leHQobCksbj1uLnNsaWNlKGcpfWNhdGNoKHIpe2xldCBsPXIgaW5zdGFuY2VvZiBFcnJvcj9yLm1lc3NhZ2U6U3RyaW5nKHIpO28uZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gZGVjb2RlIHByb3RvY29sIGJ1ZmZlciBtZXNzYWdlOiAke2x9YCkpO3JldHVybn19fXJldHVybiBvLmFzT2JzZXJ2YWJsZSgpfTtpbXBvcnQqYXMgUSBmcm9tXCJAYWctdWkvcHJvdG9cIjt2YXIgSj11PT57bGV0IG89bmV3IGhlLG49bmV3IE1lLGE9ITE7cmV0dXJuIHUuc3Vic2NyaWJlKHtuZXh0OmU9PntuLm5leHQoZSksZS50eXBlPT09XCJoZWFkZXJzXCImJiFhPyhhPSEwLGUuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik9PT1RLkFHVUlfTUVESUFfVFlQRT9qKG4pLnN1YnNjcmliZSh7bmV4dDpnPT5vLm5leHQoZyksZXJyb3I6Zz0+by5lcnJvcihnKSxjb21wbGV0ZTooKT0+by5jb21wbGV0ZSgpfSk6QihuKS5zdWJzY3JpYmUoe25leHQ6Zz0+e3RyeXtsZXQgcj12ZS5wYXJzZShnKTtvLm5leHQocil9Y2F0Y2gocil7by5lcnJvcihyKX19LGVycm9yOmc9Pm8uZXJyb3IoZyksY29tcGxldGU6KCk9Pm8uY29tcGxldGUoKX0pKTphfHxvLmVycm9yKG5ldyBFcnJvcihcIk5vIGhlYWRlcnMgZXZlbnQgcmVjZWl2ZWQgYmVmb3JlIGRhdGEgZXZlbnRzXCIpKX0sZXJyb3I6ZT0+e24uZXJyb3IoZSksby5lcnJvcihlKX0sY29tcGxldGU6KCk9PntuLmNvbXBsZXRlKCl9fSksby5hc09ic2VydmFibGUoKX07aW1wb3J0e21lcmdlTWFwIGFzIERlfWZyb21cInJ4anMvb3BlcmF0b3JzXCI7aW1wb3J0e2FwcGx5UGF0Y2ggYXMgSGV9ZnJvbVwiZmFzdC1qc29uLXBhdGNoXCI7aW1wb3J0e0V2ZW50VHlwZSBhcyBJfWZyb21cIkBhZy11aS9jb3JlXCI7aW1wb3J0e3ogYXMgcH1mcm9tXCJ6b2RcIjt2YXIgQT1wLmVudW0oW1wiVGV4dE1lc3NhZ2VTdGFydFwiLFwiVGV4dE1lc3NhZ2VDb250ZW50XCIsXCJUZXh0TWVzc2FnZUVuZFwiLFwiQWN0aW9uRXhlY3V0aW9uU3RhcnRcIixcIkFjdGlvbkV4ZWN1dGlvbkFyZ3NcIixcIkFjdGlvbkV4ZWN1dGlvbkVuZFwiLFwiQWN0aW9uRXhlY3V0aW9uUmVzdWx0XCIsXCJBZ2VudFN0YXRlTWVzc2FnZVwiLFwiTWV0YUV2ZW50XCIsXCJSdW5TdGFydGVkXCIsXCJSdW5GaW5pc2hlZFwiLFwiUnVuRXJyb3JcIixcIk5vZGVTdGFydGVkXCIsXCJOb2RlRmluaXNoZWRcIl0pLHllPXAuZW51bShbXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiLFwiUHJlZGljdFN0YXRlXCIsXCJFeGl0XCJdKSxDZT1wLm9iamVjdCh7dHlwZTpwLmxpdGVyYWwoQS5lbnVtLlRleHRNZXNzYWdlU3RhcnQpLG1lc3NhZ2VJZDpwLnN0cmluZygpLHBhcmVudE1lc3NhZ2VJZDpwLnN0cmluZygpLm9wdGlvbmFsKCkscm9sZTpwLnN0cmluZygpLm9wdGlvbmFsKCl9KSxSZT1wLm9iamVjdCh7dHlwZTpwLmxpdGVyYWwoQS5lbnVtLlRleHRNZXNzYWdlQ29udGVudCksbWVzc2FnZUlkOnAuc3RyaW5nKCksY29udGVudDpwLnN0cmluZygpfSksX2U9cC5vYmplY3Qoe3R5cGU6cC5saXRlcmFsKEEuZW51bS5UZXh0TWVzc2FnZUVuZCksbWVzc2FnZUlkOnAuc3RyaW5nKCl9KSxOZT1wLm9iamVjdCh7dHlwZTpwLmxpdGVyYWwoQS5lbnVtLkFjdGlvbkV4ZWN1dGlvblN0YXJ0KSxhY3Rpb25FeGVjdXRpb25JZDpwLnN0cmluZygpLGFjdGlvbk5hbWU6cC5zdHJpbmcoKSxwYXJlbnRNZXNzYWdlSWQ6cC5zdHJpbmcoKS5vcHRpb25hbCgpfSkseGU9cC5vYmplY3Qoe3R5cGU6cC5saXRlcmFsKEEuZW51bS5BY3Rpb25FeGVjdXRpb25BcmdzKSxhY3Rpb25FeGVjdXRpb25JZDpwLnN0cmluZygpLGFyZ3M6cC5zdHJpbmcoKX0pLEllPXAub2JqZWN0KHt0eXBlOnAubGl0ZXJhbChBLmVudW0uQWN0aW9uRXhlY3V0aW9uRW5kKSxhY3Rpb25FeGVjdXRpb25JZDpwLnN0cmluZygpfSksTGU9cC5vYmplY3Qoe3R5cGU6cC5saXRlcmFsKEEuZW51bS5BY3Rpb25FeGVjdXRpb25SZXN1bHQpLGFjdGlvbk5hbWU6cC5zdHJpbmcoKSxhY3Rpb25FeGVjdXRpb25JZDpwLnN0cmluZygpLHJlc3VsdDpwLnN0cmluZygpfSksT2U9cC5vYmplY3Qoe3R5cGU6cC5saXRlcmFsKEEuZW51bS5BZ2VudFN0YXRlTWVzc2FnZSksdGhyZWFkSWQ6cC5zdHJpbmcoKSxhZ2VudE5hbWU6cC5zdHJpbmcoKSxub2RlTmFtZTpwLnN0cmluZygpLHJ1bklkOnAuc3RyaW5nKCksYWN0aXZlOnAuYm9vbGVhbigpLHJvbGU6cC5zdHJpbmcoKSxzdGF0ZTpwLnN0cmluZygpLHJ1bm5pbmc6cC5ib29sZWFuKCl9KSx3ZT1wLm9iamVjdCh7dHlwZTpwLmxpdGVyYWwoQS5lbnVtLk1ldGFFdmVudCksbmFtZTp5ZSx2YWx1ZTpwLmFueSgpfSksUGU9cC5vYmplY3Qoe3R5cGU6cC5saXRlcmFsKEEuZW51bS5SdW5FcnJvciksbWVzc2FnZTpwLnN0cmluZygpLGNvZGU6cC5zdHJpbmcoKS5vcHRpb25hbCgpfSksZG49cC5kaXNjcmltaW5hdGVkVW5pb24oXCJ0eXBlXCIsW0NlLFJlLF9lLE5lLHhlLEllLExlLE9lLHdlLFBlXSksZm49cC5vYmplY3Qoe2lkOnAuc3RyaW5nKCkscm9sZTpwLnN0cmluZygpLGNvbnRlbnQ6cC5zdHJpbmcoKSxwYXJlbnRNZXNzYWdlSWQ6cC5zdHJpbmcoKS5vcHRpb25hbCgpfSksVG49cC5vYmplY3Qoe2lkOnAuc3RyaW5nKCksbmFtZTpwLnN0cmluZygpLGFyZ3VtZW50czpwLmFueSgpLHBhcmVudE1lc3NhZ2VJZDpwLnN0cmluZygpLm9wdGlvbmFsKCl9KSxBbj1wLm9iamVjdCh7aWQ6cC5zdHJpbmcoKSxyZXN1bHQ6cC5hbnkoKSxhY3Rpb25FeGVjdXRpb25JZDpwLnN0cmluZygpLGFjdGlvbk5hbWU6cC5zdHJpbmcoKX0pO2ltcG9ydCBHZSBmcm9tXCJ1bnRydW5jYXRlLWpzb25cIjt2YXIgJD0odSxvLG4pPT5hPT57bGV0IGU9e30scz0hMCxnPSEwLHI9XCJcIixsPW51bGwsRT1udWxsLE09W10sdz17fSxkPWk9Pnt0eXBlb2YgaT09XCJvYmplY3RcIiYmaSE9PW51bGwmJihcIm1lc3NhZ2VzXCJpbiBpJiZkZWxldGUgaS5tZXNzYWdlcyxlPWkpfTtyZXR1cm4gYS5waXBlKERlKGk9Pntzd2l0Y2goaS50eXBlKXtjYXNlIEkuVEVYVF9NRVNTQUdFX1NUQVJUOntsZXQgdD1pO3JldHVyblt7dHlwZTpBLmVudW0uVGV4dE1lc3NhZ2VTdGFydCxtZXNzYWdlSWQ6dC5tZXNzYWdlSWQscm9sZTp0LnJvbGV9XX1jYXNlIEkuVEVYVF9NRVNTQUdFX0NPTlRFTlQ6e2xldCB0PWk7cmV0dXJuW3t0eXBlOkEuZW51bS5UZXh0TWVzc2FnZUNvbnRlbnQsbWVzc2FnZUlkOnQubWVzc2FnZUlkLGNvbnRlbnQ6dC5kZWx0YX1dfWNhc2UgSS5URVhUX01FU1NBR0VfRU5EOntsZXQgdD1pO3JldHVyblt7dHlwZTpBLmVudW0uVGV4dE1lc3NhZ2VFbmQsbWVzc2FnZUlkOnQubWVzc2FnZUlkfV19Y2FzZSBJLlRPT0xfQ0FMTF9TVEFSVDp7bGV0IHQ9aTtyZXR1cm4gTS5wdXNoKHtpZDp0LnRvb2xDYWxsSWQsdHlwZTpcImZ1bmN0aW9uXCIsZnVuY3Rpb246e25hbWU6dC50b29sQ2FsbE5hbWUsYXJndW1lbnRzOlwiXCJ9fSksZz0hMCx3W3QudG9vbENhbGxJZF09dC50b29sQ2FsbE5hbWUsW3t0eXBlOkEuZW51bS5BY3Rpb25FeGVjdXRpb25TdGFydCxhY3Rpb25FeGVjdXRpb25JZDp0LnRvb2xDYWxsSWQsYWN0aW9uTmFtZTp0LnRvb2xDYWxsTmFtZSxwYXJlbnRNZXNzYWdlSWQ6dC5wYXJlbnRNZXNzYWdlSWR9XX1jYXNlIEkuVE9PTF9DQUxMX0FSR1M6e2xldCB0PWksUz1NLmZpbmQoYz0+Yy5pZD09PXQudG9vbENhbGxJZCk7aWYoIVMpcmV0dXJuIGNvbnNvbGUud2FybihgVE9PTF9DQUxMX0FSR1M6IE5vIHRvb2wgY2FsbCBmb3VuZCB3aXRoIElEICcke3QudG9vbENhbGxJZH0nYCksW107Uy5mdW5jdGlvbi5hcmd1bWVudHMrPXQuZGVsdGE7bGV0IG09ITE7aWYoRSl7bGV0IGM9RS5maW5kKFQ9PlQudG9vbD09Uy5mdW5jdGlvbi5uYW1lKTtpZihjKXRyeXtsZXQgVD1KU09OLnBhcnNlKEdlKFMuZnVuY3Rpb24uYXJndW1lbnRzKSk7Yy50b29sX2FyZ3VtZW50JiZjLnRvb2xfYXJndW1lbnQgaW4gVD8oZChIKEwoe30sZSkse1tjLnN0YXRlX2tleV06VFtjLnRvb2xfYXJndW1lbnRdfSkpLG09ITApOmMudG9vbF9hcmd1bWVudHx8KGQoSChMKHt9LGUpLHtbYy5zdGF0ZV9rZXldOlR9KSksbT0hMCl9Y2F0Y2goVCl7fX1yZXR1cm5be3R5cGU6QS5lbnVtLkFjdGlvbkV4ZWN1dGlvbkFyZ3MsYWN0aW9uRXhlY3V0aW9uSWQ6dC50b29sQ2FsbElkLGFyZ3M6dC5kZWx0YX0sLi4ubT9be3R5cGU6QS5lbnVtLkFnZW50U3RhdGVNZXNzYWdlLHRocmVhZElkOnUsYWdlbnROYW1lOm4sbm9kZU5hbWU6cixydW5JZDpvLHJ1bm5pbmc6cyxyb2xlOlwiYXNzaXN0YW50XCIsc3RhdGU6SlNPTi5zdHJpbmdpZnkoZSksYWN0aXZlOmd9XTpbXV19Y2FzZSBJLlRPT0xfQ0FMTF9FTkQ6e2xldCB0PWk7cmV0dXJuW3t0eXBlOkEuZW51bS5BY3Rpb25FeGVjdXRpb25FbmQsYWN0aW9uRXhlY3V0aW9uSWQ6dC50b29sQ2FsbElkfV19Y2FzZSBJLlRPT0xfQ0FMTF9SRVNVTFQ6e2xldCB0PWk7cmV0dXJuW3t0eXBlOkEuZW51bS5BY3Rpb25FeGVjdXRpb25SZXN1bHQsYWN0aW9uRXhlY3V0aW9uSWQ6dC50b29sQ2FsbElkLHJlc3VsdDp0LmNvbnRlbnQsYWN0aW9uTmFtZTp3W3QudG9vbENhbGxJZF18fFwidW5rbm93blwifV19Y2FzZSBJLlJBVzpyZXR1cm5bXTtjYXNlIEkuQ1VTVE9NOntsZXQgdD1pO3N3aXRjaCh0Lm5hbWUpe2Nhc2VcIkV4aXRcIjpzPSExO2JyZWFrO2Nhc2VcIlByZWRpY3RTdGF0ZVwiOkU9dC52YWx1ZTticmVha31yZXR1cm5be3R5cGU6QS5lbnVtLk1ldGFFdmVudCxuYW1lOnQubmFtZSx2YWx1ZTp0LnZhbHVlfV19Y2FzZSBJLlNUQVRFX1NOQVBTSE9UOnJldHVybiBkKGkuc25hcHNob3QpLFt7dHlwZTpBLmVudW0uQWdlbnRTdGF0ZU1lc3NhZ2UsdGhyZWFkSWQ6dSxhZ2VudE5hbWU6bixub2RlTmFtZTpyLHJ1bklkOm8scnVubmluZzpzLHJvbGU6XCJhc3Npc3RhbnRcIixzdGF0ZTpKU09OLnN0cmluZ2lmeShlKSxhY3RpdmU6Z31dO2Nhc2UgSS5TVEFURV9ERUxUQTp7bGV0IFM9SGUoZSxpLmRlbHRhLCEwLCExKTtyZXR1cm4gUz8oZChTLm5ld0RvY3VtZW50KSxbe3R5cGU6QS5lbnVtLkFnZW50U3RhdGVNZXNzYWdlLHRocmVhZElkOnUsYWdlbnROYW1lOm4sbm9kZU5hbWU6cixydW5JZDpvLHJ1bm5pbmc6cyxyb2xlOlwiYXNzaXN0YW50XCIsc3RhdGU6SlNPTi5zdHJpbmdpZnkoZSksYWN0aXZlOmd9XSk6W119Y2FzZSBJLk1FU1NBR0VTX1NOQVBTSE9UOnJldHVybiBsPWkubWVzc2FnZXMsW3t0eXBlOkEuZW51bS5BZ2VudFN0YXRlTWVzc2FnZSx0aHJlYWRJZDp1LGFnZW50TmFtZTpuLG5vZGVOYW1lOnIscnVuSWQ6byxydW5uaW5nOnMscm9sZTpcImFzc2lzdGFudFwiLHN0YXRlOkpTT04uc3RyaW5naWZ5KEwoTCh7fSxlKSxsP3ttZXNzYWdlczpsfTp7fSkpLGFjdGl2ZTohMH1dO2Nhc2UgSS5SVU5fU1RBUlRFRDpyZXR1cm5bXTtjYXNlIEkuUlVOX0ZJTklTSEVEOnJldHVybiBsJiYoZS5tZXNzYWdlcz1sKSxbe3R5cGU6QS5lbnVtLkFnZW50U3RhdGVNZXNzYWdlLHRocmVhZElkOnUsYWdlbnROYW1lOm4sbm9kZU5hbWU6cixydW5JZDpvLHJ1bm5pbmc6cyxyb2xlOlwiYXNzaXN0YW50XCIsc3RhdGU6SlNPTi5zdHJpbmdpZnkoTChMKHt9LGUpLGw/e21lc3NhZ2VzOkZlKGwpfTp7fSkpLGFjdGl2ZTohMX1dO2Nhc2UgSS5SVU5fRVJST1I6e2xldCB0PWk7cmV0dXJuW3t0eXBlOkEuZW51bS5SdW5FcnJvcixtZXNzYWdlOnQubWVzc2FnZSxjb2RlOnQuY29kZX1dfWNhc2UgSS5TVEVQX1NUQVJURUQ6cmV0dXJuIHI9aS5zdGVwTmFtZSxNPVtdLEU9bnVsbCxbe3R5cGU6QS5lbnVtLkFnZW50U3RhdGVNZXNzYWdlLHRocmVhZElkOnUsYWdlbnROYW1lOm4sbm9kZU5hbWU6cixydW5JZDpvLHJ1bm5pbmc6cyxyb2xlOlwiYXNzaXN0YW50XCIsc3RhdGU6SlNPTi5zdHJpbmdpZnkoZSksYWN0aXZlOiEwfV07Y2FzZSBJLlNURVBfRklOSVNIRUQ6cmV0dXJuIE09W10sRT1udWxsLFt7dHlwZTpBLmVudW0uQWdlbnRTdGF0ZU1lc3NhZ2UsdGhyZWFkSWQ6dSxhZ2VudE5hbWU6bixub2RlTmFtZTpyLHJ1bklkOm8scnVubmluZzpzLHJvbGU6XCJhc3Npc3RhbnRcIixzdGF0ZTpKU09OLnN0cmluZ2lmeShlKSxhY3RpdmU6ITF9XTtkZWZhdWx0OnJldHVybltdfX0pKX07ZnVuY3Rpb24gRmUodSl7dmFyIG47bGV0IG89W107Zm9yKGxldCBhIG9mIHUpaWYoYS5yb2xlPT09XCJhc3Npc3RhbnRcInx8YS5yb2xlPT09XCJ1c2VyXCJ8fGEucm9sZT09PVwic3lzdGVtXCIpe2lmKGEuY29udGVudCl7bGV0IGU9e2lkOmEuaWQscm9sZTphLnJvbGUsY29udGVudDphLmNvbnRlbnR9O28ucHVzaChlKX1pZihhLnJvbGU9PT1cImFzc2lzdGFudFwiJiZhLnRvb2xDYWxscyYmYS50b29sQ2FsbHMubGVuZ3RoPjApZm9yKGxldCBlIG9mIGEudG9vbENhbGxzKXtsZXQgcz17aWQ6ZS5pZCxuYW1lOmUuZnVuY3Rpb24ubmFtZSxhcmd1bWVudHM6SlNPTi5wYXJzZShlLmZ1bmN0aW9uLmFyZ3VtZW50cykscGFyZW50TWVzc2FnZUlkOmEuaWR9O28ucHVzaChzKX19ZWxzZSBpZihhLnJvbGU9PT1cInRvb2xcIil7bGV0IGU9XCJ1bmtub3duXCI7Zm9yKGxldCBnIG9mIHUpaWYoZy5yb2xlPT09XCJhc3Npc3RhbnRcIiYmKChuPWcudG9vbENhbGxzKSE9bnVsbCYmbi5sZW5ndGgpKXtmb3IobGV0IHIgb2YgZy50b29sQ2FsbHMpaWYoci5pZD09PWEudG9vbENhbGxJZCl7ZT1yLmZ1bmN0aW9uLm5hbWU7YnJlYWt9fWxldCBzPXtpZDphLmlkLHJlc3VsdDphLmNvbnRlbnQsYWN0aW9uRXhlY3V0aW9uSWQ6YS50b29sQ2FsbElkLGFjdGlvbk5hbWU6ZX07by5wdXNoKHMpfXJldHVybiBvfWltcG9ydHt2NCBhcyBYfWZyb21cInV1aWRcIjtpbXBvcnR7Y2F0Y2hFcnJvciBhcyBLZSxtYXAgYXMgWix0YXAgYXMga2V9ZnJvbVwicnhqcy9vcGVyYXRvcnNcIjtpbXBvcnR7ZmluYWxpemUgYXMgemV9ZnJvbVwicnhqcy9vcGVyYXRvcnNcIjtpbXBvcnR7cGlwZSBhcyBCZSxmcm9tIGFzIGplLG9mIGFzIEplfWZyb21cInJ4anNcIjtpbXBvcnR7bGFzdFZhbHVlRnJvbSBhcyAkZX1mcm9tXCJyeGpzXCI7aW1wb3J0e21lcmdlTWFwIGFzIFVlLGZpbmFsaXplIGFzIFhlfWZyb21cInJ4anNcIjtpbXBvcnR7RXZlbnRUeXBlIGFzIGZ9ZnJvbVwiQGFnLXVpL2NvcmVcIjt2YXIgcT11PT5vPT57bGV0IG4sYSxlLHM9KCk9PntpZighbnx8ZSE9PVwidGV4dFwiKXRocm93IG5ldyBFcnJvcihcIk5vIHRleHQgbWVzc2FnZSB0byBjbG9zZVwiKTtsZXQgbD17dHlwZTpmLlRFWFRfTUVTU0FHRV9FTkQsbWVzc2FnZUlkOm4ubWVzc2FnZUlkfTtyZXR1cm4gZT12b2lkIDAsbj12b2lkIDAsdSYmY29uc29sZS5kZWJ1ZyhcIltUUkFOU0ZPUk1dOiBURVhUX01FU1NBR0VfRU5EXCIsSlNPTi5zdHJpbmdpZnkobCkpLGx9LGc9KCk9PntpZighYXx8ZSE9PVwidG9vbFwiKXRocm93IG5ldyBFcnJvcihcIk5vIHRvb2wgY2FsbCB0byBjbG9zZVwiKTtsZXQgbD17dHlwZTpmLlRPT0xfQ0FMTF9FTkQsdG9vbENhbGxJZDphLnRvb2xDYWxsSWR9O3JldHVybiBlPXZvaWQgMCxhPXZvaWQgMCx1JiZjb25zb2xlLmRlYnVnKFwiW1RSQU5TRk9STV06IFRPT0xfQ0FMTF9FTkRcIixKU09OLnN0cmluZ2lmeShsKSksbH0scj0oKT0+ZT09PVwidGV4dFwiP1tzKCldOmU9PT1cInRvb2xcIj9bZygpXTpbXTtyZXR1cm4gby5waXBlKFVlKGw9Pntzd2l0Y2gobC50eXBlKXtjYXNlIGYuVEVYVF9NRVNTQUdFX1NUQVJUOmNhc2UgZi5URVhUX01FU1NBR0VfQ09OVEVOVDpjYXNlIGYuVEVYVF9NRVNTQUdFX0VORDpjYXNlIGYuVE9PTF9DQUxMX1NUQVJUOmNhc2UgZi5UT09MX0NBTExfQVJHUzpjYXNlIGYuVE9PTF9DQUxMX0VORDpjYXNlIGYuVE9PTF9DQUxMX1JFU1VMVDpjYXNlIGYuU1RBVEVfU05BUFNIT1Q6Y2FzZSBmLlNUQVRFX0RFTFRBOmNhc2UgZi5NRVNTQUdFU19TTkFQU0hPVDpjYXNlIGYuQ1VTVE9NOmNhc2UgZi5SVU5fU1RBUlRFRDpjYXNlIGYuUlVOX0ZJTklTSEVEOmNhc2UgZi5SVU5fRVJST1I6Y2FzZSBmLlNURVBfU1RBUlRFRDpjYXNlIGYuU1RFUF9GSU5JU0hFRDpjYXNlIGYuVEhJTktJTkdfU1RBUlQ6Y2FzZSBmLlRISU5LSU5HX0VORDpjYXNlIGYuVEhJTktJTkdfVEVYVF9NRVNTQUdFX1NUQVJUOmNhc2UgZi5USElOS0lOR19URVhUX01FU1NBR0VfQ09OVEVOVDpjYXNlIGYuVEhJTktJTkdfVEVYVF9NRVNTQUdFX0VORDpyZXR1cm5bLi4ucigpLGxdO2Nhc2UgZi5SQVc6cmV0dXJuW2xdO2Nhc2UgZi5URVhUX01FU1NBR0VfQ0hVTks6bGV0IE09bCx3PVtdO2lmKChlIT09XCJ0ZXh0XCJ8fE0ubWVzc2FnZUlkIT09dm9pZCAwJiZNLm1lc3NhZ2VJZCE9PShuPT1udWxsP3ZvaWQgMDpuLm1lc3NhZ2VJZCkpJiZ3LnB1c2goLi4ucigpKSxlIT09XCJ0ZXh0XCIpe2lmKE0ubWVzc2FnZUlkPT09dm9pZCAwKXRocm93IG5ldyBFcnJvcihcIkZpcnN0IFRFWFRfTUVTU0FHRV9DSFVOSyBtdXN0IGhhdmUgYSBtZXNzYWdlSWRcIik7bj17bWVzc2FnZUlkOk0ubWVzc2FnZUlkfSxlPVwidGV4dFwiO2xldCB0PXt0eXBlOmYuVEVYVF9NRVNTQUdFX1NUQVJULG1lc3NhZ2VJZDpNLm1lc3NhZ2VJZCxyb2xlOk0ucm9sZXx8XCJhc3Npc3RhbnRcIn07dy5wdXNoKHQpLHUmJmNvbnNvbGUuZGVidWcoXCJbVFJBTlNGT1JNXTogVEVYVF9NRVNTQUdFX1NUQVJUXCIsSlNPTi5zdHJpbmdpZnkodCkpfWlmKE0uZGVsdGEhPT12b2lkIDApe2xldCB0PXt0eXBlOmYuVEVYVF9NRVNTQUdFX0NPTlRFTlQsbWVzc2FnZUlkOm4ubWVzc2FnZUlkLGRlbHRhOk0uZGVsdGF9O3cucHVzaCh0KSx1JiZjb25zb2xlLmRlYnVnKFwiW1RSQU5TRk9STV06IFRFWFRfTUVTU0FHRV9DT05URU5UXCIsSlNPTi5zdHJpbmdpZnkodCkpfXJldHVybiB3O2Nhc2UgZi5UT09MX0NBTExfQ0hVTks6bGV0IGQ9bCxpPVtdO2lmKChlIT09XCJ0b29sXCJ8fGQudG9vbENhbGxJZCE9PXZvaWQgMCYmZC50b29sQ2FsbElkIT09KGE9PW51bGw/dm9pZCAwOmEudG9vbENhbGxJZCkpJiZpLnB1c2goLi4ucigpKSxlIT09XCJ0b29sXCIpe2lmKGQudG9vbENhbGxJZD09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBUT09MX0NBTExfQ0hVTksgbXVzdCBoYXZlIGEgdG9vbENhbGxJZFwiKTtpZihkLnRvb2xDYWxsTmFtZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoXCJGaXJzdCBUT09MX0NBTExfQ0hVTksgbXVzdCBoYXZlIGEgdG9vbENhbGxOYW1lXCIpO2E9e3Rvb2xDYWxsSWQ6ZC50b29sQ2FsbElkLHRvb2xDYWxsTmFtZTpkLnRvb2xDYWxsTmFtZSxwYXJlbnRNZXNzYWdlSWQ6ZC5wYXJlbnRNZXNzYWdlSWR9LGU9XCJ0b29sXCI7bGV0IHQ9e3R5cGU6Zi5UT09MX0NBTExfU1RBUlQsdG9vbENhbGxJZDpkLnRvb2xDYWxsSWQsdG9vbENhbGxOYW1lOmQudG9vbENhbGxOYW1lLHBhcmVudE1lc3NhZ2VJZDpkLnBhcmVudE1lc3NhZ2VJZH07aS5wdXNoKHQpLHUmJmNvbnNvbGUuZGVidWcoXCJbVFJBTlNGT1JNXTogVE9PTF9DQUxMX1NUQVJUXCIsSlNPTi5zdHJpbmdpZnkodCkpfWlmKGQuZGVsdGEhPT12b2lkIDApe2xldCB0PXt0eXBlOmYuVE9PTF9DQUxMX0FSR1MsdG9vbENhbGxJZDphLnRvb2xDYWxsSWQsZGVsdGE6ZC5kZWx0YX07aS5wdXNoKHQpLHUmJmNvbnNvbGUuZGVidWcoXCJbVFJBTlNGT1JNXTogVE9PTF9DQUxMX0FSR1NcIixKU09OLnN0cmluZ2lmeSh0KSl9cmV0dXJuIGl9bGV0IEU9bC50eXBlfSksWGUoKCk9PnIoKSkpfTt2YXIgRz1jbGFzc3tjb25zdHJ1Y3Rvcih7YWdlbnRJZDpvLGRlc2NyaXB0aW9uOm4sdGhyZWFkSWQ6YSxpbml0aWFsTWVzc2FnZXM6ZSxpbml0aWFsU3RhdGU6cyxkZWJ1ZzpnfT17fSl7dGhpcy5kZWJ1Zz0hMTt0aGlzLnN1YnNjcmliZXJzPVtdO3RoaXMuYWdlbnRJZD1vLHRoaXMuZGVzY3JpcHRpb249biE9bnVsbD9uOlwiXCIsdGhpcy50aHJlYWRJZD1hIT1udWxsP2E6WCgpLHRoaXMubWVzc2FnZXM9QyhlIT1udWxsP2U6W10pLHRoaXMuc3RhdGU9QyhzIT1udWxsP3M6e30pLHRoaXMuZGVidWc9ZyE9bnVsbD9nOiExfXN1YnNjcmliZShvKXtyZXR1cm4gdGhpcy5zdWJzY3JpYmVycy5wdXNoKG8pLHt1bnN1YnNjcmliZTooKT0+e3RoaXMuc3Vic2NyaWJlcnM9dGhpcy5zdWJzY3JpYmVycy5maWx0ZXIobj0+biE9PW8pfX19YXN5bmMgcnVuQWdlbnQobyxuKXt2YXIgbDt0aGlzLmFnZW50SWQ9KGw9dGhpcy5hZ2VudElkKSE9bnVsbD9sOlgoKTtsZXQgYT10aGlzLnByZXBhcmVSdW5BZ2VudElucHV0KG8pLGUscz1uZXcgU2V0KHRoaXMubWVzc2FnZXMubWFwKEU9PkUuaWQpKSxnPVt7b25SdW5GaW5pc2hlZEV2ZW50OkU9PntlPUUucmVzdWx0fX0sLi4udGhpcy5zdWJzY3JpYmVycyxuIT1udWxsP246e31dO2F3YWl0IHRoaXMub25Jbml0aWFsaXplKGEsZyk7bGV0IHI9QmUoKCk9PnRoaXMucnVuKGEpLHEodGhpcy5kZWJ1ZyksVSh0aGlzLmRlYnVnKSxFPT50aGlzLmFwcGx5KGEsRSxnKSxFPT50aGlzLnByb2Nlc3NBcHBseUV2ZW50cyhhLEUsZyksS2UoRT0+dGhpcy5vbkVycm9yKGEsRSxnKSksemUoKCk9Pnt0aGlzLm9uRmluYWxpemUoYSxnKX0pKTtyZXR1cm4gJGUocihKZShudWxsKSkpLnRoZW4oKCk9PntsZXQgRT1DKHRoaXMubWVzc2FnZXMpLmZpbHRlcihNPT4hcy5oYXMoTS5pZCkpO3JldHVybntyZXN1bHQ6ZSxuZXdNZXNzYWdlczpFfX0pfWFib3J0UnVuKCl7fWFwcGx5KG8sbixhKXtyZXR1cm4gayhvLG4sdGhpcyxhKX1wcm9jZXNzQXBwbHlFdmVudHMobyxuLGEpe3JldHVybiBuLnBpcGUoa2UoZT0+e2UubWVzc2FnZXMmJih0aGlzLm1lc3NhZ2VzPWUubWVzc2FnZXMsYS5mb3JFYWNoKHM9Pnt2YXIgZzsoZz1zLm9uTWVzc2FnZXNDaGFuZ2VkKT09bnVsbHx8Zy5jYWxsKHMse21lc3NhZ2VzOnRoaXMubWVzc2FnZXMsc3RhdGU6dGhpcy5zdGF0ZSxhZ2VudDp0aGlzLGlucHV0Om99KX0pKSxlLnN0YXRlJiYodGhpcy5zdGF0ZT1lLnN0YXRlLGEuZm9yRWFjaChzPT57dmFyIGc7KGc9cy5vblN0YXRlQ2hhbmdlZCk9PW51bGx8fGcuY2FsbChzLHtzdGF0ZTp0aGlzLnN0YXRlLG1lc3NhZ2VzOnRoaXMubWVzc2FnZXMsYWdlbnQ6dGhpcyxpbnB1dDpvfSl9KSl9KSl9cHJlcGFyZVJ1bkFnZW50SW5wdXQobyl7dmFyIG4sYSxlO3JldHVybnt0aHJlYWRJZDp0aGlzLnRocmVhZElkLHJ1bklkOihvPT1udWxsP3ZvaWQgMDpvLnJ1bklkKXx8WCgpLHRvb2xzOkMoKG49bz09bnVsbD92b2lkIDA6by50b29scykhPW51bGw/bjpbXSksY29udGV4dDpDKChhPW89PW51bGw/dm9pZCAwOm8uY29udGV4dCkhPW51bGw/YTpbXSksZm9yd2FyZGVkUHJvcHM6QygoZT1vPT1udWxsP3ZvaWQgMDpvLmZvcndhcmRlZFByb3BzKSE9bnVsbD9lOnt9KSxzdGF0ZTpDKHRoaXMuc3RhdGUpLG1lc3NhZ2VzOkModGhpcy5tZXNzYWdlcyl9fWFzeW5jIG9uSW5pdGlhbGl6ZShvLG4pe2xldCBhPWF3YWl0IGgobix0aGlzLm1lc3NhZ2VzLHRoaXMuc3RhdGUsKGUscyxnKT0+e3ZhciByO3JldHVybihyPWUub25SdW5Jbml0aWFsaXplZCk9PW51bGw/dm9pZCAwOnIuY2FsbChlLHttZXNzYWdlczpzLHN0YXRlOmcsYWdlbnQ6dGhpcyxpbnB1dDpvfSl9KTsoYS5tZXNzYWdlcyE9PXZvaWQgMHx8YS5zdGF0ZSE9PXZvaWQgMCkmJihhLm1lc3NhZ2VzJiYodGhpcy5tZXNzYWdlcz1hLm1lc3NhZ2VzLG8ubWVzc2FnZXM9YS5tZXNzYWdlcyxuLmZvckVhY2goZT0+e3ZhciBzOyhzPWUub25NZXNzYWdlc0NoYW5nZWQpPT1udWxsfHxzLmNhbGwoZSx7bWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXMsaW5wdXQ6b30pfSkpLGEuc3RhdGUmJih0aGlzLnN0YXRlPWEuc3RhdGUsby5zdGF0ZT1hLnN0YXRlLG4uZm9yRWFjaChlPT57dmFyIHM7KHM9ZS5vblN0YXRlQ2hhbmdlZCk9PW51bGx8fHMuY2FsbChlLHtzdGF0ZTp0aGlzLnN0YXRlLG1lc3NhZ2VzOnRoaXMubWVzc2FnZXMsYWdlbnQ6dGhpcyxpbnB1dDpvfSl9KSkpfW9uRXJyb3IobyxuLGEpe3JldHVybiBqZShoKGEsdGhpcy5tZXNzYWdlcyx0aGlzLnN0YXRlLChlLHMsZyk9Pnt2YXIgcjtyZXR1cm4ocj1lLm9uUnVuRmFpbGVkKT09bnVsbD92b2lkIDA6ci5jYWxsKGUse2Vycm9yOm4sbWVzc2FnZXM6cyxzdGF0ZTpnLGFnZW50OnRoaXMsaW5wdXQ6b30pfSkpLnBpcGUoWihlPT57bGV0IHM9ZTtpZigocy5tZXNzYWdlcyE9PXZvaWQgMHx8cy5zdGF0ZSE9PXZvaWQgMCkmJihzLm1lc3NhZ2VzIT09dm9pZCAwJiYodGhpcy5tZXNzYWdlcz1zLm1lc3NhZ2VzLGEuZm9yRWFjaChnPT57dmFyIHI7KHI9Zy5vbk1lc3NhZ2VzQ2hhbmdlZCk9PW51bGx8fHIuY2FsbChnLHttZXNzYWdlczp0aGlzLm1lc3NhZ2VzLHN0YXRlOnRoaXMuc3RhdGUsYWdlbnQ6dGhpcyxpbnB1dDpvfSl9KSkscy5zdGF0ZSE9PXZvaWQgMCYmKHRoaXMuc3RhdGU9cy5zdGF0ZSxhLmZvckVhY2goZz0+e3ZhciByOyhyPWcub25TdGF0ZUNoYW5nZWQpPT1udWxsfHxyLmNhbGwoZyx7c3RhdGU6dGhpcy5zdGF0ZSxtZXNzYWdlczp0aGlzLm1lc3NhZ2VzLGFnZW50OnRoaXMsaW5wdXQ6b30pfSkpKSxzLnN0b3BQcm9wYWdhdGlvbiE9PSEwKXRocm93IGNvbnNvbGUuZXJyb3IoXCJBZ2VudCBleGVjdXRpb24gZmFpbGVkOlwiLG4pLG47cmV0dXJue319KSl9YXN5bmMgb25GaW5hbGl6ZShvLG4pe2xldCBhPWF3YWl0IGgobix0aGlzLm1lc3NhZ2VzLHRoaXMuc3RhdGUsKGUscyxnKT0+e3ZhciByO3JldHVybihyPWUub25SdW5GaW5hbGl6ZWQpPT1udWxsP3ZvaWQgMDpyLmNhbGwoZSx7bWVzc2FnZXM6cyxzdGF0ZTpnLGFnZW50OnRoaXMsaW5wdXQ6b30pfSk7KGEubWVzc2FnZXMhPT12b2lkIDB8fGEuc3RhdGUhPT12b2lkIDApJiYoYS5tZXNzYWdlcyE9PXZvaWQgMCYmKHRoaXMubWVzc2FnZXM9YS5tZXNzYWdlcyxuLmZvckVhY2goZT0+e3ZhciBzOyhzPWUub25NZXNzYWdlc0NoYW5nZWQpPT1udWxsfHxzLmNhbGwoZSx7bWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXMsaW5wdXQ6b30pfSkpLGEuc3RhdGUhPT12b2lkIDAmJih0aGlzLnN0YXRlPWEuc3RhdGUsbi5mb3JFYWNoKGU9Pnt2YXIgczsocz1lLm9uU3RhdGVDaGFuZ2VkKT09bnVsbHx8cy5jYWxsKGUse3N0YXRlOnRoaXMuc3RhdGUsbWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxhZ2VudDp0aGlzLGlucHV0Om99KX0pKSl9Y2xvbmUoKXtsZXQgbz1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKSk7Zm9yKGxldCBuIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKXtsZXQgYT10aGlzW25dO3R5cGVvZiBhIT1cImZ1bmN0aW9uXCImJihvW25dPUMoYSkpfXJldHVybiBvfWFkZE1lc3NhZ2Uobyl7dGhpcy5tZXNzYWdlcy5wdXNoKG8pLChhc3luYygpPT57dmFyIG4sYSxlO2ZvcihsZXQgcyBvZiB0aGlzLnN1YnNjcmliZXJzKWF3YWl0KChuPXMub25OZXdNZXNzYWdlKT09bnVsbD92b2lkIDA6bi5jYWxsKHMse21lc3NhZ2U6byxtZXNzYWdlczp0aGlzLm1lc3NhZ2VzLHN0YXRlOnRoaXMuc3RhdGUsYWdlbnQ6dGhpc30pKTtpZihvLnJvbGU9PT1cImFzc2lzdGFudFwiJiZvLnRvb2xDYWxscylmb3IobGV0IHMgb2Ygby50b29sQ2FsbHMpZm9yKGxldCBnIG9mIHRoaXMuc3Vic2NyaWJlcnMpYXdhaXQoKGE9Zy5vbk5ld1Rvb2xDYWxsKT09bnVsbD92b2lkIDA6YS5jYWxsKGcse3Rvb2xDYWxsOnMsbWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXN9KSk7Zm9yKGxldCBzIG9mIHRoaXMuc3Vic2NyaWJlcnMpYXdhaXQoKGU9cy5vbk1lc3NhZ2VzQ2hhbmdlZCk9PW51bGw/dm9pZCAwOmUuY2FsbChzLHttZXNzYWdlczp0aGlzLm1lc3NhZ2VzLHN0YXRlOnRoaXMuc3RhdGUsYWdlbnQ6dGhpc30pKX0pKCl9YWRkTWVzc2FnZXMobyl7dGhpcy5tZXNzYWdlcy5wdXNoKC4uLm8pLChhc3luYygpPT57dmFyIG4sYSxlO2ZvcihsZXQgcyBvZiBvKXtmb3IobGV0IGcgb2YgdGhpcy5zdWJzY3JpYmVycylhd2FpdCgobj1nLm9uTmV3TWVzc2FnZSk9PW51bGw/dm9pZCAwOm4uY2FsbChnLHttZXNzYWdlOnMsbWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXN9KSk7aWYocy5yb2xlPT09XCJhc3Npc3RhbnRcIiYmcy50b29sQ2FsbHMpZm9yKGxldCBnIG9mIHMudG9vbENhbGxzKWZvcihsZXQgciBvZiB0aGlzLnN1YnNjcmliZXJzKWF3YWl0KChhPXIub25OZXdUb29sQ2FsbCk9PW51bGw/dm9pZCAwOmEuY2FsbChyLHt0b29sQ2FsbDpnLG1lc3NhZ2VzOnRoaXMubWVzc2FnZXMsc3RhdGU6dGhpcy5zdGF0ZSxhZ2VudDp0aGlzfSkpfWZvcihsZXQgcyBvZiB0aGlzLnN1YnNjcmliZXJzKWF3YWl0KChlPXMub25NZXNzYWdlc0NoYW5nZWQpPT1udWxsP3ZvaWQgMDplLmNhbGwocyx7bWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXN9KSl9KSgpfXNldE1lc3NhZ2VzKG8pe3RoaXMubWVzc2FnZXM9QyhvKSwoYXN5bmMoKT0+e3ZhciBuO2ZvcihsZXQgYSBvZiB0aGlzLnN1YnNjcmliZXJzKWF3YWl0KChuPWEub25NZXNzYWdlc0NoYW5nZWQpPT1udWxsP3ZvaWQgMDpuLmNhbGwoYSx7bWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXN9KSl9KSgpfXNldFN0YXRlKG8pe3RoaXMuc3RhdGU9QyhvKSwoYXN5bmMoKT0+e3ZhciBuO2ZvcihsZXQgYSBvZiB0aGlzLnN1YnNjcmliZXJzKWF3YWl0KChuPWEub25TdGF0ZUNoYW5nZWQpPT1udWxsP3ZvaWQgMDpuLmNhbGwoYSx7bWVzc2FnZXM6dGhpcy5tZXNzYWdlcyxzdGF0ZTp0aGlzLnN0YXRlLGFnZW50OnRoaXN9KSl9KSgpfWxlZ2FjeV90b19iZV9yZW1vdmVkX3J1bkFnZW50QnJpZGdlZChvKXt2YXIgYTt0aGlzLmFnZW50SWQ9KGE9dGhpcy5hZ2VudElkKSE9bnVsbD9hOlgoKTtsZXQgbj10aGlzLnByZXBhcmVSdW5BZ2VudElucHV0KG8pO3JldHVybiB0aGlzLnJ1bihuKS5waXBlKHEodGhpcy5kZWJ1ZyksVSh0aGlzLmRlYnVnKSwkKHRoaXMudGhyZWFkSWQsbi5ydW5JZCx0aGlzLmFnZW50SWQpLGU9PmUucGlwZShaKHM9Pih0aGlzLmRlYnVnJiZjb25zb2xlLmRlYnVnKFwiW0xFR0FDWV06XCIsSlNPTi5zdHJpbmdpZnkocykpLHMpKSkpfX07dmFyIFc9Y2xhc3MgZXh0ZW5kcyBHe2NvbnN0cnVjdG9yKG4pe3ZhciBhO3N1cGVyKG4pO3RoaXMuYWJvcnRDb250cm9sbGVyPW5ldyBBYm9ydENvbnRyb2xsZXI7dGhpcy51cmw9bi51cmwsdGhpcy5oZWFkZXJzPUMoKGE9bi5oZWFkZXJzKSE9bnVsbD9hOnt9KX1yZXF1ZXN0SW5pdChuKXtyZXR1cm57bWV0aG9kOlwiUE9TVFwiLGhlYWRlcnM6SChMKHt9LHRoaXMuaGVhZGVycykse1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uXCIsQWNjZXB0OlwidGV4dC9ldmVudC1zdHJlYW1cIn0pLGJvZHk6SlNPTi5zdHJpbmdpZnkobiksc2lnbmFsOnRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbH19cnVuQWdlbnQobixhKXt2YXIgZTtyZXR1cm4gdGhpcy5hYm9ydENvbnRyb2xsZXI9KGU9bj09bnVsbD92b2lkIDA6bi5hYm9ydENvbnRyb2xsZXIpIT1udWxsP2U6bmV3IEFib3J0Q29udHJvbGxlcixzdXBlci5ydW5BZ2VudChuLGEpfWFib3J0UnVuKCl7dGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKSxzdXBlci5hYm9ydFJ1bigpfXJ1bihuKXtsZXQgYT16KHRoaXMudXJsLHRoaXMucmVxdWVzdEluaXQobikpO3JldHVybiBKKGEpfX07ZXhwb3J0KmZyb21cIkBhZy11aS9jb3JlXCI7ZXhwb3J0e0cgYXMgQWJzdHJhY3RBZ2VudCxXIGFzIEh0dHBBZ2VudCwkIGFzIGNvbnZlcnRUb0xlZ2FjeUV2ZW50cyxrIGFzIGRlZmF1bHRBcHBseUV2ZW50cyxqIGFzIHBhcnNlUHJvdG9TdHJlYW0sQiBhcyBwYXJzZVNTRVN0cmVhbSx6IGFzIHJ1bkh0dHBSZXF1ZXN0LEogYXMgdHJhbnNmb3JtSHR0cEV2ZW50U3RyZWFtLFUgYXMgdmVyaWZ5RXZlbnRzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/client/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/core/dist/index.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime/node_modules/@ag-ui/core/dist/index.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AGUIError: () => (/* binding */ AGUIError),\n/* harmony export */   AssistantMessageSchema: () => (/* binding */ AssistantMessageSchema),\n/* harmony export */   BaseEventSchema: () => (/* binding */ BaseEventSchema),\n/* harmony export */   BaseMessageSchema: () => (/* binding */ BaseMessageSchema),\n/* harmony export */   ContextSchema: () => (/* binding */ ContextSchema),\n/* harmony export */   CustomEventSchema: () => (/* binding */ CustomEventSchema),\n/* harmony export */   DeveloperMessageSchema: () => (/* binding */ DeveloperMessageSchema),\n/* harmony export */   EventSchemas: () => (/* binding */ EventSchemas),\n/* harmony export */   EventType: () => (/* binding */ EventType),\n/* harmony export */   FunctionCallSchema: () => (/* binding */ FunctionCallSchema),\n/* harmony export */   MessageSchema: () => (/* binding */ MessageSchema),\n/* harmony export */   MessagesSnapshotEventSchema: () => (/* binding */ MessagesSnapshotEventSchema),\n/* harmony export */   RawEventSchema: () => (/* binding */ RawEventSchema),\n/* harmony export */   RoleSchema: () => (/* binding */ RoleSchema),\n/* harmony export */   RunAgentInputSchema: () => (/* binding */ RunAgentInputSchema),\n/* harmony export */   RunErrorEventSchema: () => (/* binding */ RunErrorEventSchema),\n/* harmony export */   RunFinishedEventSchema: () => (/* binding */ RunFinishedEventSchema),\n/* harmony export */   RunStartedEventSchema: () => (/* binding */ RunStartedEventSchema),\n/* harmony export */   StateDeltaEventSchema: () => (/* binding */ StateDeltaEventSchema),\n/* harmony export */   StateSchema: () => (/* binding */ StateSchema),\n/* harmony export */   StateSnapshotEventSchema: () => (/* binding */ StateSnapshotEventSchema),\n/* harmony export */   StepFinishedEventSchema: () => (/* binding */ StepFinishedEventSchema),\n/* harmony export */   StepStartedEventSchema: () => (/* binding */ StepStartedEventSchema),\n/* harmony export */   SystemMessageSchema: () => (/* binding */ SystemMessageSchema),\n/* harmony export */   TextMessageChunkEventSchema: () => (/* binding */ TextMessageChunkEventSchema),\n/* harmony export */   TextMessageContentEventSchema: () => (/* binding */ TextMessageContentEventSchema),\n/* harmony export */   TextMessageEndEventSchema: () => (/* binding */ TextMessageEndEventSchema),\n/* harmony export */   TextMessageStartEventSchema: () => (/* binding */ TextMessageStartEventSchema),\n/* harmony export */   ThinkingEndEventSchema: () => (/* binding */ ThinkingEndEventSchema),\n/* harmony export */   ThinkingStartEventSchema: () => (/* binding */ ThinkingStartEventSchema),\n/* harmony export */   ThinkingTextMessageContentEventSchema: () => (/* binding */ ThinkingTextMessageContentEventSchema),\n/* harmony export */   ThinkingTextMessageEndEventSchema: () => (/* binding */ ThinkingTextMessageEndEventSchema),\n/* harmony export */   ThinkingTextMessageStartEventSchema: () => (/* binding */ ThinkingTextMessageStartEventSchema),\n/* harmony export */   ToolCallArgsEventSchema: () => (/* binding */ ToolCallArgsEventSchema),\n/* harmony export */   ToolCallChunkEventSchema: () => (/* binding */ ToolCallChunkEventSchema),\n/* harmony export */   ToolCallEndEventSchema: () => (/* binding */ ToolCallEndEventSchema),\n/* harmony export */   ToolCallResultEventSchema: () => (/* binding */ ToolCallResultEventSchema),\n/* harmony export */   ToolCallSchema: () => (/* binding */ ToolCallSchema),\n/* harmony export */   ToolCallStartEventSchema: () => (/* binding */ ToolCallStartEventSchema),\n/* harmony export */   ToolMessageSchema: () => (/* binding */ ToolMessageSchema),\n/* harmony export */   ToolSchema: () => (/* binding */ ToolSchema),\n/* harmony export */   UserMessageSchema: () => (/* binding */ UserMessageSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n// src/types.ts\n\nvar FunctionCallSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  arguments: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar ToolCallSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"function\"),\n  function: FunctionCallSchema\n});\nvar BaseMessageSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n  name: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar DeveloperMessageSchema = BaseMessageSchema.extend({\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"developer\"),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar SystemMessageSchema = BaseMessageSchema.extend({\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"system\"),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar AssistantMessageSchema = BaseMessageSchema.extend({\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"assistant\"),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n  toolCalls: zod__WEBPACK_IMPORTED_MODULE_0__.array(ToolCallSchema).optional()\n});\nvar UserMessageSchema = BaseMessageSchema.extend({\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"user\"),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar ToolMessageSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  id: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"tool\"),\n  toolCallId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  error: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar MessageSchema = zod__WEBPACK_IMPORTED_MODULE_0__.discriminatedUnion(\"role\", [\n  DeveloperMessageSchema,\n  SystemMessageSchema,\n  AssistantMessageSchema,\n  UserMessageSchema,\n  ToolMessageSchema\n]);\nvar RoleSchema = zod__WEBPACK_IMPORTED_MODULE_0__.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"developer\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"system\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"assistant\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"user\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"tool\")\n]);\nvar ContextSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  description: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  value: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar ToolSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  description: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  parameters: zod__WEBPACK_IMPORTED_MODULE_0__.any()\n  // JSON Schema for the tool parameters\n});\nvar RunAgentInputSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  threadId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  runId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  state: zod__WEBPACK_IMPORTED_MODULE_0__.any(),\n  messages: zod__WEBPACK_IMPORTED_MODULE_0__.array(MessageSchema),\n  tools: zod__WEBPACK_IMPORTED_MODULE_0__.array(ToolSchema),\n  context: zod__WEBPACK_IMPORTED_MODULE_0__.array(ContextSchema),\n  forwardedProps: zod__WEBPACK_IMPORTED_MODULE_0__.any()\n});\nvar StateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.any();\nvar AGUIError = class extends Error {\n  constructor(message) {\n    super(message);\n  }\n};\n\n// src/events.ts\n\nvar TextMessageRoleSchema = zod__WEBPACK_IMPORTED_MODULE_0__.union([\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"developer\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"system\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"assistant\"),\n  zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"user\")\n]);\nvar EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[\"TEXT_MESSAGE_START\"] = \"TEXT_MESSAGE_START\";\n  EventType2[\"TEXT_MESSAGE_CONTENT\"] = \"TEXT_MESSAGE_CONTENT\";\n  EventType2[\"TEXT_MESSAGE_END\"] = \"TEXT_MESSAGE_END\";\n  EventType2[\"TEXT_MESSAGE_CHUNK\"] = \"TEXT_MESSAGE_CHUNK\";\n  EventType2[\"THINKING_TEXT_MESSAGE_START\"] = \"THINKING_TEXT_MESSAGE_START\";\n  EventType2[\"THINKING_TEXT_MESSAGE_CONTENT\"] = \"THINKING_TEXT_MESSAGE_CONTENT\";\n  EventType2[\"THINKING_TEXT_MESSAGE_END\"] = \"THINKING_TEXT_MESSAGE_END\";\n  EventType2[\"TOOL_CALL_START\"] = \"TOOL_CALL_START\";\n  EventType2[\"TOOL_CALL_ARGS\"] = \"TOOL_CALL_ARGS\";\n  EventType2[\"TOOL_CALL_END\"] = \"TOOL_CALL_END\";\n  EventType2[\"TOOL_CALL_CHUNK\"] = \"TOOL_CALL_CHUNK\";\n  EventType2[\"TOOL_CALL_RESULT\"] = \"TOOL_CALL_RESULT\";\n  EventType2[\"THINKING_START\"] = \"THINKING_START\";\n  EventType2[\"THINKING_END\"] = \"THINKING_END\";\n  EventType2[\"STATE_SNAPSHOT\"] = \"STATE_SNAPSHOT\";\n  EventType2[\"STATE_DELTA\"] = \"STATE_DELTA\";\n  EventType2[\"MESSAGES_SNAPSHOT\"] = \"MESSAGES_SNAPSHOT\";\n  EventType2[\"RAW\"] = \"RAW\";\n  EventType2[\"CUSTOM\"] = \"CUSTOM\";\n  EventType2[\"RUN_STARTED\"] = \"RUN_STARTED\";\n  EventType2[\"RUN_FINISHED\"] = \"RUN_FINISHED\";\n  EventType2[\"RUN_ERROR\"] = \"RUN_ERROR\";\n  EventType2[\"STEP_STARTED\"] = \"STEP_STARTED\";\n  EventType2[\"STEP_FINISHED\"] = \"STEP_FINISHED\";\n  return EventType2;\n})(EventType || {});\nvar BaseEventSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.nativeEnum(EventType),\n  timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n  rawEvent: zod__WEBPACK_IMPORTED_MODULE_0__.any().optional()\n});\nvar TextMessageStartEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TEXT_MESSAGE_START\" /* TEXT_MESSAGE_START */),\n  messageId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  role: TextMessageRoleSchema.default(\"assistant\")\n});\nvar TextMessageContentEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TEXT_MESSAGE_CONTENT\" /* TEXT_MESSAGE_CONTENT */),\n  messageId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  delta: zod__WEBPACK_IMPORTED_MODULE_0__.string().refine((s) => s.length > 0, \"Delta must not be an empty string\")\n});\nvar TextMessageEndEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TEXT_MESSAGE_END\" /* TEXT_MESSAGE_END */),\n  messageId: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar TextMessageChunkEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TEXT_MESSAGE_CHUNK\" /* TEXT_MESSAGE_CHUNK */),\n  messageId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n  role: TextMessageRoleSchema.optional(),\n  delta: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar ThinkingTextMessageStartEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"THINKING_TEXT_MESSAGE_START\" /* THINKING_TEXT_MESSAGE_START */)\n});\nvar ThinkingTextMessageContentEventSchema = TextMessageContentEventSchema.omit({\n  messageId: true,\n  type: true\n}).extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"THINKING_TEXT_MESSAGE_CONTENT\" /* THINKING_TEXT_MESSAGE_CONTENT */)\n});\nvar ThinkingTextMessageEndEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"THINKING_TEXT_MESSAGE_END\" /* THINKING_TEXT_MESSAGE_END */)\n});\nvar ToolCallStartEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TOOL_CALL_START\" /* TOOL_CALL_START */),\n  toolCallId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  toolCallName: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  parentMessageId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar ToolCallArgsEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TOOL_CALL_ARGS\" /* TOOL_CALL_ARGS */),\n  toolCallId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  delta: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar ToolCallEndEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TOOL_CALL_END\" /* TOOL_CALL_END */),\n  toolCallId: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar ToolCallResultEventSchema = BaseEventSchema.extend({\n  messageId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TOOL_CALL_RESULT\" /* TOOL_CALL_RESULT */),\n  toolCallId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  content: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  role: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"tool\").optional()\n});\nvar ToolCallChunkEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"TOOL_CALL_CHUNK\" /* TOOL_CALL_CHUNK */),\n  toolCallId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n  toolCallName: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n  parentMessageId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n  delta: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar ThinkingStartEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"THINKING_START\" /* THINKING_START */),\n  title: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar ThinkingEndEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"THINKING_END\" /* THINKING_END */)\n});\nvar StateSnapshotEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"STATE_SNAPSHOT\" /* STATE_SNAPSHOT */),\n  snapshot: StateSchema\n});\nvar StateDeltaEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"STATE_DELTA\" /* STATE_DELTA */),\n  delta: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.any())\n  // JSON Patch (RFC 6902)\n});\nvar MessagesSnapshotEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"MESSAGES_SNAPSHOT\" /* MESSAGES_SNAPSHOT */),\n  messages: zod__WEBPACK_IMPORTED_MODULE_0__.array(MessageSchema)\n});\nvar RawEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"RAW\" /* RAW */),\n  event: zod__WEBPACK_IMPORTED_MODULE_0__.any(),\n  source: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar CustomEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"CUSTOM\" /* CUSTOM */),\n  name: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  value: zod__WEBPACK_IMPORTED_MODULE_0__.any()\n});\nvar RunStartedEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"RUN_STARTED\" /* RUN_STARTED */),\n  threadId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  runId: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar RunFinishedEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"RUN_FINISHED\" /* RUN_FINISHED */),\n  threadId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  runId: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  result: zod__WEBPACK_IMPORTED_MODULE_0__.any().optional()\n});\nvar RunErrorEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"RUN_ERROR\" /* RUN_ERROR */),\n  message: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n  code: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nvar StepStartedEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"STEP_STARTED\" /* STEP_STARTED */),\n  stepName: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar StepFinishedEventSchema = BaseEventSchema.extend({\n  type: zod__WEBPACK_IMPORTED_MODULE_0__.literal(\"STEP_FINISHED\" /* STEP_FINISHED */),\n  stepName: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nvar EventSchemas = zod__WEBPACK_IMPORTED_MODULE_0__.discriminatedUnion(\"type\", [\n  TextMessageStartEventSchema,\n  TextMessageContentEventSchema,\n  TextMessageEndEventSchema,\n  TextMessageChunkEventSchema,\n  ThinkingStartEventSchema,\n  ThinkingEndEventSchema,\n  ThinkingTextMessageStartEventSchema,\n  ThinkingTextMessageContentEventSchema,\n  ThinkingTextMessageEndEventSchema,\n  ToolCallStartEventSchema,\n  ToolCallArgsEventSchema,\n  ToolCallEndEventSchema,\n  ToolCallChunkEventSchema,\n  ToolCallResultEventSchema,\n  StateSnapshotEventSchema,\n  StateDeltaEventSchema,\n  MessagesSnapshotEventSchema,\n  RawEventSchema,\n  CustomEventSchema,\n  RunStartedEventSchema,\n  RunFinishedEventSchema,\n  RunErrorEventSchema,\n  StepStartedEventSchema,\n  StepFinishedEventSchema\n]);\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9ub2RlX21vZHVsZXMvQGFnLXVpL2NvcmUvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ3dCO0FBQ3hCLHlCQUF5Qix1Q0FBUTtBQUNqQyxRQUFRLHVDQUFRO0FBQ2hCLGFBQWEsdUNBQVE7QUFDckIsQ0FBQztBQUNELHFCQUFxQix1Q0FBUTtBQUM3QixNQUFNLHVDQUFRO0FBQ2QsUUFBUSx3Q0FBUztBQUNqQjtBQUNBLENBQUM7QUFDRCx3QkFBd0IsdUNBQVE7QUFDaEMsTUFBTSx1Q0FBUTtBQUNkLFFBQVEsdUNBQVE7QUFDaEIsV0FBVyx1Q0FBUTtBQUNuQixRQUFRLHVDQUFRO0FBQ2hCLENBQUM7QUFDRDtBQUNBLFFBQVEsd0NBQVM7QUFDakIsV0FBVyx1Q0FBUTtBQUNuQixDQUFDO0FBQ0Q7QUFDQSxRQUFRLHdDQUFTO0FBQ2pCLFdBQVcsdUNBQVE7QUFDbkIsQ0FBQztBQUNEO0FBQ0EsUUFBUSx3Q0FBUztBQUNqQixXQUFXLHVDQUFRO0FBQ25CLGFBQWEsc0NBQU87QUFDcEIsQ0FBQztBQUNEO0FBQ0EsUUFBUSx3Q0FBUztBQUNqQixXQUFXLHVDQUFRO0FBQ25CLENBQUM7QUFDRCx3QkFBd0IsdUNBQVE7QUFDaEMsTUFBTSx1Q0FBUTtBQUNkLFdBQVcsdUNBQVE7QUFDbkIsUUFBUSx3Q0FBUztBQUNqQixjQUFjLHVDQUFRO0FBQ3RCLFNBQVMsdUNBQVE7QUFDakIsQ0FBQztBQUNELG9CQUFvQixtREFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNDQUFPO0FBQ3hCLEVBQUUsd0NBQVM7QUFDWCxFQUFFLHdDQUFTO0FBQ1gsRUFBRSx3Q0FBUztBQUNYLEVBQUUsd0NBQVM7QUFDWCxFQUFFLHdDQUFTO0FBQ1g7QUFDQSxvQkFBb0IsdUNBQVE7QUFD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WUFBWSx1Q0FBUztBQUNyQixTQUFTLHVDQUFTO0FBQ2xCLENBQUM7QUFDRDtBQUNBLFFBQVEsd0NBQVU7QUFDbEIsWUFBWSx1Q0FBUztBQUNyQixTQUFTLHVDQUFTO0FBQ2xCLFVBQVUsb0NBQU07QUFDaEIsQ0FBQztBQUNEO0FBQ0EsUUFBUSx3Q0FBVTtBQUNsQixXQUFXLHVDQUFTO0FBQ3BCLFFBQVEsdUNBQVM7QUFDakIsQ0FBQztBQUNEO0FBQ0EsUUFBUSx3Q0FBVTtBQUNsQixZQUFZLHVDQUFTO0FBQ3JCLENBQUM7QUFDRDtBQUNBLFFBQVEsd0NBQVU7QUFDbEIsWUFBWSx1Q0FBUztBQUNyQixDQUFDO0FBQ0QsbUJBQW1CLG1EQUFxQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTRDRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lL25vZGVfbW9kdWxlcy9AYWctdWkvY29yZS9kaXN0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdHlwZXMudHNcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG52YXIgRnVuY3Rpb25DYWxsU2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpLFxuICBhcmd1bWVudHM6IHouc3RyaW5nKClcbn0pO1xudmFyIFRvb2xDYWxsU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKSxcbiAgdHlwZTogei5saXRlcmFsKFwiZnVuY3Rpb25cIiksXG4gIGZ1bmN0aW9uOiBGdW5jdGlvbkNhbGxTY2hlbWFcbn0pO1xudmFyIEJhc2VNZXNzYWdlU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKSxcbiAgcm9sZTogei5zdHJpbmcoKSxcbiAgY29udGVudDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xudmFyIERldmVsb3Blck1lc3NhZ2VTY2hlbWEgPSBCYXNlTWVzc2FnZVNjaGVtYS5leHRlbmQoe1xuICByb2xlOiB6LmxpdGVyYWwoXCJkZXZlbG9wZXJcIiksXG4gIGNvbnRlbnQ6IHouc3RyaW5nKClcbn0pO1xudmFyIFN5c3RlbU1lc3NhZ2VTY2hlbWEgPSBCYXNlTWVzc2FnZVNjaGVtYS5leHRlbmQoe1xuICByb2xlOiB6LmxpdGVyYWwoXCJzeXN0ZW1cIiksXG4gIGNvbnRlbnQ6IHouc3RyaW5nKClcbn0pO1xudmFyIEFzc2lzdGFudE1lc3NhZ2VTY2hlbWEgPSBCYXNlTWVzc2FnZVNjaGVtYS5leHRlbmQoe1xuICByb2xlOiB6LmxpdGVyYWwoXCJhc3Npc3RhbnRcIiksXG4gIGNvbnRlbnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgdG9vbENhbGxzOiB6LmFycmF5KFRvb2xDYWxsU2NoZW1hKS5vcHRpb25hbCgpXG59KTtcbnZhciBVc2VyTWVzc2FnZVNjaGVtYSA9IEJhc2VNZXNzYWdlU2NoZW1hLmV4dGVuZCh7XG4gIHJvbGU6IHoubGl0ZXJhbChcInVzZXJcIiksXG4gIGNvbnRlbnQ6IHouc3RyaW5nKClcbn0pO1xudmFyIFRvb2xNZXNzYWdlU2NoZW1hID0gei5vYmplY3Qoe1xuICBpZDogei5zdHJpbmcoKSxcbiAgY29udGVudDogei5zdHJpbmcoKSxcbiAgcm9sZTogei5saXRlcmFsKFwidG9vbFwiKSxcbiAgdG9vbENhbGxJZDogei5zdHJpbmcoKSxcbiAgZXJyb3I6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG52YXIgTWVzc2FnZVNjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKFwicm9sZVwiLCBbXG4gIERldmVsb3Blck1lc3NhZ2VTY2hlbWEsXG4gIFN5c3RlbU1lc3NhZ2VTY2hlbWEsXG4gIEFzc2lzdGFudE1lc3NhZ2VTY2hlbWEsXG4gIFVzZXJNZXNzYWdlU2NoZW1hLFxuICBUb29sTWVzc2FnZVNjaGVtYVxuXSk7XG52YXIgUm9sZVNjaGVtYSA9IHoudW5pb24oW1xuICB6LmxpdGVyYWwoXCJkZXZlbG9wZXJcIiksXG4gIHoubGl0ZXJhbChcInN5c3RlbVwiKSxcbiAgei5saXRlcmFsKFwiYXNzaXN0YW50XCIpLFxuICB6LmxpdGVyYWwoXCJ1c2VyXCIpLFxuICB6LmxpdGVyYWwoXCJ0b29sXCIpXG5dKTtcbnZhciBDb250ZXh0U2NoZW1hID0gei5vYmplY3Qoe1xuICBkZXNjcmlwdGlvbjogei5zdHJpbmcoKSxcbiAgdmFsdWU6IHouc3RyaW5nKClcbn0pO1xudmFyIFRvb2xTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIG5hbWU6IHouc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLFxuICBwYXJhbWV0ZXJzOiB6LmFueSgpXG4gIC8vIEpTT04gU2NoZW1hIGZvciB0aGUgdG9vbCBwYXJhbWV0ZXJzXG59KTtcbnZhciBSdW5BZ2VudElucHV0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0aHJlYWRJZDogei5zdHJpbmcoKSxcbiAgcnVuSWQ6IHouc3RyaW5nKCksXG4gIHN0YXRlOiB6LmFueSgpLFxuICBtZXNzYWdlczogei5hcnJheShNZXNzYWdlU2NoZW1hKSxcbiAgdG9vbHM6IHouYXJyYXkoVG9vbFNjaGVtYSksXG4gIGNvbnRleHQ6IHouYXJyYXkoQ29udGV4dFNjaGVtYSksXG4gIGZvcndhcmRlZFByb3BzOiB6LmFueSgpXG59KTtcbnZhciBTdGF0ZVNjaGVtYSA9IHouYW55KCk7XG52YXIgQUdVSUVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgfVxufTtcblxuLy8gc3JjL2V2ZW50cy50c1xuaW1wb3J0IHsgeiBhcyB6MiB9IGZyb20gXCJ6b2RcIjtcbnZhciBUZXh0TWVzc2FnZVJvbGVTY2hlbWEgPSB6Mi51bmlvbihbXG4gIHoyLmxpdGVyYWwoXCJkZXZlbG9wZXJcIiksXG4gIHoyLmxpdGVyYWwoXCJzeXN0ZW1cIiksXG4gIHoyLmxpdGVyYWwoXCJhc3Npc3RhbnRcIiksXG4gIHoyLmxpdGVyYWwoXCJ1c2VyXCIpXG5dKTtcbnZhciBFdmVudFR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChFdmVudFR5cGUyKSA9PiB7XG4gIEV2ZW50VHlwZTJbXCJURVhUX01FU1NBR0VfU1RBUlRcIl0gPSBcIlRFWFRfTUVTU0FHRV9TVEFSVFwiO1xuICBFdmVudFR5cGUyW1wiVEVYVF9NRVNTQUdFX0NPTlRFTlRcIl0gPSBcIlRFWFRfTUVTU0FHRV9DT05URU5UXCI7XG4gIEV2ZW50VHlwZTJbXCJURVhUX01FU1NBR0VfRU5EXCJdID0gXCJURVhUX01FU1NBR0VfRU5EXCI7XG4gIEV2ZW50VHlwZTJbXCJURVhUX01FU1NBR0VfQ0hVTktcIl0gPSBcIlRFWFRfTUVTU0FHRV9DSFVOS1wiO1xuICBFdmVudFR5cGUyW1wiVEhJTktJTkdfVEVYVF9NRVNTQUdFX1NUQVJUXCJdID0gXCJUSElOS0lOR19URVhUX01FU1NBR0VfU1RBUlRcIjtcbiAgRXZlbnRUeXBlMltcIlRISU5LSU5HX1RFWFRfTUVTU0FHRV9DT05URU5UXCJdID0gXCJUSElOS0lOR19URVhUX01FU1NBR0VfQ09OVEVOVFwiO1xuICBFdmVudFR5cGUyW1wiVEhJTktJTkdfVEVYVF9NRVNTQUdFX0VORFwiXSA9IFwiVEhJTktJTkdfVEVYVF9NRVNTQUdFX0VORFwiO1xuICBFdmVudFR5cGUyW1wiVE9PTF9DQUxMX1NUQVJUXCJdID0gXCJUT09MX0NBTExfU1RBUlRcIjtcbiAgRXZlbnRUeXBlMltcIlRPT0xfQ0FMTF9BUkdTXCJdID0gXCJUT09MX0NBTExfQVJHU1wiO1xuICBFdmVudFR5cGUyW1wiVE9PTF9DQUxMX0VORFwiXSA9IFwiVE9PTF9DQUxMX0VORFwiO1xuICBFdmVudFR5cGUyW1wiVE9PTF9DQUxMX0NIVU5LXCJdID0gXCJUT09MX0NBTExfQ0hVTktcIjtcbiAgRXZlbnRUeXBlMltcIlRPT0xfQ0FMTF9SRVNVTFRcIl0gPSBcIlRPT0xfQ0FMTF9SRVNVTFRcIjtcbiAgRXZlbnRUeXBlMltcIlRISU5LSU5HX1NUQVJUXCJdID0gXCJUSElOS0lOR19TVEFSVFwiO1xuICBFdmVudFR5cGUyW1wiVEhJTktJTkdfRU5EXCJdID0gXCJUSElOS0lOR19FTkRcIjtcbiAgRXZlbnRUeXBlMltcIlNUQVRFX1NOQVBTSE9UXCJdID0gXCJTVEFURV9TTkFQU0hPVFwiO1xuICBFdmVudFR5cGUyW1wiU1RBVEVfREVMVEFcIl0gPSBcIlNUQVRFX0RFTFRBXCI7XG4gIEV2ZW50VHlwZTJbXCJNRVNTQUdFU19TTkFQU0hPVFwiXSA9IFwiTUVTU0FHRVNfU05BUFNIT1RcIjtcbiAgRXZlbnRUeXBlMltcIlJBV1wiXSA9IFwiUkFXXCI7XG4gIEV2ZW50VHlwZTJbXCJDVVNUT01cIl0gPSBcIkNVU1RPTVwiO1xuICBFdmVudFR5cGUyW1wiUlVOX1NUQVJURURcIl0gPSBcIlJVTl9TVEFSVEVEXCI7XG4gIEV2ZW50VHlwZTJbXCJSVU5fRklOSVNIRURcIl0gPSBcIlJVTl9GSU5JU0hFRFwiO1xuICBFdmVudFR5cGUyW1wiUlVOX0VSUk9SXCJdID0gXCJSVU5fRVJST1JcIjtcbiAgRXZlbnRUeXBlMltcIlNURVBfU1RBUlRFRFwiXSA9IFwiU1RFUF9TVEFSVEVEXCI7XG4gIEV2ZW50VHlwZTJbXCJTVEVQX0ZJTklTSEVEXCJdID0gXCJTVEVQX0ZJTklTSEVEXCI7XG4gIHJldHVybiBFdmVudFR5cGUyO1xufSkoRXZlbnRUeXBlIHx8IHt9KTtcbnZhciBCYXNlRXZlbnRTY2hlbWEgPSB6Mi5vYmplY3Qoe1xuICB0eXBlOiB6Mi5uYXRpdmVFbnVtKEV2ZW50VHlwZSksXG4gIHRpbWVzdGFtcDogejIubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgcmF3RXZlbnQ6IHoyLmFueSgpLm9wdGlvbmFsKClcbn0pO1xudmFyIFRleHRNZXNzYWdlU3RhcnRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiVEVYVF9NRVNTQUdFX1NUQVJUXCIgLyogVEVYVF9NRVNTQUdFX1NUQVJUICovKSxcbiAgbWVzc2FnZUlkOiB6Mi5zdHJpbmcoKSxcbiAgcm9sZTogVGV4dE1lc3NhZ2VSb2xlU2NoZW1hLmRlZmF1bHQoXCJhc3Npc3RhbnRcIilcbn0pO1xudmFyIFRleHRNZXNzYWdlQ29udGVudEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJURVhUX01FU1NBR0VfQ09OVEVOVFwiIC8qIFRFWFRfTUVTU0FHRV9DT05URU5UICovKSxcbiAgbWVzc2FnZUlkOiB6Mi5zdHJpbmcoKSxcbiAgZGVsdGE6IHoyLnN0cmluZygpLnJlZmluZSgocykgPT4gcy5sZW5ndGggPiAwLCBcIkRlbHRhIG11c3Qgbm90IGJlIGFuIGVtcHR5IHN0cmluZ1wiKVxufSk7XG52YXIgVGV4dE1lc3NhZ2VFbmRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiVEVYVF9NRVNTQUdFX0VORFwiIC8qIFRFWFRfTUVTU0FHRV9FTkQgKi8pLFxuICBtZXNzYWdlSWQ6IHoyLnN0cmluZygpXG59KTtcbnZhciBUZXh0TWVzc2FnZUNodW5rRXZlbnRTY2hlbWEgPSBCYXNlRXZlbnRTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogejIubGl0ZXJhbChcIlRFWFRfTUVTU0FHRV9DSFVOS1wiIC8qIFRFWFRfTUVTU0FHRV9DSFVOSyAqLyksXG4gIG1lc3NhZ2VJZDogejIuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcm9sZTogVGV4dE1lc3NhZ2VSb2xlU2NoZW1hLm9wdGlvbmFsKCksXG4gIGRlbHRhOiB6Mi5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcbnZhciBUaGlua2luZ1RleHRNZXNzYWdlU3RhcnRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiVEhJTktJTkdfVEVYVF9NRVNTQUdFX1NUQVJUXCIgLyogVEhJTktJTkdfVEVYVF9NRVNTQUdFX1NUQVJUICovKVxufSk7XG52YXIgVGhpbmtpbmdUZXh0TWVzc2FnZUNvbnRlbnRFdmVudFNjaGVtYSA9IFRleHRNZXNzYWdlQ29udGVudEV2ZW50U2NoZW1hLm9taXQoe1xuICBtZXNzYWdlSWQ6IHRydWUsXG4gIHR5cGU6IHRydWVcbn0pLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJUSElOS0lOR19URVhUX01FU1NBR0VfQ09OVEVOVFwiIC8qIFRISU5LSU5HX1RFWFRfTUVTU0FHRV9DT05URU5UICovKVxufSk7XG52YXIgVGhpbmtpbmdUZXh0TWVzc2FnZUVuZEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJUSElOS0lOR19URVhUX01FU1NBR0VfRU5EXCIgLyogVEhJTktJTkdfVEVYVF9NRVNTQUdFX0VORCAqLylcbn0pO1xudmFyIFRvb2xDYWxsU3RhcnRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiVE9PTF9DQUxMX1NUQVJUXCIgLyogVE9PTF9DQUxMX1NUQVJUICovKSxcbiAgdG9vbENhbGxJZDogejIuc3RyaW5nKCksXG4gIHRvb2xDYWxsTmFtZTogejIuc3RyaW5nKCksXG4gIHBhcmVudE1lc3NhZ2VJZDogejIuc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG52YXIgVG9vbENhbGxBcmdzRXZlbnRTY2hlbWEgPSBCYXNlRXZlbnRTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogejIubGl0ZXJhbChcIlRPT0xfQ0FMTF9BUkdTXCIgLyogVE9PTF9DQUxMX0FSR1MgKi8pLFxuICB0b29sQ2FsbElkOiB6Mi5zdHJpbmcoKSxcbiAgZGVsdGE6IHoyLnN0cmluZygpXG59KTtcbnZhciBUb29sQ2FsbEVuZEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJUT09MX0NBTExfRU5EXCIgLyogVE9PTF9DQUxMX0VORCAqLyksXG4gIHRvb2xDYWxsSWQ6IHoyLnN0cmluZygpXG59KTtcbnZhciBUb29sQ2FsbFJlc3VsdEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIG1lc3NhZ2VJZDogejIuc3RyaW5nKCksXG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJUT09MX0NBTExfUkVTVUxUXCIgLyogVE9PTF9DQUxMX1JFU1VMVCAqLyksXG4gIHRvb2xDYWxsSWQ6IHoyLnN0cmluZygpLFxuICBjb250ZW50OiB6Mi5zdHJpbmcoKSxcbiAgcm9sZTogejIubGl0ZXJhbChcInRvb2xcIikub3B0aW9uYWwoKVxufSk7XG52YXIgVG9vbENhbGxDaHVua0V2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJUT09MX0NBTExfQ0hVTktcIiAvKiBUT09MX0NBTExfQ0hVTksgKi8pLFxuICB0b29sQ2FsbElkOiB6Mi5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICB0b29sQ2FsbE5hbWU6IHoyLnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHBhcmVudE1lc3NhZ2VJZDogejIuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgZGVsdGE6IHoyLnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xudmFyIFRoaW5raW5nU3RhcnRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiVEhJTktJTkdfU1RBUlRcIiAvKiBUSElOS0lOR19TVEFSVCAqLyksXG4gIHRpdGxlOiB6Mi5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcbnZhciBUaGlua2luZ0VuZEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJUSElOS0lOR19FTkRcIiAvKiBUSElOS0lOR19FTkQgKi8pXG59KTtcbnZhciBTdGF0ZVNuYXBzaG90RXZlbnRTY2hlbWEgPSBCYXNlRXZlbnRTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogejIubGl0ZXJhbChcIlNUQVRFX1NOQVBTSE9UXCIgLyogU1RBVEVfU05BUFNIT1QgKi8pLFxuICBzbmFwc2hvdDogU3RhdGVTY2hlbWFcbn0pO1xudmFyIFN0YXRlRGVsdGFFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiU1RBVEVfREVMVEFcIiAvKiBTVEFURV9ERUxUQSAqLyksXG4gIGRlbHRhOiB6Mi5hcnJheSh6Mi5hbnkoKSlcbiAgLy8gSlNPTiBQYXRjaCAoUkZDIDY5MDIpXG59KTtcbnZhciBNZXNzYWdlc1NuYXBzaG90RXZlbnRTY2hlbWEgPSBCYXNlRXZlbnRTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogejIubGl0ZXJhbChcIk1FU1NBR0VTX1NOQVBTSE9UXCIgLyogTUVTU0FHRVNfU05BUFNIT1QgKi8pLFxuICBtZXNzYWdlczogejIuYXJyYXkoTWVzc2FnZVNjaGVtYSlcbn0pO1xudmFyIFJhd0V2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJSQVdcIiAvKiBSQVcgKi8pLFxuICBldmVudDogejIuYW55KCksXG4gIHNvdXJjZTogejIuc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG52YXIgQ3VzdG9tRXZlbnRTY2hlbWEgPSBCYXNlRXZlbnRTY2hlbWEuZXh0ZW5kKHtcbiAgdHlwZTogejIubGl0ZXJhbChcIkNVU1RPTVwiIC8qIENVU1RPTSAqLyksXG4gIG5hbWU6IHoyLnN0cmluZygpLFxuICB2YWx1ZTogejIuYW55KClcbn0pO1xudmFyIFJ1blN0YXJ0ZWRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiUlVOX1NUQVJURURcIiAvKiBSVU5fU1RBUlRFRCAqLyksXG4gIHRocmVhZElkOiB6Mi5zdHJpbmcoKSxcbiAgcnVuSWQ6IHoyLnN0cmluZygpXG59KTtcbnZhciBSdW5GaW5pc2hlZEV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJSVU5fRklOSVNIRURcIiAvKiBSVU5fRklOSVNIRUQgKi8pLFxuICB0aHJlYWRJZDogejIuc3RyaW5nKCksXG4gIHJ1bklkOiB6Mi5zdHJpbmcoKSxcbiAgcmVzdWx0OiB6Mi5hbnkoKS5vcHRpb25hbCgpXG59KTtcbnZhciBSdW5FcnJvckV2ZW50U2NoZW1hID0gQmFzZUV2ZW50U2NoZW1hLmV4dGVuZCh7XG4gIHR5cGU6IHoyLmxpdGVyYWwoXCJSVU5fRVJST1JcIiAvKiBSVU5fRVJST1IgKi8pLFxuICBtZXNzYWdlOiB6Mi5zdHJpbmcoKSxcbiAgY29kZTogejIuc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG52YXIgU3RlcFN0YXJ0ZWRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiU1RFUF9TVEFSVEVEXCIgLyogU1RFUF9TVEFSVEVEICovKSxcbiAgc3RlcE5hbWU6IHoyLnN0cmluZygpXG59KTtcbnZhciBTdGVwRmluaXNoZWRFdmVudFNjaGVtYSA9IEJhc2VFdmVudFNjaGVtYS5leHRlbmQoe1xuICB0eXBlOiB6Mi5saXRlcmFsKFwiU1RFUF9GSU5JU0hFRFwiIC8qIFNURVBfRklOSVNIRUQgKi8pLFxuICBzdGVwTmFtZTogejIuc3RyaW5nKClcbn0pO1xudmFyIEV2ZW50U2NoZW1hcyA9IHoyLmRpc2NyaW1pbmF0ZWRVbmlvbihcInR5cGVcIiwgW1xuICBUZXh0TWVzc2FnZVN0YXJ0RXZlbnRTY2hlbWEsXG4gIFRleHRNZXNzYWdlQ29udGVudEV2ZW50U2NoZW1hLFxuICBUZXh0TWVzc2FnZUVuZEV2ZW50U2NoZW1hLFxuICBUZXh0TWVzc2FnZUNodW5rRXZlbnRTY2hlbWEsXG4gIFRoaW5raW5nU3RhcnRFdmVudFNjaGVtYSxcbiAgVGhpbmtpbmdFbmRFdmVudFNjaGVtYSxcbiAgVGhpbmtpbmdUZXh0TWVzc2FnZVN0YXJ0RXZlbnRTY2hlbWEsXG4gIFRoaW5raW5nVGV4dE1lc3NhZ2VDb250ZW50RXZlbnRTY2hlbWEsXG4gIFRoaW5raW5nVGV4dE1lc3NhZ2VFbmRFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxTdGFydEV2ZW50U2NoZW1hLFxuICBUb29sQ2FsbEFyZ3NFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxFbmRFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxDaHVua0V2ZW50U2NoZW1hLFxuICBUb29sQ2FsbFJlc3VsdEV2ZW50U2NoZW1hLFxuICBTdGF0ZVNuYXBzaG90RXZlbnRTY2hlbWEsXG4gIFN0YXRlRGVsdGFFdmVudFNjaGVtYSxcbiAgTWVzc2FnZXNTbmFwc2hvdEV2ZW50U2NoZW1hLFxuICBSYXdFdmVudFNjaGVtYSxcbiAgQ3VzdG9tRXZlbnRTY2hlbWEsXG4gIFJ1blN0YXJ0ZWRFdmVudFNjaGVtYSxcbiAgUnVuRmluaXNoZWRFdmVudFNjaGVtYSxcbiAgUnVuRXJyb3JFdmVudFNjaGVtYSxcbiAgU3RlcFN0YXJ0ZWRFdmVudFNjaGVtYSxcbiAgU3RlcEZpbmlzaGVkRXZlbnRTY2hlbWFcbl0pO1xuZXhwb3J0IHtcbiAgQUdVSUVycm9yLFxuICBBc3Npc3RhbnRNZXNzYWdlU2NoZW1hLFxuICBCYXNlRXZlbnRTY2hlbWEsXG4gIEJhc2VNZXNzYWdlU2NoZW1hLFxuICBDb250ZXh0U2NoZW1hLFxuICBDdXN0b21FdmVudFNjaGVtYSxcbiAgRGV2ZWxvcGVyTWVzc2FnZVNjaGVtYSxcbiAgRXZlbnRTY2hlbWFzLFxuICBFdmVudFR5cGUsXG4gIEZ1bmN0aW9uQ2FsbFNjaGVtYSxcbiAgTWVzc2FnZVNjaGVtYSxcbiAgTWVzc2FnZXNTbmFwc2hvdEV2ZW50U2NoZW1hLFxuICBSYXdFdmVudFNjaGVtYSxcbiAgUm9sZVNjaGVtYSxcbiAgUnVuQWdlbnRJbnB1dFNjaGVtYSxcbiAgUnVuRXJyb3JFdmVudFNjaGVtYSxcbiAgUnVuRmluaXNoZWRFdmVudFNjaGVtYSxcbiAgUnVuU3RhcnRlZEV2ZW50U2NoZW1hLFxuICBTdGF0ZURlbHRhRXZlbnRTY2hlbWEsXG4gIFN0YXRlU2NoZW1hLFxuICBTdGF0ZVNuYXBzaG90RXZlbnRTY2hlbWEsXG4gIFN0ZXBGaW5pc2hlZEV2ZW50U2NoZW1hLFxuICBTdGVwU3RhcnRlZEV2ZW50U2NoZW1hLFxuICBTeXN0ZW1NZXNzYWdlU2NoZW1hLFxuICBUZXh0TWVzc2FnZUNodW5rRXZlbnRTY2hlbWEsXG4gIFRleHRNZXNzYWdlQ29udGVudEV2ZW50U2NoZW1hLFxuICBUZXh0TWVzc2FnZUVuZEV2ZW50U2NoZW1hLFxuICBUZXh0TWVzc2FnZVN0YXJ0RXZlbnRTY2hlbWEsXG4gIFRoaW5raW5nRW5kRXZlbnRTY2hlbWEsXG4gIFRoaW5raW5nU3RhcnRFdmVudFNjaGVtYSxcbiAgVGhpbmtpbmdUZXh0TWVzc2FnZUNvbnRlbnRFdmVudFNjaGVtYSxcbiAgVGhpbmtpbmdUZXh0TWVzc2FnZUVuZEV2ZW50U2NoZW1hLFxuICBUaGlua2luZ1RleHRNZXNzYWdlU3RhcnRFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxBcmdzRXZlbnRTY2hlbWEsXG4gIFRvb2xDYWxsQ2h1bmtFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxFbmRFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxSZXN1bHRFdmVudFNjaGVtYSxcbiAgVG9vbENhbGxTY2hlbWEsXG4gIFRvb2xDYWxsU3RhcnRFdmVudFNjaGVtYSxcbiAgVG9vbE1lc3NhZ2VTY2hlbWEsXG4gIFRvb2xTY2hlbWEsXG4gIFVzZXJNZXNzYWdlU2NoZW1hXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/core/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/proto/dist/index.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime/node_modules/@ag-ui/proto/dist/index.mjs ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AGUI_MEDIA_TYPE: () => (/* binding */ AGUI_MEDIA_TYPE),\n/* harmony export */   decode: () => (/* binding */ decode),\n/* harmony export */   encode: () => (/* binding */ encode)\n/* harmony export */ });\n/* harmony import */ var _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ag-ui/core */ \"(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/core/dist/index.mjs\");\n/* harmony import */ var _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @bufbuild/protobuf/wire */ \"(rsc)/./node_modules/@bufbuild/protobuf/dist/esm/wire/binary-encoding.js\");\n// src/proto.ts\n\n\n// src/generated/events.ts\n\n\n// src/generated/google/protobuf/struct.ts\n\nfunction createBaseStruct() {\n  return { fields: {} };\n}\nvar Struct = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    Object.entries(message.fields).forEach(([key, value]) => {\n      if (value !== void 0) {\n        Struct_FieldsEntry.encode({ key, value }, writer.uint32(10).fork()).join();\n      }\n    });\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseStruct();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          const entry1 = Struct_FieldsEntry.decode(reader, reader.uint32());\n          if (entry1.value !== void 0) {\n            message.fields[entry1.key] = entry1.value;\n          }\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return Struct.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseStruct();\n    message.fields = Object.entries((_a = object.fields) != null ? _a : {}).reduce(\n      (acc, [key, value]) => {\n        if (value !== void 0) {\n          acc[key] = value;\n        }\n        return acc;\n      },\n      {}\n    );\n    return message;\n  },\n  wrap(object) {\n    const struct = createBaseStruct();\n    if (object !== void 0) {\n      for (const key of Object.keys(object)) {\n        struct.fields[key] = object[key];\n      }\n    }\n    return struct;\n  },\n  unwrap(message) {\n    const object = {};\n    if (message.fields) {\n      for (const key of Object.keys(message.fields)) {\n        object[key] = message.fields[key];\n      }\n    }\n    return object;\n  }\n};\nfunction createBaseStruct_FieldsEntry() {\n  return { key: \"\", value: void 0 };\n}\nvar Struct_FieldsEntry = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.key !== \"\") {\n      writer.uint32(10).string(message.key);\n    }\n    if (message.value !== void 0) {\n      Value.encode(Value.wrap(message.value), writer.uint32(18).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseStruct_FieldsEntry();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.key = reader.string();\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return Struct_FieldsEntry.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseStruct_FieldsEntry();\n    message.key = (_a = object.key) != null ? _a : \"\";\n    message.value = (_b = object.value) != null ? _b : void 0;\n    return message;\n  }\n};\nfunction createBaseValue() {\n  return {\n    nullValue: void 0,\n    numberValue: void 0,\n    stringValue: void 0,\n    boolValue: void 0,\n    structValue: void 0,\n    listValue: void 0\n  };\n}\nvar Value = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.nullValue !== void 0) {\n      writer.uint32(8).int32(message.nullValue);\n    }\n    if (message.numberValue !== void 0) {\n      writer.uint32(17).double(message.numberValue);\n    }\n    if (message.stringValue !== void 0) {\n      writer.uint32(26).string(message.stringValue);\n    }\n    if (message.boolValue !== void 0) {\n      writer.uint32(32).bool(message.boolValue);\n    }\n    if (message.structValue !== void 0) {\n      Struct.encode(Struct.wrap(message.structValue), writer.uint32(42).fork()).join();\n    }\n    if (message.listValue !== void 0) {\n      ListValue.encode(ListValue.wrap(message.listValue), writer.uint32(50).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseValue();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 8) {\n            break;\n          }\n          message.nullValue = reader.int32();\n          continue;\n        }\n        case 2: {\n          if (tag !== 17) {\n            break;\n          }\n          message.numberValue = reader.double();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.stringValue = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 32) {\n            break;\n          }\n          message.boolValue = reader.bool();\n          continue;\n        }\n        case 5: {\n          if (tag !== 42) {\n            break;\n          }\n          message.structValue = Struct.unwrap(Struct.decode(reader, reader.uint32()));\n          continue;\n        }\n        case 6: {\n          if (tag !== 50) {\n            break;\n          }\n          message.listValue = ListValue.unwrap(ListValue.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return Value.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c, _d, _e, _f;\n    const message = createBaseValue();\n    message.nullValue = (_a = object.nullValue) != null ? _a : void 0;\n    message.numberValue = (_b = object.numberValue) != null ? _b : void 0;\n    message.stringValue = (_c = object.stringValue) != null ? _c : void 0;\n    message.boolValue = (_d = object.boolValue) != null ? _d : void 0;\n    message.structValue = (_e = object.structValue) != null ? _e : void 0;\n    message.listValue = (_f = object.listValue) != null ? _f : void 0;\n    return message;\n  },\n  wrap(value) {\n    const result = createBaseValue();\n    if (value === null) {\n      result.nullValue = 0 /* NULL_VALUE */;\n    } else if (typeof value === \"boolean\") {\n      result.boolValue = value;\n    } else if (typeof value === \"number\") {\n      result.numberValue = value;\n    } else if (typeof value === \"string\") {\n      result.stringValue = value;\n    } else if (globalThis.Array.isArray(value)) {\n      result.listValue = value;\n    } else if (typeof value === \"object\") {\n      result.structValue = value;\n    } else if (typeof value !== \"undefined\") {\n      throw new globalThis.Error(\"Unsupported any value type: \" + typeof value);\n    }\n    return result;\n  },\n  unwrap(message) {\n    if (message.stringValue !== void 0) {\n      return message.stringValue;\n    } else if ((message == null ? void 0 : message.numberValue) !== void 0) {\n      return message.numberValue;\n    } else if ((message == null ? void 0 : message.boolValue) !== void 0) {\n      return message.boolValue;\n    } else if ((message == null ? void 0 : message.structValue) !== void 0) {\n      return message.structValue;\n    } else if ((message == null ? void 0 : message.listValue) !== void 0) {\n      return message.listValue;\n    } else if ((message == null ? void 0 : message.nullValue) !== void 0) {\n      return null;\n    }\n    return void 0;\n  }\n};\nfunction createBaseListValue() {\n  return { values: [] };\n}\nvar ListValue = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    for (const v of message.values) {\n      Value.encode(Value.wrap(v), writer.uint32(10).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseListValue();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.values.push(Value.unwrap(Value.decode(reader, reader.uint32())));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ListValue.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseListValue();\n    message.values = ((_a = object.values) == null ? void 0 : _a.map((e) => e)) || [];\n    return message;\n  },\n  wrap(array) {\n    const result = createBaseListValue();\n    result.values = array != null ? array : [];\n    return result;\n  },\n  unwrap(message) {\n    if ((message == null ? void 0 : message.hasOwnProperty(\"values\")) && globalThis.Array.isArray(message.values)) {\n      return message.values;\n    } else {\n      return message;\n    }\n  }\n};\n\n// src/generated/patch.ts\n\nvar JsonPatchOperationType = /* @__PURE__ */ ((JsonPatchOperationType2) => {\n  JsonPatchOperationType2[JsonPatchOperationType2[\"ADD\"] = 0] = \"ADD\";\n  JsonPatchOperationType2[JsonPatchOperationType2[\"REMOVE\"] = 1] = \"REMOVE\";\n  JsonPatchOperationType2[JsonPatchOperationType2[\"REPLACE\"] = 2] = \"REPLACE\";\n  JsonPatchOperationType2[JsonPatchOperationType2[\"MOVE\"] = 3] = \"MOVE\";\n  JsonPatchOperationType2[JsonPatchOperationType2[\"COPY\"] = 4] = \"COPY\";\n  JsonPatchOperationType2[JsonPatchOperationType2[\"TEST\"] = 5] = \"TEST\";\n  JsonPatchOperationType2[JsonPatchOperationType2[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n  return JsonPatchOperationType2;\n})(JsonPatchOperationType || {});\nfunction createBaseJsonPatchOperation() {\n  return { op: 0, path: \"\", from: void 0, value: void 0 };\n}\nvar JsonPatchOperation = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.op !== 0) {\n      writer.uint32(8).int32(message.op);\n    }\n    if (message.path !== \"\") {\n      writer.uint32(18).string(message.path);\n    }\n    if (message.from !== void 0) {\n      writer.uint32(26).string(message.from);\n    }\n    if (message.value !== void 0) {\n      Value.encode(Value.wrap(message.value), writer.uint32(34).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseJsonPatchOperation();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 8) {\n            break;\n          }\n          message.op = reader.int32();\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.path = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.from = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return JsonPatchOperation.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c, _d;\n    const message = createBaseJsonPatchOperation();\n    message.op = (_a = object.op) != null ? _a : 0;\n    message.path = (_b = object.path) != null ? _b : \"\";\n    message.from = (_c = object.from) != null ? _c : void 0;\n    message.value = (_d = object.value) != null ? _d : void 0;\n    return message;\n  }\n};\n\n// src/generated/types.ts\n\nfunction createBaseToolCall() {\n  return { id: \"\", type: \"\", function: void 0 };\n}\nvar ToolCall = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.id !== \"\") {\n      writer.uint32(10).string(message.id);\n    }\n    if (message.type !== \"\") {\n      writer.uint32(18).string(message.type);\n    }\n    if (message.function !== void 0) {\n      ToolCall_Function.encode(message.function, writer.uint32(26).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseToolCall();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.id = reader.string();\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.type = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.function = ToolCall_Function.decode(reader, reader.uint32());\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ToolCall.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseToolCall();\n    message.id = (_a = object.id) != null ? _a : \"\";\n    message.type = (_b = object.type) != null ? _b : \"\";\n    message.function = object.function !== void 0 && object.function !== null ? ToolCall_Function.fromPartial(object.function) : void 0;\n    return message;\n  }\n};\nfunction createBaseToolCall_Function() {\n  return { name: \"\", arguments: \"\" };\n}\nvar ToolCall_Function = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.name !== \"\") {\n      writer.uint32(10).string(message.name);\n    }\n    if (message.arguments !== \"\") {\n      writer.uint32(18).string(message.arguments);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseToolCall_Function();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.name = reader.string();\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.arguments = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ToolCall_Function.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseToolCall_Function();\n    message.name = (_a = object.name) != null ? _a : \"\";\n    message.arguments = (_b = object.arguments) != null ? _b : \"\";\n    return message;\n  }\n};\nfunction createBaseMessage() {\n  return {\n    id: \"\",\n    role: \"\",\n    content: void 0,\n    name: void 0,\n    toolCalls: [],\n    toolCallId: void 0,\n    error: void 0\n  };\n}\nvar Message = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.id !== \"\") {\n      writer.uint32(10).string(message.id);\n    }\n    if (message.role !== \"\") {\n      writer.uint32(18).string(message.role);\n    }\n    if (message.content !== void 0) {\n      writer.uint32(26).string(message.content);\n    }\n    if (message.name !== void 0) {\n      writer.uint32(34).string(message.name);\n    }\n    for (const v of message.toolCalls) {\n      ToolCall.encode(v, writer.uint32(42).fork()).join();\n    }\n    if (message.toolCallId !== void 0) {\n      writer.uint32(50).string(message.toolCallId);\n    }\n    if (message.error !== void 0) {\n      writer.uint32(58).string(message.error);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseMessage();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.id = reader.string();\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.role = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.content = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.name = reader.string();\n          continue;\n        }\n        case 5: {\n          if (tag !== 42) {\n            break;\n          }\n          message.toolCalls.push(ToolCall.decode(reader, reader.uint32()));\n          continue;\n        }\n        case 6: {\n          if (tag !== 50) {\n            break;\n          }\n          message.toolCallId = reader.string();\n          continue;\n        }\n        case 7: {\n          if (tag !== 58) {\n            break;\n          }\n          message.error = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return Message.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const message = createBaseMessage();\n    message.id = (_a = object.id) != null ? _a : \"\";\n    message.role = (_b = object.role) != null ? _b : \"\";\n    message.content = (_c = object.content) != null ? _c : void 0;\n    message.name = (_d = object.name) != null ? _d : void 0;\n    message.toolCalls = ((_e = object.toolCalls) == null ? void 0 : _e.map((e) => ToolCall.fromPartial(e))) || [];\n    message.toolCallId = (_f = object.toolCallId) != null ? _f : void 0;\n    message.error = (_g = object.error) != null ? _g : void 0;\n    return message;\n  }\n};\n\n// src/generated/events.ts\nvar EventType = /* @__PURE__ */ ((EventType3) => {\n  EventType3[EventType3[\"TEXT_MESSAGE_START\"] = 0] = \"TEXT_MESSAGE_START\";\n  EventType3[EventType3[\"TEXT_MESSAGE_CONTENT\"] = 1] = \"TEXT_MESSAGE_CONTENT\";\n  EventType3[EventType3[\"TEXT_MESSAGE_END\"] = 2] = \"TEXT_MESSAGE_END\";\n  EventType3[EventType3[\"TOOL_CALL_START\"] = 3] = \"TOOL_CALL_START\";\n  EventType3[EventType3[\"TOOL_CALL_ARGS\"] = 4] = \"TOOL_CALL_ARGS\";\n  EventType3[EventType3[\"TOOL_CALL_END\"] = 5] = \"TOOL_CALL_END\";\n  EventType3[EventType3[\"STATE_SNAPSHOT\"] = 6] = \"STATE_SNAPSHOT\";\n  EventType3[EventType3[\"STATE_DELTA\"] = 7] = \"STATE_DELTA\";\n  EventType3[EventType3[\"MESSAGES_SNAPSHOT\"] = 8] = \"MESSAGES_SNAPSHOT\";\n  EventType3[EventType3[\"RAW\"] = 9] = \"RAW\";\n  EventType3[EventType3[\"CUSTOM\"] = 10] = \"CUSTOM\";\n  EventType3[EventType3[\"RUN_STARTED\"] = 11] = \"RUN_STARTED\";\n  EventType3[EventType3[\"RUN_FINISHED\"] = 12] = \"RUN_FINISHED\";\n  EventType3[EventType3[\"RUN_ERROR\"] = 13] = \"RUN_ERROR\";\n  EventType3[EventType3[\"STEP_STARTED\"] = 14] = \"STEP_STARTED\";\n  EventType3[EventType3[\"STEP_FINISHED\"] = 15] = \"STEP_FINISHED\";\n  EventType3[EventType3[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n  return EventType3;\n})(EventType || {});\nfunction createBaseBaseEvent() {\n  return { type: 0, timestamp: void 0, rawEvent: void 0 };\n}\nvar BaseEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.type !== 0) {\n      writer.uint32(8).int32(message.type);\n    }\n    if (message.timestamp !== void 0) {\n      writer.uint32(16).int64(message.timestamp);\n    }\n    if (message.rawEvent !== void 0) {\n      Value.encode(Value.wrap(message.rawEvent), writer.uint32(26).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseBaseEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 8) {\n            break;\n          }\n          message.type = reader.int32();\n          continue;\n        }\n        case 2: {\n          if (tag !== 16) {\n            break;\n          }\n          message.timestamp = longToNumber(reader.int64());\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.rawEvent = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return BaseEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c;\n    const message = createBaseBaseEvent();\n    message.type = (_a = object.type) != null ? _a : 0;\n    message.timestamp = (_b = object.timestamp) != null ? _b : void 0;\n    message.rawEvent = (_c = object.rawEvent) != null ? _c : void 0;\n    return message;\n  }\n};\nfunction createBaseTextMessageStartEvent() {\n  return { baseEvent: void 0, messageId: \"\", role: void 0 };\n}\nvar TextMessageStartEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.messageId !== \"\") {\n      writer.uint32(18).string(message.messageId);\n    }\n    if (message.role !== void 0) {\n      writer.uint32(26).string(message.role);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseTextMessageStartEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.messageId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.role = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return TextMessageStartEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseTextMessageStartEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.messageId = (_a = object.messageId) != null ? _a : \"\";\n    message.role = (_b = object.role) != null ? _b : void 0;\n    return message;\n  }\n};\nfunction createBaseTextMessageContentEvent() {\n  return { baseEvent: void 0, messageId: \"\", delta: \"\" };\n}\nvar TextMessageContentEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.messageId !== \"\") {\n      writer.uint32(18).string(message.messageId);\n    }\n    if (message.delta !== \"\") {\n      writer.uint32(26).string(message.delta);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseTextMessageContentEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.messageId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.delta = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return TextMessageContentEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseTextMessageContentEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.messageId = (_a = object.messageId) != null ? _a : \"\";\n    message.delta = (_b = object.delta) != null ? _b : \"\";\n    return message;\n  }\n};\nfunction createBaseTextMessageEndEvent() {\n  return { baseEvent: void 0, messageId: \"\" };\n}\nvar TextMessageEndEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.messageId !== \"\") {\n      writer.uint32(18).string(message.messageId);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseTextMessageEndEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.messageId = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return TextMessageEndEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseTextMessageEndEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.messageId = (_a = object.messageId) != null ? _a : \"\";\n    return message;\n  }\n};\nfunction createBaseToolCallStartEvent() {\n  return { baseEvent: void 0, toolCallId: \"\", toolCallName: \"\", parentMessageId: void 0 };\n}\nvar ToolCallStartEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.toolCallId !== \"\") {\n      writer.uint32(18).string(message.toolCallId);\n    }\n    if (message.toolCallName !== \"\") {\n      writer.uint32(26).string(message.toolCallName);\n    }\n    if (message.parentMessageId !== void 0) {\n      writer.uint32(34).string(message.parentMessageId);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseToolCallStartEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.toolCallId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.toolCallName = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.parentMessageId = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ToolCallStartEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c;\n    const message = createBaseToolCallStartEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.toolCallId = (_a = object.toolCallId) != null ? _a : \"\";\n    message.toolCallName = (_b = object.toolCallName) != null ? _b : \"\";\n    message.parentMessageId = (_c = object.parentMessageId) != null ? _c : void 0;\n    return message;\n  }\n};\nfunction createBaseToolCallArgsEvent() {\n  return { baseEvent: void 0, toolCallId: \"\", delta: \"\" };\n}\nvar ToolCallArgsEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.toolCallId !== \"\") {\n      writer.uint32(18).string(message.toolCallId);\n    }\n    if (message.delta !== \"\") {\n      writer.uint32(26).string(message.delta);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseToolCallArgsEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.toolCallId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.delta = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ToolCallArgsEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseToolCallArgsEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.toolCallId = (_a = object.toolCallId) != null ? _a : \"\";\n    message.delta = (_b = object.delta) != null ? _b : \"\";\n    return message;\n  }\n};\nfunction createBaseToolCallEndEvent() {\n  return { baseEvent: void 0, toolCallId: \"\" };\n}\nvar ToolCallEndEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.toolCallId !== \"\") {\n      writer.uint32(18).string(message.toolCallId);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseToolCallEndEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.toolCallId = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ToolCallEndEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseToolCallEndEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.toolCallId = (_a = object.toolCallId) != null ? _a : \"\";\n    return message;\n  }\n};\nfunction createBaseStateSnapshotEvent() {\n  return { baseEvent: void 0, snapshot: void 0 };\n}\nvar StateSnapshotEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.snapshot !== void 0) {\n      Value.encode(Value.wrap(message.snapshot), writer.uint32(18).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseStateSnapshotEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.snapshot = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return StateSnapshotEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseStateSnapshotEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.snapshot = (_a = object.snapshot) != null ? _a : void 0;\n    return message;\n  }\n};\nfunction createBaseStateDeltaEvent() {\n  return { baseEvent: void 0, delta: [] };\n}\nvar StateDeltaEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    for (const v of message.delta) {\n      JsonPatchOperation.encode(v, writer.uint32(18).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseStateDeltaEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.delta.push(JsonPatchOperation.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return StateDeltaEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseStateDeltaEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.delta = ((_a = object.delta) == null ? void 0 : _a.map((e) => JsonPatchOperation.fromPartial(e))) || [];\n    return message;\n  }\n};\nfunction createBaseMessagesSnapshotEvent() {\n  return { baseEvent: void 0, messages: [] };\n}\nvar MessagesSnapshotEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    for (const v of message.messages) {\n      Message.encode(v, writer.uint32(18).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseMessagesSnapshotEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.messages.push(Message.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return MessagesSnapshotEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseMessagesSnapshotEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.messages = ((_a = object.messages) == null ? void 0 : _a.map((e) => Message.fromPartial(e))) || [];\n    return message;\n  }\n};\nfunction createBaseRawEvent() {\n  return { baseEvent: void 0, event: void 0, source: void 0 };\n}\nvar RawEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.event !== void 0) {\n      Value.encode(Value.wrap(message.event), writer.uint32(18).fork()).join();\n    }\n    if (message.source !== void 0) {\n      writer.uint32(26).string(message.source);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseRawEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.event = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.source = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return RawEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseRawEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.event = (_a = object.event) != null ? _a : void 0;\n    message.source = (_b = object.source) != null ? _b : void 0;\n    return message;\n  }\n};\nfunction createBaseCustomEvent() {\n  return { baseEvent: void 0, name: \"\", value: void 0 };\n}\nvar CustomEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.name !== \"\") {\n      writer.uint32(18).string(message.name);\n    }\n    if (message.value !== void 0) {\n      Value.encode(Value.wrap(message.value), writer.uint32(26).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseCustomEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.name = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.value = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return CustomEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseCustomEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.name = (_a = object.name) != null ? _a : \"\";\n    message.value = (_b = object.value) != null ? _b : void 0;\n    return message;\n  }\n};\nfunction createBaseRunStartedEvent() {\n  return { baseEvent: void 0, threadId: \"\", runId: \"\" };\n}\nvar RunStartedEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.threadId !== \"\") {\n      writer.uint32(18).string(message.threadId);\n    }\n    if (message.runId !== \"\") {\n      writer.uint32(26).string(message.runId);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseRunStartedEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.threadId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.runId = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return RunStartedEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseRunStartedEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.threadId = (_a = object.threadId) != null ? _a : \"\";\n    message.runId = (_b = object.runId) != null ? _b : \"\";\n    return message;\n  }\n};\nfunction createBaseRunFinishedEvent() {\n  return { baseEvent: void 0, threadId: \"\", runId: \"\", result: void 0 };\n}\nvar RunFinishedEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.threadId !== \"\") {\n      writer.uint32(18).string(message.threadId);\n    }\n    if (message.runId !== \"\") {\n      writer.uint32(26).string(message.runId);\n    }\n    if (message.result !== void 0) {\n      Value.encode(Value.wrap(message.result), writer.uint32(34).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseRunFinishedEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.threadId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.runId = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.result = Value.unwrap(Value.decode(reader, reader.uint32()));\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return RunFinishedEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c;\n    const message = createBaseRunFinishedEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.threadId = (_a = object.threadId) != null ? _a : \"\";\n    message.runId = (_b = object.runId) != null ? _b : \"\";\n    message.result = (_c = object.result) != null ? _c : void 0;\n    return message;\n  }\n};\nfunction createBaseRunErrorEvent() {\n  return { baseEvent: void 0, code: void 0, message: \"\" };\n}\nvar RunErrorEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.code !== void 0) {\n      writer.uint32(18).string(message.code);\n    }\n    if (message.message !== \"\") {\n      writer.uint32(26).string(message.message);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseRunErrorEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.code = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.message = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return RunErrorEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b;\n    const message = createBaseRunErrorEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.code = (_a = object.code) != null ? _a : void 0;\n    message.message = (_b = object.message) != null ? _b : \"\";\n    return message;\n  }\n};\nfunction createBaseStepStartedEvent() {\n  return { baseEvent: void 0, stepName: \"\" };\n}\nvar StepStartedEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.stepName !== \"\") {\n      writer.uint32(18).string(message.stepName);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseStepStartedEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.stepName = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return StepStartedEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseStepStartedEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.stepName = (_a = object.stepName) != null ? _a : \"\";\n    return message;\n  }\n};\nfunction createBaseStepFinishedEvent() {\n  return { baseEvent: void 0, stepName: \"\" };\n}\nvar StepFinishedEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.stepName !== \"\") {\n      writer.uint32(18).string(message.stepName);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseStepFinishedEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.stepName = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return StepFinishedEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a;\n    const message = createBaseStepFinishedEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.stepName = (_a = object.stepName) != null ? _a : \"\";\n    return message;\n  }\n};\nfunction createBaseTextMessageChunkEvent() {\n  return { baseEvent: void 0, messageId: void 0, role: void 0, delta: void 0 };\n}\nvar TextMessageChunkEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.messageId !== void 0) {\n      writer.uint32(18).string(message.messageId);\n    }\n    if (message.role !== void 0) {\n      writer.uint32(26).string(message.role);\n    }\n    if (message.delta !== void 0) {\n      writer.uint32(34).string(message.delta);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseTextMessageChunkEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.messageId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.role = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.delta = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return TextMessageChunkEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c;\n    const message = createBaseTextMessageChunkEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.messageId = (_a = object.messageId) != null ? _a : void 0;\n    message.role = (_b = object.role) != null ? _b : void 0;\n    message.delta = (_c = object.delta) != null ? _c : void 0;\n    return message;\n  }\n};\nfunction createBaseToolCallChunkEvent() {\n  return {\n    baseEvent: void 0,\n    toolCallId: void 0,\n    toolCallName: void 0,\n    parentMessageId: void 0,\n    delta: void 0\n  };\n}\nvar ToolCallChunkEvent = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.baseEvent !== void 0) {\n      BaseEvent.encode(message.baseEvent, writer.uint32(10).fork()).join();\n    }\n    if (message.toolCallId !== void 0) {\n      writer.uint32(18).string(message.toolCallId);\n    }\n    if (message.toolCallName !== void 0) {\n      writer.uint32(26).string(message.toolCallName);\n    }\n    if (message.parentMessageId !== void 0) {\n      writer.uint32(34).string(message.parentMessageId);\n    }\n    if (message.delta !== void 0) {\n      writer.uint32(42).string(message.delta);\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseToolCallChunkEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.baseEvent = BaseEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.toolCallId = reader.string();\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.toolCallName = reader.string();\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.parentMessageId = reader.string();\n          continue;\n        }\n        case 5: {\n          if (tag !== 42) {\n            break;\n          }\n          message.delta = reader.string();\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return ToolCallChunkEvent.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    var _a, _b, _c, _d;\n    const message = createBaseToolCallChunkEvent();\n    message.baseEvent = object.baseEvent !== void 0 && object.baseEvent !== null ? BaseEvent.fromPartial(object.baseEvent) : void 0;\n    message.toolCallId = (_a = object.toolCallId) != null ? _a : void 0;\n    message.toolCallName = (_b = object.toolCallName) != null ? _b : void 0;\n    message.parentMessageId = (_c = object.parentMessageId) != null ? _c : void 0;\n    message.delta = (_d = object.delta) != null ? _d : void 0;\n    return message;\n  }\n};\nfunction createBaseEvent() {\n  return {\n    textMessageStart: void 0,\n    textMessageContent: void 0,\n    textMessageEnd: void 0,\n    toolCallStart: void 0,\n    toolCallArgs: void 0,\n    toolCallEnd: void 0,\n    stateSnapshot: void 0,\n    stateDelta: void 0,\n    messagesSnapshot: void 0,\n    raw: void 0,\n    custom: void 0,\n    runStarted: void 0,\n    runFinished: void 0,\n    runError: void 0,\n    stepStarted: void 0,\n    stepFinished: void 0,\n    textMessageChunk: void 0,\n    toolCallChunk: void 0\n  };\n}\nvar Event = {\n  encode(message, writer = new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryWriter()) {\n    if (message.textMessageStart !== void 0) {\n      TextMessageStartEvent.encode(message.textMessageStart, writer.uint32(10).fork()).join();\n    }\n    if (message.textMessageContent !== void 0) {\n      TextMessageContentEvent.encode(message.textMessageContent, writer.uint32(18).fork()).join();\n    }\n    if (message.textMessageEnd !== void 0) {\n      TextMessageEndEvent.encode(message.textMessageEnd, writer.uint32(26).fork()).join();\n    }\n    if (message.toolCallStart !== void 0) {\n      ToolCallStartEvent.encode(message.toolCallStart, writer.uint32(34).fork()).join();\n    }\n    if (message.toolCallArgs !== void 0) {\n      ToolCallArgsEvent.encode(message.toolCallArgs, writer.uint32(42).fork()).join();\n    }\n    if (message.toolCallEnd !== void 0) {\n      ToolCallEndEvent.encode(message.toolCallEnd, writer.uint32(50).fork()).join();\n    }\n    if (message.stateSnapshot !== void 0) {\n      StateSnapshotEvent.encode(message.stateSnapshot, writer.uint32(58).fork()).join();\n    }\n    if (message.stateDelta !== void 0) {\n      StateDeltaEvent.encode(message.stateDelta, writer.uint32(66).fork()).join();\n    }\n    if (message.messagesSnapshot !== void 0) {\n      MessagesSnapshotEvent.encode(message.messagesSnapshot, writer.uint32(74).fork()).join();\n    }\n    if (message.raw !== void 0) {\n      RawEvent.encode(message.raw, writer.uint32(82).fork()).join();\n    }\n    if (message.custom !== void 0) {\n      CustomEvent.encode(message.custom, writer.uint32(90).fork()).join();\n    }\n    if (message.runStarted !== void 0) {\n      RunStartedEvent.encode(message.runStarted, writer.uint32(98).fork()).join();\n    }\n    if (message.runFinished !== void 0) {\n      RunFinishedEvent.encode(message.runFinished, writer.uint32(106).fork()).join();\n    }\n    if (message.runError !== void 0) {\n      RunErrorEvent.encode(message.runError, writer.uint32(114).fork()).join();\n    }\n    if (message.stepStarted !== void 0) {\n      StepStartedEvent.encode(message.stepStarted, writer.uint32(122).fork()).join();\n    }\n    if (message.stepFinished !== void 0) {\n      StepFinishedEvent.encode(message.stepFinished, writer.uint32(130).fork()).join();\n    }\n    if (message.textMessageChunk !== void 0) {\n      TextMessageChunkEvent.encode(message.textMessageChunk, writer.uint32(138).fork()).join();\n    }\n    if (message.toolCallChunk !== void 0) {\n      ToolCallChunkEvent.encode(message.toolCallChunk, writer.uint32(146).fork()).join();\n    }\n    return writer;\n  },\n  decode(input, length) {\n    const reader = input instanceof _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader ? input : new _bufbuild_protobuf_wire__WEBPACK_IMPORTED_MODULE_1__.BinaryReader(input);\n    let end = length === void 0 ? reader.len : reader.pos + length;\n    const message = createBaseEvent();\n    while (reader.pos < end) {\n      const tag = reader.uint32();\n      switch (tag >>> 3) {\n        case 1: {\n          if (tag !== 10) {\n            break;\n          }\n          message.textMessageStart = TextMessageStartEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 2: {\n          if (tag !== 18) {\n            break;\n          }\n          message.textMessageContent = TextMessageContentEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 3: {\n          if (tag !== 26) {\n            break;\n          }\n          message.textMessageEnd = TextMessageEndEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 4: {\n          if (tag !== 34) {\n            break;\n          }\n          message.toolCallStart = ToolCallStartEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 5: {\n          if (tag !== 42) {\n            break;\n          }\n          message.toolCallArgs = ToolCallArgsEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 6: {\n          if (tag !== 50) {\n            break;\n          }\n          message.toolCallEnd = ToolCallEndEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 7: {\n          if (tag !== 58) {\n            break;\n          }\n          message.stateSnapshot = StateSnapshotEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 8: {\n          if (tag !== 66) {\n            break;\n          }\n          message.stateDelta = StateDeltaEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 9: {\n          if (tag !== 74) {\n            break;\n          }\n          message.messagesSnapshot = MessagesSnapshotEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 10: {\n          if (tag !== 82) {\n            break;\n          }\n          message.raw = RawEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 11: {\n          if (tag !== 90) {\n            break;\n          }\n          message.custom = CustomEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 12: {\n          if (tag !== 98) {\n            break;\n          }\n          message.runStarted = RunStartedEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 13: {\n          if (tag !== 106) {\n            break;\n          }\n          message.runFinished = RunFinishedEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 14: {\n          if (tag !== 114) {\n            break;\n          }\n          message.runError = RunErrorEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 15: {\n          if (tag !== 122) {\n            break;\n          }\n          message.stepStarted = StepStartedEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 16: {\n          if (tag !== 130) {\n            break;\n          }\n          message.stepFinished = StepFinishedEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 17: {\n          if (tag !== 138) {\n            break;\n          }\n          message.textMessageChunk = TextMessageChunkEvent.decode(reader, reader.uint32());\n          continue;\n        }\n        case 18: {\n          if (tag !== 146) {\n            break;\n          }\n          message.toolCallChunk = ToolCallChunkEvent.decode(reader, reader.uint32());\n          continue;\n        }\n      }\n      if ((tag & 7) === 4 || tag === 0) {\n        break;\n      }\n      reader.skip(tag & 7);\n    }\n    return message;\n  },\n  create(base) {\n    return Event.fromPartial(base != null ? base : {});\n  },\n  fromPartial(object) {\n    const message = createBaseEvent();\n    message.textMessageStart = object.textMessageStart !== void 0 && object.textMessageStart !== null ? TextMessageStartEvent.fromPartial(object.textMessageStart) : void 0;\n    message.textMessageContent = object.textMessageContent !== void 0 && object.textMessageContent !== null ? TextMessageContentEvent.fromPartial(object.textMessageContent) : void 0;\n    message.textMessageEnd = object.textMessageEnd !== void 0 && object.textMessageEnd !== null ? TextMessageEndEvent.fromPartial(object.textMessageEnd) : void 0;\n    message.toolCallStart = object.toolCallStart !== void 0 && object.toolCallStart !== null ? ToolCallStartEvent.fromPartial(object.toolCallStart) : void 0;\n    message.toolCallArgs = object.toolCallArgs !== void 0 && object.toolCallArgs !== null ? ToolCallArgsEvent.fromPartial(object.toolCallArgs) : void 0;\n    message.toolCallEnd = object.toolCallEnd !== void 0 && object.toolCallEnd !== null ? ToolCallEndEvent.fromPartial(object.toolCallEnd) : void 0;\n    message.stateSnapshot = object.stateSnapshot !== void 0 && object.stateSnapshot !== null ? StateSnapshotEvent.fromPartial(object.stateSnapshot) : void 0;\n    message.stateDelta = object.stateDelta !== void 0 && object.stateDelta !== null ? StateDeltaEvent.fromPartial(object.stateDelta) : void 0;\n    message.messagesSnapshot = object.messagesSnapshot !== void 0 && object.messagesSnapshot !== null ? MessagesSnapshotEvent.fromPartial(object.messagesSnapshot) : void 0;\n    message.raw = object.raw !== void 0 && object.raw !== null ? RawEvent.fromPartial(object.raw) : void 0;\n    message.custom = object.custom !== void 0 && object.custom !== null ? CustomEvent.fromPartial(object.custom) : void 0;\n    message.runStarted = object.runStarted !== void 0 && object.runStarted !== null ? RunStartedEvent.fromPartial(object.runStarted) : void 0;\n    message.runFinished = object.runFinished !== void 0 && object.runFinished !== null ? RunFinishedEvent.fromPartial(object.runFinished) : void 0;\n    message.runError = object.runError !== void 0 && object.runError !== null ? RunErrorEvent.fromPartial(object.runError) : void 0;\n    message.stepStarted = object.stepStarted !== void 0 && object.stepStarted !== null ? StepStartedEvent.fromPartial(object.stepStarted) : void 0;\n    message.stepFinished = object.stepFinished !== void 0 && object.stepFinished !== null ? StepFinishedEvent.fromPartial(object.stepFinished) : void 0;\n    message.textMessageChunk = object.textMessageChunk !== void 0 && object.textMessageChunk !== null ? TextMessageChunkEvent.fromPartial(object.textMessageChunk) : void 0;\n    message.toolCallChunk = object.toolCallChunk !== void 0 && object.toolCallChunk !== null ? ToolCallChunkEvent.fromPartial(object.toolCallChunk) : void 0;\n    return message;\n  }\n};\nfunction longToNumber(int64) {\n  const num = globalThis.Number(int64.toString());\n  if (num > globalThis.Number.MAX_SAFE_INTEGER) {\n    throw new globalThis.Error(\"Value is larger than Number.MAX_SAFE_INTEGER\");\n  }\n  if (num < globalThis.Number.MIN_SAFE_INTEGER) {\n    throw new globalThis.Error(\"Value is smaller than Number.MIN_SAFE_INTEGER\");\n  }\n  return num;\n}\n\n// src/proto.ts\nfunction toCamelCase(str) {\n  return str.toLowerCase().replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\n}\nfunction encode(event) {\n  const oneofField = toCamelCase(event.type);\n  const { type, timestamp, rawEvent, ...rest } = event;\n  if (type === _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.MESSAGES_SNAPSHOT) {\n    rest.messages = rest.messages.map((message) => {\n      const untypedMessage = message;\n      if (untypedMessage.toolCalls === void 0) {\n        return { ...message, toolCalls: [] };\n      }\n      return message;\n    });\n  }\n  if (type === _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_DELTA) {\n    rest.delta = rest.delta.map((operation) => ({\n      ...operation,\n      op: JsonPatchOperationType[operation.op.toUpperCase()]\n    }));\n  }\n  const eventMessage = {\n    [oneofField]: {\n      baseEvent: {\n        type: EventType[event.type],\n        timestamp,\n        rawEvent\n      },\n      ...rest\n    }\n  };\n  return Event.encode(eventMessage).finish();\n}\nfunction decode(data) {\n  var _a;\n  const event = Event.decode(data);\n  const decoded = Object.values(event).find((value) => value !== void 0);\n  if (!decoded) {\n    throw new Error(\"Invalid event\");\n  }\n  decoded.type = EventType[decoded.baseEvent.type];\n  decoded.timestamp = decoded.baseEvent.timestamp;\n  decoded.rawEvent = decoded.baseEvent.rawEvent;\n  if (decoded.type === _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.MESSAGES_SNAPSHOT) {\n    for (const message of decoded.messages) {\n      const untypedMessage = message;\n      if (((_a = untypedMessage.toolCalls) == null ? void 0 : _a.length) === 0) {\n        untypedMessage.toolCalls = void 0;\n      }\n    }\n  }\n  if (decoded.type === _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventType.STATE_DELTA) {\n    for (const operation of decoded.delta) {\n      operation.op = JsonPatchOperationType[operation.op].toLowerCase();\n      Object.keys(operation).forEach((key) => {\n        if (operation[key] === void 0) {\n          delete operation[key];\n        }\n      });\n    }\n  }\n  Object.keys(decoded).forEach((key) => {\n    if (decoded[key] === void 0) {\n      delete decoded[key];\n    }\n  });\n  return _ag_ui_core__WEBPACK_IMPORTED_MODULE_0__.EventSchemas.parse(decoded);\n}\n\n// src/index.ts\nvar AGUI_MEDIA_TYPE = \"application/vnd.ag-ui.event+proto\";\n\n//# sourceMappingURL=index.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9ub2RlX21vZHVsZXMvQGFnLXVpL3Byb3RvL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDb0U7O0FBRXBFO0FBQ3VHOztBQUV2RztBQUNxRTtBQUNyRTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsK0JBQStCLGlFQUFZO0FBQzNDO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWTtBQUNoRDtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxpRUFBWSxlQUFlLGlFQUFZO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0RBQXNEO0FBQ3RELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQVk7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsaUVBQVksZUFBZSxpRUFBWTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsK0JBQStCLGlFQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLGlFQUFhLGVBQWUsaUVBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EscUVBQXFFO0FBQ3JFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsK0JBQStCLGlFQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLGlFQUFhLGVBQWUsaUVBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsdUVBQXVFO0FBQ3ZFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsK0JBQStCLGlFQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FB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O0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx3REFBd0Q7QUFDeEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsaUVBQWEsZUFBZSxpRUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyREFBMkQ7QUFDM0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsaUVBQWEsZUFBZSxpRUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSwrREFBK0Q7QUFDL0QsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsaUVBQWEsZUFBZSxpRUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGdFQUFnRTtBQUNoRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsK0JBQStCLGlFQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLGlFQUFhLGVBQWUsaUVBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNkRBQTZEO0FBQzdELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsK0JBQStCLGlFQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLGlFQUFhLGVBQWUsaUVBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGdFQUFnRTtBQUNoRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsaUVBQWEsZUFBZSxpRUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsaUVBQWlFO0FBQ2pFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLCtCQUErQixpRUFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLG9DQUFvQyxpRUFBYSxlQUFlLGlFQUFhO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EscUVBQXFFO0FBQ3JFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlFQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0NBQW9DLGlFQUFhLGVBQWUsaUVBQWE7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGtFQUFrRTtBQUNsRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWE7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxvQ0FBb0MsaUVBQWEsZUFBZSxpRUFBYTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxxREFBcUQ7QUFDckQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHFDQUFxQztBQUMvQyxlQUFlLGtEQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsZUFBZSxrREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsU0FBUyxxREFBWTtBQUNyQjs7QUFFQTtBQUNBO0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS9ub2RlX21vZHVsZXMvQGFnLXVpL3Byb3RvL2Rpc3QvaW5kZXgubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wcm90by50c1xuaW1wb3J0IHsgRXZlbnRTY2hlbWFzLCBFdmVudFR5cGUgYXMgRXZlbnRUeXBlMiB9IGZyb20gXCJAYWctdWkvY29yZVwiO1xuXG4vLyBzcmMvZ2VuZXJhdGVkL2V2ZW50cy50c1xuaW1wb3J0IHsgQmluYXJ5UmVhZGVyIGFzIEJpbmFyeVJlYWRlcjQsIEJpbmFyeVdyaXRlciBhcyBCaW5hcnlXcml0ZXI0IH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1Zi93aXJlXCI7XG5cbi8vIHNyYy9nZW5lcmF0ZWQvZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC50c1xuaW1wb3J0IHsgQmluYXJ5UmVhZGVyLCBCaW5hcnlXcml0ZXIgfSBmcm9tIFwiQGJ1ZmJ1aWxkL3Byb3RvYnVmL3dpcmVcIjtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VTdHJ1Y3QoKSB7XG4gIHJldHVybiB7IGZpZWxkczoge30gfTtcbn1cbnZhciBTdHJ1Y3QgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHtcbiAgICBPYmplY3QuZW50cmllcyhtZXNzYWdlLmZpZWxkcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICBTdHJ1Y3RfRmllbGRzRW50cnkuZW5jb2RlKHsga2V5LCB2YWx1ZSB9LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmpvaW4oKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0cnVjdCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVudHJ5MSA9IFN0cnVjdF9GaWVsZHNFbnRyeS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGlmIChlbnRyeTEudmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgbWVzc2FnZS5maWVsZHNbZW50cnkxLmtleV0gPSBlbnRyeTEudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gU3RydWN0LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0cnVjdCgpO1xuICAgIG1lc3NhZ2UuZmllbGRzID0gT2JqZWN0LmVudHJpZXMoKF9hID0gb2JqZWN0LmZpZWxkcykgIT0gbnVsbCA/IF9hIDoge30pLnJlZHVjZShcbiAgICAgIChhY2MsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIHdyYXAob2JqZWN0KSB7XG4gICAgY29uc3Qgc3RydWN0ID0gY3JlYXRlQmFzZVN0cnVjdCgpO1xuICAgIGlmIChvYmplY3QgIT09IHZvaWQgMCkge1xuICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMob2JqZWN0KSkge1xuICAgICAgICBzdHJ1Y3QuZmllbGRzW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cnVjdDtcbiAgfSxcbiAgdW53cmFwKG1lc3NhZ2UpIHtcbiAgICBjb25zdCBvYmplY3QgPSB7fTtcbiAgICBpZiAobWVzc2FnZS5maWVsZHMpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG1lc3NhZ2UuZmllbGRzKSkge1xuICAgICAgICBvYmplY3Rba2V5XSA9IG1lc3NhZ2UuZmllbGRzW2tleV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlU3RydWN0X0ZpZWxkc0VudHJ5KCkge1xuICByZXR1cm4geyBrZXk6IFwiXCIsIHZhbHVlOiB2b2lkIDAgfTtcbn1cbnZhciBTdHJ1Y3RfRmllbGRzRW50cnkgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyKCkpIHtcbiAgICBpZiAobWVzc2FnZS5rZXkgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmtleSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIFZhbHVlLmVuY29kZShWYWx1ZS53cmFwKG1lc3NhZ2UudmFsdWUpLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlciA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdHJ1Y3RfRmllbGRzRW50cnkoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmtleSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBTdHJ1Y3RfRmllbGRzRW50cnkuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0cnVjdF9GaWVsZHNFbnRyeSgpO1xuICAgIG1lc3NhZ2Uua2V5ID0gKF9hID0gb2JqZWN0LmtleSkgIT0gbnVsbCA/IF9hIDogXCJcIjtcbiAgICBtZXNzYWdlLnZhbHVlID0gKF9iID0gb2JqZWN0LnZhbHVlKSAhPSBudWxsID8gX2IgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVmFsdWUoKSB7XG4gIHJldHVybiB7XG4gICAgbnVsbFZhbHVlOiB2b2lkIDAsXG4gICAgbnVtYmVyVmFsdWU6IHZvaWQgMCxcbiAgICBzdHJpbmdWYWx1ZTogdm9pZCAwLFxuICAgIGJvb2xWYWx1ZTogdm9pZCAwLFxuICAgIHN0cnVjdFZhbHVlOiB2b2lkIDAsXG4gICAgbGlzdFZhbHVlOiB2b2lkIDBcbiAgfTtcbn1cbnZhciBWYWx1ZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXIoKSkge1xuICAgIGlmIChtZXNzYWdlLm51bGxWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDgpLmludDMyKG1lc3NhZ2UubnVsbFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UubnVtYmVyVmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNykuZG91YmxlKG1lc3NhZ2UubnVtYmVyVmFsdWUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zdHJpbmdWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5zdHJpbmdWYWx1ZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmJvb2xWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDMyKS5ib29sKG1lc3NhZ2UuYm9vbFZhbHVlKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3RydWN0VmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgU3RydWN0LmVuY29kZShTdHJ1Y3Qud3JhcChtZXNzYWdlLnN0cnVjdFZhbHVlKSwgd3JpdGVyLnVpbnQzMig0MikuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmxpc3RWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICBMaXN0VmFsdWUuZW5jb2RlKExpc3RWYWx1ZS53cmFwKG1lc3NhZ2UubGlzdFZhbHVlKSwgd3JpdGVyLnVpbnQzMig1MCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXIoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVmFsdWUoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubnVsbFZhbHVlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLm51bWJlclZhbHVlID0gcmVhZGVyLmRvdWJsZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5zdHJpbmdWYWx1ZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAzMikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYm9vbFZhbHVlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDU6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc3RydWN0VmFsdWUgPSBTdHJ1Y3QudW53cmFwKFN0cnVjdC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDY6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSA1MCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubGlzdFZhbHVlID0gTGlzdFZhbHVlLnVud3JhcChMaXN0VmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBWYWx1ZS5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVZhbHVlKCk7XG4gICAgbWVzc2FnZS5udWxsVmFsdWUgPSAoX2EgPSBvYmplY3QubnVsbFZhbHVlKSAhPSBudWxsID8gX2EgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5udW1iZXJWYWx1ZSA9IChfYiA9IG9iamVjdC5udW1iZXJWYWx1ZSkgIT0gbnVsbCA/IF9iIDogdm9pZCAwO1xuICAgIG1lc3NhZ2Uuc3RyaW5nVmFsdWUgPSAoX2MgPSBvYmplY3Quc3RyaW5nVmFsdWUpICE9IG51bGwgPyBfYyA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmJvb2xWYWx1ZSA9IChfZCA9IG9iamVjdC5ib29sVmFsdWUpICE9IG51bGwgPyBfZCA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnN0cnVjdFZhbHVlID0gKF9lID0gb2JqZWN0LnN0cnVjdFZhbHVlKSAhPSBudWxsID8gX2UgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5saXN0VmFsdWUgPSAoX2YgPSBvYmplY3QubGlzdFZhbHVlKSAhPSBudWxsID8gX2YgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIHdyYXAodmFsdWUpIHtcbiAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVCYXNlVmFsdWUoKTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHJlc3VsdC5udWxsVmFsdWUgPSAwIC8qIE5VTExfVkFMVUUgKi87XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICByZXN1bHQuYm9vbFZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJlc3VsdC5udW1iZXJWYWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXN1bHQuc3RyaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKGdsb2JhbFRoaXMuQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIHJlc3VsdC5saXN0VmFsdWUgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmVzdWx0LnN0cnVjdFZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFwiVW5zdXBwb3J0ZWQgYW55IHZhbHVlIHR5cGU6IFwiICsgdHlwZW9mIHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcbiAgdW53cmFwKG1lc3NhZ2UpIHtcbiAgICBpZiAobWVzc2FnZS5zdHJpbmdWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZS5zdHJpbmdWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKChtZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBtZXNzYWdlLm51bWJlclZhbHVlKSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZS5udW1iZXJWYWx1ZTtcbiAgICB9IGVsc2UgaWYgKChtZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBtZXNzYWdlLmJvb2xWYWx1ZSkgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIG1lc3NhZ2UuYm9vbFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoKG1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2Uuc3RydWN0VmFsdWUpICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBtZXNzYWdlLnN0cnVjdFZhbHVlO1xuICAgIH0gZWxzZSBpZiAoKG1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2UubGlzdFZhbHVlKSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZS5saXN0VmFsdWU7XG4gICAgfSBlbHNlIGlmICgobWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbWVzc2FnZS5udWxsVmFsdWUpICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUxpc3RWYWx1ZSgpIHtcbiAgcmV0dXJuIHsgdmFsdWVzOiBbXSB9O1xufVxudmFyIExpc3RWYWx1ZSA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXIoKSkge1xuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnZhbHVlcykge1xuICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAodiksIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUxpc3RWYWx1ZSgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudmFsdWVzLnB1c2goVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIExpc3RWYWx1ZS5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VMaXN0VmFsdWUoKTtcbiAgICBtZXNzYWdlLnZhbHVlcyA9ICgoX2EgPSBvYmplY3QudmFsdWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFwKChlKSA9PiBlKSkgfHwgW107XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIHdyYXAoYXJyYXkpIHtcbiAgICBjb25zdCByZXN1bHQgPSBjcmVhdGVCYXNlTGlzdFZhbHVlKCk7XG4gICAgcmVzdWx0LnZhbHVlcyA9IGFycmF5ICE9IG51bGwgPyBhcnJheSA6IFtdO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG4gIHVud3JhcChtZXNzYWdlKSB7XG4gICAgaWYgKChtZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBtZXNzYWdlLmhhc093blByb3BlcnR5KFwidmFsdWVzXCIpKSAmJiBnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkobWVzc2FnZS52YWx1ZXMpKSB7XG4gICAgICByZXR1cm4gbWVzc2FnZS52YWx1ZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL2dlbmVyYXRlZC9wYXRjaC50c1xuaW1wb3J0IHsgQmluYXJ5UmVhZGVyIGFzIEJpbmFyeVJlYWRlcjIsIEJpbmFyeVdyaXRlciBhcyBCaW5hcnlXcml0ZXIyIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1Zi93aXJlXCI7XG52YXIgSnNvblBhdGNoT3BlcmF0aW9uVHlwZSA9IC8qIEBfX1BVUkVfXyAqLyAoKEpzb25QYXRjaE9wZXJhdGlvblR5cGUyKSA9PiB7XG4gIEpzb25QYXRjaE9wZXJhdGlvblR5cGUyW0pzb25QYXRjaE9wZXJhdGlvblR5cGUyW1wiQUREXCJdID0gMF0gPSBcIkFERFwiO1xuICBKc29uUGF0Y2hPcGVyYXRpb25UeXBlMltKc29uUGF0Y2hPcGVyYXRpb25UeXBlMltcIlJFTU9WRVwiXSA9IDFdID0gXCJSRU1PVkVcIjtcbiAgSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbXCJSRVBMQUNFXCJdID0gMl0gPSBcIlJFUExBQ0VcIjtcbiAgSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbXCJNT1ZFXCJdID0gM10gPSBcIk1PVkVcIjtcbiAgSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbXCJDT1BZXCJdID0gNF0gPSBcIkNPUFlcIjtcbiAgSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbXCJURVNUXCJdID0gNV0gPSBcIlRFU1RcIjtcbiAgSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbSnNvblBhdGNoT3BlcmF0aW9uVHlwZTJbXCJVTlJFQ09HTklaRURcIl0gPSAtMV0gPSBcIlVOUkVDT0dOSVpFRFwiO1xuICByZXR1cm4gSnNvblBhdGNoT3BlcmF0aW9uVHlwZTI7XG59KShKc29uUGF0Y2hPcGVyYXRpb25UeXBlIHx8IHt9KTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VKc29uUGF0Y2hPcGVyYXRpb24oKSB7XG4gIHJldHVybiB7IG9wOiAwLCBwYXRoOiBcIlwiLCBmcm9tOiB2b2lkIDAsIHZhbHVlOiB2b2lkIDAgfTtcbn1cbnZhciBKc29uUGF0Y2hPcGVyYXRpb24gPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyMigpKSB7XG4gICAgaWYgKG1lc3NhZ2Uub3AgIT09IDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoOCkuaW50MzIobWVzc2FnZS5vcCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhdGggIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnBhdGgpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5mcm9tICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmZyb20pO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS52YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLnZhbHVlKSwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIyID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyMihpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VKc29uUGF0Y2hPcGVyYXRpb24oKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uub3AgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucGF0aCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZnJvbSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudmFsdWUgPSBWYWx1ZS51bndyYXAoVmFsdWUuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBKc29uUGF0Y2hPcGVyYXRpb24uZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlSnNvblBhdGNoT3BlcmF0aW9uKCk7XG4gICAgbWVzc2FnZS5vcCA9IChfYSA9IG9iamVjdC5vcCkgIT0gbnVsbCA/IF9hIDogMDtcbiAgICBtZXNzYWdlLnBhdGggPSAoX2IgPSBvYmplY3QucGF0aCkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgICBtZXNzYWdlLmZyb20gPSAoX2MgPSBvYmplY3QuZnJvbSkgIT0gbnVsbCA/IF9jIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudmFsdWUgPSAoX2QgPSBvYmplY3QudmFsdWUpICE9IG51bGwgPyBfZCA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcblxuLy8gc3JjL2dlbmVyYXRlZC90eXBlcy50c1xuaW1wb3J0IHsgQmluYXJ5UmVhZGVyIGFzIEJpbmFyeVJlYWRlcjMsIEJpbmFyeVdyaXRlciBhcyBCaW5hcnlXcml0ZXIzIH0gZnJvbSBcIkBidWZidWlsZC9wcm90b2J1Zi93aXJlXCI7XG5mdW5jdGlvbiBjcmVhdGVCYXNlVG9vbENhbGwoKSB7XG4gIHJldHVybiB7IGlkOiBcIlwiLCB0eXBlOiBcIlwiLCBmdW5jdGlvbjogdm9pZCAwIH07XG59XG52YXIgVG9vbENhbGwgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyMygpKSB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudHlwZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmZ1bmN0aW9uICE9PSB2b2lkIDApIHtcbiAgICAgIFRvb2xDYWxsX0Z1bmN0aW9uLmVuY29kZShtZXNzYWdlLmZ1bmN0aW9uLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjMgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXIzKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRvb2xDYWxsKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZnVuY3Rpb24gPSBUb29sQ2FsbF9GdW5jdGlvbi5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gVG9vbENhbGwuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRvb2xDYWxsKCk7XG4gICAgbWVzc2FnZS5pZCA9IChfYSA9IG9iamVjdC5pZCkgIT0gbnVsbCA/IF9hIDogXCJcIjtcbiAgICBtZXNzYWdlLnR5cGUgPSAoX2IgPSBvYmplY3QudHlwZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgICBtZXNzYWdlLmZ1bmN0aW9uID0gb2JqZWN0LmZ1bmN0aW9uICE9PSB2b2lkIDAgJiYgb2JqZWN0LmZ1bmN0aW9uICE9PSBudWxsID8gVG9vbENhbGxfRnVuY3Rpb24uZnJvbVBhcnRpYWwob2JqZWN0LmZ1bmN0aW9uKSA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUb29sQ2FsbF9GdW5jdGlvbigpIHtcbiAgcmV0dXJuIHsgbmFtZTogXCJcIiwgYXJndW1lbnRzOiBcIlwiIH07XG59XG52YXIgVG9vbENhbGxfRnVuY3Rpb24gPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyMygpKSB7XG4gICAgaWYgKG1lc3NhZ2UubmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxMCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmFyZ3VtZW50cyAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjMgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXIzKGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRvb2xDYWxsX0Z1bmN0aW9uKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5hcmd1bWVudHMgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBUb29sQ2FsbF9GdW5jdGlvbi5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVG9vbENhbGxfRnVuY3Rpb24oKTtcbiAgICBtZXNzYWdlLm5hbWUgPSAoX2EgPSBvYmplY3QubmFtZSkgIT0gbnVsbCA/IF9hIDogXCJcIjtcbiAgICBtZXNzYWdlLmFyZ3VtZW50cyA9IChfYiA9IG9iamVjdC5hcmd1bWVudHMpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlTWVzc2FnZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogXCJcIixcbiAgICByb2xlOiBcIlwiLFxuICAgIGNvbnRlbnQ6IHZvaWQgMCxcbiAgICBuYW1lOiB2b2lkIDAsXG4gICAgdG9vbENhbGxzOiBbXSxcbiAgICB0b29sQ2FsbElkOiB2b2lkIDAsXG4gICAgZXJyb3I6IHZvaWQgMFxuICB9O1xufVxudmFyIE1lc3NhZ2UgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyMygpKSB7XG4gICAgaWYgKG1lc3NhZ2UuaWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTApLnN0cmluZyhtZXNzYWdlLmlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2Uucm9sZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvbnRlbnQgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UuY29udGVudCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigzNCkuc3RyaW5nKG1lc3NhZ2UubmFtZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLnRvb2xDYWxscykge1xuICAgICAgVG9vbENhbGwuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b29sQ2FsbElkICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNTApLnN0cmluZyhtZXNzYWdlLnRvb2xDYWxsSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5lcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDU4KS5zdHJpbmcobWVzc2FnZS5lcnJvcik7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXIzID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyMyhpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNZXNzYWdlKCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5pZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuY29udGVudCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDU6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSA0Mikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudG9vbENhbGxzLnB1c2goVG9vbENhbGwuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA2OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRvb2xDYWxsSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA3OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gNTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmVycm9yID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gTWVzc2FnZS5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2c7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VNZXNzYWdlKCk7XG4gICAgbWVzc2FnZS5pZCA9IChfYSA9IG9iamVjdC5pZCkgIT0gbnVsbCA/IF9hIDogXCJcIjtcbiAgICBtZXNzYWdlLnJvbGUgPSAoX2IgPSBvYmplY3Qucm9sZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgICBtZXNzYWdlLmNvbnRlbnQgPSAoX2MgPSBvYmplY3QuY29udGVudCkgIT0gbnVsbCA/IF9jIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UubmFtZSA9IChfZCA9IG9iamVjdC5uYW1lKSAhPSBudWxsID8gX2QgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS50b29sQ2FsbHMgPSAoKF9lID0gb2JqZWN0LnRvb2xDYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLm1hcCgoZSkgPT4gVG9vbENhbGwuZnJvbVBhcnRpYWwoZSkpKSB8fCBbXTtcbiAgICBtZXNzYWdlLnRvb2xDYWxsSWQgPSAoX2YgPSBvYmplY3QudG9vbENhbGxJZCkgIT0gbnVsbCA/IF9mIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UuZXJyb3IgPSAoX2cgPSBvYmplY3QuZXJyb3IpICE9IG51bGwgPyBfZyA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcblxuLy8gc3JjL2dlbmVyYXRlZC9ldmVudHMudHNcbnZhciBFdmVudFR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChFdmVudFR5cGUzKSA9PiB7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlRFWFRfTUVTU0FHRV9TVEFSVFwiXSA9IDBdID0gXCJURVhUX01FU1NBR0VfU1RBUlRcIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiVEVYVF9NRVNTQUdFX0NPTlRFTlRcIl0gPSAxXSA9IFwiVEVYVF9NRVNTQUdFX0NPTlRFTlRcIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiVEVYVF9NRVNTQUdFX0VORFwiXSA9IDJdID0gXCJURVhUX01FU1NBR0VfRU5EXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlRPT0xfQ0FMTF9TVEFSVFwiXSA9IDNdID0gXCJUT09MX0NBTExfU1RBUlRcIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiVE9PTF9DQUxMX0FSR1NcIl0gPSA0XSA9IFwiVE9PTF9DQUxMX0FSR1NcIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiVE9PTF9DQUxMX0VORFwiXSA9IDVdID0gXCJUT09MX0NBTExfRU5EXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlNUQVRFX1NOQVBTSE9UXCJdID0gNl0gPSBcIlNUQVRFX1NOQVBTSE9UXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlNUQVRFX0RFTFRBXCJdID0gN10gPSBcIlNUQVRFX0RFTFRBXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIk1FU1NBR0VTX1NOQVBTSE9UXCJdID0gOF0gPSBcIk1FU1NBR0VTX1NOQVBTSE9UXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlJBV1wiXSA9IDldID0gXCJSQVdcIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiQ1VTVE9NXCJdID0gMTBdID0gXCJDVVNUT01cIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiUlVOX1NUQVJURURcIl0gPSAxMV0gPSBcIlJVTl9TVEFSVEVEXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlJVTl9GSU5JU0hFRFwiXSA9IDEyXSA9IFwiUlVOX0ZJTklTSEVEXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlJVTl9FUlJPUlwiXSA9IDEzXSA9IFwiUlVOX0VSUk9SXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlNURVBfU1RBUlRFRFwiXSA9IDE0XSA9IFwiU1RFUF9TVEFSVEVEXCI7XG4gIEV2ZW50VHlwZTNbRXZlbnRUeXBlM1tcIlNURVBfRklOSVNIRURcIl0gPSAxNV0gPSBcIlNURVBfRklOSVNIRURcIjtcbiAgRXZlbnRUeXBlM1tFdmVudFR5cGUzW1wiVU5SRUNPR05JWkVEXCJdID0gLTFdID0gXCJVTlJFQ09HTklaRURcIjtcbiAgcmV0dXJuIEV2ZW50VHlwZTM7XG59KShFdmVudFR5cGUgfHwge30pO1xuZnVuY3Rpb24gY3JlYXRlQmFzZUJhc2VFdmVudCgpIHtcbiAgcmV0dXJuIHsgdHlwZTogMCwgdGltZXN0YW1wOiB2b2lkIDAsIHJhd0V2ZW50OiB2b2lkIDAgfTtcbn1cbnZhciBCYXNlRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudHlwZSAhPT0gMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMig4KS5pbnQzMihtZXNzYWdlLnR5cGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50aW1lc3RhbXAgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxNikuaW50NjQobWVzc2FnZS50aW1lc3RhbXApO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yYXdFdmVudCAhPT0gdm9pZCAwKSB7XG4gICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLnJhd0V2ZW50KSwgd3JpdGVyLnVpbnQzMigyNikuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXI0ID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyNChpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VCYXNlRXZlbnQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgPSBsb25nVG9OdW1iZXIocmVhZGVyLmludDY0KCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5yYXdFdmVudCA9IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIEJhc2VFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUJhc2VFdmVudCgpO1xuICAgIG1lc3NhZ2UudHlwZSA9IChfYSA9IG9iamVjdC50eXBlKSAhPSBudWxsID8gX2EgOiAwO1xuICAgIG1lc3NhZ2UudGltZXN0YW1wID0gKF9iID0gb2JqZWN0LnRpbWVzdGFtcCkgIT0gbnVsbCA/IF9iIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UucmF3RXZlbnQgPSAoX2MgPSBvYmplY3QucmF3RXZlbnQpICE9IG51bGwgPyBfYyA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUZXh0TWVzc2FnZVN0YXJ0RXZlbnQoKSB7XG4gIHJldHVybiB7IGJhc2VFdmVudDogdm9pZCAwLCBtZXNzYWdlSWQ6IFwiXCIsIHJvbGU6IHZvaWQgMCB9O1xufVxudmFyIFRleHRNZXNzYWdlU3RhcnRFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2VJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubWVzc2FnZUlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5yb2xlKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjQgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXI0KGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRleHRNZXNzYWdlU3RhcnRFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2VJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uucm9sZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFRleHRNZXNzYWdlU3RhcnRFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVGV4dE1lc3NhZ2VTdGFydEV2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLm1lc3NhZ2VJZCA9IChfYSA9IG9iamVjdC5tZXNzYWdlSWQpICE9IG51bGwgPyBfYSA6IFwiXCI7XG4gICAgbWVzc2FnZS5yb2xlID0gKF9iID0gb2JqZWN0LnJvbGUpICE9IG51bGwgPyBfYiA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUZXh0TWVzc2FnZUNvbnRlbnRFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIG1lc3NhZ2VJZDogXCJcIiwgZGVsdGE6IFwiXCIgfTtcbn1cbnZhciBUZXh0TWVzc2FnZUNvbnRlbnRFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2VJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UubWVzc2FnZUlkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGVsdGEgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmRlbHRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjQgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXI0KGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRleHRNZXNzYWdlQ29udGVudEV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5kZWx0YSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFRleHRNZXNzYWdlQ29udGVudEV2ZW50LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUZXh0TWVzc2FnZUNvbnRlbnRFdmVudCgpO1xuICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gb2JqZWN0LmJhc2VFdmVudCAhPT0gdm9pZCAwICYmIG9iamVjdC5iYXNlRXZlbnQgIT09IG51bGwgPyBCYXNlRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmJhc2VFdmVudCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5tZXNzYWdlSWQgPSAoX2EgPSBvYmplY3QubWVzc2FnZUlkKSAhPSBudWxsID8gX2EgOiBcIlwiO1xuICAgIG1lc3NhZ2UuZGVsdGEgPSAoX2IgPSBvYmplY3QuZGVsdGEpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVGV4dE1lc3NhZ2VFbmRFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIG1lc3NhZ2VJZDogXCJcIiB9O1xufVxudmFyIFRleHRNZXNzYWdlRW5kRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYmFzZUV2ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgIEJhc2VFdmVudC5lbmNvZGUobWVzc2FnZS5iYXNlRXZlbnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlSWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLm1lc3NhZ2VJZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXI0ID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyNChpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUZXh0TWVzc2FnZUVuZEV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gVGV4dE1lc3NhZ2VFbmRFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUZXh0TWVzc2FnZUVuZEV2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLm1lc3NhZ2VJZCA9IChfYSA9IG9iamVjdC5tZXNzYWdlSWQpICE9IG51bGwgPyBfYSA6IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVG9vbENhbGxTdGFydEV2ZW50KCkge1xuICByZXR1cm4geyBiYXNlRXZlbnQ6IHZvaWQgMCwgdG9vbENhbGxJZDogXCJcIiwgdG9vbENhbGxOYW1lOiBcIlwiLCBwYXJlbnRNZXNzYWdlSWQ6IHZvaWQgMCB9O1xufVxudmFyIFRvb2xDYWxsU3RhcnRFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRvb2xDYWxsSWQgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnRvb2xDYWxsSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b29sQ2FsbE5hbWUgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnRvb2xDYWxsTmFtZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5wYXJlbnRNZXNzYWdlSWQpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVG9vbENhbGxTdGFydEV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudG9vbENhbGxJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudG9vbENhbGxOYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNDoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBUb29sQ2FsbFN0YXJ0RXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUb29sQ2FsbFN0YXJ0RXZlbnQoKTtcbiAgICBtZXNzYWdlLmJhc2VFdmVudCA9IG9iamVjdC5iYXNlRXZlbnQgIT09IHZvaWQgMCAmJiBvYmplY3QuYmFzZUV2ZW50ICE9PSBudWxsID8gQmFzZUV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5iYXNlRXZlbnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudG9vbENhbGxJZCA9IChfYSA9IG9iamVjdC50b29sQ2FsbElkKSAhPSBudWxsID8gX2EgOiBcIlwiO1xuICAgIG1lc3NhZ2UudG9vbENhbGxOYW1lID0gKF9iID0gb2JqZWN0LnRvb2xDYWxsTmFtZSkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgICBtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZCA9IChfYyA9IG9iamVjdC5wYXJlbnRNZXNzYWdlSWQpICE9IG51bGwgPyBfYyA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUb29sQ2FsbEFyZ3NFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIHRvb2xDYWxsSWQ6IFwiXCIsIGRlbHRhOiBcIlwiIH07XG59XG52YXIgVG9vbENhbGxBcmdzRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYmFzZUV2ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgIEJhc2VFdmVudC5lbmNvZGUobWVzc2FnZS5iYXNlRXZlbnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b29sQ2FsbElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS50b29sQ2FsbElkKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UuZGVsdGEgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLmRlbHRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjQgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXI0KGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRvb2xDYWxsQXJnc0V2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudG9vbENhbGxJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZGVsdGEgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBUb29sQ2FsbEFyZ3NFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVG9vbENhbGxBcmdzRXZlbnQoKTtcbiAgICBtZXNzYWdlLmJhc2VFdmVudCA9IG9iamVjdC5iYXNlRXZlbnQgIT09IHZvaWQgMCAmJiBvYmplY3QuYmFzZUV2ZW50ICE9PSBudWxsID8gQmFzZUV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5iYXNlRXZlbnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudG9vbENhbGxJZCA9IChfYSA9IG9iamVjdC50b29sQ2FsbElkKSAhPSBudWxsID8gX2EgOiBcIlwiO1xuICAgIG1lc3NhZ2UuZGVsdGEgPSAoX2IgPSBvYmplY3QuZGVsdGEpICE9IG51bGwgPyBfYiA6IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVG9vbENhbGxFbmRFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIHRvb2xDYWxsSWQ6IFwiXCIgfTtcbn1cbnZhciBUb29sQ2FsbEVuZEV2ZW50ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gbmV3IEJpbmFyeVdyaXRlcjQoKSkge1xuICAgIGlmIChtZXNzYWdlLmJhc2VFdmVudCAhPT0gdm9pZCAwKSB7XG4gICAgICBCYXNlRXZlbnQuZW5jb2RlKG1lc3NhZ2UuYmFzZUV2ZW50LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudG9vbENhbGxJZCAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UudG9vbENhbGxJZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXI0ID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyNChpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUb29sQ2FsbEVuZEV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudG9vbENhbGxJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFRvb2xDYWxsRW5kRXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVG9vbENhbGxFbmRFdmVudCgpO1xuICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gb2JqZWN0LmJhc2VFdmVudCAhPT0gdm9pZCAwICYmIG9iamVjdC5iYXNlRXZlbnQgIT09IG51bGwgPyBCYXNlRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmJhc2VFdmVudCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS50b29sQ2FsbElkID0gKF9hID0gb2JqZWN0LnRvb2xDYWxsSWQpICE9IG51bGwgPyBfYSA6IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlU3RhdGVTbmFwc2hvdEV2ZW50KCkge1xuICByZXR1cm4geyBiYXNlRXZlbnQ6IHZvaWQgMCwgc25hcHNob3Q6IHZvaWQgMCB9O1xufVxudmFyIFN0YXRlU25hcHNob3RFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNuYXBzaG90ICE9PSB2b2lkIDApIHtcbiAgICAgIFZhbHVlLmVuY29kZShWYWx1ZS53cmFwKG1lc3NhZ2Uuc25hcHNob3QpLCB3cml0ZXIudWludDMyKDE4KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjQgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXI0KGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0YXRlU25hcHNob3RFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnNuYXBzaG90ID0gVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gU3RhdGVTbmFwc2hvdEV2ZW50LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVN0YXRlU25hcHNob3RFdmVudCgpO1xuICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gb2JqZWN0LmJhc2VFdmVudCAhPT0gdm9pZCAwICYmIG9iamVjdC5iYXNlRXZlbnQgIT09IG51bGwgPyBCYXNlRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmJhc2VFdmVudCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5zbmFwc2hvdCA9IChfYSA9IG9iamVjdC5zbmFwc2hvdCkgIT0gbnVsbCA/IF9hIDogdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVN0YXRlRGVsdGFFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIGRlbHRhOiBbXSB9O1xufVxudmFyIFN0YXRlRGVsdGFFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdiBvZiBtZXNzYWdlLmRlbHRhKSB7XG4gICAgICBKc29uUGF0Y2hPcGVyYXRpb24uZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RhdGVEZWx0YUV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuZGVsdGEucHVzaChKc29uUGF0Y2hPcGVyYXRpb24uZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBTdGF0ZURlbHRhRXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RhdGVEZWx0YUV2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmRlbHRhID0gKChfYSA9IG9iamVjdC5kZWx0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hcCgoZSkgPT4gSnNvblBhdGNoT3BlcmF0aW9uLmZyb21QYXJ0aWFsKGUpKSkgfHwgW107XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlTWVzc2FnZXNTbmFwc2hvdEV2ZW50KCkge1xuICByZXR1cm4geyBiYXNlRXZlbnQ6IHZvaWQgMCwgbWVzc2FnZXM6IFtdIH07XG59XG52YXIgTWVzc2FnZXNTbmFwc2hvdEV2ZW50ID0ge1xuICBlbmNvZGUobWVzc2FnZSwgd3JpdGVyID0gbmV3IEJpbmFyeVdyaXRlcjQoKSkge1xuICAgIGlmIChtZXNzYWdlLmJhc2VFdmVudCAhPT0gdm9pZCAwKSB7XG4gICAgICBCYXNlRXZlbnQuZW5jb2RlKG1lc3NhZ2UuYmFzZUV2ZW50LCB3cml0ZXIudWludDMyKDEwKS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB2IG9mIG1lc3NhZ2UubWVzc2FnZXMpIHtcbiAgICAgIE1lc3NhZ2UuZW5jb2RlKHYsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlTWVzc2FnZXNTbmFwc2hvdEV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBCYXNlRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxOCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZXMucHVzaChNZXNzYWdlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gTWVzc2FnZXNTbmFwc2hvdEV2ZW50LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZU1lc3NhZ2VzU25hcHNob3RFdmVudCgpO1xuICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gb2JqZWN0LmJhc2VFdmVudCAhPT0gdm9pZCAwICYmIG9iamVjdC5iYXNlRXZlbnQgIT09IG51bGwgPyBCYXNlRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmJhc2VFdmVudCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5tZXNzYWdlcyA9ICgoX2EgPSBvYmplY3QubWVzc2FnZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5tYXAoKGUpID0+IE1lc3NhZ2UuZnJvbVBhcnRpYWwoZSkpKSB8fCBbXTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSYXdFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIGV2ZW50OiB2b2lkIDAsIHNvdXJjZTogdm9pZCAwIH07XG59XG52YXIgUmF3RXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYmFzZUV2ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgIEJhc2VFdmVudC5lbmNvZGUobWVzc2FnZS5iYXNlRXZlbnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5ldmVudCAhPT0gdm9pZCAwKSB7XG4gICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLmV2ZW50KSwgd3JpdGVyLnVpbnQzMigxOCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnNvdXJjZSAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5zb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUmF3RXZlbnQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmJhc2VFdmVudCA9IEJhc2VFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5ldmVudCA9IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc291cmNlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gUmF3RXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJhd0V2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmV2ZW50ID0gKF9hID0gb2JqZWN0LmV2ZW50KSAhPSBudWxsID8gX2EgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5zb3VyY2UgPSAoX2IgPSBvYmplY3Quc291cmNlKSAhPSBudWxsID8gX2IgOiB2b2lkIDA7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlQ3VzdG9tRXZlbnQoKSB7XG4gIHJldHVybiB7IGJhc2VFdmVudDogdm9pZCAwLCBuYW1lOiBcIlwiLCB2YWx1ZTogdm9pZCAwIH07XG59XG52YXIgQ3VzdG9tRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYmFzZUV2ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgIEJhc2VFdmVudC5lbmNvZGUobWVzc2FnZS5iYXNlRXZlbnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5uYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5uYW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgVmFsdWUuZW5jb2RlKFZhbHVlLndyYXAobWVzc2FnZS52YWx1ZSksIHdyaXRlci51aW50MzIoMjYpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlQ3VzdG9tRXZlbnQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmJhc2VFdmVudCA9IEJhc2VFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5uYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS52YWx1ZSA9IFZhbHVlLnVud3JhcChWYWx1ZS5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIEN1c3RvbUV2ZW50LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VDdXN0b21FdmVudCgpO1xuICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gb2JqZWN0LmJhc2VFdmVudCAhPT0gdm9pZCAwICYmIG9iamVjdC5iYXNlRXZlbnQgIT09IG51bGwgPyBCYXNlRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmJhc2VFdmVudCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5uYW1lID0gKF9hID0gb2JqZWN0Lm5hbWUpICE9IG51bGwgPyBfYSA6IFwiXCI7XG4gICAgbWVzc2FnZS52YWx1ZSA9IChfYiA9IG9iamVjdC52YWx1ZSkgIT0gbnVsbCA/IF9iIDogdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJ1blN0YXJ0ZWRFdmVudCgpIHtcbiAgcmV0dXJuIHsgYmFzZUV2ZW50OiB2b2lkIDAsIHRocmVhZElkOiBcIlwiLCBydW5JZDogXCJcIiB9O1xufVxudmFyIFJ1blN0YXJ0ZWRFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRocmVhZElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS50aHJlYWRJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJ1bklkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5ydW5JZCk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXI0ID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyNChpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSdW5TdGFydGVkRXZlbnQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmJhc2VFdmVudCA9IEJhc2VFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50aHJlYWRJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAyNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucnVuSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBSdW5TdGFydGVkRXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJ1blN0YXJ0ZWRFdmVudCgpO1xuICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gb2JqZWN0LmJhc2VFdmVudCAhPT0gdm9pZCAwICYmIG9iamVjdC5iYXNlRXZlbnQgIT09IG51bGwgPyBCYXNlRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmJhc2VFdmVudCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS50aHJlYWRJZCA9IChfYSA9IG9iamVjdC50aHJlYWRJZCkgIT0gbnVsbCA/IF9hIDogXCJcIjtcbiAgICBtZXNzYWdlLnJ1bklkID0gKF9iID0gb2JqZWN0LnJ1bklkKSAhPSBudWxsID8gX2IgOiBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVJ1bkZpbmlzaGVkRXZlbnQoKSB7XG4gIHJldHVybiB7IGJhc2VFdmVudDogdm9pZCAwLCB0aHJlYWRJZDogXCJcIiwgcnVuSWQ6IFwiXCIsIHJlc3VsdDogdm9pZCAwIH07XG59XG52YXIgUnVuRmluaXNoZWRFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRocmVhZElkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS50aHJlYWRJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJ1bklkICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDI2KS5zdHJpbmcobWVzc2FnZS5ydW5JZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJlc3VsdCAhPT0gdm9pZCAwKSB7XG4gICAgICBWYWx1ZS5lbmNvZGUoVmFsdWUud3JhcChtZXNzYWdlLnJlc3VsdCksIHdyaXRlci51aW50MzIoMzQpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUnVuRmluaXNoZWRFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRocmVhZElkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDI2KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5ydW5JZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucmVzdWx0ID0gVmFsdWUudW53cmFwKFZhbHVlLmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gUnVuRmluaXNoZWRFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVJ1bkZpbmlzaGVkRXZlbnQoKTtcbiAgICBtZXNzYWdlLmJhc2VFdmVudCA9IG9iamVjdC5iYXNlRXZlbnQgIT09IHZvaWQgMCAmJiBvYmplY3QuYmFzZUV2ZW50ICE9PSBudWxsID8gQmFzZUV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5iYXNlRXZlbnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudGhyZWFkSWQgPSAoX2EgPSBvYmplY3QudGhyZWFkSWQpICE9IG51bGwgPyBfYSA6IFwiXCI7XG4gICAgbWVzc2FnZS5ydW5JZCA9IChfYiA9IG9iamVjdC5ydW5JZCkgIT0gbnVsbCA/IF9iIDogXCJcIjtcbiAgICBtZXNzYWdlLnJlc3VsdCA9IChfYyA9IG9iamVjdC5yZXN1bHQpICE9IG51bGwgPyBfYyA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VSdW5FcnJvckV2ZW50KCkge1xuICByZXR1cm4geyBiYXNlRXZlbnQ6IHZvaWQgMCwgY29kZTogdm9pZCAwLCBtZXNzYWdlOiBcIlwiIH07XG59XG52YXIgUnVuRXJyb3JFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmNvZGUgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2UuY29kZSk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2UgIT09IFwiXCIpIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLm1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlUnVuRXJyb3JFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmNvZGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLm1lc3NhZ2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodGFnICYgNykgPT09IDQgfHwgdGFnID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVhZGVyLnNraXAodGFnICYgNyk7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xuICB9LFxuICBjcmVhdGUoYmFzZSkge1xuICAgIHJldHVybiBSdW5FcnJvckV2ZW50LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VSdW5FcnJvckV2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmNvZGUgPSAoX2EgPSBvYmplY3QuY29kZSkgIT0gbnVsbCA/IF9hIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UubWVzc2FnZSA9IChfYiA9IG9iamVjdC5tZXNzYWdlKSAhPSBudWxsID8gX2IgOiBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVN0ZXBTdGFydGVkRXZlbnQoKSB7XG4gIHJldHVybiB7IGJhc2VFdmVudDogdm9pZCAwLCBzdGVwTmFtZTogXCJcIiB9O1xufVxudmFyIFN0ZXBTdGFydGVkRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYmFzZUV2ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgIEJhc2VFdmVudC5lbmNvZGUobWVzc2FnZS5iYXNlRXZlbnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5zdGVwTmFtZSAhPT0gXCJcIikge1xuICAgICAgd3JpdGVyLnVpbnQzMigxOCkuc3RyaW5nKG1lc3NhZ2Uuc3RlcE5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gd3JpdGVyO1xuICB9LFxuICBkZWNvZGUoaW5wdXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHJlYWRlciA9IGlucHV0IGluc3RhbmNlb2YgQmluYXJ5UmVhZGVyNCA/IGlucHV0IDogbmV3IEJpbmFyeVJlYWRlcjQoaW5wdXQpO1xuICAgIGxldCBlbmQgPSBsZW5ndGggPT09IHZvaWQgMCA/IHJlYWRlci5sZW4gOiByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RlcFN0YXJ0ZWRFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnN0ZXBOYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gU3RlcFN0YXJ0ZWRFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdGVwU3RhcnRlZEV2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnN0ZXBOYW1lID0gKF9hID0gb2JqZWN0LnN0ZXBOYW1lKSAhPSBudWxsID8gX2EgOiBcIlwiO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZVN0ZXBGaW5pc2hlZEV2ZW50KCkge1xuICByZXR1cm4geyBiYXNlRXZlbnQ6IHZvaWQgMCwgc3RlcE5hbWU6IFwiXCIgfTtcbn1cbnZhciBTdGVwRmluaXNoZWRFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnN0ZXBOYW1lICE9PSBcIlwiKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5zdGVwTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXI0ID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyNChpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VTdGVwRmluaXNoZWRFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnN0ZXBOYW1lID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gU3RlcEZpbmlzaGVkRXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlU3RlcEZpbmlzaGVkRXZlbnQoKTtcbiAgICBtZXNzYWdlLmJhc2VFdmVudCA9IG9iamVjdC5iYXNlRXZlbnQgIT09IHZvaWQgMCAmJiBvYmplY3QuYmFzZUV2ZW50ICE9PSBudWxsID8gQmFzZUV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5iYXNlRXZlbnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2Uuc3RlcE5hbWUgPSAoX2EgPSBvYmplY3Quc3RlcE5hbWUpICE9IG51bGwgPyBfYSA6IFwiXCI7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH1cbn07XG5mdW5jdGlvbiBjcmVhdGVCYXNlVGV4dE1lc3NhZ2VDaHVua0V2ZW50KCkge1xuICByZXR1cm4geyBiYXNlRXZlbnQ6IHZvaWQgMCwgbWVzc2FnZUlkOiB2b2lkIDAsIHJvbGU6IHZvaWQgMCwgZGVsdGE6IHZvaWQgMCB9O1xufVxudmFyIFRleHRNZXNzYWdlQ2h1bmtFdmVudCA9IHtcbiAgZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciA9IG5ldyBCaW5hcnlXcml0ZXI0KCkpIHtcbiAgICBpZiAobWVzc2FnZS5iYXNlRXZlbnQgIT09IHZvaWQgMCkge1xuICAgICAgQmFzZUV2ZW50LmVuY29kZShtZXNzYWdlLmJhc2VFdmVudCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLm1lc3NhZ2VJZCAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDE4KS5zdHJpbmcobWVzc2FnZS5tZXNzYWdlSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yb2xlICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMjYpLnN0cmluZyhtZXNzYWdlLnJvbGUpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5kZWx0YSAhPT0gdm9pZCAwKSB7XG4gICAgICB3cml0ZXIudWludDMyKDM0KS5zdHJpbmcobWVzc2FnZS5kZWx0YSk7XG4gICAgfVxuICAgIHJldHVybiB3cml0ZXI7XG4gIH0sXG4gIGRlY29kZShpbnB1dCwgbGVuZ3RoKSB7XG4gICAgY29uc3QgcmVhZGVyID0gaW5wdXQgaW5zdGFuY2VvZiBCaW5hcnlSZWFkZXI0ID8gaW5wdXQgOiBuZXcgQmluYXJ5UmVhZGVyNChpbnB1dCk7XG4gICAgbGV0IGVuZCA9IGxlbmd0aCA9PT0gdm9pZCAwID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUZXh0TWVzc2FnZUNodW5rRXZlbnQoKTtcbiAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgY29uc3QgdGFnID0gcmVhZGVyLnVpbnQzMigpO1xuICAgICAgc3dpdGNoICh0YWcgPj4+IDMpIHtcbiAgICAgICAgY2FzZSAxOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmJhc2VFdmVudCA9IEJhc2VFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5tZXNzYWdlSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnJvbGUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA0OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMzQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmRlbHRhID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gVGV4dE1lc3NhZ2VDaHVua0V2ZW50LmZyb21QYXJ0aWFsKGJhc2UgIT0gbnVsbCA/IGJhc2UgOiB7fSk7XG4gIH0sXG4gIGZyb21QYXJ0aWFsKG9iamVjdCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBjcmVhdGVCYXNlVGV4dE1lc3NhZ2VDaHVua0V2ZW50KCk7XG4gICAgbWVzc2FnZS5iYXNlRXZlbnQgPSBvYmplY3QuYmFzZUV2ZW50ICE9PSB2b2lkIDAgJiYgb2JqZWN0LmJhc2VFdmVudCAhPT0gbnVsbCA/IEJhc2VFdmVudC5mcm9tUGFydGlhbChvYmplY3QuYmFzZUV2ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLm1lc3NhZ2VJZCA9IChfYSA9IG9iamVjdC5tZXNzYWdlSWQpICE9IG51bGwgPyBfYSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnJvbGUgPSAoX2IgPSBvYmplY3Qucm9sZSkgIT0gbnVsbCA/IF9iIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UuZGVsdGEgPSAoX2MgPSBvYmplY3QuZGVsdGEpICE9IG51bGwgPyBfYyA6IHZvaWQgMDtcbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfVxufTtcbmZ1bmN0aW9uIGNyZWF0ZUJhc2VUb29sQ2FsbENodW5rRXZlbnQoKSB7XG4gIHJldHVybiB7XG4gICAgYmFzZUV2ZW50OiB2b2lkIDAsXG4gICAgdG9vbENhbGxJZDogdm9pZCAwLFxuICAgIHRvb2xDYWxsTmFtZTogdm9pZCAwLFxuICAgIHBhcmVudE1lc3NhZ2VJZDogdm9pZCAwLFxuICAgIGRlbHRhOiB2b2lkIDBcbiAgfTtcbn1cbnZhciBUb29sQ2FsbENodW5rRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UuYmFzZUV2ZW50ICE9PSB2b2lkIDApIHtcbiAgICAgIEJhc2VFdmVudC5lbmNvZGUobWVzc2FnZS5iYXNlRXZlbnQsIHdyaXRlci51aW50MzIoMTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b29sQ2FsbElkICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMTgpLnN0cmluZyhtZXNzYWdlLnRvb2xDYWxsSWQpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b29sQ2FsbE5hbWUgIT09IHZvaWQgMCkge1xuICAgICAgd3JpdGVyLnVpbnQzMigyNikuc3RyaW5nKG1lc3NhZ2UudG9vbENhbGxOYW1lKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucGFyZW50TWVzc2FnZUlkICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoMzQpLnN0cmluZyhtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmRlbHRhICE9PSB2b2lkIDApIHtcbiAgICAgIHdyaXRlci51aW50MzIoNDIpLnN0cmluZyhtZXNzYWdlLmRlbHRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjQgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXI0KGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZVRvb2xDYWxsQ2h1bmtFdmVudCgpO1xuICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICBjb25zdCB0YWcgPSByZWFkZXIudWludDMyKCk7XG4gICAgICBzd2l0Y2ggKHRhZyA+Pj4gMykge1xuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAxMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UuYmFzZUV2ZW50ID0gQmFzZUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRvb2xDYWxsSWQgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRvb2xDYWxsTmFtZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSAzNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucGFyZW50TWVzc2FnZUlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDQyKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5kZWx0YSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCh0YWcgJiA3KSA9PT0gNCB8fCB0YWcgPT09IDApIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZWFkZXIuc2tpcCh0YWcgJiA3KTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG4gIH0sXG4gIGNyZWF0ZShiYXNlKSB7XG4gICAgcmV0dXJuIFRvb2xDYWxsQ2h1bmtFdmVudC5mcm9tUGFydGlhbChiYXNlICE9IG51bGwgPyBiYXNlIDoge30pO1xuICB9LFxuICBmcm9tUGFydGlhbChvYmplY3QpIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VUb29sQ2FsbENodW5rRXZlbnQoKTtcbiAgICBtZXNzYWdlLmJhc2VFdmVudCA9IG9iamVjdC5iYXNlRXZlbnQgIT09IHZvaWQgMCAmJiBvYmplY3QuYmFzZUV2ZW50ICE9PSBudWxsID8gQmFzZUV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5iYXNlRXZlbnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudG9vbENhbGxJZCA9IChfYSA9IG9iamVjdC50b29sQ2FsbElkKSAhPSBudWxsID8gX2EgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS50b29sQ2FsbE5hbWUgPSAoX2IgPSBvYmplY3QudG9vbENhbGxOYW1lKSAhPSBudWxsID8gX2IgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWQgPSAoX2MgPSBvYmplY3QucGFyZW50TWVzc2FnZUlkKSAhPSBudWxsID8gX2MgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5kZWx0YSA9IChfZCA9IG9iamVjdC5kZWx0YSkgIT0gbnVsbCA/IF9kIDogdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQmFzZUV2ZW50KCkge1xuICByZXR1cm4ge1xuICAgIHRleHRNZXNzYWdlU3RhcnQ6IHZvaWQgMCxcbiAgICB0ZXh0TWVzc2FnZUNvbnRlbnQ6IHZvaWQgMCxcbiAgICB0ZXh0TWVzc2FnZUVuZDogdm9pZCAwLFxuICAgIHRvb2xDYWxsU3RhcnQ6IHZvaWQgMCxcbiAgICB0b29sQ2FsbEFyZ3M6IHZvaWQgMCxcbiAgICB0b29sQ2FsbEVuZDogdm9pZCAwLFxuICAgIHN0YXRlU25hcHNob3Q6IHZvaWQgMCxcbiAgICBzdGF0ZURlbHRhOiB2b2lkIDAsXG4gICAgbWVzc2FnZXNTbmFwc2hvdDogdm9pZCAwLFxuICAgIHJhdzogdm9pZCAwLFxuICAgIGN1c3RvbTogdm9pZCAwLFxuICAgIHJ1blN0YXJ0ZWQ6IHZvaWQgMCxcbiAgICBydW5GaW5pc2hlZDogdm9pZCAwLFxuICAgIHJ1bkVycm9yOiB2b2lkIDAsXG4gICAgc3RlcFN0YXJ0ZWQ6IHZvaWQgMCxcbiAgICBzdGVwRmluaXNoZWQ6IHZvaWQgMCxcbiAgICB0ZXh0TWVzc2FnZUNodW5rOiB2b2lkIDAsXG4gICAgdG9vbENhbGxDaHVuazogdm9pZCAwXG4gIH07XG59XG52YXIgRXZlbnQgPSB7XG4gIGVuY29kZShtZXNzYWdlLCB3cml0ZXIgPSBuZXcgQmluYXJ5V3JpdGVyNCgpKSB7XG4gICAgaWYgKG1lc3NhZ2UudGV4dE1lc3NhZ2VTdGFydCAhPT0gdm9pZCAwKSB7XG4gICAgICBUZXh0TWVzc2FnZVN0YXJ0RXZlbnQuZW5jb2RlKG1lc3NhZ2UudGV4dE1lc3NhZ2VTdGFydCwgd3JpdGVyLnVpbnQzMigxMCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRleHRNZXNzYWdlQ29udGVudCAhPT0gdm9pZCAwKSB7XG4gICAgICBUZXh0TWVzc2FnZUNvbnRlbnRFdmVudC5lbmNvZGUobWVzc2FnZS50ZXh0TWVzc2FnZUNvbnRlbnQsIHdyaXRlci51aW50MzIoMTgpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50ZXh0TWVzc2FnZUVuZCAhPT0gdm9pZCAwKSB7XG4gICAgICBUZXh0TWVzc2FnZUVuZEV2ZW50LmVuY29kZShtZXNzYWdlLnRleHRNZXNzYWdlRW5kLCB3cml0ZXIudWludDMyKDI2KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UudG9vbENhbGxTdGFydCAhPT0gdm9pZCAwKSB7XG4gICAgICBUb29sQ2FsbFN0YXJ0RXZlbnQuZW5jb2RlKG1lc3NhZ2UudG9vbENhbGxTdGFydCwgd3JpdGVyLnVpbnQzMigzNCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRvb2xDYWxsQXJncyAhPT0gdm9pZCAwKSB7XG4gICAgICBUb29sQ2FsbEFyZ3NFdmVudC5lbmNvZGUobWVzc2FnZS50b29sQ2FsbEFyZ3MsIHdyaXRlci51aW50MzIoNDIpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50b29sQ2FsbEVuZCAhPT0gdm9pZCAwKSB7XG4gICAgICBUb29sQ2FsbEVuZEV2ZW50LmVuY29kZShtZXNzYWdlLnRvb2xDYWxsRW5kLCB3cml0ZXIudWludDMyKDUwKS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3RhdGVTbmFwc2hvdCAhPT0gdm9pZCAwKSB7XG4gICAgICBTdGF0ZVNuYXBzaG90RXZlbnQuZW5jb2RlKG1lc3NhZ2Uuc3RhdGVTbmFwc2hvdCwgd3JpdGVyLnVpbnQzMig1OCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnN0YXRlRGVsdGEgIT09IHZvaWQgMCkge1xuICAgICAgU3RhdGVEZWx0YUV2ZW50LmVuY29kZShtZXNzYWdlLnN0YXRlRGVsdGEsIHdyaXRlci51aW50MzIoNjYpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5tZXNzYWdlc1NuYXBzaG90ICE9PSB2b2lkIDApIHtcbiAgICAgIE1lc3NhZ2VzU25hcHNob3RFdmVudC5lbmNvZGUobWVzc2FnZS5tZXNzYWdlc1NuYXBzaG90LCB3cml0ZXIudWludDMyKDc0KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucmF3ICE9PSB2b2lkIDApIHtcbiAgICAgIFJhd0V2ZW50LmVuY29kZShtZXNzYWdlLnJhdywgd3JpdGVyLnVpbnQzMig4MikuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLmN1c3RvbSAhPT0gdm9pZCAwKSB7XG4gICAgICBDdXN0b21FdmVudC5lbmNvZGUobWVzc2FnZS5jdXN0b20sIHdyaXRlci51aW50MzIoOTApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5ydW5TdGFydGVkICE9PSB2b2lkIDApIHtcbiAgICAgIFJ1blN0YXJ0ZWRFdmVudC5lbmNvZGUobWVzc2FnZS5ydW5TdGFydGVkLCB3cml0ZXIudWludDMyKDk4KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2UucnVuRmluaXNoZWQgIT09IHZvaWQgMCkge1xuICAgICAgUnVuRmluaXNoZWRFdmVudC5lbmNvZGUobWVzc2FnZS5ydW5GaW5pc2hlZCwgd3JpdGVyLnVpbnQzMigxMDYpLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5ydW5FcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICBSdW5FcnJvckV2ZW50LmVuY29kZShtZXNzYWdlLnJ1bkVycm9yLCB3cml0ZXIudWludDMyKDExNCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnN0ZXBTdGFydGVkICE9PSB2b2lkIDApIHtcbiAgICAgIFN0ZXBTdGFydGVkRXZlbnQuZW5jb2RlKG1lc3NhZ2Uuc3RlcFN0YXJ0ZWQsIHdyaXRlci51aW50MzIoMTIyKS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uuc3RlcEZpbmlzaGVkICE9PSB2b2lkIDApIHtcbiAgICAgIFN0ZXBGaW5pc2hlZEV2ZW50LmVuY29kZShtZXNzYWdlLnN0ZXBGaW5pc2hlZCwgd3JpdGVyLnVpbnQzMigxMzApLmZvcmsoKSkuam9pbigpO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS50ZXh0TWVzc2FnZUNodW5rICE9PSB2b2lkIDApIHtcbiAgICAgIFRleHRNZXNzYWdlQ2h1bmtFdmVudC5lbmNvZGUobWVzc2FnZS50ZXh0TWVzc2FnZUNodW5rLCB3cml0ZXIudWludDMyKDEzOCkuZm9yaygpKS5qb2luKCk7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnRvb2xDYWxsQ2h1bmsgIT09IHZvaWQgMCkge1xuICAgICAgVG9vbENhbGxDaHVua0V2ZW50LmVuY29kZShtZXNzYWdlLnRvb2xDYWxsQ2h1bmssIHdyaXRlci51aW50MzIoMTQ2KS5mb3JrKCkpLmpvaW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyaXRlcjtcbiAgfSxcbiAgZGVjb2RlKGlucHV0LCBsZW5ndGgpIHtcbiAgICBjb25zdCByZWFkZXIgPSBpbnB1dCBpbnN0YW5jZW9mIEJpbmFyeVJlYWRlcjQgPyBpbnB1dCA6IG5ldyBCaW5hcnlSZWFkZXI0KGlucHV0KTtcbiAgICBsZXQgZW5kID0gbGVuZ3RoID09PSB2b2lkIDAgPyByZWFkZXIubGVuIDogcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICBjb25zdCBtZXNzYWdlID0gY3JlYXRlQmFzZUV2ZW50KCk7XG4gICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgIGNvbnN0IHRhZyA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgIHN3aXRjaCAodGFnID4+PiAzKSB7XG4gICAgICAgIGNhc2UgMToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50ZXh0TWVzc2FnZVN0YXJ0ID0gVGV4dE1lc3NhZ2VTdGFydEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTgpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRleHRNZXNzYWdlQ29udGVudCA9IFRleHRNZXNzYWdlQ29udGVudEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRleHRNZXNzYWdlRW5kID0gVGV4dE1lc3NhZ2VFbmRFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNDoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDM0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50b29sQ2FsbFN0YXJ0ID0gVG9vbENhbGxTdGFydEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA1OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gNDIpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRvb2xDYWxsQXJncyA9IFRvb2xDYWxsQXJnc0V2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA2OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gNTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnRvb2xDYWxsRW5kID0gVG9vbENhbGxFbmRFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDU4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5zdGF0ZVNuYXBzaG90ID0gU3RhdGVTbmFwc2hvdEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA4OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gNjYpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLnN0YXRlRGVsdGEgPSBTdGF0ZURlbHRhRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDk6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSA3NCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UubWVzc2FnZXNTbmFwc2hvdCA9IE1lc3NhZ2VzU25hcHNob3RFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMTA6IHtcbiAgICAgICAgICBpZiAodGFnICE9PSA4Mikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucmF3ID0gUmF3RXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDExOiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gOTApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXNzYWdlLmN1c3RvbSA9IEN1c3RvbUV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxMjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDk4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS5ydW5TdGFydGVkID0gUnVuU3RhcnRlZEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxMzoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEwNikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucnVuRmluaXNoZWQgPSBSdW5GaW5pc2hlZEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxNDoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDExNCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UucnVuRXJyb3IgPSBSdW5FcnJvckV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxNToge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEyMikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc3RlcFN0YXJ0ZWQgPSBTdGVwU3RhcnRlZEV2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxNjoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDEzMCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2Uuc3RlcEZpbmlzaGVkID0gU3RlcEZpbmlzaGVkRXZlbnQuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDE3OiB7XG4gICAgICAgICAgaWYgKHRhZyAhPT0gMTM4KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbWVzc2FnZS50ZXh0TWVzc2FnZUNodW5rID0gVGV4dE1lc3NhZ2VDaHVua0V2ZW50LmRlY29kZShyZWFkZXIsIHJlYWRlci51aW50MzIoKSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAxODoge1xuICAgICAgICAgIGlmICh0YWcgIT09IDE0Nikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1lc3NhZ2UudG9vbENhbGxDaHVuayA9IFRvb2xDYWxsQ2h1bmtFdmVudC5kZWNvZGUocmVhZGVyLCByZWFkZXIudWludDMyKCkpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoKHRhZyAmIDcpID09PSA0IHx8IHRhZyA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJlYWRlci5za2lwKHRhZyAmIDcpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbiAgfSxcbiAgY3JlYXRlKGJhc2UpIHtcbiAgICByZXR1cm4gRXZlbnQuZnJvbVBhcnRpYWwoYmFzZSAhPSBudWxsID8gYmFzZSA6IHt9KTtcbiAgfSxcbiAgZnJvbVBhcnRpYWwob2JqZWN0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IGNyZWF0ZUJhc2VFdmVudCgpO1xuICAgIG1lc3NhZ2UudGV4dE1lc3NhZ2VTdGFydCA9IG9iamVjdC50ZXh0TWVzc2FnZVN0YXJ0ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRleHRNZXNzYWdlU3RhcnQgIT09IG51bGwgPyBUZXh0TWVzc2FnZVN0YXJ0RXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnRleHRNZXNzYWdlU3RhcnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudGV4dE1lc3NhZ2VDb250ZW50ID0gb2JqZWN0LnRleHRNZXNzYWdlQ29udGVudCAhPT0gdm9pZCAwICYmIG9iamVjdC50ZXh0TWVzc2FnZUNvbnRlbnQgIT09IG51bGwgPyBUZXh0TWVzc2FnZUNvbnRlbnRFdmVudC5mcm9tUGFydGlhbChvYmplY3QudGV4dE1lc3NhZ2VDb250ZW50KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnRleHRNZXNzYWdlRW5kID0gb2JqZWN0LnRleHRNZXNzYWdlRW5kICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRleHRNZXNzYWdlRW5kICE9PSBudWxsID8gVGV4dE1lc3NhZ2VFbmRFdmVudC5mcm9tUGFydGlhbChvYmplY3QudGV4dE1lc3NhZ2VFbmQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudG9vbENhbGxTdGFydCA9IG9iamVjdC50b29sQ2FsbFN0YXJ0ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRvb2xDYWxsU3RhcnQgIT09IG51bGwgPyBUb29sQ2FsbFN0YXJ0RXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnRvb2xDYWxsU3RhcnQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudG9vbENhbGxBcmdzID0gb2JqZWN0LnRvb2xDYWxsQXJncyAhPT0gdm9pZCAwICYmIG9iamVjdC50b29sQ2FsbEFyZ3MgIT09IG51bGwgPyBUb29sQ2FsbEFyZ3NFdmVudC5mcm9tUGFydGlhbChvYmplY3QudG9vbENhbGxBcmdzKSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnRvb2xDYWxsRW5kID0gb2JqZWN0LnRvb2xDYWxsRW5kICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRvb2xDYWxsRW5kICE9PSBudWxsID8gVG9vbENhbGxFbmRFdmVudC5mcm9tUGFydGlhbChvYmplY3QudG9vbENhbGxFbmQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2Uuc3RhdGVTbmFwc2hvdCA9IG9iamVjdC5zdGF0ZVNuYXBzaG90ICE9PSB2b2lkIDAgJiYgb2JqZWN0LnN0YXRlU25hcHNob3QgIT09IG51bGwgPyBTdGF0ZVNuYXBzaG90RXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnN0YXRlU25hcHNob3QpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2Uuc3RhdGVEZWx0YSA9IG9iamVjdC5zdGF0ZURlbHRhICE9PSB2b2lkIDAgJiYgb2JqZWN0LnN0YXRlRGVsdGEgIT09IG51bGwgPyBTdGF0ZURlbHRhRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnN0YXRlRGVsdGEpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UubWVzc2FnZXNTbmFwc2hvdCA9IG9iamVjdC5tZXNzYWdlc1NuYXBzaG90ICE9PSB2b2lkIDAgJiYgb2JqZWN0Lm1lc3NhZ2VzU25hcHNob3QgIT09IG51bGwgPyBNZXNzYWdlc1NuYXBzaG90RXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0Lm1lc3NhZ2VzU25hcHNob3QpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UucmF3ID0gb2JqZWN0LnJhdyAhPT0gdm9pZCAwICYmIG9iamVjdC5yYXcgIT09IG51bGwgPyBSYXdFdmVudC5mcm9tUGFydGlhbChvYmplY3QucmF3KSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLmN1c3RvbSA9IG9iamVjdC5jdXN0b20gIT09IHZvaWQgMCAmJiBvYmplY3QuY3VzdG9tICE9PSBudWxsID8gQ3VzdG9tRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LmN1c3RvbSkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5ydW5TdGFydGVkID0gb2JqZWN0LnJ1blN0YXJ0ZWQgIT09IHZvaWQgMCAmJiBvYmplY3QucnVuU3RhcnRlZCAhPT0gbnVsbCA/IFJ1blN0YXJ0ZWRFdmVudC5mcm9tUGFydGlhbChvYmplY3QucnVuU3RhcnRlZCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5ydW5GaW5pc2hlZCA9IG9iamVjdC5ydW5GaW5pc2hlZCAhPT0gdm9pZCAwICYmIG9iamVjdC5ydW5GaW5pc2hlZCAhPT0gbnVsbCA/IFJ1bkZpbmlzaGVkRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnJ1bkZpbmlzaGVkKSA6IHZvaWQgMDtcbiAgICBtZXNzYWdlLnJ1bkVycm9yID0gb2JqZWN0LnJ1bkVycm9yICE9PSB2b2lkIDAgJiYgb2JqZWN0LnJ1bkVycm9yICE9PSBudWxsID8gUnVuRXJyb3JFdmVudC5mcm9tUGFydGlhbChvYmplY3QucnVuRXJyb3IpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2Uuc3RlcFN0YXJ0ZWQgPSBvYmplY3Quc3RlcFN0YXJ0ZWQgIT09IHZvaWQgMCAmJiBvYmplY3Quc3RlcFN0YXJ0ZWQgIT09IG51bGwgPyBTdGVwU3RhcnRlZEV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5zdGVwU3RhcnRlZCkgOiB2b2lkIDA7XG4gICAgbWVzc2FnZS5zdGVwRmluaXNoZWQgPSBvYmplY3Quc3RlcEZpbmlzaGVkICE9PSB2b2lkIDAgJiYgb2JqZWN0LnN0ZXBGaW5pc2hlZCAhPT0gbnVsbCA/IFN0ZXBGaW5pc2hlZEV2ZW50LmZyb21QYXJ0aWFsKG9iamVjdC5zdGVwRmluaXNoZWQpIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudGV4dE1lc3NhZ2VDaHVuayA9IG9iamVjdC50ZXh0TWVzc2FnZUNodW5rICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRleHRNZXNzYWdlQ2h1bmsgIT09IG51bGwgPyBUZXh0TWVzc2FnZUNodW5rRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnRleHRNZXNzYWdlQ2h1bmspIDogdm9pZCAwO1xuICAgIG1lc3NhZ2UudG9vbENhbGxDaHVuayA9IG9iamVjdC50b29sQ2FsbENodW5rICE9PSB2b2lkIDAgJiYgb2JqZWN0LnRvb2xDYWxsQ2h1bmsgIT09IG51bGwgPyBUb29sQ2FsbENodW5rRXZlbnQuZnJvbVBhcnRpYWwob2JqZWN0LnRvb2xDYWxsQ2h1bmspIDogdm9pZCAwO1xuICAgIHJldHVybiBtZXNzYWdlO1xuICB9XG59O1xuZnVuY3Rpb24gbG9uZ1RvTnVtYmVyKGludDY0KSB7XG4gIGNvbnN0IG51bSA9IGdsb2JhbFRoaXMuTnVtYmVyKGludDY0LnRvU3RyaW5nKCkpO1xuICBpZiAobnVtID4gZ2xvYmFsVGhpcy5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFwiVmFsdWUgaXMgbGFyZ2VyIHRoYW4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcIik7XG4gIH1cbiAgaWYgKG51bSA8IGdsb2JhbFRoaXMuTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIpIHtcbiAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcIlZhbHVlIGlzIHNtYWxsZXIgdGhhbiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlwiKTtcbiAgfVxuICByZXR1cm4gbnVtO1xufVxuXG4vLyBzcmMvcHJvdG8udHNcbmZ1bmN0aW9uIHRvQ2FtZWxDYXNlKHN0cikge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXyhbYS16XSkvZywgKF8sIGxldHRlcikgPT4gbGV0dGVyLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gZW5jb2RlKGV2ZW50KSB7XG4gIGNvbnN0IG9uZW9mRmllbGQgPSB0b0NhbWVsQ2FzZShldmVudC50eXBlKTtcbiAgY29uc3QgeyB0eXBlLCB0aW1lc3RhbXAsIHJhd0V2ZW50LCAuLi5yZXN0IH0gPSBldmVudDtcbiAgaWYgKHR5cGUgPT09IEV2ZW50VHlwZTIuTUVTU0FHRVNfU05BUFNIT1QpIHtcbiAgICByZXN0Lm1lc3NhZ2VzID0gcmVzdC5tZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICAgIGNvbnN0IHVudHlwZWRNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIGlmICh1bnR5cGVkTWVzc2FnZS50b29sQ2FsbHMgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4geyAuLi5tZXNzYWdlLCB0b29sQ2FsbHM6IFtdIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZSA9PT0gRXZlbnRUeXBlMi5TVEFURV9ERUxUQSkge1xuICAgIHJlc3QuZGVsdGEgPSByZXN0LmRlbHRhLm1hcCgob3BlcmF0aW9uKSA9PiAoe1xuICAgICAgLi4ub3BlcmF0aW9uLFxuICAgICAgb3A6IEpzb25QYXRjaE9wZXJhdGlvblR5cGVbb3BlcmF0aW9uLm9wLnRvVXBwZXJDYXNlKCldXG4gICAgfSkpO1xuICB9XG4gIGNvbnN0IGV2ZW50TWVzc2FnZSA9IHtcbiAgICBbb25lb2ZGaWVsZF06IHtcbiAgICAgIGJhc2VFdmVudDoge1xuICAgICAgICB0eXBlOiBFdmVudFR5cGVbZXZlbnQudHlwZV0sXG4gICAgICAgIHRpbWVzdGFtcCxcbiAgICAgICAgcmF3RXZlbnRcbiAgICAgIH0sXG4gICAgICAuLi5yZXN0XG4gICAgfVxuICB9O1xuICByZXR1cm4gRXZlbnQuZW5jb2RlKGV2ZW50TWVzc2FnZSkuZmluaXNoKCk7XG59XG5mdW5jdGlvbiBkZWNvZGUoZGF0YSkge1xuICB2YXIgX2E7XG4gIGNvbnN0IGV2ZW50ID0gRXZlbnQuZGVjb2RlKGRhdGEpO1xuICBjb25zdCBkZWNvZGVkID0gT2JqZWN0LnZhbHVlcyhldmVudCkuZmluZCgodmFsdWUpID0+IHZhbHVlICE9PSB2b2lkIDApO1xuICBpZiAoIWRlY29kZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGV2ZW50XCIpO1xuICB9XG4gIGRlY29kZWQudHlwZSA9IEV2ZW50VHlwZVtkZWNvZGVkLmJhc2VFdmVudC50eXBlXTtcbiAgZGVjb2RlZC50aW1lc3RhbXAgPSBkZWNvZGVkLmJhc2VFdmVudC50aW1lc3RhbXA7XG4gIGRlY29kZWQucmF3RXZlbnQgPSBkZWNvZGVkLmJhc2VFdmVudC5yYXdFdmVudDtcbiAgaWYgKGRlY29kZWQudHlwZSA9PT0gRXZlbnRUeXBlMi5NRVNTQUdFU19TTkFQU0hPVCkge1xuICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBkZWNvZGVkLm1lc3NhZ2VzKSB7XG4gICAgICBjb25zdCB1bnR5cGVkTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICBpZiAoKChfYSA9IHVudHlwZWRNZXNzYWdlLnRvb2xDYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgdW50eXBlZE1lc3NhZ2UudG9vbENhbGxzID0gdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoZGVjb2RlZC50eXBlID09PSBFdmVudFR5cGUyLlNUQVRFX0RFTFRBKSB7XG4gICAgZm9yIChjb25zdCBvcGVyYXRpb24gb2YgZGVjb2RlZC5kZWx0YSkge1xuICAgICAgb3BlcmF0aW9uLm9wID0gSnNvblBhdGNoT3BlcmF0aW9uVHlwZVtvcGVyYXRpb24ub3BdLnRvTG93ZXJDYXNlKCk7XG4gICAgICBPYmplY3Qua2V5cyhvcGVyYXRpb24pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAob3BlcmF0aW9uW2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgIGRlbGV0ZSBvcGVyYXRpb25ba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIE9iamVjdC5rZXlzKGRlY29kZWQpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChkZWNvZGVkW2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlIGRlY29kZWRba2V5XTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gRXZlbnRTY2hlbWFzLnBhcnNlKGRlY29kZWQpO1xufVxuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBBR1VJX01FRElBX1RZUEUgPSBcImFwcGxpY2F0aW9uL3ZuZC5hZy11aS5ldmVudCtwcm90b1wiO1xuZXhwb3J0IHtcbiAgQUdVSV9NRURJQV9UWVBFLFxuICBkZWNvZGUsXG4gIGVuY29kZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/runtime/node_modules/@ag-ui/proto/dist/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/dist/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/index.js ***!
  \*******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/index.ts\nvar src_exports = {};\n__export(src_exports, {\n  BANNER_ERROR_NAMES: () => BANNER_ERROR_NAMES,\n  COPILOTKIT_VERSION: () => COPILOTKIT_VERSION,\n  COPILOT_CLOUD_API_URL: () => COPILOT_CLOUD_API_URL,\n  COPILOT_CLOUD_CHAT_URL: () => COPILOT_CLOUD_CHAT_URL,\n  COPILOT_CLOUD_ERROR_NAMES: () => COPILOT_CLOUD_ERROR_NAMES,\n  COPILOT_CLOUD_PUBLIC_API_KEY_HEADER: () => COPILOT_CLOUD_PUBLIC_API_KEY_HEADER,\n  COPILOT_CLOUD_VERSION: () => COPILOT_CLOUD_VERSION,\n  ConfigurationError: () => ConfigurationError,\n  ConsoleColors: () => ConsoleColors,\n  ConsoleStyles: () => ConsoleStyles,\n  CopilotKitAgentDiscoveryError: () => CopilotKitAgentDiscoveryError,\n  CopilotKitApiDiscoveryError: () => CopilotKitApiDiscoveryError,\n  CopilotKitError: () => CopilotKitError,\n  CopilotKitErrorCode: () => CopilotKitErrorCode,\n  CopilotKitLowLevelError: () => CopilotKitLowLevelError,\n  CopilotKitMisuseError: () => CopilotKitMisuseError,\n  CopilotKitRemoteEndpointDiscoveryError: () => CopilotKitRemoteEndpointDiscoveryError,\n  CopilotKitVersionMismatchError: () => CopilotKitVersionMismatchError,\n  ERROR_CONFIG: () => ERROR_CONFIG,\n  ERROR_NAMES: () => ERROR_NAMES,\n  ErrorVisibility: () => ErrorVisibility,\n  MissingPublicApiKeyError: () => MissingPublicApiKeyError,\n  ResolvedCopilotKitError: () => ResolvedCopilotKitError,\n  Severity: () => Severity,\n  TelemetryClient: () => TelemetryClient,\n  UpgradeRequiredError: () => UpgradeRequiredError,\n  actionParametersToJsonSchema: () => actionParametersToJsonSchema,\n  convertJsonSchemaToZodSchema: () => convertJsonSchemaToZodSchema,\n  dataToUUID: () => dataToUUID,\n  ensureStructuredError: () => ensureStructuredError,\n  executeConditions: () => executeConditions,\n  getPossibleVersionMismatch: () => getPossibleVersionMismatch,\n  isMacOS: () => isMacOS,\n  isStructuredCopilotKitError: () => isStructuredCopilotKitError,\n  isValidUUID: () => isValidUUID,\n  jsonSchemaToActionParameters: () => jsonSchemaToActionParameters,\n  logCopilotKitPlatformMessage: () => logCopilotKitPlatformMessage,\n  logStyled: () => logStyled,\n  parseJson: () => parseJson,\n  publicApiKeyRequired: () => publicApiKeyRequired,\n  randomId: () => randomId,\n  randomUUID: () => randomUUID,\n  styledConsole: () => styledConsole,\n  tryMap: () => tryMap\n});\nmodule.exports = __toCommonJS(src_exports);\n\n// src/utils/conditions.ts\nfunction executeConditions({\n  conditions,\n  value\n}) {\n  if (!(conditions == null ? void 0 : conditions.length))\n    return true;\n  return conditions.every((condition) => executeCondition(condition, value));\n}\nfunction executeCondition(condition, value) {\n  const targetValue = condition.path ? getValueFromPath(value, condition.path) : value;\n  switch (condition.rule) {\n    case \"AND\":\n      return condition.conditions.every((c) => executeCondition(c, value));\n    case \"OR\":\n      return condition.conditions.some((c) => executeCondition(c, value));\n    case \"NOT\":\n      return !condition.conditions.every((c) => executeCondition(c, value));\n    case \"EQUALS\":\n      return targetValue === condition.value;\n    case \"NOT_EQUALS\":\n      return targetValue !== condition.value;\n    case \"GREATER_THAN\":\n      return targetValue > condition.value;\n    case \"LESS_THAN\":\n      return targetValue < condition.value;\n    case \"CONTAINS\":\n      return Array.isArray(targetValue) && targetValue.includes(condition.value);\n    case \"NOT_CONTAINS\":\n      return Array.isArray(targetValue) && !targetValue.includes(condition.value);\n    case \"MATCHES\":\n      return new RegExp(condition.value).test(String(targetValue));\n    case \"STARTS_WITH\":\n      return String(targetValue).startsWith(condition.value);\n    case \"ENDS_WITH\":\n      return String(targetValue).endsWith(condition.value);\n    case \"EXISTS\":\n      return targetValue !== void 0 && targetValue !== null;\n    case \"NOT_EXISTS\":\n      return targetValue === void 0 || targetValue === null;\n  }\n}\nfunction getValueFromPath(obj, path) {\n  return path.split(\".\").reduce((acc, part) => acc == null ? void 0 : acc[part], obj);\n}\n\n// src/utils/console-styling.ts\nvar ConsoleColors = {\n  /** Primary brand blue - for titles and links */\n  primary: \"#007acc\",\n  /** Success green - for positive messaging */\n  success: \"#22c55e\",\n  /** Purple - for feature highlights */\n  feature: \"#a855f7\",\n  /** Red - for calls-to-action */\n  cta: \"#ef4444\",\n  /** Cyan - for closing statements */\n  info: \"#06b6d4\",\n  /** Inherit console default - for body text */\n  inherit: \"inherit\",\n  /** Warning style */\n  warning: \"#f59e0b\"\n};\nvar ConsoleStyles = {\n  /** Large header style */\n  header: `color: ${ConsoleColors.warning}; font-weight: bold; font-size: 16px;`,\n  /** Section header style */\n  section: `color: ${ConsoleColors.success}; font-weight: bold;`,\n  /** Feature highlight style */\n  highlight: `color: ${ConsoleColors.feature}; font-weight: bold;`,\n  /** Call-to-action style */\n  cta: `color: ${ConsoleColors.success}; font-weight: bold;`,\n  /** Info style */\n  info: `color: ${ConsoleColors.info}; font-weight: bold;`,\n  /** Link style */\n  link: `color: ${ConsoleColors.primary}; text-decoration: underline;`,\n  /** Body text - inherits console theme */\n  body: `color: ${ConsoleColors.inherit};`,\n  /** Warning style */\n  warning: `color: ${ConsoleColors.cta}; font-weight: bold;`\n};\nfunction logCopilotKitPlatformMessage() {\n  console.log(\n    `%cCopilotKit Warning%c\n\nuseCopilotChatHeadless_c provides full compatibility with CopilotKit's newly released Headless UI feature set. To enable this premium feature, add your public license key, available for free at:\n\n%chttps://cloud.copilotkit.ai%c\n\nAlternatively, useCopilotChat is available for basic programmatic control, and does not require an API key.\n\nTo learn more about premium features, read the documentation here:\n\n%chttps://docs.copilotkit.ai/premium%c`,\n    ConsoleStyles.header,\n    ConsoleStyles.body,\n    ConsoleStyles.cta,\n    ConsoleStyles.body,\n    ConsoleStyles.link,\n    ConsoleStyles.body\n  );\n}\nfunction publicApiKeyRequired(feature) {\n  console.log(\n    `\n%cCopilotKit Warning%c \n\nIn order to use ${feature}, you need to add your CopilotKit API key, available for free at https://cloud.copilotkit.ai.\n    `.trim(),\n    ConsoleStyles.header,\n    ConsoleStyles.body\n  );\n}\nfunction logStyled(template, styles) {\n  console.log(template, ...styles);\n}\nvar styledConsole = {\n  /** Log a success message */\n  success: (message) => logStyled(`%c\\u2705 ${message}`, [ConsoleStyles.section]),\n  /** Log an info message */\n  info: (message) => logStyled(`%c\\u2139\\uFE0F ${message}`, [ConsoleStyles.info]),\n  /** Log a feature highlight */\n  feature: (message) => logStyled(`%c\\u2728 ${message}`, [ConsoleStyles.highlight]),\n  /** Log a call-to-action */\n  cta: (message) => logStyled(`%c\\u{1F680} ${message}`, [ConsoleStyles.cta]),\n  /** Log the CopilotKit platform promotion */\n  logCopilotKitPlatformMessage,\n  /** Log a `publicApiKeyRequired` warning */\n  publicApiKeyRequired\n};\n\n// src/utils/errors.ts\nvar import_graphql = __webpack_require__(/*! graphql */ \"(rsc)/./node_modules/graphql/index.mjs\");\nvar Severity = /* @__PURE__ */ ((Severity2) => {\n  Severity2[\"CRITICAL\"] = \"critical\";\n  Severity2[\"WARNING\"] = \"warning\";\n  Severity2[\"INFO\"] = \"info\";\n  return Severity2;\n})(Severity || {});\nvar ErrorVisibility = /* @__PURE__ */ ((ErrorVisibility2) => {\n  ErrorVisibility2[\"BANNER\"] = \"banner\";\n  ErrorVisibility2[\"TOAST\"] = \"toast\";\n  ErrorVisibility2[\"SILENT\"] = \"silent\";\n  ErrorVisibility2[\"DEV_ONLY\"] = \"dev_only\";\n  return ErrorVisibility2;\n})(ErrorVisibility || {});\nvar ERROR_NAMES = {\n  COPILOT_ERROR: \"CopilotError\",\n  COPILOT_API_DISCOVERY_ERROR: \"CopilotApiDiscoveryError\",\n  COPILOT_REMOTE_ENDPOINT_DISCOVERY_ERROR: \"CopilotKitRemoteEndpointDiscoveryError\",\n  COPILOT_KIT_AGENT_DISCOVERY_ERROR: \"CopilotKitAgentDiscoveryError\",\n  COPILOT_KIT_LOW_LEVEL_ERROR: \"CopilotKitLowLevelError\",\n  COPILOT_KIT_VERSION_MISMATCH_ERROR: \"CopilotKitVersionMismatchError\",\n  RESOLVED_COPILOT_KIT_ERROR: \"ResolvedCopilotKitError\",\n  CONFIGURATION_ERROR: \"ConfigurationError\",\n  MISSING_PUBLIC_API_KEY_ERROR: \"MissingPublicApiKeyError\",\n  UPGRADE_REQUIRED_ERROR: \"UpgradeRequiredError\"\n};\nvar BANNER_ERROR_NAMES = [\n  ERROR_NAMES.CONFIGURATION_ERROR,\n  ERROR_NAMES.MISSING_PUBLIC_API_KEY_ERROR,\n  ERROR_NAMES.UPGRADE_REQUIRED_ERROR,\n  ERROR_NAMES.COPILOT_API_DISCOVERY_ERROR,\n  ERROR_NAMES.COPILOT_REMOTE_ENDPOINT_DISCOVERY_ERROR,\n  ERROR_NAMES.COPILOT_KIT_AGENT_DISCOVERY_ERROR\n];\nvar COPILOT_CLOUD_ERROR_NAMES = BANNER_ERROR_NAMES;\nvar CopilotKitErrorCode = /* @__PURE__ */ ((CopilotKitErrorCode2) => {\n  CopilotKitErrorCode2[\"NETWORK_ERROR\"] = \"NETWORK_ERROR\";\n  CopilotKitErrorCode2[\"NOT_FOUND\"] = \"NOT_FOUND\";\n  CopilotKitErrorCode2[\"AGENT_NOT_FOUND\"] = \"AGENT_NOT_FOUND\";\n  CopilotKitErrorCode2[\"API_NOT_FOUND\"] = \"API_NOT_FOUND\";\n  CopilotKitErrorCode2[\"REMOTE_ENDPOINT_NOT_FOUND\"] = \"REMOTE_ENDPOINT_NOT_FOUND\";\n  CopilotKitErrorCode2[\"AUTHENTICATION_ERROR\"] = \"AUTHENTICATION_ERROR\";\n  CopilotKitErrorCode2[\"MISUSE\"] = \"MISUSE\";\n  CopilotKitErrorCode2[\"UNKNOWN\"] = \"UNKNOWN\";\n  CopilotKitErrorCode2[\"VERSION_MISMATCH\"] = \"VERSION_MISMATCH\";\n  CopilotKitErrorCode2[\"CONFIGURATION_ERROR\"] = \"CONFIGURATION_ERROR\";\n  CopilotKitErrorCode2[\"MISSING_PUBLIC_API_KEY_ERROR\"] = \"MISSING_PUBLIC_API_KEY_ERROR\";\n  CopilotKitErrorCode2[\"UPGRADE_REQUIRED_ERROR\"] = \"UPGRADE_REQUIRED_ERROR\";\n  return CopilotKitErrorCode2;\n})(CopilotKitErrorCode || {});\nvar BASE_URL = \"https://docs.copilotkit.ai\";\nvar getSeeMoreMarkdown = (link) => `See more: [${link}](${link})`;\nvar ERROR_CONFIG = {\n  [\"NETWORK_ERROR\" /* NETWORK_ERROR */]: {\n    statusCode: 503,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-a-network-errors--api-not-found`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"NOT_FOUND\" /* NOT_FOUND */]: {\n    statusCode: 404,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-a-network-errors--api-not-found`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"AGENT_NOT_FOUND\" /* AGENT_NOT_FOUND */]: {\n    statusCode: 500,\n    troubleshootingUrl: `${BASE_URL}/coagents/troubleshooting/common-issues#i-am-getting-agent-not-found-error`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"API_NOT_FOUND\" /* API_NOT_FOUND */]: {\n    statusCode: 404,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-a-network-errors--api-not-found`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"REMOTE_ENDPOINT_NOT_FOUND\" /* REMOTE_ENDPOINT_NOT_FOUND */]: {\n    statusCode: 404,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-copilotkits-remote-endpoint-not-found-error`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"AUTHENTICATION_ERROR\" /* AUTHENTICATION_ERROR */]: {\n    statusCode: 401,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#authentication-errors`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"MISUSE\" /* MISUSE */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    visibility: \"dev_only\" /* DEV_ONLY */,\n    severity: \"warning\" /* WARNING */\n  },\n  [\"UNKNOWN\" /* UNKNOWN */]: {\n    statusCode: 500,\n    visibility: \"toast\" /* TOAST */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"CONFIGURATION_ERROR\" /* CONFIGURATION_ERROR */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    severity: \"warning\" /* WARNING */,\n    visibility: \"banner\" /* BANNER */\n  },\n  [\"MISSING_PUBLIC_API_KEY_ERROR\" /* MISSING_PUBLIC_API_KEY_ERROR */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    severity: \"critical\" /* CRITICAL */,\n    visibility: \"banner\" /* BANNER */\n  },\n  [\"UPGRADE_REQUIRED_ERROR\" /* UPGRADE_REQUIRED_ERROR */]: {\n    statusCode: 402,\n    troubleshootingUrl: null,\n    severity: \"warning\" /* WARNING */,\n    visibility: \"banner\" /* BANNER */\n  },\n  [\"VERSION_MISMATCH\" /* VERSION_MISMATCH */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    visibility: \"dev_only\" /* DEV_ONLY */,\n    severity: \"info\" /* INFO */\n  }\n};\nvar CopilotKitError = class extends import_graphql.GraphQLError {\n  constructor({\n    message = \"Unknown error occurred\",\n    code,\n    severity,\n    visibility\n  }) {\n    const name = ERROR_NAMES.COPILOT_ERROR;\n    const config = ERROR_CONFIG[code];\n    const { statusCode } = config;\n    const resolvedVisibility = visibility ?? config.visibility ?? \"toast\" /* TOAST */;\n    const resolvedSeverity = severity ?? (\"severity\" in config ? config.severity : void 0);\n    super(message, {\n      extensions: {\n        name,\n        statusCode,\n        code,\n        visibility: resolvedVisibility,\n        severity: resolvedSeverity,\n        troubleshootingUrl: \"troubleshootingUrl\" in config ? config.troubleshootingUrl : null,\n        originalError: {\n          message,\n          stack: new Error().stack\n        }\n      }\n    });\n    this.code = code;\n    this.name = name;\n    this.statusCode = statusCode;\n    this.severity = resolvedSeverity;\n    this.visibility = resolvedVisibility;\n  }\n};\nvar CopilotKitMisuseError = class extends CopilotKitError {\n  constructor({\n    message,\n    code = \"MISUSE\" /* MISUSE */\n  }) {\n    const docsLink = \"troubleshootingUrl\" in ERROR_CONFIG[code] && ERROR_CONFIG[code].troubleshootingUrl ? getSeeMoreMarkdown(ERROR_CONFIG[code].troubleshootingUrl) : null;\n    const finalMessage = docsLink ? `${message}.\n\n${docsLink}` : message;\n    super({ message: finalMessage, code });\n    this.name = ERROR_NAMES.COPILOT_API_DISCOVERY_ERROR;\n  }\n};\nvar getVersionMismatchErrorMessage = ({\n  reactCoreVersion,\n  runtimeVersion,\n  runtimeClientGqlVersion\n}) => `Version mismatch detected: @copilotkit/runtime@${runtimeVersion ?? \"\"} is not compatible with @copilotkit/react-core@${reactCoreVersion} and @copilotkit/runtime-client-gql@${runtimeClientGqlVersion}. Please ensure all installed copilotkit packages are on the same version.`;\nvar CopilotKitVersionMismatchError = class extends CopilotKitError {\n  constructor({\n    reactCoreVersion,\n    runtimeVersion,\n    runtimeClientGqlVersion\n  }) {\n    const code = \"VERSION_MISMATCH\" /* VERSION_MISMATCH */;\n    super({\n      message: getVersionMismatchErrorMessage({\n        reactCoreVersion,\n        runtimeVersion,\n        runtimeClientGqlVersion\n      }),\n      code\n    });\n    this.name = ERROR_NAMES.COPILOT_KIT_VERSION_MISMATCH_ERROR;\n  }\n};\nvar CopilotKitApiDiscoveryError = class extends CopilotKitError {\n  constructor(params = {}) {\n    const url = params.url ?? \"\";\n    let operationSuffix = \"\";\n    if (url == null ? void 0 : url.includes(\"/info\"))\n      operationSuffix = `when fetching CopilotKit info`;\n    else if (url.includes(\"/actions/execute\"))\n      operationSuffix = `when attempting to execute actions.`;\n    else if (url.includes(\"/agents/state\"))\n      operationSuffix = `when attempting to get agent state.`;\n    else if (url.includes(\"/agents/execute\"))\n      operationSuffix = `when attempting to execute agent(s).`;\n    const message = params.message ?? (params.url ? `Failed to find CopilotKit API endpoint at url ${params.url} ${operationSuffix}` : `Failed to find CopilotKit API endpoint.`);\n    const code = params.code ?? \"API_NOT_FOUND\" /* API_NOT_FOUND */;\n    const errorMessage = `${message}.\n\n${getSeeMoreMarkdown(ERROR_CONFIG[code].troubleshootingUrl)}`;\n    super({ message: errorMessage, code });\n    this.name = ERROR_NAMES.COPILOT_API_DISCOVERY_ERROR;\n  }\n};\nvar CopilotKitRemoteEndpointDiscoveryError = class extends CopilotKitApiDiscoveryError {\n  constructor(params) {\n    const message = (params == null ? void 0 : params.message) ?? ((params == null ? void 0 : params.url) ? `Failed to find or contact remote endpoint at url ${params.url}` : \"Failed to find or contact remote endpoint\");\n    const code = \"REMOTE_ENDPOINT_NOT_FOUND\" /* REMOTE_ENDPOINT_NOT_FOUND */;\n    super({ message, code });\n    this.name = ERROR_NAMES.COPILOT_REMOTE_ENDPOINT_DISCOVERY_ERROR;\n  }\n};\nvar CopilotKitAgentDiscoveryError = class extends CopilotKitError {\n  constructor(params) {\n    const { agentName, availableAgents } = params;\n    const code = \"AGENT_NOT_FOUND\" /* AGENT_NOT_FOUND */;\n    const seeMore = getSeeMoreMarkdown(ERROR_CONFIG[code].troubleshootingUrl);\n    let message;\n    if (availableAgents.length) {\n      const agentList = availableAgents.map((agent) => agent.name).join(\", \");\n      if (agentName) {\n        message = `Agent '${agentName}' was not found. Available agents are: ${agentList}. Please verify the agent name in your configuration and ensure it matches one of the available agents.\n\n${seeMore}`;\n      } else {\n        message = `The requested agent was not found. Available agents are: ${agentList}. Please verify the agent name in your configuration and ensure it matches one of the available agents.\n\n${seeMore}`;\n      }\n    } else {\n      message = `${agentName ? `Agent '${agentName}'` : \"The requested agent\"} was not found. Please set up at least one agent before proceeding. ${seeMore}`;\n    }\n    super({ message, code });\n    this.name = ERROR_NAMES.COPILOT_KIT_AGENT_DISCOVERY_ERROR;\n  }\n};\nvar CopilotKitLowLevelError = class extends CopilotKitError {\n  constructor({ error, url, message }) {\n    let code = \"NETWORK_ERROR\" /* NETWORK_ERROR */;\n    const errorCode = error.code;\n    const errorMessage = message ?? resolveLowLevelErrorMessage({ errorCode, url });\n    super({ message: errorMessage, code });\n    this.name = ERROR_NAMES.COPILOT_KIT_LOW_LEVEL_ERROR;\n  }\n};\nvar ResolvedCopilotKitError = class extends CopilotKitError {\n  constructor({\n    status,\n    message,\n    code,\n    isRemoteEndpoint,\n    url\n  }) {\n    let resolvedCode = code;\n    if (!resolvedCode) {\n      switch (status) {\n        case 400:\n          throw new CopilotKitApiDiscoveryError({ message, url });\n        case 404:\n          throw isRemoteEndpoint ? new CopilotKitRemoteEndpointDiscoveryError({ message, url }) : new CopilotKitApiDiscoveryError({ message, url });\n        default:\n          resolvedCode = \"UNKNOWN\" /* UNKNOWN */;\n          break;\n      }\n    }\n    super({ message, code: resolvedCode });\n    this.name = ERROR_NAMES.RESOLVED_COPILOT_KIT_ERROR;\n  }\n};\nvar ConfigurationError = class extends CopilotKitError {\n  constructor(message) {\n    super({ message, code: \"CONFIGURATION_ERROR\" /* CONFIGURATION_ERROR */ });\n    this.name = ERROR_NAMES.CONFIGURATION_ERROR;\n    this.severity = \"warning\" /* WARNING */;\n  }\n};\nvar MissingPublicApiKeyError = class extends ConfigurationError {\n  constructor(message) {\n    super(message);\n    this.name = ERROR_NAMES.MISSING_PUBLIC_API_KEY_ERROR;\n    this.severity = \"critical\" /* CRITICAL */;\n  }\n};\nvar UpgradeRequiredError = class extends ConfigurationError {\n  constructor(message) {\n    super(message);\n    this.name = ERROR_NAMES.UPGRADE_REQUIRED_ERROR;\n    this.severity = \"warning\" /* WARNING */;\n  }\n};\nfunction isStructuredCopilotKitError(error) {\n  var _a;\n  return error instanceof CopilotKitError || error instanceof CopilotKitLowLevelError || (error == null ? void 0 : error.name) && error.name.includes(\"CopilotKit\") || ((_a = error == null ? void 0 : error.extensions) == null ? void 0 : _a.code) !== void 0;\n}\nfunction ensureStructuredError(error, converter) {\n  return isStructuredCopilotKitError(error) ? error : converter(error);\n}\nasync function getPossibleVersionMismatch({\n  runtimeVersion,\n  runtimeClientGqlVersion\n}) {\n  if (!runtimeVersion || runtimeVersion === \"\" || !runtimeClientGqlVersion)\n    return;\n  if (COPILOTKIT_VERSION !== runtimeVersion || COPILOTKIT_VERSION !== runtimeClientGqlVersion || runtimeVersion !== runtimeClientGqlVersion) {\n    return {\n      runtimeVersion,\n      runtimeClientGqlVersion,\n      reactCoreVersion: COPILOTKIT_VERSION,\n      message: getVersionMismatchErrorMessage({\n        runtimeVersion,\n        runtimeClientGqlVersion,\n        reactCoreVersion: COPILOTKIT_VERSION\n      })\n    };\n  }\n  return;\n}\nvar resolveLowLevelErrorMessage = ({ errorCode, url }) => {\n  const troubleshootingLink = ERROR_CONFIG[\"NETWORK_ERROR\" /* NETWORK_ERROR */].troubleshootingUrl;\n  const genericMessage = (description = `Failed to fetch from url ${url}.`) => `${description}.\n\nPossible reasons:\n- -The server may have an error preventing it from returning a response (Check the server logs for more info).\n- -The server might be down or unreachable\n- -There might be a network issue (e.g., DNS failure, connection timeout) \n- -The URL might be incorrect\n- -The server is not running on the specified port\n\n${getSeeMoreMarkdown(troubleshootingLink)}`;\n  if (url.includes(\"/info\"))\n    return genericMessage(`Failed to fetch CopilotKit agents/action information from url ${url}.`);\n  if (url.includes(\"/actions/execute\"))\n    return genericMessage(`Fetch call to ${url} to execute actions failed.`);\n  if (url.includes(\"/agents/state\"))\n    return genericMessage(`Fetch call to ${url} to get agent state failed.`);\n  if (url.includes(\"/agents/execute\"))\n    return genericMessage(`Fetch call to ${url} to execute agent(s) failed.`);\n  switch (errorCode) {\n    case \"ECONNREFUSED\":\n      return `Connection to ${url} was refused. Ensure the server is running and accessible.\n\n${getSeeMoreMarkdown(troubleshootingLink)}`;\n    case \"ENOTFOUND\":\n      return `The server on ${url} could not be found. Check the URL or your network configuration.\n\n${getSeeMoreMarkdown(ERROR_CONFIG[\"NOT_FOUND\" /* NOT_FOUND */].troubleshootingUrl)}`;\n    case \"ETIMEDOUT\":\n      return `The connection to ${url} timed out. The server might be overloaded or taking too long to respond.\n\n${getSeeMoreMarkdown(troubleshootingLink)}`;\n    default:\n      return;\n  }\n};\n\n// src/utils/json-schema.ts\nvar import_zod = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/index.cjs\");\nfunction actionParametersToJsonSchema(actionParameters) {\n  let parameters = {};\n  for (let parameter of actionParameters || []) {\n    parameters[parameter.name] = convertAttribute(parameter);\n  }\n  let requiredParameterNames = [];\n  for (let arg of actionParameters || []) {\n    if (arg.required !== false) {\n      requiredParameterNames.push(arg.name);\n    }\n  }\n  return {\n    type: \"object\",\n    properties: parameters,\n    required: requiredParameterNames\n  };\n}\nfunction jsonSchemaToActionParameters(jsonSchema) {\n  if (jsonSchema.type !== \"object\" || !jsonSchema.properties) {\n    return [];\n  }\n  const parameters = [];\n  const requiredFields = jsonSchema.required || [];\n  for (const [name, schema] of Object.entries(jsonSchema.properties)) {\n    const parameter = convertJsonSchemaToParameter(name, schema, requiredFields.includes(name));\n    parameters.push(parameter);\n  }\n  return parameters;\n}\nfunction convertJsonSchemaToParameter(name, schema, isRequired) {\n  const baseParameter = {\n    name,\n    description: schema.description\n  };\n  if (!isRequired) {\n    baseParameter.required = false;\n  }\n  switch (schema.type) {\n    case \"string\":\n      return {\n        ...baseParameter,\n        type: \"string\",\n        ...schema.enum && { enum: schema.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        ...baseParameter,\n        type: schema.type\n      };\n    case \"object\":\n      if (schema.properties) {\n        const attributes = [];\n        const requiredFields = schema.required || [];\n        for (const [propName, propSchema] of Object.entries(schema.properties)) {\n          attributes.push(\n            convertJsonSchemaToParameter(propName, propSchema, requiredFields.includes(propName))\n          );\n        }\n        return {\n          ...baseParameter,\n          type: \"object\",\n          attributes\n        };\n      }\n      return {\n        ...baseParameter,\n        type: \"object\"\n      };\n    case \"array\":\n      if (schema.items.type === \"object\" && \"properties\" in schema.items) {\n        const attributes = [];\n        const requiredFields = schema.items.required || [];\n        for (const [propName, propSchema] of Object.entries(schema.items.properties || {})) {\n          attributes.push(\n            convertJsonSchemaToParameter(propName, propSchema, requiredFields.includes(propName))\n          );\n        }\n        return {\n          ...baseParameter,\n          type: \"object[]\",\n          attributes\n        };\n      } else if (schema.items.type === \"array\") {\n        throw new Error(\"Nested arrays are not supported\");\n      } else {\n        return {\n          ...baseParameter,\n          type: `${schema.items.type}[]`\n        };\n      }\n    default:\n      return {\n        ...baseParameter,\n        type: \"string\"\n      };\n  }\n}\nfunction convertAttribute(attribute) {\n  var _a, _b, _c;\n  switch (attribute.type) {\n    case \"string\":\n      return {\n        type: \"string\",\n        description: attribute.description,\n        ...attribute.enum && { enum: attribute.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        type: attribute.type,\n        description: attribute.description\n      };\n    case \"object\":\n    case \"object[]\":\n      const properties = (_a = attribute.attributes) == null ? void 0 : _a.reduce(\n        (acc, attr) => {\n          acc[attr.name] = convertAttribute(attr);\n          return acc;\n        },\n        {}\n      );\n      const required = (_b = attribute.attributes) == null ? void 0 : _b.filter((attr) => attr.required !== false).map((attr) => attr.name);\n      if (attribute.type === \"object[]\") {\n        return {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            ...properties && { properties },\n            ...required && required.length > 0 && { required }\n          },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"object\",\n        description: attribute.description,\n        ...properties && { properties },\n        ...required && required.length > 0 && { required }\n      };\n    default:\n      if ((_c = attribute.type) == null ? void 0 : _c.endsWith(\"[]\")) {\n        const itemType = attribute.type.slice(0, -2);\n        return {\n          type: \"array\",\n          items: { type: itemType },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"string\",\n        description: attribute.description\n      };\n  }\n}\nfunction convertJsonSchemaToZodSchema(jsonSchema, required) {\n  if (jsonSchema.type === \"object\") {\n    const spec = {};\n    if (!jsonSchema.properties || !Object.keys(jsonSchema.properties).length) {\n      return !required ? import_zod.z.object(spec).optional() : import_zod.z.object(spec);\n    }\n    for (const [key, value] of Object.entries(jsonSchema.properties)) {\n      spec[key] = convertJsonSchemaToZodSchema(\n        value,\n        jsonSchema.required ? jsonSchema.required.includes(key) : false\n      );\n    }\n    let schema = import_zod.z.object(spec).describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"string\") {\n    let schema = import_zod.z.string().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"number\") {\n    let schema = import_zod.z.number().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"boolean\") {\n    let schema = import_zod.z.boolean().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"array\") {\n    let itemSchema = convertJsonSchemaToZodSchema(jsonSchema.items, true);\n    let schema = import_zod.z.array(itemSchema).describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  }\n  throw new Error(\"Invalid JSON schema\");\n}\n\n// src/utils/random-id.ts\nvar import_uuid = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/index.js\");\nfunction randomId() {\n  return \"ck-\" + (0, import_uuid.v4)();\n}\nfunction randomUUID() {\n  return (0, import_uuid.v4)();\n}\nfunction dataToUUID(input, namespace) {\n  const BASE_NAMESPACE = \"e4b01160-ff74-4c6e-9b27-d53cd930fe8e\";\n  const boundNamespace = namespace ? (0, import_uuid.v5)(namespace, BASE_NAMESPACE) : BASE_NAMESPACE;\n  return (0, import_uuid.v5)(input, boundNamespace);\n}\nfunction isValidUUID(uuid) {\n  return (0, import_uuid.validate)(uuid);\n}\n\n// src/utils/index.ts\nfunction parseJson(json, fallback = \"unset\") {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return fallback === \"unset\" ? null : fallback;\n  }\n}\nfunction tryMap(items, callback) {\n  return items.reduce((acc, item, index, array) => {\n    try {\n      acc.push(callback(item, index, array));\n    } catch (error) {\n      console.error(error);\n    }\n    return acc;\n  }, []);\n}\nfunction isMacOS() {\n  return /Mac|iMac|Macintosh/i.test(navigator.userAgent);\n}\n\n// src/constants/index.ts\nvar COPILOT_CLOUD_API_URL = \"https://api.cloud.copilotkit.ai\";\nvar COPILOT_CLOUD_VERSION = \"v1\";\nvar COPILOT_CLOUD_CHAT_URL = `${COPILOT_CLOUD_API_URL}/copilotkit/${COPILOT_CLOUD_VERSION}`;\nvar COPILOT_CLOUD_PUBLIC_API_KEY_HEADER = \"X-CopilotCloud-Public-Api-Key\";\n\n// src/telemetry/telemetry-client.ts\nvar import_analytics_node = __webpack_require__(/*! @segment/analytics-node */ \"(rsc)/./node_modules/@segment/analytics-node/dist/esm/index.js\");\n\n// src/telemetry/utils.ts\nvar import_chalk = __toESM(__webpack_require__(/*! chalk */ \"(rsc)/./node_modules/chalk/source/index.js\"));\nfunction flattenObject(obj, parentKey = \"\", res = {}) {\n  for (let key in obj) {\n    const propName = parentKey ? `${parentKey}.${key}` : key;\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\n      flattenObject(obj[key], propName, res);\n    } else {\n      res[propName] = obj[key];\n    }\n  }\n  return res;\n}\n\n// src/telemetry/telemetry-client.ts\nvar import_uuid2 = __webpack_require__(/*! uuid */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/index.js\");\n\n// package.json\nvar version = \"1.10.4\";\n\n// src/telemetry/scarf-client.ts\nvar SCARF_BASE_URL = `https://copilotkit.gateway.scarf.sh/${version}`;\nvar ScarfClient = class {\n  constructor() {\n  }\n  async logEvent(properties) {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 3e3);\n      const queryParams = new URLSearchParams();\n      Object.entries(properties).forEach(([key, value]) => {\n        if (value !== null && value !== void 0) {\n          queryParams.append(key, String(value));\n        }\n      });\n      const url = `${SCARF_BASE_URL}?${queryParams.toString()}`;\n      const response = await fetch(url, {\n        method: \"GET\",\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n    } catch {\n    }\n  }\n};\nvar scarf_client_default = new ScarfClient();\n\n// src/telemetry/telemetry-client.ts\nvar TelemetryClient = class {\n  constructor({\n    packageName,\n    packageVersion,\n    telemetryDisabled,\n    telemetryBaseUrl,\n    sampleRate\n  }) {\n    this.globalProperties = {};\n    this.cloudConfiguration = null;\n    this.telemetryDisabled = false;\n    this.sampleRate = 0.05;\n    this.anonymousId = `anon_${(0, import_uuid2.v4)()}`;\n    this.packageName = packageName;\n    this.packageVersion = packageVersion;\n    this.telemetryDisabled = telemetryDisabled || process.env.COPILOTKIT_TELEMETRY_DISABLED === \"true\" || process.env.COPILOTKIT_TELEMETRY_DISABLED === \"1\" || process.env.DO_NOT_TRACK === \"true\" || process.env.DO_NOT_TRACK === \"1\";\n    if (this.telemetryDisabled) {\n      return;\n    }\n    this.setSampleRate(sampleRate);\n    const writeKey = process.env.COPILOTKIT_SEGMENT_WRITE_KEY || \"n7XAZtQCGS2v1vvBy3LgBCv2h3Y8whja\";\n    this.segment = new import_analytics_node.Analytics({\n      writeKey\n    });\n    this.setGlobalProperties({\n      \"copilotkit.package.name\": packageName,\n      \"copilotkit.package.version\": packageVersion\n    });\n  }\n  shouldSendEvent() {\n    const randomNumber = Math.random();\n    return randomNumber < this.sampleRate;\n  }\n  async capture(event, properties) {\n    if (!this.shouldSendEvent() || !this.segment) {\n      return;\n    }\n    const flattenedProperties = flattenObject(properties);\n    const propertiesWithGlobal = {\n      ...this.globalProperties,\n      ...flattenedProperties\n    };\n    const orderedPropertiesWithGlobal = Object.keys(propertiesWithGlobal).sort().reduce(\n      (obj, key) => {\n        obj[key] = propertiesWithGlobal[key];\n        return obj;\n      },\n      {}\n    );\n    this.segment.track({\n      anonymousId: this.anonymousId,\n      event,\n      properties: { ...orderedPropertiesWithGlobal }\n    });\n    await scarf_client_default.logEvent({\n      event\n    });\n  }\n  setGlobalProperties(properties) {\n    const flattenedProperties = flattenObject(properties);\n    this.globalProperties = { ...this.globalProperties, ...flattenedProperties };\n  }\n  setCloudConfiguration(properties) {\n    this.cloudConfiguration = properties;\n    this.setGlobalProperties({\n      cloud: {\n        publicApiKey: properties.publicApiKey,\n        baseUrl: properties.baseUrl\n      }\n    });\n  }\n  setSampleRate(sampleRate) {\n    let _sampleRate;\n    _sampleRate = sampleRate ?? 0.05;\n    if (process.env.COPILOTKIT_TELEMETRY_SAMPLE_RATE) {\n      _sampleRate = parseFloat(process.env.COPILOTKIT_TELEMETRY_SAMPLE_RATE);\n    }\n    if (_sampleRate < 0 || _sampleRate > 1) {\n      throw new Error(\"Sample rate must be between 0 and 1\");\n    }\n    this.sampleRate = _sampleRate;\n    this.setGlobalProperties({\n      sampleRate: this.sampleRate,\n      sampleRateAdjustmentFactor: 1 - this.sampleRate,\n      sampleWeight: 1 / this.sampleRate\n    });\n  }\n};\n\n// src/index.ts\nvar COPILOTKIT_VERSION = version;\n// Annotate the CommonJS export names for ESM import in node:\n0 && (0);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtDQUFrQztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRGQUE0RjtBQUN6SDtBQUNBO0FBQ0E7QUFDQSxtR0FBbUc7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsOEJBQThCO0FBQ3ZHO0FBQ0E7QUFDQSxvREFBb0Qsa0JBQWtCLGFBQWE7O0FBRW5GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0JBQXdCLG1C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QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTSxDQTZDTDtBQUNEIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvZGlzdC9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19leHBvcnQgPSAodGFyZ2V0LCBhbGwpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiBhbGwpXG4gICAgX19kZWZQcm9wKHRhcmdldCwgbmFtZSwgeyBnZXQ6IGFsbFtuYW1lXSwgZW51bWVyYWJsZTogdHJ1ZSB9KTtcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0VTTSA9IChtb2QsIGlzTm9kZU1vZGUsIHRhcmdldCkgPT4gKHRhcmdldCA9IG1vZCAhPSBudWxsID8gX19jcmVhdGUoX19nZXRQcm90b09mKG1vZCkpIDoge30sIF9fY29weVByb3BzKFxuICAvLyBJZiB0aGUgaW1wb3J0ZXIgaXMgaW4gbm9kZSBjb21wYXRpYmlsaXR5IG1vZGUgb3IgdGhpcyBpcyBub3QgYW4gRVNNXG4gIC8vIGZpbGUgdGhhdCBoYXMgYmVlbiBjb252ZXJ0ZWQgdG8gYSBDb21tb25KUyBmaWxlIHVzaW5nIGEgQmFiZWwtXG4gIC8vIGNvbXBhdGlibGUgdHJhbnNmb3JtIChpLmUuIFwiX19lc01vZHVsZVwiIGhhcyBub3QgYmVlbiBzZXQpLCB0aGVuIHNldFxuICAvLyBcImRlZmF1bHRcIiB0byB0aGUgQ29tbW9uSlMgXCJtb2R1bGUuZXhwb3J0c1wiIGZvciBub2RlIGNvbXBhdGliaWxpdHkuXG4gIGlzTm9kZU1vZGUgfHwgIW1vZCB8fCAhbW9kLl9fZXNNb2R1bGUgPyBfX2RlZlByb3AodGFyZ2V0LCBcImRlZmF1bHRcIiwgeyB2YWx1ZTogbW9kLCBlbnVtZXJhYmxlOiB0cnVlIH0pIDogdGFyZ2V0LFxuICBtb2RcbikpO1xudmFyIF9fdG9Db21tb25KUyA9IChtb2QpID0+IF9fY29weVByb3BzKF9fZGVmUHJvcCh7fSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSksIG1vZCk7XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIHNyY19leHBvcnRzID0ge307XG5fX2V4cG9ydChzcmNfZXhwb3J0cywge1xuICBCQU5ORVJfRVJST1JfTkFNRVM6ICgpID0+IEJBTk5FUl9FUlJPUl9OQU1FUyxcbiAgQ09QSUxPVEtJVF9WRVJTSU9OOiAoKSA9PiBDT1BJTE9US0lUX1ZFUlNJT04sXG4gIENPUElMT1RfQ0xPVURfQVBJX1VSTDogKCkgPT4gQ09QSUxPVF9DTE9VRF9BUElfVVJMLFxuICBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMOiAoKSA9PiBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMLFxuICBDT1BJTE9UX0NMT1VEX0VSUk9SX05BTUVTOiAoKSA9PiBDT1BJTE9UX0NMT1VEX0VSUk9SX05BTUVTLFxuICBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUjogKCkgPT4gQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVIsXG4gIENPUElMT1RfQ0xPVURfVkVSU0lPTjogKCkgPT4gQ09QSUxPVF9DTE9VRF9WRVJTSU9OLFxuICBDb25maWd1cmF0aW9uRXJyb3I6ICgpID0+IENvbmZpZ3VyYXRpb25FcnJvcixcbiAgQ29uc29sZUNvbG9yczogKCkgPT4gQ29uc29sZUNvbG9ycyxcbiAgQ29uc29sZVN0eWxlczogKCkgPT4gQ29uc29sZVN0eWxlcyxcbiAgQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3I6ICgpID0+IENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yLFxuICBDb3BpbG90S2l0QXBpRGlzY292ZXJ5RXJyb3I6ICgpID0+IENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdEVycm9yOiAoKSA9PiBDb3BpbG90S2l0RXJyb3IsXG4gIENvcGlsb3RLaXRFcnJvckNvZGU6ICgpID0+IENvcGlsb3RLaXRFcnJvckNvZGUsXG4gIENvcGlsb3RLaXRMb3dMZXZlbEVycm9yOiAoKSA9PiBDb3BpbG90S2l0TG93TGV2ZWxFcnJvcixcbiAgQ29waWxvdEtpdE1pc3VzZUVycm9yOiAoKSA9PiBDb3BpbG90S2l0TWlzdXNlRXJyb3IsXG4gIENvcGlsb3RLaXRSZW1vdGVFbmRwb2ludERpc2NvdmVyeUVycm9yOiAoKSA9PiBDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdFZlcnNpb25NaXNtYXRjaEVycm9yOiAoKSA9PiBDb3BpbG90S2l0VmVyc2lvbk1pc21hdGNoRXJyb3IsXG4gIEVSUk9SX0NPTkZJRzogKCkgPT4gRVJST1JfQ09ORklHLFxuICBFUlJPUl9OQU1FUzogKCkgPT4gRVJST1JfTkFNRVMsXG4gIEVycm9yVmlzaWJpbGl0eTogKCkgPT4gRXJyb3JWaXNpYmlsaXR5LFxuICBNaXNzaW5nUHVibGljQXBpS2V5RXJyb3I6ICgpID0+IE1pc3NpbmdQdWJsaWNBcGlLZXlFcnJvcixcbiAgUmVzb2x2ZWRDb3BpbG90S2l0RXJyb3I6ICgpID0+IFJlc29sdmVkQ29waWxvdEtpdEVycm9yLFxuICBTZXZlcml0eTogKCkgPT4gU2V2ZXJpdHksXG4gIFRlbGVtZXRyeUNsaWVudDogKCkgPT4gVGVsZW1ldHJ5Q2xpZW50LFxuICBVcGdyYWRlUmVxdWlyZWRFcnJvcjogKCkgPT4gVXBncmFkZVJlcXVpcmVkRXJyb3IsXG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWE6ICgpID0+IGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEsXG4gIGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWE6ICgpID0+IGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEsXG4gIGRhdGFUb1VVSUQ6ICgpID0+IGRhdGFUb1VVSUQsXG4gIGVuc3VyZVN0cnVjdHVyZWRFcnJvcjogKCkgPT4gZW5zdXJlU3RydWN0dXJlZEVycm9yLFxuICBleGVjdXRlQ29uZGl0aW9uczogKCkgPT4gZXhlY3V0ZUNvbmRpdGlvbnMsXG4gIGdldFBvc3NpYmxlVmVyc2lvbk1pc21hdGNoOiAoKSA9PiBnZXRQb3NzaWJsZVZlcnNpb25NaXNtYXRjaCxcbiAgaXNNYWNPUzogKCkgPT4gaXNNYWNPUyxcbiAgaXNTdHJ1Y3R1cmVkQ29waWxvdEtpdEVycm9yOiAoKSA9PiBpc1N0cnVjdHVyZWRDb3BpbG90S2l0RXJyb3IsXG4gIGlzVmFsaWRVVUlEOiAoKSA9PiBpc1ZhbGlkVVVJRCxcbiAganNvblNjaGVtYVRvQWN0aW9uUGFyYW1ldGVyczogKCkgPT4ganNvblNjaGVtYVRvQWN0aW9uUGFyYW1ldGVycyxcbiAgbG9nQ29waWxvdEtpdFBsYXRmb3JtTWVzc2FnZTogKCkgPT4gbG9nQ29waWxvdEtpdFBsYXRmb3JtTWVzc2FnZSxcbiAgbG9nU3R5bGVkOiAoKSA9PiBsb2dTdHlsZWQsXG4gIHBhcnNlSnNvbjogKCkgPT4gcGFyc2VKc29uLFxuICBwdWJsaWNBcGlLZXlSZXF1aXJlZDogKCkgPT4gcHVibGljQXBpS2V5UmVxdWlyZWQsXG4gIHJhbmRvbUlkOiAoKSA9PiByYW5kb21JZCxcbiAgcmFuZG9tVVVJRDogKCkgPT4gcmFuZG9tVVVJRCxcbiAgc3R5bGVkQ29uc29sZTogKCkgPT4gc3R5bGVkQ29uc29sZSxcbiAgdHJ5TWFwOiAoKSA9PiB0cnlNYXBcbn0pO1xubW9kdWxlLmV4cG9ydHMgPSBfX3RvQ29tbW9uSlMoc3JjX2V4cG9ydHMpO1xuXG4vLyBzcmMvdXRpbHMvY29uZGl0aW9ucy50c1xuZnVuY3Rpb24gZXhlY3V0ZUNvbmRpdGlvbnMoe1xuICBjb25kaXRpb25zLFxuICB2YWx1ZVxufSkge1xuICBpZiAoIShjb25kaXRpb25zID09IG51bGwgPyB2b2lkIDAgOiBjb25kaXRpb25zLmxlbmd0aCkpXG4gICAgcmV0dXJuIHRydWU7XG4gIHJldHVybiBjb25kaXRpb25zLmV2ZXJ5KChjb25kaXRpb24pID0+IGV4ZWN1dGVDb25kaXRpb24oY29uZGl0aW9uLCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gZXhlY3V0ZUNvbmRpdGlvbihjb25kaXRpb24sIHZhbHVlKSB7XG4gIGNvbnN0IHRhcmdldFZhbHVlID0gY29uZGl0aW9uLnBhdGggPyBnZXRWYWx1ZUZyb21QYXRoKHZhbHVlLCBjb25kaXRpb24ucGF0aCkgOiB2YWx1ZTtcbiAgc3dpdGNoIChjb25kaXRpb24ucnVsZSkge1xuICAgIGNhc2UgXCJBTkRcIjpcbiAgICAgIHJldHVybiBjb25kaXRpb24uY29uZGl0aW9ucy5ldmVyeSgoYykgPT4gZXhlY3V0ZUNvbmRpdGlvbihjLCB2YWx1ZSkpO1xuICAgIGNhc2UgXCJPUlwiOlxuICAgICAgcmV0dXJuIGNvbmRpdGlvbi5jb25kaXRpb25zLnNvbWUoKGMpID0+IGV4ZWN1dGVDb25kaXRpb24oYywgdmFsdWUpKTtcbiAgICBjYXNlIFwiTk9UXCI6XG4gICAgICByZXR1cm4gIWNvbmRpdGlvbi5jb25kaXRpb25zLmV2ZXJ5KChjKSA9PiBleGVjdXRlQ29uZGl0aW9uKGMsIHZhbHVlKSk7XG4gICAgY2FzZSBcIkVRVUFMU1wiOlxuICAgICAgcmV0dXJuIHRhcmdldFZhbHVlID09PSBjb25kaXRpb24udmFsdWU7XG4gICAgY2FzZSBcIk5PVF9FUVVBTFNcIjpcbiAgICAgIHJldHVybiB0YXJnZXRWYWx1ZSAhPT0gY29uZGl0aW9uLnZhbHVlO1xuICAgIGNhc2UgXCJHUkVBVEVSX1RIQU5cIjpcbiAgICAgIHJldHVybiB0YXJnZXRWYWx1ZSA+IGNvbmRpdGlvbi52YWx1ZTtcbiAgICBjYXNlIFwiTEVTU19USEFOXCI6XG4gICAgICByZXR1cm4gdGFyZ2V0VmFsdWUgPCBjb25kaXRpb24udmFsdWU7XG4gICAgY2FzZSBcIkNPTlRBSU5TXCI6XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0YXJnZXRWYWx1ZSkgJiYgdGFyZ2V0VmFsdWUuaW5jbHVkZXMoY29uZGl0aW9uLnZhbHVlKTtcbiAgICBjYXNlIFwiTk9UX0NPTlRBSU5TXCI6XG4gICAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh0YXJnZXRWYWx1ZSkgJiYgIXRhcmdldFZhbHVlLmluY2x1ZGVzKGNvbmRpdGlvbi52YWx1ZSk7XG4gICAgY2FzZSBcIk1BVENIRVNcIjpcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKGNvbmRpdGlvbi52YWx1ZSkudGVzdChTdHJpbmcodGFyZ2V0VmFsdWUpKTtcbiAgICBjYXNlIFwiU1RBUlRTX1dJVEhcIjpcbiAgICAgIHJldHVybiBTdHJpbmcodGFyZ2V0VmFsdWUpLnN0YXJ0c1dpdGgoY29uZGl0aW9uLnZhbHVlKTtcbiAgICBjYXNlIFwiRU5EU19XSVRIXCI6XG4gICAgICByZXR1cm4gU3RyaW5nKHRhcmdldFZhbHVlKS5lbmRzV2l0aChjb25kaXRpb24udmFsdWUpO1xuICAgIGNhc2UgXCJFWElTVFNcIjpcbiAgICAgIHJldHVybiB0YXJnZXRWYWx1ZSAhPT0gdm9pZCAwICYmIHRhcmdldFZhbHVlICE9PSBudWxsO1xuICAgIGNhc2UgXCJOT1RfRVhJU1RTXCI6XG4gICAgICByZXR1cm4gdGFyZ2V0VmFsdWUgPT09IHZvaWQgMCB8fCB0YXJnZXRWYWx1ZSA9PT0gbnVsbDtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0VmFsdWVGcm9tUGF0aChvYmosIHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguc3BsaXQoXCIuXCIpLnJlZHVjZSgoYWNjLCBwYXJ0KSA9PiBhY2MgPT0gbnVsbCA/IHZvaWQgMCA6IGFjY1twYXJ0XSwgb2JqKTtcbn1cblxuLy8gc3JjL3V0aWxzL2NvbnNvbGUtc3R5bGluZy50c1xudmFyIENvbnNvbGVDb2xvcnMgPSB7XG4gIC8qKiBQcmltYXJ5IGJyYW5kIGJsdWUgLSBmb3IgdGl0bGVzIGFuZCBsaW5rcyAqL1xuICBwcmltYXJ5OiBcIiMwMDdhY2NcIixcbiAgLyoqIFN1Y2Nlc3MgZ3JlZW4gLSBmb3IgcG9zaXRpdmUgbWVzc2FnaW5nICovXG4gIHN1Y2Nlc3M6IFwiIzIyYzU1ZVwiLFxuICAvKiogUHVycGxlIC0gZm9yIGZlYXR1cmUgaGlnaGxpZ2h0cyAqL1xuICBmZWF0dXJlOiBcIiNhODU1ZjdcIixcbiAgLyoqIFJlZCAtIGZvciBjYWxscy10by1hY3Rpb24gKi9cbiAgY3RhOiBcIiNlZjQ0NDRcIixcbiAgLyoqIEN5YW4gLSBmb3IgY2xvc2luZyBzdGF0ZW1lbnRzICovXG4gIGluZm86IFwiIzA2YjZkNFwiLFxuICAvKiogSW5oZXJpdCBjb25zb2xlIGRlZmF1bHQgLSBmb3IgYm9keSB0ZXh0ICovXG4gIGluaGVyaXQ6IFwiaW5oZXJpdFwiLFxuICAvKiogV2FybmluZyBzdHlsZSAqL1xuICB3YXJuaW5nOiBcIiNmNTllMGJcIlxufTtcbnZhciBDb25zb2xlU3R5bGVzID0ge1xuICAvKiogTGFyZ2UgaGVhZGVyIHN0eWxlICovXG4gIGhlYWRlcjogYGNvbG9yOiAke0NvbnNvbGVDb2xvcnMud2FybmluZ307IGZvbnQtd2VpZ2h0OiBib2xkOyBmb250LXNpemU6IDE2cHg7YCxcbiAgLyoqIFNlY3Rpb24gaGVhZGVyIHN0eWxlICovXG4gIHNlY3Rpb246IGBjb2xvcjogJHtDb25zb2xlQ29sb3JzLnN1Y2Nlc3N9OyBmb250LXdlaWdodDogYm9sZDtgLFxuICAvKiogRmVhdHVyZSBoaWdobGlnaHQgc3R5bGUgKi9cbiAgaGlnaGxpZ2h0OiBgY29sb3I6ICR7Q29uc29sZUNvbG9ycy5mZWF0dXJlfTsgZm9udC13ZWlnaHQ6IGJvbGQ7YCxcbiAgLyoqIENhbGwtdG8tYWN0aW9uIHN0eWxlICovXG4gIGN0YTogYGNvbG9yOiAke0NvbnNvbGVDb2xvcnMuc3VjY2Vzc307IGZvbnQtd2VpZ2h0OiBib2xkO2AsXG4gIC8qKiBJbmZvIHN0eWxlICovXG4gIGluZm86IGBjb2xvcjogJHtDb25zb2xlQ29sb3JzLmluZm99OyBmb250LXdlaWdodDogYm9sZDtgLFxuICAvKiogTGluayBzdHlsZSAqL1xuICBsaW5rOiBgY29sb3I6ICR7Q29uc29sZUNvbG9ycy5wcmltYXJ5fTsgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7YCxcbiAgLyoqIEJvZHkgdGV4dCAtIGluaGVyaXRzIGNvbnNvbGUgdGhlbWUgKi9cbiAgYm9keTogYGNvbG9yOiAke0NvbnNvbGVDb2xvcnMuaW5oZXJpdH07YCxcbiAgLyoqIFdhcm5pbmcgc3R5bGUgKi9cbiAgd2FybmluZzogYGNvbG9yOiAke0NvbnNvbGVDb2xvcnMuY3RhfTsgZm9udC13ZWlnaHQ6IGJvbGQ7YFxufTtcbmZ1bmN0aW9uIGxvZ0NvcGlsb3RLaXRQbGF0Zm9ybU1lc3NhZ2UoKSB7XG4gIGNvbnNvbGUubG9nKFxuICAgIGAlY0NvcGlsb3RLaXQgV2FybmluZyVjXG5cbnVzZUNvcGlsb3RDaGF0SGVhZGxlc3NfYyBwcm92aWRlcyBmdWxsIGNvbXBhdGliaWxpdHkgd2l0aCBDb3BpbG90S2l0J3MgbmV3bHkgcmVsZWFzZWQgSGVhZGxlc3MgVUkgZmVhdHVyZSBzZXQuIFRvIGVuYWJsZSB0aGlzIHByZW1pdW0gZmVhdHVyZSwgYWRkIHlvdXIgcHVibGljIGxpY2Vuc2Uga2V5LCBhdmFpbGFibGUgZm9yIGZyZWUgYXQ6XG5cbiVjaHR0cHM6Ly9jbG91ZC5jb3BpbG90a2l0LmFpJWNcblxuQWx0ZXJuYXRpdmVseSwgdXNlQ29waWxvdENoYXQgaXMgYXZhaWxhYmxlIGZvciBiYXNpYyBwcm9ncmFtbWF0aWMgY29udHJvbCwgYW5kIGRvZXMgbm90IHJlcXVpcmUgYW4gQVBJIGtleS5cblxuVG8gbGVhcm4gbW9yZSBhYm91dCBwcmVtaXVtIGZlYXR1cmVzLCByZWFkIHRoZSBkb2N1bWVudGF0aW9uIGhlcmU6XG5cbiVjaHR0cHM6Ly9kb2NzLmNvcGlsb3RraXQuYWkvcHJlbWl1bSVjYCxcbiAgICBDb25zb2xlU3R5bGVzLmhlYWRlcixcbiAgICBDb25zb2xlU3R5bGVzLmJvZHksXG4gICAgQ29uc29sZVN0eWxlcy5jdGEsXG4gICAgQ29uc29sZVN0eWxlcy5ib2R5LFxuICAgIENvbnNvbGVTdHlsZXMubGluayxcbiAgICBDb25zb2xlU3R5bGVzLmJvZHlcbiAgKTtcbn1cbmZ1bmN0aW9uIHB1YmxpY0FwaUtleVJlcXVpcmVkKGZlYXR1cmUpIHtcbiAgY29uc29sZS5sb2coXG4gICAgYFxuJWNDb3BpbG90S2l0IFdhcm5pbmclYyBcblxuSW4gb3JkZXIgdG8gdXNlICR7ZmVhdHVyZX0sIHlvdSBuZWVkIHRvIGFkZCB5b3VyIENvcGlsb3RLaXQgQVBJIGtleSwgYXZhaWxhYmxlIGZvciBmcmVlIGF0IGh0dHBzOi8vY2xvdWQuY29waWxvdGtpdC5haS5cbiAgICBgLnRyaW0oKSxcbiAgICBDb25zb2xlU3R5bGVzLmhlYWRlcixcbiAgICBDb25zb2xlU3R5bGVzLmJvZHlcbiAgKTtcbn1cbmZ1bmN0aW9uIGxvZ1N0eWxlZCh0ZW1wbGF0ZSwgc3R5bGVzKSB7XG4gIGNvbnNvbGUubG9nKHRlbXBsYXRlLCAuLi5zdHlsZXMpO1xufVxudmFyIHN0eWxlZENvbnNvbGUgPSB7XG4gIC8qKiBMb2cgYSBzdWNjZXNzIG1lc3NhZ2UgKi9cbiAgc3VjY2VzczogKG1lc3NhZ2UpID0+IGxvZ1N0eWxlZChgJWNcXHUyNzA1ICR7bWVzc2FnZX1gLCBbQ29uc29sZVN0eWxlcy5zZWN0aW9uXSksXG4gIC8qKiBMb2cgYW4gaW5mbyBtZXNzYWdlICovXG4gIGluZm86IChtZXNzYWdlKSA9PiBsb2dTdHlsZWQoYCVjXFx1MjEzOVxcdUZFMEYgJHttZXNzYWdlfWAsIFtDb25zb2xlU3R5bGVzLmluZm9dKSxcbiAgLyoqIExvZyBhIGZlYXR1cmUgaGlnaGxpZ2h0ICovXG4gIGZlYXR1cmU6IChtZXNzYWdlKSA9PiBsb2dTdHlsZWQoYCVjXFx1MjcyOCAke21lc3NhZ2V9YCwgW0NvbnNvbGVTdHlsZXMuaGlnaGxpZ2h0XSksXG4gIC8qKiBMb2cgYSBjYWxsLXRvLWFjdGlvbiAqL1xuICBjdGE6IChtZXNzYWdlKSA9PiBsb2dTdHlsZWQoYCVjXFx1ezFGNjgwfSAke21lc3NhZ2V9YCwgW0NvbnNvbGVTdHlsZXMuY3RhXSksXG4gIC8qKiBMb2cgdGhlIENvcGlsb3RLaXQgcGxhdGZvcm0gcHJvbW90aW9uICovXG4gIGxvZ0NvcGlsb3RLaXRQbGF0Zm9ybU1lc3NhZ2UsXG4gIC8qKiBMb2cgYSBgcHVibGljQXBpS2V5UmVxdWlyZWRgIHdhcm5pbmcgKi9cbiAgcHVibGljQXBpS2V5UmVxdWlyZWRcbn07XG5cbi8vIHNyYy91dGlscy9lcnJvcnMudHNcbnZhciBpbXBvcnRfZ3JhcGhxbCA9IHJlcXVpcmUoXCJncmFwaHFsXCIpO1xudmFyIFNldmVyaXR5ID0gLyogQF9fUFVSRV9fICovICgoU2V2ZXJpdHkyKSA9PiB7XG4gIFNldmVyaXR5MltcIkNSSVRJQ0FMXCJdID0gXCJjcml0aWNhbFwiO1xuICBTZXZlcml0eTJbXCJXQVJOSU5HXCJdID0gXCJ3YXJuaW5nXCI7XG4gIFNldmVyaXR5MltcIklORk9cIl0gPSBcImluZm9cIjtcbiAgcmV0dXJuIFNldmVyaXR5Mjtcbn0pKFNldmVyaXR5IHx8IHt9KTtcbnZhciBFcnJvclZpc2liaWxpdHkgPSAvKiBAX19QVVJFX18gKi8gKChFcnJvclZpc2liaWxpdHkyKSA9PiB7XG4gIEVycm9yVmlzaWJpbGl0eTJbXCJCQU5ORVJcIl0gPSBcImJhbm5lclwiO1xuICBFcnJvclZpc2liaWxpdHkyW1wiVE9BU1RcIl0gPSBcInRvYXN0XCI7XG4gIEVycm9yVmlzaWJpbGl0eTJbXCJTSUxFTlRcIl0gPSBcInNpbGVudFwiO1xuICBFcnJvclZpc2liaWxpdHkyW1wiREVWX09OTFlcIl0gPSBcImRldl9vbmx5XCI7XG4gIHJldHVybiBFcnJvclZpc2liaWxpdHkyO1xufSkoRXJyb3JWaXNpYmlsaXR5IHx8IHt9KTtcbnZhciBFUlJPUl9OQU1FUyA9IHtcbiAgQ09QSUxPVF9FUlJPUjogXCJDb3BpbG90RXJyb3JcIixcbiAgQ09QSUxPVF9BUElfRElTQ09WRVJZX0VSUk9SOiBcIkNvcGlsb3RBcGlEaXNjb3ZlcnlFcnJvclwiLFxuICBDT1BJTE9UX1JFTU9URV9FTkRQT0lOVF9ESVNDT1ZFUllfRVJST1I6IFwiQ29waWxvdEtpdFJlbW90ZUVuZHBvaW50RGlzY292ZXJ5RXJyb3JcIixcbiAgQ09QSUxPVF9LSVRfQUdFTlRfRElTQ09WRVJZX0VSUk9SOiBcIkNvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yXCIsXG4gIENPUElMT1RfS0lUX0xPV19MRVZFTF9FUlJPUjogXCJDb3BpbG90S2l0TG93TGV2ZWxFcnJvclwiLFxuICBDT1BJTE9UX0tJVF9WRVJTSU9OX01JU01BVENIX0VSUk9SOiBcIkNvcGlsb3RLaXRWZXJzaW9uTWlzbWF0Y2hFcnJvclwiLFxuICBSRVNPTFZFRF9DT1BJTE9UX0tJVF9FUlJPUjogXCJSZXNvbHZlZENvcGlsb3RLaXRFcnJvclwiLFxuICBDT05GSUdVUkFUSU9OX0VSUk9SOiBcIkNvbmZpZ3VyYXRpb25FcnJvclwiLFxuICBNSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SOiBcIk1pc3NpbmdQdWJsaWNBcGlLZXlFcnJvclwiLFxuICBVUEdSQURFX1JFUVVJUkVEX0VSUk9SOiBcIlVwZ3JhZGVSZXF1aXJlZEVycm9yXCJcbn07XG52YXIgQkFOTkVSX0VSUk9SX05BTUVTID0gW1xuICBFUlJPUl9OQU1FUy5DT05GSUdVUkFUSU9OX0VSUk9SLFxuICBFUlJPUl9OQU1FUy5NSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SLFxuICBFUlJPUl9OQU1FUy5VUEdSQURFX1JFUVVJUkVEX0VSUk9SLFxuICBFUlJPUl9OQU1FUy5DT1BJTE9UX0FQSV9ESVNDT1ZFUllfRVJST1IsXG4gIEVSUk9SX05BTUVTLkNPUElMT1RfUkVNT1RFX0VORFBPSU5UX0RJU0NPVkVSWV9FUlJPUixcbiAgRVJST1JfTkFNRVMuQ09QSUxPVF9LSVRfQUdFTlRfRElTQ09WRVJZX0VSUk9SXG5dO1xudmFyIENPUElMT1RfQ0xPVURfRVJST1JfTkFNRVMgPSBCQU5ORVJfRVJST1JfTkFNRVM7XG52YXIgQ29waWxvdEtpdEVycm9yQ29kZSA9IC8qIEBfX1BVUkVfXyAqLyAoKENvcGlsb3RLaXRFcnJvckNvZGUyKSA9PiB7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiTkVUV09SS19FUlJPUlwiXSA9IFwiTkVUV09SS19FUlJPUlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIk5PVF9GT1VORFwiXSA9IFwiTk9UX0ZPVU5EXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiQUdFTlRfTk9UX0ZPVU5EXCJdID0gXCJBR0VOVF9OT1RfRk9VTkRcIjtcbiAgQ29waWxvdEtpdEVycm9yQ29kZTJbXCJBUElfTk9UX0ZPVU5EXCJdID0gXCJBUElfTk9UX0ZPVU5EXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORFwiXSA9IFwiUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORFwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIkFVVEhFTlRJQ0FUSU9OX0VSUk9SXCJdID0gXCJBVVRIRU5USUNBVElPTl9FUlJPUlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIk1JU1VTRVwiXSA9IFwiTUlTVVNFXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiVU5LTk9XTlwiXSA9IFwiVU5LTk9XTlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIlZFUlNJT05fTUlTTUFUQ0hcIl0gPSBcIlZFUlNJT05fTUlTTUFUQ0hcIjtcbiAgQ29waWxvdEtpdEVycm9yQ29kZTJbXCJDT05GSUdVUkFUSU9OX0VSUk9SXCJdID0gXCJDT05GSUdVUkFUSU9OX0VSUk9SXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUlwiXSA9IFwiTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIlVQR1JBREVfUkVRVUlSRURfRVJST1JcIl0gPSBcIlVQR1JBREVfUkVRVUlSRURfRVJST1JcIjtcbiAgcmV0dXJuIENvcGlsb3RLaXRFcnJvckNvZGUyO1xufSkoQ29waWxvdEtpdEVycm9yQ29kZSB8fCB7fSk7XG52YXIgQkFTRV9VUkwgPSBcImh0dHBzOi8vZG9jcy5jb3BpbG90a2l0LmFpXCI7XG52YXIgZ2V0U2VlTW9yZU1hcmtkb3duID0gKGxpbmspID0+IGBTZWUgbW9yZTogWyR7bGlua31dKCR7bGlua30pYDtcbnZhciBFUlJPUl9DT05GSUcgPSB7XG4gIFtcIk5FVFdPUktfRVJST1JcIiAvKiBORVRXT1JLX0VSUk9SICovXToge1xuICAgIHN0YXR1c0NvZGU6IDUwMyxcbiAgICB0cm91Ymxlc2hvb3RpbmdVcmw6IGAke0JBU0VfVVJMfS90cm91Ymxlc2hvb3RpbmcvY29tbW9uLWlzc3VlcyNpLWFtLWdldHRpbmctYS1uZXR3b3JrLWVycm9ycy0tYXBpLW5vdC1mb3VuZGAsXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi8sXG4gICAgc2V2ZXJpdHk6IFwiY3JpdGljYWxcIiAvKiBDUklUSUNBTCAqL1xuICB9LFxuICBbXCJOT1RfRk9VTkRcIiAvKiBOT1RfRk9VTkQgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDA0LFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogYCR7QkFTRV9VUkx9L3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzI2ktYW0tZ2V0dGluZy1hLW5ldHdvcmstZXJyb3JzLS1hcGktbm90LWZvdW5kYCxcbiAgICB2aXNpYmlsaXR5OiBcImJhbm5lclwiIC8qIEJBTk5FUiAqLyxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovXG4gIH0sXG4gIFtcIkFHRU5UX05PVF9GT1VORFwiIC8qIEFHRU5UX05PVF9GT1VORCAqL106IHtcbiAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgdHJvdWJsZXNob290aW5nVXJsOiBgJHtCQVNFX1VSTH0vY29hZ2VudHMvdHJvdWJsZXNob290aW5nL2NvbW1vbi1pc3N1ZXMjaS1hbS1nZXR0aW5nLWFnZW50LW5vdC1mb3VuZC1lcnJvcmAsXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi8sXG4gICAgc2V2ZXJpdHk6IFwiY3JpdGljYWxcIiAvKiBDUklUSUNBTCAqL1xuICB9LFxuICBbXCJBUElfTk9UX0ZPVU5EXCIgLyogQVBJX05PVF9GT1VORCAqL106IHtcbiAgICBzdGF0dXNDb2RlOiA0MDQsXG4gICAgdHJvdWJsZXNob290aW5nVXJsOiBgJHtCQVNFX1VSTH0vdHJvdWJsZXNob290aW5nL2NvbW1vbi1pc3N1ZXMjaS1hbS1nZXR0aW5nLWEtbmV0d29yay1lcnJvcnMtLWFwaS1ub3QtZm91bmRgLFxuICAgIHZpc2liaWxpdHk6IFwiYmFubmVyXCIgLyogQkFOTkVSICovLFxuICAgIHNldmVyaXR5OiBcImNyaXRpY2FsXCIgLyogQ1JJVElDQUwgKi9cbiAgfSxcbiAgW1wiUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORFwiIC8qIFJFTU9URV9FTkRQT0lOVF9OT1RfRk9VTkQgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDA0LFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogYCR7QkFTRV9VUkx9L3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzI2ktYW0tZ2V0dGluZy1jb3BpbG90a2l0cy1yZW1vdGUtZW5kcG9pbnQtbm90LWZvdW5kLWVycm9yYCxcbiAgICB2aXNpYmlsaXR5OiBcImJhbm5lclwiIC8qIEJBTk5FUiAqLyxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovXG4gIH0sXG4gIFtcIkFVVEhFTlRJQ0FUSU9OX0VSUk9SXCIgLyogQVVUSEVOVElDQVRJT05fRVJST1IgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAxLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogYCR7QkFTRV9VUkx9L3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzI2F1dGhlbnRpY2F0aW9uLWVycm9yc2AsXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi8sXG4gICAgc2V2ZXJpdHk6IFwiY3JpdGljYWxcIiAvKiBDUklUSUNBTCAqL1xuICB9LFxuICBbXCJNSVNVU0VcIiAvKiBNSVNVU0UgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAwLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogbnVsbCxcbiAgICB2aXNpYmlsaXR5OiBcImRldl9vbmx5XCIgLyogREVWX09OTFkgKi8sXG4gICAgc2V2ZXJpdHk6IFwid2FybmluZ1wiIC8qIFdBUk5JTkcgKi9cbiAgfSxcbiAgW1wiVU5LTk9XTlwiIC8qIFVOS05PV04gKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNTAwLFxuICAgIHZpc2liaWxpdHk6IFwidG9hc3RcIiAvKiBUT0FTVCAqLyxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovXG4gIH0sXG4gIFtcIkNPTkZJR1VSQVRJT05fRVJST1JcIiAvKiBDT05GSUdVUkFUSU9OX0VSUk9SICovXToge1xuICAgIHN0YXR1c0NvZGU6IDQwMCxcbiAgICB0cm91Ymxlc2hvb3RpbmdVcmw6IG51bGwsXG4gICAgc2V2ZXJpdHk6IFwid2FybmluZ1wiIC8qIFdBUk5JTkcgKi8sXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi9cbiAgfSxcbiAgW1wiTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUlwiIC8qIE1JU1NJTkdfUFVCTElDX0FQSV9LRVlfRVJST1IgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAwLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogbnVsbCxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovLFxuICAgIHZpc2liaWxpdHk6IFwiYmFubmVyXCIgLyogQkFOTkVSICovXG4gIH0sXG4gIFtcIlVQR1JBREVfUkVRVUlSRURfRVJST1JcIiAvKiBVUEdSQURFX1JFUVVJUkVEX0VSUk9SICovXToge1xuICAgIHN0YXR1c0NvZGU6IDQwMixcbiAgICB0cm91Ymxlc2hvb3RpbmdVcmw6IG51bGwsXG4gICAgc2V2ZXJpdHk6IFwid2FybmluZ1wiIC8qIFdBUk5JTkcgKi8sXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi9cbiAgfSxcbiAgW1wiVkVSU0lPTl9NSVNNQVRDSFwiIC8qIFZFUlNJT05fTUlTTUFUQ0ggKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAwLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogbnVsbCxcbiAgICB2aXNpYmlsaXR5OiBcImRldl9vbmx5XCIgLyogREVWX09OTFkgKi8sXG4gICAgc2V2ZXJpdHk6IFwiaW5mb1wiIC8qIElORk8gKi9cbiAgfVxufTtcbnZhciBDb3BpbG90S2l0RXJyb3IgPSBjbGFzcyBleHRlbmRzIGltcG9ydF9ncmFwaHFsLkdyYXBoUUxFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gXCJVbmtub3duIGVycm9yIG9jY3VycmVkXCIsXG4gICAgY29kZSxcbiAgICBzZXZlcml0eSxcbiAgICB2aXNpYmlsaXR5XG4gIH0pIHtcbiAgICBjb25zdCBuYW1lID0gRVJST1JfTkFNRVMuQ09QSUxPVF9FUlJPUjtcbiAgICBjb25zdCBjb25maWcgPSBFUlJPUl9DT05GSUdbY29kZV07XG4gICAgY29uc3QgeyBzdGF0dXNDb2RlIH0gPSBjb25maWc7XG4gICAgY29uc3QgcmVzb2x2ZWRWaXNpYmlsaXR5ID0gdmlzaWJpbGl0eSA/PyBjb25maWcudmlzaWJpbGl0eSA/PyBcInRvYXN0XCIgLyogVE9BU1QgKi87XG4gICAgY29uc3QgcmVzb2x2ZWRTZXZlcml0eSA9IHNldmVyaXR5ID8/IChcInNldmVyaXR5XCIgaW4gY29uZmlnID8gY29uZmlnLnNldmVyaXR5IDogdm9pZCAwKTtcbiAgICBzdXBlcihtZXNzYWdlLCB7XG4gICAgICBleHRlbnNpb25zOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgIGNvZGUsXG4gICAgICAgIHZpc2liaWxpdHk6IHJlc29sdmVkVmlzaWJpbGl0eSxcbiAgICAgICAgc2V2ZXJpdHk6IHJlc29sdmVkU2V2ZXJpdHksXG4gICAgICAgIHRyb3VibGVzaG9vdGluZ1VybDogXCJ0cm91Ymxlc2hvb3RpbmdVcmxcIiBpbiBjb25maWcgPyBjb25maWcudHJvdWJsZXNob290aW5nVXJsIDogbnVsbCxcbiAgICAgICAgb3JpZ2luYWxFcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgc3RhY2s6IG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnNldmVyaXR5ID0gcmVzb2x2ZWRTZXZlcml0eTtcbiAgICB0aGlzLnZpc2liaWxpdHkgPSByZXNvbHZlZFZpc2liaWxpdHk7XG4gIH1cbn07XG52YXIgQ29waWxvdEtpdE1pc3VzZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBDb3BpbG90S2l0RXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBjb2RlID0gXCJNSVNVU0VcIiAvKiBNSVNVU0UgKi9cbiAgfSkge1xuICAgIGNvbnN0IGRvY3NMaW5rID0gXCJ0cm91Ymxlc2hvb3RpbmdVcmxcIiBpbiBFUlJPUl9DT05GSUdbY29kZV0gJiYgRVJST1JfQ09ORklHW2NvZGVdLnRyb3VibGVzaG9vdGluZ1VybCA/IGdldFNlZU1vcmVNYXJrZG93bihFUlJPUl9DT05GSUdbY29kZV0udHJvdWJsZXNob290aW5nVXJsKSA6IG51bGw7XG4gICAgY29uc3QgZmluYWxNZXNzYWdlID0gZG9jc0xpbmsgPyBgJHttZXNzYWdlfS5cblxuJHtkb2NzTGlua31gIDogbWVzc2FnZTtcbiAgICBzdXBlcih7IG1lc3NhZ2U6IGZpbmFsTWVzc2FnZSwgY29kZSB9KTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5DT1BJTE9UX0FQSV9ESVNDT1ZFUllfRVJST1I7XG4gIH1cbn07XG52YXIgZ2V0VmVyc2lvbk1pc21hdGNoRXJyb3JNZXNzYWdlID0gKHtcbiAgcmVhY3RDb3JlVmVyc2lvbixcbiAgcnVudGltZVZlcnNpb24sXG4gIHJ1bnRpbWVDbGllbnRHcWxWZXJzaW9uXG59KSA9PiBgVmVyc2lvbiBtaXNtYXRjaCBkZXRlY3RlZDogQGNvcGlsb3RraXQvcnVudGltZUAke3J1bnRpbWVWZXJzaW9uID8/IFwiXCJ9IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggQGNvcGlsb3RraXQvcmVhY3QtY29yZUAke3JlYWN0Q29yZVZlcnNpb259IGFuZCBAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxAJHtydW50aW1lQ2xpZW50R3FsVmVyc2lvbn0uIFBsZWFzZSBlbnN1cmUgYWxsIGluc3RhbGxlZCBjb3BpbG90a2l0IHBhY2thZ2VzIGFyZSBvbiB0aGUgc2FtZSB2ZXJzaW9uLmA7XG52YXIgQ29waWxvdEtpdFZlcnNpb25NaXNtYXRjaEVycm9yID0gY2xhc3MgZXh0ZW5kcyBDb3BpbG90S2l0RXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcmVhY3RDb3JlVmVyc2lvbixcbiAgICBydW50aW1lVmVyc2lvbixcbiAgICBydW50aW1lQ2xpZW50R3FsVmVyc2lvblxuICB9KSB7XG4gICAgY29uc3QgY29kZSA9IFwiVkVSU0lPTl9NSVNNQVRDSFwiIC8qIFZFUlNJT05fTUlTTUFUQ0ggKi87XG4gICAgc3VwZXIoe1xuICAgICAgbWVzc2FnZTogZ2V0VmVyc2lvbk1pc21hdGNoRXJyb3JNZXNzYWdlKHtcbiAgICAgICAgcmVhY3RDb3JlVmVyc2lvbixcbiAgICAgICAgcnVudGltZVZlcnNpb24sXG4gICAgICAgIHJ1bnRpbWVDbGllbnRHcWxWZXJzaW9uXG4gICAgICB9KSxcbiAgICAgIGNvZGVcbiAgICB9KTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5DT1BJTE9UX0tJVF9WRVJTSU9OX01JU01BVENIX0VSUk9SO1xuICB9XG59O1xudmFyIENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEVycm9yIHtcbiAgY29uc3RydWN0b3IocGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB1cmwgPSBwYXJhbXMudXJsID8/IFwiXCI7XG4gICAgbGV0IG9wZXJhdGlvblN1ZmZpeCA9IFwiXCI7XG4gICAgaWYgKHVybCA9PSBudWxsID8gdm9pZCAwIDogdXJsLmluY2x1ZGVzKFwiL2luZm9cIikpXG4gICAgICBvcGVyYXRpb25TdWZmaXggPSBgd2hlbiBmZXRjaGluZyBDb3BpbG90S2l0IGluZm9gO1xuICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcyhcIi9hY3Rpb25zL2V4ZWN1dGVcIikpXG4gICAgICBvcGVyYXRpb25TdWZmaXggPSBgd2hlbiBhdHRlbXB0aW5nIHRvIGV4ZWN1dGUgYWN0aW9ucy5gO1xuICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcyhcIi9hZ2VudHMvc3RhdGVcIikpXG4gICAgICBvcGVyYXRpb25TdWZmaXggPSBgd2hlbiBhdHRlbXB0aW5nIHRvIGdldCBhZ2VudCBzdGF0ZS5gO1xuICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcyhcIi9hZ2VudHMvZXhlY3V0ZVwiKSlcbiAgICAgIG9wZXJhdGlvblN1ZmZpeCA9IGB3aGVuIGF0dGVtcHRpbmcgdG8gZXhlY3V0ZSBhZ2VudChzKS5gO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXJhbXMubWVzc2FnZSA/PyAocGFyYW1zLnVybCA/IGBGYWlsZWQgdG8gZmluZCBDb3BpbG90S2l0IEFQSSBlbmRwb2ludCBhdCB1cmwgJHtwYXJhbXMudXJsfSAke29wZXJhdGlvblN1ZmZpeH1gIDogYEZhaWxlZCB0byBmaW5kIENvcGlsb3RLaXQgQVBJIGVuZHBvaW50LmApO1xuICAgIGNvbnN0IGNvZGUgPSBwYXJhbXMuY29kZSA/PyBcIkFQSV9OT1RfRk9VTkRcIiAvKiBBUElfTk9UX0ZPVU5EICovO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGAke21lc3NhZ2V9LlxuXG4ke2dldFNlZU1vcmVNYXJrZG93bihFUlJPUl9DT05GSUdbY29kZV0udHJvdWJsZXNob290aW5nVXJsKX1gO1xuICAgIHN1cGVyKHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCBjb2RlIH0pO1xuICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUVTLkNPUElMT1RfQVBJX0RJU0NPVkVSWV9FUlJPUjtcbiAgfVxufTtcbnZhciBDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEFwaURpc2NvdmVyeUVycm9yIHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5tZXNzYWdlKSA/PyAoKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLnVybCkgPyBgRmFpbGVkIHRvIGZpbmQgb3IgY29udGFjdCByZW1vdGUgZW5kcG9pbnQgYXQgdXJsICR7cGFyYW1zLnVybH1gIDogXCJGYWlsZWQgdG8gZmluZCBvciBjb250YWN0IHJlbW90ZSBlbmRwb2ludFwiKTtcbiAgICBjb25zdCBjb2RlID0gXCJSRU1PVEVfRU5EUE9JTlRfTk9UX0ZPVU5EXCIgLyogUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORCAqLztcbiAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGUgfSk7XG4gICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRVMuQ09QSUxPVF9SRU1PVEVfRU5EUE9JTlRfRElTQ09WRVJZX0VSUk9SO1xuICB9XG59O1xudmFyIENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yID0gY2xhc3MgZXh0ZW5kcyBDb3BpbG90S2l0RXJyb3Ige1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGFnZW50TmFtZSwgYXZhaWxhYmxlQWdlbnRzIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgY29kZSA9IFwiQUdFTlRfTk9UX0ZPVU5EXCIgLyogQUdFTlRfTk9UX0ZPVU5EICovO1xuICAgIGNvbnN0IHNlZU1vcmUgPSBnZXRTZWVNb3JlTWFya2Rvd24oRVJST1JfQ09ORklHW2NvZGVdLnRyb3VibGVzaG9vdGluZ1VybCk7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKGF2YWlsYWJsZUFnZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGFnZW50TGlzdCA9IGF2YWlsYWJsZUFnZW50cy5tYXAoKGFnZW50KSA9PiBhZ2VudC5uYW1lKS5qb2luKFwiLCBcIik7XG4gICAgICBpZiAoYWdlbnROYW1lKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgQWdlbnQgJyR7YWdlbnROYW1lfScgd2FzIG5vdCBmb3VuZC4gQXZhaWxhYmxlIGFnZW50cyBhcmU6ICR7YWdlbnRMaXN0fS4gUGxlYXNlIHZlcmlmeSB0aGUgYWdlbnQgbmFtZSBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gYW5kIGVuc3VyZSBpdCBtYXRjaGVzIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGFnZW50cy5cblxuJHtzZWVNb3JlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gYFRoZSByZXF1ZXN0ZWQgYWdlbnQgd2FzIG5vdCBmb3VuZC4gQXZhaWxhYmxlIGFnZW50cyBhcmU6ICR7YWdlbnRMaXN0fS4gUGxlYXNlIHZlcmlmeSB0aGUgYWdlbnQgbmFtZSBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gYW5kIGVuc3VyZSBpdCBtYXRjaGVzIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGFnZW50cy5cblxuJHtzZWVNb3JlfWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPSBgJHthZ2VudE5hbWUgPyBgQWdlbnQgJyR7YWdlbnROYW1lfSdgIDogXCJUaGUgcmVxdWVzdGVkIGFnZW50XCJ9IHdhcyBub3QgZm91bmQuIFBsZWFzZSBzZXQgdXAgYXQgbGVhc3Qgb25lIGFnZW50IGJlZm9yZSBwcm9jZWVkaW5nLiAke3NlZU1vcmV9YDtcbiAgICB9XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBjb2RlIH0pO1xuICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUVTLkNPUElMT1RfS0lUX0FHRU5UX0RJU0NPVkVSWV9FUlJPUjtcbiAgfVxufTtcbnZhciBDb3BpbG90S2l0TG93TGV2ZWxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEVycm9yIHtcbiAgY29uc3RydWN0b3IoeyBlcnJvciwgdXJsLCBtZXNzYWdlIH0pIHtcbiAgICBsZXQgY29kZSA9IFwiTkVUV09SS19FUlJPUlwiIC8qIE5FVFdPUktfRVJST1IgKi87XG4gICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBtZXNzYWdlID8/IHJlc29sdmVMb3dMZXZlbEVycm9yTWVzc2FnZSh7IGVycm9yQ29kZSwgdXJsIH0pO1xuICAgIHN1cGVyKHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCBjb2RlIH0pO1xuICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUVTLkNPUElMT1RfS0lUX0xPV19MRVZFTF9FUlJPUjtcbiAgfVxufTtcbnZhciBSZXNvbHZlZENvcGlsb3RLaXRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEVycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHN0YXR1cyxcbiAgICBtZXNzYWdlLFxuICAgIGNvZGUsXG4gICAgaXNSZW1vdGVFbmRwb2ludCxcbiAgICB1cmxcbiAgfSkge1xuICAgIGxldCByZXNvbHZlZENvZGUgPSBjb2RlO1xuICAgIGlmICghcmVzb2x2ZWRDb2RlKSB7XG4gICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlIDQwMDpcbiAgICAgICAgICB0aHJvdyBuZXcgQ29waWxvdEtpdEFwaURpc2NvdmVyeUVycm9yKHsgbWVzc2FnZSwgdXJsIH0pO1xuICAgICAgICBjYXNlIDQwNDpcbiAgICAgICAgICB0aHJvdyBpc1JlbW90ZUVuZHBvaW50ID8gbmV3IENvcGlsb3RLaXRSZW1vdGVFbmRwb2ludERpc2NvdmVyeUVycm9yKHsgbWVzc2FnZSwgdXJsIH0pIDogbmV3IENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcih7IG1lc3NhZ2UsIHVybCB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXNvbHZlZENvZGUgPSBcIlVOS05PV05cIiAvKiBVTktOT1dOICovO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IHJlc29sdmVkQ29kZSB9KTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5SRVNPTFZFRF9DT1BJTE9UX0tJVF9FUlJPUjtcbiAgfVxufTtcbnZhciBDb25maWd1cmF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIENvcGlsb3RLaXRFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IFwiQ09ORklHVVJBVElPTl9FUlJPUlwiIC8qIENPTkZJR1VSQVRJT05fRVJST1IgKi8gfSk7XG4gICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRVMuQ09ORklHVVJBVElPTl9FUlJPUjtcbiAgICB0aGlzLnNldmVyaXR5ID0gXCJ3YXJuaW5nXCIgLyogV0FSTklORyAqLztcbiAgfVxufTtcbnZhciBNaXNzaW5nUHVibGljQXBpS2V5RXJyb3IgPSBjbGFzcyBleHRlbmRzIENvbmZpZ3VyYXRpb25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5NSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SO1xuICAgIHRoaXMuc2V2ZXJpdHkgPSBcImNyaXRpY2FsXCIgLyogQ1JJVElDQUwgKi87XG4gIH1cbn07XG52YXIgVXBncmFkZVJlcXVpcmVkRXJyb3IgPSBjbGFzcyBleHRlbmRzIENvbmZpZ3VyYXRpb25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5VUEdSQURFX1JFUVVJUkVEX0VSUk9SO1xuICAgIHRoaXMuc2V2ZXJpdHkgPSBcIndhcm5pbmdcIiAvKiBXQVJOSU5HICovO1xuICB9XG59O1xuZnVuY3Rpb24gaXNTdHJ1Y3R1cmVkQ29waWxvdEtpdEVycm9yKGVycm9yKSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgQ29waWxvdEtpdEVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgQ29waWxvdEtpdExvd0xldmVsRXJyb3IgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5uYW1lKSAmJiBlcnJvci5uYW1lLmluY2x1ZGVzKFwiQ29waWxvdEtpdFwiKSB8fCAoKF9hID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb2RlKSAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gZW5zdXJlU3RydWN0dXJlZEVycm9yKGVycm9yLCBjb252ZXJ0ZXIpIHtcbiAgcmV0dXJuIGlzU3RydWN0dXJlZENvcGlsb3RLaXRFcnJvcihlcnJvcikgPyBlcnJvciA6IGNvbnZlcnRlcihlcnJvcik7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRQb3NzaWJsZVZlcnNpb25NaXNtYXRjaCh7XG4gIHJ1bnRpbWVWZXJzaW9uLFxuICBydW50aW1lQ2xpZW50R3FsVmVyc2lvblxufSkge1xuICBpZiAoIXJ1bnRpbWVWZXJzaW9uIHx8IHJ1bnRpbWVWZXJzaW9uID09PSBcIlwiIHx8ICFydW50aW1lQ2xpZW50R3FsVmVyc2lvbilcbiAgICByZXR1cm47XG4gIGlmIChDT1BJTE9US0lUX1ZFUlNJT04gIT09IHJ1bnRpbWVWZXJzaW9uIHx8IENPUElMT1RLSVRfVkVSU0lPTiAhPT0gcnVudGltZUNsaWVudEdxbFZlcnNpb24gfHwgcnVudGltZVZlcnNpb24gIT09IHJ1bnRpbWVDbGllbnRHcWxWZXJzaW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJ1bnRpbWVWZXJzaW9uLFxuICAgICAgcnVudGltZUNsaWVudEdxbFZlcnNpb24sXG4gICAgICByZWFjdENvcmVWZXJzaW9uOiBDT1BJTE9US0lUX1ZFUlNJT04sXG4gICAgICBtZXNzYWdlOiBnZXRWZXJzaW9uTWlzbWF0Y2hFcnJvck1lc3NhZ2Uoe1xuICAgICAgICBydW50aW1lVmVyc2lvbixcbiAgICAgICAgcnVudGltZUNsaWVudEdxbFZlcnNpb24sXG4gICAgICAgIHJlYWN0Q29yZVZlcnNpb246IENPUElMT1RLSVRfVkVSU0lPTlxuICAgICAgfSlcbiAgICB9O1xuICB9XG4gIHJldHVybjtcbn1cbnZhciByZXNvbHZlTG93TGV2ZWxFcnJvck1lc3NhZ2UgPSAoeyBlcnJvckNvZGUsIHVybCB9KSA9PiB7XG4gIGNvbnN0IHRyb3VibGVzaG9vdGluZ0xpbmsgPSBFUlJPUl9DT05GSUdbXCJORVRXT1JLX0VSUk9SXCIgLyogTkVUV09SS19FUlJPUiAqL10udHJvdWJsZXNob290aW5nVXJsO1xuICBjb25zdCBnZW5lcmljTWVzc2FnZSA9IChkZXNjcmlwdGlvbiA9IGBGYWlsZWQgdG8gZmV0Y2ggZnJvbSB1cmwgJHt1cmx9LmApID0+IGAke2Rlc2NyaXB0aW9ufS5cblxuUG9zc2libGUgcmVhc29uczpcbi0gLVRoZSBzZXJ2ZXIgbWF5IGhhdmUgYW4gZXJyb3IgcHJldmVudGluZyBpdCBmcm9tIHJldHVybmluZyBhIHJlc3BvbnNlIChDaGVjayB0aGUgc2VydmVyIGxvZ3MgZm9yIG1vcmUgaW5mbykuXG4tIC1UaGUgc2VydmVyIG1pZ2h0IGJlIGRvd24gb3IgdW5yZWFjaGFibGVcbi0gLVRoZXJlIG1pZ2h0IGJlIGEgbmV0d29yayBpc3N1ZSAoZS5nLiwgRE5TIGZhaWx1cmUsIGNvbm5lY3Rpb24gdGltZW91dCkgXG4tIC1UaGUgVVJMIG1pZ2h0IGJlIGluY29ycmVjdFxuLSAtVGhlIHNlcnZlciBpcyBub3QgcnVubmluZyBvbiB0aGUgc3BlY2lmaWVkIHBvcnRcblxuJHtnZXRTZWVNb3JlTWFya2Rvd24odHJvdWJsZXNob290aW5nTGluayl9YDtcbiAgaWYgKHVybC5pbmNsdWRlcyhcIi9pbmZvXCIpKVxuICAgIHJldHVybiBnZW5lcmljTWVzc2FnZShgRmFpbGVkIHRvIGZldGNoIENvcGlsb3RLaXQgYWdlbnRzL2FjdGlvbiBpbmZvcm1hdGlvbiBmcm9tIHVybCAke3VybH0uYCk7XG4gIGlmICh1cmwuaW5jbHVkZXMoXCIvYWN0aW9ucy9leGVjdXRlXCIpKVxuICAgIHJldHVybiBnZW5lcmljTWVzc2FnZShgRmV0Y2ggY2FsbCB0byAke3VybH0gdG8gZXhlY3V0ZSBhY3Rpb25zIGZhaWxlZC5gKTtcbiAgaWYgKHVybC5pbmNsdWRlcyhcIi9hZ2VudHMvc3RhdGVcIikpXG4gICAgcmV0dXJuIGdlbmVyaWNNZXNzYWdlKGBGZXRjaCBjYWxsIHRvICR7dXJsfSB0byBnZXQgYWdlbnQgc3RhdGUgZmFpbGVkLmApO1xuICBpZiAodXJsLmluY2x1ZGVzKFwiL2FnZW50cy9leGVjdXRlXCIpKVxuICAgIHJldHVybiBnZW5lcmljTWVzc2FnZShgRmV0Y2ggY2FsbCB0byAke3VybH0gdG8gZXhlY3V0ZSBhZ2VudChzKSBmYWlsZWQuYCk7XG4gIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgY2FzZSBcIkVDT05OUkVGVVNFRFwiOlxuICAgICAgcmV0dXJuIGBDb25uZWN0aW9uIHRvICR7dXJsfSB3YXMgcmVmdXNlZC4gRW5zdXJlIHRoZSBzZXJ2ZXIgaXMgcnVubmluZyBhbmQgYWNjZXNzaWJsZS5cblxuJHtnZXRTZWVNb3JlTWFya2Rvd24odHJvdWJsZXNob290aW5nTGluayl9YDtcbiAgICBjYXNlIFwiRU5PVEZPVU5EXCI6XG4gICAgICByZXR1cm4gYFRoZSBzZXJ2ZXIgb24gJHt1cmx9IGNvdWxkIG5vdCBiZSBmb3VuZC4gQ2hlY2sgdGhlIFVSTCBvciB5b3VyIG5ldHdvcmsgY29uZmlndXJhdGlvbi5cblxuJHtnZXRTZWVNb3JlTWFya2Rvd24oRVJST1JfQ09ORklHW1wiTk9UX0ZPVU5EXCIgLyogTk9UX0ZPVU5EICovXS50cm91Ymxlc2hvb3RpbmdVcmwpfWA7XG4gICAgY2FzZSBcIkVUSU1FRE9VVFwiOlxuICAgICAgcmV0dXJuIGBUaGUgY29ubmVjdGlvbiB0byAke3VybH0gdGltZWQgb3V0LiBUaGUgc2VydmVyIG1pZ2h0IGJlIG92ZXJsb2FkZWQgb3IgdGFraW5nIHRvbyBsb25nIHRvIHJlc3BvbmQuXG5cbiR7Z2V0U2VlTW9yZU1hcmtkb3duKHRyb3VibGVzaG9vdGluZ0xpbmspfWA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybjtcbiAgfVxufTtcblxuLy8gc3JjL3V0aWxzL2pzb24tc2NoZW1hLnRzXG52YXIgaW1wb3J0X3pvZCA9IHJlcXVpcmUoXCJ6b2RcIik7XG5mdW5jdGlvbiBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hKGFjdGlvblBhcmFtZXRlcnMpIHtcbiAgbGV0IHBhcmFtZXRlcnMgPSB7fTtcbiAgZm9yIChsZXQgcGFyYW1ldGVyIG9mIGFjdGlvblBhcmFtZXRlcnMgfHwgW10pIHtcbiAgICBwYXJhbWV0ZXJzW3BhcmFtZXRlci5uYW1lXSA9IGNvbnZlcnRBdHRyaWJ1dGUocGFyYW1ldGVyKTtcbiAgfVxuICBsZXQgcmVxdWlyZWRQYXJhbWV0ZXJOYW1lcyA9IFtdO1xuICBmb3IgKGxldCBhcmcgb2YgYWN0aW9uUGFyYW1ldGVycyB8fCBbXSkge1xuICAgIGlmIChhcmcucmVxdWlyZWQgIT09IGZhbHNlKSB7XG4gICAgICByZXF1aXJlZFBhcmFtZXRlck5hbWVzLnB1c2goYXJnLm5hbWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgcHJvcGVydGllczogcGFyYW1ldGVycyxcbiAgICByZXF1aXJlZDogcmVxdWlyZWRQYXJhbWV0ZXJOYW1lc1xuICB9O1xufVxuZnVuY3Rpb24ganNvblNjaGVtYVRvQWN0aW9uUGFyYW1ldGVycyhqc29uU2NoZW1hKSB7XG4gIGlmIChqc29uU2NoZW1hLnR5cGUgIT09IFwib2JqZWN0XCIgfHwgIWpzb25TY2hlbWEucHJvcGVydGllcykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBwYXJhbWV0ZXJzID0gW107XG4gIGNvbnN0IHJlcXVpcmVkRmllbGRzID0ganNvblNjaGVtYS5yZXF1aXJlZCB8fCBbXTtcbiAgZm9yIChjb25zdCBbbmFtZSwgc2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhqc29uU2NoZW1hLnByb3BlcnRpZXMpKSB7XG4gICAgY29uc3QgcGFyYW1ldGVyID0gY29udmVydEpzb25TY2hlbWFUb1BhcmFtZXRlcihuYW1lLCBzY2hlbWEsIHJlcXVpcmVkRmllbGRzLmluY2x1ZGVzKG5hbWUpKTtcbiAgICBwYXJhbWV0ZXJzLnB1c2gocGFyYW1ldGVyKTtcbiAgfVxuICByZXR1cm4gcGFyYW1ldGVycztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRKc29uU2NoZW1hVG9QYXJhbWV0ZXIobmFtZSwgc2NoZW1hLCBpc1JlcXVpcmVkKSB7XG4gIGNvbnN0IGJhc2VQYXJhbWV0ZXIgPSB7XG4gICAgbmFtZSxcbiAgICBkZXNjcmlwdGlvbjogc2NoZW1hLmRlc2NyaXB0aW9uXG4gIH07XG4gIGlmICghaXNSZXF1aXJlZCkge1xuICAgIGJhc2VQYXJhbWV0ZXIucmVxdWlyZWQgPSBmYWxzZTtcbiAgfVxuICBzd2l0Y2ggKHNjaGVtYS50eXBlKSB7XG4gICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZVBhcmFtZXRlcixcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgLi4uc2NoZW1hLmVudW0gJiYgeyBlbnVtOiBzY2hlbWEuZW51bSB9XG4gICAgICB9O1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZVBhcmFtZXRlcixcbiAgICAgICAgdHlwZTogc2NoZW1hLnR5cGVcbiAgICAgIH07XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBzY2hlbWEucmVxdWlyZWQgfHwgW107XG4gICAgICAgIGZvciAoY29uc3QgW3Byb3BOYW1lLCBwcm9wU2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEucHJvcGVydGllcykpIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goXG4gICAgICAgICAgICBjb252ZXJ0SnNvblNjaGVtYVRvUGFyYW1ldGVyKHByb3BOYW1lLCBwcm9wU2NoZW1hLCByZXF1aXJlZEZpZWxkcy5pbmNsdWRlcyhwcm9wTmFtZSkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmJhc2VQYXJhbWV0ZXIsXG4gICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICBhdHRyaWJ1dGVzXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlUGFyYW1ldGVyLFxuICAgICAgICB0eXBlOiBcIm9iamVjdFwiXG4gICAgICB9O1xuICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgaWYgKHNjaGVtYS5pdGVtcy50eXBlID09PSBcIm9iamVjdFwiICYmIFwicHJvcGVydGllc1wiIGluIHNjaGVtYS5pdGVtcykge1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gc2NoZW1hLml0ZW1zLnJlcXVpcmVkIHx8IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtwcm9wTmFtZSwgcHJvcFNjaGVtYV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hLml0ZW1zLnByb3BlcnRpZXMgfHwge30pKSB7XG4gICAgICAgICAgYXR0cmlidXRlcy5wdXNoKFxuICAgICAgICAgICAgY29udmVydEpzb25TY2hlbWFUb1BhcmFtZXRlcihwcm9wTmFtZSwgcHJvcFNjaGVtYSwgcmVxdWlyZWRGaWVsZHMuaW5jbHVkZXMocHJvcE5hbWUpKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5iYXNlUGFyYW1ldGVyLFxuICAgICAgICAgIHR5cGU6IFwib2JqZWN0W11cIixcbiAgICAgICAgICBhdHRyaWJ1dGVzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYS5pdGVtcy50eXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYmFzZVBhcmFtZXRlcixcbiAgICAgICAgICB0eXBlOiBgJHtzY2hlbWEuaXRlbXMudHlwZX1bXWBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uYmFzZVBhcmFtZXRlcixcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIlxuICAgICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY29udmVydEF0dHJpYnV0ZShhdHRyaWJ1dGUpIHtcbiAgdmFyIF9hLCBfYiwgX2M7XG4gIHN3aXRjaCAoYXR0cmlidXRlLnR5cGUpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uLFxuICAgICAgICAuLi5hdHRyaWJ1dGUuZW51bSAmJiB7IGVudW06IGF0dHJpYnV0ZS5lbnVtIH1cbiAgICAgIH07XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBhdHRyaWJ1dGUudHlwZSxcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgfTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgY2FzZSBcIm9iamVjdFtdXCI6XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gKF9hID0gYXR0cmlidXRlLmF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5yZWR1Y2UoXG4gICAgICAgIChhY2MsIGF0dHIpID0+IHtcbiAgICAgICAgICBhY2NbYXR0ci5uYW1lXSA9IGNvbnZlcnRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAge31cbiAgICAgICk7XG4gICAgICBjb25zdCByZXF1aXJlZCA9IChfYiA9IGF0dHJpYnV0ZS5hdHRyaWJ1dGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZmlsdGVyKChhdHRyKSA9PiBhdHRyLnJlcXVpcmVkICE9PSBmYWxzZSkubWFwKChhdHRyKSA9PiBhdHRyLm5hbWUpO1xuICAgICAgaWYgKGF0dHJpYnV0ZS50eXBlID09PSBcIm9iamVjdFtdXCIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzICYmIHsgcHJvcGVydGllcyB9LFxuICAgICAgICAgICAgLi4ucmVxdWlyZWQgJiYgcmVxdWlyZWQubGVuZ3RoID4gMCAmJiB7IHJlcXVpcmVkIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb24sXG4gICAgICAgIC4uLnByb3BlcnRpZXMgJiYgeyBwcm9wZXJ0aWVzIH0sXG4gICAgICAgIC4uLnJlcXVpcmVkICYmIHJlcXVpcmVkLmxlbmd0aCA+IDAgJiYgeyByZXF1aXJlZCB9XG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoKF9jID0gYXR0cmlidXRlLnR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYy5lbmRzV2l0aChcIltdXCIpKSB7XG4gICAgICAgIGNvbnN0IGl0ZW1UeXBlID0gYXR0cmlidXRlLnR5cGUuc2xpY2UoMCwgLTIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpdGVtczogeyB0eXBlOiBpdGVtVHlwZSB9LFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb25cbiAgICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEoanNvblNjaGVtYSwgcmVxdWlyZWQpIHtcbiAgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHNwZWMgPSB7fTtcbiAgICBpZiAoIWpzb25TY2hlbWEucHJvcGVydGllcyB8fCAhT2JqZWN0LmtleXMoanNvblNjaGVtYS5wcm9wZXJ0aWVzKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAhcmVxdWlyZWQgPyBpbXBvcnRfem9kLnoub2JqZWN0KHNwZWMpLm9wdGlvbmFsKCkgOiBpbXBvcnRfem9kLnoub2JqZWN0KHNwZWMpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhqc29uU2NoZW1hLnByb3BlcnRpZXMpKSB7XG4gICAgICBzcGVjW2tleV0gPSBjb252ZXJ0SnNvblNjaGVtYVRvWm9kU2NoZW1hKFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAganNvblNjaGVtYS5yZXF1aXJlZCA/IGpzb25TY2hlbWEucmVxdWlyZWQuaW5jbHVkZXMoa2V5KSA6IGZhbHNlXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgc2NoZW1hID0gaW1wb3J0X3pvZC56Lm9iamVjdChzcGVjKS5kZXNjcmliZShqc29uU2NoZW1hLmRlc2NyaXB0aW9uKTtcbiAgICByZXR1cm4gcmVxdWlyZWQgPyBzY2hlbWEgOiBzY2hlbWEub3B0aW9uYWwoKTtcbiAgfSBlbHNlIGlmIChqc29uU2NoZW1hLnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsZXQgc2NoZW1hID0gaW1wb3J0X3pvZC56LnN0cmluZygpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9IGVsc2UgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGxldCBzY2hlbWEgPSBpbXBvcnRfem9kLnoubnVtYmVyKCkuZGVzY3JpYmUoanNvblNjaGVtYS5kZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHJlcXVpcmVkID8gc2NoZW1hIDogc2NoZW1hLm9wdGlvbmFsKCk7XG4gIH0gZWxzZSBpZiAoanNvblNjaGVtYS50eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgIGxldCBzY2hlbWEgPSBpbXBvcnRfem9kLnouYm9vbGVhbigpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9IGVsc2UgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgbGV0IGl0ZW1TY2hlbWEgPSBjb252ZXJ0SnNvblNjaGVtYVRvWm9kU2NoZW1hKGpzb25TY2hlbWEuaXRlbXMsIHRydWUpO1xuICAgIGxldCBzY2hlbWEgPSBpbXBvcnRfem9kLnouYXJyYXkoaXRlbVNjaGVtYSkuZGVzY3JpYmUoanNvblNjaGVtYS5kZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHJlcXVpcmVkID8gc2NoZW1hIDogc2NoZW1hLm9wdGlvbmFsKCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKU09OIHNjaGVtYVwiKTtcbn1cblxuLy8gc3JjL3V0aWxzL3JhbmRvbS1pZC50c1xudmFyIGltcG9ydF91dWlkID0gcmVxdWlyZShcInV1aWRcIik7XG5mdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgcmV0dXJuIFwiY2stXCIgKyAoMCwgaW1wb3J0X3V1aWQudjQpKCk7XG59XG5mdW5jdGlvbiByYW5kb21VVUlEKCkge1xuICByZXR1cm4gKDAsIGltcG9ydF91dWlkLnY0KSgpO1xufVxuZnVuY3Rpb24gZGF0YVRvVVVJRChpbnB1dCwgbmFtZXNwYWNlKSB7XG4gIGNvbnN0IEJBU0VfTkFNRVNQQUNFID0gXCJlNGIwMTE2MC1mZjc0LTRjNmUtOWIyNy1kNTNjZDkzMGZlOGVcIjtcbiAgY29uc3QgYm91bmROYW1lc3BhY2UgPSBuYW1lc3BhY2UgPyAoMCwgaW1wb3J0X3V1aWQudjUpKG5hbWVzcGFjZSwgQkFTRV9OQU1FU1BBQ0UpIDogQkFTRV9OQU1FU1BBQ0U7XG4gIHJldHVybiAoMCwgaW1wb3J0X3V1aWQudjUpKGlucHV0LCBib3VuZE5hbWVzcGFjZSk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkVVVJRCh1dWlkKSB7XG4gIHJldHVybiAoMCwgaW1wb3J0X3V1aWQudmFsaWRhdGUpKHV1aWQpO1xufVxuXG4vLyBzcmMvdXRpbHMvaW5kZXgudHNcbmZ1bmN0aW9uIHBhcnNlSnNvbihqc29uLCBmYWxsYmFjayA9IFwidW5zZXRcIikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrID09PSBcInVuc2V0XCIgPyBudWxsIDogZmFsbGJhY2s7XG4gIH1cbn1cbmZ1bmN0aW9uIHRyeU1hcChpdGVtcywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGl0ZW1zLnJlZHVjZSgoYWNjLCBpdGVtLCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICB0cnkge1xuICAgICAgYWNjLnB1c2goY2FsbGJhY2soaXRlbSwgaW5kZXgsIGFycmF5KSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCBbXSk7XG59XG5mdW5jdGlvbiBpc01hY09TKCkge1xuICByZXR1cm4gL01hY3xpTWFjfE1hY2ludG9zaC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG59XG5cbi8vIHNyYy9jb25zdGFudHMvaW5kZXgudHNcbnZhciBDT1BJTE9UX0NMT1VEX0FQSV9VUkwgPSBcImh0dHBzOi8vYXBpLmNsb3VkLmNvcGlsb3RraXQuYWlcIjtcbnZhciBDT1BJTE9UX0NMT1VEX1ZFUlNJT04gPSBcInYxXCI7XG52YXIgQ09QSUxPVF9DTE9VRF9DSEFUX1VSTCA9IGAke0NPUElMT1RfQ0xPVURfQVBJX1VSTH0vY29waWxvdGtpdC8ke0NPUElMT1RfQ0xPVURfVkVSU0lPTn1gO1xudmFyIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSID0gXCJYLUNvcGlsb3RDbG91ZC1QdWJsaWMtQXBpLUtleVwiO1xuXG4vLyBzcmMvdGVsZW1ldHJ5L3RlbGVtZXRyeS1jbGllbnQudHNcbnZhciBpbXBvcnRfYW5hbHl0aWNzX25vZGUgPSByZXF1aXJlKFwiQHNlZ21lbnQvYW5hbHl0aWNzLW5vZGVcIik7XG5cbi8vIHNyYy90ZWxlbWV0cnkvdXRpbHMudHNcbnZhciBpbXBvcnRfY2hhbGsgPSBfX3RvRVNNKHJlcXVpcmUoXCJjaGFsa1wiKSk7XG5mdW5jdGlvbiBmbGF0dGVuT2JqZWN0KG9iaiwgcGFyZW50S2V5ID0gXCJcIiwgcmVzID0ge30pIHtcbiAgZm9yIChsZXQga2V5IGluIG9iaikge1xuICAgIGNvbnN0IHByb3BOYW1lID0gcGFyZW50S2V5ID8gYCR7cGFyZW50S2V5fS4ke2tleX1gIDoga2V5O1xuICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09IFwib2JqZWN0XCIgJiYgb2JqW2tleV0gIT09IG51bGwpIHtcbiAgICAgIGZsYXR0ZW5PYmplY3Qob2JqW2tleV0sIHByb3BOYW1lLCByZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNbcHJvcE5hbWVdID0gb2JqW2tleV07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHNyYy90ZWxlbWV0cnkvdGVsZW1ldHJ5LWNsaWVudC50c1xudmFyIGltcG9ydF91dWlkMiA9IHJlcXVpcmUoXCJ1dWlkXCIpO1xuXG4vLyBwYWNrYWdlLmpzb25cbnZhciB2ZXJzaW9uID0gXCIxLjEwLjRcIjtcblxuLy8gc3JjL3RlbGVtZXRyeS9zY2FyZi1jbGllbnQudHNcbnZhciBTQ0FSRl9CQVNFX1VSTCA9IGBodHRwczovL2NvcGlsb3RraXQuZ2F0ZXdheS5zY2FyZi5zaC8ke3ZlcnNpb259YDtcbnZhciBTY2FyZkNsaWVudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cbiAgYXN5bmMgbG9nRXZlbnQocHJvcGVydGllcykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiBjb250cm9sbGVyLmFib3J0KCksIDNlMyk7XG4gICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHByb3BlcnRpZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChrZXksIFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHVybCA9IGAke1NDQVJGX0JBU0VfVVJMfT8ke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCl9YDtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbFxuICAgICAgfSk7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQIGVycm9yISBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgfVxufTtcbnZhciBzY2FyZl9jbGllbnRfZGVmYXVsdCA9IG5ldyBTY2FyZkNsaWVudCgpO1xuXG4vLyBzcmMvdGVsZW1ldHJ5L3RlbGVtZXRyeS1jbGllbnQudHNcbnZhciBUZWxlbWV0cnlDbGllbnQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwYWNrYWdlTmFtZSxcbiAgICBwYWNrYWdlVmVyc2lvbixcbiAgICB0ZWxlbWV0cnlEaXNhYmxlZCxcbiAgICB0ZWxlbWV0cnlCYXNlVXJsLFxuICAgIHNhbXBsZVJhdGVcbiAgfSkge1xuICAgIHRoaXMuZ2xvYmFsUHJvcGVydGllcyA9IHt9O1xuICAgIHRoaXMuY2xvdWRDb25maWd1cmF0aW9uID0gbnVsbDtcbiAgICB0aGlzLnRlbGVtZXRyeURpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy5zYW1wbGVSYXRlID0gMC4wNTtcbiAgICB0aGlzLmFub255bW91c0lkID0gYGFub25fJHsoMCwgaW1wb3J0X3V1aWQyLnY0KSgpfWA7XG4gICAgdGhpcy5wYWNrYWdlTmFtZSA9IHBhY2thZ2VOYW1lO1xuICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBwYWNrYWdlVmVyc2lvbjtcbiAgICB0aGlzLnRlbGVtZXRyeURpc2FibGVkID0gdGVsZW1ldHJ5RGlzYWJsZWQgfHwgcHJvY2Vzcy5lbnYuQ09QSUxPVEtJVF9URUxFTUVUUllfRElTQUJMRUQgPT09IFwidHJ1ZVwiIHx8IHByb2Nlc3MuZW52LkNPUElMT1RLSVRfVEVMRU1FVFJZX0RJU0FCTEVEID09PSBcIjFcIiB8fCBwcm9jZXNzLmVudi5ET19OT1RfVFJBQ0sgPT09IFwidHJ1ZVwiIHx8IHByb2Nlc3MuZW52LkRPX05PVF9UUkFDSyA9PT0gXCIxXCI7XG4gICAgaWYgKHRoaXMudGVsZW1ldHJ5RGlzYWJsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTYW1wbGVSYXRlKHNhbXBsZVJhdGUpO1xuICAgIGNvbnN0IHdyaXRlS2V5ID0gcHJvY2Vzcy5lbnYuQ09QSUxPVEtJVF9TRUdNRU5UX1dSSVRFX0tFWSB8fCBcIm43WEFadFFDR1MydjF2dkJ5M0xnQkN2MmgzWTh3aGphXCI7XG4gICAgdGhpcy5zZWdtZW50ID0gbmV3IGltcG9ydF9hbmFseXRpY3Nfbm9kZS5BbmFseXRpY3Moe1xuICAgICAgd3JpdGVLZXlcbiAgICB9KTtcbiAgICB0aGlzLnNldEdsb2JhbFByb3BlcnRpZXMoe1xuICAgICAgXCJjb3BpbG90a2l0LnBhY2thZ2UubmFtZVwiOiBwYWNrYWdlTmFtZSxcbiAgICAgIFwiY29waWxvdGtpdC5wYWNrYWdlLnZlcnNpb25cIjogcGFja2FnZVZlcnNpb25cbiAgICB9KTtcbiAgfVxuICBzaG91bGRTZW5kRXZlbnQoKSB7XG4gICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5yYW5kb20oKTtcbiAgICByZXR1cm4gcmFuZG9tTnVtYmVyIDwgdGhpcy5zYW1wbGVSYXRlO1xuICB9XG4gIGFzeW5jIGNhcHR1cmUoZXZlbnQsIHByb3BlcnRpZXMpIHtcbiAgICBpZiAoIXRoaXMuc2hvdWxkU2VuZEV2ZW50KCkgfHwgIXRoaXMuc2VnbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmbGF0dGVuZWRQcm9wZXJ0aWVzID0gZmxhdHRlbk9iamVjdChwcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBwcm9wZXJ0aWVzV2l0aEdsb2JhbCA9IHtcbiAgICAgIC4uLnRoaXMuZ2xvYmFsUHJvcGVydGllcyxcbiAgICAgIC4uLmZsYXR0ZW5lZFByb3BlcnRpZXNcbiAgICB9O1xuICAgIGNvbnN0IG9yZGVyZWRQcm9wZXJ0aWVzV2l0aEdsb2JhbCA9IE9iamVjdC5rZXlzKHByb3BlcnRpZXNXaXRoR2xvYmFsKS5zb3J0KCkucmVkdWNlKFxuICAgICAgKG9iaiwga2V5KSA9PiB7XG4gICAgICAgIG9ialtrZXldID0gcHJvcGVydGllc1dpdGhHbG9iYWxba2V5XTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICk7XG4gICAgdGhpcy5zZWdtZW50LnRyYWNrKHtcbiAgICAgIGFub255bW91c0lkOiB0aGlzLmFub255bW91c0lkLFxuICAgICAgZXZlbnQsXG4gICAgICBwcm9wZXJ0aWVzOiB7IC4uLm9yZGVyZWRQcm9wZXJ0aWVzV2l0aEdsb2JhbCB9XG4gICAgfSk7XG4gICAgYXdhaXQgc2NhcmZfY2xpZW50X2RlZmF1bHQubG9nRXZlbnQoe1xuICAgICAgZXZlbnRcbiAgICB9KTtcbiAgfVxuICBzZXRHbG9iYWxQcm9wZXJ0aWVzKHByb3BlcnRpZXMpIHtcbiAgICBjb25zdCBmbGF0dGVuZWRQcm9wZXJ0aWVzID0gZmxhdHRlbk9iamVjdChwcm9wZXJ0aWVzKTtcbiAgICB0aGlzLmdsb2JhbFByb3BlcnRpZXMgPSB7IC4uLnRoaXMuZ2xvYmFsUHJvcGVydGllcywgLi4uZmxhdHRlbmVkUHJvcGVydGllcyB9O1xuICB9XG4gIHNldENsb3VkQ29uZmlndXJhdGlvbihwcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5jbG91ZENvbmZpZ3VyYXRpb24gPSBwcm9wZXJ0aWVzO1xuICAgIHRoaXMuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgICBjbG91ZDoge1xuICAgICAgICBwdWJsaWNBcGlLZXk6IHByb3BlcnRpZXMucHVibGljQXBpS2V5LFxuICAgICAgICBiYXNlVXJsOiBwcm9wZXJ0aWVzLmJhc2VVcmxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzZXRTYW1wbGVSYXRlKHNhbXBsZVJhdGUpIHtcbiAgICBsZXQgX3NhbXBsZVJhdGU7XG4gICAgX3NhbXBsZVJhdGUgPSBzYW1wbGVSYXRlID8/IDAuMDU7XG4gICAgaWYgKHByb2Nlc3MuZW52LkNPUElMT1RLSVRfVEVMRU1FVFJZX1NBTVBMRV9SQVRFKSB7XG4gICAgICBfc2FtcGxlUmF0ZSA9IHBhcnNlRmxvYXQocHJvY2Vzcy5lbnYuQ09QSUxPVEtJVF9URUxFTUVUUllfU0FNUExFX1JBVEUpO1xuICAgIH1cbiAgICBpZiAoX3NhbXBsZVJhdGUgPCAwIHx8IF9zYW1wbGVSYXRlID4gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2FtcGxlIHJhdGUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDFcIik7XG4gICAgfVxuICAgIHRoaXMuc2FtcGxlUmF0ZSA9IF9zYW1wbGVSYXRlO1xuICAgIHRoaXMuc2V0R2xvYmFsUHJvcGVydGllcyh7XG4gICAgICBzYW1wbGVSYXRlOiB0aGlzLnNhbXBsZVJhdGUsXG4gICAgICBzYW1wbGVSYXRlQWRqdXN0bWVudEZhY3RvcjogMSAtIHRoaXMuc2FtcGxlUmF0ZSxcbiAgICAgIHNhbXBsZVdlaWdodDogMSAvIHRoaXMuc2FtcGxlUmF0ZVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBzcmMvaW5kZXgudHNcbnZhciBDT1BJTE9US0lUX1ZFUlNJT04gPSB2ZXJzaW9uO1xuLy8gQW5ub3RhdGUgdGhlIENvbW1vbkpTIGV4cG9ydCBuYW1lcyBmb3IgRVNNIGltcG9ydCBpbiBub2RlOlxuMCAmJiAobW9kdWxlLmV4cG9ydHMgPSB7XG4gIEJBTk5FUl9FUlJPUl9OQU1FUyxcbiAgQ09QSUxPVEtJVF9WRVJTSU9OLFxuICBDT1BJTE9UX0NMT1VEX0FQSV9VUkwsXG4gIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwsXG4gIENPUElMT1RfQ0xPVURfRVJST1JfTkFNRVMsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSLFxuICBDT1BJTE9UX0NMT1VEX1ZFUlNJT04sXG4gIENvbmZpZ3VyYXRpb25FcnJvcixcbiAgQ29uc29sZUNvbG9ycyxcbiAgQ29uc29sZVN0eWxlcyxcbiAgQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3IsXG4gIENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdEVycm9yLFxuICBDb3BpbG90S2l0RXJyb3JDb2RlLFxuICBDb3BpbG90S2l0TG93TGV2ZWxFcnJvcixcbiAgQ29waWxvdEtpdE1pc3VzZUVycm9yLFxuICBDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdFZlcnNpb25NaXNtYXRjaEVycm9yLFxuICBFUlJPUl9DT05GSUcsXG4gIEVSUk9SX05BTUVTLFxuICBFcnJvclZpc2liaWxpdHksXG4gIE1pc3NpbmdQdWJsaWNBcGlLZXlFcnJvcixcbiAgUmVzb2x2ZWRDb3BpbG90S2l0RXJyb3IsXG4gIFNldmVyaXR5LFxuICBUZWxlbWV0cnlDbGllbnQsXG4gIFVwZ3JhZGVSZXF1aXJlZEVycm9yLFxuICBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hLFxuICBjb252ZXJ0SnNvblNjaGVtYVRvWm9kU2NoZW1hLFxuICBkYXRhVG9VVUlELFxuICBlbnN1cmVTdHJ1Y3R1cmVkRXJyb3IsXG4gIGV4ZWN1dGVDb25kaXRpb25zLFxuICBnZXRQb3NzaWJsZVZlcnNpb25NaXNtYXRjaCxcbiAgaXNNYWNPUyxcbiAgaXNTdHJ1Y3R1cmVkQ29waWxvdEtpdEVycm9yLFxuICBpc1ZhbGlkVVVJRCxcbiAganNvblNjaGVtYVRvQWN0aW9uUGFyYW1ldGVycyxcbiAgbG9nQ29waWxvdEtpdFBsYXRmb3JtTWVzc2FnZSxcbiAgbG9nU3R5bGVkLFxuICBwYXJzZUpzb24sXG4gIHB1YmxpY0FwaUtleVJlcXVpcmVkLFxuICByYW5kb21JZCxcbiAgcmFuZG9tVVVJRCxcbiAgc3R5bGVkQ29uc29sZSxcbiAgdHJ5TWFwXG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX: () => (/* reexport safe */ _max_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   NIL: () => (/* reexport safe */ _nil_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]),\n/* harmony export */   parse: () => (/* reexport safe */ _parse_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]),\n/* harmony export */   stringify: () => (/* reexport safe */ _stringify_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]),\n/* harmony export */   v1: () => (/* reexport safe */ _v1_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n/* harmony export */   v1ToV6: () => (/* reexport safe */ _v1ToV6_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]),\n/* harmony export */   v3: () => (/* reexport safe */ _v3_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]),\n/* harmony export */   v4: () => (/* reexport safe */ _v4_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]),\n/* harmony export */   v5: () => (/* reexport safe */ _v5_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]),\n/* harmony export */   v6: () => (/* reexport safe */ _v6_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]),\n/* harmony export */   v6ToV1: () => (/* reexport safe */ _v6ToV1_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]),\n/* harmony export */   v7: () => (/* reexport safe */ _v7_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]),\n/* harmony export */   validate: () => (/* reexport safe */ _validate_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"]),\n/* harmony export */   version: () => (/* reexport safe */ _version_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"])\n/* harmony export */ });\n/* harmony import */ var _max_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./max.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/max.js\");\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nil.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/nil.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./parse.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./v1.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var _v1ToV6_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./v1ToV6.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1ToV6.js\");\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./v3.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v3.js\");\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./v4.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./v5.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js\");\n/* harmony import */ var _v6_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./v6.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6.js\");\n/* harmony import */ var _v6ToV1_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./v6ToV1.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6ToV1.js\");\n/* harmony import */ var _v7_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./v7.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v7.js\");\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./validate.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./version.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/version.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwQztBQUNBO0FBQ0k7QUFDUTtBQUNkO0FBQ1E7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNRO0FBQ1I7QUFDWSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgZGVmYXVsdCBhcyBNQVggfSBmcm9tICcuL21heC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5JTCB9IGZyb20gJy4vbmlsLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgcGFyc2UgfSBmcm9tICcuL3BhcnNlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2MSB9IGZyb20gJy4vdjEuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2MVRvVjYgfSBmcm9tICcuL3YxVG9WNi5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHYzIH0gZnJvbSAnLi92My5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY0IH0gZnJvbSAnLi92NC5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY1IH0gZnJvbSAnLi92NS5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY2IH0gZnJvbSAnLi92Ni5qcyc7XG5leHBvcnQgeyBkZWZhdWx0IGFzIHY2VG9WMSB9IGZyb20gJy4vdjZUb1YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjcgfSBmcm9tICcuL3Y3LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmVyc2lvbiB9IGZyb20gJy4vdmVyc2lvbi5qcyc7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/max.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/max.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('ffffffff-ffff-ffff-ffff-ffffffffffff');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbWF4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxzQ0FBc0MiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL21heC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAnZmZmZmZmZmYtZmZmZi1mZmZmLWZmZmYtZmZmZmZmZmZmZmZmJzsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/max.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/md5.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/md5.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction md5(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return node_crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('md5').update(bytes).digest();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (md5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbWQ1LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFNBQVMsNkRBQWlCO0FBQzFCO0FBQ0EsaUVBQWUsR0FBRyIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbWQ1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjcnlwdG8gZnJvbSAnbm9kZTpjcnlwdG8nO1xuZnVuY3Rpb24gbWQ1KGJ5dGVzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzLCAndXRmOCcpO1xuICB9XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKGJ5dGVzKS5kaWdlc3QoKTtcbn1cbmV4cG9ydCBkZWZhdWx0IG1kNTsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/md5.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID: (node_crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID)\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQyxpRUFBZTtBQUNmLGNBQWMsK0RBQWlCO0FBQy9CLENBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL25hdGl2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ25vZGU6Y3J5cHRvJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRDogY3J5cHRvLnJhbmRvbVVVSURcbn07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/nil.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/nil.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('00000000-0000-0000-0000-000000000000');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxpRUFBZSxzQ0FBc0MiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL25pbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/nil.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  let v;\n  const arr = new Uint8Array(16);\n\n  // Parse ########-....-....-....-............\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff;\n\n  // Parse ........-####-....-....-............\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff;\n\n  // Parse ........-....-####-....-............\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff;\n\n  // Parse ........-....-....-####-............\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff;\n\n  // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7QUFDckM7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLEtBQUsiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3BhcnNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cbiAgbGV0IHY7XG4gIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTtcblxuICAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7XG5cbiAgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmO1xuXG4gIC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7XG5cbiAgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjtcblxuICAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyw4RUFBOEUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JlZ2V4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtOF1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkL2k7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\nlet poolPtr = rnds8Pool.length;\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    node_crypto__WEBPACK_IMPORTED_MODULE_0___default().randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQyx1Q0FBdUM7QUFDdkM7QUFDZTtBQUNmO0FBQ0EsSUFBSSxpRUFBcUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JuZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ25vZGU6Y3J5cHRvJztcbmNvbnN0IHJuZHM4UG9vbCA9IG5ldyBVaW50OEFycmF5KDI1Nik7IC8vICMgb2YgcmFuZG9tIHZhbHVlcyB0byBwcmUtYWxsb2NhdGVcbmxldCBwb29sUHRyID0gcm5kczhQb29sLmxlbmd0aDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgaWYgKHBvb2xQdHIgPiBybmRzOFBvb2wubGVuZ3RoIC0gMTYpIHtcbiAgICBjcnlwdG8ucmFuZG9tRmlsbFN5bmMocm5kczhQb29sKTtcbiAgICBwb29sUHRyID0gMDtcbiAgfVxuICByZXR1cm4gcm5kczhQb29sLnNsaWNlKHBvb2xQdHIsIHBvb2xQdHIgKz0gMTYpO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return node_crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('sha1').update(bytes).digest();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxTQUFTLDZEQUFpQjtBQUMxQjtBQUNBLGlFQUFlLElBQUkiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3NoYTEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdub2RlOmNyeXB0byc7XG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzLCAndXRmOCcpO1xuICB9XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5leHBvcnQgZGVmYXVsdCBzaGExOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxTQUFTIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIC8vXG4gIC8vIE5vdGUgdG8gZnV0dXJlLXNlbGY6IE5vLCB5b3UgY2FuJ3QgcmVtb3ZlIHRoZSBgdG9Mb3dlckNhc2UoKWAgY2FsbC5cbiAgLy8gUkVGOiBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC82NzcjaXNzdWVjb21tZW50LTE3NTczNTEzNTFcbiAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7XG4gIC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cbiAgcmV0dXJuIHV1aWQ7XG59XG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nlet _nodeId;\nlet _clockseq;\n\n// Previous uuid creation time\nlet _lastMSecs = 0;\nlet _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node;\n  let clockseq = options.clockseq;\n\n  // v1 only: Use cached `node` and `clockseq` values\n  if (!options._v6) {\n    if (!node) {\n      node = _nodeId;\n    }\n    if (clockseq == null) {\n      clockseq = _clockseq;\n    }\n  }\n\n  // Handle cases where we need entropy.  We do this lazily to minimize issues\n  // related to insufficient system entropy.  See #189\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    // Randomize node\n    if (node == null) {\n      node = [seedBytes[0], seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n\n      // v1 only: cache node value for reuse\n      if (!_nodeId && !options._v6) {\n        // per RFC4122 4.5: Set MAC multicast bit (v1 only)\n        node[0] |= 0x01; // Set multicast bit\n\n        _nodeId = node;\n      }\n    }\n\n    // Randomize clockseq\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n      if (_clockseq === undefined && !options._v6) {\n        _clockseq = clockseq;\n      }\n    }\n  }\n\n  // v1 & v6 timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so time is\n  // handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(b);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ3NCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELCtDQUFHOztBQUUzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQztBQUNwQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBO0FBQ0EsZ0JBQWdCLDhEQUFlO0FBQy9CO0FBQ0EsaUVBQWUsRUFBRSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxubGV0IF9ub2RlSWQ7XG5sZXQgX2Nsb2Nrc2VxO1xuXG4vLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcbmxldCBfbGFzdE1TZWNzID0gMDtcbmxldCBfbGFzdE5TZWNzID0gMDtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIGxldCBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICBjb25zdCBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsZXQgbm9kZSA9IG9wdGlvbnMubm9kZTtcbiAgbGV0IGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcTtcblxuICAvLyB2MSBvbmx5OiBVc2UgY2FjaGVkIGBub2RlYCBhbmQgYGNsb2Nrc2VxYCB2YWx1ZXNcbiAgaWYgKCFvcHRpb25zLl92Nikge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgbm9kZSA9IF9ub2RlSWQ7XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcTtcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgY2FzZXMgd2hlcmUgd2UgbmVlZCBlbnRyb3B5LiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzXG4gIC8vIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50IHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgY29uc3Qgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIC8vIFJhbmRvbWl6ZSBub2RlXG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgbm9kZSA9IFtzZWVkQnl0ZXNbMF0sIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXTtcblxuICAgICAgLy8gdjEgb25seTogY2FjaGUgbm9kZSB2YWx1ZSBmb3IgcmV1c2VcbiAgICAgIGlmICghX25vZGVJZCAmJiAhb3B0aW9ucy5fdjYpIHtcbiAgICAgICAgLy8gcGVyIFJGQzQxMjIgNC41OiBTZXQgTUFDIG11bHRpY2FzdCBiaXQgKHYxIG9ubHkpXG4gICAgICAgIG5vZGVbMF0gfD0gMHgwMTsgLy8gU2V0IG11bHRpY2FzdCBiaXRcblxuICAgICAgICBfbm9kZUlkID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBSYW5kb21pemUgY2xvY2tzZXFcbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICAgIGlmIChfY2xvY2tzZXEgPT09IHVuZGVmaW5lZCAmJiAhb3B0aW9ucy5fdjYpIHtcbiAgICAgICAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gdjEgJiB2NiB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc28gdGltZSBpc1xuICAvLyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG4gIGxldCBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpO1xuXG4gIC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcbiAgbGV0IG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxO1xuXG4gIC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcbiAgY29uc3QgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTtcblxuICAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7XG5cbiAgLy8gYHRpbWVfbG93YFxuICBjb25zdCB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICBjb25zdCB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAobGV0IG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG4gIHJldHVybiBidWYgfHwgdW5zYWZlU3RyaW5naWZ5KGIpO1xufVxuZXhwb3J0IGRlZmF1bHQgdjE7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1ToV6.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1ToV6.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v1ToV6)\n/* harmony export */ });\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n/**\n * Convert a v1 UUID to a v6 UUID\n *\n * @param {string|Uint8Array} uuid - The v1 UUID to convert to v6\n * @returns {string|Uint8Array} The v6 UUID as the same type as the `uuid` arg\n * (string or Uint8Array)\n */\nfunction v1ToV6(uuid) {\n  const v1Bytes = typeof uuid === 'string' ? (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid) : uuid;\n  const v6Bytes = _v1ToV6(v1Bytes);\n  return typeof uuid === 'string' ? (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(v6Bytes) : v6Bytes;\n}\n\n// Do the field transformation needed for v1 -> v6\nfunction _v1ToV6(v1Bytes, randomize = false) {\n  return Uint8Array.of((v1Bytes[6] & 0x0f) << 4 | v1Bytes[7] >> 4 & 0x0f, (v1Bytes[7] & 0x0f) << 4 | (v1Bytes[4] & 0xf0) >> 4, (v1Bytes[4] & 0x0f) << 4 | (v1Bytes[5] & 0xf0) >> 4, (v1Bytes[5] & 0x0f) << 4 | (v1Bytes[0] & 0xf0) >> 4, (v1Bytes[0] & 0x0f) << 4 | (v1Bytes[1] & 0xf0) >> 4, (v1Bytes[1] & 0x0f) << 4 | (v1Bytes[2] & 0xf0) >> 4, 0x60 | v1Bytes[2] & 0x0f, v1Bytes[3], v1Bytes[8], v1Bytes[9], v1Bytes[10], v1Bytes[11], v1Bytes[12], v1Bytes[13], v1Bytes[14], v1Bytes[15]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjFUb1Y2LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUNrQjs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNlO0FBQ2YsNkNBQTZDLHFEQUFLO0FBQ2xEO0FBQ0Esb0NBQW9DLDhEQUFlO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92MVRvVjYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYSB2MSBVVUlEIHRvIGEgdjYgVVVJRFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFVpbnQ4QXJyYXl9IHV1aWQgLSBUaGUgdjEgVVVJRCB0byBjb252ZXJ0IHRvIHY2XG4gKiBAcmV0dXJucyB7c3RyaW5nfFVpbnQ4QXJyYXl9IFRoZSB2NiBVVUlEIGFzIHRoZSBzYW1lIHR5cGUgYXMgdGhlIGB1dWlkYCBhcmdcbiAqIChzdHJpbmcgb3IgVWludDhBcnJheSlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdjFUb1Y2KHV1aWQpIHtcbiAgY29uc3QgdjFCeXRlcyA9IHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyA/IHBhcnNlKHV1aWQpIDogdXVpZDtcbiAgY29uc3QgdjZCeXRlcyA9IF92MVRvVjYodjFCeXRlcyk7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgPyB1bnNhZmVTdHJpbmdpZnkodjZCeXRlcykgOiB2NkJ5dGVzO1xufVxuXG4vLyBEbyB0aGUgZmllbGQgdHJhbnNmb3JtYXRpb24gbmVlZGVkIGZvciB2MSAtPiB2NlxuZnVuY3Rpb24gX3YxVG9WNih2MUJ5dGVzLCByYW5kb21pemUgPSBmYWxzZSkge1xuICByZXR1cm4gVWludDhBcnJheS5vZigodjFCeXRlc1s2XSAmIDB4MGYpIDw8IDQgfCB2MUJ5dGVzWzddID4+IDQgJiAweDBmLCAodjFCeXRlc1s3XSAmIDB4MGYpIDw8IDQgfCAodjFCeXRlc1s0XSAmIDB4ZjApID4+IDQsICh2MUJ5dGVzWzRdICYgMHgwZikgPDwgNCB8ICh2MUJ5dGVzWzVdICYgMHhmMCkgPj4gNCwgKHYxQnl0ZXNbNV0gJiAweDBmKSA8PCA0IHwgKHYxQnl0ZXNbMF0gJiAweGYwKSA+PiA0LCAodjFCeXRlc1swXSAmIDB4MGYpIDw8IDQgfCAodjFCeXRlc1sxXSAmIDB4ZjApID4+IDQsICh2MUJ5dGVzWzFdICYgMHgwZikgPDwgNCB8ICh2MUJ5dGVzWzJdICYgMHhmMCkgPj4gNCwgMHg2MCB8IHYxQnl0ZXNbMl0gJiAweDBmLCB2MUJ5dGVzWzNdLCB2MUJ5dGVzWzhdLCB2MUJ5dGVzWzldLCB2MUJ5dGVzWzEwXSwgdjFCeXRlc1sxMV0sIHYxQnl0ZXNbMTJdLCB2MUJ5dGVzWzEzXSwgdjFCeXRlc1sxNF0sIHYxQnl0ZXNbMTVdKTtcbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1ToV6.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v3.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v3.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/md5.js\");\n\n\nconst v3 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v3);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0E7QUFDM0IsV0FBVyxtREFBRyxhQUFhLCtDQUFHO0FBQzlCLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IG1kNSBmcm9tICcuL21kNS5qcyc7XG5jb25zdCB2MyA9IHYzNSgndjMnLCAweDMwLCBtZDUpO1xuZXhwb3J0IGRlZmF1bHQgdjM7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v3.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DNS: () => (/* binding */ DNS),\n/* harmony export */   URL: () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* binding */ v35)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\");\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n  return bytes;\n}\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    }\n\n    // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n    if (buf) {\n      offset = offset || 0;\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n      return buf;\n    }\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(bytes);\n  }\n\n  // Function#name is not settable on some platforms (#270)\n  try {\n    generateUUID.name = name;\n  } catch (err) {}\n\n  // For CommonJS default export support\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlEO0FBQ2xCO0FBQy9CO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1E7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQUs7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBZTtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YzNS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgY29uc3QgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgY29uc3QgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2MzUobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgdmFyIF9uYW1lc3BhY2U7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG4gICAgaWYgKCgoX25hbWVzcGFjZSA9IG5hbWVzcGFjZSkgPT09IG51bGwgfHwgX25hbWVzcGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hbWVzcGFjZS5sZW5ndGgpICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcbiAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShieXRlcyk7XG4gIH1cblxuICAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7XG4gIH0gY2F0Y2ggKGVycikge31cblxuICAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNOO0FBQ3NCO0FBQ2pEO0FBQ0EsTUFBTSxrREFBTTtBQUNaLFdBQVcsa0RBQU07QUFDakI7QUFDQTtBQUNBLGlEQUFpRCwrQ0FBRzs7QUFFcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBZTtBQUN4QjtBQUNBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHY0OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js\");\n\n\nconst v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0U7QUFDN0IsV0FBVyxtREFBRyxhQUFhLGdEQUFJO0FBQy9CLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbmNvbnN0IHY1ID0gdjM1KCd2NScsIDB4NTAsIHNoYTEpO1xuZXhwb3J0IGRlZmF1bHQgdjU7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v6)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1.js\");\n/* harmony import */ var _v1ToV6_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v1ToV6.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v1ToV6.js\");\n\n\n\n\n/**\n *\n * @param {object} options\n * @param {Uint8Array=} buf\n * @param {number=} offset\n * @returns\n */\nfunction v6(options = {}, buf, offset = 0) {\n  // v6 is v1 with different field layout, so we start with a v1 UUID, albeit\n  // with slightly different behavior around how the clock_seq and node fields\n  // are randomized, which is why we call v1 with _v6: true.\n  let bytes = (0,_v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    ...options,\n    _v6: true\n  }, new Uint8Array(16));\n\n  // Reorder the fields to v6 layout.\n  bytes = (0,_v1ToV6_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(bytes);\n\n  // Return as a byte array if requested\n  if (buf) {\n    for (let i = 0; i < 16; i++) {\n      buf[offset + i] = bytes[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(bytes);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjYuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpRDtBQUN4QjtBQUNROztBQUVqQztBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsYUFBYTtBQUN4QixXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNlLHdCQUF3QjtBQUN2QztBQUNBO0FBQ0E7QUFDQSxjQUFjLGtEQUFFO0FBQ2hCO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0EsVUFBVSxzREFBTTs7QUFFaEI7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBZTtBQUN4QiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHYxIGZyb20gJy4vdjEuanMnO1xuaW1wb3J0IHYxVG9WNiBmcm9tICcuL3YxVG9WNi5qcyc7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXk9fSBidWZcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb2Zmc2V0XG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2NihvcHRpb25zID0ge30sIGJ1Ziwgb2Zmc2V0ID0gMCkge1xuICAvLyB2NiBpcyB2MSB3aXRoIGRpZmZlcmVudCBmaWVsZCBsYXlvdXQsIHNvIHdlIHN0YXJ0IHdpdGggYSB2MSBVVUlELCBhbGJlaXRcbiAgLy8gd2l0aCBzbGlnaHRseSBkaWZmZXJlbnQgYmVoYXZpb3IgYXJvdW5kIGhvdyB0aGUgY2xvY2tfc2VxIGFuZCBub2RlIGZpZWxkc1xuICAvLyBhcmUgcmFuZG9taXplZCwgd2hpY2ggaXMgd2h5IHdlIGNhbGwgdjEgd2l0aCBfdjY6IHRydWUuXG4gIGxldCBieXRlcyA9IHYxKHtcbiAgICAuLi5vcHRpb25zLFxuICAgIF92NjogdHJ1ZVxuICB9LCBuZXcgVWludDhBcnJheSgxNikpO1xuXG4gIC8vIFJlb3JkZXIgdGhlIGZpZWxkcyB0byB2NiBsYXlvdXQuXG4gIGJ5dGVzID0gdjFUb1Y2KGJ5dGVzKTtcblxuICAvLyBSZXR1cm4gYXMgYSBieXRlIGFycmF5IGlmIHJlcXVlc3RlZFxuICBpZiAoYnVmKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuICByZXR1cm4gdW5zYWZlU3RyaW5naWZ5KGJ5dGVzKTtcbn0iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6ToV1.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6ToV1.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ v6ToV1)\n/* harmony export */ });\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n/**\n * Convert a v6 UUID to a v1 UUID\n *\n * @param {string|Uint8Array} uuid - The v6 UUID to convert to v6\n * @returns {string|Uint8Array} The v1 UUID as the same type as the `uuid` arg\n * (string or Uint8Array)\n */\nfunction v6ToV1(uuid) {\n  const v6Bytes = typeof uuid === 'string' ? (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid) : uuid;\n  const v1Bytes = _v6ToV1(v6Bytes);\n  return typeof uuid === 'string' ? (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(v1Bytes) : v1Bytes;\n}\n\n// Do the field transformation needed for v6 -> v1\nfunction _v6ToV1(v6Bytes) {\n  return Uint8Array.of((v6Bytes[3] & 0x0f) << 4 | v6Bytes[4] >> 4 & 0x0f, (v6Bytes[4] & 0x0f) << 4 | (v6Bytes[5] & 0xf0) >> 4, (v6Bytes[5] & 0x0f) << 4 | v6Bytes[6] & 0x0f, v6Bytes[7], (v6Bytes[1] & 0x0f) << 4 | (v6Bytes[2] & 0xf0) >> 4, (v6Bytes[2] & 0x0f) << 4 | (v6Bytes[3] & 0xf0) >> 4, 0x10 | (v6Bytes[0] & 0xf0) >> 4, (v6Bytes[0] & 0x0f) << 4 | (v6Bytes[1] & 0xf0) >> 4, v6Bytes[8], v6Bytes[9], v6Bytes[10], v6Bytes[11], v6Bytes[12], v6Bytes[13], v6Bytes[14], v6Bytes[15]);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjZUb1YxLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUNrQjs7QUFFakQ7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtQkFBbUI7QUFDOUIsYUFBYSxtQkFBbUI7QUFDaEM7QUFDQTtBQUNlO0FBQ2YsNkNBQTZDLHFEQUFLO0FBQ2xEO0FBQ0Esb0NBQW9DLDhEQUFlO0FBQ25EOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92NlRvVjEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYSB2NiBVVUlEIHRvIGEgdjEgVVVJRFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfFVpbnQ4QXJyYXl9IHV1aWQgLSBUaGUgdjYgVVVJRCB0byBjb252ZXJ0IHRvIHY2XG4gKiBAcmV0dXJucyB7c3RyaW5nfFVpbnQ4QXJyYXl9IFRoZSB2MSBVVUlEIGFzIHRoZSBzYW1lIHR5cGUgYXMgdGhlIGB1dWlkYCBhcmdcbiAqIChzdHJpbmcgb3IgVWludDhBcnJheSlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdjZUb1YxKHV1aWQpIHtcbiAgY29uc3QgdjZCeXRlcyA9IHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyA/IHBhcnNlKHV1aWQpIDogdXVpZDtcbiAgY29uc3QgdjFCeXRlcyA9IF92NlRvVjEodjZCeXRlcyk7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgPyB1bnNhZmVTdHJpbmdpZnkodjFCeXRlcykgOiB2MUJ5dGVzO1xufVxuXG4vLyBEbyB0aGUgZmllbGQgdHJhbnNmb3JtYXRpb24gbmVlZGVkIGZvciB2NiAtPiB2MVxuZnVuY3Rpb24gX3Y2VG9WMSh2NkJ5dGVzKSB7XG4gIHJldHVybiBVaW50OEFycmF5Lm9mKCh2NkJ5dGVzWzNdICYgMHgwZikgPDwgNCB8IHY2Qnl0ZXNbNF0gPj4gNCAmIDB4MGYsICh2NkJ5dGVzWzRdICYgMHgwZikgPDwgNCB8ICh2NkJ5dGVzWzVdICYgMHhmMCkgPj4gNCwgKHY2Qnl0ZXNbNV0gJiAweDBmKSA8PCA0IHwgdjZCeXRlc1s2XSAmIDB4MGYsIHY2Qnl0ZXNbN10sICh2NkJ5dGVzWzFdICYgMHgwZikgPDwgNCB8ICh2NkJ5dGVzWzJdICYgMHhmMCkgPj4gNCwgKHY2Qnl0ZXNbMl0gJiAweDBmKSA8PCA0IHwgKHY2Qnl0ZXNbM10gJiAweGYwKSA+PiA0LCAweDEwIHwgKHY2Qnl0ZXNbMF0gJiAweGYwKSA+PiA0LCAodjZCeXRlc1swXSAmIDB4MGYpIDw8IDQgfCAodjZCeXRlc1sxXSAmIDB4ZjApID4+IDQsIHY2Qnl0ZXNbOF0sIHY2Qnl0ZXNbOV0sIHY2Qnl0ZXNbMTBdLCB2NkJ5dGVzWzExXSwgdjZCeXRlc1sxMl0sIHY2Qnl0ZXNbMTNdLCB2NkJ5dGVzWzE0XSwgdjZCeXRlc1sxNV0pO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v6ToV1.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v7.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v7.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\n/**\n * UUID V7 - Unix Epoch time-based UUID\n *\n * The IETF has published RFC9562, introducing 3 new UUID versions (6,7,8). This\n * implementation of V7 is based on the accepted, though not yet approved,\n * revisions.\n *\n * RFC 9562:https://www.rfc-editor.org/rfc/rfc9562.html Universally Unique\n * IDentifiers (UUIDs)\n\n *\n * Sample V7 value:\n * https://www.rfc-editor.org/rfc/rfc9562.html#name-example-of-a-uuidv7-value\n *\n * Monotonic Bit Layout: RFC rfc9562.6.2 Method 1, Dedicated Counter Bits ref:\n *     https://www.rfc-editor.org/rfc/rfc9562.html#section-6.2-5.1\n *\n *   0                   1                   2                   3 0 1 2 3 4 5 6\n *   7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                          unix_ts_ms                           |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |          unix_ts_ms           |  ver  |        seq_hi         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |var|               seq_low               |        rand         |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *  |                             rand                              |\n *  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n *\n * seq is a 31 bit serialized counter; comprised of 12 bit seq_hi and 19 bit\n * seq_low, and randomly initialized upon timestamp change. 31 bit counter size\n * was selected as any bitwise operations in node are done as _signed_ 32 bit\n * ints. we exclude the sign bit.\n */\n\nlet _seqLow = null;\nlet _seqHigh = null;\nlet _msecs = 0;\nfunction v7(options, buf, offset) {\n  options = options || {};\n\n  // initialize buffer and pointer\n  let i = buf && offset || 0;\n  const b = buf || new Uint8Array(16);\n\n  // rnds is Uint8Array(16) filled with random bytes\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n  // milliseconds since unix epoch, 1970-01-01 00:00\n  const msecs = options.msecs !== undefined ? options.msecs : Date.now();\n\n  // seq is user provided 31 bit counter\n  let seq = options.seq !== undefined ? options.seq : null;\n\n  // initialize local seq high/low parts\n  let seqHigh = _seqHigh;\n  let seqLow = _seqLow;\n\n  // check if clock has advanced and user has not provided msecs\n  if (msecs > _msecs && options.msecs === undefined) {\n    _msecs = msecs;\n\n    // unless user provided seq, reset seq parts\n    if (seq !== null) {\n      seqHigh = null;\n      seqLow = null;\n    }\n  }\n\n  // if we have a user provided seq\n  if (seq !== null) {\n    // trim provided seq to 31 bits of value, avoiding overflow\n    if (seq > 0x7fffffff) {\n      seq = 0x7fffffff;\n    }\n\n    // split provided seq into high/low parts\n    seqHigh = seq >>> 19 & 0xfff;\n    seqLow = seq & 0x7ffff;\n  }\n\n  // randomly initialize seq\n  if (seqHigh === null || seqLow === null) {\n    seqHigh = rnds[6] & 0x7f;\n    seqHigh = seqHigh << 8 | rnds[7];\n    seqLow = rnds[8] & 0x3f; // pad for var\n    seqLow = seqLow << 8 | rnds[9];\n    seqLow = seqLow << 5 | rnds[10] >>> 3;\n  }\n\n  // increment seq if within msecs window\n  if (msecs + 10000 > _msecs && seq === null) {\n    if (++seqLow > 0x7ffff) {\n      seqLow = 0;\n      if (++seqHigh > 0xfff) {\n        seqHigh = 0;\n\n        // increment internal _msecs. this allows us to continue incrementing\n        // while staying monotonic. Note, once we hit 10k milliseconds beyond system\n        // clock, we will reset breaking monotonicity (after (2^31)*10000 generations)\n        _msecs++;\n      }\n    }\n  } else {\n    // resetting; we have advanced more than\n    // 10k milliseconds beyond system clock\n    _msecs = msecs;\n  }\n  _seqHigh = seqHigh;\n  _seqLow = seqLow;\n\n  // [bytes 0-5] 48 bits of local timestamp\n  b[i++] = _msecs / 0x10000000000 & 0xff;\n  b[i++] = _msecs / 0x100000000 & 0xff;\n  b[i++] = _msecs / 0x1000000 & 0xff;\n  b[i++] = _msecs / 0x10000 & 0xff;\n  b[i++] = _msecs / 0x100 & 0xff;\n  b[i++] = _msecs & 0xff;\n\n  // [byte 6] - set 4 bits of version (7) with first 4 bits seq_hi\n  b[i++] = seqHigh >>> 4 & 0x0f | 0x70;\n\n  // [byte 7] remaining 8 bits of seq_hi\n  b[i++] = seqHigh & 0xff;\n\n  // [byte 8] - variant (2 bits), first 6 bits seq_low\n  b[i++] = seqLow >>> 13 & 0x3f | 0x80;\n\n  // [byte 9] 8 bits seq_low\n  b[i++] = seqLow >>> 5 & 0xff;\n\n  // [byte 10] remaining 5 bits seq_low, 3 bits random\n  b[i++] = seqLow << 3 & 0xff | rnds[10] & 0x07;\n\n  // [bytes 11-15] always random\n  b[i++] = rnds[11];\n  b[i++] = rnds[12];\n  b[i++] = rnds[13];\n  b[i++] = rnds[14];\n  b[i++] = rnds[15];\n  return buf || (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(b);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v7);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ3NCOztBQUVqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpREFBaUQsK0NBQUc7O0FBRXBEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4REFBZTtBQUMvQjtBQUNBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y3LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHsgdW5zYWZlU3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuXG4vKipcbiAqIFVVSUQgVjcgLSBVbml4IEVwb2NoIHRpbWUtYmFzZWQgVVVJRFxuICpcbiAqIFRoZSBJRVRGIGhhcyBwdWJsaXNoZWQgUkZDOTU2MiwgaW50cm9kdWNpbmcgMyBuZXcgVVVJRCB2ZXJzaW9ucyAoNiw3LDgpLiBUaGlzXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiBWNyBpcyBiYXNlZCBvbiB0aGUgYWNjZXB0ZWQsIHRob3VnaCBub3QgeWV0IGFwcHJvdmVkLFxuICogcmV2aXNpb25zLlxuICpcbiAqIFJGQyA5NTYyOmh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5NTYyLmh0bWwgVW5pdmVyc2FsbHkgVW5pcXVlXG4gKiBJRGVudGlmaWVycyAoVVVJRHMpXG5cbiAqXG4gKiBTYW1wbGUgVjcgdmFsdWU6XG4gKiBodHRwczovL3d3dy5yZmMtZWRpdG9yLm9yZy9yZmMvcmZjOTU2Mi5odG1sI25hbWUtZXhhbXBsZS1vZi1hLXV1aWR2Ny12YWx1ZVxuICpcbiAqIE1vbm90b25pYyBCaXQgTGF5b3V0OiBSRkMgcmZjOTU2Mi42LjIgTWV0aG9kIDEsIERlZGljYXRlZCBDb3VudGVyIEJpdHMgcmVmOlxuICogICAgIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM5NTYyLmh0bWwjc2VjdGlvbi02LjItNS4xXG4gKlxuICogICAwICAgICAgICAgICAgICAgICAgIDEgICAgICAgICAgICAgICAgICAgMiAgICAgICAgICAgICAgICAgICAzIDAgMSAyIDMgNCA1IDZcbiAqICAgNyA4IDkgMCAxIDIgMyA0IDUgNiA3IDggOSAwIDEgMiAzIDQgNSA2IDcgOCA5IDAgMVxuICogICstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rXG4gKiAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgdW5peF90c19tcyAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xuICogIHwgICAgICAgICAgdW5peF90c19tcyAgICAgICAgICAgfCAgdmVyICB8ICAgICAgICBzZXFfaGkgICAgICAgICB8XG4gKiAgKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLStcbiAqICB8dmFyfCAgICAgICAgICAgICAgIHNlcV9sb3cgICAgICAgICAgICAgICB8ICAgICAgICByYW5kICAgICAgICAgfFxuICogICstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rXG4gKiAgfCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqICArLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstKy0rLSstK1xuICpcbiAqIHNlcSBpcyBhIDMxIGJpdCBzZXJpYWxpemVkIGNvdW50ZXI7IGNvbXByaXNlZCBvZiAxMiBiaXQgc2VxX2hpIGFuZCAxOSBiaXRcbiAqIHNlcV9sb3csIGFuZCByYW5kb21seSBpbml0aWFsaXplZCB1cG9uIHRpbWVzdGFtcCBjaGFuZ2UuIDMxIGJpdCBjb3VudGVyIHNpemVcbiAqIHdhcyBzZWxlY3RlZCBhcyBhbnkgYml0d2lzZSBvcGVyYXRpb25zIGluIG5vZGUgYXJlIGRvbmUgYXMgX3NpZ25lZF8gMzIgYml0XG4gKiBpbnRzLiB3ZSBleGNsdWRlIHRoZSBzaWduIGJpdC5cbiAqL1xuXG5sZXQgX3NlcUxvdyA9IG51bGw7XG5sZXQgX3NlcUhpZ2ggPSBudWxsO1xubGV0IF9tc2VjcyA9IDA7XG5mdW5jdGlvbiB2NyhvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBpbml0aWFsaXplIGJ1ZmZlciBhbmQgcG9pbnRlclxuICBsZXQgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgY29uc3QgYiA9IGJ1ZiB8fCBuZXcgVWludDhBcnJheSgxNik7XG5cbiAgLy8gcm5kcyBpcyBVaW50OEFycmF5KDE2KSBmaWxsZWQgd2l0aCByYW5kb20gYnl0ZXNcbiAgY29uc3Qgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgLy8gbWlsbGlzZWNvbmRzIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDBcbiAgY29uc3QgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogRGF0ZS5ub3coKTtcblxuICAvLyBzZXEgaXMgdXNlciBwcm92aWRlZCAzMSBiaXQgY291bnRlclxuICBsZXQgc2VxID0gb3B0aW9ucy5zZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc2VxIDogbnVsbDtcblxuICAvLyBpbml0aWFsaXplIGxvY2FsIHNlcSBoaWdoL2xvdyBwYXJ0c1xuICBsZXQgc2VxSGlnaCA9IF9zZXFIaWdoO1xuICBsZXQgc2VxTG93ID0gX3NlcUxvdztcblxuICAvLyBjaGVjayBpZiBjbG9jayBoYXMgYWR2YW5jZWQgYW5kIHVzZXIgaGFzIG5vdCBwcm92aWRlZCBtc2Vjc1xuICBpZiAobXNlY3MgPiBfbXNlY3MgJiYgb3B0aW9ucy5tc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgX21zZWNzID0gbXNlY3M7XG5cbiAgICAvLyB1bmxlc3MgdXNlciBwcm92aWRlZCBzZXEsIHJlc2V0IHNlcSBwYXJ0c1xuICAgIGlmIChzZXEgIT09IG51bGwpIHtcbiAgICAgIHNlcUhpZ2ggPSBudWxsO1xuICAgICAgc2VxTG93ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBpZiB3ZSBoYXZlIGEgdXNlciBwcm92aWRlZCBzZXFcbiAgaWYgKHNlcSAhPT0gbnVsbCkge1xuICAgIC8vIHRyaW0gcHJvdmlkZWQgc2VxIHRvIDMxIGJpdHMgb2YgdmFsdWUsIGF2b2lkaW5nIG92ZXJmbG93XG4gICAgaWYgKHNlcSA+IDB4N2ZmZmZmZmYpIHtcbiAgICAgIHNlcSA9IDB4N2ZmZmZmZmY7XG4gICAgfVxuXG4gICAgLy8gc3BsaXQgcHJvdmlkZWQgc2VxIGludG8gaGlnaC9sb3cgcGFydHNcbiAgICBzZXFIaWdoID0gc2VxID4+PiAxOSAmIDB4ZmZmO1xuICAgIHNlcUxvdyA9IHNlcSAmIDB4N2ZmZmY7XG4gIH1cblxuICAvLyByYW5kb21seSBpbml0aWFsaXplIHNlcVxuICBpZiAoc2VxSGlnaCA9PT0gbnVsbCB8fCBzZXFMb3cgPT09IG51bGwpIHtcbiAgICBzZXFIaWdoID0gcm5kc1s2XSAmIDB4N2Y7XG4gICAgc2VxSGlnaCA9IHNlcUhpZ2ggPDwgOCB8IHJuZHNbN107XG4gICAgc2VxTG93ID0gcm5kc1s4XSAmIDB4M2Y7IC8vIHBhZCBmb3IgdmFyXG4gICAgc2VxTG93ID0gc2VxTG93IDw8IDggfCBybmRzWzldO1xuICAgIHNlcUxvdyA9IHNlcUxvdyA8PCA1IHwgcm5kc1sxMF0gPj4+IDM7XG4gIH1cblxuICAvLyBpbmNyZW1lbnQgc2VxIGlmIHdpdGhpbiBtc2VjcyB3aW5kb3dcbiAgaWYgKG1zZWNzICsgMTAwMDAgPiBfbXNlY3MgJiYgc2VxID09PSBudWxsKSB7XG4gICAgaWYgKCsrc2VxTG93ID4gMHg3ZmZmZikge1xuICAgICAgc2VxTG93ID0gMDtcbiAgICAgIGlmICgrK3NlcUhpZ2ggPiAweGZmZikge1xuICAgICAgICBzZXFIaWdoID0gMDtcblxuICAgICAgICAvLyBpbmNyZW1lbnQgaW50ZXJuYWwgX21zZWNzLiB0aGlzIGFsbG93cyB1cyB0byBjb250aW51ZSBpbmNyZW1lbnRpbmdcbiAgICAgICAgLy8gd2hpbGUgc3RheWluZyBtb25vdG9uaWMuIE5vdGUsIG9uY2Ugd2UgaGl0IDEwayBtaWxsaXNlY29uZHMgYmV5b25kIHN5c3RlbVxuICAgICAgICAvLyBjbG9jaywgd2Ugd2lsbCByZXNldCBicmVha2luZyBtb25vdG9uaWNpdHkgKGFmdGVyICgyXjMxKSoxMDAwMCBnZW5lcmF0aW9ucylcbiAgICAgICAgX21zZWNzKys7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIHJlc2V0dGluZzsgd2UgaGF2ZSBhZHZhbmNlZCBtb3JlIHRoYW5cbiAgICAvLyAxMGsgbWlsbGlzZWNvbmRzIGJleW9uZCBzeXN0ZW0gY2xvY2tcbiAgICBfbXNlY3MgPSBtc2VjcztcbiAgfVxuICBfc2VxSGlnaCA9IHNlcUhpZ2g7XG4gIF9zZXFMb3cgPSBzZXFMb3c7XG5cbiAgLy8gW2J5dGVzIDAtNV0gNDggYml0cyBvZiBsb2NhbCB0aW1lc3RhbXBcbiAgYltpKytdID0gX21zZWNzIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGJbaSsrXSA9IF9tc2VjcyAvIDB4MTAwMDAwMDAwICYgMHhmZjtcbiAgYltpKytdID0gX21zZWNzIC8gMHgxMDAwMDAwICYgMHhmZjtcbiAgYltpKytdID0gX21zZWNzIC8gMHgxMDAwMCAmIDB4ZmY7XG4gIGJbaSsrXSA9IF9tc2VjcyAvIDB4MTAwICYgMHhmZjtcbiAgYltpKytdID0gX21zZWNzICYgMHhmZjtcblxuICAvLyBbYnl0ZSA2XSAtIHNldCA0IGJpdHMgb2YgdmVyc2lvbiAoNykgd2l0aCBmaXJzdCA0IGJpdHMgc2VxX2hpXG4gIGJbaSsrXSA9IHNlcUhpZ2ggPj4+IDQgJiAweDBmIHwgMHg3MDtcblxuICAvLyBbYnl0ZSA3XSByZW1haW5pbmcgOCBiaXRzIG9mIHNlcV9oaVxuICBiW2krK10gPSBzZXFIaWdoICYgMHhmZjtcblxuICAvLyBbYnl0ZSA4XSAtIHZhcmlhbnQgKDIgYml0cyksIGZpcnN0IDYgYml0cyBzZXFfbG93XG4gIGJbaSsrXSA9IHNlcUxvdyA+Pj4gMTMgJiAweDNmIHwgMHg4MDtcblxuICAvLyBbYnl0ZSA5XSA4IGJpdHMgc2VxX2xvd1xuICBiW2krK10gPSBzZXFMb3cgPj4+IDUgJiAweGZmO1xuXG4gIC8vIFtieXRlIDEwXSByZW1haW5pbmcgNSBiaXRzIHNlcV9sb3csIDMgYml0cyByYW5kb21cbiAgYltpKytdID0gc2VxTG93IDw8IDMgJiAweGZmIHwgcm5kc1sxMF0gJiAweDA3O1xuXG4gIC8vIFtieXRlcyAxMS0xNV0gYWx3YXlzIHJhbmRvbVxuICBiW2krK10gPSBybmRzWzExXTtcbiAgYltpKytdID0gcm5kc1sxMl07XG4gIGJbaSsrXSA9IHJuZHNbMTNdO1xuICBiW2krK10gPSBybmRzWzE0XTtcbiAgYltpKytdID0gcm5kc1sxNV07XG4gIHJldHVybiBidWYgfHwgdW5zYWZlU3RyaW5naWZ5KGIpO1xufVxuZXhwb3J0IGRlZmF1bHQgdjc7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v7.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7QUFDL0I7QUFDQSxxQ0FBcUMsaURBQUs7QUFDMUM7QUFDQSxpRUFBZSxRQUFRIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92YWxpZGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/version.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/version.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n\nfunction version(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  return parseInt(uuid.slice(14, 15), 16);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (version);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUNyQztBQUNBLE9BQU8sd0RBQVE7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLE9BQU8iLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3ZlcnNpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG4gIHJldHVybiBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxNSksIDE2KTtcbn1cbmV4cG9ydCBkZWZhdWx0IHZlcnNpb247Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2IDV5OHF.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-2IDV5OHF.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SUGGESTION_RETRY_CONFIG: () => (/* binding */ SUGGESTION_RETRY_CONFIG)\n/* harmony export */ });\n// src/utils/suggestions-constants.ts\nvar SUGGESTION_RETRY_CONFIG = {\n  MAX_RETRIES: 3,\n  COOLDOWN_MS: 5e3\n  // 5 seconds\n};\n\n\n//# sourceMappingURL=chunk-2IDV5OHF.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTJJRFY1T0hGLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay0ySURWNU9IRi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL3N1Z2dlc3Rpb25zLWNvbnN0YW50cy50c1xudmFyIFNVR0dFU1RJT05fUkVUUllfQ09ORklHID0ge1xuICBNQVhfUkVUUklFUzogMyxcbiAgQ09PTERPV05fTVM6IDVlM1xuICAvLyA1IHNlY29uZHNcbn07XG5cbmV4cG9ydCB7XG4gIFNVR0dFU1RJT05fUkVUUllfQ09ORklHXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstMklEVjVPSEYubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2IDV5OHF.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2MGJO3FY.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-2MGJO3FY.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotMessages: () => (/* binding */ CopilotMessages),\n/* harmony export */   MessagesTapProvider: () => (/* binding */ MessagesTapProvider),\n/* harmony export */   useMessagesTap: () => (/* binding */ useMessagesTap)\n/* harmony export */ });\n/* harmony import */ var _chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-ICIK2BSB.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-ZLQVRPDS.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n\n\n// src/components/copilot-provider/copilot-messages.tsx\n\n\n\n\nvar MessagesTapContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useMessagesTap() {\n  const tap = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(MessagesTapContext);\n  if (!tap)\n    throw new Error(\"useMessagesTap must be used inside <MessagesTapProvider>\");\n  return tap;\n}\nfunction MessagesTapProvider({ children }) {\n  const messagesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n  const tapRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    getMessagesFromTap: () => messagesRef.current,\n    updateTapMessages: (messages) => {\n      messagesRef.current = messages;\n    }\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MessagesTapContext.Provider, { value: tapRef.current, children });\n}\nfunction CopilotMessages({ children }) {\n  const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const lastLoadedThreadId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const lastLoadedAgentName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const lastLoadedMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const { updateTapMessages } = useMessagesTap();\n  const { threadId, agentSession, runtimeClient, showDevConsole, onError, copilotApiConfig } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const { setBannerError } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n  const traceUIError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (error, originalError) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_4__.__async)(this, null, function* () {\n      if (!onError || !copilotApiConfig.publicApiKey)\n        return;\n      try {\n        const traceEvent = {\n          type: \"error\",\n          timestamp: Date.now(),\n          context: {\n            source: \"ui\",\n            request: {\n              operation: \"loadAgentState\",\n              url: copilotApiConfig.chatApiEndpoint,\n              startTime: Date.now()\n            },\n            technical: {\n              environment: \"browser\",\n              userAgent: typeof navigator !== \"undefined\" ? navigator.userAgent : void 0,\n              stackTrace: originalError instanceof Error ? originalError.stack : void 0\n            }\n          },\n          error\n        };\n        yield onError(traceEvent);\n      } catch (traceError) {\n        console.error(\"Error in CopilotMessages onError handler:\", traceError);\n      }\n    }),\n    [onError, copilotApiConfig.publicApiKey, copilotApiConfig.chatApiEndpoint]\n  );\n  const createStructuredError = (gqlError) => {\n    const extensions = gqlError.extensions;\n    const originalError = extensions == null ? void 0 : extensions.originalError;\n    if (originalError == null ? void 0 : originalError.stack) {\n      if (originalError.stack.includes(\"CopilotApiDiscoveryError\")) {\n        return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitApiDiscoveryError({ message: originalError.message });\n      }\n      if (originalError.stack.includes(\"CopilotKitRemoteEndpointDiscoveryError\")) {\n        return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitRemoteEndpointDiscoveryError({ message: originalError.message });\n      }\n      if (originalError.stack.includes(\"CopilotKitAgentDiscoveryError\")) {\n        return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitAgentDiscoveryError({\n          agentName: \"\",\n          availableAgents: []\n        });\n      }\n    }\n    const message = (originalError == null ? void 0 : originalError.message) || gqlError.message;\n    const code = extensions == null ? void 0 : extensions.code;\n    if (code) {\n      return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({ message, code });\n    }\n    return null;\n  };\n  const handleGraphQLErrors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (error) => {\n      var _a;\n      if ((_a = error.graphQLErrors) == null ? void 0 : _a.length) {\n        const graphQLErrors = error.graphQLErrors;\n        const routeError = (gqlError) => {\n          const extensions = gqlError.extensions;\n          const visibility = extensions == null ? void 0 : extensions.visibility;\n          const isDev = (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__.shouldShowDevConsole)(showDevConsole);\n          if (!isDev) {\n            console.error(\"CopilotKit Error (hidden in production):\", gqlError.message);\n            return;\n          }\n          if (visibility === _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.ErrorVisibility.SILENT) {\n            console.error(\"CopilotKit Silent Error:\", gqlError.message);\n            return;\n          }\n          const ckError = createStructuredError(gqlError);\n          if (ckError) {\n            setBannerError(ckError);\n            traceUIError(ckError, gqlError);\n          } else {\n            const fallbackError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({\n              message: gqlError.message,\n              code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitErrorCode.UNKNOWN\n            });\n            setBannerError(fallbackError);\n            traceUIError(fallbackError, gqlError);\n          }\n        };\n        graphQLErrors.forEach(routeError);\n      } else {\n        const isDev = (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__.shouldShowDevConsole)(showDevConsole);\n        if (!isDev) {\n          console.error(\"CopilotKit Error (hidden in production):\", error);\n        } else {\n          const fallbackError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({\n            message: (error == null ? void 0 : error.message) || String(error),\n            code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitErrorCode.UNKNOWN\n          });\n          setBannerError(fallbackError);\n          traceUIError(fallbackError, error);\n        }\n      }\n    },\n    [setBannerError, showDevConsole, traceUIError]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!threadId || threadId === lastLoadedThreadId.current)\n      return;\n    if (threadId === lastLoadedThreadId.current && (agentSession == null ? void 0 : agentSession.agentName) === lastLoadedAgentName.current) {\n      return;\n    }\n    const fetchMessages = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_4__.__async)(this, null, function* () {\n      var _a, _b, _c;\n      if (!(agentSession == null ? void 0 : agentSession.agentName))\n        return;\n      const result = yield runtimeClient.loadAgentState({\n        threadId,\n        agentName: agentSession == null ? void 0 : agentSession.agentName\n      });\n      if (result.error) {\n        lastLoadedThreadId.current = threadId;\n        lastLoadedAgentName.current = agentSession == null ? void 0 : agentSession.agentName;\n        handleGraphQLErrors(result.error);\n        return;\n      }\n      const newMessages = (_b = (_a = result.data) == null ? void 0 : _a.loadAgentState) == null ? void 0 : _b.messages;\n      if (newMessages === lastLoadedMessages.current)\n        return;\n      if ((_c = result.data) == null ? void 0 : _c.loadAgentState) {\n        lastLoadedMessages.current = newMessages;\n        lastLoadedThreadId.current = threadId;\n        lastLoadedAgentName.current = agentSession == null ? void 0 : agentSession.agentName;\n        const messages2 = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_7__.loadMessagesFromJsonRepresentation)(JSON.parse(newMessages || \"[]\"));\n        setMessages(messages2);\n      }\n    });\n    void fetchMessages();\n  }, [threadId, agentSession == null ? void 0 : agentSession.agentName]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    updateTapMessages(messages);\n  }, [messages, updateTapMessages]);\n  const memoizedChildren = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => children, [children]);\n  const [suggestions, setSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_8__.CopilotMessagesContext.Provider,\n    {\n      value: {\n        messages,\n        setMessages,\n        suggestions,\n        setSuggestions\n      },\n      children: memoizedChildren\n    }\n  );\n}\n\n\n//# sourceMappingURL=chunk-2MGJO3FY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTJNR0pPM0ZZLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUdBO0FBR0E7QUFHQTs7QUFFOUI7QUFTZTtBQUd5QjtBQVFaO0FBQ1k7QUFDeEMseUJBQXlCLG9EQUFhO0FBQ3RDO0FBQ0EsY0FBYyxpREFBVTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixVQUFVO0FBQ3pDLHNCQUFzQiw2Q0FBTTtBQUM1QixpQkFBaUIsNkNBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLHNEQUFHLGdDQUFnQyxpQ0FBaUM7QUFDN0Y7QUFDQSwyQkFBMkIsVUFBVTtBQUNyQyxrQ0FBa0MsK0NBQVE7QUFDMUMsNkJBQTZCLDZDQUFNO0FBQ25DLDhCQUE4Qiw2Q0FBTTtBQUNwQyw2QkFBNkIsNkNBQU07QUFDbkMsVUFBVSxvQkFBb0I7QUFDOUIsVUFBVSxtRkFBbUYsRUFBRSxzRUFBaUI7QUFDaEgsVUFBVSxpQkFBaUIsRUFBRSw2REFBUTtBQUNyQyx1QkFBdUIsa0RBQVc7QUFDbEMsOEJBQThCLDREQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLDJFQUEyQixHQUFHLGdDQUFnQztBQUNqRjtBQUNBO0FBQ0EsbUJBQW1CLHNGQUFzQyxHQUFHLGdDQUFnQztBQUM1RjtBQUNBO0FBQ0EsbUJBQW1CLDZFQUE2QjtBQUNoRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsK0RBQWUsR0FBRyxlQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5RUFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsK0RBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1osc0NBQXNDLCtEQUFlO0FBQ3JEO0FBQ0Esb0JBQW9CLG1FQUFtQjtBQUN2QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixzQkFBc0IseUVBQW9CO0FBQzFDO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0NBQW9DLCtEQUFlO0FBQ25EO0FBQ0Esa0JBQWtCLG1FQUFtQjtBQUNyQyxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDREQUFPO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrR0FBa0M7QUFDNUQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQSxHQUFHO0FBQ0gsMkJBQTJCLDhDQUFPO0FBQ2xDLHdDQUF3QywrQ0FBUTtBQUNoRCx5QkFBeUIsc0RBQUc7QUFDNUIsSUFBSSx1RUFBc0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay0yTUdKTzNGWS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgc2hvdWxkU2hvd0RldkNvbnNvbGVcbn0gZnJvbSBcIi4vY2h1bmstSUNJSzJCU0IubWpzXCI7XG5pbXBvcnQge1xuICB1c2VUb2FzdFxufSBmcm9tIFwiLi9jaHVuay1FRkw1T0JLTi5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuaW1wb3J0IHtcbiAgQ29waWxvdE1lc3NhZ2VzQ29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1aTFFWUlBEUy5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NvcGlsb3QtcHJvdmlkZXIvY29waWxvdC1tZXNzYWdlcy50c3hcbmltcG9ydCB7XG4gIHVzZUVmZmVjdCxcbiAgdXNlU3RhdGUsXG4gIHVzZVJlZixcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZU1lbW8sXG4gIGNyZWF0ZUNvbnRleHQsXG4gIHVzZUNvbnRleHRcbn0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBsb2FkTWVzc2FnZXNGcm9tSnNvblJlcHJlc2VudGF0aW9uXG59IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7XG4gIEVycm9yVmlzaWJpbGl0eSxcbiAgQ29waWxvdEtpdEFwaURpc2NvdmVyeUVycm9yLFxuICBDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3IsXG4gIENvcGlsb3RLaXRFcnJvcixcbiAgQ29waWxvdEtpdEVycm9yQ29kZVxufSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBNZXNzYWdlc1RhcENvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuZnVuY3Rpb24gdXNlTWVzc2FnZXNUYXAoKSB7XG4gIGNvbnN0IHRhcCA9IHVzZUNvbnRleHQoTWVzc2FnZXNUYXBDb250ZXh0KTtcbiAgaWYgKCF0YXApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlTWVzc2FnZXNUYXAgbXVzdCBiZSB1c2VkIGluc2lkZSA8TWVzc2FnZXNUYXBQcm92aWRlcj5cIik7XG4gIHJldHVybiB0YXA7XG59XG5mdW5jdGlvbiBNZXNzYWdlc1RhcFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCBtZXNzYWdlc1JlZiA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IHRhcFJlZiA9IHVzZVJlZih7XG4gICAgZ2V0TWVzc2FnZXNGcm9tVGFwOiAoKSA9PiBtZXNzYWdlc1JlZi5jdXJyZW50LFxuICAgIHVwZGF0ZVRhcE1lc3NhZ2VzOiAobWVzc2FnZXMpID0+IHtcbiAgICAgIG1lc3NhZ2VzUmVmLmN1cnJlbnQgPSBtZXNzYWdlcztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChNZXNzYWdlc1RhcENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHRhcFJlZi5jdXJyZW50LCBjaGlsZHJlbiB9KTtcbn1cbmZ1bmN0aW9uIENvcGlsb3RNZXNzYWdlcyh7IGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IGxhc3RMb2FkZWRUaHJlYWRJZCA9IHVzZVJlZigpO1xuICBjb25zdCBsYXN0TG9hZGVkQWdlbnROYW1lID0gdXNlUmVmKCk7XG4gIGNvbnN0IGxhc3RMb2FkZWRNZXNzYWdlcyA9IHVzZVJlZigpO1xuICBjb25zdCB7IHVwZGF0ZVRhcE1lc3NhZ2VzIH0gPSB1c2VNZXNzYWdlc1RhcCgpO1xuICBjb25zdCB7IHRocmVhZElkLCBhZ2VudFNlc3Npb24sIHJ1bnRpbWVDbGllbnQsIHNob3dEZXZDb25zb2xlLCBvbkVycm9yLCBjb3BpbG90QXBpQ29uZmlnIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCB7IHNldEJhbm5lckVycm9yIH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCB0cmFjZVVJRXJyb3IgPSB1c2VDYWxsYmFjayhcbiAgICAoZXJyb3IsIG9yaWdpbmFsRXJyb3IpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGlmICghb25FcnJvciB8fCAhY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXkpXG4gICAgICAgIHJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRyYWNlRXZlbnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICBzb3VyY2U6IFwidWlcIixcbiAgICAgICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICAgICAgb3BlcmF0aW9uOiBcImxvYWRBZ2VudFN0YXRlXCIsXG4gICAgICAgICAgICAgIHVybDogY29waWxvdEFwaUNvbmZpZy5jaGF0QXBpRW5kcG9pbnQsXG4gICAgICAgICAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgICAgICBlbnZpcm9ubWVudDogXCJicm93c2VyXCIsXG4gICAgICAgICAgICAgIHVzZXJBZ2VudDogdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiB2b2lkIDAsXG4gICAgICAgICAgICAgIHN0YWNrVHJhY2U6IG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IG9yaWdpbmFsRXJyb3Iuc3RhY2sgOiB2b2lkIDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGVycm9yXG4gICAgICAgIH07XG4gICAgICAgIHlpZWxkIG9uRXJyb3IodHJhY2VFdmVudCk7XG4gICAgICB9IGNhdGNoICh0cmFjZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBDb3BpbG90TWVzc2FnZXMgb25FcnJvciBoYW5kbGVyOlwiLCB0cmFjZUVycm9yKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbb25FcnJvciwgY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXksIGNvcGlsb3RBcGlDb25maWcuY2hhdEFwaUVuZHBvaW50XVxuICApO1xuICBjb25zdCBjcmVhdGVTdHJ1Y3R1cmVkRXJyb3IgPSAoZ3FsRXJyb3IpID0+IHtcbiAgICBjb25zdCBleHRlbnNpb25zID0gZ3FsRXJyb3IuZXh0ZW5zaW9ucztcbiAgICBjb25zdCBvcmlnaW5hbEVycm9yID0gZXh0ZW5zaW9ucyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZW5zaW9ucy5vcmlnaW5hbEVycm9yO1xuICAgIGlmIChvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLnN0YWNrKSB7XG4gICAgICBpZiAob3JpZ2luYWxFcnJvci5zdGFjay5pbmNsdWRlcyhcIkNvcGlsb3RBcGlEaXNjb3ZlcnlFcnJvclwiKSkge1xuICAgICAgICByZXR1cm4gbmV3IENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcih7IG1lc3NhZ2U6IG9yaWdpbmFsRXJyb3IubWVzc2FnZSB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChvcmlnaW5hbEVycm9yLnN0YWNrLmluY2x1ZGVzKFwiQ29waWxvdEtpdFJlbW90ZUVuZHBvaW50RGlzY292ZXJ5RXJyb3JcIikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvcih7IG1lc3NhZ2U6IG9yaWdpbmFsRXJyb3IubWVzc2FnZSB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChvcmlnaW5hbEVycm9yLnN0YWNrLmluY2x1ZGVzKFwiQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3JcIikpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb3BpbG90S2l0QWdlbnREaXNjb3ZlcnlFcnJvcih7XG4gICAgICAgICAgYWdlbnROYW1lOiBcIlwiLFxuICAgICAgICAgIGF2YWlsYWJsZUFnZW50czogW11cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2UgPSAob3JpZ2luYWxFcnJvciA9PSBudWxsID8gdm9pZCAwIDogb3JpZ2luYWxFcnJvci5tZXNzYWdlKSB8fCBncWxFcnJvci5tZXNzYWdlO1xuICAgIGNvbnN0IGNvZGUgPSBleHRlbnNpb25zID09IG51bGwgPyB2b2lkIDAgOiBleHRlbnNpb25zLmNvZGU7XG4gICAgaWYgKGNvZGUpIHtcbiAgICAgIHJldHVybiBuZXcgQ29waWxvdEtpdEVycm9yKHsgbWVzc2FnZSwgY29kZSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUdyYXBoUUxFcnJvcnMgPSB1c2VDYWxsYmFjayhcbiAgICAoZXJyb3IpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGlmICgoX2EgPSBlcnJvci5ncmFwaFFMRXJyb3JzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoUUxFcnJvcnMgPSBlcnJvci5ncmFwaFFMRXJyb3JzO1xuICAgICAgICBjb25zdCByb3V0ZUVycm9yID0gKGdxbEVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IGdxbEVycm9yLmV4dGVuc2lvbnM7XG4gICAgICAgICAgY29uc3QgdmlzaWJpbGl0eSA9IGV4dGVuc2lvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dGVuc2lvbnMudmlzaWJpbGl0eTtcbiAgICAgICAgICBjb25zdCBpc0RldiA9IHNob3VsZFNob3dEZXZDb25zb2xlKHNob3dEZXZDb25zb2xlKTtcbiAgICAgICAgICBpZiAoIWlzRGV2KSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ29waWxvdEtpdCBFcnJvciAoaGlkZGVuIGluIHByb2R1Y3Rpb24pOlwiLCBncWxFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZpc2liaWxpdHkgPT09IEVycm9yVmlzaWJpbGl0eS5TSUxFTlQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3BpbG90S2l0IFNpbGVudCBFcnJvcjpcIiwgZ3FsRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNrRXJyb3IgPSBjcmVhdGVTdHJ1Y3R1cmVkRXJyb3IoZ3FsRXJyb3IpO1xuICAgICAgICAgIGlmIChja0Vycm9yKSB7XG4gICAgICAgICAgICBzZXRCYW5uZXJFcnJvcihja0Vycm9yKTtcbiAgICAgICAgICAgIHRyYWNlVUlFcnJvcihja0Vycm9yLCBncWxFcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRXJyb3IgPSBuZXcgQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZ3FsRXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgY29kZTogQ29waWxvdEtpdEVycm9yQ29kZS5VTktOT1dOXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEJhbm5lckVycm9yKGZhbGxiYWNrRXJyb3IpO1xuICAgICAgICAgICAgdHJhY2VVSUVycm9yKGZhbGxiYWNrRXJyb3IsIGdxbEVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGdyYXBoUUxFcnJvcnMuZm9yRWFjaChyb3V0ZUVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGlzRGV2ID0gc2hvdWxkU2hvd0RldkNvbnNvbGUoc2hvd0RldkNvbnNvbGUpO1xuICAgICAgICBpZiAoIWlzRGV2KSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvcGlsb3RLaXQgRXJyb3IgKGhpZGRlbiBpbiBwcm9kdWN0aW9uKTpcIiwgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGZhbGxiYWNrRXJyb3IgPSBuZXcgQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IubWVzc2FnZSkgfHwgU3RyaW5nKGVycm9yKSxcbiAgICAgICAgICAgIGNvZGU6IENvcGlsb3RLaXRFcnJvckNvZGUuVU5LTk9XTlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldEJhbm5lckVycm9yKGZhbGxiYWNrRXJyb3IpO1xuICAgICAgICAgIHRyYWNlVUlFcnJvcihmYWxsYmFja0Vycm9yLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtzZXRCYW5uZXJFcnJvciwgc2hvd0RldkNvbnNvbGUsIHRyYWNlVUlFcnJvcl1cbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXRocmVhZElkIHx8IHRocmVhZElkID09PSBsYXN0TG9hZGVkVGhyZWFkSWQuY3VycmVudClcbiAgICAgIHJldHVybjtcbiAgICBpZiAodGhyZWFkSWQgPT09IGxhc3RMb2FkZWRUaHJlYWRJZC5jdXJyZW50ICYmIChhZ2VudFNlc3Npb24gPT0gbnVsbCA/IHZvaWQgMCA6IGFnZW50U2Vzc2lvbi5hZ2VudE5hbWUpID09PSBsYXN0TG9hZGVkQWdlbnROYW1lLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmV0Y2hNZXNzYWdlcyA9ICgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgaWYgKCEoYWdlbnRTZXNzaW9uID09IG51bGwgPyB2b2lkIDAgOiBhZ2VudFNlc3Npb24uYWdlbnROYW1lKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgcnVudGltZUNsaWVudC5sb2FkQWdlbnRTdGF0ZSh7XG4gICAgICAgIHRocmVhZElkLFxuICAgICAgICBhZ2VudE5hbWU6IGFnZW50U2Vzc2lvbiA9PSBudWxsID8gdm9pZCAwIDogYWdlbnRTZXNzaW9uLmFnZW50TmFtZVxuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICAgIGxhc3RMb2FkZWRUaHJlYWRJZC5jdXJyZW50ID0gdGhyZWFkSWQ7XG4gICAgICAgIGxhc3RMb2FkZWRBZ2VudE5hbWUuY3VycmVudCA9IGFnZW50U2Vzc2lvbiA9PSBudWxsID8gdm9pZCAwIDogYWdlbnRTZXNzaW9uLmFnZW50TmFtZTtcbiAgICAgICAgaGFuZGxlR3JhcGhRTEVycm9ycyhyZXN1bHQuZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdNZXNzYWdlcyA9IChfYiA9IChfYSA9IHJlc3VsdC5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2EubG9hZEFnZW50U3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5tZXNzYWdlcztcbiAgICAgIGlmIChuZXdNZXNzYWdlcyA9PT0gbGFzdExvYWRlZE1lc3NhZ2VzLmN1cnJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICgoX2MgPSByZXN1bHQuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmxvYWRBZ2VudFN0YXRlKSB7XG4gICAgICAgIGxhc3RMb2FkZWRNZXNzYWdlcy5jdXJyZW50ID0gbmV3TWVzc2FnZXM7XG4gICAgICAgIGxhc3RMb2FkZWRUaHJlYWRJZC5jdXJyZW50ID0gdGhyZWFkSWQ7XG4gICAgICAgIGxhc3RMb2FkZWRBZ2VudE5hbWUuY3VycmVudCA9IGFnZW50U2Vzc2lvbiA9PSBudWxsID8gdm9pZCAwIDogYWdlbnRTZXNzaW9uLmFnZW50TmFtZTtcbiAgICAgICAgY29uc3QgbWVzc2FnZXMyID0gbG9hZE1lc3NhZ2VzRnJvbUpzb25SZXByZXNlbnRhdGlvbihKU09OLnBhcnNlKG5ld01lc3NhZ2VzIHx8IFwiW11cIikpO1xuICAgICAgICBzZXRNZXNzYWdlcyhtZXNzYWdlczIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHZvaWQgZmV0Y2hNZXNzYWdlcygpO1xuICB9LCBbdGhyZWFkSWQsIGFnZW50U2Vzc2lvbiA9PSBudWxsID8gdm9pZCAwIDogYWdlbnRTZXNzaW9uLmFnZW50TmFtZV0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHVwZGF0ZVRhcE1lc3NhZ2VzKG1lc3NhZ2VzKTtcbiAgfSwgW21lc3NhZ2VzLCB1cGRhdGVUYXBNZXNzYWdlc10pO1xuICBjb25zdCBtZW1vaXplZENoaWxkcmVuID0gdXNlTWVtbygoKSA9PiBjaGlsZHJlbiwgW2NoaWxkcmVuXSk7XG4gIGNvbnN0IFtzdWdnZXN0aW9ucywgc2V0U3VnZ2VzdGlvbnNdID0gdXNlU3RhdGUoW10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBDb3BpbG90TWVzc2FnZXNDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBzZXRNZXNzYWdlcyxcbiAgICAgICAgc3VnZ2VzdGlvbnMsXG4gICAgICAgIHNldFN1Z2dlc3Rpb25zXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IG1lbW9pemVkQ2hpbGRyZW5cbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCB7XG4gIHVzZU1lc3NhZ2VzVGFwLFxuICBNZXNzYWdlc1RhcFByb3ZpZGVyLFxuICBDb3BpbG90TWVzc2FnZXNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay0yTUdKTzNGWS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2MGJO3FY.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2QZSAQTX.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-2QZSAQTX.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCoAgentStateRender: () => (/* binding */ useCoAgentStateRender)\n/* harmony export */ });\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n\n\n\n// src/hooks/use-coagent-state-render.ts\n\n\nfunction useCoAgentStateRender(action, dependencies) {\n  const {\n    setCoAgentStateRender,\n    removeCoAgentStateRender,\n    coAgentStateRenders,\n    chatComponentsCache,\n    availableAgents\n  } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.CopilotContext);\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)());\n  const { setBannerError, addToast } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if ((availableAgents == null ? void 0 : availableAgents.length) && !availableAgents.some((a) => a.name === action.name)) {\n      const message = `(useCoAgentStateRender): Agent \"${action.name}\" not found. Make sure the agent exists and is properly configured.`;\n      const agentError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.CopilotKitAgentDiscoveryError({\n        agentName: action.name,\n        availableAgents: availableAgents.map((a) => ({ name: a.name, id: a.id }))\n      });\n      setBannerError(agentError);\n    }\n  }, [availableAgents]);\n  const key = `${action.name}-${action.nodeName || \"global\"}`;\n  if (dependencies === void 0) {\n    if (coAgentStateRenders[idRef.current]) {\n      coAgentStateRenders[idRef.current].handler = action.handler;\n      if (typeof action.render === \"function\") {\n        if (chatComponentsCache.current !== null) {\n          chatComponentsCache.current.coAgentStateRenders[key] = action.render;\n        }\n      }\n    }\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const currentId = idRef.current;\n    const hasDuplicate = Object.entries(coAgentStateRenders).some(([id, otherAction]) => {\n      if (id === currentId)\n        return false;\n      if (otherAction.name !== action.name)\n        return false;\n      const hasNodeName = !!action.nodeName;\n      const hasOtherNodeName = !!otherAction.nodeName;\n      if (!hasNodeName && !hasOtherNodeName)\n        return true;\n      if (hasNodeName !== hasOtherNodeName)\n        return false;\n      return action.nodeName === otherAction.nodeName;\n    });\n    if (hasDuplicate) {\n      const message = action.nodeName ? `Found multiple state renders for agent ${action.name} and node ${action.nodeName}. State renders might get overridden` : `Found multiple state renders for agent ${action.name}. State renders might get overridden`;\n      addToast({\n        type: \"warning\",\n        message,\n        id: `dup-action-${action.name}`\n      });\n    }\n  }, [coAgentStateRenders]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setCoAgentStateRender(idRef.current, action);\n    if (chatComponentsCache.current !== null && action.render !== void 0) {\n      chatComponentsCache.current.coAgentStateRenders[key] = action.render;\n    }\n    return () => {\n      removeCoAgentStateRender(idRef.current);\n    };\n  }, [\n    setCoAgentStateRender,\n    removeCoAgentStateRender,\n    action.name,\n    // include render only if it's a string\n    typeof action.render === \"string\" ? action.render : void 0,\n    // dependencies set by the developer\n    ...dependencies || []\n  ]);\n}\n\n\n//# sourceMappingURL=chunk-2QZSAQTX.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTJRWlNBUVRYLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFOEI7QUFHQTs7QUFFOUI7QUFDc0Q7QUFDdUI7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsaURBQVUsQ0FBQywrREFBYztBQUMvQixnQkFBZ0IsNkNBQU0sQ0FBQyw0REFBUTtBQUMvQixVQUFVLDJCQUEyQixFQUFFLDZEQUFRO0FBQy9DLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLHlEQUF5RCxZQUFZO0FBQ3JFLDZCQUE2Qiw2RUFBNkI7QUFDMUQ7QUFDQSx1REFBdUQsd0JBQXdCO0FBQy9FLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNILGlCQUFpQixZQUFZLEdBQUcsNEJBQTRCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esa0ZBQWtGLGFBQWEsV0FBVyxnQkFBZ0Isa0ZBQWtGLFlBQVk7QUFDeE47QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFlBQVk7QUFDdEMsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTJRWlNBUVRYLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VUb2FzdFxufSBmcm9tIFwiLi9jaHVuay1FRkw1T0JLTi5tanNcIjtcbmltcG9ydCB7XG4gIENvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvYWdlbnQtc3RhdGUtcmVuZGVyLnRzXG5pbXBvcnQgeyB1c2VSZWYsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcmFuZG9tSWQsIENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuZnVuY3Rpb24gdXNlQ29BZ2VudFN0YXRlUmVuZGVyKGFjdGlvbiwgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHtcbiAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXIsXG4gICAgcmVtb3ZlQ29BZ2VudFN0YXRlUmVuZGVyLFxuICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnMsXG4gICAgY2hhdENvbXBvbmVudHNDYWNoZSxcbiAgICBhdmFpbGFibGVBZ2VudHNcbiAgfSA9IHVzZUNvbnRleHQoQ29waWxvdENvbnRleHQpO1xuICBjb25zdCBpZFJlZiA9IHVzZVJlZihyYW5kb21JZCgpKTtcbiAgY29uc3QgeyBzZXRCYW5uZXJFcnJvciwgYWRkVG9hc3QgfSA9IHVzZVRvYXN0KCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKChhdmFpbGFibGVBZ2VudHMgPT0gbnVsbCA/IHZvaWQgMCA6IGF2YWlsYWJsZUFnZW50cy5sZW5ndGgpICYmICFhdmFpbGFibGVBZ2VudHMuc29tZSgoYSkgPT4gYS5uYW1lID09PSBhY3Rpb24ubmFtZSkpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgKHVzZUNvQWdlbnRTdGF0ZVJlbmRlcik6IEFnZW50IFwiJHthY3Rpb24ubmFtZX1cIiBub3QgZm91bmQuIE1ha2Ugc3VyZSB0aGUgYWdlbnQgZXhpc3RzIGFuZCBpcyBwcm9wZXJseSBjb25maWd1cmVkLmA7XG4gICAgICBjb25zdCBhZ2VudEVycm9yID0gbmV3IENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yKHtcbiAgICAgICAgYWdlbnROYW1lOiBhY3Rpb24ubmFtZSxcbiAgICAgICAgYXZhaWxhYmxlQWdlbnRzOiBhdmFpbGFibGVBZ2VudHMubWFwKChhKSA9PiAoeyBuYW1lOiBhLm5hbWUsIGlkOiBhLmlkIH0pKVxuICAgICAgfSk7XG4gICAgICBzZXRCYW5uZXJFcnJvcihhZ2VudEVycm9yKTtcbiAgICB9XG4gIH0sIFthdmFpbGFibGVBZ2VudHNdKTtcbiAgY29uc3Qga2V5ID0gYCR7YWN0aW9uLm5hbWV9LSR7YWN0aW9uLm5vZGVOYW1lIHx8IFwiZ2xvYmFsXCJ9YDtcbiAgaWYgKGRlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgaWYgKGNvQWdlbnRTdGF0ZVJlbmRlcnNbaWRSZWYuY3VycmVudF0pIHtcbiAgICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnNbaWRSZWYuY3VycmVudF0uaGFuZGxlciA9IGFjdGlvbi5oYW5kbGVyO1xuICAgICAgaWYgKHR5cGVvZiBhY3Rpb24ucmVuZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgaWYgKGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5jb0FnZW50U3RhdGVSZW5kZXJzW2tleV0gPSBhY3Rpb24ucmVuZGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudElkID0gaWRSZWYuY3VycmVudDtcbiAgICBjb25zdCBoYXNEdXBsaWNhdGUgPSBPYmplY3QuZW50cmllcyhjb0FnZW50U3RhdGVSZW5kZXJzKS5zb21lKChbaWQsIG90aGVyQWN0aW9uXSkgPT4ge1xuICAgICAgaWYgKGlkID09PSBjdXJyZW50SWQpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGlmIChvdGhlckFjdGlvbi5uYW1lICE9PSBhY3Rpb24ubmFtZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgY29uc3QgaGFzTm9kZU5hbWUgPSAhIWFjdGlvbi5ub2RlTmFtZTtcbiAgICAgIGNvbnN0IGhhc090aGVyTm9kZU5hbWUgPSAhIW90aGVyQWN0aW9uLm5vZGVOYW1lO1xuICAgICAgaWYgKCFoYXNOb2RlTmFtZSAmJiAhaGFzT3RoZXJOb2RlTmFtZSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBpZiAoaGFzTm9kZU5hbWUgIT09IGhhc090aGVyTm9kZU5hbWUpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiBhY3Rpb24ubm9kZU5hbWUgPT09IG90aGVyQWN0aW9uLm5vZGVOYW1lO1xuICAgIH0pO1xuICAgIGlmIChoYXNEdXBsaWNhdGUpIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhY3Rpb24ubm9kZU5hbWUgPyBgRm91bmQgbXVsdGlwbGUgc3RhdGUgcmVuZGVycyBmb3IgYWdlbnQgJHthY3Rpb24ubmFtZX0gYW5kIG5vZGUgJHthY3Rpb24ubm9kZU5hbWV9LiBTdGF0ZSByZW5kZXJzIG1pZ2h0IGdldCBvdmVycmlkZGVuYCA6IGBGb3VuZCBtdWx0aXBsZSBzdGF0ZSByZW5kZXJzIGZvciBhZ2VudCAke2FjdGlvbi5uYW1lfS4gU3RhdGUgcmVuZGVycyBtaWdodCBnZXQgb3ZlcnJpZGRlbmA7XG4gICAgICBhZGRUb2FzdCh7XG4gICAgICAgIHR5cGU6IFwid2FybmluZ1wiLFxuICAgICAgICBtZXNzYWdlLFxuICAgICAgICBpZDogYGR1cC1hY3Rpb24tJHthY3Rpb24ubmFtZX1gXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtjb0FnZW50U3RhdGVSZW5kZXJzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0Q29BZ2VudFN0YXRlUmVuZGVyKGlkUmVmLmN1cnJlbnQsIGFjdGlvbik7XG4gICAgaWYgKGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudCAhPT0gbnVsbCAmJiBhY3Rpb24ucmVuZGVyICE9PSB2b2lkIDApIHtcbiAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5jb0FnZW50U3RhdGVSZW5kZXJzW2tleV0gPSBhY3Rpb24ucmVuZGVyO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlQ29BZ2VudFN0YXRlUmVuZGVyKGlkUmVmLmN1cnJlbnQpO1xuICAgIH07XG4gIH0sIFtcbiAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXIsXG4gICAgcmVtb3ZlQ29BZ2VudFN0YXRlUmVuZGVyLFxuICAgIGFjdGlvbi5uYW1lLFxuICAgIC8vIGluY2x1ZGUgcmVuZGVyIG9ubHkgaWYgaXQncyBhIHN0cmluZ1xuICAgIHR5cGVvZiBhY3Rpb24ucmVuZGVyID09PSBcInN0cmluZ1wiID8gYWN0aW9uLnJlbmRlciA6IHZvaWQgMCxcbiAgICAvLyBkZXBlbmRlbmNpZXMgc2V0IGJ5IHRoZSBkZXZlbG9wZXJcbiAgICAuLi5kZXBlbmRlbmNpZXMgfHwgW11cbiAgXSk7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNvQWdlbnRTdGF0ZVJlbmRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTJRWlNBUVRYLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2QZSAQTX.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-36FJAVOF.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-36FJAVOF.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotReadable: () => (/* binding */ useCopilotReadable)\n/* harmony export */ });\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-copilot-readable.ts\n\nfunction convertToJSON(description, value) {\n  return `${description}: ${typeof value === \"string\" ? value : JSON.stringify(value)}`;\n}\nfunction useCopilotReadable({\n  description,\n  value,\n  parentId,\n  categories,\n  convert,\n  available = \"enabled\"\n}, dependencies) {\n  const { addContext, removeContext } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  convert = convert || convertToJSON;\n  const information = convert(description, value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (available === \"disabled\")\n      return;\n    const id = addContext(information, parentId, categories);\n    idRef.current = id;\n    return () => {\n      removeContext(id);\n    };\n  }, [available, information, parentId, addContext, removeContext, ...dependencies || []]);\n  return idRef.current;\n}\n\n\n//# sourceMappingURL=chunk-36FJAVOF.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTM2RkpBVk9GLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQzBDO0FBQzFDO0FBQ0EsWUFBWSxZQUFZLElBQUksMERBQTBEO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsVUFBVSw0QkFBNEIsRUFBRSxzRUFBaUI7QUFDekQsZ0JBQWdCLDZDQUFNO0FBQ3RCO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstMzZGSkFWT0YubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvcGlsb3QtcmVhZGFibGUudHNcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBjb252ZXJ0VG9KU09OKGRlc2NyaXB0aW9uLCB2YWx1ZSkge1xuICByZXR1cm4gYCR7ZGVzY3JpcHRpb259OiAke3R5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpfWA7XG59XG5mdW5jdGlvbiB1c2VDb3BpbG90UmVhZGFibGUoe1xuICBkZXNjcmlwdGlvbixcbiAgdmFsdWUsXG4gIHBhcmVudElkLFxuICBjYXRlZ29yaWVzLFxuICBjb252ZXJ0LFxuICBhdmFpbGFibGUgPSBcImVuYWJsZWRcIlxufSwgZGVwZW5kZW5jaWVzKSB7XG4gIGNvbnN0IHsgYWRkQ29udGV4dCwgcmVtb3ZlQ29udGV4dCB9ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgaWRSZWYgPSB1c2VSZWYoKTtcbiAgY29udmVydCA9IGNvbnZlcnQgfHwgY29udmVydFRvSlNPTjtcbiAgY29uc3QgaW5mb3JtYXRpb24gPSBjb252ZXJ0KGRlc2NyaXB0aW9uLCB2YWx1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGF2YWlsYWJsZSA9PT0gXCJkaXNhYmxlZFwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gYWRkQ29udGV4dChpbmZvcm1hdGlvbiwgcGFyZW50SWQsIGNhdGVnb3JpZXMpO1xuICAgIGlkUmVmLmN1cnJlbnQgPSBpZDtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlQ29udGV4dChpZCk7XG4gICAgfTtcbiAgfSwgW2F2YWlsYWJsZSwgaW5mb3JtYXRpb24sIHBhcmVudElkLCBhZGRDb250ZXh0LCByZW1vdmVDb250ZXh0LCAuLi5kZXBlbmRlbmNpZXMgfHwgW11dKTtcbiAgcmV0dXJuIGlkUmVmLmN1cnJlbnQ7XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNvcGlsb3RSZWFkYWJsZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTM2RkpBVk9GLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-36FJAVOF.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-4CEQJ2X6.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-4CEQJ2X6.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   processActionsForRuntimeRequest: () => (/* binding */ processActionsForRuntimeRequest)\n/* harmony export */ });\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-2KQ6HEWZ.mjs\");\n// src/types/frontend-action.ts\n\n\nfunction processActionsForRuntimeRequest(actions) {\n  const filteredActions = actions.filter(\n    (action) => action.available !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_0__.ActionInputAvailability.Disabled && action.disabled !== true && action.name !== \"*\" && action.available != \"frontend\" && !action.pairedAction\n  ).map((action) => {\n    let available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_0__.ActionInputAvailability.Enabled;\n    if (action.disabled) {\n      available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_0__.ActionInputAvailability.Disabled;\n    } else if (action.available === \"disabled\") {\n      available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_0__.ActionInputAvailability.Disabled;\n    } else if (action.available === \"remote\") {\n      available = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_0__.ActionInputAvailability.Remote;\n    }\n    return {\n      name: action.name,\n      description: action.description || \"\",\n      jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.actionParametersToJsonSchema)(action.parameters || [])),\n      available\n    };\n  });\n  return filteredActions;\n}\n\n\n//# sourceMappingURL=chunk-4CEQJ2X6.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTRDRVFKMlg2Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUN5RTtBQUc3QztBQUM1QjtBQUNBO0FBQ0EscUNBQXFDLG1GQUF1QjtBQUM1RDtBQUNBLG9CQUFvQixtRkFBdUI7QUFDM0M7QUFDQSxrQkFBa0IsbUZBQXVCO0FBQ3pDLE1BQU07QUFDTixrQkFBa0IsbUZBQXVCO0FBQ3pDLE1BQU07QUFDTixrQkFBa0IsbUZBQXVCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGdGQUE0QjtBQUM3RDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTRDRVFKMlg2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdHlwZXMvZnJvbnRlbmQtYWN0aW9uLnRzXG5pbXBvcnQgeyBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eSB9IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7XG4gIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWFcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuZnVuY3Rpb24gcHJvY2Vzc0FjdGlvbnNGb3JSdW50aW1lUmVxdWVzdChhY3Rpb25zKSB7XG4gIGNvbnN0IGZpbHRlcmVkQWN0aW9ucyA9IGFjdGlvbnMuZmlsdGVyKFxuICAgIChhY3Rpb24pID0+IGFjdGlvbi5hdmFpbGFibGUgIT09IEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LkRpc2FibGVkICYmIGFjdGlvbi5kaXNhYmxlZCAhPT0gdHJ1ZSAmJiBhY3Rpb24ubmFtZSAhPT0gXCIqXCIgJiYgYWN0aW9uLmF2YWlsYWJsZSAhPSBcImZyb250ZW5kXCIgJiYgIWFjdGlvbi5wYWlyZWRBY3Rpb25cbiAgKS5tYXAoKGFjdGlvbikgPT4ge1xuICAgIGxldCBhdmFpbGFibGUgPSBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eS5FbmFibGVkO1xuICAgIGlmIChhY3Rpb24uZGlzYWJsZWQpIHtcbiAgICAgIGF2YWlsYWJsZSA9IEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LkRpc2FibGVkO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uLmF2YWlsYWJsZSA9PT0gXCJkaXNhYmxlZFwiKSB7XG4gICAgICBhdmFpbGFibGUgPSBBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eS5EaXNhYmxlZDtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbi5hdmFpbGFibGUgPT09IFwicmVtb3RlXCIpIHtcbiAgICAgIGF2YWlsYWJsZSA9IEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LlJlbW90ZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgZGVzY3JpcHRpb246IGFjdGlvbi5kZXNjcmlwdGlvbiB8fCBcIlwiLFxuICAgICAganNvblNjaGVtYTogSlNPTi5zdHJpbmdpZnkoYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYShhY3Rpb24ucGFyYW1ldGVycyB8fCBbXSkpLFxuICAgICAgYXZhaWxhYmxlXG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiBmaWx0ZXJlZEFjdGlvbnM7XG59XG5cbmV4cG9ydCB7XG4gIHByb2Nlc3NBY3Rpb25zRm9yUnVudGltZVJlcXVlc3Rcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay00Q0VRSjJYNi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-4CEQJ2X6.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   use_flat_category_store_default: () => (/* binding */ use_flat_category_store_default)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n// src/hooks/use-flat-category-store.ts\n\n\nvar useFlatCategoryStore = () => {\n  const [elements, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(flatCategoryStoreReducer, /* @__PURE__ */ new Map());\n  const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value, categories) => {\n    const newId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.randomId)();\n    dispatch({\n      type: \"ADD_ELEMENT\",\n      value,\n      id: newId,\n      categories\n    });\n    return newId;\n  }, []);\n  const removeElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    dispatch({ type: \"REMOVE_ELEMENT\", id });\n  }, []);\n  const allElements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      const categoriesSet = new Set(categories);\n      const result = [];\n      elements.forEach((element) => {\n        if (setsHaveIntersection(categoriesSet, element.categories)) {\n          result.push(element.value);\n        }\n      });\n      return result;\n    },\n    [elements]\n  );\n  return { addElement, removeElement, allElements };\n};\nvar use_flat_category_store_default = useFlatCategoryStore;\nfunction flatCategoryStoreReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_ELEMENT\": {\n      const { value, id, categories } = action;\n      const newElement = {\n        id,\n        value,\n        categories: new Set(categories)\n      };\n      const newState = new Map(state);\n      newState.set(id, newElement);\n      return newState;\n    }\n    case \"REMOVE_ELEMENT\": {\n      const newState = new Map(state);\n      newState.delete(action.id);\n      return newState;\n    }\n    default:\n      return state;\n  }\n}\nfunction setsHaveIntersection(setA, setB) {\n  const [smallerSet, largerSet] = setA.size <= setB.size ? [setA, setB] : [setB, setA];\n  for (let item of smallerSet) {\n    if (largerSet.has(item)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-5FHSUKQL.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTVGSFNVS1FMLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNnRDtBQUNGO0FBQzlDO0FBQ0EsK0JBQStCLGlEQUFVO0FBQ3pDLHFCQUFxQixrREFBVztBQUNoQyxrQkFBa0IsNERBQVE7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCx3QkFBd0Isa0RBQVc7QUFDbkMsZUFBZSw0QkFBNEI7QUFDM0MsR0FBRztBQUNILHNCQUFzQixrREFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdCQUF3QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTVGSFNVS1FMLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaG9va3MvdXNlLWZsYXQtY2F0ZWdvcnktc3RvcmUudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWR1Y2VyIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbnZhciB1c2VGbGF0Q2F0ZWdvcnlTdG9yZSA9ICgpID0+IHtcbiAgY29uc3QgW2VsZW1lbnRzLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKGZsYXRDYXRlZ29yeVN0b3JlUmVkdWNlciwgLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGNvbnN0IGFkZEVsZW1lbnQgPSB1c2VDYWxsYmFjaygodmFsdWUsIGNhdGVnb3JpZXMpID0+IHtcbiAgICBjb25zdCBuZXdJZCA9IHJhbmRvbUlkKCk7XG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogXCJBRERfRUxFTUVOVFwiLFxuICAgICAgdmFsdWUsXG4gICAgICBpZDogbmV3SWQsXG4gICAgICBjYXRlZ29yaWVzXG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0lkO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlbW92ZUVsZW1lbnQgPSB1c2VDYWxsYmFjaygoaWQpID0+IHtcbiAgICBkaXNwYXRjaCh7IHR5cGU6IFwiUkVNT1ZFX0VMRU1FTlRcIiwgaWQgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgYWxsRWxlbWVudHMgPSB1c2VDYWxsYmFjayhcbiAgICAoY2F0ZWdvcmllcykgPT4ge1xuICAgICAgY29uc3QgY2F0ZWdvcmllc1NldCA9IG5ldyBTZXQoY2F0ZWdvcmllcyk7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKHNldHNIYXZlSW50ZXJzZWN0aW9uKGNhdGVnb3JpZXNTZXQsIGVsZW1lbnQuY2F0ZWdvcmllcykpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgW2VsZW1lbnRzXVxuICApO1xuICByZXR1cm4geyBhZGRFbGVtZW50LCByZW1vdmVFbGVtZW50LCBhbGxFbGVtZW50cyB9O1xufTtcbnZhciB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0ID0gdXNlRmxhdENhdGVnb3J5U3RvcmU7XG5mdW5jdGlvbiBmbGF0Q2F0ZWdvcnlTdG9yZVJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICBzd2l0Y2ggKGFjdGlvbi50eXBlKSB7XG4gICAgY2FzZSBcIkFERF9FTEVNRU5UXCI6IHtcbiAgICAgIGNvbnN0IHsgdmFsdWUsIGlkLCBjYXRlZ29yaWVzIH0gPSBhY3Rpb247XG4gICAgICBjb25zdCBuZXdFbGVtZW50ID0ge1xuICAgICAgICBpZCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGNhdGVnb3JpZXM6IG5ldyBTZXQoY2F0ZWdvcmllcylcbiAgICAgIH07XG4gICAgICBjb25zdCBuZXdTdGF0ZSA9IG5ldyBNYXAoc3RhdGUpO1xuICAgICAgbmV3U3RhdGUuc2V0KGlkLCBuZXdFbGVtZW50KTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgY2FzZSBcIlJFTU9WRV9FTEVNRU5UXCI6IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gbmV3IE1hcChzdGF0ZSk7XG4gICAgICBuZXdTdGF0ZS5kZWxldGUoYWN0aW9uLmlkKTtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxuZnVuY3Rpb24gc2V0c0hhdmVJbnRlcnNlY3Rpb24oc2V0QSwgc2V0Qikge1xuICBjb25zdCBbc21hbGxlclNldCwgbGFyZ2VyU2V0XSA9IHNldEEuc2l6ZSA8PSBzZXRCLnNpemUgPyBbc2V0QSwgc2V0Ql0gOiBbc2V0Qiwgc2V0QV07XG4gIGZvciAobGV0IGl0ZW0gb2Ygc21hbGxlclNldCkge1xuICAgIGlmIChsYXJnZXJTZXQuaGFzKGl0ZW0pKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQge1xuICB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNUZIU1VLUUwubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5KVEE73R.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-5KVEE73R.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotTask: () => (/* binding */ CopilotTask)\n/* harmony export */ });\n/* harmony import */ var _chunk_4CEQJ2X6_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-4CEQJ2X6.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-4CEQJ2X6.mjs\");\n/* harmony import */ var _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-6WTWBXEJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6WTWBXEJ.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-FXYV7IUL.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\");\n\n\n\n\n// src/lib/copilot-task.ts\n\nvar CopilotTask = class {\n  constructor(config) {\n    this.instructions = config.instructions;\n    this.actions = config.actions || [];\n    this.includeCopilotReadable = config.includeCopilotReadable !== false;\n    this.includeCopilotActions = config.includeCopilotActions !== false;\n    this.forwardedParameters = config.forwardedParameters;\n  }\n  /**\n   * Run the task.\n   * @param context The CopilotContext to use for the task. Use `useCopilotContext` to obtain the current context.\n   * @param data The data to use for the task.\n   */\n  run(context, data) {\n    return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(this, null, function* () {\n      var _a, _b, _c;\n      const actions = this.includeCopilotActions ? Object.assign({}, context.actions) : {};\n      for (const fn of this.actions) {\n        actions[fn.name] = fn;\n      }\n      let contextString = \"\";\n      if (data) {\n        contextString = (typeof data === \"string\" ? data : JSON.stringify(data)) + \"\\n\\n\";\n      }\n      if (this.includeCopilotReadable) {\n        contextString += context.getContextString([], _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__.defaultCopilotContextCategories);\n      }\n      const systemMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__.TextMessage({\n        content: taskSystemMessage(contextString, this.instructions),\n        role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_2__.Role.System\n      });\n      const messages = [systemMessage];\n      const runtimeClient = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.CopilotRuntimeClient({\n        url: context.copilotApiConfig.chatApiEndpoint,\n        publicApiKey: context.copilotApiConfig.publicApiKey,\n        headers: context.copilotApiConfig.headers,\n        credentials: context.copilotApiConfig.credentials\n      });\n      const response = yield runtimeClient.generateCopilotResponse({\n        data: {\n          frontend: {\n            actions: (0,_chunk_4CEQJ2X6_mjs__WEBPACK_IMPORTED_MODULE_4__.processActionsForRuntimeRequest)(Object.values(actions)),\n            url: window.location.href\n          },\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.convertMessagesToGqlInput)((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.filterAgentStateMessages)(messages)),\n          metadata: {\n            requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.CopilotRequestType.Task\n          },\n          forwardedParameters: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__spreadValues)({\n            // if forwardedParameters is provided, use it\n            toolChoice: \"required\"\n          }, (_a = this.forwardedParameters) != null ? _a : {})\n        },\n        properties: context.copilotApiConfig.properties\n      }).toPromise();\n      const functionCallHandler = context.getFunctionCallHandler(actions);\n      const functionCalls = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_5__.convertGqlOutputToMessages)(\n        ((_c = (_b = response.data) == null ? void 0 : _b.generateCopilotResponse) == null ? void 0 : _c.messages) || []\n      ).filter((m) => m.isActionExecutionMessage());\n      for (const functionCall of functionCalls) {\n        yield functionCallHandler({\n          messages,\n          name: functionCall.name,\n          args: functionCall.arguments\n        });\n      }\n    });\n  }\n};\nfunction taskSystemMessage(contextString, instructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with functions you can call to initiate actions on their behalf.\n\nPlease assist them as best you can.\n\nThis is not a conversation, so please do not ask questions. Just call a function without saying anything else.\n\nThe user has given you the following task to complete:\n\n\\`\\`\\`\n${instructions}\n\\`\\`\\`\n`;\n}\n\n\n//# sourceMappingURL=chunk-5KVEE73R.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTVLVkVFNzNSLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUU4QjtBQUdBO0FBSUE7O0FBRTlCO0FBU3dDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLDREQUFPO0FBQ2xCO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsZ0ZBQStCO0FBQ3JGO0FBQ0EsZ0NBQWdDLHVFQUFXO0FBQzNDO0FBQ0EsY0FBYyxnRUFBSTtBQUNsQixPQUFPO0FBQ1A7QUFDQSxnQ0FBZ0MsZ0ZBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixvRkFBK0I7QUFDcEQ7QUFDQSxXQUFXO0FBQ1gsb0JBQW9CLHlGQUF5QixDQUFDLHdGQUF3QjtBQUN0RTtBQUNBLHlCQUF5Qiw4RUFBa0I7QUFDM0MsV0FBVztBQUNYLCtCQUErQixtRUFBYztBQUM3QztBQUNBO0FBQ0EsV0FBVyxtREFBbUQ7QUFDOUQsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0EsNEJBQTRCLDBGQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTVLVkVFNzNSLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBwcm9jZXNzQWN0aW9uc0ZvclJ1bnRpbWVSZXF1ZXN0XG59IGZyb20gXCIuL2NodW5rLTRDRVFKMlg2Lm1qc1wiO1xuaW1wb3J0IHtcbiAgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllc1xufSBmcm9tIFwiLi9jaHVuay02V1RXQlhFSi5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvbGliL2NvcGlsb3QtdGFzay50c1xuaW1wb3J0IHtcbiAgQ29waWxvdFJ1bnRpbWVDbGllbnQsXG4gIFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyxcbiAgY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dCxcbiAgZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzLFxuICBDb3BpbG90UmVxdWVzdFR5cGVcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xudmFyIENvcGlsb3RUYXNrID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLmluc3RydWN0aW9ucyA9IGNvbmZpZy5pbnN0cnVjdGlvbnM7XG4gICAgdGhpcy5hY3Rpb25zID0gY29uZmlnLmFjdGlvbnMgfHwgW107XG4gICAgdGhpcy5pbmNsdWRlQ29waWxvdFJlYWRhYmxlID0gY29uZmlnLmluY2x1ZGVDb3BpbG90UmVhZGFibGUgIT09IGZhbHNlO1xuICAgIHRoaXMuaW5jbHVkZUNvcGlsb3RBY3Rpb25zID0gY29uZmlnLmluY2x1ZGVDb3BpbG90QWN0aW9ucyAhPT0gZmFsc2U7XG4gICAgdGhpcy5mb3J3YXJkZWRQYXJhbWV0ZXJzID0gY29uZmlnLmZvcndhcmRlZFBhcmFtZXRlcnM7XG4gIH1cbiAgLyoqXG4gICAqIFJ1biB0aGUgdGFzay5cbiAgICogQHBhcmFtIGNvbnRleHQgVGhlIENvcGlsb3RDb250ZXh0IHRvIHVzZSBmb3IgdGhlIHRhc2suIFVzZSBgdXNlQ29waWxvdENvbnRleHRgIHRvIG9idGFpbiB0aGUgY3VycmVudCBjb250ZXh0LlxuICAgKiBAcGFyYW0gZGF0YSBUaGUgZGF0YSB0byB1c2UgZm9yIHRoZSB0YXNrLlxuICAgKi9cbiAgcnVuKGNvbnRleHQsIGRhdGEpIHtcbiAgICByZXR1cm4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICBjb25zdCBhY3Rpb25zID0gdGhpcy5pbmNsdWRlQ29waWxvdEFjdGlvbnMgPyBPYmplY3QuYXNzaWduKHt9LCBjb250ZXh0LmFjdGlvbnMpIDoge307XG4gICAgICBmb3IgKGNvbnN0IGZuIG9mIHRoaXMuYWN0aW9ucykge1xuICAgICAgICBhY3Rpb25zW2ZuLm5hbWVdID0gZm47XG4gICAgICB9XG4gICAgICBsZXQgY29udGV4dFN0cmluZyA9IFwiXCI7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBjb250ZXh0U3RyaW5nID0gKHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gZGF0YSA6IEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXFxuXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbmNsdWRlQ29waWxvdFJlYWRhYmxlKSB7XG4gICAgICAgIGNvbnRleHRTdHJpbmcgKz0gY29udGV4dC5nZXRDb250ZXh0U3RyaW5nKFtdLCBkZWZhdWx0Q29waWxvdENvbnRleHRDYXRlZ29yaWVzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICBjb250ZW50OiB0YXNrU3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCB0aGlzLmluc3RydWN0aW9ucyksXG4gICAgICAgIHJvbGU6IFJvbGUuU3lzdGVtXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gW3N5c3RlbU1lc3NhZ2VdO1xuICAgICAgY29uc3QgcnVudGltZUNsaWVudCA9IG5ldyBDb3BpbG90UnVudGltZUNsaWVudCh7XG4gICAgICAgIHVybDogY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLmNoYXRBcGlFbmRwb2ludCxcbiAgICAgICAgcHVibGljQXBpS2V5OiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcucHVibGljQXBpS2V5LFxuICAgICAgICBoZWFkZXJzOiBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcuaGVhZGVycyxcbiAgICAgICAgY3JlZGVudGlhbHM6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5jcmVkZW50aWFsc1xuICAgICAgfSk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHJ1bnRpbWVDbGllbnQuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZnJvbnRlbmQ6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6IHByb2Nlc3NBY3Rpb25zRm9yUnVudGltZVJlcXVlc3QoT2JqZWN0LnZhbHVlcyhhY3Rpb25zKSksXG4gICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZXNzYWdlczogY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dChmaWx0ZXJBZ2VudFN0YXRlTWVzc2FnZXMobWVzc2FnZXMpKSxcbiAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgcmVxdWVzdFR5cGU6IENvcGlsb3RSZXF1ZXN0VHlwZS5UYXNrXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3J3YXJkZWRQYXJhbWV0ZXJzOiBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICAvLyBpZiBmb3J3YXJkZWRQYXJhbWV0ZXJzIGlzIHByb3ZpZGVkLCB1c2UgaXRcbiAgICAgICAgICAgIHRvb2xDaG9pY2U6IFwicmVxdWlyZWRcIlxuICAgICAgICAgIH0sIChfYSA9IHRoaXMuZm9yd2FyZGVkUGFyYW1ldGVycykgIT0gbnVsbCA/IF9hIDoge30pXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnRpZXM6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5wcm9wZXJ0aWVzXG4gICAgICB9KS50b1Byb21pc2UoKTtcbiAgICAgIGNvbnN0IGZ1bmN0aW9uQ2FsbEhhbmRsZXIgPSBjb250ZXh0LmdldEZ1bmN0aW9uQ2FsbEhhbmRsZXIoYWN0aW9ucyk7XG4gICAgICBjb25zdCBmdW5jdGlvbkNhbGxzID0gY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMoXG4gICAgICAgICgoX2MgPSAoX2IgPSByZXNwb25zZS5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5tZXNzYWdlcykgfHwgW11cbiAgICAgICkuZmlsdGVyKChtKSA9PiBtLmlzQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSgpKTtcbiAgICAgIGZvciAoY29uc3QgZnVuY3Rpb25DYWxsIG9mIGZ1bmN0aW9uQ2FsbHMpIHtcbiAgICAgICAgeWllbGQgZnVuY3Rpb25DYWxsSGFuZGxlcih7XG4gICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgbmFtZTogZnVuY3Rpb25DYWxsLm5hbWUsXG4gICAgICAgICAgYXJnczogZnVuY3Rpb25DYWxsLmFyZ3VtZW50c1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIHRhc2tTeXN0ZW1NZXNzYWdlKGNvbnRleHRTdHJpbmcsIGluc3RydWN0aW9ucykge1xuICByZXR1cm4gYFxuUGxlYXNlIGFjdCBhcyBhbiBlZmZpY2llbnQsIGNvbXBldGVudCwgY29uc2NpZW50aW91cywgYW5kIGluZHVzdHJpb3VzIHByb2Zlc3Npb25hbCBhc3Npc3RhbnQuXG5cbkhlbHAgdGhlIHVzZXIgYWNoaWV2ZSB0aGVpciBnb2FscywgYW5kIHlvdSBkbyBzbyBpbiBhIHdheSB0aGF0IGlzIGFzIGVmZmljaWVudCBhcyBwb3NzaWJsZSwgd2l0aG91dCB1bm5lY2Vzc2FyeSBmbHVmZiwgYnV0IGFsc28gd2l0aG91dCBzYWNyaWZpY2luZyBwcm9mZXNzaW9uYWxpc20uXG5BbHdheXMgYmUgcG9saXRlIGFuZCByZXNwZWN0ZnVsLCBhbmQgcHJlZmVyIGJyZXZpdHkgb3ZlciB2ZXJib3NpdHkuXG5cblRoZSB1c2VyIGhhcyBwcm92aWRlZCB5b3Ugd2l0aCB0aGUgZm9sbG93aW5nIGNvbnRleHQ6XG5cXGBcXGBcXGBcbiR7Y29udGV4dFN0cmluZ31cblxcYFxcYFxcYFxuXG5UaGV5IGhhdmUgYWxzbyBwcm92aWRlZCB5b3Ugd2l0aCBmdW5jdGlvbnMgeW91IGNhbiBjYWxsIHRvIGluaXRpYXRlIGFjdGlvbnMgb24gdGhlaXIgYmVoYWxmLlxuXG5QbGVhc2UgYXNzaXN0IHRoZW0gYXMgYmVzdCB5b3UgY2FuLlxuXG5UaGlzIGlzIG5vdCBhIGNvbnZlcnNhdGlvbiwgc28gcGxlYXNlIGRvIG5vdCBhc2sgcXVlc3Rpb25zLiBKdXN0IGNhbGwgYSBmdW5jdGlvbiB3aXRob3V0IHNheWluZyBhbnl0aGluZyBlbHNlLlxuXG5UaGUgdXNlciBoYXMgZ2l2ZW4geW91IHRoZSBmb2xsb3dpbmcgdGFzayB0byBjb21wbGV0ZTpcblxuXFxgXFxgXFxgXG4ke2luc3RydWN0aW9uc31cblxcYFxcYFxcYFxuYDtcbn1cblxuZXhwb3J0IHtcbiAgQ29waWxvdFRhc2tcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay01S1ZFRTczUi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5KVEE73R.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6WTWBXEJ.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-6WTWBXEJ.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotKit: () => (/* binding */ CopilotKit),\n/* harmony export */   CopilotKitInternal: () => (/* binding */ CopilotKitInternal),\n/* harmony export */   defaultCopilotContextCategories: () => (/* binding */ defaultCopilotContextCategories),\n/* harmony export */   extract: () => (/* binding */ extract),\n/* harmony export */   reloadSuggestions: () => (/* binding */ reloadSuggestions)\n/* harmony export */ });\n/* harmony import */ var _chunk_N4VN2B5S_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-N4VN2B5S.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4VN2B5S.mjs\");\n/* harmony import */ var _chunk_2MGJO3FY_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./chunk-2MGJO3FY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2MGJO3FY.mjs\");\n/* harmony import */ var _chunk_AALETENN_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./chunk-AALETENN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-AALETENN.mjs\");\n/* harmony import */ var _chunk_5FHSUKQL_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-5FHSUKQL.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5FHSUKQL.mjs\");\n/* harmony import */ var _chunk_RKTVJRK7_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-RKTVJRK7.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RKTVJRK7.mjs\");\n/* harmony import */ var _chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-Q3MCVRO3.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs\");\n/* harmony import */ var _chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-ICIK2BSB.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_6ZLPNY7X_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./chunk-6ZLPNY7X.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6ZLPNY7X.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-2KQ6HEWZ.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n// src/utils/extract.ts\n\n\n\n// src/components/copilot-provider/copilotkit.tsx\n\n\n\n\n// src/utils/suggestions.ts\n\n\nvar reloadSuggestions = (context, chatSuggestionConfiguration, setCurrentSuggestions, abortControllerRef) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(void 0, null, function* () {\n  const abortController = abortControllerRef.current;\n  if (abortController == null ? void 0 : abortController.signal.aborted) {\n    return;\n  }\n  const setSuggestionsIfNotAborted = (suggestions) => {\n    if (!(abortController == null ? void 0 : abortController.signal.aborted) && abortControllerRef.current === abortController) {\n      setCurrentSuggestions(suggestions);\n    }\n  };\n  try {\n    const tools = JSON.stringify(\n      Object.values(context.actions).map((action) => ({\n        name: action.name,\n        description: action.description,\n        jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__.actionParametersToJsonSchema)(action.parameters))\n      }))\n    );\n    const allSuggestions = [];\n    let hasSuccessfulSuggestions = false;\n    let hasErrors = false;\n    let lastError = null;\n    const enabledConfigs = Object.values(chatSuggestionConfiguration).filter(\n      (config) => config.instructions && config.instructions.trim().length > 0\n    );\n    if (enabledConfigs.length === 0) {\n      return;\n    }\n    setSuggestionsIfNotAborted([]);\n    for (const config of enabledConfigs) {\n      if (abortController == null ? void 0 : abortController.signal.aborted) {\n        setSuggestionsIfNotAborted([]);\n        return;\n      }\n      try {\n        const result = yield extract({\n          context,\n          instructions: \"Suggest what the user could say next. Provide clear, highly relevant suggestions. Do not literally suggest function calls. \",\n          data: `${config.instructions}\n\nAvailable tools: ${tools}\n\n`,\n          requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.CopilotRequestType.Task,\n          parameters: [\n            {\n              name: \"suggestions\",\n              type: \"object[]\",\n              attributes: [\n                {\n                  name: \"title\",\n                  description: \"The title of the suggestion. This is shown as a button and should be short.\",\n                  type: \"string\"\n                },\n                {\n                  name: \"message\",\n                  description: \"The message to send when the suggestion is clicked. This should be a clear, complete sentence and will be sent as an instruction to the AI.\",\n                  type: \"string\"\n                }\n              ]\n            }\n          ],\n          include: {\n            messages: true,\n            readable: true\n          },\n          abortSignal: abortController == null ? void 0 : abortController.signal,\n          stream: ({ status, args }) => {\n            if (abortController == null ? void 0 : abortController.signal.aborted) {\n              return;\n            }\n            const suggestions = args.suggestions || [];\n            const newSuggestions = [];\n            for (let i = 0; i < suggestions.length; i++) {\n              if (config.maxSuggestions !== void 0 && i >= config.maxSuggestions) {\n                break;\n              }\n              const suggestion = suggestions[i];\n              if (!suggestion || typeof suggestion !== \"object\") {\n                continue;\n              }\n              const { title, message } = suggestion;\n              const hasValidTitle = title && typeof title === \"string\" && title.trim().length > 0;\n              const hasValidMessage = message && typeof message === \"string\" && message.trim().length > 0;\n              if (!hasValidTitle) {\n                continue;\n              }\n              const partial = i === suggestions.length - 1 && status !== \"complete\";\n              newSuggestions.push({\n                title: title.trim(),\n                message: hasValidMessage ? message.trim() : \"\",\n                // Use title as fallback\n                partial,\n                className: config.className\n              });\n            }\n            setSuggestionsIfNotAborted([...allSuggestions, ...newSuggestions]);\n          }\n        });\n        if ((result == null ? void 0 : result.suggestions) && Array.isArray(result.suggestions)) {\n          const validSuggestions = result.suggestions.filter(\n            (suggestion) => suggestion && typeof suggestion.title === \"string\" && suggestion.title.trim().length > 0\n          ).map((suggestion) => ({\n            title: suggestion.title.trim(),\n            message: suggestion.message && typeof suggestion.message === \"string\" && suggestion.message.trim() ? suggestion.message.trim() : suggestion.title.trim()\n          }));\n          if (validSuggestions.length > 0) {\n            allSuggestions.push(...validSuggestions);\n            hasSuccessfulSuggestions = true;\n          }\n        }\n      } catch (error) {\n        hasErrors = true;\n        lastError = error instanceof Error ? error : new Error(String(error));\n      }\n    }\n    if (hasSuccessfulSuggestions && allSuggestions.length > 0) {\n      const uniqueSuggestions = allSuggestions.filter(\n        (suggestion, index, self) => index === self.findIndex((s) => s.message === suggestion.message)\n      );\n      setSuggestionsIfNotAborted(uniqueSuggestions);\n    } else if (hasErrors) {\n      const errorMessage = lastError ? lastError.message : \"Failed to generate suggestions due to API errors\";\n      throw new Error(errorMessage);\n    }\n  } catch (error) {\n    throw error;\n  }\n});\n\n// src/components/copilot-provider/copilotkit.tsx\n\nfunction CopilotKit(_a) {\n  var _b = _a, { children } = _b, props = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_b, [\"children\"]);\n  const enabled = (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__.shouldShowDevConsole)(props.showDevConsole);\n  const publicApiKey = props.publicApiKey || props.publicLicenseKey;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_7__.ToastProvider, { enabled, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_chunk_N4VN2B5S_mjs__WEBPACK_IMPORTED_MODULE_8__.CopilotErrorBoundary, { publicApiKey, showUsageBanner: enabled, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(CopilotKitInternal, (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, props), { children })) }) });\n}\nfunction CopilotKitInternal(cpkProps) {\n  const _a = cpkProps, { children } = _a, props = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_a, [\"children\"]);\n  validateProps(cpkProps);\n  const publicApiKey = props.publicLicenseKey || props.publicApiKey;\n  const chatApiEndpoint = props.runtimeUrl || _copilotkit_shared__WEBPACK_IMPORTED_MODULE_9__.COPILOT_CLOUD_CHAT_URL;\n  const [actions, setActions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [coAgentStateRenders, setCoAgentStateRenders] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const chatComponentsCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    actions: {},\n    coAgentStateRenders: {}\n  });\n  const { addElement, removeElement, printTree, getAllElements } = (0,_chunk_RKTVJRK7_mjs__WEBPACK_IMPORTED_MODULE_10__.use_tree_default)();\n  const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [chatInstructions, setChatInstructions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n  const [authStates, setAuthStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [extensions, setExtensions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const [additionalInstructions, setAdditionalInstructions] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const {\n    addElement: addDocument,\n    removeElement: removeDocument,\n    allElements: allDocuments\n  } = (0,_chunk_5FHSUKQL_mjs__WEBPACK_IMPORTED_MODULE_11__.use_flat_category_store_default)();\n  const setAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, action) => {\n    setActions((prevPoints) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prevPoints), {\n        [id]: action\n      });\n    });\n  }, []);\n  const removeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setActions((prevPoints) => {\n      const newPoints = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prevPoints);\n      delete newPoints[id];\n      return newPoints;\n    });\n  }, []);\n  const setCoAgentStateRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id, stateRender) => {\n    setCoAgentStateRenders((prevPoints) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prevPoints), {\n        [id]: stateRender\n      });\n    });\n  }, []);\n  const removeCoAgentStateRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setCoAgentStateRenders((prevPoints) => {\n      const newPoints = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prevPoints);\n      delete newPoints[id];\n      return newPoints;\n    });\n  }, []);\n  const getContextString = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documents, categories) => {\n      const documentsString = documents.map((document) => {\n        return `${document.name} (${document.sourceApplication}):\n${document.getContents()}`;\n      }).join(\"\\n\\n\");\n      const nonDocumentStrings = printTree(categories);\n      return `${documentsString}\n\n${nonDocumentStrings}`;\n    },\n    [printTree]\n  );\n  const addContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (context, parentId, categories = defaultCopilotContextCategories) => {\n      return addElement(context, categories, parentId);\n    },\n    [addElement]\n  );\n  const removeContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (id) => {\n      removeElement(id);\n    },\n    [removeElement]\n  );\n  const getAllContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return getAllElements();\n  }, [getAllElements]);\n  const getFunctionCallHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (customEntryPoints) => {\n      return entryPointsToFunctionCallHandler(Object.values(customEntryPoints || actions));\n    },\n    [actions]\n  );\n  const getDocumentsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      return allDocuments(categories);\n    },\n    [allDocuments]\n  );\n  const addDocumentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documentPointer, categories = defaultCopilotContextCategories) => {\n      return addDocument(documentPointer, categories);\n    },\n    [addDocument]\n  );\n  const removeDocumentContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (documentId) => {\n      removeDocument(documentId);\n    },\n    [removeDocument]\n  );\n  const copilotApiConfig = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var _a2, _b;\n    let cloud = void 0;\n    if (publicApiKey) {\n      cloud = {\n        guardrails: {\n          input: {\n            restrictToTopic: {\n              enabled: Boolean(props.guardrails_c),\n              validTopics: ((_a2 = props.guardrails_c) == null ? void 0 : _a2.validTopics) || [],\n              invalidTopics: ((_b = props.guardrails_c) == null ? void 0 : _b.invalidTopics) || []\n            }\n          }\n        }\n      };\n    }\n    return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({\n      publicApiKey\n    }, cloud ? { cloud } : {}), {\n      chatApiEndpoint,\n      headers: props.headers || {},\n      properties: props.properties || {},\n      transcribeAudioUrl: props.transcribeAudioUrl,\n      textToSpeechUrl: props.textToSpeechUrl,\n      credentials: props.credentials\n    });\n  }, [\n    publicApiKey,\n    props.headers,\n    props.properties,\n    props.transcribeAudioUrl,\n    props.textToSpeechUrl,\n    props.credentials,\n    props.cloudRestrictToTopic,\n    props.guardrails_c\n  ]);\n  const headers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const authHeaders = Object.values(authStates || {}).reduce((acc, state) => {\n      if (state.status === \"authenticated\" && state.authHeaders) {\n        return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, acc), Object.entries(state.authHeaders).reduce(\n          (headers2, [key, value]) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, headers2), {\n            [key.startsWith(\"X-Custom-\") ? key : `X-Custom-${key}`]: value\n          }),\n          {}\n        ));\n      }\n      return acc;\n    }, {});\n    return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, copilotApiConfig.headers || {}), copilotApiConfig.publicApiKey ? { [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_9__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: copilotApiConfig.publicApiKey } : {}), authHeaders);\n  }, [copilotApiConfig.headers, copilotApiConfig.publicApiKey, authStates]);\n  const [internalErrorHandlers, _setInternalErrorHandler] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const setInternalErrorHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((handler) => {\n    _setInternalErrorHandler((prev) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prev), handler));\n  }, []);\n  const removeInternalErrorHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((key) => {\n    _setInternalErrorHandler((prev) => {\n      const _a2 = prev, { [key]: _removed } = _a2, rest = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_a2, [(0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__restKey)(key)]);\n      return rest;\n    });\n  }, []);\n  const onErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(props.onError);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    onErrorRef.current = props.onError;\n  }, [props.onError]);\n  const internalHandlersRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    internalHandlersRef.current = internalErrorHandlers;\n  }, [internalErrorHandlers]);\n  const handleErrors = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (error) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n      if (copilotApiConfig.publicApiKey && onErrorRef.current) {\n        try {\n          yield onErrorRef.current(error);\n        } catch (e) {\n          console.error(\"Error in public onError handler:\", e);\n        }\n      }\n      const handlers = Object.values(internalHandlersRef.current);\n      yield Promise.all(\n        handlers.map(\n          (h) => Promise.resolve(h(error)).catch(\n            (e) => console.error(\"Error in internal error handler:\", e)\n          )\n        )\n      );\n    }),\n    [copilotApiConfig.publicApiKey]\n  );\n  const runtimeClient = (0,_chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_12__.useCopilotRuntimeClient)({\n    url: copilotApiConfig.chatApiEndpoint,\n    publicApiKey,\n    headers,\n    credentials: copilotApiConfig.credentials,\n    showDevConsole: (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__.shouldShowDevConsole)(props.showDevConsole),\n    onError: handleErrors\n  });\n  const [chatSuggestionConfiguration, setChatSuggestionConfiguration] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const addChatSuggestionConfiguration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (id, suggestion) => {\n      setChatSuggestionConfiguration((prev) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prev), { [id]: suggestion }));\n    },\n    [setChatSuggestionConfiguration]\n  );\n  const removeChatSuggestionConfiguration = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (id) => {\n      setChatSuggestionConfiguration((prev) => {\n        const _a2 = prev, { [id]: _ } = _a2, rest = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_a2, [(0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__restKey)(id)]);\n        return rest;\n      });\n    },\n    [setChatSuggestionConfiguration]\n  );\n  const [availableAgents, setAvailableAgents] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [coagentStates, setCoagentStates] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});\n  const coagentStatesRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});\n  const setCoagentStatesWithRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value) => {\n      const newValue = typeof value === \"function\" ? value(coagentStatesRef.current) : value;\n      coagentStatesRef.current = newValue;\n      setCoagentStates((prev) => {\n        return newValue;\n      });\n    },\n    []\n  );\n  const hasLoadedAgents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (hasLoadedAgents.current)\n      return;\n    const fetchData = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n      var _a2;\n      const result = yield runtimeClient.availableAgents();\n      if ((_a2 = result.data) == null ? void 0 : _a2.availableAgents) {\n        setAvailableAgents(result.data.availableAgents.agents);\n      }\n      hasLoadedAgents.current = true;\n    });\n    void fetchData();\n  }, []);\n  let initialAgentSession = null;\n  if (props.agent) {\n    initialAgentSession = {\n      agentName: props.agent\n    };\n  }\n  const [agentSession, setAgentSession] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initialAgentSession);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (props.agent) {\n      setAgentSession({\n        agentName: props.agent\n      });\n    } else {\n      setAgentSession(null);\n    }\n  }, [props.agent]);\n  const [internalThreadId, setInternalThreadId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(props.threadId || (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.randomUUID)());\n  const setThreadId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value) => {\n      if (props.threadId) {\n        throw new Error(\"Cannot call setThreadId() when threadId is provided via props.\");\n      }\n      setInternalThreadId(value);\n    },\n    [props.threadId]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (props.threadId !== void 0) {\n      setInternalThreadId(props.threadId);\n    }\n  }, [props.threadId]);\n  const [runId, setRunId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const chatAbortControllerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const showDevConsole = (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__.shouldShowDevConsole)(props.showDevConsole);\n  const [langGraphInterruptAction, _setLangGraphInterruptAction] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const setLangGraphInterruptAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((action) => {\n    _setLangGraphInterruptAction((prev) => {\n      if (prev == null)\n        return action;\n      if (action == null)\n        return null;\n      let event = prev.event;\n      if (action.event) {\n        event = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prev.event), action.event);\n      }\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prev), action), { event });\n    });\n  }, []);\n  const removeLangGraphInterruptAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    setLangGraphInterruptAction(null);\n  }, []);\n  const memoizedChildren = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => children, [children]);\n  const [bannerError, setBannerError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const agentLock = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var _a2;\n    return (_a2 = props.agent) != null ? _a2 : null;\n  }, [props.agent]);\n  const forwardedParameters = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => {\n      var _a2;\n      return (_a2 = props.forwardedParameters) != null ? _a2 : {};\n    },\n    [props.forwardedParameters]\n  );\n  const updateExtensions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (newExtensions) => {\n      setExtensions((prev) => {\n        const resolved = typeof newExtensions === \"function\" ? newExtensions(prev) : newExtensions;\n        const isSameLength = Object.keys(resolved).length === Object.keys(prev).length;\n        const isEqual = isSameLength && // @ts-ignore\n        Object.entries(resolved).every(([key, value]) => prev[key] === value);\n        return isEqual ? prev : resolved;\n      });\n    },\n    [setExtensions]\n  );\n  const updateAuthStates = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (newAuthStates) => {\n      setAuthStates((prev) => {\n        const resolved = typeof newAuthStates === \"function\" ? newAuthStates(prev) : newAuthStates;\n        const isSameLength = Object.keys(resolved).length === Object.keys(prev).length;\n        const isEqual = isSameLength && // @ts-ignore\n        Object.entries(resolved).every(([key, value]) => prev[key] === value);\n        return isEqual ? prev : resolved;\n      });\n    },\n    [setAuthStates]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(\n    _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_14__.CopilotContext.Provider,\n    {\n      value: {\n        actions,\n        chatComponentsCache,\n        getFunctionCallHandler,\n        setAction,\n        removeAction,\n        coAgentStateRenders,\n        setCoAgentStateRender,\n        removeCoAgentStateRender,\n        getContextString,\n        addContext,\n        removeContext,\n        getAllContext,\n        getDocumentsContext,\n        addDocumentContext,\n        removeDocumentContext,\n        copilotApiConfig,\n        isLoading,\n        setIsLoading,\n        chatSuggestionConfiguration,\n        addChatSuggestionConfiguration,\n        removeChatSuggestionConfiguration,\n        chatInstructions,\n        setChatInstructions,\n        additionalInstructions,\n        setAdditionalInstructions,\n        showDevConsole,\n        coagentStates,\n        setCoagentStates,\n        coagentStatesRef,\n        setCoagentStatesWithRef,\n        agentSession,\n        setAgentSession,\n        runtimeClient,\n        forwardedParameters,\n        agentLock,\n        threadId: internalThreadId,\n        setThreadId,\n        runId,\n        setRunId,\n        chatAbortControllerRef,\n        availableAgents,\n        authConfig_c: props.authConfig_c,\n        authStates_c: authStates,\n        setAuthStates_c: updateAuthStates,\n        extensions,\n        setExtensions: updateExtensions,\n        langGraphInterruptAction,\n        setLangGraphInterruptAction,\n        removeLangGraphInterruptAction,\n        bannerError,\n        setBannerError,\n        onError: handleErrors,\n        internalErrorHandlers,\n        setInternalErrorHandler,\n        removeInternalErrorHandler\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_chunk_2MGJO3FY_mjs__WEBPACK_IMPORTED_MODULE_15__.MessagesTapProvider, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsxs)(_chunk_2MGJO3FY_mjs__WEBPACK_IMPORTED_MODULE_15__.CopilotMessages, { children: [\n          memoizedChildren,\n          showDevConsole && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_chunk_AALETENN_mjs__WEBPACK_IMPORTED_MODULE_16__.ConsoleTrigger, {})\n        ] }) }),\n        bannerError && showDevConsole && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(\n          _chunk_6ZLPNY7X_mjs__WEBPACK_IMPORTED_MODULE_17__.UsageBanner,\n          {\n            severity: bannerError.severity,\n            message: bannerError.message,\n            onClose: () => setBannerError(null),\n            actions: (0,_chunk_6ZLPNY7X_mjs__WEBPACK_IMPORTED_MODULE_17__.getErrorActions)(bannerError)\n          }\n        )\n      ]\n    }\n  );\n}\nvar defaultCopilotContextCategories = [\"global\"];\nfunction entryPointsToFunctionCallHandler(actions) {\n  return (_0) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, [_0], function* ({ name, args }) {\n    let actionsByFunctionName = {};\n    for (let action2 of actions) {\n      actionsByFunctionName[action2.name] = action2;\n    }\n    const action = actionsByFunctionName[name];\n    let result = void 0;\n    if (action) {\n      yield new Promise((resolve, reject) => {\n        (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, null, function* () {\n          var _a;\n          try {\n            result = yield (_a = action.handler) == null ? void 0 : _a.call(action, args);\n            resolve();\n          } catch (error) {\n            reject(error);\n          }\n        }));\n      });\n      yield new Promise((resolve) => setTimeout(resolve, 20));\n    }\n    return result;\n  });\n}\nfunction formatFeatureName(featureName) {\n  return featureName.replace(/_c$/, \"\").split(\"_\").map((word) => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join(\" \");\n}\nfunction validateProps(props) {\n  const cloudFeatures = Object.keys(props).filter((key) => key.endsWith(\"_c\"));\n  const hasApiKey = props.publicApiKey || props.publicLicenseKey;\n  if (!props.runtimeUrl && !hasApiKey) {\n    throw new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_18__.ConfigurationError(\n      \"Missing required prop: 'runtimeUrl' or 'publicApiKey' or 'publicLicenseKey'\"\n    );\n  }\n  if (cloudFeatures.length > 0 && !hasApiKey) {\n    throw new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_18__.MissingPublicApiKeyError(\n      `Missing required prop: 'publicApiKey' or 'publicLicenseKey' to use cloud features: ${cloudFeatures.map(formatFeatureName).join(\", \")}`\n    );\n  }\n}\n\n// src/utils/extract.ts\n\nfunction extract(_0) {\n  return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(this, arguments, function* ({\n    context,\n    instructions,\n    parameters,\n    include,\n    data,\n    abortSignal,\n    stream,\n    requestType = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.CopilotRequestType.Task,\n    forwardedParameters\n  }) {\n    var _a, _b;\n    const { messages } = context;\n    const action = {\n      name: \"extract\",\n      description: instructions,\n      parameters,\n      handler: (args) => {\n      }\n    };\n    const includeReadable = (_a = include == null ? void 0 : include.readable) != null ? _a : false;\n    const includeMessages = (_b = include == null ? void 0 : include.messages) != null ? _b : false;\n    let contextString = \"\";\n    if (data) {\n      contextString = (typeof data === \"string\" ? data : JSON.stringify(data)) + \"\\n\\n\";\n    }\n    if (includeReadable) {\n      contextString += context.getContextString([], defaultCopilotContextCategories);\n    }\n    const systemMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_19__.TextMessage({\n      content: makeSystemMessage(contextString, instructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_19__.Role.System\n    });\n    const instructionsMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_19__.TextMessage({\n      content: makeInstructionsMessage(instructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_19__.Role.User\n    });\n    const response = context.runtimeClient.asStream(\n      context.runtimeClient.generateCopilotResponse({\n        data: {\n          frontend: {\n            actions: [\n              {\n                name: action.name,\n                description: action.description || \"\",\n                jsonSchema: JSON.stringify((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__.actionParametersToJsonSchema)(action.parameters || []))\n              }\n            ],\n            url: window.location.href\n          },\n          messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_20__.convertMessagesToGqlInput)(\n            includeMessages ? [systemMessage, instructionsMessage, ...(0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_20__.filterAgentStateMessages)(messages)] : [systemMessage, instructionsMessage]\n          ),\n          metadata: {\n            requestType\n          },\n          forwardedParameters: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, forwardedParameters != null ? forwardedParameters : {}), {\n            toolChoice: \"function\",\n            toolChoiceFunctionName: action.name\n          })\n        },\n        properties: context.copilotApiConfig.properties,\n        signal: abortSignal\n      })\n    );\n    const reader = response.getReader();\n    let isInitial = true;\n    let actionExecutionMessage = void 0;\n    while (true) {\n      const { done, value } = yield reader.read();\n      if (done) {\n        break;\n      }\n      if (abortSignal == null ? void 0 : abortSignal.aborted) {\n        throw new Error(\"Aborted\");\n      }\n      actionExecutionMessage = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_20__.convertGqlOutputToMessages)(\n        value.generateCopilotResponse.messages\n      ).find((msg) => msg.isActionExecutionMessage());\n      if (!actionExecutionMessage) {\n        continue;\n      }\n      stream == null ? void 0 : stream({\n        status: isInitial ? \"initial\" : \"inProgress\",\n        args: actionExecutionMessage.arguments\n      });\n      isInitial = false;\n    }\n    if (!actionExecutionMessage) {\n      throw new Error(\"extract() failed: No function call occurred\");\n    }\n    stream == null ? void 0 : stream({\n      status: \"complete\",\n      args: actionExecutionMessage.arguments\n    });\n    return actionExecutionMessage.arguments;\n  });\n}\nfunction makeInstructionsMessage(instructions) {\n  return `\nThe user has given you the following task to complete:\n\n\\`\\`\\`\n${instructions}\n\\`\\`\\`\n\nAny additional messages provided are for providing context only and should not be used to ask questions or engage in conversation.\n`;\n}\nfunction makeSystemMessage(contextString, instructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with a function called extract you MUST call to initiate actions on their behalf.\n\nPlease assist them as best you can.\n\nThis is not a conversation, so please do not ask questions. Just call the function without saying anything else.\n`;\n}\n\n\n//# sourceMappingURL=chunk-6WTWBXEJ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTZXVFdCWEVKLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUlBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBSUE7QUFHQTtBQU9BOztBQUU5QjtBQUc0QjtBQU1ZOztBQUV4QztBQUMwRTtBQUNwQztBQU9WOztBQUU1QjtBQUNrRTtBQUNFO0FBQ3BFLDZHQUE2Ryw0REFBTztBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGdGQUE0QjtBQUMvRCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1COztBQUVuQixtQkFBbUI7O0FBRW5CO0FBQ0EsdUJBQXVCLDhFQUFrQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsd0JBQXdCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDOEM7QUFDOUM7QUFDQSxpQkFBaUIsV0FBVyxjQUFjLDhEQUFTO0FBQ25ELGtCQUFrQix5RUFBb0I7QUFDdEM7QUFDQSx5QkFBeUIsc0RBQUcsQ0FBQyw4REFBYSxJQUFJLG1DQUFtQyxzREFBRyxDQUFDLHFFQUFvQixJQUFJLGtFQUFrRSxzREFBRyxxQkFBcUIsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLFlBQVksVUFBVSxJQUFJLEdBQUc7QUFDblE7QUFDQTtBQUNBLHlCQUF5QixXQUFXLGNBQWMsOERBQVM7QUFDM0Q7QUFDQTtBQUNBLDhDQUE4QyxzRUFBc0I7QUFDcEUsZ0NBQWdDLCtDQUFRLEdBQUc7QUFDM0Msd0RBQXdELCtDQUFRLEdBQUc7QUFDbkUsOEJBQThCLDZDQUFNO0FBQ3BDLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSCxVQUFVLHVEQUF1RCxFQUFFLHNFQUFnQjtBQUNuRixvQ0FBb0MsK0NBQVE7QUFDNUMsa0RBQWtELCtDQUFRO0FBQzFELHNDQUFzQywrQ0FBUSxHQUFHO0FBQ2pELHNDQUFzQywrQ0FBUSxHQUFHO0FBQ2pELDhEQUE4RCwrQ0FBUTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSxxRkFBK0I7QUFDckMsb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0EsYUFBYSxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDNUM7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLEdBQUc7QUFDSCx1QkFBdUIsa0RBQVc7QUFDbEM7QUFDQSx3QkFBd0IsbUVBQWMsR0FBRztBQUN6QztBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSCxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQSxhQUFhLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUM1QztBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNILG1DQUFtQyxrREFBVztBQUM5QztBQUNBLHdCQUF3QixtRUFBYyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0Esa0JBQWtCLGVBQWUsR0FBRywyQkFBMkI7QUFDL0QsRUFBRSx1QkFBdUI7QUFDekIsT0FBTztBQUNQO0FBQ0EsZ0JBQWdCOztBQUVoQixFQUFFLG1CQUFtQjtBQUNyQixLQUFLO0FBQ0w7QUFDQTtBQUNBLHFCQUFxQixrREFBVztBQUNoQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFXO0FBQ25DO0FBQ0EsR0FBRztBQUNILGlDQUFpQyxrREFBVztBQUM1QztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVc7QUFDekM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkJBQTZCLGtEQUFXO0FBQ3hDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdDQUFnQyxrREFBVztBQUMzQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSwyQkFBMkIsOENBQU87QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxrRUFBYSxDQUFDLG1FQUFjO0FBQ3ZDO0FBQ0EsS0FBSyxZQUFZLFFBQVEsSUFBSTtBQUM3QjtBQUNBLGtDQUFrQztBQUNsQyx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOENBQU87QUFDekIsc0RBQXNEO0FBQ3REO0FBQ0EsZUFBZSxtRUFBYyxDQUFDLG1FQUFjLEdBQUc7QUFDL0Msc0NBQXNDLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUNyRSw2REFBNkQsSUFBSTtBQUNqRSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVCxXQUFXLG1FQUFjLENBQUMsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHLGdDQUFnQyxxQ0FBcUMsQ0FBQyxtRkFBbUMsbUNBQW1DLElBQUk7QUFDMU0sR0FBRztBQUNILDREQUE0RCwrQ0FBUSxHQUFHO0FBQ3ZFLGtDQUFrQyxrREFBVztBQUM3Qyx1Q0FBdUMsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHO0FBQ3ZFLEdBQUc7QUFDSCxxQ0FBcUMsa0RBQVc7QUFDaEQ7QUFDQSwwQkFBMEIsa0JBQWtCLGNBQWMsOERBQVMsT0FBTyw4REFBUztBQUNuRjtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gscUJBQXFCLDZDQUFNO0FBQzNCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLEdBQUc7QUFDSCw4QkFBOEIsNkNBQU0sR0FBRztBQUN2QyxFQUFFLGdEQUFTO0FBQ1g7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLGtEQUFXO0FBQ2xDLGVBQWUsNERBQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3Qiw2RUFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUVBQW9CO0FBQ3hDO0FBQ0EsR0FBRztBQUNILHdFQUF3RSwrQ0FBUSxHQUFHO0FBQ25GLHlDQUF5QyxrREFBVztBQUNwRDtBQUNBLCtDQUErQyxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsV0FBVyxrQkFBa0I7QUFDM0csS0FBSztBQUNMO0FBQ0E7QUFDQSw0Q0FBNEMsa0RBQVc7QUFDdkQ7QUFDQTtBQUNBLDRCQUE0QixVQUFVLGNBQWMsOERBQVMsT0FBTyw4REFBUztBQUM3RTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBUTtBQUN4RCw0Q0FBNEMsK0NBQVEsR0FBRztBQUN2RCwyQkFBMkIsNkNBQU0sR0FBRztBQUNwQyxrQ0FBa0Msa0RBQVc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLDBCQUEwQiw2Q0FBTTtBQUNoQyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLDRCQUE0Qiw0REFBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLCtDQUFRO0FBQ2xELEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0RBQWtELCtDQUFRLG1CQUFtQiwrREFBVTtBQUN2RixzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw0QkFBNEIsK0NBQVE7QUFDcEMsaUNBQWlDLDZDQUFNO0FBQ3ZDLHlCQUF5Qix5RUFBb0I7QUFDN0MsbUVBQW1FLCtDQUFRO0FBQzNFLHNDQUFzQyxrREFBVztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBYyxDQUFDLG1FQUFjLEdBQUc7QUFDaEQ7QUFDQSxhQUFhLGtFQUFhLENBQUMsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHLG9CQUFvQixPQUFPO0FBQ3RGLEtBQUs7QUFDTCxHQUFHO0FBQ0gseUNBQXlDLGtEQUFXO0FBQ3BEO0FBQ0EsR0FBRztBQUNILDJCQUEyQiw4Q0FBTztBQUNsQyx3Q0FBd0MsK0NBQVE7QUFDaEQsb0JBQW9CLDhDQUFPO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsOEJBQThCLDhDQUFPO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUJBQXlCLHVEQUFJO0FBQzdCLElBQUksZ0VBQWM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLHNEQUFHLENBQUMscUVBQW1CLElBQUksMEJBQTBCLHVEQUFJLENBQUMsaUVBQWUsSUFBSTtBQUNyRztBQUNBLDRDQUE0QyxzREFBRyxDQUFDLGdFQUFjLElBQUk7QUFDbEUsV0FBVyxHQUFHO0FBQ2QseURBQXlELHNEQUFHO0FBQzVELFVBQVUsNkRBQVc7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIscUVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw0REFBTywwQkFBMEIsWUFBWTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxvREFBUyxPQUFPLDREQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtRUFBa0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlFQUF3QjtBQUN0Qyw0RkFBNEYsZ0RBQWdEO0FBQzVJO0FBQ0E7QUFDQTs7QUFFQTtBQUl3QztBQUN4QztBQUNBLFNBQVMsNERBQU87QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsOEVBQW1CO0FBQ3JDO0FBQ0EsR0FBRztBQUNIO0FBQ0EsWUFBWSxXQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHdFQUFXO0FBQ3pDO0FBQ0EsWUFBWSxpRUFBSTtBQUNoQixLQUFLO0FBQ0wsb0NBQW9DLHdFQUFXO0FBQy9DO0FBQ0EsWUFBWSxpRUFBSTtBQUNoQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnRkFBNkI7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLG9CQUFvQiwwRkFBeUI7QUFDN0Msc0VBQXNFLHlGQUF3QjtBQUM5RjtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsK0JBQStCLGtFQUFhLENBQUMsbUVBQWMsR0FBRyx3REFBd0Q7QUFDdEg7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiwyRkFBMEI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQVFFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay02V1RXQlhFSi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29waWxvdEVycm9yQm91bmRhcnlcbn0gZnJvbSBcIi4vY2h1bmstTjRWTjJCNVMubWpzXCI7XG5pbXBvcnQge1xuICBDb3BpbG90TWVzc2FnZXMsXG4gIE1lc3NhZ2VzVGFwUHJvdmlkZXJcbn0gZnJvbSBcIi4vY2h1bmstMk1HSk8zRlkubWpzXCI7XG5pbXBvcnQge1xuICBDb25zb2xlVHJpZ2dlclxufSBmcm9tIFwiLi9jaHVuay1BQUxFVEVOTi5tanNcIjtcbmltcG9ydCB7XG4gIHVzZV9mbGF0X2NhdGVnb3J5X3N0b3JlX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstNUZIU1VLUUwubWpzXCI7XG5pbXBvcnQge1xuICB1c2VfdHJlZV9kZWZhdWx0XG59IGZyb20gXCIuL2NodW5rLVJLVFZKUks3Lm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdFJ1bnRpbWVDbGllbnRcbn0gZnJvbSBcIi4vY2h1bmstUTNNQ1ZSTzMubWpzXCI7XG5pbXBvcnQge1xuICBzaG91bGRTaG93RGV2Q29uc29sZVxufSBmcm9tIFwiLi9jaHVuay1JQ0lLMkJTQi5tanNcIjtcbmltcG9ydCB7XG4gIFRvYXN0UHJvdmlkZXJcbn0gZnJvbSBcIi4vY2h1bmstRUZMNU9CS04ubWpzXCI7XG5pbXBvcnQge1xuICBVc2FnZUJhbm5lcixcbiAgZ2V0RXJyb3JBY3Rpb25zXG59IGZyb20gXCIuL2NodW5rLTZaTFBOWTdYLm1qc1wiO1xuaW1wb3J0IHtcbiAgQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWUhUNkNXSVkubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX29ialJlc3QsXG4gIF9fcmVzdEtleSxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy91dGlscy9leHRyYWN0LnRzXG5pbXBvcnQge1xuICBhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hIGFzIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEyXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBjb252ZXJ0R3FsT3V0cHV0VG9NZXNzYWdlcyxcbiAgQ29waWxvdFJlcXVlc3RUeXBlIGFzIENvcGlsb3RSZXF1ZXN0VHlwZTJcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb3BpbG90LXByb3ZpZGVyL2NvcGlsb3RraXQudHN4XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VNZW1vLCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQge1xuICBDT1BJTE9UX0NMT1VEX0NIQVRfVVJMLFxuICBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUixcbiAgcmFuZG9tVVVJRCxcbiAgQ29uZmlndXJhdGlvbkVycm9yLFxuICBNaXNzaW5nUHVibGljQXBpS2V5RXJyb3Jcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuXG4vLyBzcmMvdXRpbHMvc3VnZ2VzdGlvbnMudHNcbmltcG9ydCB7IGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBDb3BpbG90UmVxdWVzdFR5cGUgfSBmcm9tIFwiQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsXCI7XG52YXIgcmVsb2FkU3VnZ2VzdGlvbnMgPSAoY29udGV4dCwgY2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLCBzZXRDdXJyZW50U3VnZ2VzdGlvbnMsIGFib3J0Q29udHJvbGxlclJlZikgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IGFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50O1xuICBpZiAoYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgc2V0U3VnZ2VzdGlvbnNJZk5vdEFib3J0ZWQgPSAoc3VnZ2VzdGlvbnMpID0+IHtcbiAgICBpZiAoIShhYm9ydENvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkgJiYgYWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgc2V0Q3VycmVudFN1Z2dlc3Rpb25zKHN1Z2dlc3Rpb25zKTtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgY29uc3QgdG9vbHMgPSBKU09OLnN0cmluZ2lmeShcbiAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5hY3Rpb25zKS5tYXAoKGFjdGlvbikgPT4gKHtcbiAgICAgICAgbmFtZTogYWN0aW9uLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24sXG4gICAgICAgIGpzb25TY2hlbWE6IEpTT04uc3RyaW5naWZ5KGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEoYWN0aW9uLnBhcmFtZXRlcnMpKVxuICAgICAgfSkpXG4gICAgKTtcbiAgICBjb25zdCBhbGxTdWdnZXN0aW9ucyA9IFtdO1xuICAgIGxldCBoYXNTdWNjZXNzZnVsU3VnZ2VzdGlvbnMgPSBmYWxzZTtcbiAgICBsZXQgaGFzRXJyb3JzID0gZmFsc2U7XG4gICAgbGV0IGxhc3RFcnJvciA9IG51bGw7XG4gICAgY29uc3QgZW5hYmxlZENvbmZpZ3MgPSBPYmplY3QudmFsdWVzKGNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbikuZmlsdGVyKFxuICAgICAgKGNvbmZpZykgPT4gY29uZmlnLmluc3RydWN0aW9ucyAmJiBjb25maWcuaW5zdHJ1Y3Rpb25zLnRyaW0oKS5sZW5ndGggPiAwXG4gICAgKTtcbiAgICBpZiAoZW5hYmxlZENvbmZpZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFN1Z2dlc3Rpb25zSWZOb3RBYm9ydGVkKFtdKTtcbiAgICBmb3IgKGNvbnN0IGNvbmZpZyBvZiBlbmFibGVkQ29uZmlncykge1xuICAgICAgaWYgKGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHNldFN1Z2dlc3Rpb25zSWZOb3RBYm9ydGVkKFtdKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgZXh0cmFjdCh7XG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBpbnN0cnVjdGlvbnM6IFwiU3VnZ2VzdCB3aGF0IHRoZSB1c2VyIGNvdWxkIHNheSBuZXh0LiBQcm92aWRlIGNsZWFyLCBoaWdobHkgcmVsZXZhbnQgc3VnZ2VzdGlvbnMuIERvIG5vdCBsaXRlcmFsbHkgc3VnZ2VzdCBmdW5jdGlvbiBjYWxscy4gXCIsXG4gICAgICAgICAgZGF0YTogYCR7Y29uZmlnLmluc3RydWN0aW9uc31cblxuQXZhaWxhYmxlIHRvb2xzOiAke3Rvb2xzfVxuXG5gLFxuICAgICAgICAgIHJlcXVlc3RUeXBlOiBDb3BpbG90UmVxdWVzdFR5cGUuVGFzayxcbiAgICAgICAgICBwYXJhbWV0ZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG5hbWU6IFwic3VnZ2VzdGlvbnNcIixcbiAgICAgICAgICAgICAgdHlwZTogXCJvYmplY3RbXVwiLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogXCJ0aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVGhlIHRpdGxlIG9mIHRoZSBzdWdnZXN0aW9uLiBUaGlzIGlzIHNob3duIGFzIGEgYnV0dG9uIGFuZCBzaG91bGQgYmUgc2hvcnQuXCIsXG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBuYW1lOiBcIm1lc3NhZ2VcIixcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlRoZSBtZXNzYWdlIHRvIHNlbmQgd2hlbiB0aGUgc3VnZ2VzdGlvbiBpcyBjbGlja2VkLiBUaGlzIHNob3VsZCBiZSBhIGNsZWFyLCBjb21wbGV0ZSBzZW50ZW5jZSBhbmQgd2lsbCBiZSBzZW50IGFzIGFuIGluc3RydWN0aW9uIHRvIHRoZSBBSS5cIixcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIG1lc3NhZ2VzOiB0cnVlLFxuICAgICAgICAgICAgcmVhZGFibGU6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFib3J0U2lnbmFsOiBhYm9ydENvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgc3RyZWFtOiAoeyBzdGF0dXMsIGFyZ3MgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gYXJncy5zdWdnZXN0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N1Z2dlc3Rpb25zID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1Z2dlc3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChjb25maWcubWF4U3VnZ2VzdGlvbnMgIT09IHZvaWQgMCAmJiBpID49IGNvbmZpZy5tYXhTdWdnZXN0aW9ucykge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uc1tpXTtcbiAgICAgICAgICAgICAgaWYgKCFzdWdnZXN0aW9uIHx8IHR5cGVvZiBzdWdnZXN0aW9uICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgeyB0aXRsZSwgbWVzc2FnZSB9ID0gc3VnZ2VzdGlvbjtcbiAgICAgICAgICAgICAgY29uc3QgaGFzVmFsaWRUaXRsZSA9IHRpdGxlICYmIHR5cGVvZiB0aXRsZSA9PT0gXCJzdHJpbmdcIiAmJiB0aXRsZS50cmltKCkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgY29uc3QgaGFzVmFsaWRNZXNzYWdlID0gbWVzc2FnZSAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJiBtZXNzYWdlLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgICBpZiAoIWhhc1ZhbGlkVGl0bGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBwYXJ0aWFsID0gaSA9PT0gc3VnZ2VzdGlvbnMubGVuZ3RoIC0gMSAmJiBzdGF0dXMgIT09IFwiY29tcGxldGVcIjtcbiAgICAgICAgICAgICAgbmV3U3VnZ2VzdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLnRyaW0oKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBoYXNWYWxpZE1lc3NhZ2UgPyBtZXNzYWdlLnRyaW0oKSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgLy8gVXNlIHRpdGxlIGFzIGZhbGxiYWNrXG4gICAgICAgICAgICAgICAgcGFydGlhbCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNvbmZpZy5jbGFzc05hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRTdWdnZXN0aW9uc0lmTm90QWJvcnRlZChbLi4uYWxsU3VnZ2VzdGlvbnMsIC4uLm5ld1N1Z2dlc3Rpb25zXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKChyZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3VsdC5zdWdnZXN0aW9ucykgJiYgQXJyYXkuaXNBcnJheShyZXN1bHQuc3VnZ2VzdGlvbnMpKSB7XG4gICAgICAgICAgY29uc3QgdmFsaWRTdWdnZXN0aW9ucyA9IHJlc3VsdC5zdWdnZXN0aW9ucy5maWx0ZXIoXG4gICAgICAgICAgICAoc3VnZ2VzdGlvbikgPT4gc3VnZ2VzdGlvbiAmJiB0eXBlb2Ygc3VnZ2VzdGlvbi50aXRsZSA9PT0gXCJzdHJpbmdcIiAmJiBzdWdnZXN0aW9uLnRpdGxlLnRyaW0oKS5sZW5ndGggPiAwXG4gICAgICAgICAgKS5tYXAoKHN1Z2dlc3Rpb24pID0+ICh7XG4gICAgICAgICAgICB0aXRsZTogc3VnZ2VzdGlvbi50aXRsZS50cmltKCksXG4gICAgICAgICAgICBtZXNzYWdlOiBzdWdnZXN0aW9uLm1lc3NhZ2UgJiYgdHlwZW9mIHN1Z2dlc3Rpb24ubWVzc2FnZSA9PT0gXCJzdHJpbmdcIiAmJiBzdWdnZXN0aW9uLm1lc3NhZ2UudHJpbSgpID8gc3VnZ2VzdGlvbi5tZXNzYWdlLnRyaW0oKSA6IHN1Z2dlc3Rpb24udGl0bGUudHJpbSgpXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIGlmICh2YWxpZFN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFsbFN1Z2dlc3Rpb25zLnB1c2goLi4udmFsaWRTdWdnZXN0aW9ucyk7XG4gICAgICAgICAgICBoYXNTdWNjZXNzZnVsU3VnZ2VzdGlvbnMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFzRXJyb3JzID0gdHJ1ZTtcbiAgICAgICAgbGFzdEVycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKFN0cmluZyhlcnJvcikpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaGFzU3VjY2Vzc2Z1bFN1Z2dlc3Rpb25zICYmIGFsbFN1Z2dlc3Rpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHVuaXF1ZVN1Z2dlc3Rpb25zID0gYWxsU3VnZ2VzdGlvbnMuZmlsdGVyKFxuICAgICAgICAoc3VnZ2VzdGlvbiwgaW5kZXgsIHNlbGYpID0+IGluZGV4ID09PSBzZWxmLmZpbmRJbmRleCgocykgPT4gcy5tZXNzYWdlID09PSBzdWdnZXN0aW9uLm1lc3NhZ2UpXG4gICAgICApO1xuICAgICAgc2V0U3VnZ2VzdGlvbnNJZk5vdEFib3J0ZWQodW5pcXVlU3VnZ2VzdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAoaGFzRXJyb3JzKSB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBsYXN0RXJyb3IgPyBsYXN0RXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdlbmVyYXRlIHN1Z2dlc3Rpb25zIGR1ZSB0byBBUEkgZXJyb3JzXCI7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn0pO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jb3BpbG90LXByb3ZpZGVyL2NvcGlsb3RraXQudHN4XG5pbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvcGlsb3RLaXQoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHsgY2hpbGRyZW4gfSA9IF9iLCBwcm9wcyA9IF9fb2JqUmVzdChfYiwgW1wiY2hpbGRyZW5cIl0pO1xuICBjb25zdCBlbmFibGVkID0gc2hvdWxkU2hvd0RldkNvbnNvbGUocHJvcHMuc2hvd0RldkNvbnNvbGUpO1xuICBjb25zdCBwdWJsaWNBcGlLZXkgPSBwcm9wcy5wdWJsaWNBcGlLZXkgfHwgcHJvcHMucHVibGljTGljZW5zZUtleTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goVG9hc3RQcm92aWRlciwgeyBlbmFibGVkLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb3BpbG90RXJyb3JCb3VuZGFyeSwgeyBwdWJsaWNBcGlLZXksIHNob3dVc2FnZUJhbm5lcjogZW5hYmxlZCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29waWxvdEtpdEludGVybmFsLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpIH0pIH0pO1xufVxuZnVuY3Rpb24gQ29waWxvdEtpdEludGVybmFsKGNwa1Byb3BzKSB7XG4gIGNvbnN0IF9hID0gY3BrUHJvcHMsIHsgY2hpbGRyZW4gfSA9IF9hLCBwcm9wcyA9IF9fb2JqUmVzdChfYSwgW1wiY2hpbGRyZW5cIl0pO1xuICB2YWxpZGF0ZVByb3BzKGNwa1Byb3BzKTtcbiAgY29uc3QgcHVibGljQXBpS2V5ID0gcHJvcHMucHVibGljTGljZW5zZUtleSB8fCBwcm9wcy5wdWJsaWNBcGlLZXk7XG4gIGNvbnN0IGNoYXRBcGlFbmRwb2ludCA9IHByb3BzLnJ1bnRpbWVVcmwgfHwgQ09QSUxPVF9DTE9VRF9DSEFUX1VSTDtcbiAgY29uc3QgW2FjdGlvbnMsIHNldEFjdGlvbnNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbY29BZ2VudFN0YXRlUmVuZGVycywgc2V0Q29BZ2VudFN0YXRlUmVuZGVyc10gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IGNoYXRDb21wb25lbnRzQ2FjaGUgPSB1c2VSZWYoe1xuICAgIGFjdGlvbnM6IHt9LFxuICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnM6IHt9XG4gIH0pO1xuICBjb25zdCB7IGFkZEVsZW1lbnQsIHJlbW92ZUVsZW1lbnQsIHByaW50VHJlZSwgZ2V0QWxsRWxlbWVudHMgfSA9IHVzZV90cmVlX2RlZmF1bHQoKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2NoYXRJbnN0cnVjdGlvbnMsIHNldENoYXRJbnN0cnVjdGlvbnNdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFthdXRoU3RhdGVzLCBzZXRBdXRoU3RhdGVzXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2V4dGVuc2lvbnMsIHNldEV4dGVuc2lvbnNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBbYWRkaXRpb25hbEluc3RydWN0aW9ucywgc2V0QWRkaXRpb25hbEluc3RydWN0aW9uc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IHtcbiAgICBhZGRFbGVtZW50OiBhZGREb2N1bWVudCxcbiAgICByZW1vdmVFbGVtZW50OiByZW1vdmVEb2N1bWVudCxcbiAgICBhbGxFbGVtZW50czogYWxsRG9jdW1lbnRzXG4gIH0gPSB1c2VfZmxhdF9jYXRlZ29yeV9zdG9yZV9kZWZhdWx0KCk7XG4gIGNvbnN0IHNldEFjdGlvbiA9IHVzZUNhbGxiYWNrKChpZCwgYWN0aW9uKSA9PiB7XG4gICAgc2V0QWN0aW9ucygocHJldlBvaW50cykgPT4ge1xuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXZQb2ludHMpLCB7XG4gICAgICAgIFtpZF06IGFjdGlvblxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVtb3ZlQWN0aW9uID0gdXNlQ2FsbGJhY2soKGlkKSA9PiB7XG4gICAgc2V0QWN0aW9ucygocHJldlBvaW50cykgPT4ge1xuICAgICAgY29uc3QgbmV3UG9pbnRzID0gX19zcHJlYWRWYWx1ZXMoe30sIHByZXZQb2ludHMpO1xuICAgICAgZGVsZXRlIG5ld1BvaW50c1tpZF07XG4gICAgICByZXR1cm4gbmV3UG9pbnRzO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHNldENvQWdlbnRTdGF0ZVJlbmRlciA9IHVzZUNhbGxiYWNrKChpZCwgc3RhdGVSZW5kZXIpID0+IHtcbiAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXJzKChwcmV2UG9pbnRzKSA9PiB7XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldlBvaW50cyksIHtcbiAgICAgICAgW2lkXTogc3RhdGVSZW5kZXJcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlbW92ZUNvQWdlbnRTdGF0ZVJlbmRlciA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIHNldENvQWdlbnRTdGF0ZVJlbmRlcnMoKHByZXZQb2ludHMpID0+IHtcbiAgICAgIGNvbnN0IG5ld1BvaW50cyA9IF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2UG9pbnRzKTtcbiAgICAgIGRlbGV0ZSBuZXdQb2ludHNbaWRdO1xuICAgICAgcmV0dXJuIG5ld1BvaW50cztcbiAgICB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBnZXRDb250ZXh0U3RyaW5nID0gdXNlQ2FsbGJhY2soXG4gICAgKGRvY3VtZW50cywgY2F0ZWdvcmllcykgPT4ge1xuICAgICAgY29uc3QgZG9jdW1lbnRzU3RyaW5nID0gZG9jdW1lbnRzLm1hcCgoZG9jdW1lbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIGAke2RvY3VtZW50Lm5hbWV9ICgke2RvY3VtZW50LnNvdXJjZUFwcGxpY2F0aW9ufSk6XG4ke2RvY3VtZW50LmdldENvbnRlbnRzKCl9YDtcbiAgICAgIH0pLmpvaW4oXCJcXG5cXG5cIik7XG4gICAgICBjb25zdCBub25Eb2N1bWVudFN0cmluZ3MgPSBwcmludFRyZWUoY2F0ZWdvcmllcyk7XG4gICAgICByZXR1cm4gYCR7ZG9jdW1lbnRzU3RyaW5nfVxuXG4ke25vbkRvY3VtZW50U3RyaW5nc31gO1xuICAgIH0sXG4gICAgW3ByaW50VHJlZV1cbiAgKTtcbiAgY29uc3QgYWRkQ29udGV4dCA9IHVzZUNhbGxiYWNrKFxuICAgIChjb250ZXh0LCBwYXJlbnRJZCwgY2F0ZWdvcmllcyA9IGRlZmF1bHRDb3BpbG90Q29udGV4dENhdGVnb3JpZXMpID0+IHtcbiAgICAgIHJldHVybiBhZGRFbGVtZW50KGNvbnRleHQsIGNhdGVnb3JpZXMsIHBhcmVudElkKTtcbiAgICB9LFxuICAgIFthZGRFbGVtZW50XVxuICApO1xuICBjb25zdCByZW1vdmVDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkKSA9PiB7XG4gICAgICByZW1vdmVFbGVtZW50KGlkKTtcbiAgICB9LFxuICAgIFtyZW1vdmVFbGVtZW50XVxuICApO1xuICBjb25zdCBnZXRBbGxDb250ZXh0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBnZXRBbGxFbGVtZW50cygpO1xuICB9LCBbZ2V0QWxsRWxlbWVudHNdKTtcbiAgY29uc3QgZ2V0RnVuY3Rpb25DYWxsSGFuZGxlciA9IHVzZUNhbGxiYWNrKFxuICAgIChjdXN0b21FbnRyeVBvaW50cykgPT4ge1xuICAgICAgcmV0dXJuIGVudHJ5UG9pbnRzVG9GdW5jdGlvbkNhbGxIYW5kbGVyKE9iamVjdC52YWx1ZXMoY3VzdG9tRW50cnlQb2ludHMgfHwgYWN0aW9ucykpO1xuICAgIH0sXG4gICAgW2FjdGlvbnNdXG4gICk7XG4gIGNvbnN0IGdldERvY3VtZW50c0NvbnRleHQgPSB1c2VDYWxsYmFjayhcbiAgICAoY2F0ZWdvcmllcykgPT4ge1xuICAgICAgcmV0dXJuIGFsbERvY3VtZW50cyhjYXRlZ29yaWVzKTtcbiAgICB9LFxuICAgIFthbGxEb2N1bWVudHNdXG4gICk7XG4gIGNvbnN0IGFkZERvY3VtZW50Q29udGV4dCA9IHVzZUNhbGxiYWNrKFxuICAgIChkb2N1bWVudFBvaW50ZXIsIGNhdGVnb3JpZXMgPSBkZWZhdWx0Q29waWxvdENvbnRleHRDYXRlZ29yaWVzKSA9PiB7XG4gICAgICByZXR1cm4gYWRkRG9jdW1lbnQoZG9jdW1lbnRQb2ludGVyLCBjYXRlZ29yaWVzKTtcbiAgICB9LFxuICAgIFthZGREb2N1bWVudF1cbiAgKTtcbiAgY29uc3QgcmVtb3ZlRG9jdW1lbnRDb250ZXh0ID0gdXNlQ2FsbGJhY2soXG4gICAgKGRvY3VtZW50SWQpID0+IHtcbiAgICAgIHJlbW92ZURvY3VtZW50KGRvY3VtZW50SWQpO1xuICAgIH0sXG4gICAgW3JlbW92ZURvY3VtZW50XVxuICApO1xuICBjb25zdCBjb3BpbG90QXBpQ29uZmlnID0gdXNlTWVtbygoKSA9PiB7XG4gICAgdmFyIF9hMiwgX2I7XG4gICAgbGV0IGNsb3VkID0gdm9pZCAwO1xuICAgIGlmIChwdWJsaWNBcGlLZXkpIHtcbiAgICAgIGNsb3VkID0ge1xuICAgICAgICBndWFyZHJhaWxzOiB7XG4gICAgICAgICAgaW5wdXQ6IHtcbiAgICAgICAgICAgIHJlc3RyaWN0VG9Ub3BpYzoge1xuICAgICAgICAgICAgICBlbmFibGVkOiBCb29sZWFuKHByb3BzLmd1YXJkcmFpbHNfYyksXG4gICAgICAgICAgICAgIHZhbGlkVG9waWNzOiAoKF9hMiA9IHByb3BzLmd1YXJkcmFpbHNfYykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi52YWxpZFRvcGljcykgfHwgW10sXG4gICAgICAgICAgICAgIGludmFsaWRUb3BpY3M6ICgoX2IgPSBwcm9wcy5ndWFyZHJhaWxzX2MpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pbnZhbGlkVG9waWNzKSB8fCBbXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgcHVibGljQXBpS2V5XG4gICAgfSwgY2xvdWQgPyB7IGNsb3VkIH0gOiB7fSksIHtcbiAgICAgIGNoYXRBcGlFbmRwb2ludCxcbiAgICAgIGhlYWRlcnM6IHByb3BzLmhlYWRlcnMgfHwge30sXG4gICAgICBwcm9wZXJ0aWVzOiBwcm9wcy5wcm9wZXJ0aWVzIHx8IHt9LFxuICAgICAgdHJhbnNjcmliZUF1ZGlvVXJsOiBwcm9wcy50cmFuc2NyaWJlQXVkaW9VcmwsXG4gICAgICB0ZXh0VG9TcGVlY2hVcmw6IHByb3BzLnRleHRUb1NwZWVjaFVybCxcbiAgICAgIGNyZWRlbnRpYWxzOiBwcm9wcy5jcmVkZW50aWFsc1xuICAgIH0pO1xuICB9LCBbXG4gICAgcHVibGljQXBpS2V5LFxuICAgIHByb3BzLmhlYWRlcnMsXG4gICAgcHJvcHMucHJvcGVydGllcyxcbiAgICBwcm9wcy50cmFuc2NyaWJlQXVkaW9VcmwsXG4gICAgcHJvcHMudGV4dFRvU3BlZWNoVXJsLFxuICAgIHByb3BzLmNyZWRlbnRpYWxzLFxuICAgIHByb3BzLmNsb3VkUmVzdHJpY3RUb1RvcGljLFxuICAgIHByb3BzLmd1YXJkcmFpbHNfY1xuICBdKTtcbiAgY29uc3QgaGVhZGVycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGF1dGhIZWFkZXJzID0gT2JqZWN0LnZhbHVlcyhhdXRoU3RhdGVzIHx8IHt9KS5yZWR1Y2UoKGFjYywgc3RhdGUpID0+IHtcbiAgICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09IFwiYXV0aGVudGljYXRlZFwiICYmIHN0YXRlLmF1dGhIZWFkZXJzKSB7XG4gICAgICAgIHJldHVybiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgYWNjKSwgT2JqZWN0LmVudHJpZXMoc3RhdGUuYXV0aEhlYWRlcnMpLnJlZHVjZShcbiAgICAgICAgICAoaGVhZGVyczIsIFtrZXksIHZhbHVlXSkgPT4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgaGVhZGVyczIpLCB7XG4gICAgICAgICAgICBba2V5LnN0YXJ0c1dpdGgoXCJYLUN1c3RvbS1cIikgPyBrZXkgOiBgWC1DdXN0b20tJHtrZXl9YF06IHZhbHVlXG4gICAgICAgICAgfSksXG4gICAgICAgICAge31cbiAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGNvcGlsb3RBcGlDb25maWcuaGVhZGVycyB8fCB7fSksIGNvcGlsb3RBcGlDb25maWcucHVibGljQXBpS2V5ID8geyBbQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVJdOiBjb3BpbG90QXBpQ29uZmlnLnB1YmxpY0FwaUtleSB9IDoge30pLCBhdXRoSGVhZGVycyk7XG4gIH0sIFtjb3BpbG90QXBpQ29uZmlnLmhlYWRlcnMsIGNvcGlsb3RBcGlDb25maWcucHVibGljQXBpS2V5LCBhdXRoU3RhdGVzXSk7XG4gIGNvbnN0IFtpbnRlcm5hbEVycm9ySGFuZGxlcnMsIF9zZXRJbnRlcm5hbEVycm9ySGFuZGxlcl0gPSB1c2VTdGF0ZSh7fSk7XG4gIGNvbnN0IHNldEludGVybmFsRXJyb3JIYW5kbGVyID0gdXNlQ2FsbGJhY2soKGhhbmRsZXIpID0+IHtcbiAgICBfc2V0SW50ZXJuYWxFcnJvckhhbmRsZXIoKHByZXYpID0+IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2KSwgaGFuZGxlcikpO1xuICB9LCBbXSk7XG4gIGNvbnN0IHJlbW92ZUludGVybmFsRXJyb3JIYW5kbGVyID0gdXNlQ2FsbGJhY2soKGtleSkgPT4ge1xuICAgIF9zZXRJbnRlcm5hbEVycm9ySGFuZGxlcigocHJldikgPT4ge1xuICAgICAgY29uc3QgX2EyID0gcHJldiwgeyBba2V5XTogX3JlbW92ZWQgfSA9IF9hMiwgcmVzdCA9IF9fb2JqUmVzdChfYTIsIFtfX3Jlc3RLZXkoa2V5KV0pO1xuICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgb25FcnJvclJlZiA9IHVzZVJlZihwcm9wcy5vbkVycm9yKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBvbkVycm9yUmVmLmN1cnJlbnQgPSBwcm9wcy5vbkVycm9yO1xuICB9LCBbcHJvcHMub25FcnJvcl0pO1xuICBjb25zdCBpbnRlcm5hbEhhbmRsZXJzUmVmID0gdXNlUmVmKHt9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpbnRlcm5hbEhhbmRsZXJzUmVmLmN1cnJlbnQgPSBpbnRlcm5hbEVycm9ySGFuZGxlcnM7XG4gIH0sIFtpbnRlcm5hbEVycm9ySGFuZGxlcnNdKTtcbiAgY29uc3QgaGFuZGxlRXJyb3JzID0gdXNlQ2FsbGJhY2soXG4gICAgKGVycm9yKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBpZiAoY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXkgJiYgb25FcnJvclJlZi5jdXJyZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgeWllbGQgb25FcnJvclJlZi5jdXJyZW50KGVycm9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBwdWJsaWMgb25FcnJvciBoYW5kbGVyOlwiLCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgaGFuZGxlcnMgPSBPYmplY3QudmFsdWVzKGludGVybmFsSGFuZGxlcnNSZWYuY3VycmVudCk7XG4gICAgICB5aWVsZCBQcm9taXNlLmFsbChcbiAgICAgICAgaGFuZGxlcnMubWFwKFxuICAgICAgICAgIChoKSA9PiBQcm9taXNlLnJlc29sdmUoaChlcnJvcikpLmNhdGNoKFxuICAgICAgICAgICAgKGUpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBpbnRlcm5hbCBlcnJvciBoYW5kbGVyOlwiLCBlKVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9KSxcbiAgICBbY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXldXG4gICk7XG4gIGNvbnN0IHJ1bnRpbWVDbGllbnQgPSB1c2VDb3BpbG90UnVudGltZUNsaWVudCh7XG4gICAgdXJsOiBjb3BpbG90QXBpQ29uZmlnLmNoYXRBcGlFbmRwb2ludCxcbiAgICBwdWJsaWNBcGlLZXksXG4gICAgaGVhZGVycyxcbiAgICBjcmVkZW50aWFsczogY29waWxvdEFwaUNvbmZpZy5jcmVkZW50aWFscyxcbiAgICBzaG93RGV2Q29uc29sZTogc2hvdWxkU2hvd0RldkNvbnNvbGUocHJvcHMuc2hvd0RldkNvbnNvbGUpLFxuICAgIG9uRXJyb3I6IGhhbmRsZUVycm9yc1xuICB9KTtcbiAgY29uc3QgW2NoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbiwgc2V0Q2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgYWRkQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkLCBzdWdnZXN0aW9uKSA9PiB7XG4gICAgICBzZXRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24oKHByZXYpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXYpLCB7IFtpZF06IHN1Z2dlc3Rpb24gfSkpO1xuICAgIH0sXG4gICAgW3NldENoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbl1cbiAgKTtcbiAgY29uc3QgcmVtb3ZlQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkKSA9PiB7XG4gICAgICBzZXRDaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24oKHByZXYpID0+IHtcbiAgICAgICAgY29uc3QgX2EyID0gcHJldiwgeyBbaWRdOiBfIH0gPSBfYTIsIHJlc3QgPSBfX29ialJlc3QoX2EyLCBbX19yZXN0S2V5KGlkKV0pO1xuICAgICAgICByZXR1cm4gcmVzdDtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW3NldENoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbl1cbiAgKTtcbiAgY29uc3QgW2F2YWlsYWJsZUFnZW50cywgc2V0QXZhaWxhYmxlQWdlbnRzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2NvYWdlbnRTdGF0ZXMsIHNldENvYWdlbnRTdGF0ZXNdID0gdXNlU3RhdGUoe30pO1xuICBjb25zdCBjb2FnZW50U3RhdGVzUmVmID0gdXNlUmVmKHt9KTtcbiAgY29uc3Qgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZShjb2FnZW50U3RhdGVzUmVmLmN1cnJlbnQpIDogdmFsdWU7XG4gICAgICBjb2FnZW50U3RhdGVzUmVmLmN1cnJlbnQgPSBuZXdWYWx1ZTtcbiAgICAgIHNldENvYWdlbnRTdGF0ZXMoKHByZXYpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbXVxuICApO1xuICBjb25zdCBoYXNMb2FkZWRBZ2VudHMgPSB1c2VSZWYoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChoYXNMb2FkZWRBZ2VudHMuY3VycmVudClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBmZXRjaERhdGEgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgcmVzdWx0ID0geWllbGQgcnVudGltZUNsaWVudC5hdmFpbGFibGVBZ2VudHMoKTtcbiAgICAgIGlmICgoX2EyID0gcmVzdWx0LmRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuYXZhaWxhYmxlQWdlbnRzKSB7XG4gICAgICAgIHNldEF2YWlsYWJsZUFnZW50cyhyZXN1bHQuZGF0YS5hdmFpbGFibGVBZ2VudHMuYWdlbnRzKTtcbiAgICAgIH1cbiAgICAgIGhhc0xvYWRlZEFnZW50cy5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9KTtcbiAgICB2b2lkIGZldGNoRGF0YSgpO1xuICB9LCBbXSk7XG4gIGxldCBpbml0aWFsQWdlbnRTZXNzaW9uID0gbnVsbDtcbiAgaWYgKHByb3BzLmFnZW50KSB7XG4gICAgaW5pdGlhbEFnZW50U2Vzc2lvbiA9IHtcbiAgICAgIGFnZW50TmFtZTogcHJvcHMuYWdlbnRcbiAgICB9O1xuICB9XG4gIGNvbnN0IFthZ2VudFNlc3Npb24sIHNldEFnZW50U2Vzc2lvbl0gPSB1c2VTdGF0ZShpbml0aWFsQWdlbnRTZXNzaW9uKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHMuYWdlbnQpIHtcbiAgICAgIHNldEFnZW50U2Vzc2lvbih7XG4gICAgICAgIGFnZW50TmFtZTogcHJvcHMuYWdlbnRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRBZ2VudFNlc3Npb24obnVsbCk7XG4gICAgfVxuICB9LCBbcHJvcHMuYWdlbnRdKTtcbiAgY29uc3QgW2ludGVybmFsVGhyZWFkSWQsIHNldEludGVybmFsVGhyZWFkSWRdID0gdXNlU3RhdGUocHJvcHMudGhyZWFkSWQgfHwgcmFuZG9tVVVJRCgpKTtcbiAgY29uc3Qgc2V0VGhyZWFkSWQgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIGlmIChwcm9wcy50aHJlYWRJZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBzZXRUaHJlYWRJZCgpIHdoZW4gdGhyZWFkSWQgaXMgcHJvdmlkZWQgdmlhIHByb3BzLlwiKTtcbiAgICAgIH1cbiAgICAgIHNldEludGVybmFsVGhyZWFkSWQodmFsdWUpO1xuICAgIH0sXG4gICAgW3Byb3BzLnRocmVhZElkXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9wcy50aHJlYWRJZCAhPT0gdm9pZCAwKSB7XG4gICAgICBzZXRJbnRlcm5hbFRocmVhZElkKHByb3BzLnRocmVhZElkKTtcbiAgICB9XG4gIH0sIFtwcm9wcy50aHJlYWRJZF0pO1xuICBjb25zdCBbcnVuSWQsIHNldFJ1bklkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBjaGF0QWJvcnRDb250cm9sbGVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBzaG93RGV2Q29uc29sZSA9IHNob3VsZFNob3dEZXZDb25zb2xlKHByb3BzLnNob3dEZXZDb25zb2xlKTtcbiAgY29uc3QgW2xhbmdHcmFwaEludGVycnVwdEFjdGlvbiwgX3NldExhbmdHcmFwaEludGVycnVwdEFjdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3Qgc2V0TGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uID0gdXNlQ2FsbGJhY2soKGFjdGlvbikgPT4ge1xuICAgIF9zZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24oKHByZXYpID0+IHtcbiAgICAgIGlmIChwcmV2ID09IG51bGwpXG4gICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgICBpZiAoYWN0aW9uID09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgbGV0IGV2ZW50ID0gcHJldi5ldmVudDtcbiAgICAgIGlmIChhY3Rpb24uZXZlbnQpIHtcbiAgICAgICAgZXZlbnQgPSBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldi5ldmVudCksIGFjdGlvbi5ldmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJldiksIGFjdGlvbiksIHsgZXZlbnQgfSk7XG4gICAgfSk7XG4gIH0sIFtdKTtcbiAgY29uc3QgcmVtb3ZlTGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldExhbmdHcmFwaEludGVycnVwdEFjdGlvbihudWxsKTtcbiAgfSwgW10pO1xuICBjb25zdCBtZW1vaXplZENoaWxkcmVuID0gdXNlTWVtbygoKSA9PiBjaGlsZHJlbiwgW2NoaWxkcmVuXSk7XG4gIGNvbnN0IFtiYW5uZXJFcnJvciwgc2V0QmFubmVyRXJyb3JdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IGFnZW50TG9jayA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIChfYTIgPSBwcm9wcy5hZ2VudCkgIT0gbnVsbCA/IF9hMiA6IG51bGw7XG4gIH0sIFtwcm9wcy5hZ2VudF0pO1xuICBjb25zdCBmb3J3YXJkZWRQYXJhbWV0ZXJzID0gdXNlTWVtbyhcbiAgICAoKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgcmV0dXJuIChfYTIgPSBwcm9wcy5mb3J3YXJkZWRQYXJhbWV0ZXJzKSAhPSBudWxsID8gX2EyIDoge307XG4gICAgfSxcbiAgICBbcHJvcHMuZm9yd2FyZGVkUGFyYW1ldGVyc11cbiAgKTtcbiAgY29uc3QgdXBkYXRlRXh0ZW5zaW9ucyA9IHVzZUNhbGxiYWNrKFxuICAgIChuZXdFeHRlbnNpb25zKSA9PiB7XG4gICAgICBzZXRFeHRlbnNpb25zKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkID0gdHlwZW9mIG5ld0V4dGVuc2lvbnMgPT09IFwiZnVuY3Rpb25cIiA/IG5ld0V4dGVuc2lvbnMocHJldikgOiBuZXdFeHRlbnNpb25zO1xuICAgICAgICBjb25zdCBpc1NhbWVMZW5ndGggPSBPYmplY3Qua2V5cyhyZXNvbHZlZCkubGVuZ3RoID09PSBPYmplY3Qua2V5cyhwcmV2KS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGlzRXF1YWwgPSBpc1NhbWVMZW5ndGggJiYgLy8gQHRzLWlnbm9yZVxuICAgICAgICBPYmplY3QuZW50cmllcyhyZXNvbHZlZCkuZXZlcnkoKFtrZXksIHZhbHVlXSkgPT4gcHJldltrZXldID09PSB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBpc0VxdWFsID8gcHJldiA6IHJlc29sdmVkO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbc2V0RXh0ZW5zaW9uc11cbiAgKTtcbiAgY29uc3QgdXBkYXRlQXV0aFN0YXRlcyA9IHVzZUNhbGxiYWNrKFxuICAgIChuZXdBdXRoU3RhdGVzKSA9PiB7XG4gICAgICBzZXRBdXRoU3RhdGVzKChwcmV2KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkID0gdHlwZW9mIG5ld0F1dGhTdGF0ZXMgPT09IFwiZnVuY3Rpb25cIiA/IG5ld0F1dGhTdGF0ZXMocHJldikgOiBuZXdBdXRoU3RhdGVzO1xuICAgICAgICBjb25zdCBpc1NhbWVMZW5ndGggPSBPYmplY3Qua2V5cyhyZXNvbHZlZCkubGVuZ3RoID09PSBPYmplY3Qua2V5cyhwcmV2KS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGlzRXF1YWwgPSBpc1NhbWVMZW5ndGggJiYgLy8gQHRzLWlnbm9yZVxuICAgICAgICBPYmplY3QuZW50cmllcyhyZXNvbHZlZCkuZXZlcnkoKFtrZXksIHZhbHVlXSkgPT4gcHJldltrZXldID09PSB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBpc0VxdWFsID8gcHJldiA6IHJlc29sdmVkO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbc2V0QXV0aFN0YXRlc11cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIENvcGlsb3RDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGFjdGlvbnMsXG4gICAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUsXG4gICAgICAgIGdldEZ1bmN0aW9uQ2FsbEhhbmRsZXIsXG4gICAgICAgIHNldEFjdGlvbixcbiAgICAgICAgcmVtb3ZlQWN0aW9uLFxuICAgICAgICBjb0FnZW50U3RhdGVSZW5kZXJzLFxuICAgICAgICBzZXRDb0FnZW50U3RhdGVSZW5kZXIsXG4gICAgICAgIHJlbW92ZUNvQWdlbnRTdGF0ZVJlbmRlcixcbiAgICAgICAgZ2V0Q29udGV4dFN0cmluZyxcbiAgICAgICAgYWRkQ29udGV4dCxcbiAgICAgICAgcmVtb3ZlQ29udGV4dCxcbiAgICAgICAgZ2V0QWxsQ29udGV4dCxcbiAgICAgICAgZ2V0RG9jdW1lbnRzQ29udGV4dCxcbiAgICAgICAgYWRkRG9jdW1lbnRDb250ZXh0LFxuICAgICAgICByZW1vdmVEb2N1bWVudENvbnRleHQsXG4gICAgICAgIGNvcGlsb3RBcGlDb25maWcsXG4gICAgICAgIGlzTG9hZGluZyxcbiAgICAgICAgc2V0SXNMb2FkaW5nLFxuICAgICAgICBjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgICAgIGFkZENoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbixcbiAgICAgICAgcmVtb3ZlQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLFxuICAgICAgICBjaGF0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICBzZXRDaGF0SW5zdHJ1Y3Rpb25zLFxuICAgICAgICBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zLFxuICAgICAgICBzZXRBZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zLFxuICAgICAgICBzaG93RGV2Q29uc29sZSxcbiAgICAgICAgY29hZ2VudFN0YXRlcyxcbiAgICAgICAgc2V0Q29hZ2VudFN0YXRlcyxcbiAgICAgICAgY29hZ2VudFN0YXRlc1JlZixcbiAgICAgICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYsXG4gICAgICAgIGFnZW50U2Vzc2lvbixcbiAgICAgICAgc2V0QWdlbnRTZXNzaW9uLFxuICAgICAgICBydW50aW1lQ2xpZW50LFxuICAgICAgICBmb3J3YXJkZWRQYXJhbWV0ZXJzLFxuICAgICAgICBhZ2VudExvY2ssXG4gICAgICAgIHRocmVhZElkOiBpbnRlcm5hbFRocmVhZElkLFxuICAgICAgICBzZXRUaHJlYWRJZCxcbiAgICAgICAgcnVuSWQsXG4gICAgICAgIHNldFJ1bklkLFxuICAgICAgICBjaGF0QWJvcnRDb250cm9sbGVyUmVmLFxuICAgICAgICBhdmFpbGFibGVBZ2VudHMsXG4gICAgICAgIGF1dGhDb25maWdfYzogcHJvcHMuYXV0aENvbmZpZ19jLFxuICAgICAgICBhdXRoU3RhdGVzX2M6IGF1dGhTdGF0ZXMsXG4gICAgICAgIHNldEF1dGhTdGF0ZXNfYzogdXBkYXRlQXV0aFN0YXRlcyxcbiAgICAgICAgZXh0ZW5zaW9ucyxcbiAgICAgICAgc2V0RXh0ZW5zaW9uczogdXBkYXRlRXh0ZW5zaW9ucyxcbiAgICAgICAgbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLFxuICAgICAgICBzZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24sXG4gICAgICAgIHJlbW92ZUxhbmdHcmFwaEludGVycnVwdEFjdGlvbixcbiAgICAgICAgYmFubmVyRXJyb3IsXG4gICAgICAgIHNldEJhbm5lckVycm9yLFxuICAgICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcnMsXG4gICAgICAgIGludGVybmFsRXJyb3JIYW5kbGVycyxcbiAgICAgICAgc2V0SW50ZXJuYWxFcnJvckhhbmRsZXIsXG4gICAgICAgIHJlbW92ZUludGVybmFsRXJyb3JIYW5kbGVyXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChNZXNzYWdlc1RhcFByb3ZpZGVyLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhDb3BpbG90TWVzc2FnZXMsIHsgY2hpbGRyZW46IFtcbiAgICAgICAgICBtZW1vaXplZENoaWxkcmVuLFxuICAgICAgICAgIHNob3dEZXZDb25zb2xlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29uc29sZVRyaWdnZXIsIHt9KVxuICAgICAgICBdIH0pIH0pLFxuICAgICAgICBiYW5uZXJFcnJvciAmJiBzaG93RGV2Q29uc29sZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFVzYWdlQmFubmVyLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHNldmVyaXR5OiBiYW5uZXJFcnJvci5zZXZlcml0eSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGJhbm5lckVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiBzZXRCYW5uZXJFcnJvcihudWxsKSxcbiAgICAgICAgICAgIGFjdGlvbnM6IGdldEVycm9yQWN0aW9ucyhiYW5uZXJFcnJvcilcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIF1cbiAgICB9XG4gICk7XG59XG52YXIgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcyA9IFtcImdsb2JhbFwiXTtcbmZ1bmN0aW9uIGVudHJ5UG9pbnRzVG9GdW5jdGlvbkNhbGxIYW5kbGVyKGFjdGlvbnMpIHtcbiAgcmV0dXJuIChfMCkgPT4gX19hc3luYyh0aGlzLCBbXzBdLCBmdW5jdGlvbiogKHsgbmFtZSwgYXJncyB9KSB7XG4gICAgbGV0IGFjdGlvbnNCeUZ1bmN0aW9uTmFtZSA9IHt9O1xuICAgIGZvciAobGV0IGFjdGlvbjIgb2YgYWN0aW9ucykge1xuICAgICAgYWN0aW9uc0J5RnVuY3Rpb25OYW1lW2FjdGlvbjIubmFtZV0gPSBhY3Rpb24yO1xuICAgIH1cbiAgICBjb25zdCBhY3Rpb24gPSBhY3Rpb25zQnlGdW5jdGlvbk5hbWVbbmFtZV07XG4gICAgbGV0IHJlc3VsdCA9IHZvaWQgMDtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGZsdXNoU3luYygoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB5aWVsZCAoX2EgPSBhY3Rpb24uaGFuZGxlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoYWN0aW9uLCBhcmdzKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgeWllbGQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMjApKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSk7XG59XG5mdW5jdGlvbiBmb3JtYXRGZWF0dXJlTmFtZShmZWF0dXJlTmFtZSkge1xuICByZXR1cm4gZmVhdHVyZU5hbWUucmVwbGFjZSgvX2MkLywgXCJcIikuc3BsaXQoXCJfXCIpLm1hcCgod29yZCkgPT4gd29yZC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSkuam9pbihcIiBcIik7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BzKHByb3BzKSB7XG4gIGNvbnN0IGNsb3VkRmVhdHVyZXMgPSBPYmplY3Qua2V5cyhwcm9wcykuZmlsdGVyKChrZXkpID0+IGtleS5lbmRzV2l0aChcIl9jXCIpKTtcbiAgY29uc3QgaGFzQXBpS2V5ID0gcHJvcHMucHVibGljQXBpS2V5IHx8IHByb3BzLnB1YmxpY0xpY2Vuc2VLZXk7XG4gIGlmICghcHJvcHMucnVudGltZVVybCAmJiAhaGFzQXBpS2V5KSB7XG4gICAgdGhyb3cgbmV3IENvbmZpZ3VyYXRpb25FcnJvcihcbiAgICAgIFwiTWlzc2luZyByZXF1aXJlZCBwcm9wOiAncnVudGltZVVybCcgb3IgJ3B1YmxpY0FwaUtleScgb3IgJ3B1YmxpY0xpY2Vuc2VLZXknXCJcbiAgICApO1xuICB9XG4gIGlmIChjbG91ZEZlYXR1cmVzLmxlbmd0aCA+IDAgJiYgIWhhc0FwaUtleSkge1xuICAgIHRocm93IG5ldyBNaXNzaW5nUHVibGljQXBpS2V5RXJyb3IoXG4gICAgICBgTWlzc2luZyByZXF1aXJlZCBwcm9wOiAncHVibGljQXBpS2V5JyBvciAncHVibGljTGljZW5zZUtleScgdG8gdXNlIGNsb3VkIGZlYXR1cmVzOiAke2Nsb3VkRmVhdHVyZXMubWFwKGZvcm1hdEZlYXR1cmVOYW1lKS5qb2luKFwiLCBcIil9YFxuICAgICk7XG4gIH1cbn1cblxuLy8gc3JjL3V0aWxzL2V4dHJhY3QudHNcbmltcG9ydCB7XG4gIGNvbnZlcnRNZXNzYWdlc1RvR3FsSW5wdXQsXG4gIGZpbHRlckFnZW50U3RhdGVNZXNzYWdlc1xufSBmcm9tIFwiQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsXCI7XG5mdW5jdGlvbiBleHRyYWN0KF8wKSB7XG4gIHJldHVybiBfX2FzeW5jKHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24qICh7XG4gICAgY29udGV4dCxcbiAgICBpbnN0cnVjdGlvbnMsXG4gICAgcGFyYW1ldGVycyxcbiAgICBpbmNsdWRlLFxuICAgIGRhdGEsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgc3RyZWFtLFxuICAgIHJlcXVlc3RUeXBlID0gQ29waWxvdFJlcXVlc3RUeXBlMi5UYXNrLFxuICAgIGZvcndhcmRlZFBhcmFtZXRlcnNcbiAgfSkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgeyBtZXNzYWdlcyB9ID0gY29udGV4dDtcbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICBuYW1lOiBcImV4dHJhY3RcIixcbiAgICAgIGRlc2NyaXB0aW9uOiBpbnN0cnVjdGlvbnMsXG4gICAgICBwYXJhbWV0ZXJzLFxuICAgICAgaGFuZGxlcjogKGFyZ3MpID0+IHtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGluY2x1ZGVSZWFkYWJsZSA9IChfYSA9IGluY2x1ZGUgPT0gbnVsbCA/IHZvaWQgMCA6IGluY2x1ZGUucmVhZGFibGUpICE9IG51bGwgPyBfYSA6IGZhbHNlO1xuICAgIGNvbnN0IGluY2x1ZGVNZXNzYWdlcyA9IChfYiA9IGluY2x1ZGUgPT0gbnVsbCA/IHZvaWQgMCA6IGluY2x1ZGUubWVzc2FnZXMpICE9IG51bGwgPyBfYiA6IGZhbHNlO1xuICAgIGxldCBjb250ZXh0U3RyaW5nID0gXCJcIjtcbiAgICBpZiAoZGF0YSkge1xuICAgICAgY29udGV4dFN0cmluZyA9ICh0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGRhdGEgOiBKU09OLnN0cmluZ2lmeShkYXRhKSkgKyBcIlxcblxcblwiO1xuICAgIH1cbiAgICBpZiAoaW5jbHVkZVJlYWRhYmxlKSB7XG4gICAgICBjb250ZXh0U3RyaW5nICs9IGNvbnRleHQuZ2V0Q29udGV4dFN0cmluZyhbXSwgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcyk7XG4gICAgfVxuICAgIGNvbnN0IHN5c3RlbU1lc3NhZ2UgPSBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgY29udGVudDogbWFrZVN5c3RlbU1lc3NhZ2UoY29udGV4dFN0cmluZywgaW5zdHJ1Y3Rpb25zKSxcbiAgICAgIHJvbGU6IFJvbGUuU3lzdGVtXG4gICAgfSk7XG4gICAgY29uc3QgaW5zdHJ1Y3Rpb25zTWVzc2FnZSA9IG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgICBjb250ZW50OiBtYWtlSW5zdHJ1Y3Rpb25zTWVzc2FnZShpbnN0cnVjdGlvbnMpLFxuICAgICAgcm9sZTogUm9sZS5Vc2VyXG4gICAgfSk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBjb250ZXh0LnJ1bnRpbWVDbGllbnQuYXNTdHJlYW0oXG4gICAgICBjb250ZXh0LnJ1bnRpbWVDbGllbnQuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZnJvbnRlbmQ6IHtcbiAgICAgICAgICAgIGFjdGlvbnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IGFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhY3Rpb24uZGVzY3JpcHRpb24gfHwgXCJcIixcbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiBKU09OLnN0cmluZ2lmeShhY3Rpb25QYXJhbWV0ZXJzVG9Kc29uU2NoZW1hMihhY3Rpb24ucGFyYW1ldGVycyB8fCBbXSkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgfSxcbiAgICAgICAgICBtZXNzYWdlczogY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dChcbiAgICAgICAgICAgIGluY2x1ZGVNZXNzYWdlcyA/IFtzeXN0ZW1NZXNzYWdlLCBpbnN0cnVjdGlvbnNNZXNzYWdlLCAuLi5maWx0ZXJBZ2VudFN0YXRlTWVzc2FnZXMobWVzc2FnZXMpXSA6IFtzeXN0ZW1NZXNzYWdlLCBpbnN0cnVjdGlvbnNNZXNzYWdlXVxuICAgICAgICAgICksXG4gICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3J3YXJkZWRQYXJhbWV0ZXJzOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBmb3J3YXJkZWRQYXJhbWV0ZXJzICE9IG51bGwgPyBmb3J3YXJkZWRQYXJhbWV0ZXJzIDoge30pLCB7XG4gICAgICAgICAgICB0b29sQ2hvaWNlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICB0b29sQ2hvaWNlRnVuY3Rpb25OYW1lOiBhY3Rpb24ubmFtZVxuICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHByb3BlcnRpZXM6IGNvbnRleHQuY29waWxvdEFwaUNvbmZpZy5wcm9wZXJ0aWVzLFxuICAgICAgICBzaWduYWw6IGFib3J0U2lnbmFsXG4gICAgICB9KVxuICAgICk7XG4gICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuZ2V0UmVhZGVyKCk7XG4gICAgbGV0IGlzSW5pdGlhbCA9IHRydWU7XG4gICAgbGV0IGFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IHlpZWxkIHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChhYm9ydFNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRTaWduYWwuYWJvcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBYm9ydGVkXCIpO1xuICAgICAgfVxuICAgICAgYWN0aW9uRXhlY3V0aW9uTWVzc2FnZSA9IGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzKFxuICAgICAgICB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5tZXNzYWdlc1xuICAgICAgKS5maW5kKChtc2cpID0+IG1zZy5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSk7XG4gICAgICBpZiAoIWFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBzdHJlYW0gPT0gbnVsbCA/IHZvaWQgMCA6IHN0cmVhbSh7XG4gICAgICAgIHN0YXR1czogaXNJbml0aWFsID8gXCJpbml0aWFsXCIgOiBcImluUHJvZ3Jlc3NcIixcbiAgICAgICAgYXJnczogYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5hcmd1bWVudHNcbiAgICAgIH0pO1xuICAgICAgaXNJbml0aWFsID0gZmFsc2U7XG4gICAgfVxuICAgIGlmICghYWN0aW9uRXhlY3V0aW9uTWVzc2FnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZXh0cmFjdCgpIGZhaWxlZDogTm8gZnVuY3Rpb24gY2FsbCBvY2N1cnJlZFwiKTtcbiAgICB9XG4gICAgc3RyZWFtID09IG51bGwgPyB2b2lkIDAgOiBzdHJlYW0oe1xuICAgICAgc3RhdHVzOiBcImNvbXBsZXRlXCIsXG4gICAgICBhcmdzOiBhY3Rpb25FeGVjdXRpb25NZXNzYWdlLmFyZ3VtZW50c1xuICAgIH0pO1xuICAgIHJldHVybiBhY3Rpb25FeGVjdXRpb25NZXNzYWdlLmFyZ3VtZW50cztcbiAgfSk7XG59XG5mdW5jdGlvbiBtYWtlSW5zdHJ1Y3Rpb25zTWVzc2FnZShpbnN0cnVjdGlvbnMpIHtcbiAgcmV0dXJuIGBcblRoZSB1c2VyIGhhcyBnaXZlbiB5b3UgdGhlIGZvbGxvd2luZyB0YXNrIHRvIGNvbXBsZXRlOlxuXG5cXGBcXGBcXGBcbiR7aW5zdHJ1Y3Rpb25zfVxuXFxgXFxgXFxgXG5cbkFueSBhZGRpdGlvbmFsIG1lc3NhZ2VzIHByb3ZpZGVkIGFyZSBmb3IgcHJvdmlkaW5nIGNvbnRleHQgb25seSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIHRvIGFzayBxdWVzdGlvbnMgb3IgZW5nYWdlIGluIGNvbnZlcnNhdGlvbi5cbmA7XG59XG5mdW5jdGlvbiBtYWtlU3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCBpbnN0cnVjdGlvbnMpIHtcbiAgcmV0dXJuIGBcblBsZWFzZSBhY3QgYXMgYW4gZWZmaWNpZW50LCBjb21wZXRlbnQsIGNvbnNjaWVudGlvdXMsIGFuZCBpbmR1c3RyaW91cyBwcm9mZXNzaW9uYWwgYXNzaXN0YW50LlxuXG5IZWxwIHRoZSB1c2VyIGFjaGlldmUgdGhlaXIgZ29hbHMsIGFuZCB5b3UgZG8gc28gaW4gYSB3YXkgdGhhdCBpcyBhcyBlZmZpY2llbnQgYXMgcG9zc2libGUsIHdpdGhvdXQgdW5uZWNlc3NhcnkgZmx1ZmYsIGJ1dCBhbHNvIHdpdGhvdXQgc2FjcmlmaWNpbmcgcHJvZmVzc2lvbmFsaXNtLlxuQWx3YXlzIGJlIHBvbGl0ZSBhbmQgcmVzcGVjdGZ1bCwgYW5kIHByZWZlciBicmV2aXR5IG92ZXIgdmVyYm9zaXR5LlxuXG5UaGUgdXNlciBoYXMgcHJvdmlkZWQgeW91IHdpdGggdGhlIGZvbGxvd2luZyBjb250ZXh0OlxuXFxgXFxgXFxgXG4ke2NvbnRleHRTdHJpbmd9XG5cXGBcXGBcXGBcblxuVGhleSBoYXZlIGFsc28gcHJvdmlkZWQgeW91IHdpdGggYSBmdW5jdGlvbiBjYWxsZWQgZXh0cmFjdCB5b3UgTVVTVCBjYWxsIHRvIGluaXRpYXRlIGFjdGlvbnMgb24gdGhlaXIgYmVoYWxmLlxuXG5QbGVhc2UgYXNzaXN0IHRoZW0gYXMgYmVzdCB5b3UgY2FuLlxuXG5UaGlzIGlzIG5vdCBhIGNvbnZlcnNhdGlvbiwgc28gcGxlYXNlIGRvIG5vdCBhc2sgcXVlc3Rpb25zLiBKdXN0IGNhbGwgdGhlIGZ1bmN0aW9uIHdpdGhvdXQgc2F5aW5nIGFueXRoaW5nIGVsc2UuXG5gO1xufVxuXG5leHBvcnQge1xuICBleHRyYWN0LFxuICByZWxvYWRTdWdnZXN0aW9ucyxcbiAgQ29waWxvdEtpdCxcbiAgQ29waWxvdEtpdEludGVybmFsLFxuICBkZWZhdWx0Q29waWxvdENvbnRleHRDYXRlZ29yaWVzXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNldUV0JYRUoubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6WTWBXEJ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6ZLPNY7X.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-6ZLPNY7X.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UsageBanner: () => (/* binding */ UsageBanner),\n/* harmony export */   getErrorActions: () => (/* binding */ getErrorActions),\n/* harmony export */   renderCopilotKitUsage: () => (/* binding */ renderCopilotKitUsage)\n/* harmony export */ });\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/usage-banner.tsx\n\n\nfunction UsageBanner({\n  severity = _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.Severity.CRITICAL,\n  message = \"\",\n  onClose,\n  actions\n}) {\n  if (!message || !severity) {\n    return null;\n  }\n  const themes = {\n    [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.Severity.INFO]: {\n      bg: \"#f8fafc\",\n      border: \"#e2e8f0\",\n      text: \"#475569\",\n      accent: \"#3b82f6\"\n    },\n    [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.Severity.WARNING]: {\n      bg: \"#fffbeb\",\n      border: \"#fbbf24\",\n      text: \"#92400e\",\n      accent: \"#f59e0b\"\n    },\n    [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.Severity.CRITICAL]: {\n      bg: \"#fef2f2\",\n      border: \"#fecaca\",\n      text: \"#dc2626\",\n      accent: \"#ef4444\"\n    }\n  };\n  const theme = themes[severity];\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"style\", { children: `\n          @keyframes slideUp {\n            from { opacity: 0; transform: translateX(-50%) translateY(8px); }\n            to { opacity: 1; transform: translateX(-50%) translateY(0); }\n          }\n          \n          .usage-banner {\n            position: fixed;\n            bottom: 24px;\n            left: 50%;\n            transform: translateX(-50%);\n            width: min(600px, calc(100vw - 32px));\n            z-index: 10000;\n            animation: slideUp 0.2s cubic-bezier(0.16, 1, 0.3, 1);\n          }\n          \n          .banner-content {\n            background: linear-gradient(135deg, ${theme.bg} 0%, ${theme.bg}f5 100%);\n            border: 1px solid ${theme.border};\n            border-radius: 12px;\n            padding: 18px 20px;\n            box-shadow: \n              0 4px 24px rgba(0, 0, 0, 0.08),\n              0 2px 8px rgba(0, 0, 0, 0.04),\n              inset 0 1px 0 rgba(255, 255, 255, 0.7);\n            display: flex;\n            align-items: center;\n            gap: 16px;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;\n            backdrop-filter: blur(12px);\n            position: relative;\n            overflow: hidden;\n          }\n          \n          .banner-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            height: 1px;\n            background: linear-gradient(90deg, transparent, ${theme.accent}40, transparent);\n          }\n          \n          .banner-message {\n            color: ${theme.text};\n            font-size: 14px;\n            line-height: 1.5;\n            font-weight: 500;\n            flex: 1;\n            letter-spacing: -0.01em;\n          }\n          \n          .close-btn {\n            background: rgba(0, 0, 0, 0.05);\n            border: none;\n            color: ${theme.text};\n            cursor: pointer;\n            padding: 0;\n            border-radius: 6px;\n            opacity: 0.6;\n            transition: all 0.15s cubic-bezier(0.16, 1, 0.3, 1);\n            font-size: 14px;\n            line-height: 1;\n            flex-shrink: 0;\n            width: 24px;\n            height: 24px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          \n          .close-btn:hover {\n            opacity: 1;\n            background: rgba(0, 0, 0, 0.08);\n            transform: scale(1.05);\n          }\n          \n          .btn-primary {\n            background: linear-gradient(135deg, ${theme.accent} 0%, ${theme.accent}e6 100%);\n            color: white;\n            border: none;\n            border-radius: 8px;\n            padding: 10px 18px;\n            font-size: 13px;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.15s cubic-bezier(0.16, 1, 0.3, 1);\n            font-family: inherit;\n            flex-shrink: 0;\n            box-shadow: \n              0 2px 8px ${theme.accent}30,\n              inset 0 1px 0 rgba(255, 255, 255, 0.2);\n            letter-spacing: -0.01em;\n          }\n          \n          .btn-primary:hover {\n            transform: translateY(-1px) scale(1.02);\n            box-shadow: \n              0 4px 12px ${theme.accent}40,\n              inset 0 1px 0 rgba(255, 255, 255, 0.25);\n          }\n          \n          .btn-primary:active {\n            transform: translateY(0) scale(0.98);\n            transition: all 0.08s cubic-bezier(0.16, 1, 0.3, 1);\n          }\n          \n          @media (max-width: 640px) {\n            .usage-banner {\n              width: calc(100vw - 24px);\n            }\n            \n            .banner-content {\n              padding: 16px;\n              gap: 12px;\n            }\n            \n            .banner-message {\n              font-size: 13px;\n              line-height: 1.45;\n            }\n            \n            .btn-primary {\n              padding: 8px 14px;\n              font-size: 12px;\n            }\n            \n            .close-btn {\n              width: 22px;\n              height: 22px;\n              font-size: 12px;\n            }\n          }\n        ` }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"usage-banner\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { className: \"banner-content\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"banner-message\", children: message }),\n      (actions == null ? void 0 : actions.primary) && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", { className: \"btn-primary\", onClick: actions.primary.onClick, children: actions.primary.label }),\n      onClose && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"button\", { className: \"close-btn\", onClick: onClose, title: \"Close\", children: \"\\xD7\" })\n    ] }) })\n  ] });\n}\nvar getErrorActions = (error) => {\n  switch (error.code) {\n    case _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.CopilotKitErrorCode.MISSING_PUBLIC_API_KEY_ERROR:\n      return {\n        primary: {\n          label: \"Show me how\",\n          onClick: () => window.open(\n            \"https://docs.copilotkit.ai/premium#how-do-i-get-access-to-premium-features\",\n            \"_blank\",\n            \"noopener,noreferrer\"\n          )\n        }\n      };\n    case _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.CopilotKitErrorCode.UPGRADE_REQUIRED_ERROR:\n      return {\n        primary: {\n          label: \"Upgrade\",\n          onClick: () => window.open(\"https://cloud.copilotkit.ai\", \"_blank\", \"noopener,noreferrer\")\n        }\n      };\n    default:\n      return void 0;\n  }\n};\nfunction renderCopilotKitUsage(error, onClose) {\n  if (error.visibility !== _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.ErrorVisibility.BANNER) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    UsageBanner,\n    {\n      severity: error.severity || _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.Severity.CRITICAL,\n      message: error.message,\n      onClose,\n      actions: getErrorActions(error)\n    }\n  );\n}\n\n\n//# sourceMappingURL=chunk-6ZLPNY7X.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLTZaTFBOWTdYLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBSzRCO0FBQzRCO0FBQ3hEO0FBQ0EsYUFBYSx3REFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHdEQUFRO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsS0FBSyx3REFBUTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUssd0RBQVE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBSSxDQUFDLHVEQUFRLElBQUk7QUFDMUMsb0JBQW9CLHNEQUFHLFlBQVk7QUFDbkM7QUFDQSxtQkFBbUIsWUFBWTtBQUMvQixpQkFBaUIsWUFBWTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxVQUFVLE1BQU0sU0FBUztBQUMzRSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsYUFBYTtBQUMzRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsY0FBYyxNQUFNLGFBQWE7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixhQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGFBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsb0JBQW9CLHNEQUFHLFVBQVUscURBQXFELHVEQUFJLFVBQVU7QUFDcEcsc0JBQXNCLHNEQUFHLFVBQVUsZ0RBQWdEO0FBQ25GLHNFQUFzRSxzREFBRyxhQUFhLDZGQUE2RjtBQUNuTCxpQ0FBaUMsc0RBQUcsYUFBYSw0RUFBNEU7QUFDN0gsT0FBTyxHQUFHO0FBQ1YsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVMsbUVBQW1CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxtRUFBbUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrREFBZTtBQUMxQztBQUNBO0FBQ0EseUJBQXlCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQSxrQ0FBa0Msd0RBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay02WkxQTlk3WC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbXBvbmVudHMvdXNhZ2UtYmFubmVyLnRzeFxuaW1wb3J0IHtcbiAgU2V2ZXJpdHksXG4gIEVycm9yVmlzaWJpbGl0eSxcbiAgQ29waWxvdEtpdEVycm9yQ29kZVxufSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBGcmFnbWVudCwganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBVc2FnZUJhbm5lcih7XG4gIHNldmVyaXR5ID0gU2V2ZXJpdHkuQ1JJVElDQUwsXG4gIG1lc3NhZ2UgPSBcIlwiLFxuICBvbkNsb3NlLFxuICBhY3Rpb25zXG59KSB7XG4gIGlmICghbWVzc2FnZSB8fCAhc2V2ZXJpdHkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCB0aGVtZXMgPSB7XG4gICAgW1NldmVyaXR5LklORk9dOiB7XG4gICAgICBiZzogXCIjZjhmYWZjXCIsXG4gICAgICBib3JkZXI6IFwiI2UyZThmMFwiLFxuICAgICAgdGV4dDogXCIjNDc1NTY5XCIsXG4gICAgICBhY2NlbnQ6IFwiIzNiODJmNlwiXG4gICAgfSxcbiAgICBbU2V2ZXJpdHkuV0FSTklOR106IHtcbiAgICAgIGJnOiBcIiNmZmZiZWJcIixcbiAgICAgIGJvcmRlcjogXCIjZmJiZjI0XCIsXG4gICAgICB0ZXh0OiBcIiM5MjQwMGVcIixcbiAgICAgIGFjY2VudDogXCIjZjU5ZTBiXCJcbiAgICB9LFxuICAgIFtTZXZlcml0eS5DUklUSUNBTF06IHtcbiAgICAgIGJnOiBcIiNmZWYyZjJcIixcbiAgICAgIGJvcmRlcjogXCIjZmVjYWNhXCIsXG4gICAgICB0ZXh0OiBcIiNkYzI2MjZcIixcbiAgICAgIGFjY2VudDogXCIjZWY0NDQ0XCJcbiAgICB9XG4gIH07XG4gIGNvbnN0IHRoZW1lID0gdGhlbWVzW3NldmVyaXR5XTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcInN0eWxlXCIsIHsgY2hpbGRyZW46IGBcbiAgICAgICAgICBAa2V5ZnJhbWVzIHNsaWRlVXAge1xuICAgICAgICAgICAgZnJvbSB7IG9wYWNpdHk6IDA7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKDhweCk7IH1cbiAgICAgICAgICAgIHRvIHsgb3BhY2l0eTogMTsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoMCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLnVzYWdlLWJhbm5lciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICBib3R0b206IDI0cHg7XG4gICAgICAgICAgICBsZWZ0OiA1MCU7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XG4gICAgICAgICAgICB3aWR0aDogbWluKDYwMHB4LCBjYWxjKDEwMHZ3IC0gMzJweCkpO1xuICAgICAgICAgICAgei1pbmRleDogMTAwMDA7XG4gICAgICAgICAgICBhbmltYXRpb246IHNsaWRlVXAgMC4ycyBjdWJpYy1iZXppZXIoMC4xNiwgMSwgMC4zLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLmJhbm5lci1jb250ZW50IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7dGhlbWUuYmd9IDAlLCAke3RoZW1lLmJnfWY1IDEwMCUpO1xuICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgJHt0aGVtZS5ib3JkZXJ9O1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE4cHggMjBweDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IFxuICAgICAgICAgICAgICAwIDRweCAyNHB4IHJnYmEoMCwgMCwgMCwgMC4wOCksXG4gICAgICAgICAgICAgIDAgMnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMDQpLFxuICAgICAgICAgICAgICBpbnNldCAwIDFweCAwIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgZ2FwOiAxNnB4O1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgJ1NlZ29lIFVJJywgc3lzdGVtLXVpLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpO1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLmJhbm5lci1jb250ZW50OjpiZWZvcmUge1xuICAgICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdHJhbnNwYXJlbnQsICR7dGhlbWUuYWNjZW50fTQwLCB0cmFuc3BhcmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC5iYW5uZXItbWVzc2FnZSB7XG4gICAgICAgICAgICBjb2xvcjogJHt0aGVtZS50ZXh0fTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgZmxleDogMTtcbiAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAtMC4wMWVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAuY2xvc2UtYnRuIHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICBjb2xvcjogJHt0aGVtZS50ZXh0fTtcbiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLjY7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4xNXMgY3ViaWMtYmV6aWVyKDAuMTYsIDEsIDAuMywgMSk7XG4gICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMTtcbiAgICAgICAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgICAgICBoZWlnaHQ6IDI0cHg7XG4gICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAuY2xvc2UtYnRuOmhvdmVyIHtcbiAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDgpO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA1KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLmJ0bi1wcmltYXJ5IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7dGhlbWUuYWNjZW50fSAwJSwgJHt0aGVtZS5hY2NlbnR9ZTYgMTAwJSk7XG4gICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE4cHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMTVzIGN1YmljLWJlemllcigwLjE2LCAxLCAwLjMsIDEpO1xuICAgICAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgICAgICBmbGV4LXNocmluazogMDtcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IFxuICAgICAgICAgICAgICAwIDJweCA4cHggJHt0aGVtZS5hY2NlbnR9MzAsXG4gICAgICAgICAgICAgIGluc2V0IDAgMXB4IDAgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xuICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IC0wLjAxZW07XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC5idG4tcHJpbWFyeTpob3ZlciB7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTFweCkgc2NhbGUoMS4wMik7XG4gICAgICAgICAgICBib3gtc2hhZG93OiBcbiAgICAgICAgICAgICAgMCA0cHggMTJweCAke3RoZW1lLmFjY2VudH00MCxcbiAgICAgICAgICAgICAgaW5zZXQgMCAxcHggMCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAuYnRuLXByaW1hcnk6YWN0aXZlIHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKSBzY2FsZSgwLjk4KTtcbiAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjA4cyBjdWJpYy1iZXppZXIoMC4xNiwgMSwgMC4zLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDY0MHB4KSB7XG4gICAgICAgICAgICAudXNhZ2UtYmFubmVyIHtcbiAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMTAwdncgLSAyNHB4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLmJhbm5lci1jb250ZW50IHtcbiAgICAgICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICAgICAgZ2FwOiAxMnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAuYmFubmVyLW1lc3NhZ2Uge1xuICAgICAgICAgICAgICBmb250LXNpemU6IDEzcHg7XG4gICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAuYnRuLXByaW1hcnkge1xuICAgICAgICAgICAgICBwYWRkaW5nOiA4cHggMTRweDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAuY2xvc2UtYnRuIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDIycHg7XG4gICAgICAgICAgICAgIGhlaWdodDogMjJweDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgYCB9KSxcbiAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInVzYWdlLWJhbm5lclwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYmFubmVyLWNvbnRlbnRcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiYmFubmVyLW1lc3NhZ2VcIiwgY2hpbGRyZW46IG1lc3NhZ2UgfSksXG4gICAgICAoYWN0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogYWN0aW9ucy5wcmltYXJ5KSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImJ0bi1wcmltYXJ5XCIsIG9uQ2xpY2s6IGFjdGlvbnMucHJpbWFyeS5vbkNsaWNrLCBjaGlsZHJlbjogYWN0aW9ucy5wcmltYXJ5LmxhYmVsIH0pLFxuICAgICAgb25DbG9zZSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBcImNsb3NlLWJ0blwiLCBvbkNsaWNrOiBvbkNsb3NlLCB0aXRsZTogXCJDbG9zZVwiLCBjaGlsZHJlbjogXCJcXHhEN1wiIH0pXG4gICAgXSB9KSB9KVxuICBdIH0pO1xufVxudmFyIGdldEVycm9yQWN0aW9ucyA9IChlcnJvcikgPT4ge1xuICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICBjYXNlIENvcGlsb3RLaXRFcnJvckNvZGUuTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHByaW1hcnk6IHtcbiAgICAgICAgICBsYWJlbDogXCJTaG93IG1lIGhvd1wiLFxuICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHdpbmRvdy5vcGVuKFxuICAgICAgICAgICAgXCJodHRwczovL2RvY3MuY29waWxvdGtpdC5haS9wcmVtaXVtI2hvdy1kby1pLWdldC1hY2Nlc3MtdG8tcHJlbWl1bS1mZWF0dXJlc1wiLFxuICAgICAgICAgICAgXCJfYmxhbmtcIixcbiAgICAgICAgICAgIFwibm9vcGVuZXIsbm9yZWZlcnJlclwiXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIGNhc2UgQ29waWxvdEtpdEVycm9yQ29kZS5VUEdSQURFX1JFUVVJUkVEX0VSUk9SOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcHJpbWFyeToge1xuICAgICAgICAgIGxhYmVsOiBcIlVwZ3JhZGVcIixcbiAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB3aW5kb3cub3BlbihcImh0dHBzOi8vY2xvdWQuY29waWxvdGtpdC5haVwiLCBcIl9ibGFua1wiLCBcIm5vb3BlbmVyLG5vcmVmZXJyZXJcIilcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxufTtcbmZ1bmN0aW9uIHJlbmRlckNvcGlsb3RLaXRVc2FnZShlcnJvciwgb25DbG9zZSkge1xuICBpZiAoZXJyb3IudmlzaWJpbGl0eSAhPT0gRXJyb3JWaXNpYmlsaXR5LkJBTk5FUikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFVzYWdlQmFubmVyLFxuICAgIHtcbiAgICAgIHNldmVyaXR5OiBlcnJvci5zZXZlcml0eSB8fCBTZXZlcml0eS5DUklUSUNBTCxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBvbkNsb3NlLFxuICAgICAgYWN0aW9uczogZ2V0RXJyb3JBY3Rpb25zKGVycm9yKVxuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IHtcbiAgVXNhZ2VCYW5uZXIsXG4gIGdldEVycm9yQWN0aW9ucyxcbiAgcmVuZGVyQ29waWxvdEtpdFVzYWdlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNlpMUE5ZN1gubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6ZLPNY7X.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-AALETENN.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-AALETENN.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsoleTrigger: () => (/* binding */ ConsoleTrigger)\n/* harmony export */ });\n/* harmony import */ var _chunk_DSDAZA3B_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-DSDAZA3B.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-DSDAZA3B.mjs\");\n/* harmony import */ var _chunk_PIF5KJYI_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-PIF5KJYI.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PIF5KJYI.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n// src/components/dev-console/console-trigger.tsx\n\n\nfunction ConsoleTrigger({ position = \"bottom-right\" }) {\n  const context = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const hasApiKey = Boolean(context.copilotApiConfig.publicApiKey);\n  const [isModalOpen, setIsModalOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [isHovered, setIsHovered] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [isDragging, setIsDragging] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const [buttonPosition, setButtonPosition] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const dragRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setMounted(true);\n    if (typeof window !== \"undefined\" && !buttonPosition) {\n      const buttonSize = 60;\n      const margin = 24;\n      const initialPosition = {\n        x: margin,\n        y: window.innerHeight - buttonSize - margin\n      };\n      setButtonPosition(initialPosition);\n    }\n  }, [position]);\n  const handleMouseDown = (e) => {\n    e.preventDefault();\n    if (!buttonPosition)\n      return;\n    dragRef.current = {\n      startX: e.clientX,\n      startY: e.clientY,\n      buttonX: buttonPosition.x,\n      buttonY: buttonPosition.y\n    };\n    setIsDragging(true);\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!isDragging)\n      return;\n    const handleMouseMove = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (!dragRef.current)\n        return;\n      const deltaX = e.clientX - dragRef.current.startX;\n      const deltaY = e.clientY - dragRef.current.startY;\n      let newX = dragRef.current.buttonX + deltaX;\n      let newY = dragRef.current.buttonY + deltaY;\n      newX = Math.max(0, Math.min(newX, window.innerWidth - 60));\n      newY = Math.max(0, Math.min(newY, window.innerHeight - 60));\n      setButtonPosition({ x: newX, y: newY });\n    };\n    const handleMouseUp = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      setIsDragging(false);\n      dragRef.current = null;\n    };\n    document.addEventListener(\"mousemove\", handleMouseMove, { capture: true, passive: false });\n    document.addEventListener(\"mouseup\", handleMouseUp, { capture: true, passive: false });\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove, { capture: true });\n      document.removeEventListener(\"mouseup\", handleMouseUp, { capture: true });\n    };\n  }, [isDragging]);\n  if (!mounted || !buttonPosition) {\n    return null;\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n      \"button\",\n      {\n        ref: buttonRef,\n        onClick: () => {\n          if (!isDragging) {\n            setIsModalOpen(true);\n          }\n        },\n        onMouseDown: handleMouseDown,\n        onMouseEnter: () => setIsHovered(true),\n        onMouseLeave: () => setIsHovered(false),\n        style: {\n          position: \"fixed\",\n          left: `${buttonPosition.x}px`,\n          top: `${buttonPosition.y}px`,\n          zIndex: 2147483647,\n          width: \"60px\",\n          height: \"60px\",\n          background: isDragging ? \"#000000\" : isHovered ? \"#111111\" : \"#000000\",\n          color: \"white\",\n          borderRadius: \"50%\",\n          boxShadow: isDragging ? \"0 8px 32px rgba(0, 0, 0, 0.6), 0 4px 16px rgba(0, 0, 0, 0.4)\" : isHovered ? \"0 12px 40px rgba(0, 0, 0, 0.7), 0 6px 20px rgba(0, 0, 0, 0.5)\" : \"0 6px 20px rgba(0, 0, 0, 0.5), 0 3px 10px rgba(0, 0, 0, 0.3)\",\n          transition: isDragging ? \"none\" : \"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          border: \"none\",\n          cursor: isDragging ? \"grabbing\" : \"grab\",\n          opacity: 1,\n          userSelect: \"none\",\n          transform: isDragging ? \"scale(1.05)\" : isHovered ? \"scale(1.1)\" : \"scale(1)\",\n          backdropFilter: \"blur(10px)\",\n          pointerEvents: \"auto\",\n          isolation: \"isolate\"\n        },\n        title: hasApiKey ? \"Open Inspector (Drag to move)\" : \"Inspector (License Key Required, Drag to move)\",\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"div\",\n            {\n              style: {\n                width: \"28px\",\n                height: \"28px\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                filter: \"drop-shadow(0 2px 4px rgba(0,0,0,0.2))\"\n              },\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_PIF5KJYI_mjs__WEBPACK_IMPORTED_MODULE_3__.CopilotKitIcon, {})\n            }\n          ),\n          !hasApiKey && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"div\",\n            {\n              style: {\n                position: \"absolute\",\n                top: \"-2px\",\n                right: \"-2px\",\n                width: \"18px\",\n                height: \"18px\",\n                background: \"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)\",\n                borderRadius: \"50%\",\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                boxShadow: \"0 2px 8px rgba(255, 107, 107, 0.4)\",\n                border: \"2px solid white\"\n              },\n              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontSize: \"10px\", color: \"white\", fontWeight: \"bold\" }, children: \"!\" })\n            }\n          )\n        ]\n      }\n    ),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      _chunk_DSDAZA3B_mjs__WEBPACK_IMPORTED_MODULE_4__.DeveloperConsoleModal,\n      {\n        isOpen: isModalOpen,\n        onClose: () => setIsModalOpen(false),\n        hasApiKey\n      }\n    )\n  ] });\n}\n\n\n//# sourceMappingURL=chunk-AALETENN.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUFBTEVURU5OLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUdBOztBQUU5QjtBQUNvRDtBQUNJO0FBQ3hELDBCQUEwQiwyQkFBMkI7QUFDckQsa0JBQWtCLHNFQUFpQjtBQUNuQztBQUNBLHdDQUF3QywrQ0FBUTtBQUNoRCxvQ0FBb0MsK0NBQVE7QUFDNUMsc0NBQXNDLCtDQUFRO0FBQzlDLDhDQUE4QywrQ0FBUTtBQUN0RCxnQ0FBZ0MsK0NBQVE7QUFDeEMsa0JBQWtCLDZDQUFNO0FBQ3hCLG9CQUFvQiw2Q0FBTTtBQUMxQixFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtCQUFrQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCwrQkFBK0I7QUFDN0YsMERBQTBELCtCQUErQjtBQUN6RjtBQUNBLG1FQUFtRSxlQUFlO0FBQ2xGLCtEQUErRCxlQUFlO0FBQzlFO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBSSxDQUFDLHVEQUFRLElBQUk7QUFDMUMsb0JBQW9CLHVEQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUJBQWlCO0FBQ3BDLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDBCQUEwQixzREFBRztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Ysd0NBQXdDLHNEQUFHLENBQUMsK0RBQWMsSUFBSTtBQUM5RDtBQUNBO0FBQ0Esd0NBQXdDLHNEQUFHO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZix3Q0FBd0Msc0RBQUcsV0FBVyxTQUFTLHNEQUFzRCxpQkFBaUI7QUFDdEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzREFBRztBQUN2QixNQUFNLHNFQUFxQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUFBTEVURU5OLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEZXZlbG9wZXJDb25zb2xlTW9kYWxcbn0gZnJvbSBcIi4vY2h1bmstRFNEQVpBM0IubWpzXCI7XG5pbXBvcnQge1xuICBDb3BpbG90S2l0SWNvblxufSBmcm9tIFwiLi9jaHVuay1QSUY1S0pZSS5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kZXYtY29uc29sZS9jb25zb2xlLXRyaWdnZXIudHN4XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZyYWdtZW50LCBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvbnNvbGVUcmlnZ2VyKHsgcG9zaXRpb24gPSBcImJvdHRvbS1yaWdodFwiIH0pIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG4gIGNvbnN0IGhhc0FwaUtleSA9IEJvb2xlYW4oY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLnB1YmxpY0FwaUtleSk7XG4gIGNvbnN0IFtpc01vZGFsT3Blbiwgc2V0SXNNb2RhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNIb3ZlcmVkLCBzZXRJc0hvdmVyZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNEcmFnZ2luZywgc2V0SXNEcmFnZ2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtidXR0b25Qb3NpdGlvbiwgc2V0QnV0dG9uUG9zaXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFttb3VudGVkLCBzZXRNb3VudGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgZHJhZ1JlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYnV0dG9uUmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldE1vdW50ZWQodHJ1ZSk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgIWJ1dHRvblBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBidXR0b25TaXplID0gNjA7XG4gICAgICBjb25zdCBtYXJnaW4gPSAyNDtcbiAgICAgIGNvbnN0IGluaXRpYWxQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogbWFyZ2luLFxuICAgICAgICB5OiB3aW5kb3cuaW5uZXJIZWlnaHQgLSBidXR0b25TaXplIC0gbWFyZ2luXG4gICAgICB9O1xuICAgICAgc2V0QnV0dG9uUG9zaXRpb24oaW5pdGlhbFBvc2l0aW9uKTtcbiAgICB9XG4gIH0sIFtwb3NpdGlvbl0pO1xuICBjb25zdCBoYW5kbGVNb3VzZURvd24gPSAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoIWJ1dHRvblBvc2l0aW9uKVxuICAgICAgcmV0dXJuO1xuICAgIGRyYWdSZWYuY3VycmVudCA9IHtcbiAgICAgIHN0YXJ0WDogZS5jbGllbnRYLFxuICAgICAgc3RhcnRZOiBlLmNsaWVudFksXG4gICAgICBidXR0b25YOiBidXR0b25Qb3NpdGlvbi54LFxuICAgICAgYnV0dG9uWTogYnV0dG9uUG9zaXRpb24ueVxuICAgIH07XG4gICAgc2V0SXNEcmFnZ2luZyh0cnVlKTtcbiAgfTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzRHJhZ2dpbmcpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgaGFuZGxlTW91c2VNb3ZlID0gKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBpZiAoIWRyYWdSZWYuY3VycmVudClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgZGVsdGFYID0gZS5jbGllbnRYIC0gZHJhZ1JlZi5jdXJyZW50LnN0YXJ0WDtcbiAgICAgIGNvbnN0IGRlbHRhWSA9IGUuY2xpZW50WSAtIGRyYWdSZWYuY3VycmVudC5zdGFydFk7XG4gICAgICBsZXQgbmV3WCA9IGRyYWdSZWYuY3VycmVudC5idXR0b25YICsgZGVsdGFYO1xuICAgICAgbGV0IG5ld1kgPSBkcmFnUmVmLmN1cnJlbnQuYnV0dG9uWSArIGRlbHRhWTtcbiAgICAgIG5ld1ggPSBNYXRoLm1heCgwLCBNYXRoLm1pbihuZXdYLCB3aW5kb3cuaW5uZXJXaWR0aCAtIDYwKSk7XG4gICAgICBuZXdZID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obmV3WSwgd2luZG93LmlubmVySGVpZ2h0IC0gNjApKTtcbiAgICAgIHNldEJ1dHRvblBvc2l0aW9uKHsgeDogbmV3WCwgeTogbmV3WSB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHNldElzRHJhZ2dpbmcoZmFsc2UpO1xuICAgICAgZHJhZ1JlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgaGFuZGxlTW91c2VNb3ZlLCB7IGNhcHR1cmU6IHRydWUsIHBhc3NpdmU6IGZhbHNlIH0pO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGhhbmRsZU1vdXNlVXAsIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogZmFsc2UgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgaGFuZGxlTW91c2VNb3ZlLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBoYW5kbGVNb3VzZVVwLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfTtcbiAgfSwgW2lzRHJhZ2dpbmddKTtcbiAgaWYgKCFtb3VudGVkIHx8ICFidXR0b25Qb3NpdGlvbikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgXCJidXR0b25cIixcbiAgICAgIHtcbiAgICAgICAgcmVmOiBidXR0b25SZWYsXG4gICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICBpZiAoIWlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHNldElzTW9kYWxPcGVuKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25Nb3VzZURvd246IGhhbmRsZU1vdXNlRG93bixcbiAgICAgICAgb25Nb3VzZUVudGVyOiAoKSA9PiBzZXRJc0hvdmVyZWQodHJ1ZSksXG4gICAgICAgIG9uTW91c2VMZWF2ZTogKCkgPT4gc2V0SXNIb3ZlcmVkKGZhbHNlKSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgIGxlZnQ6IGAke2J1dHRvblBvc2l0aW9uLnh9cHhgLFxuICAgICAgICAgIHRvcDogYCR7YnV0dG9uUG9zaXRpb24ueX1weGAsXG4gICAgICAgICAgekluZGV4OiAyMTQ3NDgzNjQ3LFxuICAgICAgICAgIHdpZHRoOiBcIjYwcHhcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiNjBweFwiLFxuICAgICAgICAgIGJhY2tncm91bmQ6IGlzRHJhZ2dpbmcgPyBcIiMwMDAwMDBcIiA6IGlzSG92ZXJlZCA/IFwiIzExMTExMVwiIDogXCIjMDAwMDAwXCIsXG4gICAgICAgICAgY29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXG4gICAgICAgICAgYm94U2hhZG93OiBpc0RyYWdnaW5nID8gXCIwIDhweCAzMnB4IHJnYmEoMCwgMCwgMCwgMC42KSwgMCA0cHggMTZweCByZ2JhKDAsIDAsIDAsIDAuNClcIiA6IGlzSG92ZXJlZCA/IFwiMCAxMnB4IDQwcHggcmdiYSgwLCAwLCAwLCAwLjcpLCAwIDZweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KVwiIDogXCIwIDZweCAyMHB4IHJnYmEoMCwgMCwgMCwgMC41KSwgMCAzcHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMylcIixcbiAgICAgICAgICB0cmFuc2l0aW9uOiBpc0RyYWdnaW5nID8gXCJub25lXCIgOiBcImFsbCAwLjNzIGN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSlcIixcbiAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgY3Vyc29yOiBpc0RyYWdnaW5nID8gXCJncmFiYmluZ1wiIDogXCJncmFiXCIsXG4gICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICB0cmFuc2Zvcm06IGlzRHJhZ2dpbmcgPyBcInNjYWxlKDEuMDUpXCIgOiBpc0hvdmVyZWQgPyBcInNjYWxlKDEuMSlcIiA6IFwic2NhbGUoMSlcIixcbiAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogXCJibHVyKDEwcHgpXCIsXG4gICAgICAgICAgcG9pbnRlckV2ZW50czogXCJhdXRvXCIsXG4gICAgICAgICAgaXNvbGF0aW9uOiBcImlzb2xhdGVcIlxuICAgICAgICB9LFxuICAgICAgICB0aXRsZTogaGFzQXBpS2V5ID8gXCJPcGVuIEluc3BlY3RvciAoRHJhZyB0byBtb3ZlKVwiIDogXCJJbnNwZWN0b3IgKExpY2Vuc2UgS2V5IFJlcXVpcmVkLCBEcmFnIHRvIG1vdmUpXCIsXG4gICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMjhweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIyOHB4XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IFwiZHJvcC1zaGFkb3coMCAycHggNHB4IHJnYmEoMCwwLDAsMC4yKSlcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChDb3BpbG90S2l0SWNvbiwge30pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICAhaGFzQXBpS2V5ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgdG9wOiBcIi0ycHhcIixcbiAgICAgICAgICAgICAgICByaWdodDogXCItMnB4XCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMThweFwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxOHB4XCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZmY2YjZiIDAlLCAjZWU1YTI0IDEwMCUpXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgMnB4IDhweCByZ2JhKDI1NSwgMTA3LCAxMDcsIDAuNClcIixcbiAgICAgICAgICAgICAgICBib3JkZXI6IFwiMnB4IHNvbGlkIHdoaXRlXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMTBweFwiLCBjb2xvcjogXCJ3aGl0ZVwiLCBmb250V2VpZ2h0OiBcImJvbGRcIiB9LCBjaGlsZHJlbjogXCIhXCIgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApXG4gICAgICAgIF1cbiAgICAgIH1cbiAgICApLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBEZXZlbG9wZXJDb25zb2xlTW9kYWwsXG4gICAgICB7XG4gICAgICAgIGlzT3BlbjogaXNNb2RhbE9wZW4sXG4gICAgICAgIG9uQ2xvc2U6ICgpID0+IHNldElzTW9kYWxPcGVuKGZhbHNlKSxcbiAgICAgICAgaGFzQXBpS2V5XG4gICAgICB9XG4gICAgKVxuICBdIH0pO1xufVxuXG5leHBvcnQge1xuICBDb25zb2xlVHJpZ2dlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUFBTEVURU5OLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-AALETENN.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultSystemMessage: () => (/* binding */ defaultSystemMessage),\n/* harmony export */   useCopilotChat: () => (/* binding */ useCopilotChat)\n/* harmony export */ });\n/* harmony import */ var _chunk_QF3Q5LUN_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-QF3Q5LUN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QF3Q5LUN.mjs\");\n/* harmony import */ var _chunk_LLLCUHOO_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-LLLCUHOO.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-LLLCUHOO.mjs\");\n/* harmony import */ var _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-6WTWBXEJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6WTWBXEJ.mjs\");\n/* harmony import */ var _chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-N4WEHORG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ZLQVRPDS.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-SCACOKQX.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WXA3UP7I.mjs\");\n\n\n\n\n\n\n\n\n// src/hooks/use-copilot-chat_internal.ts\n\n\nvar globalSuggestionPromise = null;\nfunction useCopilotChat(options = {}) {\n  var _a;\n  const makeSystemMessage = (_a = options.makeSystemMessage) != null ? _a : defaultSystemMessage;\n  const {\n    getContextString,\n    getFunctionCallHandler,\n    copilotApiConfig,\n    isLoading,\n    setIsLoading,\n    chatInstructions,\n    actions,\n    coagentStatesRef,\n    setCoagentStatesWithRef,\n    coAgentStateRenders,\n    agentSession,\n    setAgentSession,\n    forwardedParameters,\n    agentLock,\n    threadId,\n    setThreadId,\n    runId,\n    setRunId,\n    chatAbortControllerRef,\n    extensions,\n    setExtensions,\n    langGraphInterruptAction,\n    setLangGraphInterruptAction,\n    chatSuggestionConfiguration,\n    runtimeClient\n  } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const { messages, setMessages, suggestions, setSuggestions } = (0,_chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotMessagesContext)();\n  const [mcpServers, setLocalMcpServers] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const suggestionsAbortControllerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const isLoadingSuggestionsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const abortSuggestions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (clear = true) => {\n      var _a2;\n      (_a2 = suggestionsAbortControllerRef.current) == null ? void 0 : _a2.abort(\"suggestions aborted by user\");\n      suggestionsAbortControllerRef.current = null;\n      if (clear) {\n        setSuggestions([]);\n      }\n    },\n    [setSuggestions]\n  );\n  const stableContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return {\n      actions,\n      copilotApiConfig,\n      chatSuggestionConfiguration,\n      messages,\n      setMessages,\n      getContextString,\n      runtimeClient\n    };\n  }, [\n    JSON.stringify(Object.keys(actions)),\n    copilotApiConfig.chatApiEndpoint,\n    messages.length,\n    Object.keys(chatSuggestionConfiguration).length\n  ]);\n  const generateSuggestionsFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n    if (globalSuggestionPromise) {\n      return globalSuggestionPromise;\n    }\n    globalSuggestionPromise = (() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n      try {\n        abortSuggestions();\n        isLoadingSuggestionsRef.current = true;\n        suggestionsAbortControllerRef.current = new AbortController();\n        setSuggestions([]);\n        yield (0,_chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_4__.reloadSuggestions)(\n          stableContext,\n          chatSuggestionConfiguration,\n          setSuggestions,\n          suggestionsAbortControllerRef\n        );\n      } catch (error) {\n        throw error;\n      } finally {\n        isLoadingSuggestionsRef.current = false;\n        globalSuggestionPromise = null;\n      }\n    }))();\n    return globalSuggestionPromise;\n  }), [stableContext, chatSuggestionConfiguration, setSuggestions, abortSuggestions]);\n  const resetSuggestions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    setSuggestions([]);\n  }, [setSuggestions]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (mcpServers.length > 0) {\n      const serversCopy = [...mcpServers];\n      copilotApiConfig.mcpServers = serversCopy;\n      if (!copilotApiConfig.properties) {\n        copilotApiConfig.properties = {};\n      }\n      copilotApiConfig.properties.mcpServers = serversCopy;\n    }\n  }, [mcpServers, copilotApiConfig]);\n  const setMcpServers = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((servers) => {\n    setLocalMcpServers(servers);\n  }, []);\n  const onCoAgentStateRender = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useAsyncCallback)(\n    (args) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n      var _a2;\n      const { name, nodeName, state } = args;\n      let action = Object.values(coAgentStateRenders).find(\n        (action2) => action2.name === name && action2.nodeName === nodeName\n      );\n      if (!action) {\n        action = Object.values(coAgentStateRenders).find(\n          (action2) => action2.name === name && !action2.nodeName\n        );\n      }\n      if (action) {\n        yield (_a2 = action.handler) == null ? void 0 : _a2.call(action, { state, nodeName });\n      }\n    }),\n    [coAgentStateRenders]\n  );\n  const makeSystemMessageCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    const systemMessageMaker = makeSystemMessage || defaultSystemMessage;\n    const contextString = getContextString([], _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_4__.defaultCopilotContextCategories);\n    return new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.TextMessage({\n      content: systemMessageMaker(contextString, chatInstructions),\n      role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.Role.System\n    });\n  }, [getContextString, makeSystemMessage, chatInstructions]);\n  const deleteMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messageId) => {\n      setMessages((prev) => prev.filter((message) => message.id !== messageId));\n    },\n    [setMessages]\n  );\n  const { append, reload, stop, runChatCompletion } = (0,_chunk_LLLCUHOO_mjs__WEBPACK_IMPORTED_MODULE_7__.useChat)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, options), {\n    actions: Object.values(actions),\n    copilotConfig: copilotApiConfig,\n    initialMessages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.aguiToGQL)(options.initialMessages || []),\n    onFunctionCall: getFunctionCallHandler(),\n    onCoAgentStateRender,\n    messages,\n    setMessages,\n    makeSystemMessageCallback,\n    isLoading,\n    setIsLoading,\n    coagentStatesRef,\n    setCoagentStatesWithRef,\n    agentSession,\n    setAgentSession,\n    forwardedParameters,\n    threadId,\n    setThreadId,\n    runId,\n    setRunId,\n    chatAbortControllerRef,\n    agentLock,\n    extensions,\n    setExtensions,\n    langGraphInterruptAction,\n    setLangGraphInterruptAction,\n    disableSystemMessage: options.disableSystemMessage\n  }));\n  const latestAppend = useUpdatedRef(append);\n  const latestAppendFunc = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useAsyncCallback)(\n    (message, options2) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n      abortSuggestions(options2 == null ? void 0 : options2.clearSuggestions);\n      return yield latestAppend.current(message, options2);\n    }),\n    [latestAppend]\n  );\n  const latestSendMessageFunc = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useAsyncCallback)(\n    (message, options2) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n      abortSuggestions(options2 == null ? void 0 : options2.clearSuggestions);\n      return yield latestAppend.current((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.aguiToGQL)([message])[0], options2);\n    }),\n    [latestAppend]\n  );\n  const latestReload = useUpdatedRef(reload);\n  const latestReloadFunc = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useAsyncCallback)(\n    (messageId) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n      return yield latestReload.current(messageId);\n    }),\n    [latestReload]\n  );\n  const latestStop = useUpdatedRef(stop);\n  const latestStopFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestStop.current();\n  }, [latestStop]);\n  const latestDelete = useUpdatedRef(deleteMessage);\n  const latestDeleteFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messageId) => {\n      return latestDelete.current(messageId);\n    },\n    [latestDelete]\n  );\n  const latestSetMessages = useUpdatedRef(setMessages);\n  const latestSetMessagesFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (messages2) => {\n      if (messages2.every((message) => message instanceof _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_6__.Message)) {\n        return latestSetMessages.current(messages2);\n      }\n      return latestSetMessages.current((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.aguiToGQL)(messages2));\n    },\n    [latestSetMessages]\n  );\n  const latestRunChatCompletion = useUpdatedRef(runChatCompletion);\n  const latestRunChatCompletionFunc = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useAsyncCallback)(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__async)(this, null, function* () {\n    return yield latestRunChatCompletion.current();\n  }), [latestRunChatCompletion]);\n  const reset = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    latestStopFunc();\n    setMessages([]);\n    setRunId(null);\n    setCoagentStatesWithRef({});\n    let initialAgentSession = null;\n    if (agentLock) {\n      initialAgentSession = {\n        agentName: agentLock\n      };\n    }\n    setAgentSession(initialAgentSession);\n    resetSuggestions();\n  }, [\n    latestStopFunc,\n    setMessages,\n    setThreadId,\n    setCoagentStatesWithRef,\n    setAgentSession,\n    agentLock,\n    resetSuggestions\n  ]);\n  const latestReset = useUpdatedRef(reset);\n  const latestResetFunc = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return latestReset.current();\n  }, [latestReset]);\n  const interrupt = (0,_chunk_QF3Q5LUN_mjs__WEBPACK_IMPORTED_MODULE_9__.useLangGraphInterruptRender)();\n  return {\n    visibleMessages: messages,\n    messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_10__.gqlToAGUI)(messages, actions, coAgentStateRenders),\n    sendMessage: latestSendMessageFunc,\n    appendMessage: latestAppendFunc,\n    setMessages: latestSetMessagesFunc,\n    reloadMessages: latestReloadFunc,\n    stopGeneration: latestStopFunc,\n    reset: latestResetFunc,\n    deleteMessage: latestDeleteFunc,\n    runChatCompletion: latestRunChatCompletionFunc,\n    isLoading,\n    mcpServers,\n    setMcpServers,\n    suggestions,\n    setSuggestions,\n    generateSuggestions: generateSuggestionsFunc,\n    resetSuggestions,\n    isLoadingSuggestions: isLoadingSuggestionsRef.current,\n    interrupt\n  };\n}\nfunction useUpdatedRef(value) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\nfunction defaultSystemMessage(contextString, additionalInstructions) {\n  return `\nPlease act as an efficient, competent, conscientious, and industrious professional assistant.\n\nHelp the user achieve their goals, and you do so in a way that is as efficient as possible, without unnecessary fluff, but also without sacrificing professionalism.\nAlways be polite and respectful, and prefer brevity over verbosity.\n\nThe user has provided you with the following context:\n\\`\\`\\`\n${contextString}\n\\`\\`\\`\n\nThey have also provided you with functions you can call to initiate actions on their behalf, or functions you can call to receive more information.\n\nPlease assist them as best you can.\n\nYou can ask them for clarifying questions if needed, but don't be annoying about it. If you can reasonably 'fill in the blanks' yourself, do so.\n\nIf you would like to call a function, call it without saying anything else.\nIn case of a function error:\n- If this error stems from incorrect function parameters or syntax, you may retry with corrected arguments.\n- If the error's source is unclear or seems unrelated to your input, do not attempt further retries.\n` + (additionalInstructions ? `\n\n${additionalInstructions}` : \"\");\n}\n\n\n//# sourceMappingURL=chunk-CLAHAV6J.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUNMQUhBVjZKLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFJQTtBQUdBO0FBR0E7QUFHQTtBQUtBOztBQUU5QjtBQUMwRTtBQU9sQztBQUN4QztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksRUFBRSxzRUFBaUI7QUFDdkIsVUFBVSxxREFBcUQsRUFBRSw4RUFBeUI7QUFDMUYsMkNBQTJDLCtDQUFRO0FBQ25ELHdDQUF3Qyw2Q0FBTTtBQUM5QyxrQ0FBa0MsNkNBQU07QUFDeEMsMkJBQTJCLGtEQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0IsOENBQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0RBQVcsT0FBTyw0REFBTztBQUMzRDtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNERBQU87QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsc0VBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILDJCQUEyQixrREFBVztBQUN0QztBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQSxHQUFHO0FBQ0gsK0JBQStCLHFFQUFnQjtBQUMvQyxjQUFjLDREQUFPO0FBQ3JCO0FBQ0EsY0FBYyx3QkFBd0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLGlCQUFpQjtBQUM1RjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0NBQW9DLGtEQUFXO0FBQy9DO0FBQ0EsK0NBQStDLGdGQUErQjtBQUM5RSxlQUFlLHVFQUFXO0FBQzFCO0FBQ0EsWUFBWSxnRUFBTztBQUNuQixLQUFLO0FBQ0wsR0FBRztBQUNILHdCQUF3QixrREFBVztBQUNuQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxVQUFVLDBDQUEwQyxFQUFFLDREQUFPLENBQUMsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQzdGO0FBQ0E7QUFDQSxxQkFBcUIseUVBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQixxRUFBZ0I7QUFDM0MsMkJBQTJCLDREQUFPO0FBQ2xDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGdDQUFnQyxxRUFBZ0I7QUFDaEQsMkJBQTJCLDREQUFPO0FBQ2xDO0FBQ0Esd0NBQXdDLHlFQUFTO0FBQ2pELEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIscUVBQWdCO0FBQzNDLG1CQUFtQiw0REFBTztBQUMxQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQSxHQUFHO0FBQ0g7QUFDQSwyQkFBMkIsa0RBQVc7QUFDdEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0RBQVc7QUFDM0M7QUFDQSwwREFBMEQsbUVBQW9CO0FBQzlFO0FBQ0E7QUFDQSx1Q0FBdUMseUVBQVM7QUFDaEQsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxxRUFBZ0IsT0FBTyw0REFBTztBQUNwRTtBQUNBLEdBQUc7QUFDSCxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGtEQUFXO0FBQ3JDO0FBQ0EsR0FBRztBQUNILG9CQUFvQixnRkFBMkI7QUFDL0M7QUFDQTtBQUNBLGNBQWMsMEVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkNBQU07QUFDcEIsRUFBRSxnREFBUztBQUNYO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSx1QkFBdUI7QUFDekI7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUNMQUhBVjZKLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VMYW5nR3JhcGhJbnRlcnJ1cHRSZW5kZXJcbn0gZnJvbSBcIi4vY2h1bmstUUYzUTVMVU4ubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDaGF0XG59IGZyb20gXCIuL2NodW5rLUxMTENVSE9PLm1qc1wiO1xuaW1wb3J0IHtcbiAgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcyxcbiAgcmVsb2FkU3VnZ2VzdGlvbnNcbn0gZnJvbSBcIi4vY2h1bmstNldUV0JYRUoubWpzXCI7XG5pbXBvcnQge1xuICB1c2VBc3luY0NhbGxiYWNrXG59IGZyb20gXCIuL2NodW5rLU40V0VIT1JHLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWUhUNkNXSVkubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVpMUVZSUERTLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19hc3luYyxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1jaGF0X2ludGVybmFsLnRzXG5pbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBSb2xlIGFzIGdxbFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBhZ3VpVG9HUUwsXG4gIGdxbFRvQUdVSSxcbiAgTWVzc2FnZSBhcyBEZXByZWNhdGVkR3FsTWVzc2FnZVxufSBmcm9tIFwiQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsXCI7XG52YXIgZ2xvYmFsU3VnZ2VzdGlvblByb21pc2UgPSBudWxsO1xuZnVuY3Rpb24gdXNlQ29waWxvdENoYXQob3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbWFrZVN5c3RlbU1lc3NhZ2UgPSAoX2EgPSBvcHRpb25zLm1ha2VTeXN0ZW1NZXNzYWdlKSAhPSBudWxsID8gX2EgOiBkZWZhdWx0U3lzdGVtTWVzc2FnZTtcbiAgY29uc3Qge1xuICAgIGdldENvbnRleHRTdHJpbmcsXG4gICAgZ2V0RnVuY3Rpb25DYWxsSGFuZGxlcixcbiAgICBjb3BpbG90QXBpQ29uZmlnLFxuICAgIGlzTG9hZGluZyxcbiAgICBzZXRJc0xvYWRpbmcsXG4gICAgY2hhdEluc3RydWN0aW9ucyxcbiAgICBhY3Rpb25zLFxuICAgIGNvYWdlbnRTdGF0ZXNSZWYsXG4gICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYsXG4gICAgY29BZ2VudFN0YXRlUmVuZGVycyxcbiAgICBhZ2VudFNlc3Npb24sXG4gICAgc2V0QWdlbnRTZXNzaW9uLFxuICAgIGZvcndhcmRlZFBhcmFtZXRlcnMsXG4gICAgYWdlbnRMb2NrLFxuICAgIHRocmVhZElkLFxuICAgIHNldFRocmVhZElkLFxuICAgIHJ1bklkLFxuICAgIHNldFJ1bklkLFxuICAgIGNoYXRBYm9ydENvbnRyb2xsZXJSZWYsXG4gICAgZXh0ZW5zaW9ucyxcbiAgICBzZXRFeHRlbnNpb25zLFxuICAgIGxhbmdHcmFwaEludGVycnVwdEFjdGlvbixcbiAgICBzZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24sXG4gICAgY2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uLFxuICAgIHJ1bnRpbWVDbGllbnRcbiAgfSA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG4gIGNvbnN0IHsgbWVzc2FnZXMsIHNldE1lc3NhZ2VzLCBzdWdnZXN0aW9ucywgc2V0U3VnZ2VzdGlvbnMgfSA9IHVzZUNvcGlsb3RNZXNzYWdlc0NvbnRleHQoKTtcbiAgY29uc3QgW21jcFNlcnZlcnMsIHNldExvY2FsTWNwU2VydmVyc10gPSB1c2VTdGF0ZShbXSk7XG4gIGNvbnN0IHN1Z2dlc3Rpb25zQWJvcnRDb250cm9sbGVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBpc0xvYWRpbmdTdWdnZXN0aW9uc1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IGFib3J0U3VnZ2VzdGlvbnMgPSB1c2VDYWxsYmFjayhcbiAgICAoY2xlYXIgPSB0cnVlKSA9PiB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgKF9hMiA9IHN1Z2dlc3Rpb25zQWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuYWJvcnQoXCJzdWdnZXN0aW9ucyBhYm9ydGVkIGJ5IHVzZXJcIik7XG4gICAgICBzdWdnZXN0aW9uc0Fib3J0Q29udHJvbGxlclJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIGlmIChjbGVhcikge1xuICAgICAgICBzZXRTdWdnZXN0aW9ucyhbXSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbc2V0U3VnZ2VzdGlvbnNdXG4gICk7XG4gIGNvbnN0IHN0YWJsZUNvbnRleHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aW9ucyxcbiAgICAgIGNvcGlsb3RBcGlDb25maWcsXG4gICAgICBjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgICBtZXNzYWdlcyxcbiAgICAgIHNldE1lc3NhZ2VzLFxuICAgICAgZ2V0Q29udGV4dFN0cmluZyxcbiAgICAgIHJ1bnRpbWVDbGllbnRcbiAgICB9O1xuICB9LCBbXG4gICAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoYWN0aW9ucykpLFxuICAgIGNvcGlsb3RBcGlDb25maWcuY2hhdEFwaUVuZHBvaW50LFxuICAgIG1lc3NhZ2VzLmxlbmd0aCxcbiAgICBPYmplY3Qua2V5cyhjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24pLmxlbmd0aFxuICBdKTtcbiAgY29uc3QgZ2VuZXJhdGVTdWdnZXN0aW9uc0Z1bmMgPSB1c2VDYWxsYmFjaygoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKGdsb2JhbFN1Z2dlc3Rpb25Qcm9taXNlKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsU3VnZ2VzdGlvblByb21pc2U7XG4gICAgfVxuICAgIGdsb2JhbFN1Z2dlc3Rpb25Qcm9taXNlID0gKCgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGFib3J0U3VnZ2VzdGlvbnMoKTtcbiAgICAgICAgaXNMb2FkaW5nU3VnZ2VzdGlvbnNSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIHN1Z2dlc3Rpb25zQWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHNldFN1Z2dlc3Rpb25zKFtdKTtcbiAgICAgICAgeWllbGQgcmVsb2FkU3VnZ2VzdGlvbnMoXG4gICAgICAgICAgc3RhYmxlQ29udGV4dCxcbiAgICAgICAgICBjaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgc2V0U3VnZ2VzdGlvbnMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnNBYm9ydENvbnRyb2xsZXJSZWZcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNMb2FkaW5nU3VnZ2VzdGlvbnNSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBnbG9iYWxTdWdnZXN0aW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICB9XG4gICAgfSkpKCk7XG4gICAgcmV0dXJuIGdsb2JhbFN1Z2dlc3Rpb25Qcm9taXNlO1xuICB9KSwgW3N0YWJsZUNvbnRleHQsIGNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbiwgc2V0U3VnZ2VzdGlvbnMsIGFib3J0U3VnZ2VzdGlvbnNdKTtcbiAgY29uc3QgcmVzZXRTdWdnZXN0aW9ucyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRTdWdnZXN0aW9ucyhbXSk7XG4gIH0sIFtzZXRTdWdnZXN0aW9uc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtY3BTZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHNlcnZlcnNDb3B5ID0gWy4uLm1jcFNlcnZlcnNdO1xuICAgICAgY29waWxvdEFwaUNvbmZpZy5tY3BTZXJ2ZXJzID0gc2VydmVyc0NvcHk7XG4gICAgICBpZiAoIWNvcGlsb3RBcGlDb25maWcucHJvcGVydGllcykge1xuICAgICAgICBjb3BpbG90QXBpQ29uZmlnLnByb3BlcnRpZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGNvcGlsb3RBcGlDb25maWcucHJvcGVydGllcy5tY3BTZXJ2ZXJzID0gc2VydmVyc0NvcHk7XG4gICAgfVxuICB9LCBbbWNwU2VydmVycywgY29waWxvdEFwaUNvbmZpZ10pO1xuICBjb25zdCBzZXRNY3BTZXJ2ZXJzID0gdXNlQ2FsbGJhY2soKHNlcnZlcnMpID0+IHtcbiAgICBzZXRMb2NhbE1jcFNlcnZlcnMoc2VydmVycyk7XG4gIH0sIFtdKTtcbiAgY29uc3Qgb25Db0FnZW50U3RhdGVSZW5kZXIgPSB1c2VBc3luY0NhbGxiYWNrKFxuICAgIChhcmdzKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB2YXIgX2EyO1xuICAgICAgY29uc3QgeyBuYW1lLCBub2RlTmFtZSwgc3RhdGUgfSA9IGFyZ3M7XG4gICAgICBsZXQgYWN0aW9uID0gT2JqZWN0LnZhbHVlcyhjb0FnZW50U3RhdGVSZW5kZXJzKS5maW5kKFxuICAgICAgICAoYWN0aW9uMikgPT4gYWN0aW9uMi5uYW1lID09PSBuYW1lICYmIGFjdGlvbjIubm9kZU5hbWUgPT09IG5vZGVOYW1lXG4gICAgICApO1xuICAgICAgaWYgKCFhY3Rpb24pIHtcbiAgICAgICAgYWN0aW9uID0gT2JqZWN0LnZhbHVlcyhjb0FnZW50U3RhdGVSZW5kZXJzKS5maW5kKFxuICAgICAgICAgIChhY3Rpb24yKSA9PiBhY3Rpb24yLm5hbWUgPT09IG5hbWUgJiYgIWFjdGlvbjIubm9kZU5hbWVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChhY3Rpb24pIHtcbiAgICAgICAgeWllbGQgKF9hMiA9IGFjdGlvbi5oYW5kbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNhbGwoYWN0aW9uLCB7IHN0YXRlLCBub2RlTmFtZSB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbY29BZ2VudFN0YXRlUmVuZGVyc11cbiAgKTtcbiAgY29uc3QgbWFrZVN5c3RlbU1lc3NhZ2VDYWxsYmFjayA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBjb25zdCBzeXN0ZW1NZXNzYWdlTWFrZXIgPSBtYWtlU3lzdGVtTWVzc2FnZSB8fCBkZWZhdWx0U3lzdGVtTWVzc2FnZTtcbiAgICBjb25zdCBjb250ZXh0U3RyaW5nID0gZ2V0Q29udGV4dFN0cmluZyhbXSwgZGVmYXVsdENvcGlsb3RDb250ZXh0Q2F0ZWdvcmllcyk7XG4gICAgcmV0dXJuIG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgICBjb250ZW50OiBzeXN0ZW1NZXNzYWdlTWFrZXIoY29udGV4dFN0cmluZywgY2hhdEluc3RydWN0aW9ucyksXG4gICAgICByb2xlOiBncWxSb2xlLlN5c3RlbVxuICAgIH0pO1xuICB9LCBbZ2V0Q29udGV4dFN0cmluZywgbWFrZVN5c3RlbU1lc3NhZ2UsIGNoYXRJbnN0cnVjdGlvbnNdKTtcbiAgY29uc3QgZGVsZXRlTWVzc2FnZSA9IHVzZUNhbGxiYWNrKFxuICAgIChtZXNzYWdlSWQpID0+IHtcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigobWVzc2FnZSkgPT4gbWVzc2FnZS5pZCAhPT0gbWVzc2FnZUlkKSk7XG4gICAgfSxcbiAgICBbc2V0TWVzc2FnZXNdXG4gICk7XG4gIGNvbnN0IHsgYXBwZW5kLCByZWxvYWQsIHN0b3AsIHJ1bkNoYXRDb21wbGV0aW9uIH0gPSB1c2VDaGF0KF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG9wdGlvbnMpLCB7XG4gICAgYWN0aW9uczogT2JqZWN0LnZhbHVlcyhhY3Rpb25zKSxcbiAgICBjb3BpbG90Q29uZmlnOiBjb3BpbG90QXBpQ29uZmlnLFxuICAgIGluaXRpYWxNZXNzYWdlczogYWd1aVRvR1FMKG9wdGlvbnMuaW5pdGlhbE1lc3NhZ2VzIHx8IFtdKSxcbiAgICBvbkZ1bmN0aW9uQ2FsbDogZ2V0RnVuY3Rpb25DYWxsSGFuZGxlcigpLFxuICAgIG9uQ29BZ2VudFN0YXRlUmVuZGVyLFxuICAgIG1lc3NhZ2VzLFxuICAgIHNldE1lc3NhZ2VzLFxuICAgIG1ha2VTeXN0ZW1NZXNzYWdlQ2FsbGJhY2ssXG4gICAgaXNMb2FkaW5nLFxuICAgIHNldElzTG9hZGluZyxcbiAgICBjb2FnZW50U3RhdGVzUmVmLFxuICAgIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmLFxuICAgIGFnZW50U2Vzc2lvbixcbiAgICBzZXRBZ2VudFNlc3Npb24sXG4gICAgZm9yd2FyZGVkUGFyYW1ldGVycyxcbiAgICB0aHJlYWRJZCxcbiAgICBzZXRUaHJlYWRJZCxcbiAgICBydW5JZCxcbiAgICBzZXRSdW5JZCxcbiAgICBjaGF0QWJvcnRDb250cm9sbGVyUmVmLFxuICAgIGFnZW50TG9jayxcbiAgICBleHRlbnNpb25zLFxuICAgIHNldEV4dGVuc2lvbnMsXG4gICAgbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLFxuICAgIHNldExhbmdHcmFwaEludGVycnVwdEFjdGlvbixcbiAgICBkaXNhYmxlU3lzdGVtTWVzc2FnZTogb3B0aW9ucy5kaXNhYmxlU3lzdGVtTWVzc2FnZVxuICB9KSk7XG4gIGNvbnN0IGxhdGVzdEFwcGVuZCA9IHVzZVVwZGF0ZWRSZWYoYXBwZW5kKTtcbiAgY29uc3QgbGF0ZXN0QXBwZW5kRnVuYyA9IHVzZUFzeW5jQ2FsbGJhY2soXG4gICAgKG1lc3NhZ2UsIG9wdGlvbnMyKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBhYm9ydFN1Z2dlc3Rpb25zKG9wdGlvbnMyID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zMi5jbGVhclN1Z2dlc3Rpb25zKTtcbiAgICAgIHJldHVybiB5aWVsZCBsYXRlc3RBcHBlbmQuY3VycmVudChtZXNzYWdlLCBvcHRpb25zMik7XG4gICAgfSksXG4gICAgW2xhdGVzdEFwcGVuZF1cbiAgKTtcbiAgY29uc3QgbGF0ZXN0U2VuZE1lc3NhZ2VGdW5jID0gdXNlQXN5bmNDYWxsYmFjayhcbiAgICAobWVzc2FnZSwgb3B0aW9uczIpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGFib3J0U3VnZ2VzdGlvbnMob3B0aW9uczIgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMyLmNsZWFyU3VnZ2VzdGlvbnMpO1xuICAgICAgcmV0dXJuIHlpZWxkIGxhdGVzdEFwcGVuZC5jdXJyZW50KGFndWlUb0dRTChbbWVzc2FnZV0pWzBdLCBvcHRpb25zMik7XG4gICAgfSksXG4gICAgW2xhdGVzdEFwcGVuZF1cbiAgKTtcbiAgY29uc3QgbGF0ZXN0UmVsb2FkID0gdXNlVXBkYXRlZFJlZihyZWxvYWQpO1xuICBjb25zdCBsYXRlc3RSZWxvYWRGdW5jID0gdXNlQXN5bmNDYWxsYmFjayhcbiAgICAobWVzc2FnZUlkKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICByZXR1cm4geWllbGQgbGF0ZXN0UmVsb2FkLmN1cnJlbnQobWVzc2FnZUlkKTtcbiAgICB9KSxcbiAgICBbbGF0ZXN0UmVsb2FkXVxuICApO1xuICBjb25zdCBsYXRlc3RTdG9wID0gdXNlVXBkYXRlZFJlZihzdG9wKTtcbiAgY29uc3QgbGF0ZXN0U3RvcEZ1bmMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgcmV0dXJuIGxhdGVzdFN0b3AuY3VycmVudCgpO1xuICB9LCBbbGF0ZXN0U3RvcF0pO1xuICBjb25zdCBsYXRlc3REZWxldGUgPSB1c2VVcGRhdGVkUmVmKGRlbGV0ZU1lc3NhZ2UpO1xuICBjb25zdCBsYXRlc3REZWxldGVGdW5jID0gdXNlQ2FsbGJhY2soXG4gICAgKG1lc3NhZ2VJZCkgPT4ge1xuICAgICAgcmV0dXJuIGxhdGVzdERlbGV0ZS5jdXJyZW50KG1lc3NhZ2VJZCk7XG4gICAgfSxcbiAgICBbbGF0ZXN0RGVsZXRlXVxuICApO1xuICBjb25zdCBsYXRlc3RTZXRNZXNzYWdlcyA9IHVzZVVwZGF0ZWRSZWYoc2V0TWVzc2FnZXMpO1xuICBjb25zdCBsYXRlc3RTZXRNZXNzYWdlc0Z1bmMgPSB1c2VDYWxsYmFjayhcbiAgICAobWVzc2FnZXMyKSA9PiB7XG4gICAgICBpZiAobWVzc2FnZXMyLmV2ZXJ5KChtZXNzYWdlKSA9PiBtZXNzYWdlIGluc3RhbmNlb2YgRGVwcmVjYXRlZEdxbE1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiBsYXRlc3RTZXRNZXNzYWdlcy5jdXJyZW50KG1lc3NhZ2VzMik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGF0ZXN0U2V0TWVzc2FnZXMuY3VycmVudChhZ3VpVG9HUUwobWVzc2FnZXMyKSk7XG4gICAgfSxcbiAgICBbbGF0ZXN0U2V0TWVzc2FnZXNdXG4gICk7XG4gIGNvbnN0IGxhdGVzdFJ1bkNoYXRDb21wbGV0aW9uID0gdXNlVXBkYXRlZFJlZihydW5DaGF0Q29tcGxldGlvbik7XG4gIGNvbnN0IGxhdGVzdFJ1bkNoYXRDb21wbGV0aW9uRnVuYyA9IHVzZUFzeW5jQ2FsbGJhY2soKCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHJldHVybiB5aWVsZCBsYXRlc3RSdW5DaGF0Q29tcGxldGlvbi5jdXJyZW50KCk7XG4gIH0pLCBbbGF0ZXN0UnVuQ2hhdENvbXBsZXRpb25dKTtcbiAgY29uc3QgcmVzZXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgbGF0ZXN0U3RvcEZ1bmMoKTtcbiAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgc2V0UnVuSWQobnVsbCk7XG4gICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYoe30pO1xuICAgIGxldCBpbml0aWFsQWdlbnRTZXNzaW9uID0gbnVsbDtcbiAgICBpZiAoYWdlbnRMb2NrKSB7XG4gICAgICBpbml0aWFsQWdlbnRTZXNzaW9uID0ge1xuICAgICAgICBhZ2VudE5hbWU6IGFnZW50TG9ja1xuICAgICAgfTtcbiAgICB9XG4gICAgc2V0QWdlbnRTZXNzaW9uKGluaXRpYWxBZ2VudFNlc3Npb24pO1xuICAgIHJlc2V0U3VnZ2VzdGlvbnMoKTtcbiAgfSwgW1xuICAgIGxhdGVzdFN0b3BGdW5jLFxuICAgIHNldE1lc3NhZ2VzLFxuICAgIHNldFRocmVhZElkLFxuICAgIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmLFxuICAgIHNldEFnZW50U2Vzc2lvbixcbiAgICBhZ2VudExvY2ssXG4gICAgcmVzZXRTdWdnZXN0aW9uc1xuICBdKTtcbiAgY29uc3QgbGF0ZXN0UmVzZXQgPSB1c2VVcGRhdGVkUmVmKHJlc2V0KTtcbiAgY29uc3QgbGF0ZXN0UmVzZXRGdW5jID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHJldHVybiBsYXRlc3RSZXNldC5jdXJyZW50KCk7XG4gIH0sIFtsYXRlc3RSZXNldF0pO1xuICBjb25zdCBpbnRlcnJ1cHQgPSB1c2VMYW5nR3JhcGhJbnRlcnJ1cHRSZW5kZXIoKTtcbiAgcmV0dXJuIHtcbiAgICB2aXNpYmxlTWVzc2FnZXM6IG1lc3NhZ2VzLFxuICAgIG1lc3NhZ2VzOiBncWxUb0FHVUkobWVzc2FnZXMsIGFjdGlvbnMsIGNvQWdlbnRTdGF0ZVJlbmRlcnMpLFxuICAgIHNlbmRNZXNzYWdlOiBsYXRlc3RTZW5kTWVzc2FnZUZ1bmMsXG4gICAgYXBwZW5kTWVzc2FnZTogbGF0ZXN0QXBwZW5kRnVuYyxcbiAgICBzZXRNZXNzYWdlczogbGF0ZXN0U2V0TWVzc2FnZXNGdW5jLFxuICAgIHJlbG9hZE1lc3NhZ2VzOiBsYXRlc3RSZWxvYWRGdW5jLFxuICAgIHN0b3BHZW5lcmF0aW9uOiBsYXRlc3RTdG9wRnVuYyxcbiAgICByZXNldDogbGF0ZXN0UmVzZXRGdW5jLFxuICAgIGRlbGV0ZU1lc3NhZ2U6IGxhdGVzdERlbGV0ZUZ1bmMsXG4gICAgcnVuQ2hhdENvbXBsZXRpb246IGxhdGVzdFJ1bkNoYXRDb21wbGV0aW9uRnVuYyxcbiAgICBpc0xvYWRpbmcsXG4gICAgbWNwU2VydmVycyxcbiAgICBzZXRNY3BTZXJ2ZXJzLFxuICAgIHN1Z2dlc3Rpb25zLFxuICAgIHNldFN1Z2dlc3Rpb25zLFxuICAgIGdlbmVyYXRlU3VnZ2VzdGlvbnM6IGdlbmVyYXRlU3VnZ2VzdGlvbnNGdW5jLFxuICAgIHJlc2V0U3VnZ2VzdGlvbnMsXG4gICAgaXNMb2FkaW5nU3VnZ2VzdGlvbnM6IGlzTG9hZGluZ1N1Z2dlc3Rpb25zUmVmLmN1cnJlbnQsXG4gICAgaW50ZXJydXB0XG4gIH07XG59XG5mdW5jdGlvbiB1c2VVcGRhdGVkUmVmKHZhbHVlKSB7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZih2YWx1ZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSwgW3ZhbHVlXSk7XG4gIHJldHVybiByZWY7XG59XG5mdW5jdGlvbiBkZWZhdWx0U3lzdGVtTWVzc2FnZShjb250ZXh0U3RyaW5nLCBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zKSB7XG4gIHJldHVybiBgXG5QbGVhc2UgYWN0IGFzIGFuIGVmZmljaWVudCwgY29tcGV0ZW50LCBjb25zY2llbnRpb3VzLCBhbmQgaW5kdXN0cmlvdXMgcHJvZmVzc2lvbmFsIGFzc2lzdGFudC5cblxuSGVscCB0aGUgdXNlciBhY2hpZXZlIHRoZWlyIGdvYWxzLCBhbmQgeW91IGRvIHNvIGluIGEgd2F5IHRoYXQgaXMgYXMgZWZmaWNpZW50IGFzIHBvc3NpYmxlLCB3aXRob3V0IHVubmVjZXNzYXJ5IGZsdWZmLCBidXQgYWxzbyB3aXRob3V0IHNhY3JpZmljaW5nIHByb2Zlc3Npb25hbGlzbS5cbkFsd2F5cyBiZSBwb2xpdGUgYW5kIHJlc3BlY3RmdWwsIGFuZCBwcmVmZXIgYnJldml0eSBvdmVyIHZlcmJvc2l0eS5cblxuVGhlIHVzZXIgaGFzIHByb3ZpZGVkIHlvdSB3aXRoIHRoZSBmb2xsb3dpbmcgY29udGV4dDpcblxcYFxcYFxcYFxuJHtjb250ZXh0U3RyaW5nfVxuXFxgXFxgXFxgXG5cblRoZXkgaGF2ZSBhbHNvIHByb3ZpZGVkIHlvdSB3aXRoIGZ1bmN0aW9ucyB5b3UgY2FuIGNhbGwgdG8gaW5pdGlhdGUgYWN0aW9ucyBvbiB0aGVpciBiZWhhbGYsIG9yIGZ1bmN0aW9ucyB5b3UgY2FuIGNhbGwgdG8gcmVjZWl2ZSBtb3JlIGluZm9ybWF0aW9uLlxuXG5QbGVhc2UgYXNzaXN0IHRoZW0gYXMgYmVzdCB5b3UgY2FuLlxuXG5Zb3UgY2FuIGFzayB0aGVtIGZvciBjbGFyaWZ5aW5nIHF1ZXN0aW9ucyBpZiBuZWVkZWQsIGJ1dCBkb24ndCBiZSBhbm5veWluZyBhYm91dCBpdC4gSWYgeW91IGNhbiByZWFzb25hYmx5ICdmaWxsIGluIHRoZSBibGFua3MnIHlvdXJzZWxmLCBkbyBzby5cblxuSWYgeW91IHdvdWxkIGxpa2UgdG8gY2FsbCBhIGZ1bmN0aW9uLCBjYWxsIGl0IHdpdGhvdXQgc2F5aW5nIGFueXRoaW5nIGVsc2UuXG5JbiBjYXNlIG9mIGEgZnVuY3Rpb24gZXJyb3I6XG4tIElmIHRoaXMgZXJyb3Igc3RlbXMgZnJvbSBpbmNvcnJlY3QgZnVuY3Rpb24gcGFyYW1ldGVycyBvciBzeW50YXgsIHlvdSBtYXkgcmV0cnkgd2l0aCBjb3JyZWN0ZWQgYXJndW1lbnRzLlxuLSBJZiB0aGUgZXJyb3IncyBzb3VyY2UgaXMgdW5jbGVhciBvciBzZWVtcyB1bnJlbGF0ZWQgdG8geW91ciBpbnB1dCwgZG8gbm90IGF0dGVtcHQgZnVydGhlciByZXRyaWVzLlxuYCArIChhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zID8gYFxuXG4ke2FkZGl0aW9uYWxJbnN0cnVjdGlvbnN9YCA6IFwiXCIpO1xufVxuXG5leHBvcnQge1xuICB1c2VDb3BpbG90Q2hhdCxcbiAgZGVmYXVsdFN5c3RlbU1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1DTEFIQVY2Si5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CXDK6XA5.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-CXDK6XA5.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMakeCopilotDocumentReadable: () => (/* binding */ useMakeCopilotDocumentReadable)\n/* harmony export */ });\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-make-copilot-document-readable.ts\n\nfunction useMakeCopilotDocumentReadable(document, categories, dependencies = []) {\n  const { addDocumentContext, removeDocumentContext } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const id = addDocumentContext(document, categories);\n    idRef.current = id;\n    return () => {\n      removeDocumentContext(id);\n    };\n  }, [addDocumentContext, removeDocumentContext, ...dependencies]);\n  return idRef.current;\n}\n\n\n//# sourceMappingURL=chunk-CXDK6XA5.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUNYREs2WEE1Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQzBDO0FBQzFDO0FBQ0EsVUFBVSw0Q0FBNEMsRUFBRSxzRUFBaUI7QUFDekUsZ0JBQWdCLDZDQUFNO0FBQ3RCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUNYREs2WEE1Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1ZSFQ2Q1dJWS5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS1tYWtlLWNvcGlsb3QtZG9jdW1lbnQtcmVhZGFibGUudHNcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VNYWtlQ29waWxvdERvY3VtZW50UmVhZGFibGUoZG9jdW1lbnQsIGNhdGVnb3JpZXMsIGRlcGVuZGVuY2llcyA9IFtdKSB7XG4gIGNvbnN0IHsgYWRkRG9jdW1lbnRDb250ZXh0LCByZW1vdmVEb2N1bWVudENvbnRleHQgfSA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG4gIGNvbnN0IGlkUmVmID0gdXNlUmVmKCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaWQgPSBhZGREb2N1bWVudENvbnRleHQoZG9jdW1lbnQsIGNhdGVnb3JpZXMpO1xuICAgIGlkUmVmLmN1cnJlbnQgPSBpZDtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlRG9jdW1lbnRDb250ZXh0KGlkKTtcbiAgICB9O1xuICB9LCBbYWRkRG9jdW1lbnRDb250ZXh0LCByZW1vdmVEb2N1bWVudENvbnRleHQsIC4uLmRlcGVuZGVuY2llc10pO1xuICByZXR1cm4gaWRSZWYuY3VycmVudDtcbn1cblxuZXhwb3J0IHtcbiAgdXNlTWFrZUNvcGlsb3REb2N1bWVudFJlYWRhYmxlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstQ1hESzZYQTUubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CXDK6XA5.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-DSDAZA3B.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-DSDAZA3B.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeveloperConsoleModal: () => (/* binding */ DeveloperConsoleModal)\n/* harmony export */ });\n/* harmony import */ var _chunk_PIF5KJYI_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-PIF5KJYI.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PIF5KJYI.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-ZLQVRPDS.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n// src/components/dev-console/developer-console-modal.tsx\n\n\n\nfunction DeveloperConsoleModal({ isOpen, onClose, hasApiKey }) {\n  const context = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const messagesContext = (0,_chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_3__.useCopilotMessagesContext)();\n  const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"actions\");\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const handleEscape = (e) => {\n      if (e.key === \"Escape\") {\n        onClose();\n      }\n    };\n    if (isOpen) {\n      document.addEventListener(\"keydown\", handleEscape);\n      document.body.style.overflow = \"hidden\";\n    }\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscape);\n      document.body.style.overflow = \"unset\";\n    };\n  }, [isOpen, onClose]);\n  if (!isOpen)\n    return null;\n  const displayContext = hasApiKey ? context : {\n    actions: {\n      search_web: { name: \"search_web\", description: \"Search the web for information\" },\n      send_email: { name: \"send_email\", description: \"Send an email to a contact\" },\n      create_document: { name: \"create_document\", description: \"Create a new document\" },\n      analyze_code: {\n        name: \"analyze_code\",\n        description: \"Analyze code for issues and improvements\"\n      },\n      generate_tests: {\n        name: \"generate_tests\",\n        description: \"Generate unit tests for functions\"\n      }\n    },\n    getAllContext: () => [\n      {\n        content: \"User preferences: dark mode enabled, TypeScript preferred\",\n        metadata: { source: \"settings\" }\n      },\n      {\n        content: \"Current project: Building a React application with CopilotKit\",\n        metadata: { source: \"project\" }\n      },\n      {\n        content: \"Recent activity: Implemented authentication system\",\n        metadata: { source: \"activity\" }\n      },\n      {\n        content: \"Development environment: VS Code, Node.js 18, React 18\",\n        metadata: { source: \"environment\" }\n      }\n    ],\n    coagentStates: {\n      \"main-agent\": { status: \"active\", lastUpdate: Date.now() },\n      \"code-assistant\": { status: \"active\", lastUpdate: Date.now() - 15e3 },\n      \"search-agent\": { status: \"idle\", lastUpdate: Date.now() - 6e4 }\n    },\n    getDocumentsContext: () => [\n      {\n        content: \"README.md: Project setup and installation instructions\",\n        metadata: { type: \"documentation\" }\n      },\n      {\n        content: \"API Documentation: CopilotKit integration guide\",\n        metadata: { type: \"documentation\" }\n      },\n      {\n        content: \"package.json: Project dependencies and scripts\",\n        metadata: { type: \"configuration\" }\n      }\n    ]\n  };\n  const displayMessagesContext = hasApiKey ? messagesContext : {\n    messages: [\n      {\n        id: \"1\",\n        role: \"user\",\n        content: \"Help me implement a todo list with drag and drop functionality\"\n      },\n      {\n        id: \"2\",\n        role: \"assistant\",\n        content: \"I'll help you create a todo list with drag and drop. Let me start by setting up the basic components and then add the drag and drop functionality using React DnD.\"\n      },\n      { id: \"3\", role: \"user\", content: \"Can you also add priority levels and due dates?\" },\n      {\n        id: \"4\",\n        role: \"assistant\",\n        content: \"Absolutely! I'll enhance the todo items with priority levels (high, medium, low) and due date functionality. This will make your todo list much more powerful for task management.\"\n      },\n      { id: \"5\", role: \"user\", content: \"Perfect! How about adding categories or tags?\" }\n    ]\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: 9999,\n        backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        padding: \"16px\"\n      },\n      onClick: onClose,\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n        \"div\",\n        {\n          style: {\n            width: \"1152px\",\n            maxWidth: \"95vw\",\n            height: \"80vh\",\n            backgroundColor: \"white\",\n            borderRadius: \"12px\",\n            boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            overflow: \"hidden\",\n            position: \"relative\"\n          },\n          onClick: (e) => e.stopPropagation(),\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n              \"div\",\n              {\n                style: {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"space-between\",\n                  padding: \"24px\",\n                  borderBottom: \"1px solid #e5e7eb\",\n                  minHeight: \"73px\",\n                  flexShrink: 0,\n                  filter: !hasApiKey ? \"blur(0.3px)\" : \"none\",\n                  opacity: !hasApiKey ? 0.95 : 1\n                },\n                children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \"12px\" }, children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_PIF5KJYI_mjs__WEBPACK_IMPORTED_MODULE_4__.CopilotKitIcon, {}),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                      \"h1\",\n                      {\n                        style: {\n                          fontWeight: \"bold\",\n                          fontSize: \"20px\",\n                          color: \"#1f2937\",\n                          margin: 0\n                        },\n                        children: \"Inspector\"\n                      }\n                    ),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                      \"span\",\n                      {\n                        style: {\n                          fontSize: \"14px\",\n                          color: \"#6b7280\",\n                          backgroundColor: \"#f3f4f6\",\n                          padding: \"4px 8px\",\n                          borderRadius: \"4px\"\n                        },\n                        children: [\n                          \"v\",\n                          _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.COPILOTKIT_VERSION\n                        ]\n                      }\n                    )\n                  ] }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    \"button\",\n                    {\n                      onClick: onClose,\n                      style: {\n                        color: \"#9ca3af\",\n                        fontSize: \"24px\",\n                        fontWeight: \"300\",\n                        border: \"none\",\n                        background: \"none\",\n                        cursor: \"pointer\",\n                        padding: \"4px\"\n                      },\n                      onMouseEnter: (e) => e.currentTarget.style.color = \"#4b5563\",\n                      onMouseLeave: (e) => e.currentTarget.style.color = \"#9ca3af\",\n                      children: \"\\xD7\"\n                    }\n                  )\n                ]\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"div\",\n              {\n                style: {\n                  display: \"flex\",\n                  borderBottom: \"1px solid #e5e7eb\",\n                  backgroundColor: \"#f9fafb\",\n                  minHeight: \"50px\",\n                  flexShrink: 0,\n                  filter: !hasApiKey ? \"blur(0.3px)\" : \"none\",\n                  opacity: !hasApiKey ? 0.9 : 1\n                },\n                children: [\n                  { id: \"actions\", label: \"Actions\", count: Object.keys(displayContext.actions).length },\n                  { id: \"readables\", label: \"Readables\", count: displayContext.getAllContext().length },\n                  {\n                    id: \"agent\",\n                    label: \"Agent Status\",\n                    count: Object.keys(displayContext.coagentStates).length\n                  },\n                  { id: \"messages\", label: \"Messages\", count: displayMessagesContext.messages.length },\n                  {\n                    id: \"context\",\n                    label: \"Context\",\n                    count: displayContext.getDocumentsContext([]).length\n                  }\n                ].map((tab) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                  \"button\",\n                  {\n                    onClick: () => setActiveTab(tab.id),\n                    style: {\n                      padding: \"12px 24px\",\n                      fontSize: \"14px\",\n                      fontWeight: \"500\",\n                      border: \"none\",\n                      cursor: \"pointer\",\n                      backgroundColor: activeTab === tab.id ? \"white\" : \"transparent\",\n                      color: activeTab === tab.id ? \"#2563eb\" : \"#6b7280\",\n                      borderBottom: activeTab === tab.id ? \"2px solid #2563eb\" : \"none\",\n                      transition: \"all 0.2s\"\n                    },\n                    onMouseEnter: (e) => {\n                      if (activeTab !== tab.id) {\n                        e.currentTarget.style.color = \"#1f2937\";\n                        e.currentTarget.style.backgroundColor = \"#f3f4f6\";\n                      }\n                    },\n                    onMouseLeave: (e) => {\n                      if (activeTab !== tab.id) {\n                        e.currentTarget.style.color = \"#6b7280\";\n                        e.currentTarget.style.backgroundColor = \"transparent\";\n                      }\n                    },\n                    children: [\n                      tab.label,\n                      tab.count > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                        \"span\",\n                        {\n                          style: {\n                            marginLeft: \"8px\",\n                            backgroundColor: \"#e5e7eb\",\n                            color: \"#374151\",\n                            padding: \"2px 8px\",\n                            borderRadius: \"9999px\",\n                            fontSize: \"12px\"\n                          },\n                          children: tab.count\n                        }\n                      )\n                    ]\n                  },\n                  tab.id\n                ))\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n              \"div\",\n              {\n                style: {\n                  height: \"calc(100% - 142px)\",\n                  overflow: \"auto\",\n                  padding: \"24px\",\n                  backgroundColor: \"#f9fafb\",\n                  filter: !hasApiKey ? \"blur(0.3px)\" : \"none\",\n                  opacity: !hasApiKey ? 0.85 : 1\n                },\n                children: [\n                  activeTab === \"actions\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ActionsTab, { context: displayContext }),\n                  activeTab === \"readables\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ReadablesTab, { context: displayContext }),\n                  activeTab === \"agent\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(AgentStatusTab, { context: displayContext }),\n                  activeTab === \"messages\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MessagesTab, { messagesContext: displayMessagesContext }),\n                  activeTab === \"context\" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ContextTab, { context: displayContext })\n                ]\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n              \"div\",\n              {\n                style: {\n                  padding: \"16px 24px\",\n                  borderTop: \"1px solid #e5e7eb\",\n                  backgroundColor: \"white\",\n                  display: \"flex\",\n                  justifyContent: \"space-between\",\n                  alignItems: \"center\",\n                  minHeight: \"57px\",\n                  flexShrink: 0,\n                  filter: !hasApiKey ? \"blur(0.3px)\" : \"none\",\n                  opacity: !hasApiKey ? 0.9 : 1\n                },\n                children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { fontSize: \"14px\", color: \"#6b7280\" }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    \"a\",\n                    {\n                      href: \"https://github.com/CopilotKit/CopilotKit/issues\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      style: { color: \"#2563eb\", textDecoration: \"none\" },\n                      onMouseEnter: (e) => e.currentTarget.style.textDecoration = \"underline\",\n                      onMouseLeave: (e) => e.currentTarget.style.textDecoration = \"none\",\n                      children: \"Report an issue\"\n                    }\n                  ) }),\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { fontSize: \"14px\", color: \"#6b7280\" }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                    \"a\",\n                    {\n                      href: \"https://mcp.copilotkit.ai/\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\",\n                      style: { color: \"#2563eb\", textDecoration: \"none\" },\n                      onMouseEnter: (e) => e.currentTarget.style.textDecoration = \"underline\",\n                      onMouseLeave: (e) => e.currentTarget.style.textDecoration = \"none\",\n                      children: \"Add MCP Server \\u2192\"\n                    }\n                  ) })\n                ]\n              }\n            ),\n            !hasApiKey && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"div\",\n              {\n                style: {\n                  position: \"absolute\",\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  backgroundColor: \"rgba(255, 255, 255, 0.2)\",\n                  backdropFilter: \"blur(2px)\",\n                  WebkitBackdropFilter: \"blur(2px)\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  borderRadius: \"12px\",\n                  zIndex: 10\n                },\n                onClick: (e) => e.stopPropagation(),\n                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                  \"button\",\n                  {\n                    onClick: () => window.open(\"https://cloud.copilotkit.ai/sign-in\", \"_blank\"),\n                    style: {\n                      // Following button system specifications\n                      height: \"48px\",\n                      padding: \"12px 24px\",\n                      backgroundColor: \"#030507\",\n                      // textPrimary token\n                      color: \"#FFFFFF\",\n                      borderRadius: \"12px\",\n                      // Medium radius token\n                      border: \"none\",\n                      cursor: \"pointer\",\n                      fontSize: \"14px\",\n                      // Medium Semi Bold typography\n                      fontWeight: \"600\",\n                      fontFamily: \"'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif\",\n                      lineHeight: \"22px\",\n                      boxShadow: \"0 4px 16px rgba(3, 5, 7, 0.2), 0 1px 3px rgba(3, 5, 7, 0.1)\",\n                      transition: \"all 200ms ease\",\n                      // 200ms ease as per specs\n                      display: \"inline-flex\",\n                      alignItems: \"center\",\n                      gap: \"8px\",\n                      textTransform: \"uppercase\",\n                      letterSpacing: \"0.5px\"\n                    },\n                    onMouseEnter: (e) => {\n                      e.currentTarget.style.backgroundColor = \"#575758\";\n                      e.currentTarget.style.transform = \"translateY(-1px)\";\n                      e.currentTarget.style.boxShadow = \"0 6px 20px rgba(3, 5, 7, 0.25), 0 2px 4px rgba(3, 5, 7, 0.15)\";\n                    },\n                    onMouseLeave: (e) => {\n                      e.currentTarget.style.backgroundColor = \"#030507\";\n                      e.currentTarget.style.transform = \"translateY(0)\";\n                      e.currentTarget.style.boxShadow = \"0 4px 16px rgba(3, 5, 7, 0.2), 0 1px 3px rgba(3, 5, 7, 0.1)\";\n                    },\n                    onMouseDown: (e) => {\n                      e.currentTarget.style.backgroundColor = \"#858589\";\n                      e.currentTarget.style.transform = \"translateY(0)\";\n                    },\n                    onMouseUp: (e) => {\n                      e.currentTarget.style.backgroundColor = \"#575758\";\n                      e.currentTarget.style.transform = \"translateY(-1px)\";\n                    },\n                    onFocus: (e) => {\n                      e.currentTarget.style.outline = \"2px solid #BEC9FF\";\n                      e.currentTarget.style.outlineOffset = \"2px\";\n                    },\n                    onBlur: (e) => {\n                      e.currentTarget.style.outline = \"none\";\n                    },\n                    children: [\n                      \"Get License Key\",\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontSize: \"16px\", marginLeft: \"-4px\" }, children: \"\\u2192\" })\n                    ]\n                  }\n                )\n              }\n            )\n          ]\n        }\n      )\n    }\n  );\n}\nfunction ActionsTab({ context }) {\n  const actions = Object.values(context.actions);\n  if (actions.length === 0) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { textAlign: \"center\", padding: \"48px 0\", color: \"#6b7280\" }, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"18px\", margin: \"0 0 8px 0\" }, children: \"No actions available\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", margin: 0 }, children: \"Actions will appear here when registered\" })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"16px\" }, children: actions.map((action, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      style: {\n        backgroundColor: \"white\",\n        padding: \"16px\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n        border: \"1px solid #e5e7eb\"\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n        \"div\",\n        {\n          style: { display: \"flex\", alignItems: \"flex-start\", justifyContent: \"space-between\" },\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { flex: 1 }, children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", { style: { fontWeight: \"600\", color: \"#1f2937\", margin: \"0 0 4px 0\" }, children: action.name }),\n              action.description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", color: \"#4b5563\", margin: \"0 0 12px 0\" }, children: action.description }),\n              action.parameters && action.parameters.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { marginTop: \"12px\" }, children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                  \"p\",\n                  {\n                    style: {\n                      fontSize: \"12px\",\n                      fontWeight: \"500\",\n                      color: \"#6b7280\",\n                      textTransform: \"uppercase\",\n                      margin: \"0 0 4px 0\"\n                    },\n                    children: \"Parameters:\"\n                  }\n                ),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"4px\" }, children: action.parameters.map((param, pIndex) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { fontSize: \"14px\" }, children: [\n                  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontFamily: \"monospace\", color: \"#374151\" }, children: param.name }),\n                  param.required && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { marginLeft: \"4px\", fontSize: \"12px\", color: \"#ef4444\" }, children: \"*required\" }),\n                  param.type && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"span\", { style: { marginLeft: \"8px\", fontSize: \"12px\", color: \"#6b7280\" }, children: [\n                    \"(\",\n                    param.type,\n                    \")\"\n                  ] })\n                ] }, pIndex)) })\n              ] })\n            ] }),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { marginLeft: \"16px\" }, children: action.status === \"available\" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_PIF5KJYI_mjs__WEBPACK_IMPORTED_MODULE_4__.CheckIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_PIF5KJYI_mjs__WEBPACK_IMPORTED_MODULE_4__.ExclamationMarkTriangleIcon, {}) })\n          ]\n        }\n      )\n    },\n    index\n  )) });\n}\nfunction ReadablesTab({ context }) {\n  const readables = context.getAllContext();\n  if (readables.length === 0) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { textAlign: \"center\", padding: \"48px 0\", color: \"#6b7280\" }, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"18px\", margin: \"0 0 8px 0\" }, children: \"No readable context available\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", margin: 0 }, children: \"Readable context will appear here when provided\" })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"16px\" }, children: readables.map((readable, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    \"div\",\n    {\n      style: {\n        backgroundColor: \"white\",\n        padding: \"16px\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n        border: \"1px solid #e5e7eb\"\n      },\n      children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"div\",\n        {\n          style: { display: \"flex\", alignItems: \"flex-start\", justifyContent: \"space-between\" },\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { flex: 1 }, children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", { style: { fontWeight: \"600\", color: \"#1f2937\", margin: \"0 0 4px 0\" }, children: readable.name || `Readable ${index + 1}` }),\n            readable.description && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", color: \"#4b5563\", margin: \"0 0 12px 0\" }, children: readable.description }),\n            readable.value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"pre\",\n              {\n                style: {\n                  marginTop: \"12px\",\n                  padding: \"8px\",\n                  backgroundColor: \"#f9fafb\",\n                  borderRadius: \"4px\",\n                  fontSize: \"12px\",\n                  overflowX: \"auto\",\n                  margin: \"12px 0 0 0\"\n                },\n                children: JSON.stringify(readable.value, null, 2)\n              }\n            )\n          ] })\n        }\n      )\n    },\n    index\n  )) });\n}\nfunction AgentStatusTab({ context }) {\n  const agentStates = context.coagentStates || {};\n  const agentStateEntries = Object.entries(agentStates);\n  if (agentStateEntries.length === 0) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { textAlign: \"center\", padding: \"48px 0\", color: \"#6b7280\" }, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"18px\", margin: \"0 0 8px 0\" }, children: \"No agent states available\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", margin: 0 }, children: \"Agent states will appear here when agents are active\" })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"24px\" }, children: agentStateEntries.map(([agentName, state]) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      style: {\n        backgroundColor: \"white\",\n        padding: \"24px\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n        border: \"1px solid #e5e7eb\"\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"div\",\n          {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n              marginBottom: \"16px\"\n            },\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", { style: { fontWeight: \"600\", fontSize: \"18px\", color: \"#1f2937\", margin: 0 }, children: agentName }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                \"span\",\n                {\n                  style: {\n                    padding: \"4px 12px\",\n                    borderRadius: \"9999px\",\n                    fontSize: \"12px\",\n                    fontWeight: \"500\",\n                    backgroundColor: state.status === \"running\" ? \"#dcfce7\" : state.status === \"complete\" ? \"#dbeafe\" : \"#f3f4f6\",\n                    color: state.status === \"running\" ? \"#166534\" : state.status === \"complete\" ? \"#1e40af\" : \"#1f2937\"\n                  },\n                  children: state.status || \"idle\"\n                }\n              )\n            ]\n          }\n        ),\n        state.state && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { marginBottom: \"12px\" }, children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"p\",\n            {\n              style: {\n                fontSize: \"12px\",\n                fontWeight: \"500\",\n                color: \"#6b7280\",\n                textTransform: \"uppercase\",\n                margin: \"0 0 4px 0\"\n              },\n              children: \"Current State:\"\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            \"pre\",\n            {\n              style: {\n                padding: \"12px\",\n                backgroundColor: \"#f9fafb\",\n                borderRadius: \"4px\",\n                fontSize: \"12px\",\n                overflowX: \"auto\",\n                margin: 0\n              },\n              children: JSON.stringify(state.state, null, 2)\n            }\n          )\n        ] }),\n        state.running && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"div\",\n          {\n            style: {\n              marginTop: \"16px\",\n              display: \"flex\",\n              alignItems: \"center\",\n              fontSize: \"14px\",\n              color: \"#4b5563\"\n            },\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { marginRight: \"8px\" }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                \"svg\",\n                {\n                  width: \"16\",\n                  height: \"16\",\n                  viewBox: \"0 0 16 16\",\n                  style: { animation: \"spin 1s linear infinite\" },\n                  children: [\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"style\", { children: `@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }` }),\n                    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                      \"circle\",\n                      {\n                        cx: \"8\",\n                        cy: \"8\",\n                        r: \"6\",\n                        fill: \"none\",\n                        stroke: \"#4b5563\",\n                        strokeWidth: \"2\",\n                        strokeDasharray: \"9 3\"\n                      }\n                    )\n                  ]\n                }\n              ) }),\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { children: \"Agent is currently running...\" })\n            ]\n          }\n        )\n      ]\n    },\n    agentName\n  )) });\n}\nfunction MessagesTab({ messagesContext }) {\n  const messages = messagesContext.messages || [];\n  if (messages.length === 0) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { textAlign: \"center\", padding: \"48px 0\", color: \"#6b7280\" }, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"18px\", margin: \"0 0 8px 0\" }, children: \"No messages yet\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", margin: 0 }, children: \"Messages will appear here as the conversation progresses\" })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"16px\" }, children: messages.map((message, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      style: {\n        padding: \"16px\",\n        borderRadius: \"8px\",\n        backgroundColor: message.role === \"user\" ? \"#eff6ff\" : message.role === \"assistant\" ? \"#f9fafb\" : \"#fefce8\",\n        border: `1px solid ${message.role === \"user\" ? \"#c7d2fe\" : message.role === \"assistant\" ? \"#e5e7eb\" : \"#fde047\"}`,\n        marginLeft: message.role === \"user\" ? \"48px\" : \"0\",\n        marginRight: message.role === \"assistant\" ? \"48px\" : \"0\"\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n          \"div\",\n          {\n            style: {\n              display: \"flex\",\n              alignItems: \"flex-start\",\n              justifyContent: \"space-between\",\n              marginBottom: \"8px\"\n            },\n            children: [\n              /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                \"span\",\n                {\n                  style: {\n                    fontWeight: \"500\",\n                    fontSize: \"14px\",\n                    color: \"#374151\",\n                    textTransform: \"capitalize\"\n                  },\n                  children: message.role || \"system\"\n                }\n              ),\n              message.timestamp && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontSize: \"12px\", color: \"#6b7280\" }, children: new Date(message.timestamp).toLocaleTimeString() })\n            ]\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { fontSize: \"14px\", color: \"#1f2937\", whiteSpace: \"pre-wrap\" }, children: message.content || \"\" })\n      ]\n    },\n    index\n  )) });\n}\nfunction ContextTab({ context }) {\n  const documents = context.getDocumentsContext([]);\n  if (documents.length === 0) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { style: { textAlign: \"center\", padding: \"48px 0\", color: \"#6b7280\" }, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"18px\", margin: \"0 0 8px 0\" }, children: \"No document context available\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", { style: { fontSize: \"14px\", margin: 0 }, children: \"Document context will appear here when provided\" })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { display: \"flex\", flexDirection: \"column\", gap: \"16px\" }, children: documents.map((doc, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      style: {\n        backgroundColor: \"white\",\n        padding: \"16px\",\n        borderRadius: \"8px\",\n        boxShadow: \"0 1px 3px 0 rgba(0, 0, 0, 0.1)\",\n        border: \"1px solid #e5e7eb\"\n      },\n      children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", { style: { fontWeight: \"600\", color: \"#1f2937\", margin: \"0 0 8px 0\" }, children: doc.name || `Document ${index + 1}` }),\n        doc.content && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"pre\",\n          {\n            style: {\n              padding: \"12px\",\n              backgroundColor: \"#f9fafb\",\n              borderRadius: \"4px\",\n              fontSize: \"12px\",\n              overflowX: \"auto\",\n              margin: 0\n            },\n            children: doc.content\n          }\n        )\n      ]\n    },\n    index\n  )) });\n}\n\n\n//# sourceMappingURL=chunk-DSDAZA3B.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLURTREFaQTNCLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBSThCO0FBR0E7QUFHQTs7QUFFOUI7QUFDd0Q7QUFDWjtBQUNFO0FBQzlDLGlDQUFpQyw0QkFBNEI7QUFDN0Qsa0JBQWtCLHNFQUFpQjtBQUNuQywwQkFBMEIsOEVBQXlCO0FBQ25ELG9DQUFvQywrQ0FBUTtBQUM1QyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUVBQW1FO0FBQ3ZGLG9CQUFvQiwrREFBK0Q7QUFDbkYseUJBQXlCLCtEQUErRDtBQUN4RjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLE9BQU87QUFDUDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLE9BQU87QUFDUDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLE9BQU87QUFDUDtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwQ0FBMEM7QUFDaEUsMEJBQTBCLGlEQUFpRDtBQUMzRSx3QkFBd0I7QUFDeEIsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixPQUFPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixPQUFPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUSxtRkFBbUY7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsUUFBUTtB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Q1A7QUFDQSx3QkFBd0IsdURBQUk7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4QkFBOEIsc0RBQUc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHNEQUFHLFdBQVcsU0FBUyxvQ0FBb0MsOERBQThEO0FBQzVLO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixzREFBRyxVQUFVLFNBQVMsNERBQTRELG1DQUFtQztBQUM3STtBQUNBLEtBQUs7QUFDTDtBQUNBLE1BQU07QUFDTjtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0E7QUFDQSwyQkFBMkIsdURBQUksVUFBVSxTQUFTLDBEQUEwRDtBQUM1RyxzQkFBc0Isc0RBQUcsUUFBUSxTQUFTLHVDQUF1Qyw2Q0FBNkM7QUFDOUgsc0JBQXNCLHNEQUFHLFFBQVEsU0FBUyw2QkFBNkIsK0RBQStEO0FBQ3RJLE9BQU87QUFDUDtBQUNBLHlCQUF5QixzREFBRyxVQUFVLFNBQVMsdURBQXVELDBEQUEwRCx1REFBSTtBQUNwSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0Esd0JBQXdCLHNEQUFHLFNBQVMsU0FBUywwREFBMEQsb0NBQW9DLFVBQVUsR0FBRztBQUN4Six1Q0FBdUMsc0RBQUc7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsTUFBTTtBQUNOOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1EU0RBWkEzQi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hlY2tJY29uLFxuICBDb3BpbG90S2l0SWNvbixcbiAgRXhjbGFtYXRpb25NYXJrVHJpYW5nbGVJY29uXG59IGZyb20gXCIuL2NodW5rLVBJRjVLSllJLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWUhUNkNXSVkubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVpMUVZSUERTLm1qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9kZXYtY29uc29sZS9kZXZlbG9wZXItY29uc29sZS1tb2RhbC50c3hcbmltcG9ydCB7IENPUElMT1RLSVRfVkVSU0lPTiB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xuZnVuY3Rpb24gRGV2ZWxvcGVyQ29uc29sZU1vZGFsKHsgaXNPcGVuLCBvbkNsb3NlLCBoYXNBcGlLZXkgfSkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgbWVzc2FnZXNDb250ZXh0ID0gdXNlQ29waWxvdE1lc3NhZ2VzQ29udGV4dCgpO1xuICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGUoXCJhY3Rpb25zXCIpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUVzY2FwZSA9IChlKSA9PiB7XG4gICAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgb25DbG9zZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlRXNjYXBlKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcInVuc2V0XCI7XG4gICAgfTtcbiAgfSwgW2lzT3Blbiwgb25DbG9zZV0pO1xuICBpZiAoIWlzT3BlbilcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgZGlzcGxheUNvbnRleHQgPSBoYXNBcGlLZXkgPyBjb250ZXh0IDoge1xuICAgIGFjdGlvbnM6IHtcbiAgICAgIHNlYXJjaF93ZWI6IHsgbmFtZTogXCJzZWFyY2hfd2ViXCIsIGRlc2NyaXB0aW9uOiBcIlNlYXJjaCB0aGUgd2ViIGZvciBpbmZvcm1hdGlvblwiIH0sXG4gICAgICBzZW5kX2VtYWlsOiB7IG5hbWU6IFwic2VuZF9lbWFpbFwiLCBkZXNjcmlwdGlvbjogXCJTZW5kIGFuIGVtYWlsIHRvIGEgY29udGFjdFwiIH0sXG4gICAgICBjcmVhdGVfZG9jdW1lbnQ6IHsgbmFtZTogXCJjcmVhdGVfZG9jdW1lbnRcIiwgZGVzY3JpcHRpb246IFwiQ3JlYXRlIGEgbmV3IGRvY3VtZW50XCIgfSxcbiAgICAgIGFuYWx5emVfY29kZToge1xuICAgICAgICBuYW1lOiBcImFuYWx5emVfY29kZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbjogXCJBbmFseXplIGNvZGUgZm9yIGlzc3VlcyBhbmQgaW1wcm92ZW1lbnRzXCJcbiAgICAgIH0sXG4gICAgICBnZW5lcmF0ZV90ZXN0czoge1xuICAgICAgICBuYW1lOiBcImdlbmVyYXRlX3Rlc3RzXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIkdlbmVyYXRlIHVuaXQgdGVzdHMgZm9yIGZ1bmN0aW9uc1wiXG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRBbGxDb250ZXh0OiAoKSA9PiBbXG4gICAgICB7XG4gICAgICAgIGNvbnRlbnQ6IFwiVXNlciBwcmVmZXJlbmNlczogZGFyayBtb2RlIGVuYWJsZWQsIFR5cGVTY3JpcHQgcHJlZmVycmVkXCIsXG4gICAgICAgIG1ldGFkYXRhOiB7IHNvdXJjZTogXCJzZXR0aW5nc1wiIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNvbnRlbnQ6IFwiQ3VycmVudCBwcm9qZWN0OiBCdWlsZGluZyBhIFJlYWN0IGFwcGxpY2F0aW9uIHdpdGggQ29waWxvdEtpdFwiLFxuICAgICAgICBtZXRhZGF0YTogeyBzb3VyY2U6IFwicHJvamVjdFwiIH1cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGNvbnRlbnQ6IFwiUmVjZW50IGFjdGl2aXR5OiBJbXBsZW1lbnRlZCBhdXRoZW50aWNhdGlvbiBzeXN0ZW1cIixcbiAgICAgICAgbWV0YWRhdGE6IHsgc291cmNlOiBcImFjdGl2aXR5XCIgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY29udGVudDogXCJEZXZlbG9wbWVudCBlbnZpcm9ubWVudDogVlMgQ29kZSwgTm9kZS5qcyAxOCwgUmVhY3QgMThcIixcbiAgICAgICAgbWV0YWRhdGE6IHsgc291cmNlOiBcImVudmlyb25tZW50XCIgfVxuICAgICAgfVxuICAgIF0sXG4gICAgY29hZ2VudFN0YXRlczoge1xuICAgICAgXCJtYWluLWFnZW50XCI6IHsgc3RhdHVzOiBcImFjdGl2ZVwiLCBsYXN0VXBkYXRlOiBEYXRlLm5vdygpIH0sXG4gICAgICBcImNvZGUtYXNzaXN0YW50XCI6IHsgc3RhdHVzOiBcImFjdGl2ZVwiLCBsYXN0VXBkYXRlOiBEYXRlLm5vdygpIC0gMTVlMyB9LFxuICAgICAgXCJzZWFyY2gtYWdlbnRcIjogeyBzdGF0dXM6IFwiaWRsZVwiLCBsYXN0VXBkYXRlOiBEYXRlLm5vdygpIC0gNmU0IH1cbiAgICB9LFxuICAgIGdldERvY3VtZW50c0NvbnRleHQ6ICgpID0+IFtcbiAgICAgIHtcbiAgICAgICAgY29udGVudDogXCJSRUFETUUubWQ6IFByb2plY3Qgc2V0dXAgYW5kIGluc3RhbGxhdGlvbiBpbnN0cnVjdGlvbnNcIixcbiAgICAgICAgbWV0YWRhdGE6IHsgdHlwZTogXCJkb2N1bWVudGF0aW9uXCIgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgY29udGVudDogXCJBUEkgRG9jdW1lbnRhdGlvbjogQ29waWxvdEtpdCBpbnRlZ3JhdGlvbiBndWlkZVwiLFxuICAgICAgICBtZXRhZGF0YTogeyB0eXBlOiBcImRvY3VtZW50YXRpb25cIiB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjb250ZW50OiBcInBhY2thZ2UuanNvbjogUHJvamVjdCBkZXBlbmRlbmNpZXMgYW5kIHNjcmlwdHNcIixcbiAgICAgICAgbWV0YWRhdGE6IHsgdHlwZTogXCJjb25maWd1cmF0aW9uXCIgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbiAgY29uc3QgZGlzcGxheU1lc3NhZ2VzQ29udGV4dCA9IGhhc0FwaUtleSA/IG1lc3NhZ2VzQ29udGV4dCA6IHtcbiAgICBtZXNzYWdlczogW1xuICAgICAge1xuICAgICAgICBpZDogXCIxXCIsXG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBjb250ZW50OiBcIkhlbHAgbWUgaW1wbGVtZW50IGEgdG9kbyBsaXN0IHdpdGggZHJhZyBhbmQgZHJvcCBmdW5jdGlvbmFsaXR5XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcIjJcIixcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJJJ2xsIGhlbHAgeW91IGNyZWF0ZSBhIHRvZG8gbGlzdCB3aXRoIGRyYWcgYW5kIGRyb3AuIExldCBtZSBzdGFydCBieSBzZXR0aW5nIHVwIHRoZSBiYXNpYyBjb21wb25lbnRzIGFuZCB0aGVuIGFkZCB0aGUgZHJhZyBhbmQgZHJvcCBmdW5jdGlvbmFsaXR5IHVzaW5nIFJlYWN0IERuRC5cIlxuICAgICAgfSxcbiAgICAgIHsgaWQ6IFwiM1wiLCByb2xlOiBcInVzZXJcIiwgY29udGVudDogXCJDYW4geW91IGFsc28gYWRkIHByaW9yaXR5IGxldmVscyBhbmQgZHVlIGRhdGVzP1wiIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiBcIjRcIixcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogXCJBYnNvbHV0ZWx5ISBJJ2xsIGVuaGFuY2UgdGhlIHRvZG8gaXRlbXMgd2l0aCBwcmlvcml0eSBsZXZlbHMgKGhpZ2gsIG1lZGl1bSwgbG93KSBhbmQgZHVlIGRhdGUgZnVuY3Rpb25hbGl0eS4gVGhpcyB3aWxsIG1ha2UgeW91ciB0b2RvIGxpc3QgbXVjaCBtb3JlIHBvd2VyZnVsIGZvciB0YXNrIG1hbmFnZW1lbnQuXCJcbiAgICAgIH0sXG4gICAgICB7IGlkOiBcIjVcIiwgcm9sZTogXCJ1c2VyXCIsIGNvbnRlbnQ6IFwiUGVyZmVjdCEgSG93IGFib3V0IGFkZGluZyBjYXRlZ29yaWVzIG9yIHRhZ3M/XCIgfVxuICAgIF1cbiAgfTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICBib3R0b206IDAsXG4gICAgICAgIHpJbmRleDogOTk5OSxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMCwgMCwgMCwgMC4zKVwiLFxuICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTZweFwiXG4gICAgICB9LFxuICAgICAgb25DbGljazogb25DbG9zZSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICB3aWR0aDogXCIxMTUycHhcIixcbiAgICAgICAgICAgIG1heFdpZHRoOiBcIjk1dndcIixcbiAgICAgICAgICAgIGhlaWdodDogXCI4MHZoXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMnB4XCIsXG4gICAgICAgICAgICBib3hTaGFkb3c6IFwiMCAyNXB4IDUwcHggLTEycHggcmdiYSgwLCAwLCAwLCAwLjI1KVwiLFxuICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkNsaWNrOiAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSxcbiAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIyNHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkICNlNWU3ZWJcIixcbiAgICAgICAgICAgICAgICAgIG1pbkhlaWdodDogXCI3M3B4XCIsXG4gICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgZmlsdGVyOiAhaGFzQXBpS2V5ID8gXCJibHVyKDAuM3B4KVwiIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAhaGFzQXBpS2V5ID8gMC45NSA6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLCBnYXA6IFwiMTJweFwiIH0sIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29waWxvdEtpdEljb24sIHt9KSxcbiAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgICBcImgxXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjIwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzFmMjkzN1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJJbnNwZWN0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjNmI3MjgwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjNmNGY2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4IDhweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiNHB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcInZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgQ09QSUxPVEtJVF9WRVJTSU9OXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdIH0pLFxuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG9uQ2xvc2UsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM5Y2EzYWZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiMzAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHhcIlxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyOiAoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gXCIjNGI1NTYzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiAoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmNvbG9yID0gXCIjOWNhM2FmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFwiXFx4RDdcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWQgI2U1ZTdlYlwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOWZhZmJcIixcbiAgICAgICAgICAgICAgICAgIG1pbkhlaWdodDogXCI1MHB4XCIsXG4gICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwLFxuICAgICAgICAgICAgICAgICAgZmlsdGVyOiAhaGFzQXBpS2V5ID8gXCJibHVyKDAuM3B4KVwiIDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICBvcGFjaXR5OiAhaGFzQXBpS2V5ID8gMC45IDogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgIHsgaWQ6IFwiYWN0aW9uc1wiLCBsYWJlbDogXCJBY3Rpb25zXCIsIGNvdW50OiBPYmplY3Qua2V5cyhkaXNwbGF5Q29udGV4dC5hY3Rpb25zKS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgIHsgaWQ6IFwicmVhZGFibGVzXCIsIGxhYmVsOiBcIlJlYWRhYmxlc1wiLCBjb3VudDogZGlzcGxheUNvbnRleHQuZ2V0QWxsQ29udGV4dCgpLmxlbmd0aCB9LFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogXCJhZ2VudFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJBZ2VudCBTdGF0dXNcIixcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IE9iamVjdC5rZXlzKGRpc3BsYXlDb250ZXh0LmNvYWdlbnRTdGF0ZXMpLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIHsgaWQ6IFwibWVzc2FnZXNcIiwgbGFiZWw6IFwiTWVzc2FnZXNcIiwgY291bnQ6IGRpc3BsYXlNZXNzYWdlc0NvbnRleHQubWVzc2FnZXMubGVuZ3RoIH0sXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBcImNvbnRleHRcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ29udGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogZGlzcGxheUNvbnRleHQuZ2V0RG9jdW1lbnRzQ29udGV4dChbXSkubGVuZ3RoXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXS5tYXAoKHRhYikgPT4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzZXRBY3RpdmVUYWIodGFiLmlkKSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjEycHggMjRweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjE0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGFjdGl2ZVRhYiA9PT0gdGFiLmlkID8gXCJ3aGl0ZVwiIDogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBhY3RpdmVUYWIgPT09IHRhYi5pZCA/IFwiIzI1NjNlYlwiIDogXCIjNmI3MjgwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiBhY3RpdmVUYWIgPT09IHRhYi5pZCA/IFwiMnB4IHNvbGlkICMyNTYzZWJcIiA6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIDAuMnNcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVRhYiAhPT0gdGFiLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuY29sb3IgPSBcIiMxZjI5MzdcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmM2Y0ZjZcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVGFiICE9PSB0YWIuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5jb2xvciA9IFwiIzZiNzI4MFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwidHJhbnNwYXJlbnRcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgdGFiLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgIHRhYi5jb3VudCA+IDAgJiYgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbkxlZnQ6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNlNWU3ZWJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIjMzc0MTUxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIycHggOHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjk5OTlweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEycHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogdGFiLmNvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGFiLmlkXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJjYWxjKDEwMCUgLSAxNDJweClcIixcbiAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMjRweFwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOWZhZmJcIixcbiAgICAgICAgICAgICAgICAgIGZpbHRlcjogIWhhc0FwaUtleSA/IFwiYmx1cigwLjNweClcIiA6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogIWhhc0FwaUtleSA/IDAuODUgOiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgYWN0aXZlVGFiID09PSBcImFjdGlvbnNcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4KEFjdGlvbnNUYWIsIHsgY29udGV4dDogZGlzcGxheUNvbnRleHQgfSksXG4gICAgICAgICAgICAgICAgICBhY3RpdmVUYWIgPT09IFwicmVhZGFibGVzXCIgJiYgLyogQF9fUFVSRV9fICovIGpzeChSZWFkYWJsZXNUYWIsIHsgY29udGV4dDogZGlzcGxheUNvbnRleHQgfSksXG4gICAgICAgICAgICAgICAgICBhY3RpdmVUYWIgPT09IFwiYWdlbnRcIiAmJiAvKiBAX19QVVJFX18gKi8ganN4KEFnZW50U3RhdHVzVGFiLCB7IGNvbnRleHQ6IGRpc3BsYXlDb250ZXh0IH0pLFxuICAgICAgICAgICAgICAgICAgYWN0aXZlVGFiID09PSBcIm1lc3NhZ2VzXCIgJiYgLyogQF9fUFVSRV9fICovIGpzeChNZXNzYWdlc1RhYiwgeyBtZXNzYWdlc0NvbnRleHQ6IGRpc3BsYXlNZXNzYWdlc0NvbnRleHQgfSksXG4gICAgICAgICAgICAgICAgICBhY3RpdmVUYWIgPT09IFwiY29udGV4dFwiICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goQ29udGV4dFRhYiwgeyBjb250ZXh0OiBkaXNwbGF5Q29udGV4dCB9KVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTZweCAyNHB4XCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJUb3A6IFwiMXB4IHNvbGlkICNlNWU3ZWJcIixcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBcIjU3cHhcIixcbiAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgICAgICAgICAgICBmaWx0ZXI6ICFoYXNBcGlLZXkgPyBcImJsdXIoMC4zcHgpXCIgOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6ICFoYXNBcGlLZXkgPyAwLjkgOiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiwgY29sb3I6IFwiIzZiNzI4MFwiIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgICBcImFcIixcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiaHR0cHM6Ly9naXRodWIuY29tL0NvcGlsb3RLaXQvQ29waWxvdEtpdC9pc3N1ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBjb2xvcjogXCIjMjU2M2ViXCIsIHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcjogKGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9IFwidW5kZXJsaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiAoZSkgPT4gZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRleHREZWNvcmF0aW9uID0gXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFwiUmVwb3J0IGFuIGlzc3VlXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgKSB9KSxcbiAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIxNHB4XCIsIGNvbG9yOiBcIiM2YjcyODBcIiB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBocmVmOiBcImh0dHBzOi8vbWNwLmNvcGlsb3RraXQuYWkvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsgY29sb3I6IFwiIzI1NjNlYlwiLCB0ZXh0RGVjb3JhdGlvbjogXCJub25lXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI6IChlKSA9PiBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudGV4dERlY29yYXRpb24gPSBcInVuZGVybGluZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogKGUpID0+IGUuY3VycmVudFRhcmdldC5zdHlsZS50ZXh0RGVjb3JhdGlvbiA9IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBcIkFkZCBNQ1AgU2VydmVyIFxcdTIxOTJcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICApIH0pXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgIWhhc0FwaUtleSAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcEZpbHRlcjogXCJibHVyKDJweClcIixcbiAgICAgICAgICAgICAgICAgIFdlYmtpdEJhY2tkcm9wRmlsdGVyOiBcImJsdXIoMnB4KVwiLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiMTJweFwiLFxuICAgICAgICAgICAgICAgICAgekluZGV4OiAxMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGljazogKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gd2luZG93Lm9wZW4oXCJodHRwczovL2Nsb3VkLmNvcGlsb3RraXQuYWkvc2lnbi1pblwiLCBcIl9ibGFua1wiKSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dpbmcgYnV0dG9uIHN5c3RlbSBzcGVjaWZpY2F0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCI0OHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCIxMnB4IDI0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzAzMDUwN1wiLFxuICAgICAgICAgICAgICAgICAgICAgIC8vIHRleHRQcmltYXJ5IHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI0ZGRkZGRlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIxMnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgLy8gTWVkaXVtIHJhZGl1cyB0b2tlblxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgLy8gTWVkaXVtIFNlbWkgQm9sZCB0eXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI2MDBcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBcIidQbHVzIEpha2FydGEgU2FucycsIC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IFwiMjJweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogXCIwIDRweCAxNnB4IHJnYmEoMywgNSwgNywgMC4yKSwgMCAxcHggM3B4IHJnYmEoMywgNSwgNywgMC4xKVwiLFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIDIwMG1zIGVhc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAvLyAyMDBtcyBlYXNlIGFzIHBlciBzcGVjc1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IFwiMC41cHhcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzU3NTc1OFwiO1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTFweClcIjtcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYm94U2hhZG93ID0gXCIwIDZweCAyMHB4IHJnYmEoMywgNSwgNywgMC4yNSksIDAgMnB4IDRweCByZ2JhKDMsIDUsIDcsIDAuMTUpXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VMZWF2ZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjMDMwNTA3XCI7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgwKVwiO1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5ib3hTaGFkb3cgPSBcIjAgNHB4IDE2cHggcmdiYSgzLCA1LCA3LCAwLjIpLCAwIDFweCAzcHggcmdiYSgzLCA1LCA3LCAwLjEpXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VEb3duOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiM4NTg1ODlcIjtcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDApXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VVcDogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjNTc1NzU4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgtMXB4KVwiO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5vdXRsaW5lID0gXCIycHggc29saWQgI0JFQzlGRlwiO1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5vdXRsaW5lT2Zmc2V0ID0gXCIycHhcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25CbHVyOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5vdXRsaW5lID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgXCJHZXQgTGljZW5zZSBLZXlcIixcbiAgICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE2cHhcIiwgbWFyZ2luTGVmdDogXCItNHB4XCIgfSwgY2hpbGRyZW46IFwiXFx1MjE5MlwiIH0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIClcbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBBY3Rpb25zVGFiKHsgY29udGV4dCB9KSB7XG4gIGNvbnN0IGFjdGlvbnMgPSBPYmplY3QudmFsdWVzKGNvbnRleHQuYWN0aW9ucyk7XG4gIGlmIChhY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IHRleHRBbGlnbjogXCJjZW50ZXJcIiwgcGFkZGluZzogXCI0OHB4IDBcIiwgY29sb3I6IFwiIzZiNzI4MFwiIH0sIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE4cHhcIiwgbWFyZ2luOiBcIjAgMCA4cHggMFwiIH0sIGNoaWxkcmVuOiBcIk5vIGFjdGlvbnMgYXZhaWxhYmxlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiwgbWFyZ2luOiAwIH0sIGNoaWxkcmVuOiBcIkFjdGlvbnMgd2lsbCBhcHBlYXIgaGVyZSB3aGVuIHJlZ2lzdGVyZWRcIiB9KVxuICAgIF0gfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiBcIjE2cHhcIiB9LCBjaGlsZHJlbjogYWN0aW9ucy5tYXAoKGFjdGlvbiwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwid2hpdGVcIixcbiAgICAgICAgcGFkZGluZzogXCIxNnB4XCIsXG4gICAgICAgIGJvcmRlclJhZGl1czogXCI4cHhcIixcbiAgICAgICAgYm94U2hhZG93OiBcIjAgMXB4IDNweCAwIHJnYmEoMCwgMCwgMCwgMC4xKVwiLFxuICAgICAgICBib3JkZXI6IFwiMXB4IHNvbGlkICNlNWU3ZWJcIlxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIiwganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiIH0sXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgc3R5bGU6IHsgZmxleDogMSB9LCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiaDNcIiwgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcIjYwMFwiLCBjb2xvcjogXCIjMWYyOTM3XCIsIG1hcmdpbjogXCIwIDAgNHB4IDBcIiB9LCBjaGlsZHJlbjogYWN0aW9uLm5hbWUgfSksXG4gICAgICAgICAgICAgIGFjdGlvbi5kZXNjcmlwdGlvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiwgY29sb3I6IFwiIzRiNTU2M1wiLCBtYXJnaW46IFwiMCAwIDEycHggMFwiIH0sIGNoaWxkcmVuOiBhY3Rpb24uZGVzY3JpcHRpb24gfSksXG4gICAgICAgICAgICAgIGFjdGlvbi5wYXJhbWV0ZXJzICYmIGFjdGlvbi5wYXJhbWV0ZXJzLmxlbmd0aCA+IDAgJiYgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBzdHlsZTogeyBtYXJnaW5Ub3A6IFwiMTJweFwiIH0sIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgIFwicFwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiM2YjcyODBcIixcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIwIDAgNHB4IDBcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJQYXJhbWV0ZXJzOlwiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGdhcDogXCI0cHhcIiB9LCBjaGlsZHJlbjogYWN0aW9uLnBhcmFtZXRlcnMubWFwKChwYXJhbSwgcEluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiB9LCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBzdHlsZTogeyBmb250RmFtaWx5OiBcIm1vbm9zcGFjZVwiLCBjb2xvcjogXCIjMzc0MTUxXCIgfSwgY2hpbGRyZW46IHBhcmFtLm5hbWUgfSksXG4gICAgICAgICAgICAgICAgICBwYXJhbS5yZXF1aXJlZCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IHN0eWxlOiB7IG1hcmdpbkxlZnQ6IFwiNHB4XCIsIGZvbnRTaXplOiBcIjEycHhcIiwgY29sb3I6IFwiI2VmNDQ0NFwiIH0sIGNoaWxkcmVuOiBcIipyZXF1aXJlZFwiIH0pLFxuICAgICAgICAgICAgICAgICAgcGFyYW0udHlwZSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcInNwYW5cIiwgeyBzdHlsZTogeyBtYXJnaW5MZWZ0OiBcIjhweFwiLCBmb250U2l6ZTogXCIxMnB4XCIsIGNvbG9yOiBcIiM2YjcyODBcIiB9LCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICBcIihcIixcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgXCIpXCJcbiAgICAgICAgICAgICAgICAgIF0gfSlcbiAgICAgICAgICAgICAgICBdIH0sIHBJbmRleCkpIH0pXG4gICAgICAgICAgICAgIF0gfSlcbiAgICAgICAgICAgIF0gfSksXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgbWFyZ2luTGVmdDogXCIxNnB4XCIgfSwgY2hpbGRyZW46IGFjdGlvbi5zdGF0dXMgPT09IFwiYXZhaWxhYmxlXCIgPyAvKiBAX19QVVJFX18gKi8ganN4KENoZWNrSWNvbiwge30pIDogLyogQF9fUFVSRV9fICovIGpzeChFeGNsYW1hdGlvbk1hcmtUcmlhbmdsZUljb24sIHt9KSB9KVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0sXG4gICAgaW5kZXhcbiAgKSkgfSk7XG59XG5mdW5jdGlvbiBSZWFkYWJsZXNUYWIoeyBjb250ZXh0IH0pIHtcbiAgY29uc3QgcmVhZGFibGVzID0gY29udGV4dC5nZXRBbGxDb250ZXh0KCk7XG4gIGlmIChyZWFkYWJsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgc3R5bGU6IHsgdGV4dEFsaWduOiBcImNlbnRlclwiLCBwYWRkaW5nOiBcIjQ4cHggMFwiLCBjb2xvcjogXCIjNmI3MjgwXCIgfSwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMThweFwiLCBtYXJnaW46IFwiMCAwIDhweCAwXCIgfSwgY2hpbGRyZW46IFwiTm8gcmVhZGFibGUgY29udGV4dCBhdmFpbGFibGVcIiB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMTRweFwiLCBtYXJnaW46IDAgfSwgY2hpbGRyZW46IFwiUmVhZGFibGUgY29udGV4dCB3aWxsIGFwcGVhciBoZXJlIHdoZW4gcHJvdmlkZWRcIiB9KVxuICAgIF0gfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiBcIjE2cHhcIiB9LCBjaGlsZHJlbjogcmVhZGFibGVzLm1hcCgocmVhZGFibGUsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTZweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZTVlN2ViXCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIiwganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiIH0sXG4gICAgICAgICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgc3R5bGU6IHsgZmxleDogMSB9LCBjaGlsZHJlbjogW1xuICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImgzXCIsIHsgc3R5bGU6IHsgZm9udFdlaWdodDogXCI2MDBcIiwgY29sb3I6IFwiIzFmMjkzN1wiLCBtYXJnaW46IFwiMCAwIDRweCAwXCIgfSwgY2hpbGRyZW46IHJlYWRhYmxlLm5hbWUgfHwgYFJlYWRhYmxlICR7aW5kZXggKyAxfWAgfSksXG4gICAgICAgICAgICByZWFkYWJsZS5kZXNjcmlwdGlvbiAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiwgY29sb3I6IFwiIzRiNTU2M1wiLCBtYXJnaW46IFwiMCAwIDEycHggMFwiIH0sIGNoaWxkcmVuOiByZWFkYWJsZS5kZXNjcmlwdGlvbiB9KSxcbiAgICAgICAgICAgIHJlYWRhYmxlLnZhbHVlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFwicHJlXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiOHB4XCIsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2Y5ZmFmYlwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTJweFwiLFxuICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgIG1hcmdpbjogXCIxMnB4IDAgMCAwXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBKU09OLnN0cmluZ2lmeShyZWFkYWJsZS52YWx1ZSwgbnVsbCwgMilcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIF0gfSlcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0sXG4gICAgaW5kZXhcbiAgKSkgfSk7XG59XG5mdW5jdGlvbiBBZ2VudFN0YXR1c1RhYih7IGNvbnRleHQgfSkge1xuICBjb25zdCBhZ2VudFN0YXRlcyA9IGNvbnRleHQuY29hZ2VudFN0YXRlcyB8fCB7fTtcbiAgY29uc3QgYWdlbnRTdGF0ZUVudHJpZXMgPSBPYmplY3QuZW50cmllcyhhZ2VudFN0YXRlcyk7XG4gIGlmIChhZ2VudFN0YXRlRW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBzdHlsZTogeyB0ZXh0QWxpZ246IFwiY2VudGVyXCIsIHBhZGRpbmc6IFwiNDhweCAwXCIsIGNvbG9yOiBcIiM2YjcyODBcIiB9LCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIxOHB4XCIsIG1hcmdpbjogXCIwIDAgOHB4IDBcIiB9LCBjaGlsZHJlbjogXCJObyBhZ2VudCBzdGF0ZXMgYXZhaWxhYmxlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiwgbWFyZ2luOiAwIH0sIGNoaWxkcmVuOiBcIkFnZW50IHN0YXRlcyB3aWxsIGFwcGVhciBoZXJlIHdoZW4gYWdlbnRzIGFyZSBhY3RpdmVcIiB9KVxuICAgIF0gfSk7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBzdHlsZTogeyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiwgZ2FwOiBcIjI0cHhcIiB9LCBjaGlsZHJlbjogYWdlbnRTdGF0ZUVudHJpZXMubWFwKChbYWdlbnROYW1lLCBzdGF0ZV0pID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMjRweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZTVlN2ViXCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzcGFjZS1iZXR3ZWVuXCIsXG4gICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogXCIxNnB4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiaDNcIiwgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcIjYwMFwiLCBmb250U2l6ZTogXCIxOHB4XCIsIGNvbG9yOiBcIiMxZjI5MzdcIiwgbWFyZ2luOiAwIH0sIGNoaWxkcmVuOiBhZ2VudE5hbWUgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgICAgXCJzcGFuXCIsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogXCI0cHggMTJweFwiLFxuICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOTk5OXB4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCI1MDBcIixcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBzdGF0ZS5zdGF0dXMgPT09IFwicnVubmluZ1wiID8gXCIjZGNmY2U3XCIgOiBzdGF0ZS5zdGF0dXMgPT09IFwiY29tcGxldGVcIiA/IFwiI2RiZWFmZVwiIDogXCIjZjNmNGY2XCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBzdGF0ZS5zdGF0dXMgPT09IFwicnVubmluZ1wiID8gXCIjMTY2NTM0XCIgOiBzdGF0ZS5zdGF0dXMgPT09IFwiY29tcGxldGVcIiA/IFwiIzFlNDBhZlwiIDogXCIjMWYyOTM3XCJcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBjaGlsZHJlbjogc3RhdGUuc3RhdHVzIHx8IFwiaWRsZVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICBzdGF0ZS5zdGF0ZSAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpbkJvdHRvbTogXCIxMnB4XCIgfSwgY2hpbGRyZW46IFtcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgXCJwXCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTJweFwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IFwiIzZiNzI4MFwiLFxuICAgICAgICAgICAgICAgIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsXG4gICAgICAgICAgICAgICAgbWFyZ2luOiBcIjAgMCA0cHggMFwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBcIkN1cnJlbnQgU3RhdGU6XCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICBcInByZVwiLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiMTJweFwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjZjlmYWZiXCIsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgIG1hcmdpbjogMFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGlsZHJlbjogSlNPTi5zdHJpbmdpZnkoc3RhdGUuc3RhdGUsIG51bGwsIDIpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pLFxuICAgICAgICBzdGF0ZS5ydW5uaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgbWFyZ2luVG9wOiBcIjE2cHhcIixcbiAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgIGZvbnRTaXplOiBcIjE0cHhcIixcbiAgICAgICAgICAgICAgY29sb3I6IFwiIzRiNTU2M1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpblJpZ2h0OiBcIjhweFwiIH0sIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICAgICAgICBcInN2Z1wiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjE2XCIsXG4gICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTZcIixcbiAgICAgICAgICAgICAgICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgICAgICAgICAgICAgICBzdHlsZTogeyBhbmltYXRpb246IFwic3BpbiAxcyBsaW5lYXIgaW5maW5pdGVcIiB9LFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInN0eWxlXCIsIHsgY2hpbGRyZW46IGBAa2V5ZnJhbWVzIHNwaW4geyBmcm9tIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gdG8geyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1gIH0pLFxuICAgICAgICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgICAgIFwiY2lyY2xlXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3g6IFwiOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3k6IFwiOFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcjogXCI2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogXCIjNGI1NTYzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk6IFwiOSAzXCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICkgfSksXG4gICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IFwiQWdlbnQgaXMgY3VycmVudGx5IHJ1bm5pbmcuLi5cIiB9KVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH0sXG4gICAgYWdlbnROYW1lXG4gICkpIH0pO1xufVxuZnVuY3Rpb24gTWVzc2FnZXNUYWIoeyBtZXNzYWdlc0NvbnRleHQgfSkge1xuICBjb25zdCBtZXNzYWdlcyA9IG1lc3NhZ2VzQ29udGV4dC5tZXNzYWdlcyB8fCBbXTtcbiAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IHRleHRBbGlnbjogXCJjZW50ZXJcIiwgcGFkZGluZzogXCI0OHB4IDBcIiwgY29sb3I6IFwiIzZiNzI4MFwiIH0sIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE4cHhcIiwgbWFyZ2luOiBcIjAgMCA4cHggMFwiIH0sIGNoaWxkcmVuOiBcIk5vIG1lc3NhZ2VzIHlldFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcInBcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIxNHB4XCIsIG1hcmdpbjogMCB9LCBjaGlsZHJlbjogXCJNZXNzYWdlcyB3aWxsIGFwcGVhciBoZXJlIGFzIHRoZSBjb252ZXJzYXRpb24gcHJvZ3Jlc3Nlc1wiIH0pXG4gICAgXSB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHN0eWxlOiB7IGRpc3BsYXk6IFwiZmxleFwiLCBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLCBnYXA6IFwiMTZweFwiIH0sIGNoaWxkcmVuOiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICBcImRpdlwiLFxuICAgIHtcbiAgICAgIHN0eWxlOiB7XG4gICAgICAgIHBhZGRpbmc6IFwiMTZweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IFwiI2VmZjZmZlwiIDogbWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiID8gXCIjZjlmYWZiXCIgOiBcIiNmZWZjZThcIixcbiAgICAgICAgYm9yZGVyOiBgMXB4IHNvbGlkICR7bWVzc2FnZS5yb2xlID09PSBcInVzZXJcIiA/IFwiI2M3ZDJmZVwiIDogbWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiID8gXCIjZTVlN2ViXCIgOiBcIiNmZGUwNDdcIn1gLFxuICAgICAgICBtYXJnaW5MZWZ0OiBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiID8gXCI0OHB4XCIgOiBcIjBcIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiA/IFwiNDhweFwiIDogXCIwXCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIixcbiAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICBtYXJnaW5Cb3R0b206IFwiOHB4XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjE0cHhcIixcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiIzM3NDE1MVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiBcImNhcGl0YWxpemVcIlxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBtZXNzYWdlLnJvbGUgfHwgXCJzeXN0ZW1cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgbWVzc2FnZS50aW1lc3RhbXAgJiYgLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIxMnB4XCIsIGNvbG9yOiBcIiM2YjcyODBcIiB9LCBjaGlsZHJlbjogbmV3IERhdGUobWVzc2FnZS50aW1lc3RhbXApLnRvTG9jYWxlVGltZVN0cmluZygpIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMTRweFwiLCBjb2xvcjogXCIjMWYyOTM3XCIsIHdoaXRlU3BhY2U6IFwicHJlLXdyYXBcIiB9LCBjaGlsZHJlbjogbWVzc2FnZS5jb250ZW50IHx8IFwiXCIgfSlcbiAgICAgIF1cbiAgICB9LFxuICAgIGluZGV4XG4gICkpIH0pO1xufVxuZnVuY3Rpb24gQ29udGV4dFRhYih7IGNvbnRleHQgfSkge1xuICBjb25zdCBkb2N1bWVudHMgPSBjb250ZXh0LmdldERvY3VtZW50c0NvbnRleHQoW10pO1xuICBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IHN0eWxlOiB7IHRleHRBbGlnbjogXCJjZW50ZXJcIiwgcGFkZGluZzogXCI0OHB4IDBcIiwgY29sb3I6IFwiIzZiNzI4MFwiIH0sIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE4cHhcIiwgbWFyZ2luOiBcIjAgMCA4cHggMFwiIH0sIGNoaWxkcmVuOiBcIk5vIGRvY3VtZW50IGNvbnRleHQgYXZhaWxhYmxlXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjE0cHhcIiwgbWFyZ2luOiAwIH0sIGNoaWxkcmVuOiBcIkRvY3VtZW50IGNvbnRleHQgd2lsbCBhcHBlYXIgaGVyZSB3aGVuIHByb3ZpZGVkXCIgfSlcbiAgICBdIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsIGdhcDogXCIxNnB4XCIgfSwgY2hpbGRyZW46IGRvY3VtZW50cy5tYXAoKGRvYywgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgIFwiZGl2XCIsXG4gICAge1xuICAgICAgc3R5bGU6IHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgIHBhZGRpbmc6IFwiMTZweFwiLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMSlcIixcbiAgICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZCAjZTVlN2ViXCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiaDNcIiwgeyBzdHlsZTogeyBmb250V2VpZ2h0OiBcIjYwMFwiLCBjb2xvcjogXCIjMWYyOTM3XCIsIG1hcmdpbjogXCIwIDAgOHB4IDBcIiB9LCBjaGlsZHJlbjogZG9jLm5hbWUgfHwgYERvY3VtZW50ICR7aW5kZXggKyAxfWAgfSksXG4gICAgICAgIGRvYy5jb250ZW50ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgXCJwcmVcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBwYWRkaW5nOiBcIjEycHhcIixcbiAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNmOWZhZmJcIixcbiAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgICBmb250U2l6ZTogXCIxMnB4XCIsXG4gICAgICAgICAgICAgIG92ZXJmbG93WDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgIG1hcmdpbjogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBkb2MuY29udGVudFxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXVxuICAgIH0sXG4gICAgaW5kZXhcbiAgKSkgfSk7XG59XG5cbmV4cG9ydCB7XG4gIERldmVsb3BlckNvbnNvbGVNb2RhbFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLURTREFaQTNCLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-DSDAZA3B.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EBSAU46C.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-EBSAU46C.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLangGraphInterrupt: () => (/* binding */ useLangGraphInterrupt)\n/* harmony export */ });\n/* harmony import */ var _chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-CLAHAV6J.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n\n\n\n\n\n// src/hooks/use-langgraph-interrupt.ts\n\n\nfunction useLangGraphInterrupt(action, dependencies) {\n  var _a;\n  const { setLangGraphInterruptAction, removeLangGraphInterruptAction, langGraphInterruptAction } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.CopilotContext);\n  const { runChatCompletion } = (0,_chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotChat)();\n  const { addToast } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n  const actionId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.dataToUUID)(JSON.stringify(action), \"lgAction\");\n  const hasAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => Boolean(langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.id),\n    [langGraphInterruptAction]\n  );\n  const isCurrentAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => (langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.id) && (langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.id) === actionId,\n    [langGraphInterruptAction]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    var _a2;\n    if (hasAction && isCurrentAction && ((_a2 = langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.event) == null ? void 0 : _a2.response)) {\n      runChatCompletion();\n    }\n  }, [(_a = langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.event) == null ? void 0 : _a.response, runChatCompletion, hasAction, isCurrentAction]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!action)\n      return;\n    if (hasAction && !isCurrentAction && !action.enabled) {\n      addToast({\n        type: \"warning\",\n        message: \"An action is already registered for the interrupt event\"\n      });\n      return;\n    }\n    if (hasAction && isCurrentAction) {\n      return;\n    }\n    setLangGraphInterruptAction((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, action), { id: actionId }));\n  }, [\n    action,\n    hasAction,\n    isCurrentAction,\n    setLangGraphInterruptAction,\n    removeLangGraphInterruptAction,\n    ...dependencies || []\n  ]);\n}\n\n\n//# sourceMappingURL=chunk-EBSAU46C.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUVCU0FVNDZDLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQUlBOztBQUU5QjtBQUN1RDtBQUNQO0FBQ2hEO0FBQ0E7QUFDQSxVQUFVLHdGQUF3RixFQUFFLGlEQUFVLENBQUMsK0RBQWM7QUFDN0gsVUFBVSxvQkFBb0IsRUFBRSxtRUFBYztBQUM5QyxVQUFVLFdBQVcsRUFBRSw2REFBUTtBQUMvQixtQkFBbUIsOERBQVU7QUFDN0Isb0JBQW9CLDhDQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4Q0FBTztBQUNqQztBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGtFQUFhLENBQUMsbUVBQWMsR0FBRyxhQUFhLGNBQWM7QUFDMUYsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUVCU0FVNDZDLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VDb3BpbG90Q2hhdFxufSBmcm9tIFwiLi9jaHVuay1DTEFIQVY2Si5tanNcIjtcbmltcG9ydCB7XG4gIHVzZVRvYXN0XG59IGZyb20gXCIuL2NodW5rLUVGTDVPQktOLm1qc1wiO1xuaW1wb3J0IHtcbiAgQ29waWxvdENvbnRleHRcbn0gZnJvbSBcIi4vY2h1bmstWUhUNkNXSVkubWpzXCI7XG5pbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS1sYW5nZ3JhcGgtaW50ZXJydXB0LnRzXG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGRhdGFUb1VVSUQgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5mdW5jdGlvbiB1c2VMYW5nR3JhcGhJbnRlcnJ1cHQoYWN0aW9uLCBkZXBlbmRlbmNpZXMpIHtcbiAgdmFyIF9hO1xuICBjb25zdCB7IHNldExhbmdHcmFwaEludGVycnVwdEFjdGlvbiwgcmVtb3ZlTGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLCBsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24gfSA9IHVzZUNvbnRleHQoQ29waWxvdENvbnRleHQpO1xuICBjb25zdCB7IHJ1bkNoYXRDb21wbGV0aW9uIH0gPSB1c2VDb3BpbG90Q2hhdCgpO1xuICBjb25zdCB7IGFkZFRvYXN0IH0gPSB1c2VUb2FzdCgpO1xuICBjb25zdCBhY3Rpb25JZCA9IGRhdGFUb1VVSUQoSlNPTi5zdHJpbmdpZnkoYWN0aW9uKSwgXCJsZ0FjdGlvblwiKTtcbiAgY29uc3QgaGFzQWN0aW9uID0gdXNlTWVtbyhcbiAgICAoKSA9PiBCb29sZWFuKGxhbmdHcmFwaEludGVycnVwdEFjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLmlkKSxcbiAgICBbbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uXVxuICApO1xuICBjb25zdCBpc0N1cnJlbnRBY3Rpb24gPSB1c2VNZW1vKFxuICAgICgpID0+IChsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGxhbmdHcmFwaEludGVycnVwdEFjdGlvbi5pZCkgJiYgKGxhbmdHcmFwaEludGVycnVwdEFjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLmlkKSA9PT0gYWN0aW9uSWQsXG4gICAgW2xhbmdHcmFwaEludGVycnVwdEFjdGlvbl1cbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGlmIChoYXNBY3Rpb24gJiYgaXNDdXJyZW50QWN0aW9uICYmICgoX2EyID0gbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24uZXZlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIucmVzcG9uc2UpKSB7XG4gICAgICBydW5DaGF0Q29tcGxldGlvbigpO1xuICAgIH1cbiAgfSwgWyhfYSA9IGxhbmdHcmFwaEludGVycnVwdEFjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLmV2ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVzcG9uc2UsIHJ1bkNoYXRDb21wbGV0aW9uLCBoYXNBY3Rpb24sIGlzQ3VycmVudEFjdGlvbl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYWN0aW9uKVxuICAgICAgcmV0dXJuO1xuICAgIGlmIChoYXNBY3Rpb24gJiYgIWlzQ3VycmVudEFjdGlvbiAmJiAhYWN0aW9uLmVuYWJsZWQpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICAgIG1lc3NhZ2U6IFwiQW4gYWN0aW9uIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgdGhlIGludGVycnVwdCBldmVudFwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGhhc0FjdGlvbiAmJiBpc0N1cnJlbnRBY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0TGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFjdGlvbiksIHsgaWQ6IGFjdGlvbklkIH0pKTtcbiAgfSwgW1xuICAgIGFjdGlvbixcbiAgICBoYXNBY3Rpb24sXG4gICAgaXNDdXJyZW50QWN0aW9uLFxuICAgIHNldExhbmdHcmFwaEludGVycnVwdEFjdGlvbixcbiAgICByZW1vdmVMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24sXG4gICAgLi4uZGVwZW5kZW5jaWVzIHx8IFtdXG4gIF0pO1xufVxuXG5leHBvcnQge1xuICB1c2VMYW5nR3JhcGhJbnRlcnJ1cHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1FQlNBVTQ2Qy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EBSAU46C.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ToastProvider: () => (/* binding */ ToastProvider),\n/* harmony export */   useToast: () => (/* binding */ useToast)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n// src/components/toast/toast-provider.tsx\n\n\n\nvar ToastContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction getErrorSeverity(error) {\n  if (error.severity) {\n    switch (error.severity) {\n      case _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.Severity.CRITICAL:\n        return \"critical\";\n      case _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.Severity.WARNING:\n        return \"warning\";\n      case _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.Severity.INFO:\n        return \"info\";\n      default:\n        return \"info\";\n    }\n  }\n  const message = error.message.toLowerCase();\n  if (message.includes(\"api key\") || message.includes(\"401\") || message.includes(\"unauthorized\") || message.includes(\"authentication\") || message.includes(\"incorrect api key\")) {\n    return \"critical\";\n  }\n  return \"info\";\n}\nfunction getErrorColors(severity) {\n  switch (severity) {\n    case \"critical\":\n      return {\n        background: \"#fee2e2\",\n        border: \"#dc2626\",\n        text: \"#7f1d1d\",\n        icon: \"#dc2626\"\n      };\n    case \"warning\":\n      return {\n        background: \"#fef3c7\",\n        border: \"#d97706\",\n        text: \"#78350f\",\n        icon: \"#d97706\"\n      };\n    case \"info\":\n      return {\n        background: \"#dbeafe\",\n        border: \"#2563eb\",\n        text: \"#1e3a8a\",\n        icon: \"#2563eb\"\n      };\n  }\n}\nfunction useToast() {\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ToastContext);\n  if (!context) {\n    throw new Error(\"useToast must be used within a ToastProvider\");\n  }\n  return context;\n}\nfunction ToastProvider({\n  enabled,\n  children\n}) {\n  const [toasts, setToasts] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [bannerError, setBannerErrorState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const removeToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\n  }, []);\n  const addToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (toast) => {\n      var _a;\n      if (!enabled) {\n        return;\n      }\n      const id = (_a = toast.id) != null ? _a : Math.random().toString(36).substring(2, 9);\n      setToasts((currentToasts) => {\n        if (currentToasts.find((toast2) => toast2.id === id))\n          return currentToasts;\n        return [...currentToasts, (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_3__.__spreadValues)({}, toast), { id })];\n      });\n      if (toast.duration) {\n        setTimeout(() => {\n          removeToast(id);\n        }, toast.duration);\n      }\n    },\n    [enabled, removeToast]\n  );\n  const setBannerError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (error) => {\n      if (!enabled && error !== null) {\n        return;\n      }\n      setBannerErrorState(error);\n    },\n    [enabled]\n  );\n  const addGraphQLErrorsToast = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((errors) => {\n    console.warn(\"addGraphQLErrorsToast is deprecated. All errors now show as banners.\");\n  }, []);\n  const value = {\n    toasts,\n    addToast,\n    addGraphQLErrorsToast,\n    removeToast,\n    enabled,\n    bannerError,\n    setBannerError\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(ToastContext.Provider, { value, children: [\n    bannerError && (() => {\n      const severity = getErrorSeverity(bannerError);\n      const colors = getErrorColors(severity);\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"div\",\n        {\n          style: {\n            position: \"fixed\",\n            bottom: \"20px\",\n            left: \"50%\",\n            transform: \"translateX(-50%)\",\n            zIndex: 9999,\n            backgroundColor: colors.background,\n            border: `1px solid ${colors.border}`,\n            borderLeft: `4px solid ${colors.border}`,\n            borderRadius: \"8px\",\n            padding: \"12px 16px\",\n            fontSize: \"13px\",\n            boxShadow: \"0 4px 12px rgba(0, 0, 0, 0.15)\",\n            backdropFilter: \"blur(8px)\",\n            maxWidth: \"min(90vw, 700px)\",\n            width: \"100%\",\n            boxSizing: \"border-box\",\n            overflow: \"hidden\"\n          },\n          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n            \"div\",\n            {\n              style: {\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                gap: \"10px\"\n              },\n              children: [\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                  \"div\",\n                  {\n                    style: {\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      gap: \"8px\",\n                      flex: 1,\n                      minWidth: 0\n                    },\n                    children: [\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                        \"div\",\n                        {\n                          style: {\n                            width: \"12px\",\n                            height: \"12px\",\n                            borderRadius: \"50%\",\n                            backgroundColor: colors.border,\n                            flexShrink: 0\n                          }\n                        }\n                      ),\n                      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n                        \"div\",\n                        {\n                          style: {\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: \"10px\",\n                            flex: 1,\n                            minWidth: 0\n                          },\n                          children: [\n                            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                              \"div\",\n                              {\n                                style: {\n                                  color: colors.text,\n                                  lineHeight: \"1.4\",\n                                  fontWeight: \"400\",\n                                  fontSize: \"13px\",\n                                  flex: 1,\n                                  wordBreak: \"break-all\",\n                                  overflowWrap: \"break-word\",\n                                  maxWidth: \"550px\",\n                                  overflow: \"hidden\",\n                                  display: \"-webkit-box\",\n                                  WebkitLineClamp: 10,\n                                  WebkitBoxOrient: \"vertical\"\n                                },\n                                children: (() => {\n                                  let message = bannerError.message;\n                                  const jsonMatch = message.match(/'message':\\s*'([^']+)'/);\n                                  if (jsonMatch) {\n                                    return jsonMatch[1];\n                                  }\n                                  message = message.split(\" - \")[0];\n                                  message = message.split(\": Error code\")[0];\n                                  message = message.replace(/:\\s*\\d{3}$/, \"\");\n                                  message = message.replace(/See more:.*$/g, \"\");\n                                  message = message.trim();\n                                  return message || \"Configuration error occurred.\";\n                                })()\n                              }\n                            ),\n                            (() => {\n                              const message = bannerError.message;\n                              const markdownLinkRegex = /\\[([^\\]]+)\\]\\(([^)]+)\\)/g;\n                              const plainUrlRegex = /(https?:\\/\\/[^\\s)]+)/g;\n                              let url = null;\n                              let buttonText = \"See More\";\n                              const markdownMatch = markdownLinkRegex.exec(message);\n                              if (markdownMatch) {\n                                url = markdownMatch[2];\n                                buttonText = \"See More\";\n                              } else {\n                                const urlMatch = plainUrlRegex.exec(message);\n                                if (urlMatch) {\n                                  url = urlMatch[0].replace(/[.,;:'\"]*$/, \"\");\n                                  buttonText = \"See More\";\n                                }\n                              }\n                              if (!url)\n                                return null;\n                              return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                                \"button\",\n                                {\n                                  onClick: () => window.open(url, \"_blank\", \"noopener,noreferrer\"),\n                                  style: {\n                                    background: colors.border,\n                                    color: \"white\",\n                                    border: \"none\",\n                                    borderRadius: \"5px\",\n                                    padding: \"4px 10px\",\n                                    fontSize: \"11px\",\n                                    fontWeight: \"500\",\n                                    cursor: \"pointer\",\n                                    transition: \"all 0.2s ease\",\n                                    flexShrink: 0\n                                  },\n                                  onMouseEnter: (e) => {\n                                    e.currentTarget.style.opacity = \"0.9\";\n                                    e.currentTarget.style.transform = \"translateY(-1px)\";\n                                  },\n                                  onMouseLeave: (e) => {\n                                    e.currentTarget.style.opacity = \"1\";\n                                    e.currentTarget.style.transform = \"translateY(0)\";\n                                  },\n                                  children: buttonText\n                                }\n                              );\n                            })()\n                          ]\n                        }\n                      )\n                    ]\n                  }\n                ),\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n                  \"button\",\n                  {\n                    onClick: () => setBannerError(null),\n                    style: {\n                      background: \"transparent\",\n                      border: \"none\",\n                      color: colors.text,\n                      cursor: \"pointer\",\n                      padding: \"2px\",\n                      borderRadius: \"3px\",\n                      fontSize: \"14px\",\n                      lineHeight: \"1\",\n                      opacity: 0.6,\n                      transition: \"all 0.2s ease\",\n                      flexShrink: 0\n                    },\n                    title: \"Dismiss\",\n                    onMouseEnter: (e) => {\n                      e.currentTarget.style.opacity = \"1\";\n                      e.currentTarget.style.background = \"rgba(0, 0, 0, 0.05)\";\n                    },\n                    onMouseLeave: (e) => {\n                      e.currentTarget.style.opacity = \"0.6\";\n                      e.currentTarget.style.background = \"transparent\";\n                    },\n                    children: \"\\xD7\"\n                  }\n                )\n              ]\n            }\n          )\n        }\n      );\n    })(),\n    children\n  ] });\n}\n\n\n//# sourceMappingURL=chunk-EFL5OBKN.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUVGTDVPQktOLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFHOEI7O0FBRTlCO0FBQ3lFO0FBQzNCO0FBQ0E7QUFDOUMsbUJBQW1CLG9EQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsd0RBQVE7QUFDbkI7QUFDQSxXQUFXLHdEQUFRO0FBQ25CO0FBQ0EsV0FBVyx3REFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpREFBVTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhCQUE4QiwrQ0FBUTtBQUN0Qyw2Q0FBNkMsK0NBQVE7QUFDckQsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0EsR0FBRztBQUNILG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLFlBQVksSUFBSTtBQUNqRixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsZ0NBQWdDLGtEQUFXO0FBQzNDO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBSSwwQkFBMEI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHNEQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxjQUFjO0FBQy9DLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxvQ0FBb0MsdURBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxnQ0FBZ0MsdURBQUk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHNDQUFzQyxzREFBRztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVEQUFJO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQSw0Q0FBNEMsc0RBQUc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsRUFBRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzREFBRztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxzREFBRztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUVGTDVPQktOLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvdG9hc3QvdG9hc3QtcHJvdmlkZXIudHN4XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFNldmVyaXR5IH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgVG9hc3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gZ2V0RXJyb3JTZXZlcml0eShlcnJvcikge1xuICBpZiAoZXJyb3Iuc2V2ZXJpdHkpIHtcbiAgICBzd2l0Y2ggKGVycm9yLnNldmVyaXR5KSB7XG4gICAgICBjYXNlIFNldmVyaXR5LkNSSVRJQ0FMOlxuICAgICAgICByZXR1cm4gXCJjcml0aWNhbFwiO1xuICAgICAgY2FzZSBTZXZlcml0eS5XQVJOSU5HOlxuICAgICAgICByZXR1cm4gXCJ3YXJuaW5nXCI7XG4gICAgICBjYXNlIFNldmVyaXR5LklORk86XG4gICAgICAgIHJldHVybiBcImluZm9cIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcImluZm9cIjtcbiAgICB9XG4gIH1cbiAgY29uc3QgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2UudG9Mb3dlckNhc2UoKTtcbiAgaWYgKG1lc3NhZ2UuaW5jbHVkZXMoXCJhcGkga2V5XCIpIHx8IG1lc3NhZ2UuaW5jbHVkZXMoXCI0MDFcIikgfHwgbWVzc2FnZS5pbmNsdWRlcyhcInVuYXV0aG9yaXplZFwiKSB8fCBtZXNzYWdlLmluY2x1ZGVzKFwiYXV0aGVudGljYXRpb25cIikgfHwgbWVzc2FnZS5pbmNsdWRlcyhcImluY29ycmVjdCBhcGkga2V5XCIpKSB7XG4gICAgcmV0dXJuIFwiY3JpdGljYWxcIjtcbiAgfVxuICByZXR1cm4gXCJpbmZvXCI7XG59XG5mdW5jdGlvbiBnZXRFcnJvckNvbG9ycyhzZXZlcml0eSkge1xuICBzd2l0Y2ggKHNldmVyaXR5KSB7XG4gICAgY2FzZSBcImNyaXRpY2FsXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNmZWUyZTJcIixcbiAgICAgICAgYm9yZGVyOiBcIiNkYzI2MjZcIixcbiAgICAgICAgdGV4dDogXCIjN2YxZDFkXCIsXG4gICAgICAgIGljb246IFwiI2RjMjYyNlwiXG4gICAgICB9O1xuICAgIGNhc2UgXCJ3YXJuaW5nXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNmZWYzYzdcIixcbiAgICAgICAgYm9yZGVyOiBcIiNkOTc3MDZcIixcbiAgICAgICAgdGV4dDogXCIjNzgzNTBmXCIsXG4gICAgICAgIGljb246IFwiI2Q5NzcwNlwiXG4gICAgICB9O1xuICAgIGNhc2UgXCJpbmZvXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICBiYWNrZ3JvdW5kOiBcIiNkYmVhZmVcIixcbiAgICAgICAgYm9yZGVyOiBcIiMyNTYzZWJcIixcbiAgICAgICAgdGV4dDogXCIjMWUzYThhXCIsXG4gICAgICAgIGljb246IFwiIzI1NjNlYlwiXG4gICAgICB9O1xuICB9XG59XG5mdW5jdGlvbiB1c2VUb2FzdCgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVG9hc3RDb250ZXh0KTtcbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlVG9hc3QgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIFRvYXN0UHJvdmlkZXJcIik7XG4gIH1cbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5mdW5jdGlvbiBUb2FzdFByb3ZpZGVyKHtcbiAgZW5hYmxlZCxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgY29uc3QgW3RvYXN0cywgc2V0VG9hc3RzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2Jhbm5lckVycm9yLCBzZXRCYW5uZXJFcnJvclN0YXRlXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCByZW1vdmVUb2FzdCA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIHNldFRvYXN0cygocHJldikgPT4gcHJldi5maWx0ZXIoKHRvYXN0KSA9PiB0b2FzdC5pZCAhPT0gaWQpKTtcbiAgfSwgW10pO1xuICBjb25zdCBhZGRUb2FzdCA9IHVzZUNhbGxiYWNrKFxuICAgICh0b2FzdCkgPT4ge1xuICAgICAgdmFyIF9hO1xuICAgICAgaWYgKCFlbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gKF9hID0gdG9hc3QuaWQpICE9IG51bGwgPyBfYSA6IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KTtcbiAgICAgIHNldFRvYXN0cygoY3VycmVudFRvYXN0cykgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFRvYXN0cy5maW5kKCh0b2FzdDIpID0+IHRvYXN0Mi5pZCA9PT0gaWQpKVxuICAgICAgICAgIHJldHVybiBjdXJyZW50VG9hc3RzO1xuICAgICAgICByZXR1cm4gWy4uLmN1cnJlbnRUb2FzdHMsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHRvYXN0KSwgeyBpZCB9KV07XG4gICAgICB9KTtcbiAgICAgIGlmICh0b2FzdC5kdXJhdGlvbikge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICByZW1vdmVUb2FzdChpZCk7XG4gICAgICAgIH0sIHRvYXN0LmR1cmF0aW9uKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtlbmFibGVkLCByZW1vdmVUb2FzdF1cbiAgKTtcbiAgY29uc3Qgc2V0QmFubmVyRXJyb3IgPSB1c2VDYWxsYmFjayhcbiAgICAoZXJyb3IpID0+IHtcbiAgICAgIGlmICghZW5hYmxlZCAmJiBlcnJvciAhPT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRCYW5uZXJFcnJvclN0YXRlKGVycm9yKTtcbiAgICB9LFxuICAgIFtlbmFibGVkXVxuICApO1xuICBjb25zdCBhZGRHcmFwaFFMRXJyb3JzVG9hc3QgPSB1c2VDYWxsYmFjaygoZXJyb3JzKSA9PiB7XG4gICAgY29uc29sZS53YXJuKFwiYWRkR3JhcGhRTEVycm9yc1RvYXN0IGlzIGRlcHJlY2F0ZWQuIEFsbCBlcnJvcnMgbm93IHNob3cgYXMgYmFubmVycy5cIik7XG4gIH0sIFtdKTtcbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdG9hc3RzLFxuICAgIGFkZFRvYXN0LFxuICAgIGFkZEdyYXBoUUxFcnJvcnNUb2FzdCxcbiAgICByZW1vdmVUb2FzdCxcbiAgICBlbmFibGVkLFxuICAgIGJhbm5lckVycm9yLFxuICAgIHNldEJhbm5lckVycm9yXG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhUb2FzdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWUsIGNoaWxkcmVuOiBbXG4gICAgYmFubmVyRXJyb3IgJiYgKCgpID0+IHtcbiAgICAgIGNvbnN0IHNldmVyaXR5ID0gZ2V0RXJyb3JTZXZlcml0eShiYW5uZXJFcnJvcik7XG4gICAgICBjb25zdCBjb2xvcnMgPSBnZXRFcnJvckNvbG9ycyhzZXZlcml0eSk7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgICAgICAgICAgYm90dG9tOiBcIjIwcHhcIixcbiAgICAgICAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgtNTAlKVwiLFxuICAgICAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvcnMuYmFja2dyb3VuZCxcbiAgICAgICAgICAgIGJvcmRlcjogYDFweCBzb2xpZCAke2NvbG9ycy5ib3JkZXJ9YCxcbiAgICAgICAgICAgIGJvcmRlckxlZnQ6IGA0cHggc29saWQgJHtjb2xvcnMuYm9yZGVyfWAsXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IFwiOHB4XCIsXG4gICAgICAgICAgICBwYWRkaW5nOiBcIjEycHggMTZweFwiLFxuICAgICAgICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgICAgICAgICAgYm94U2hhZG93OiBcIjAgNHB4IDEycHggcmdiYSgwLCAwLCAwLCAwLjE1KVwiLFxuICAgICAgICAgICAgYmFja2Ryb3BGaWx0ZXI6IFwiYmx1cig4cHgpXCIsXG4gICAgICAgICAgICBtYXhXaWR0aDogXCJtaW4oOTB2dywgNzAwcHgpXCIsXG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgZ2FwOiBcIjEwcHhcIlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCI4cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAgICAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGl2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTJweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMnB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3JzLmJvcmRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogXCIxMHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW5XaWR0aDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb2xvcnMudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBcIjEuNFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNDAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTNweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZEJyZWFrOiBcImJyZWFrLWFsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93V3JhcDogXCJicmVhay13b3JkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IFwiNTUwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIi13ZWJraXQtYm94XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgV2Via2l0TGluZUNsYW1wOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBXZWJraXRCb3hPcmllbnQ6IFwidmVydGljYWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGJhbm5lckVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QganNvbk1hdGNoID0gbWVzc2FnZS5tYXRjaCgvJ21lc3NhZ2UnOlxccyonKFteJ10rKScvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbk1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNvbk1hdGNoWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5zcGxpdChcIiAtIFwiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5zcGxpdChcIjogRXJyb3IgY29kZVwiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC86XFxzKlxcZHszfSQvLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC9TZWUgbW9yZTouKiQvZywgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2UudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlIHx8IFwiQ29uZmlndXJhdGlvbiBlcnJvciBvY2N1cnJlZC5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBiYW5uZXJFcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFya2Rvd25MaW5rUmVnZXggPSAvXFxbKFteXFxdXSspXFxdXFwoKFteKV0rKVxcKS9nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxhaW5VcmxSZWdleCA9IC8oaHR0cHM/OlxcL1xcL1teXFxzKV0rKS9nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uVGV4dCA9IFwiU2VlIE1vcmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtkb3duTWF0Y2ggPSBtYXJrZG93bkxpbmtSZWdleC5leGVjKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hcmtkb3duTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gbWFya2Rvd25NYXRjaFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uVGV4dCA9IFwiU2VlIE1vcmVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVybE1hdGNoID0gcGxhaW5VcmxSZWdleC5leGVjKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmxNYXRjaFswXS5yZXBsYWNlKC9bLiw7OidcIl0qJC8sIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvblRleHQgPSBcIlNlZSBNb3JlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4gd2luZG93Lm9wZW4odXJsLCBcIl9ibGFua1wiLCBcIm5vb3BlbmVyLG5vcmVmZXJyZXJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9ycy5ib3JkZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCI1cHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IFwiNHB4IDEwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjExcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwiNTAwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogXCJhbGwgMC4ycyBlYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4U2hyaW5rOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUub3BhY2l0eSA9IFwiMC45XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0xcHgpXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgwKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGJ1dHRvblRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzZXRCYW5uZXJFcnJvcihudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JzLnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjJweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogXCIzcHhcIixcbiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxNHB4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC42LFxuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IFwiYWxsIDAuMnMgZWFzZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZsZXhTaHJpbms6IDBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiRGlzbWlzc1wiLFxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICAgICAgICAgICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiYSgwLCAwLCAwLCAwLjA1KVwiO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LnN0eWxlLm9wYWNpdHkgPSBcIjAuNlwiO1xuICAgICAgICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogXCJcXHhEN1wiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0pKCksXG4gICAgY2hpbGRyZW5cbiAgXSB9KTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlVG9hc3QsXG4gIFRvYXN0UHJvdmlkZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1FRkw1T0JLTi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-HWM2Z3J3.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-HWM2Z3J3.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotChat: () => (/* binding */ useCopilotChat2)\n/* harmony export */ });\n/* harmony import */ var _chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-CLAHAV6J.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n\n\n// src/hooks/use-copilot-chat.ts\nfunction useCopilotChat2(options = {}) {\n  const {\n    visibleMessages,\n    appendMessage,\n    reloadMessages,\n    stopGeneration,\n    reset,\n    isLoading,\n    runChatCompletion,\n    mcpServers,\n    setMcpServers\n  } = (0,_chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_0__.useCopilotChat)(options);\n  return {\n    visibleMessages,\n    appendMessage,\n    reloadMessages,\n    stopGeneration,\n    reset,\n    isLoading,\n    runChatCompletion,\n    mcpServers,\n    setMcpServers\n  };\n}\n\n\n//# sourceMappingURL=chunk-HWM2Z3J3.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUhXTTJaM0ozLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUU4Qjs7QUFFOUI7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUsbUVBQWM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1IV00yWjNKMy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlQ29waWxvdENoYXRcbn0gZnJvbSBcIi4vY2h1bmstQ0xBSEFWNkoubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1jaGF0LnRzXG5mdW5jdGlvbiB1c2VDb3BpbG90Q2hhdDIob3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHtcbiAgICB2aXNpYmxlTWVzc2FnZXMsXG4gICAgYXBwZW5kTWVzc2FnZSxcbiAgICByZWxvYWRNZXNzYWdlcyxcbiAgICBzdG9wR2VuZXJhdGlvbixcbiAgICByZXNldCxcbiAgICBpc0xvYWRpbmcsXG4gICAgcnVuQ2hhdENvbXBsZXRpb24sXG4gICAgbWNwU2VydmVycyxcbiAgICBzZXRNY3BTZXJ2ZXJzXG4gIH0gPSB1c2VDb3BpbG90Q2hhdChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB2aXNpYmxlTWVzc2FnZXMsXG4gICAgYXBwZW5kTWVzc2FnZSxcbiAgICByZWxvYWRNZXNzYWdlcyxcbiAgICBzdG9wR2VuZXJhdGlvbixcbiAgICByZXNldCxcbiAgICBpc0xvYWRpbmcsXG4gICAgcnVuQ2hhdENvbXBsZXRpb24sXG4gICAgbWNwU2VydmVycyxcbiAgICBzZXRNY3BTZXJ2ZXJzXG4gIH07XG59XG5cbmV4cG9ydCB7XG4gIHVzZUNvcGlsb3RDaGF0MiBhcyB1c2VDb3BpbG90Q2hhdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUhXTTJaM0ozLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-HWM2Z3J3.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   shouldShowDevConsole: () => (/* binding */ shouldShowDevConsole)\n/* harmony export */ });\n// src/utils/dev-console.ts\nfunction isLocalhost() {\n  if (typeof window === \"undefined\")\n    return false;\n  return window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\" || window.location.hostname === \"0.0.0.0\";\n}\nfunction shouldShowDevConsole(showDevConsole) {\n  if (showDevConsole !== void 0) {\n    return showDevConsole;\n  }\n  return isLocalhost();\n}\n\n\n//# sourceMappingURL=chunk-ICIK2BSB.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUlDSUsyQlNCLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1JQ0lLMkJTQi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL2Rldi1jb25zb2xlLnRzXG5mdW5jdGlvbiBpc0xvY2FsaG9zdCgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCIxMjcuMC4wLjFcIiB8fCB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09IFwiMC4wLjAuMFwiO1xufVxuZnVuY3Rpb24gc2hvdWxkU2hvd0RldkNvbnNvbGUoc2hvd0RldkNvbnNvbGUpIHtcbiAgaWYgKHNob3dEZXZDb25zb2xlICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gc2hvd0RldkNvbnNvbGU7XG4gIH1cbiAgcmV0dXJuIGlzTG9jYWxob3N0KCk7XG59XG5cbmV4cG9ydCB7XG4gIHNob3VsZFNob3dEZXZDb25zb2xlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSUNJSzJCU0IubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ID5JRMGN.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-ID5JRMGN.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotChatHeadless_c: () => (/* binding */ useCopilotChatHeadless_c)\n/* harmony export */ });\n/* harmony import */ var _chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-CLAHAV6J.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6W2UEO2M.mjs\");\n\n\n\n\n// src/hooks/use-copilot-chat-headless_c.ts\n\n\nvar createNonFunctionalReturn = () => ({\n  visibleMessages: [],\n  messages: [],\n  sendMessage: () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  }),\n  appendMessage: () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  }),\n  setMessages: () => {\n  },\n  deleteMessage: () => {\n  },\n  reloadMessages: () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  }),\n  stopGeneration: () => {\n  },\n  reset: () => {\n  },\n  isLoading: false,\n  runChatCompletion: () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n    return [];\n  }),\n  mcpServers: [],\n  setMcpServers: () => {\n  },\n  suggestions: [],\n  setSuggestions: () => {\n  },\n  generateSuggestions: () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  }),\n  resetSuggestions: () => {\n  },\n  isLoadingSuggestions: false,\n  interrupt: null\n});\nfunction useCopilotChatHeadless_c(options = {}) {\n  const { copilotApiConfig, setBannerError } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const hasPublicApiKey = Boolean(copilotApiConfig.publicApiKey);\n  const internalResult = (0,_chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_3__.useCopilotChat)(options);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!hasPublicApiKey) {\n      setBannerError(\n        new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.CopilotKitError({\n          message: (\n            // add link to documentation here\n            \"You're using useCopilotChatHeadless_c, a premium-only feature, which offers extensive headless chat capabilities. To continue, you'll need to provide a free public license key.\"\n          ),\n          code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.CopilotKitErrorCode.MISSING_PUBLIC_API_KEY_ERROR,\n          severity: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.Severity.WARNING,\n          visibility: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_4__.ErrorVisibility.BANNER\n        })\n      );\n      _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.styledConsole.logCopilotKitPlatformMessage();\n    } else {\n      setBannerError(null);\n    }\n  }, [hasPublicApiKey]);\n  if (hasPublicApiKey) {\n    return internalResult;\n  }\n  return createNonFunctionalReturn();\n}\n\n\n//# sourceMappingURL=chunk-ID5JRMGN.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUlENUpSTUdOLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTs7QUFFOUI7QUFDa0M7QUFPTjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNERBQU87QUFDNUIsR0FBRztBQUNILHVCQUF1Qiw0REFBTztBQUM5QixHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLDREQUFPO0FBQy9CLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLDJCQUEyQiw0REFBTztBQUNsQztBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNkJBQTZCLDREQUFPO0FBQ3BDLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE4QztBQUM5QyxVQUFVLG1DQUFtQyxFQUFFLHNFQUFpQjtBQUNoRTtBQUNBLHlCQUF5QixtRUFBYztBQUN2QyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLFlBQVksK0RBQWU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsbUVBQW1CO0FBQ25DLG9CQUFvQix3REFBUTtBQUM1QixzQkFBc0IsK0RBQWU7QUFDckMsU0FBUztBQUNUO0FBQ0EsTUFBTSw2REFBYTtBQUNuQixNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1JRDVKUk1HTi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlQ29waWxvdENoYXRcbn0gZnJvbSBcIi4vY2h1bmstQ0xBSEFWNkoubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1ZSFQ2Q1dJWS5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1jaGF0LWhlYWRsZXNzX2MudHNcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgRXJyb3JWaXNpYmlsaXR5LFxuICBTZXZlcml0eSxcbiAgQ29waWxvdEtpdEVycm9yLFxuICBDb3BpbG90S2l0RXJyb3JDb2RlLFxuICBzdHlsZWRDb25zb2xlXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbnZhciBjcmVhdGVOb25GdW5jdGlvbmFsUmV0dXJuID0gKCkgPT4gKHtcbiAgdmlzaWJsZU1lc3NhZ2VzOiBbXSxcbiAgbWVzc2FnZXM6IFtdLFxuICBzZW5kTWVzc2FnZTogKCkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIH0pLFxuICBhcHBlbmRNZXNzYWdlOiAoKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgfSksXG4gIHNldE1lc3NhZ2VzOiAoKSA9PiB7XG4gIH0sXG4gIGRlbGV0ZU1lc3NhZ2U6ICgpID0+IHtcbiAgfSxcbiAgcmVsb2FkTWVzc2FnZXM6ICgpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICB9KSxcbiAgc3RvcEdlbmVyYXRpb246ICgpID0+IHtcbiAgfSxcbiAgcmVzZXQ6ICgpID0+IHtcbiAgfSxcbiAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgcnVuQ2hhdENvbXBsZXRpb246ICgpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIHJldHVybiBbXTtcbiAgfSksXG4gIG1jcFNlcnZlcnM6IFtdLFxuICBzZXRNY3BTZXJ2ZXJzOiAoKSA9PiB7XG4gIH0sXG4gIHN1Z2dlc3Rpb25zOiBbXSxcbiAgc2V0U3VnZ2VzdGlvbnM6ICgpID0+IHtcbiAgfSxcbiAgZ2VuZXJhdGVTdWdnZXN0aW9uczogKCkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIH0pLFxuICByZXNldFN1Z2dlc3Rpb25zOiAoKSA9PiB7XG4gIH0sXG4gIGlzTG9hZGluZ1N1Z2dlc3Rpb25zOiBmYWxzZSxcbiAgaW50ZXJydXB0OiBudWxsXG59KTtcbmZ1bmN0aW9uIHVzZUNvcGlsb3RDaGF0SGVhZGxlc3NfYyhvcHRpb25zID0ge30pIHtcbiAgY29uc3QgeyBjb3BpbG90QXBpQ29uZmlnLCBzZXRCYW5uZXJFcnJvciB9ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgaGFzUHVibGljQXBpS2V5ID0gQm9vbGVhbihjb3BpbG90QXBpQ29uZmlnLnB1YmxpY0FwaUtleSk7XG4gIGNvbnN0IGludGVybmFsUmVzdWx0ID0gdXNlQ29waWxvdENoYXQob3B0aW9ucyk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFoYXNQdWJsaWNBcGlLZXkpIHtcbiAgICAgIHNldEJhbm5lckVycm9yKFxuICAgICAgICBuZXcgQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiAoXG4gICAgICAgICAgICAvLyBhZGQgbGluayB0byBkb2N1bWVudGF0aW9uIGhlcmVcbiAgICAgICAgICAgIFwiWW91J3JlIHVzaW5nIHVzZUNvcGlsb3RDaGF0SGVhZGxlc3NfYywgYSBwcmVtaXVtLW9ubHkgZmVhdHVyZSwgd2hpY2ggb2ZmZXJzIGV4dGVuc2l2ZSBoZWFkbGVzcyBjaGF0IGNhcGFiaWxpdGllcy4gVG8gY29udGludWUsIHlvdSdsbCBuZWVkIHRvIHByb3ZpZGUgYSBmcmVlIHB1YmxpYyBsaWNlbnNlIGtleS5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgY29kZTogQ29waWxvdEtpdEVycm9yQ29kZS5NSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SLFxuICAgICAgICAgIHNldmVyaXR5OiBTZXZlcml0eS5XQVJOSU5HLFxuICAgICAgICAgIHZpc2liaWxpdHk6IEVycm9yVmlzaWJpbGl0eS5CQU5ORVJcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBzdHlsZWRDb25zb2xlLmxvZ0NvcGlsb3RLaXRQbGF0Zm9ybU1lc3NhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0QmFubmVyRXJyb3IobnVsbCk7XG4gICAgfVxuICB9LCBbaGFzUHVibGljQXBpS2V5XSk7XG4gIGlmIChoYXNQdWJsaWNBcGlLZXkpIHtcbiAgICByZXR1cm4gaW50ZXJuYWxSZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZU5vbkZ1bmN0aW9uYWxSZXR1cm4oKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdENoYXRIZWFkbGVzc19jXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSUQ1SlJNR04ubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ID5JRMGN.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-JEMBA7PE.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-JEMBA7PE.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotAction: () => (/* binding */ useCopilotAction)\n/* harmony export */ });\n/* harmony import */ var _chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-N4WEHORG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\n\n\n// src/hooks/use-copilot-action.ts\n\n\nfunction useCopilotAction(action, dependencies) {\n  const { setAction, removeAction, actions, chatComponentsCache } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const idRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)((0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)());\n  const renderAndWaitRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const activatingMessageIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const { addToast } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n  action = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_4__.__spreadValues)({}, action);\n  if (\n    // renderAndWaitForResponse is not available for catch all actions\n    isFrontendAction(action) && // check if renderAndWaitForResponse is set\n    (action.renderAndWait || action.renderAndWaitForResponse)\n  ) {\n    action._isRenderAndWait = true;\n    const renderAndWait = action.renderAndWait || action.renderAndWaitForResponse;\n    action.renderAndWait = void 0;\n    action.renderAndWaitForResponse = void 0;\n    action._setActivatingMessageId = (id) => {\n      activatingMessageIdRef.current = id;\n    };\n    action.handler = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useAsyncCallback)(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_4__.__async)(this, null, function* () {\n      const currentActivatingId = activatingMessageIdRef.current;\n      let resolve;\n      let reject;\n      const promise = new Promise((resolvePromise, rejectPromise) => {\n        resolve = resolvePromise;\n        reject = rejectPromise;\n      });\n      renderAndWaitRef.current = {\n        promise,\n        resolve,\n        reject,\n        messageId: currentActivatingId\n      };\n      const result = yield promise;\n      return result;\n    }), []);\n    action.render = (props) => {\n      const currentRenderMessageId = props.messageId;\n      let status = props.status;\n      if (props.status === \"executing\") {\n        if (!renderAndWaitRef.current || !renderAndWaitRef.current.promise) {\n          status = \"inProgress\";\n        } else if (renderAndWaitRef.current.messageId !== currentRenderMessageId && activatingMessageIdRef.current !== currentRenderMessageId) {\n          status = \"inProgress\";\n        }\n      }\n      const waitProps = {\n        status,\n        args: props.args,\n        result: props.result,\n        // handler and respond should only be provided if this is the truly active instance\n        // and its promise infrastructure is ready.\n        handler: status === \"executing\" && renderAndWaitRef.current && renderAndWaitRef.current.messageId === currentRenderMessageId ? renderAndWaitRef.current.resolve : void 0,\n        respond: status === \"executing\" && renderAndWaitRef.current && renderAndWaitRef.current.messageId === currentRenderMessageId ? renderAndWaitRef.current.resolve : void 0\n      };\n      const isNoArgsRenderWait = (_fn) => {\n        var _a;\n        return ((_a = action.parameters) == null ? void 0 : _a.length) === 0;\n      };\n      if (renderAndWait) {\n        if (isNoArgsRenderWait(renderAndWait)) {\n          return renderAndWait(waitProps);\n        } else {\n          return renderAndWait(waitProps);\n        }\n      }\n      return (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(react__WEBPACK_IMPORTED_MODULE_0__.Fragment);\n    };\n  }\n  if (dependencies === void 0) {\n    if (actions[idRef.current]) {\n      if (isFrontendAction(action)) {\n        actions[idRef.current].handler = action.handler;\n      }\n      if (typeof action.render === \"function\") {\n        if (chatComponentsCache.current !== null) {\n          chatComponentsCache.current.actions[action.name] = action.render;\n        }\n      }\n    }\n  }\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const hasDuplicate = Object.values(actions).some(\n      (otherAction) => otherAction.name === action.name && otherAction !== actions[idRef.current]\n    );\n    if (hasDuplicate) {\n      addToast({\n        type: \"warning\",\n        message: `Found an already registered action with name ${action.name}.`,\n        id: `dup-action-${action.name}`\n      });\n    }\n  }, [actions]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setAction(idRef.current, action);\n    if (chatComponentsCache.current !== null && action.render !== void 0) {\n      chatComponentsCache.current.actions[action.name] = action.render;\n    }\n    return () => {\n      removeAction(idRef.current);\n    };\n  }, [\n    setAction,\n    removeAction,\n    isFrontendAction(action) ? action.description : void 0,\n    action.name,\n    isFrontendAction(action) ? action.disabled : void 0,\n    isFrontendAction(action) ? action.available : void 0,\n    // This should be faster than deep equality checking\n    // In addition, all major JS engines guarantee the order of object keys\n    JSON.stringify(isFrontendAction(action) ? action.parameters : []),\n    // include render only if it's a string\n    typeof action.render === \"string\" ? action.render : void 0,\n    // dependencies set by the developer\n    ...dependencies || []\n  ]);\n}\nfunction isFrontendAction(action) {\n  return action.name !== \"*\";\n}\n\n\n//# sourceMappingURL=chunk-JEMBA7PE.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUpFTUJBN1BFLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQUlBOztBQUU5QjtBQUM4QztBQUNxQjtBQUNuRTtBQUNBLFVBQVUsd0RBQXdELEVBQUUsc0VBQWlCO0FBQ3JGLGdCQUFnQiw2Q0FBTSxDQUFDLDREQUFRO0FBQy9CLDJCQUEyQiw2Q0FBTTtBQUNqQyxpQ0FBaUMsNkNBQU07QUFDdkMsVUFBVSxXQUFXLEVBQUUsNkRBQVE7QUFDL0IsV0FBVyxtRUFBYyxHQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxRUFBZ0IsT0FBTyw0REFBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsYUFBYSxvREFBYSxDQUFDLDJDQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLFlBQVk7QUFDN0UsMEJBQTBCLFlBQVk7QUFDdEMsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUpFTUJBN1BFLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VBc3luY0NhbGxiYWNrXG59IGZyb20gXCIuL2NodW5rLU40V0VIT1JHLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlVG9hc3Rcbn0gZnJvbSBcIi4vY2h1bmstRUZMNU9CS04ubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1ZSFQ2Q1dJWS5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNvcGlsb3QtYWN0aW9uLnRzXG5pbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIEZyYWdtZW50LCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQ29waWxvdEFjdGlvbihhY3Rpb24sIGRlcGVuZGVuY2llcykge1xuICBjb25zdCB7IHNldEFjdGlvbiwgcmVtb3ZlQWN0aW9uLCBhY3Rpb25zLCBjaGF0Q29tcG9uZW50c0NhY2hlIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBpZFJlZiA9IHVzZVJlZihyYW5kb21JZCgpKTtcbiAgY29uc3QgcmVuZGVyQW5kV2FpdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYWN0aXZhdGluZ01lc3NhZ2VJZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgeyBhZGRUb2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgYWN0aW9uID0gX19zcHJlYWRWYWx1ZXMoe30sIGFjdGlvbik7XG4gIGlmIChcbiAgICAvLyByZW5kZXJBbmRXYWl0Rm9yUmVzcG9uc2UgaXMgbm90IGF2YWlsYWJsZSBmb3IgY2F0Y2ggYWxsIGFjdGlvbnNcbiAgICBpc0Zyb250ZW5kQWN0aW9uKGFjdGlvbikgJiYgLy8gY2hlY2sgaWYgcmVuZGVyQW5kV2FpdEZvclJlc3BvbnNlIGlzIHNldFxuICAgIChhY3Rpb24ucmVuZGVyQW5kV2FpdCB8fCBhY3Rpb24ucmVuZGVyQW5kV2FpdEZvclJlc3BvbnNlKVxuICApIHtcbiAgICBhY3Rpb24uX2lzUmVuZGVyQW5kV2FpdCA9IHRydWU7XG4gICAgY29uc3QgcmVuZGVyQW5kV2FpdCA9IGFjdGlvbi5yZW5kZXJBbmRXYWl0IHx8IGFjdGlvbi5yZW5kZXJBbmRXYWl0Rm9yUmVzcG9uc2U7XG4gICAgYWN0aW9uLnJlbmRlckFuZFdhaXQgPSB2b2lkIDA7XG4gICAgYWN0aW9uLnJlbmRlckFuZFdhaXRGb3JSZXNwb25zZSA9IHZvaWQgMDtcbiAgICBhY3Rpb24uX3NldEFjdGl2YXRpbmdNZXNzYWdlSWQgPSAoaWQpID0+IHtcbiAgICAgIGFjdGl2YXRpbmdNZXNzYWdlSWRSZWYuY3VycmVudCA9IGlkO1xuICAgIH07XG4gICAgYWN0aW9uLmhhbmRsZXIgPSB1c2VBc3luY0NhbGxiYWNrKCgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRBY3RpdmF0aW5nSWQgPSBhY3RpdmF0aW5nTWVzc2FnZUlkUmVmLmN1cnJlbnQ7XG4gICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgIGxldCByZWplY3Q7XG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmVQcm9taXNlLCByZWplY3RQcm9taXNlKSA9PiB7XG4gICAgICAgIHJlc29sdmUgPSByZXNvbHZlUHJvbWlzZTtcbiAgICAgICAgcmVqZWN0ID0gcmVqZWN0UHJvbWlzZTtcbiAgICAgIH0pO1xuICAgICAgcmVuZGVyQW5kV2FpdFJlZi5jdXJyZW50ID0ge1xuICAgICAgICBwcm9taXNlLFxuICAgICAgICByZXNvbHZlLFxuICAgICAgICByZWplY3QsXG4gICAgICAgIG1lc3NhZ2VJZDogY3VycmVudEFjdGl2YXRpbmdJZFxuICAgICAgfTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIHByb21pc2U7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pLCBbXSk7XG4gICAgYWN0aW9uLnJlbmRlciA9IChwcm9wcykgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFJlbmRlck1lc3NhZ2VJZCA9IHByb3BzLm1lc3NhZ2VJZDtcbiAgICAgIGxldCBzdGF0dXMgPSBwcm9wcy5zdGF0dXM7XG4gICAgICBpZiAocHJvcHMuc3RhdHVzID09PSBcImV4ZWN1dGluZ1wiKSB7XG4gICAgICAgIGlmICghcmVuZGVyQW5kV2FpdFJlZi5jdXJyZW50IHx8ICFyZW5kZXJBbmRXYWl0UmVmLmN1cnJlbnQucHJvbWlzZSkge1xuICAgICAgICAgIHN0YXR1cyA9IFwiaW5Qcm9ncmVzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKHJlbmRlckFuZFdhaXRSZWYuY3VycmVudC5tZXNzYWdlSWQgIT09IGN1cnJlbnRSZW5kZXJNZXNzYWdlSWQgJiYgYWN0aXZhdGluZ01lc3NhZ2VJZFJlZi5jdXJyZW50ICE9PSBjdXJyZW50UmVuZGVyTWVzc2FnZUlkKSB7XG4gICAgICAgICAgc3RhdHVzID0gXCJpblByb2dyZXNzXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHdhaXRQcm9wcyA9IHtcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBhcmdzOiBwcm9wcy5hcmdzLFxuICAgICAgICByZXN1bHQ6IHByb3BzLnJlc3VsdCxcbiAgICAgICAgLy8gaGFuZGxlciBhbmQgcmVzcG9uZCBzaG91bGQgb25seSBiZSBwcm92aWRlZCBpZiB0aGlzIGlzIHRoZSB0cnVseSBhY3RpdmUgaW5zdGFuY2VcbiAgICAgICAgLy8gYW5kIGl0cyBwcm9taXNlIGluZnJhc3RydWN0dXJlIGlzIHJlYWR5LlxuICAgICAgICBoYW5kbGVyOiBzdGF0dXMgPT09IFwiZXhlY3V0aW5nXCIgJiYgcmVuZGVyQW5kV2FpdFJlZi5jdXJyZW50ICYmIHJlbmRlckFuZFdhaXRSZWYuY3VycmVudC5tZXNzYWdlSWQgPT09IGN1cnJlbnRSZW5kZXJNZXNzYWdlSWQgPyByZW5kZXJBbmRXYWl0UmVmLmN1cnJlbnQucmVzb2x2ZSA6IHZvaWQgMCxcbiAgICAgICAgcmVzcG9uZDogc3RhdHVzID09PSBcImV4ZWN1dGluZ1wiICYmIHJlbmRlckFuZFdhaXRSZWYuY3VycmVudCAmJiByZW5kZXJBbmRXYWl0UmVmLmN1cnJlbnQubWVzc2FnZUlkID09PSBjdXJyZW50UmVuZGVyTWVzc2FnZUlkID8gcmVuZGVyQW5kV2FpdFJlZi5jdXJyZW50LnJlc29sdmUgOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBjb25zdCBpc05vQXJnc1JlbmRlcldhaXQgPSAoX2ZuKSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSBhY3Rpb24ucGFyYW1ldGVycykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDA7XG4gICAgICB9O1xuICAgICAgaWYgKHJlbmRlckFuZFdhaXQpIHtcbiAgICAgICAgaWYgKGlzTm9BcmdzUmVuZGVyV2FpdChyZW5kZXJBbmRXYWl0KSkge1xuICAgICAgICAgIHJldHVybiByZW5kZXJBbmRXYWl0KHdhaXRQcm9wcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHJlbmRlckFuZFdhaXQod2FpdFByb3BzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoRnJhZ21lbnQpO1xuICAgIH07XG4gIH1cbiAgaWYgKGRlcGVuZGVuY2llcyA9PT0gdm9pZCAwKSB7XG4gICAgaWYgKGFjdGlvbnNbaWRSZWYuY3VycmVudF0pIHtcbiAgICAgIGlmIChpc0Zyb250ZW5kQWN0aW9uKGFjdGlvbikpIHtcbiAgICAgICAgYWN0aW9uc1tpZFJlZi5jdXJyZW50XS5oYW5kbGVyID0gYWN0aW9uLmhhbmRsZXI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbi5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBpZiAoY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgY2hhdENvbXBvbmVudHNDYWNoZS5jdXJyZW50LmFjdGlvbnNbYWN0aW9uLm5hbWVdID0gYWN0aW9uLnJlbmRlcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhc0R1cGxpY2F0ZSA9IE9iamVjdC52YWx1ZXMoYWN0aW9ucykuc29tZShcbiAgICAgIChvdGhlckFjdGlvbikgPT4gb3RoZXJBY3Rpb24ubmFtZSA9PT0gYWN0aW9uLm5hbWUgJiYgb3RoZXJBY3Rpb24gIT09IGFjdGlvbnNbaWRSZWYuY3VycmVudF1cbiAgICApO1xuICAgIGlmIChoYXNEdXBsaWNhdGUpIHtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogXCJ3YXJuaW5nXCIsXG4gICAgICAgIG1lc3NhZ2U6IGBGb3VuZCBhbiBhbHJlYWR5IHJlZ2lzdGVyZWQgYWN0aW9uIHdpdGggbmFtZSAke2FjdGlvbi5uYW1lfS5gLFxuICAgICAgICBpZDogYGR1cC1hY3Rpb24tJHthY3Rpb24ubmFtZX1gXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFthY3Rpb25zXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0QWN0aW9uKGlkUmVmLmN1cnJlbnQsIGFjdGlvbik7XG4gICAgaWYgKGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudCAhPT0gbnVsbCAmJiBhY3Rpb24ucmVuZGVyICE9PSB2b2lkIDApIHtcbiAgICAgIGNoYXRDb21wb25lbnRzQ2FjaGUuY3VycmVudC5hY3Rpb25zW2FjdGlvbi5uYW1lXSA9IGFjdGlvbi5yZW5kZXI7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByZW1vdmVBY3Rpb24oaWRSZWYuY3VycmVudCk7XG4gICAgfTtcbiAgfSwgW1xuICAgIHNldEFjdGlvbixcbiAgICByZW1vdmVBY3Rpb24sXG4gICAgaXNGcm9udGVuZEFjdGlvbihhY3Rpb24pID8gYWN0aW9uLmRlc2NyaXB0aW9uIDogdm9pZCAwLFxuICAgIGFjdGlvbi5uYW1lLFxuICAgIGlzRnJvbnRlbmRBY3Rpb24oYWN0aW9uKSA/IGFjdGlvbi5kaXNhYmxlZCA6IHZvaWQgMCxcbiAgICBpc0Zyb250ZW5kQWN0aW9uKGFjdGlvbikgPyBhY3Rpb24uYXZhaWxhYmxlIDogdm9pZCAwLFxuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGZhc3RlciB0aGFuIGRlZXAgZXF1YWxpdHkgY2hlY2tpbmdcbiAgICAvLyBJbiBhZGRpdGlvbiwgYWxsIG1ham9yIEpTIGVuZ2luZXMgZ3VhcmFudGVlIHRoZSBvcmRlciBvZiBvYmplY3Qga2V5c1xuICAgIEpTT04uc3RyaW5naWZ5KGlzRnJvbnRlbmRBY3Rpb24oYWN0aW9uKSA/IGFjdGlvbi5wYXJhbWV0ZXJzIDogW10pLFxuICAgIC8vIGluY2x1ZGUgcmVuZGVyIG9ubHkgaWYgaXQncyBhIHN0cmluZ1xuICAgIHR5cGVvZiBhY3Rpb24ucmVuZGVyID09PSBcInN0cmluZ1wiID8gYWN0aW9uLnJlbmRlciA6IHZvaWQgMCxcbiAgICAvLyBkZXBlbmRlbmNpZXMgc2V0IGJ5IHRoZSBkZXZlbG9wZXJcbiAgICAuLi5kZXBlbmRlbmNpZXMgfHwgW11cbiAgXSk7XG59XG5mdW5jdGlvbiBpc0Zyb250ZW5kQWN0aW9uKGFjdGlvbikge1xuICByZXR1cm4gYWN0aW9uLm5hbWUgIT09IFwiKlwiO1xufVxuXG5leHBvcnQge1xuICB1c2VDb3BpbG90QWN0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSkVNQkE3UEUubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-JEMBA7PE.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-KWS75AOU.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-KWS75AOU.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotAuthenticatedAction_c: () => (/* binding */ useCopilotAuthenticatedAction_c)\n/* harmony export */ });\n/* harmony import */ var _chunk_JEMBA7PE_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-JEMBA7PE.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-JEMBA7PE.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n\n\n// src/hooks/use-copilot-authenticated-action.ts\n\n\nfunction useCopilotAuthenticatedAction_c(action, dependencies) {\n  const { authConfig_c, authStates_c, setAuthStates_c } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const pendingActionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const executeAction = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (props) => {\n      if (typeof action.render === \"function\") {\n        return action.render(props);\n      }\n      return action.render || react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment);\n    },\n    [action]\n  );\n  const wrappedRender = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (props) => {\n      const isAuthenticated = Object.values(authStates_c || {}).some(\n        (state) => state.status === \"authenticated\"\n      );\n      if (!isAuthenticated) {\n        pendingActionRef.current = props;\n        return (authConfig_c == null ? void 0 : authConfig_c.SignInComponent) ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(authConfig_c.SignInComponent, {\n          onSignInComplete: (authState) => {\n            setAuthStates_c == null ? void 0 : setAuthStates_c((prev) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, prev), { [action.name]: authState }));\n            if (pendingActionRef.current) {\n              executeAction(pendingActionRef.current);\n              pendingActionRef.current = null;\n            }\n          }\n        }) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment);\n      }\n      return executeAction(props);\n    },\n    [action, authStates_c, setAuthStates_c]\n  );\n  (0,_chunk_JEMBA7PE_mjs__WEBPACK_IMPORTED_MODULE_3__.useCopilotAction)(\n    (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, action), {\n      render: wrappedRender\n    }),\n    dependencies\n  );\n}\n\n\n//# sourceMappingURL=chunk-KWS75AOU.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUtXUzc1QU9VLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUU4QjtBQUdBO0FBSUE7O0FBRTlCO0FBQ3NEO0FBQzVCO0FBQzFCO0FBQ0EsVUFBVSw4Q0FBOEMsRUFBRSxzRUFBaUI7QUFDM0UsMkJBQTJCLDZDQUFNO0FBQ2pDLHdCQUF3QixrREFBVztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixnREFBbUIsQ0FBQywyQ0FBUTtBQUMxRCxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixrREFBVztBQUNuQztBQUNBLDhEQUE4RDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixnREFBbUI7QUFDbkc7QUFDQSx5RUFBeUUsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLFdBQVcsMEJBQTBCO0FBQzdJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUksZ0RBQW1CLENBQUMsMkNBQVE7QUFDekM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSxxRUFBZ0I7QUFDbEIsSUFBSSxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDbkM7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1LV1M3NUFPVS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgdXNlQ29waWxvdEFjdGlvblxufSBmcm9tIFwiLi9jaHVuay1KRU1CQTdQRS5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1hdXRoZW50aWNhdGVkLWFjdGlvbi50c1xuaW1wb3J0IHsgRnJhZ21lbnQsIHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUNvcGlsb3RBdXRoZW50aWNhdGVkQWN0aW9uX2MoYWN0aW9uLCBkZXBlbmRlbmNpZXMpIHtcbiAgY29uc3QgeyBhdXRoQ29uZmlnX2MsIGF1dGhTdGF0ZXNfYywgc2V0QXV0aFN0YXRlc19jIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBwZW5kaW5nQWN0aW9uUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBleGVjdXRlQWN0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKHByb3BzKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGFjdGlvbi5yZW5kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gYWN0aW9uLnJlbmRlcihwcm9wcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYWN0aW9uLnJlbmRlciB8fCBSZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50KTtcbiAgICB9LFxuICAgIFthY3Rpb25dXG4gICk7XG4gIGNvbnN0IHdyYXBwZWRSZW5kZXIgPSB1c2VDYWxsYmFjayhcbiAgICAocHJvcHMpID0+IHtcbiAgICAgIGNvbnN0IGlzQXV0aGVudGljYXRlZCA9IE9iamVjdC52YWx1ZXMoYXV0aFN0YXRlc19jIHx8IHt9KS5zb21lKFxuICAgICAgICAoc3RhdGUpID0+IHN0YXRlLnN0YXR1cyA9PT0gXCJhdXRoZW50aWNhdGVkXCJcbiAgICAgICk7XG4gICAgICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xuICAgICAgICBwZW5kaW5nQWN0aW9uUmVmLmN1cnJlbnQgPSBwcm9wcztcbiAgICAgICAgcmV0dXJuIChhdXRoQ29uZmlnX2MgPT0gbnVsbCA/IHZvaWQgMCA6IGF1dGhDb25maWdfYy5TaWduSW5Db21wb25lbnQpID8gUmVhY3QuY3JlYXRlRWxlbWVudChhdXRoQ29uZmlnX2MuU2lnbkluQ29tcG9uZW50LCB7XG4gICAgICAgICAgb25TaWduSW5Db21wbGV0ZTogKGF1dGhTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc2V0QXV0aFN0YXRlc19jID09IG51bGwgPyB2b2lkIDAgOiBzZXRBdXRoU3RhdGVzX2MoKHByZXYpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXYpLCB7IFthY3Rpb24ubmFtZV06IGF1dGhTdGF0ZSB9KSk7XG4gICAgICAgICAgICBpZiAocGVuZGluZ0FjdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAgIGV4ZWN1dGVBY3Rpb24ocGVuZGluZ0FjdGlvblJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgcGVuZGluZ0FjdGlvblJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogUmVhY3QuY3JlYXRlRWxlbWVudChGcmFnbWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhlY3V0ZUFjdGlvbihwcm9wcyk7XG4gICAgfSxcbiAgICBbYWN0aW9uLCBhdXRoU3RhdGVzX2MsIHNldEF1dGhTdGF0ZXNfY11cbiAgKTtcbiAgdXNlQ29waWxvdEFjdGlvbihcbiAgICBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBhY3Rpb24pLCB7XG4gICAgICByZW5kZXI6IHdyYXBwZWRSZW5kZXJcbiAgICB9KSxcbiAgICBkZXBlbmRlbmNpZXNcbiAgKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdEF1dGhlbnRpY2F0ZWRBY3Rpb25fY1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUtXUzc1QU9VLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-KWS75AOU.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-LLLCUHOO.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-LLLCUHOO.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useChat: () => (/* binding */ useChat)\n/* harmony export */ });\n/* harmony import */ var _chunk_4CEQJ2X6_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-4CEQJ2X6.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-4CEQJ2X6.mjs\");\n/* harmony import */ var _chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-Q3MCVRO3.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs\");\n/* harmony import */ var _chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-N4WEHORG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-FXYV7IUL.mjs\");\n\n\n\n\n\n\n\n// src/hooks/use-chat.ts\n\n\n\n\nfunction useChat(options) {\n  const {\n    messages,\n    setMessages,\n    makeSystemMessageCallback,\n    copilotConfig,\n    setIsLoading,\n    initialMessages,\n    isLoading,\n    actions,\n    onFunctionCall,\n    onCoAgentStateRender,\n    setCoagentStatesWithRef,\n    coagentStatesRef,\n    agentSession,\n    setAgentSession,\n    threadId,\n    setThreadId,\n    runId,\n    setRunId,\n    chatAbortControllerRef,\n    agentLock,\n    extensions,\n    setExtensions,\n    langGraphInterruptAction,\n    setLangGraphInterruptAction,\n    disableSystemMessage = false\n  } = options;\n  const runChatCompletionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const addErrorToast = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_2__.useErrorToast)();\n  const { setBannerError } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_3__.useToast)();\n  const { onError } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_4__.useCopilotContext)();\n  const traceUIError = (error, originalError) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n    try {\n      const traceEvent = {\n        type: \"error\",\n        timestamp: Date.now(),\n        context: {\n          source: \"ui\",\n          request: {\n            operation: \"useChatCompletion\",\n            url: copilotConfig.chatApiEndpoint,\n            startTime: Date.now()\n          },\n          technical: {\n            environment: \"browser\",\n            userAgent: typeof navigator !== \"undefined\" ? navigator.userAgent : void 0,\n            stackTrace: originalError instanceof Error ? originalError.stack : void 0\n          }\n        },\n        error\n      };\n      yield onError(traceEvent);\n    } catch (traceError) {\n      console.error(\"Error in use-chat onError handler:\", traceError);\n    }\n  });\n  const agentSessionRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(agentSession);\n  agentSessionRef.current = agentSession;\n  const runIdRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(runId);\n  runIdRef.current = runId;\n  const extensionsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(extensions);\n  extensionsRef.current = extensions;\n  const publicApiKey = copilotConfig.publicApiKey;\n  const headers = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, copilotConfig.headers || {}), publicApiKey ? { [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_6__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: publicApiKey } : {});\n  const { showDevConsole } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_4__.useCopilotContext)();\n  const runtimeClient = (0,_chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_7__.useCopilotRuntimeClient)({\n    url: copilotConfig.chatApiEndpoint,\n    publicApiKey: copilotConfig.publicApiKey,\n    headers,\n    credentials: copilotConfig.credentials,\n    showDevConsole,\n    onError\n  });\n  const pendingAppendsRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n  const runChatCompletion = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_2__.useAsyncCallback)(\n    (previousMessages) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n      var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t;\n      setIsLoading(true);\n      const interruptEvent = langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.event;\n      if ((interruptEvent == null ? void 0 : interruptEvent.name) === _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MetaEventName.LangGraphInterruptEvent && (interruptEvent == null ? void 0 : interruptEvent.value) && !(interruptEvent == null ? void 0 : interruptEvent.response) && agentSessionRef.current) {\n        addErrorToast([\n          new Error(\n            \"A message was sent while interrupt is active. This will cause failure on the agent side\"\n          )\n        ]);\n      }\n      let newMessages = [\n        new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.TextMessage({\n          content: \"\",\n          role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.Role.Assistant\n        })\n      ];\n      chatAbortControllerRef.current = new AbortController();\n      setMessages([...previousMessages, ...newMessages]);\n      const messagesWithContext = disableSystemMessage ? [...initialMessages || [], ...previousMessages] : [makeSystemMessageCallback(), ...initialMessages || [], ...previousMessages];\n      const finalProperties = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, copilotConfig.properties || {});\n      let mcpServersToUse = null;\n      if (copilotConfig.mcpServers && Array.isArray(copilotConfig.mcpServers) && copilotConfig.mcpServers.length > 0) {\n        mcpServersToUse = copilotConfig.mcpServers;\n      } else if (((_a = copilotConfig.properties) == null ? void 0 : _a.mcpServers) && Array.isArray(copilotConfig.properties.mcpServers) && copilotConfig.properties.mcpServers.length > 0) {\n        mcpServersToUse = copilotConfig.properties.mcpServers;\n      }\n      if (mcpServersToUse) {\n        finalProperties.mcpServers = mcpServersToUse;\n        copilotConfig.mcpServers = mcpServersToUse;\n      }\n      const isAgentRun = agentSessionRef.current !== null;\n      const stream = runtimeClient.asStream(\n        runtimeClient.generateCopilotResponse({\n          data: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({\n            frontend: {\n              actions: (0,_chunk_4CEQJ2X6_mjs__WEBPACK_IMPORTED_MODULE_10__.processActionsForRuntimeRequest)(actions),\n              url: window.location.href\n            },\n            threadId,\n            runId: runIdRef.current,\n            extensions: extensionsRef.current,\n            metaEvents: composeAndFlushMetaEventsInput([langGraphInterruptAction == null ? void 0 : langGraphInterruptAction.event]),\n            messages: (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.convertMessagesToGqlInput)((0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.filterAgentStateMessages)(messagesWithContext))\n          }, copilotConfig.cloud ? {\n            cloud: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, ((_d = (_c = (_b = copilotConfig.cloud.guardrails) == null ? void 0 : _b.input) == null ? void 0 : _c.restrictToTopic) == null ? void 0 : _d.enabled) ? {\n              guardrails: {\n                inputValidationRules: {\n                  allowList: copilotConfig.cloud.guardrails.input.restrictToTopic.validTopics,\n                  denyList: copilotConfig.cloud.guardrails.input.restrictToTopic.invalidTopics\n                }\n              }\n            } : {})\n          } : {}), {\n            metadata: {\n              requestType: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.CopilotRequestType.Chat\n            }\n          }), agentSessionRef.current ? {\n            agentSession: agentSessionRef.current\n          } : {}), {\n            agentStates: Object.values(coagentStatesRef.current).map((state) => {\n              const stateObject = {\n                agentName: state.name,\n                state: JSON.stringify(state.state)\n              };\n              if (state.config !== void 0) {\n                stateObject.config = JSON.stringify(state.config);\n              }\n              return stateObject;\n            }),\n            forwardedParameters: options.forwardedParameters || {}\n          }),\n          properties: finalProperties,\n          signal: (_e = chatAbortControllerRef.current) == null ? void 0 : _e.signal\n        })\n      );\n      const guardrailsEnabled = ((_h = (_g = (_f = copilotConfig.cloud) == null ? void 0 : _f.guardrails) == null ? void 0 : _g.input) == null ? void 0 : _h.restrictToTopic.enabled) || false;\n      const reader = stream.getReader();\n      let executedCoAgentStateRenders = [];\n      let followUp = void 0;\n      let messages2 = [];\n      let syncedMessages = [];\n      let interruptMessages = [];\n      try {\n        while (true) {\n          let done, value;\n          try {\n            const readResult = yield reader.read();\n            done = readResult.done;\n            value = readResult.value;\n          } catch (readError) {\n            break;\n          }\n          if (done) {\n            if (chatAbortControllerRef.current.signal.aborted) {\n              return [];\n            }\n            break;\n          }\n          if (!(value == null ? void 0 : value.generateCopilotResponse)) {\n            continue;\n          }\n          runIdRef.current = value.generateCopilotResponse.runId || null;\n          extensionsRef.current = _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_12__.CopilotRuntimeClient.removeGraphQLTypename(\n            value.generateCopilotResponse.extensions || {}\n          );\n          setRunId(runIdRef.current);\n          setExtensions(extensionsRef.current);\n          let rawMessagesResponse = value.generateCopilotResponse.messages;\n          const metaEvents = (_j = (_i = value.generateCopilotResponse) == null ? void 0 : _i.metaEvents) != null ? _j : [];\n          (metaEvents != null ? metaEvents : []).forEach((ev) => {\n            if (ev.name === _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MetaEventName.LangGraphInterruptEvent) {\n              let eventValue = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.langGraphInterruptEvent)(ev).value;\n              eventValue = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.parseJson)(eventValue, eventValue);\n              setLangGraphInterruptAction({\n                event: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.langGraphInterruptEvent)(ev)), {\n                  value: eventValue\n                })\n              });\n            }\n            if (ev.name === _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MetaEventName.CopilotKitLangGraphInterruptEvent) {\n              const data = ev.data;\n              rawMessagesResponse = [...rawMessagesResponse, ...data.messages];\n              interruptMessages = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.convertGqlOutputToMessages)(\n                // @ts-ignore\n                (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.filterAdjacentAgentStateMessages)(data.messages)\n              );\n            }\n          });\n          messages2 = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.convertGqlOutputToMessages)(\n            (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.filterAdjacentAgentStateMessages)(rawMessagesResponse)\n          );\n          newMessages = [];\n          if (((_k = value.generateCopilotResponse.status) == null ? void 0 : _k.__typename) === \"FailedResponseStatus\" && value.generateCopilotResponse.status.reason === \"GUARDRAILS_VALIDATION_FAILED\") {\n            const guardrailsReason = ((_l = value.generateCopilotResponse.status.details) == null ? void 0 : _l.guardrailsReason) || \"\";\n            newMessages = [\n              new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.TextMessage({\n                role: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MessageRole.Assistant,\n                content: guardrailsReason\n              })\n            ];\n            const guardrailsError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.CopilotKitError({\n              message: `Guardrails validation failed: ${guardrailsReason}`,\n              code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.CopilotKitErrorCode.MISUSE\n            });\n            yield traceUIError(guardrailsError, {\n              statusReason: value.generateCopilotResponse.status.reason,\n              statusDetails: value.generateCopilotResponse.status.details\n            });\n            setMessages([...previousMessages, ...newMessages]);\n            break;\n          }\n          if (((_m = value.generateCopilotResponse.status) == null ? void 0 : _m.__typename) === \"FailedResponseStatus\" && value.generateCopilotResponse.status.reason === \"UNKNOWN_ERROR\") {\n            const errorMessage = ((_n = value.generateCopilotResponse.status.details) == null ? void 0 : _n.description) || \"An unknown error occurred\";\n            const statusDetails = value.generateCopilotResponse.status.details;\n            const originalError = (statusDetails == null ? void 0 : statusDetails.originalError) || (statusDetails == null ? void 0 : statusDetails.error);\n            const originalCode = (originalError == null ? void 0 : originalError.code) || ((_o = originalError == null ? void 0 : originalError.extensions) == null ? void 0 : _o.code);\n            const originalSeverity = (originalError == null ? void 0 : originalError.severity) || ((_p = originalError == null ? void 0 : originalError.extensions) == null ? void 0 : _p.severity);\n            const originalVisibility = (originalError == null ? void 0 : originalError.visibility) || ((_q = originalError == null ? void 0 : originalError.extensions) == null ? void 0 : _q.visibility);\n            let errorCode = _copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.CopilotKitErrorCode.NETWORK_ERROR;\n            if (originalCode && Object.values(_copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.CopilotKitErrorCode).includes(originalCode)) {\n              errorCode = originalCode;\n            }\n            const structuredError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.CopilotKitError({\n              message: errorMessage,\n              code: errorCode,\n              severity: originalSeverity,\n              visibility: originalVisibility\n            });\n            setBannerError(structuredError);\n            yield traceUIError(structuredError, {\n              statusReason: value.generateCopilotResponse.status.reason,\n              statusDetails: value.generateCopilotResponse.status.details,\n              originalErrorCode: originalCode,\n              preservedStructure: !!originalCode\n            });\n            setIsLoading(false);\n            break;\n          } else if (messages2.length > 0) {\n            newMessages = [...messages2];\n            for (const message of messages2) {\n              if (message.isAgentStateMessage() && !message.active && !executedCoAgentStateRenders.includes(message.id) && onCoAgentStateRender) {\n                if (guardrailsEnabled && value.generateCopilotResponse.status === void 0) {\n                  break;\n                }\n                yield onCoAgentStateRender({\n                  name: message.agentName,\n                  nodeName: message.nodeName,\n                  state: message.state\n                });\n                executedCoAgentStateRenders.push(message.id);\n              }\n            }\n            const lastAgentStateMessage = [...messages2].reverse().find((message) => message.isAgentStateMessage());\n            if (lastAgentStateMessage) {\n              if (lastAgentStateMessage.state.messages && lastAgentStateMessage.state.messages.length > 0) {\n                syncedMessages = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_11__.loadMessagesFromJsonRepresentation)(\n                  lastAgentStateMessage.state.messages\n                );\n              }\n              setCoagentStatesWithRef((prevAgentStates) => {\n                var _a2;\n                return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, prevAgentStates), {\n                  [lastAgentStateMessage.agentName]: {\n                    name: lastAgentStateMessage.agentName,\n                    state: lastAgentStateMessage.state,\n                    running: lastAgentStateMessage.running,\n                    active: lastAgentStateMessage.active,\n                    threadId: lastAgentStateMessage.threadId,\n                    nodeName: lastAgentStateMessage.nodeName,\n                    runId: lastAgentStateMessage.runId,\n                    // Preserve existing config from previous state\n                    config: (_a2 = prevAgentStates[lastAgentStateMessage.agentName]) == null ? void 0 : _a2.config\n                  }\n                });\n              });\n              if (lastAgentStateMessage.running) {\n                setAgentSession({\n                  threadId: lastAgentStateMessage.threadId,\n                  agentName: lastAgentStateMessage.agentName,\n                  nodeName: lastAgentStateMessage.nodeName\n                });\n              } else {\n                if (agentLock) {\n                  setAgentSession({\n                    threadId: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_14__.randomId)(),\n                    agentName: agentLock,\n                    nodeName: void 0\n                  });\n                } else {\n                  setAgentSession(null);\n                }\n              }\n            }\n          }\n          if (newMessages.length > 0) {\n            setMessages([...previousMessages, ...newMessages]);\n          }\n        }\n        let finalMessages = constructFinalMessages(\n          [...syncedMessages, ...interruptMessages],\n          previousMessages,\n          newMessages\n        );\n        let didExecuteAction = false;\n        const executeActionFromMessage = (currentAction, actionMessage) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n          var _a2;\n          const isInterruptAction = interruptMessages.find((m) => m.id === actionMessage.id);\n          followUp = (_a2 = currentAction == null ? void 0 : currentAction.followUp) != null ? _a2 : !isInterruptAction;\n          if (currentAction == null ? void 0 : currentAction._setActivatingMessageId) {\n            currentAction._setActivatingMessageId(actionMessage.id);\n          }\n          const resultMessage = yield executeAction({\n            onFunctionCall,\n            message: actionMessage,\n            chatAbortControllerRef,\n            onError: (error) => {\n              addErrorToast([error]);\n              console.error(`Failed to execute action ${actionMessage.name}: ${error}`);\n            },\n            setMessages,\n            getFinalMessages: () => finalMessages,\n            isRenderAndWait: (currentAction == null ? void 0 : currentAction._isRenderAndWait) || false\n          });\n          didExecuteAction = true;\n          const messageIndex = finalMessages.findIndex((msg) => msg.id === actionMessage.id);\n          finalMessages.splice(messageIndex + 1, 0, resultMessage);\n          if (currentAction == null ? void 0 : currentAction._isRenderAndWait) {\n            const messagesForImmediateUpdate = [...finalMessages];\n            (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => {\n              setMessages(messagesForImmediateUpdate);\n            });\n          }\n          if (currentAction == null ? void 0 : currentAction._setActivatingMessageId) {\n            currentAction._setActivatingMessageId(null);\n          }\n          return resultMessage;\n        });\n        if (onFunctionCall) {\n          const lastMessages = [];\n          for (let i = finalMessages.length - 1; i >= 0; i--) {\n            const message = finalMessages[i];\n            if ((message.isActionExecutionMessage() || message.isResultMessage()) && message.status.code !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MessageStatusCode.Pending) {\n              lastMessages.unshift(message);\n            } else if (!message.isAgentStateMessage()) {\n              break;\n            }\n          }\n          for (const message of lastMessages) {\n            setMessages(finalMessages);\n            const action = actions.find(\n              (action2) => action2.name === message.name\n            );\n            if (action && action.available === \"frontend\") {\n              continue;\n            }\n            const currentResultMessagePairedFeAction = message.isResultMessage() ? getPairedFeAction(actions, message) : null;\n            if (action && message.isActionExecutionMessage()) {\n              const isRenderAndWaitAction = (action == null ? void 0 : action._isRenderAndWait) || false;\n              const alreadyProcessed = isRenderAndWaitAction && finalMessages.some(\n                (fm) => fm.isResultMessage() && fm.actionExecutionId === message.id\n              );\n              if (alreadyProcessed) {\n              } else {\n                const resultMessage = yield executeActionFromMessage(\n                  action,\n                  message\n                );\n                const pairedFeAction = getPairedFeAction(actions, resultMessage);\n                if (pairedFeAction) {\n                  const newExecutionMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.ActionExecutionMessage({\n                    name: pairedFeAction.name,\n                    arguments: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.parseJson)(resultMessage.result, resultMessage.result),\n                    status: message.status,\n                    createdAt: message.createdAt,\n                    parentMessageId: message.parentMessageId\n                  });\n                  yield executeActionFromMessage(pairedFeAction, newExecutionMessage);\n                }\n              }\n            } else if (message.isResultMessage() && currentResultMessagePairedFeAction) {\n              const newExecutionMessage = new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.ActionExecutionMessage({\n                name: currentResultMessagePairedFeAction.name,\n                arguments: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_13__.parseJson)(message.result, message.result),\n                status: message.status,\n                createdAt: message.createdAt\n              });\n              finalMessages.push(newExecutionMessage);\n              yield executeActionFromMessage(\n                currentResultMessagePairedFeAction,\n                newExecutionMessage\n              );\n            }\n          }\n          setMessages(finalMessages);\n        }\n        if (followUp !== false && (didExecuteAction || // the last message is a server side result\n        !isAgentRun && finalMessages.length && finalMessages[finalMessages.length - 1].isResultMessage()) && // the user did not stop generation\n        !((_r = chatAbortControllerRef.current) == null ? void 0 : _r.signal.aborted)) {\n          yield new Promise((resolve) => setTimeout(resolve, 10));\n          return yield runChatCompletionRef.current(finalMessages);\n        } else if ((_s = chatAbortControllerRef.current) == null ? void 0 : _s.signal.aborted) {\n          const repairedMessages = finalMessages.filter((message, actionExecutionIndex) => {\n            if (message.isActionExecutionMessage()) {\n              return finalMessages.find(\n                (msg, resultIndex) => msg.isResultMessage() && msg.actionExecutionId === message.id && resultIndex === actionExecutionIndex + 1\n              );\n            }\n            return true;\n          });\n          const repairedMessageIds = repairedMessages.map((message) => message.id);\n          setMessages(repairedMessages);\n          if ((_t = agentSessionRef.current) == null ? void 0 : _t.nodeName) {\n            setAgentSession({\n              threadId: agentSessionRef.current.threadId,\n              agentName: agentSessionRef.current.agentName,\n              nodeName: \"__end__\"\n            });\n          }\n          return newMessages.filter((message) => repairedMessageIds.includes(message.id));\n        } else {\n          return newMessages.slice();\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }),\n    [\n      messages,\n      setMessages,\n      makeSystemMessageCallback,\n      copilotConfig,\n      setIsLoading,\n      initialMessages,\n      isLoading,\n      actions,\n      onFunctionCall,\n      onCoAgentStateRender,\n      setCoagentStatesWithRef,\n      coagentStatesRef,\n      agentSession,\n      setAgentSession,\n      disableSystemMessage\n    ]\n  );\n  runChatCompletionRef.current = runChatCompletion;\n  const runChatCompletionAndHandleFunctionCall = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_2__.useAsyncCallback)(\n    (messages2) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n      yield runChatCompletionRef.current(messages2);\n    }),\n    [messages]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!isLoading && pendingAppendsRef.current.length > 0) {\n      const pending = pendingAppendsRef.current.splice(0);\n      const followUp = pending.some((p) => p.followUp);\n      const newMessages = [...messages, ...pending.map((p) => p.message)];\n      setMessages(newMessages);\n      if (followUp) {\n        runChatCompletionAndHandleFunctionCall(newMessages);\n      }\n    }\n  }, [isLoading, messages, setMessages, runChatCompletionAndHandleFunctionCall]);\n  const composeAndFlushMetaEventsInput = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (metaEvents) => {\n      return metaEvents.reduce((acc, event) => {\n        if (!event)\n          return acc;\n        switch (event.name) {\n          case _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MetaEventName.LangGraphInterruptEvent:\n            if (event.response) {\n              setLangGraphInterruptAction(null);\n              const value = event.value;\n              return [\n                ...acc,\n                {\n                  name: event.name,\n                  value: typeof value === \"string\" ? value : JSON.stringify(value),\n                  response: typeof event.response === \"string\" ? event.response : JSON.stringify(event.response)\n                }\n              ];\n            }\n            return acc;\n          default:\n            return acc;\n        }\n      }, []);\n    },\n    [setLangGraphInterruptAction]\n  );\n  const append = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_2__.useAsyncCallback)(\n    (message, options2) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n      var _a;\n      const followUp = (_a = options2 == null ? void 0 : options2.followUp) != null ? _a : true;\n      if (isLoading) {\n        pendingAppendsRef.current.push({ message, followUp });\n        return;\n      }\n      const newMessages = [...messages, message];\n      setMessages(newMessages);\n      if (followUp) {\n        return runChatCompletionAndHandleFunctionCall(newMessages);\n      }\n    }),\n    [isLoading, messages, setMessages, runChatCompletionAndHandleFunctionCall]\n  );\n  const reload = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_2__.useAsyncCallback)(\n    (reloadMessageId) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n      if (isLoading || messages.length === 0) {\n        return;\n      }\n      const reloadMessageIndex = messages.findIndex((msg) => msg.id === reloadMessageId);\n      if (reloadMessageIndex === -1) {\n        console.warn(`Message with id ${reloadMessageId} not found`);\n        return;\n      }\n      const reloadMessageRole = messages[reloadMessageIndex].role;\n      if (reloadMessageRole !== _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MessageRole.Assistant) {\n        console.warn(`Regenerate cannot be performed on ${reloadMessageRole} role`);\n        return;\n      }\n      let historyCutoff = [];\n      if (messages.length > 2) {\n        const lastUserMessageBeforeRegenerate = messages.slice(0, reloadMessageIndex).reverse().find(\n          (msg) => (\n            // @ts-expect-error -- message has role\n            msg.role === _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_8__.MessageRole.User\n          )\n        );\n        const indexOfLastUserMessageBeforeRegenerate = messages.findIndex(\n          (msg) => msg.id === lastUserMessageBeforeRegenerate.id\n        );\n        historyCutoff = messages.slice(0, indexOfLastUserMessageBeforeRegenerate + 1);\n      }\n      setMessages(historyCutoff);\n      return runChatCompletionAndHandleFunctionCall(historyCutoff);\n    }),\n    [isLoading, messages, setMessages, runChatCompletionAndHandleFunctionCall]\n  );\n  const stop = () => {\n    var _a;\n    (_a = chatAbortControllerRef.current) == null ? void 0 : _a.abort(\"Stop was called\");\n  };\n  return {\n    append,\n    reload,\n    stop,\n    runChatCompletion: () => runChatCompletionRef.current(messages)\n  };\n}\nfunction constructFinalMessages(syncedMessages, previousMessages, newMessages) {\n  const finalMessages = syncedMessages.length > 0 ? [...syncedMessages] : [...previousMessages, ...newMessages];\n  if (syncedMessages.length > 0) {\n    const messagesWithAgentState = [...previousMessages, ...newMessages];\n    let previousMessageId = void 0;\n    for (const message of messagesWithAgentState) {\n      if (message.isAgentStateMessage()) {\n        const index = finalMessages.findIndex((msg) => msg.id === previousMessageId);\n        if (index !== -1) {\n          finalMessages.splice(index + 1, 0, message);\n        }\n      }\n      previousMessageId = message.id;\n    }\n  }\n  return finalMessages;\n}\nfunction executeAction(_0) {\n  return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, arguments, function* ({\n    onFunctionCall,\n    message,\n    chatAbortControllerRef,\n    onError,\n    setMessages,\n    getFinalMessages,\n    isRenderAndWait\n  }) {\n    let result;\n    let error = null;\n    const currentMessagesForHandler = getFinalMessages();\n    const handlerReturnedPromise = onFunctionCall({\n      messages: currentMessagesForHandler,\n      name: message.name,\n      args: message.arguments\n    });\n    if (isRenderAndWait) {\n      const currentMessagesForRender = getFinalMessages();\n      (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync)(() => {\n        setMessages([...currentMessagesForRender]);\n      });\n    }\n    try {\n      result = yield Promise.race([\n        handlerReturnedPromise,\n        // Await the promise returned by the handler\n        new Promise(\n          (resolve) => {\n            var _a;\n            return (_a = chatAbortControllerRef.current) == null ? void 0 : _a.signal.addEventListener(\n              \"abort\",\n              () => resolve(\"Operation was aborted by the user\")\n            );\n          }\n        ),\n        // if the user stopped generation, we also abort consecutive actions\n        new Promise((resolve) => {\n          var _a;\n          if ((_a = chatAbortControllerRef.current) == null ? void 0 : _a.signal.aborted) {\n            resolve(\"Operation was aborted by the user\");\n          }\n        })\n      ]);\n    } catch (e) {\n      onError(e);\n    }\n    return new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.ResultMessage({\n      id: \"result-\" + message.id,\n      result: _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_9__.ResultMessage.encodeResult(\n        error ? {\n          content: result,\n          error: JSON.parse(JSON.stringify(error, Object.getOwnPropertyNames(error)))\n        } : result\n      ),\n      actionExecutionId: message.id,\n      actionName: message.name\n    });\n  });\n}\nfunction getPairedFeAction(actions, message) {\n  let actionName = null;\n  if (message.isActionExecutionMessage()) {\n    actionName = message.name;\n  } else if (message.isResultMessage()) {\n    actionName = message.actionName;\n  }\n  return actions.find(\n    (action) => action.name === actionName && action.available === \"frontend\" || action.pairedAction === actionName\n  );\n}\n\n\n//# sourceMappingURL=chunk-LLLCUHOO.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUxMTENVSE9PLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFJQTtBQUdBO0FBR0E7QUFLQTs7QUFFOUI7QUFDdUQ7QUFDakI7QUFPVjtBQWlCWTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osK0JBQStCLDZDQUFNO0FBQ3JDLHdCQUF3QixrRUFBYTtBQUNyQyxVQUFVLGlCQUFpQixFQUFFLDZEQUFRO0FBQ3JDLFVBQVUsVUFBVSxFQUFFLHNFQUFpQjtBQUN2QyxpREFBaUQsNERBQU87QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSCwwQkFBMEIsNkNBQU07QUFDaEM7QUFDQSxtQkFBbUIsNkNBQU07QUFDekI7QUFDQSx3QkFBd0IsNkNBQU07QUFDOUI7QUFDQTtBQUNBLGtCQUFrQixtRUFBYyxDQUFDLG1FQUFjLEdBQUcsNkJBQTZCLG9CQUFvQixDQUFDLG1GQUFtQyxrQkFBa0IsSUFBSTtBQUM3SixVQUFVLGlCQUFpQixFQUFFLHNFQUFpQjtBQUM5Qyx3QkFBd0IsNEVBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCw0QkFBNEIsNkNBQU07QUFDbEMsNEJBQTRCLHFFQUFnQjtBQUM1QywwQkFBMEIsNERBQU87QUFDakM7QUFDQTtBQUNBO0FBQ0Es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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDREQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxNQUFNLG9EQUFTO0FBQ2Y7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsZUFBZSx5RUFBYTtBQUM1QjtBQUNBLGNBQWMseUVBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLUxMTENVSE9PLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBwcm9jZXNzQWN0aW9uc0ZvclJ1bnRpbWVSZXF1ZXN0XG59IGZyb20gXCIuL2NodW5rLTRDRVFKMlg2Lm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29waWxvdFJ1bnRpbWVDbGllbnRcbn0gZnJvbSBcIi4vY2h1bmstUTNNQ1ZSTzMubWpzXCI7XG5pbXBvcnQge1xuICB1c2VBc3luY0NhbGxiYWNrLFxuICB1c2VFcnJvclRvYXN0XG59IGZyb20gXCIuL2NodW5rLU40V0VIT1JHLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlVG9hc3Rcbn0gZnJvbSBcIi4vY2h1bmstRUZMNU9CS04ubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1ZSFQ2Q1dJWS5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWNoYXQudHNcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZmx1c2hTeW5jIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHtcbiAgQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVIsXG4gIHJhbmRvbUlkLFxuICBwYXJzZUpzb24sXG4gIENvcGlsb3RLaXRFcnJvcixcbiAgQ29waWxvdEtpdEVycm9yQ29kZVxufSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQge1xuICBUZXh0TWVzc2FnZSxcbiAgUmVzdWx0TWVzc2FnZSxcbiAgY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dCxcbiAgZmlsdGVyQWRqYWNlbnRBZ2VudFN0YXRlTWVzc2FnZXMsXG4gIGZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyxcbiAgY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMsXG4gIE1lc3NhZ2VTdGF0dXNDb2RlLFxuICBNZXNzYWdlUm9sZSxcbiAgUm9sZSxcbiAgQ29waWxvdFJlcXVlc3RUeXBlLFxuICBsb2FkTWVzc2FnZXNGcm9tSnNvblJlcHJlc2VudGF0aW9uLFxuICBDb3BpbG90UnVudGltZUNsaWVudCxcbiAgbGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQsXG4gIE1ldGFFdmVudE5hbWUsXG4gIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2Vcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuZnVuY3Rpb24gdXNlQ2hhdChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBtZXNzYWdlcyxcbiAgICBzZXRNZXNzYWdlcyxcbiAgICBtYWtlU3lzdGVtTWVzc2FnZUNhbGxiYWNrLFxuICAgIGNvcGlsb3RDb25maWcsXG4gICAgc2V0SXNMb2FkaW5nLFxuICAgIGluaXRpYWxNZXNzYWdlcyxcbiAgICBpc0xvYWRpbmcsXG4gICAgYWN0aW9ucyxcbiAgICBvbkZ1bmN0aW9uQ2FsbCxcbiAgICBvbkNvQWdlbnRTdGF0ZVJlbmRlcixcbiAgICBzZXRDb2FnZW50U3RhdGVzV2l0aFJlZixcbiAgICBjb2FnZW50U3RhdGVzUmVmLFxuICAgIGFnZW50U2Vzc2lvbixcbiAgICBzZXRBZ2VudFNlc3Npb24sXG4gICAgdGhyZWFkSWQsXG4gICAgc2V0VGhyZWFkSWQsXG4gICAgcnVuSWQsXG4gICAgc2V0UnVuSWQsXG4gICAgY2hhdEFib3J0Q29udHJvbGxlclJlZixcbiAgICBhZ2VudExvY2ssXG4gICAgZXh0ZW5zaW9ucyxcbiAgICBzZXRFeHRlbnNpb25zLFxuICAgIGxhbmdHcmFwaEludGVycnVwdEFjdGlvbixcbiAgICBzZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24sXG4gICAgZGlzYWJsZVN5c3RlbU1lc3NhZ2UgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgcnVuQ2hhdENvbXBsZXRpb25SZWYgPSB1c2VSZWYoKTtcbiAgY29uc3QgYWRkRXJyb3JUb2FzdCA9IHVzZUVycm9yVG9hc3QoKTtcbiAgY29uc3QgeyBzZXRCYW5uZXJFcnJvciB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgeyBvbkVycm9yIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCB0cmFjZVVJRXJyb3IgPSAoZXJyb3IsIG9yaWdpbmFsRXJyb3IpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdHJhY2VFdmVudCA9IHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICBzb3VyY2U6IFwidWlcIixcbiAgICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICBvcGVyYXRpb246IFwidXNlQ2hhdENvbXBsZXRpb25cIixcbiAgICAgICAgICAgIHVybDogY29waWxvdENvbmZpZy5jaGF0QXBpRW5kcG9pbnQsXG4gICAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRlY2huaWNhbDoge1xuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IFwiYnJvd3NlclwiLFxuICAgICAgICAgICAgdXNlckFnZW50OiB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6IHZvaWQgMCxcbiAgICAgICAgICAgIHN0YWNrVHJhY2U6IG9yaWdpbmFsRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IG9yaWdpbmFsRXJyb3Iuc3RhY2sgOiB2b2lkIDBcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yXG4gICAgICB9O1xuICAgICAgeWllbGQgb25FcnJvcih0cmFjZUV2ZW50KTtcbiAgICB9IGNhdGNoICh0cmFjZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gdXNlLWNoYXQgb25FcnJvciBoYW5kbGVyOlwiLCB0cmFjZUVycm9yKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBhZ2VudFNlc3Npb25SZWYgPSB1c2VSZWYoYWdlbnRTZXNzaW9uKTtcbiAgYWdlbnRTZXNzaW9uUmVmLmN1cnJlbnQgPSBhZ2VudFNlc3Npb247XG4gIGNvbnN0IHJ1bklkUmVmID0gdXNlUmVmKHJ1bklkKTtcbiAgcnVuSWRSZWYuY3VycmVudCA9IHJ1bklkO1xuICBjb25zdCBleHRlbnNpb25zUmVmID0gdXNlUmVmKGV4dGVuc2lvbnMpO1xuICBleHRlbnNpb25zUmVmLmN1cnJlbnQgPSBleHRlbnNpb25zO1xuICBjb25zdCBwdWJsaWNBcGlLZXkgPSBjb3BpbG90Q29uZmlnLnB1YmxpY0FwaUtleTtcbiAgY29uc3QgaGVhZGVycyA9IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb3BpbG90Q29uZmlnLmhlYWRlcnMgfHwge30pLCBwdWJsaWNBcGlLZXkgPyB7IFtDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUl06IHB1YmxpY0FwaUtleSB9IDoge30pO1xuICBjb25zdCB7IHNob3dEZXZDb25zb2xlIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBydW50aW1lQ2xpZW50ID0gdXNlQ29waWxvdFJ1bnRpbWVDbGllbnQoe1xuICAgIHVybDogY29waWxvdENvbmZpZy5jaGF0QXBpRW5kcG9pbnQsXG4gICAgcHVibGljQXBpS2V5OiBjb3BpbG90Q29uZmlnLnB1YmxpY0FwaUtleSxcbiAgICBoZWFkZXJzLFxuICAgIGNyZWRlbnRpYWxzOiBjb3BpbG90Q29uZmlnLmNyZWRlbnRpYWxzLFxuICAgIHNob3dEZXZDb25zb2xlLFxuICAgIG9uRXJyb3JcbiAgfSk7XG4gIGNvbnN0IHBlbmRpbmdBcHBlbmRzUmVmID0gdXNlUmVmKFtdKTtcbiAgY29uc3QgcnVuQ2hhdENvbXBsZXRpb24gPSB1c2VBc3luY0NhbGxiYWNrKFxuICAgIChwcmV2aW91c01lc3NhZ2VzKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbCwgX20sIF9uLCBfbywgX3AsIF9xLCBfciwgX3MsIF90O1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgY29uc3QgaW50ZXJydXB0RXZlbnQgPSBsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGxhbmdHcmFwaEludGVycnVwdEFjdGlvbi5ldmVudDtcbiAgICAgIGlmICgoaW50ZXJydXB0RXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVycnVwdEV2ZW50Lm5hbWUpID09PSBNZXRhRXZlbnROYW1lLkxhbmdHcmFwaEludGVycnVwdEV2ZW50ICYmIChpbnRlcnJ1cHRFdmVudCA9PSBudWxsID8gdm9pZCAwIDogaW50ZXJydXB0RXZlbnQudmFsdWUpICYmICEoaW50ZXJydXB0RXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVycnVwdEV2ZW50LnJlc3BvbnNlKSAmJiBhZ2VudFNlc3Npb25SZWYuY3VycmVudCkge1xuICAgICAgICBhZGRFcnJvclRvYXN0KFtcbiAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkEgbWVzc2FnZSB3YXMgc2VudCB3aGlsZSBpbnRlcnJ1cHQgaXMgYWN0aXZlLiBUaGlzIHdpbGwgY2F1c2UgZmFpbHVyZSBvbiB0aGUgYWdlbnQgc2lkZVwiXG4gICAgICAgICAgKVxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdNZXNzYWdlcyA9IFtcbiAgICAgICAgbmV3IFRleHRNZXNzYWdlKHtcbiAgICAgICAgICBjb250ZW50OiBcIlwiLFxuICAgICAgICAgIHJvbGU6IFJvbGUuQXNzaXN0YW50XG4gICAgICAgIH0pXG4gICAgICBdO1xuICAgICAgY2hhdEFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50ID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgc2V0TWVzc2FnZXMoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm5ld01lc3NhZ2VzXSk7XG4gICAgICBjb25zdCBtZXNzYWdlc1dpdGhDb250ZXh0ID0gZGlzYWJsZVN5c3RlbU1lc3NhZ2UgPyBbLi4uaW5pdGlhbE1lc3NhZ2VzIHx8IFtdLCAuLi5wcmV2aW91c01lc3NhZ2VzXSA6IFttYWtlU3lzdGVtTWVzc2FnZUNhbGxiYWNrKCksIC4uLmluaXRpYWxNZXNzYWdlcyB8fCBbXSwgLi4ucHJldmlvdXNNZXNzYWdlc107XG4gICAgICBjb25zdCBmaW5hbFByb3BlcnRpZXMgPSBfX3NwcmVhZFZhbHVlcyh7fSwgY29waWxvdENvbmZpZy5wcm9wZXJ0aWVzIHx8IHt9KTtcbiAgICAgIGxldCBtY3BTZXJ2ZXJzVG9Vc2UgPSBudWxsO1xuICAgICAgaWYgKGNvcGlsb3RDb25maWcubWNwU2VydmVycyAmJiBBcnJheS5pc0FycmF5KGNvcGlsb3RDb25maWcubWNwU2VydmVycykgJiYgY29waWxvdENvbmZpZy5tY3BTZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbWNwU2VydmVyc1RvVXNlID0gY29waWxvdENvbmZpZy5tY3BTZXJ2ZXJzO1xuICAgICAgfSBlbHNlIGlmICgoKF9hID0gY29waWxvdENvbmZpZy5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWNwU2VydmVycykgJiYgQXJyYXkuaXNBcnJheShjb3BpbG90Q29uZmlnLnByb3BlcnRpZXMubWNwU2VydmVycykgJiYgY29waWxvdENvbmZpZy5wcm9wZXJ0aWVzLm1jcFNlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICBtY3BTZXJ2ZXJzVG9Vc2UgPSBjb3BpbG90Q29uZmlnLnByb3BlcnRpZXMubWNwU2VydmVycztcbiAgICAgIH1cbiAgICAgIGlmIChtY3BTZXJ2ZXJzVG9Vc2UpIHtcbiAgICAgICAgZmluYWxQcm9wZXJ0aWVzLm1jcFNlcnZlcnMgPSBtY3BTZXJ2ZXJzVG9Vc2U7XG4gICAgICAgIGNvcGlsb3RDb25maWcubWNwU2VydmVycyA9IG1jcFNlcnZlcnNUb1VzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlzQWdlbnRSdW4gPSBhZ2VudFNlc3Npb25SZWYuY3VycmVudCAhPT0gbnVsbDtcbiAgICAgIGNvbnN0IHN0cmVhbSA9IHJ1bnRpbWVDbGllbnQuYXNTdHJlYW0oXG4gICAgICAgIHJ1bnRpbWVDbGllbnQuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uoe1xuICAgICAgICAgIGRhdGE6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgICBmcm9udGVuZDoge1xuICAgICAgICAgICAgICBhY3Rpb25zOiBwcm9jZXNzQWN0aW9uc0ZvclJ1bnRpbWVSZXF1ZXN0KGFjdGlvbnMpLFxuICAgICAgICAgICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhyZWFkSWQsXG4gICAgICAgICAgICBydW5JZDogcnVuSWRSZWYuY3VycmVudCxcbiAgICAgICAgICAgIGV4dGVuc2lvbnM6IGV4dGVuc2lvbnNSZWYuY3VycmVudCxcbiAgICAgICAgICAgIG1ldGFFdmVudHM6IGNvbXBvc2VBbmRGbHVzaE1ldGFFdmVudHNJbnB1dChbbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24uZXZlbnRdKSxcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBjb252ZXJ0TWVzc2FnZXNUb0dxbElucHV0KGZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyhtZXNzYWdlc1dpdGhDb250ZXh0KSlcbiAgICAgICAgICB9LCBjb3BpbG90Q29uZmlnLmNsb3VkID8ge1xuICAgICAgICAgICAgY2xvdWQ6IF9fc3ByZWFkVmFsdWVzKHt9LCAoKF9kID0gKF9jID0gKF9iID0gY29waWxvdENvbmZpZy5jbG91ZC5ndWFyZHJhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5wdXQpID09IG51bGwgPyB2b2lkIDAgOiBfYy5yZXN0cmljdFRvVG9waWMpID09IG51bGwgPyB2b2lkIDAgOiBfZC5lbmFibGVkKSA/IHtcbiAgICAgICAgICAgICAgZ3VhcmRyYWlsczoge1xuICAgICAgICAgICAgICAgIGlucHV0VmFsaWRhdGlvblJ1bGVzOiB7XG4gICAgICAgICAgICAgICAgICBhbGxvd0xpc3Q6IGNvcGlsb3RDb25maWcuY2xvdWQuZ3VhcmRyYWlscy5pbnB1dC5yZXN0cmljdFRvVG9waWMudmFsaWRUb3BpY3MsXG4gICAgICAgICAgICAgICAgICBkZW55TGlzdDogY29waWxvdENvbmZpZy5jbG91ZC5ndWFyZHJhaWxzLmlucHV0LnJlc3RyaWN0VG9Ub3BpYy5pbnZhbGlkVG9waWNzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IDoge30pXG4gICAgICAgICAgfSA6IHt9KSwge1xuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgcmVxdWVzdFR5cGU6IENvcGlsb3RSZXF1ZXN0VHlwZS5DaGF0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSksIGFnZW50U2Vzc2lvblJlZi5jdXJyZW50ID8ge1xuICAgICAgICAgICAgYWdlbnRTZXNzaW9uOiBhZ2VudFNlc3Npb25SZWYuY3VycmVudFxuICAgICAgICAgIH0gOiB7fSksIHtcbiAgICAgICAgICAgIGFnZW50U3RhdGVzOiBPYmplY3QudmFsdWVzKGNvYWdlbnRTdGF0ZXNSZWYuY3VycmVudCkubWFwKChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBzdGF0ZU9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IHN0YXRlLm5hbWUsXG4gICAgICAgICAgICAgICAgc3RhdGU6IEpTT04uc3RyaW5naWZ5KHN0YXRlLnN0YXRlKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoc3RhdGUuY29uZmlnICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBzdGF0ZU9iamVjdC5jb25maWcgPSBKU09OLnN0cmluZ2lmeShzdGF0ZS5jb25maWcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBzdGF0ZU9iamVjdDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZm9yd2FyZGVkUGFyYW1ldGVyczogb3B0aW9ucy5mb3J3YXJkZWRQYXJhbWV0ZXJzIHx8IHt9XG4gICAgICAgICAgfSksXG4gICAgICAgICAgcHJvcGVydGllczogZmluYWxQcm9wZXJ0aWVzLFxuICAgICAgICAgIHNpZ25hbDogKF9lID0gY2hhdEFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2Uuc2lnbmFsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgY29uc3QgZ3VhcmRyYWlsc0VuYWJsZWQgPSAoKF9oID0gKF9nID0gKF9mID0gY29waWxvdENvbmZpZy5jbG91ZCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmd1YXJkcmFpbHMpID09IG51bGwgPyB2b2lkIDAgOiBfZy5pbnB1dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9oLnJlc3RyaWN0VG9Ub3BpYy5lbmFibGVkKSB8fCBmYWxzZTtcbiAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgIGxldCBleGVjdXRlZENvQWdlbnRTdGF0ZVJlbmRlcnMgPSBbXTtcbiAgICAgIGxldCBmb2xsb3dVcCA9IHZvaWQgMDtcbiAgICAgIGxldCBtZXNzYWdlczIgPSBbXTtcbiAgICAgIGxldCBzeW5jZWRNZXNzYWdlcyA9IFtdO1xuICAgICAgbGV0IGludGVycnVwdE1lc3NhZ2VzID0gW107XG4gICAgICB0cnkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGxldCBkb25lLCB2YWx1ZTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVhZFJlc3VsdCA9IHlpZWxkIHJlYWRlci5yZWFkKCk7XG4gICAgICAgICAgICBkb25lID0gcmVhZFJlc3VsdC5kb25lO1xuICAgICAgICAgICAgdmFsdWUgPSByZWFkUmVzdWx0LnZhbHVlO1xuICAgICAgICAgIH0gY2F0Y2ggKHJlYWRFcnJvcikge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBpZiAoY2hhdEFib3J0Q29udHJvbGxlclJlZi5jdXJyZW50LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcnVuSWRSZWYuY3VycmVudCA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnJ1bklkIHx8IG51bGw7XG4gICAgICAgICAgZXh0ZW5zaW9uc1JlZi5jdXJyZW50ID0gQ29waWxvdFJ1bnRpbWVDbGllbnQucmVtb3ZlR3JhcGhRTFR5cGVuYW1lKFxuICAgICAgICAgICAgdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UuZXh0ZW5zaW9ucyB8fCB7fVxuICAgICAgICAgICk7XG4gICAgICAgICAgc2V0UnVuSWQocnVuSWRSZWYuY3VycmVudCk7XG4gICAgICAgICAgc2V0RXh0ZW5zaW9ucyhleHRlbnNpb25zUmVmLmN1cnJlbnQpO1xuICAgICAgICAgIGxldCByYXdNZXNzYWdlc1Jlc3BvbnNlID0gdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UubWVzc2FnZXM7XG4gICAgICAgICAgY29uc3QgbWV0YUV2ZW50cyA9IChfaiA9IChfaSA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2kubWV0YUV2ZW50cykgIT0gbnVsbCA/IF9qIDogW107XG4gICAgICAgICAgKG1ldGFFdmVudHMgIT0gbnVsbCA/IG1ldGFFdmVudHMgOiBbXSkuZm9yRWFjaCgoZXYpID0+IHtcbiAgICAgICAgICAgIGlmIChldi5uYW1lID09PSBNZXRhRXZlbnROYW1lLkxhbmdHcmFwaEludGVycnVwdEV2ZW50KSB7XG4gICAgICAgICAgICAgIGxldCBldmVudFZhbHVlID0gbGFuZ0dyYXBoSW50ZXJydXB0RXZlbnQoZXYpLnZhbHVlO1xuICAgICAgICAgICAgICBldmVudFZhbHVlID0gcGFyc2VKc29uKGV2ZW50VmFsdWUsIGV2ZW50VmFsdWUpO1xuICAgICAgICAgICAgICBzZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24oe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBsYW5nR3JhcGhJbnRlcnJ1cHRFdmVudChldikpLCB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZTogZXZlbnRWYWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV2Lm5hbWUgPT09IE1ldGFFdmVudE5hbWUuQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBldi5kYXRhO1xuICAgICAgICAgICAgICByYXdNZXNzYWdlc1Jlc3BvbnNlID0gWy4uLnJhd01lc3NhZ2VzUmVzcG9uc2UsIC4uLmRhdGEubWVzc2FnZXNdO1xuICAgICAgICAgICAgICBpbnRlcnJ1cHRNZXNzYWdlcyA9IGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzKFxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICBmaWx0ZXJBZGphY2VudEFnZW50U3RhdGVNZXNzYWdlcyhkYXRhLm1lc3NhZ2VzKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1lc3NhZ2VzMiA9IGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzKFxuICAgICAgICAgICAgZmlsdGVyQWRqYWNlbnRBZ2VudFN0YXRlTWVzc2FnZXMocmF3TWVzc2FnZXNSZXNwb25zZSlcbiAgICAgICAgICApO1xuICAgICAgICAgIG5ld01lc3NhZ2VzID0gW107XG4gICAgICAgICAgaWYgKCgoX2sgPSB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMpID09IG51bGwgPyB2b2lkIDAgOiBfay5fX3R5cGVuYW1lKSA9PT0gXCJGYWlsZWRSZXNwb25zZVN0YXR1c1wiICYmIHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5yZWFzb24gPT09IFwiR1VBUkRSQUlMU19WQUxJREFUSU9OX0ZBSUxFRFwiKSB7XG4gICAgICAgICAgICBjb25zdCBndWFyZHJhaWxzUmVhc29uID0gKChfbCA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX2wuZ3VhcmRyYWlsc1JlYXNvbikgfHwgXCJcIjtcbiAgICAgICAgICAgIG5ld01lc3NhZ2VzID0gW1xuICAgICAgICAgICAgICBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIHJvbGU6IE1lc3NhZ2VSb2xlLkFzc2lzdGFudCxcbiAgICAgICAgICAgICAgICBjb250ZW50OiBndWFyZHJhaWxzUmVhc29uXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgZ3VhcmRyYWlsc0Vycm9yID0gbmV3IENvcGlsb3RLaXRFcnJvcih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGBHdWFyZHJhaWxzIHZhbGlkYXRpb24gZmFpbGVkOiAke2d1YXJkcmFpbHNSZWFzb259YCxcbiAgICAgICAgICAgICAgY29kZTogQ29waWxvdEtpdEVycm9yQ29kZS5NSVNVU0VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgeWllbGQgdHJhY2VVSUVycm9yKGd1YXJkcmFpbHNFcnJvciwge1xuICAgICAgICAgICAgICBzdGF0dXNSZWFzb246IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5yZWFzb24sXG4gICAgICAgICAgICAgIHN0YXR1c0RldGFpbHM6IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5kZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldE1lc3NhZ2VzKFsuLi5wcmV2aW91c01lc3NhZ2VzLCAuLi5uZXdNZXNzYWdlc10pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoKF9tID0gdmFsdWUuZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2Uuc3RhdHVzKSA9PSBudWxsID8gdm9pZCAwIDogX20uX190eXBlbmFtZSkgPT09IFwiRmFpbGVkUmVzcG9uc2VTdGF0dXNcIiAmJiB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMucmVhc29uID09PSBcIlVOS05PV05fRVJST1JcIikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gKChfbiA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5kZXRhaWxzKSA9PSBudWxsID8gdm9pZCAwIDogX24uZGVzY3JpcHRpb24pIHx8IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzRGV0YWlscyA9IHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cy5kZXRhaWxzO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFcnJvciA9IChzdGF0dXNEZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBzdGF0dXNEZXRhaWxzLm9yaWdpbmFsRXJyb3IpIHx8IChzdGF0dXNEZXRhaWxzID09IG51bGwgPyB2b2lkIDAgOiBzdGF0dXNEZXRhaWxzLmVycm9yKTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ29kZSA9IChvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLmNvZGUpIHx8ICgoX28gPSBvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfby5jb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU2V2ZXJpdHkgPSAob3JpZ2luYWxFcnJvciA9PSBudWxsID8gdm9pZCAwIDogb3JpZ2luYWxFcnJvci5zZXZlcml0eSkgfHwgKChfcCA9IG9yaWdpbmFsRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9yaWdpbmFsRXJyb3IuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9wLnNldmVyaXR5KTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVmlzaWJpbGl0eSA9IChvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLnZpc2liaWxpdHkpIHx8ICgoX3EgPSBvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfcS52aXNpYmlsaXR5KTtcbiAgICAgICAgICAgIGxldCBlcnJvckNvZGUgPSBDb3BpbG90S2l0RXJyb3JDb2RlLk5FVFdPUktfRVJST1I7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxDb2RlICYmIE9iamVjdC52YWx1ZXMoQ29waWxvdEtpdEVycm9yQ29kZSkuaW5jbHVkZXMob3JpZ2luYWxDb2RlKSkge1xuICAgICAgICAgICAgICBlcnJvckNvZGUgPSBvcmlnaW5hbENvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkRXJyb3IgPSBuZXcgQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgICBjb2RlOiBlcnJvckNvZGUsXG4gICAgICAgICAgICAgIHNldmVyaXR5OiBvcmlnaW5hbFNldmVyaXR5LFxuICAgICAgICAgICAgICB2aXNpYmlsaXR5OiBvcmlnaW5hbFZpc2liaWxpdHlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0QmFubmVyRXJyb3Ioc3RydWN0dXJlZEVycm9yKTtcbiAgICAgICAgICAgIHlpZWxkIHRyYWNlVUlFcnJvcihzdHJ1Y3R1cmVkRXJyb3IsIHtcbiAgICAgICAgICAgICAgc3RhdHVzUmVhc29uOiB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMucmVhc29uLFxuICAgICAgICAgICAgICBzdGF0dXNEZXRhaWxzOiB2YWx1ZS5nZW5lcmF0ZUNvcGlsb3RSZXNwb25zZS5zdGF0dXMuZGV0YWlscyxcbiAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvckNvZGU6IG9yaWdpbmFsQ29kZSxcbiAgICAgICAgICAgICAgcHJlc2VydmVkU3RydWN0dXJlOiAhIW9yaWdpbmFsQ29kZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlczIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbmV3TWVzc2FnZXMgPSBbLi4ubWVzc2FnZXMyXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBtZXNzYWdlczIpIHtcbiAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpICYmICFtZXNzYWdlLmFjdGl2ZSAmJiAhZXhlY3V0ZWRDb0FnZW50U3RhdGVSZW5kZXJzLmluY2x1ZGVzKG1lc3NhZ2UuaWQpICYmIG9uQ29BZ2VudFN0YXRlUmVuZGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGd1YXJkcmFpbHNFbmFibGVkICYmIHZhbHVlLmdlbmVyYXRlQ29waWxvdFJlc3BvbnNlLnN0YXR1cyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQgb25Db0FnZW50U3RhdGVSZW5kZXIoe1xuICAgICAgICAgICAgICAgICAgbmFtZTogbWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBtZXNzYWdlLnN0YXRlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXhlY3V0ZWRDb0FnZW50U3RhdGVSZW5kZXJzLnB1c2gobWVzc2FnZS5pZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxhc3RBZ2VudFN0YXRlTWVzc2FnZSA9IFsuLi5tZXNzYWdlczJdLnJldmVyc2UoKS5maW5kKChtZXNzYWdlKSA9PiBtZXNzYWdlLmlzQWdlbnRTdGF0ZU1lc3NhZ2UoKSk7XG4gICAgICAgICAgICBpZiAobGFzdEFnZW50U3RhdGVNZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGlmIChsYXN0QWdlbnRTdGF0ZU1lc3NhZ2Uuc3RhdGUubWVzc2FnZXMgJiYgbGFzdEFnZW50U3RhdGVNZXNzYWdlLnN0YXRlLm1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzeW5jZWRNZXNzYWdlcyA9IGxvYWRNZXNzYWdlc0Zyb21Kc29uUmVwcmVzZW50YXRpb24oXG4gICAgICAgICAgICAgICAgICBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2Uuc3RhdGUubWVzc2FnZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmKChwcmV2QWdlbnRTdGF0ZXMpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2EyO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2QWdlbnRTdGF0ZXMpLCB7XG4gICAgICAgICAgICAgICAgICBbbGFzdEFnZW50U3RhdGVNZXNzYWdlLmFnZW50TmFtZV06IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLmFnZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZzogbGFzdEFnZW50U3RhdGVNZXNzYWdlLnJ1bm5pbmcsXG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkSWQ6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgICAgICAgICAgICAgbm9kZU5hbWU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcnVuSWQ6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ydW5JZCxcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgZXhpc3RpbmcgY29uZmlnIGZyb20gcHJldmlvdXMgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnOiAoX2EyID0gcHJldkFnZW50U3RhdGVzW2xhc3RBZ2VudFN0YXRlTWVzc2FnZS5hZ2VudE5hbWVdKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNvbmZpZ1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5ydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgc2V0QWdlbnRTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgIHRocmVhZElkOiBsYXN0QWdlbnRTdGF0ZU1lc3NhZ2UudGhyZWFkSWQsXG4gICAgICAgICAgICAgICAgICBhZ2VudE5hbWU6IGxhc3RBZ2VudFN0YXRlTWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgICAgICBub2RlTmFtZTogbGFzdEFnZW50U3RhdGVNZXNzYWdlLm5vZGVOYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGFnZW50TG9jaykge1xuICAgICAgICAgICAgICAgICAgc2V0QWdlbnRTZXNzaW9uKHtcbiAgICAgICAgICAgICAgICAgICAgdGhyZWFkSWQ6IHJhbmRvbUlkKCksXG4gICAgICAgICAgICAgICAgICAgIGFnZW50TmFtZTogYWdlbnRMb2NrLFxuICAgICAgICAgICAgICAgICAgICBub2RlTmFtZTogdm9pZCAwXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgc2V0QWdlbnRTZXNzaW9uKG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobmV3TWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2V0TWVzc2FnZXMoWy4uLnByZXZpb3VzTWVzc2FnZXMsIC4uLm5ld01lc3NhZ2VzXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBmaW5hbE1lc3NhZ2VzID0gY29uc3RydWN0RmluYWxNZXNzYWdlcyhcbiAgICAgICAgICBbLi4uc3luY2VkTWVzc2FnZXMsIC4uLmludGVycnVwdE1lc3NhZ2VzXSxcbiAgICAgICAgICBwcmV2aW91c01lc3NhZ2VzLFxuICAgICAgICAgIG5ld01lc3NhZ2VzXG4gICAgICAgICk7XG4gICAgICAgIGxldCBkaWRFeGVjdXRlQWN0aW9uID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGV4ZWN1dGVBY3Rpb25Gcm9tTWVzc2FnZSA9IChjdXJyZW50QWN0aW9uLCBhY3Rpb25NZXNzYWdlKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgICBjb25zdCBpc0ludGVycnVwdEFjdGlvbiA9IGludGVycnVwdE1lc3NhZ2VzLmZpbmQoKG0pID0+IG0uaWQgPT09IGFjdGlvbk1lc3NhZ2UuaWQpO1xuICAgICAgICAgIGZvbGxvd1VwID0gKF9hMiA9IGN1cnJlbnRBY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRBY3Rpb24uZm9sbG93VXApICE9IG51bGwgPyBfYTIgOiAhaXNJbnRlcnJ1cHRBY3Rpb247XG4gICAgICAgICAgaWYgKGN1cnJlbnRBY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRBY3Rpb24uX3NldEFjdGl2YXRpbmdNZXNzYWdlSWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnRBY3Rpb24uX3NldEFjdGl2YXRpbmdNZXNzYWdlSWQoYWN0aW9uTWVzc2FnZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2UgPSB5aWVsZCBleGVjdXRlQWN0aW9uKHtcbiAgICAgICAgICAgIG9uRnVuY3Rpb25DYWxsLFxuICAgICAgICAgICAgbWVzc2FnZTogYWN0aW9uTWVzc2FnZSxcbiAgICAgICAgICAgIGNoYXRBYm9ydENvbnRyb2xsZXJSZWYsXG4gICAgICAgICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgYWRkRXJyb3JUb2FzdChbZXJyb3JdKTtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGV4ZWN1dGUgYWN0aW9uICR7YWN0aW9uTWVzc2FnZS5uYW1lfTogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRNZXNzYWdlcyxcbiAgICAgICAgICAgIGdldEZpbmFsTWVzc2FnZXM6ICgpID0+IGZpbmFsTWVzc2FnZXMsXG4gICAgICAgICAgICBpc1JlbmRlckFuZFdhaXQ6IChjdXJyZW50QWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjdXJyZW50QWN0aW9uLl9pc1JlbmRlckFuZFdhaXQpIHx8IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZGlkRXhlY3V0ZUFjdGlvbiA9IHRydWU7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gZmluYWxNZXNzYWdlcy5maW5kSW5kZXgoKG1zZykgPT4gbXNnLmlkID09PSBhY3Rpb25NZXNzYWdlLmlkKTtcbiAgICAgICAgICBmaW5hbE1lc3NhZ2VzLnNwbGljZShtZXNzYWdlSW5kZXggKyAxLCAwLCByZXN1bHRNZXNzYWdlKTtcbiAgICAgICAgICBpZiAoY3VycmVudEFjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY3VycmVudEFjdGlvbi5faXNSZW5kZXJBbmRXYWl0KSB7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlc0ZvckltbWVkaWF0ZVVwZGF0ZSA9IFsuLi5maW5hbE1lc3NhZ2VzXTtcbiAgICAgICAgICAgIGZsdXNoU3luYygoKSA9PiB7XG4gICAgICAgICAgICAgIHNldE1lc3NhZ2VzKG1lc3NhZ2VzRm9ySW1tZWRpYXRlVXBkYXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudEFjdGlvbiA9PSBudWxsID8gdm9pZCAwIDogY3VycmVudEFjdGlvbi5fc2V0QWN0aXZhdGluZ01lc3NhZ2VJZCkge1xuICAgICAgICAgICAgY3VycmVudEFjdGlvbi5fc2V0QWN0aXZhdGluZ01lc3NhZ2VJZChudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdE1lc3NhZ2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob25GdW5jdGlvbkNhbGwpIHtcbiAgICAgICAgICBjb25zdCBsYXN0TWVzc2FnZXMgPSBbXTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gZmluYWxNZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGZpbmFsTWVzc2FnZXNbaV07XG4gICAgICAgICAgICBpZiAoKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkgfHwgbWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkgJiYgbWVzc2FnZS5zdGF0dXMuY29kZSAhPT0gTWVzc2FnZVN0YXR1c0NvZGUuUGVuZGluZykge1xuICAgICAgICAgICAgICBsYXN0TWVzc2FnZXMudW5zaGlmdChtZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpKSB7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbGFzdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICBzZXRNZXNzYWdlcyhmaW5hbE1lc3NhZ2VzKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGlvbiA9IGFjdGlvbnMuZmluZChcbiAgICAgICAgICAgICAgKGFjdGlvbjIpID0+IGFjdGlvbjIubmFtZSA9PT0gbWVzc2FnZS5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGFjdGlvbiAmJiBhY3Rpb24uYXZhaWxhYmxlID09PSBcImZyb250ZW5kXCIpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50UmVzdWx0TWVzc2FnZVBhaXJlZEZlQWN0aW9uID0gbWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSA/IGdldFBhaXJlZEZlQWN0aW9uKGFjdGlvbnMsIG1lc3NhZ2UpIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gJiYgbWVzc2FnZS5pc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSkge1xuICAgICAgICAgICAgICBjb25zdCBpc1JlbmRlckFuZFdhaXRBY3Rpb24gPSAoYWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBhY3Rpb24uX2lzUmVuZGVyQW5kV2FpdCkgfHwgZmFsc2U7XG4gICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlQcm9jZXNzZWQgPSBpc1JlbmRlckFuZFdhaXRBY3Rpb24gJiYgZmluYWxNZXNzYWdlcy5zb21lKFxuICAgICAgICAgICAgICAgIChmbSkgPT4gZm0uaXNSZXN1bHRNZXNzYWdlKCkgJiYgZm0uYWN0aW9uRXhlY3V0aW9uSWQgPT09IG1lc3NhZ2UuaWRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKGFscmVhZHlQcm9jZXNzZWQpIHtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRNZXNzYWdlID0geWllbGQgZXhlY3V0ZUFjdGlvbkZyb21NZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFpcmVkRmVBY3Rpb24gPSBnZXRQYWlyZWRGZUFjdGlvbihhY3Rpb25zLCByZXN1bHRNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAocGFpcmVkRmVBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0V4ZWN1dGlvbk1lc3NhZ2UgPSBuZXcgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHBhaXJlZEZlQWN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50czogcGFyc2VKc29uKHJlc3VsdE1lc3NhZ2UucmVzdWx0LCByZXN1bHRNZXNzYWdlLnJlc3VsdCksXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgeWllbGQgZXhlY3V0ZUFjdGlvbkZyb21NZXNzYWdlKHBhaXJlZEZlQWN0aW9uLCBuZXdFeGVjdXRpb25NZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSAmJiBjdXJyZW50UmVzdWx0TWVzc2FnZVBhaXJlZEZlQWN0aW9uKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0V4ZWN1dGlvbk1lc3NhZ2UgPSBuZXcgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgbmFtZTogY3VycmVudFJlc3VsdE1lc3NhZ2VQYWlyZWRGZUFjdGlvbi5uYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogcGFyc2VKc29uKG1lc3NhZ2UucmVzdWx0LCBtZXNzYWdlLnJlc3VsdCksXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBmaW5hbE1lc3NhZ2VzLnB1c2gobmV3RXhlY3V0aW9uTWVzc2FnZSk7XG4gICAgICAgICAgICAgIHlpZWxkIGV4ZWN1dGVBY3Rpb25Gcm9tTWVzc2FnZShcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVzdWx0TWVzc2FnZVBhaXJlZEZlQWN0aW9uLFxuICAgICAgICAgICAgICAgIG5ld0V4ZWN1dGlvbk1lc3NhZ2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0TWVzc2FnZXMoZmluYWxNZXNzYWdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvbGxvd1VwICE9PSBmYWxzZSAmJiAoZGlkRXhlY3V0ZUFjdGlvbiB8fCAvLyB0aGUgbGFzdCBtZXNzYWdlIGlzIGEgc2VydmVyIHNpZGUgcmVzdWx0XG4gICAgICAgICFpc0FnZW50UnVuICYmIGZpbmFsTWVzc2FnZXMubGVuZ3RoICYmIGZpbmFsTWVzc2FnZXNbZmluYWxNZXNzYWdlcy5sZW5ndGggLSAxXS5pc1Jlc3VsdE1lc3NhZ2UoKSkgJiYgLy8gdGhlIHVzZXIgZGlkIG5vdCBzdG9wIGdlbmVyYXRpb25cbiAgICAgICAgISgoX3IgPSBjaGF0QWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfci5zaWduYWwuYWJvcnRlZCkpIHtcbiAgICAgICAgICB5aWVsZCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgICAgIHJldHVybiB5aWVsZCBydW5DaGF0Q29tcGxldGlvblJlZi5jdXJyZW50KGZpbmFsTWVzc2FnZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKChfcyA9IGNoYXRBYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgY29uc3QgcmVwYWlyZWRNZXNzYWdlcyA9IGZpbmFsTWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlLCBhY3Rpb25FeGVjdXRpb25JbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbmFsTWVzc2FnZXMuZmluZChcbiAgICAgICAgICAgICAgICAobXNnLCByZXN1bHRJbmRleCkgPT4gbXNnLmlzUmVzdWx0TWVzc2FnZSgpICYmIG1zZy5hY3Rpb25FeGVjdXRpb25JZCA9PT0gbWVzc2FnZS5pZCAmJiByZXN1bHRJbmRleCA9PT0gYWN0aW9uRXhlY3V0aW9uSW5kZXggKyAxXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCByZXBhaXJlZE1lc3NhZ2VJZHMgPSByZXBhaXJlZE1lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gbWVzc2FnZS5pZCk7XG4gICAgICAgICAgc2V0TWVzc2FnZXMocmVwYWlyZWRNZXNzYWdlcyk7XG4gICAgICAgICAgaWYgKChfdCA9IGFnZW50U2Vzc2lvblJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3Qubm9kZU5hbWUpIHtcbiAgICAgICAgICAgIHNldEFnZW50U2Vzc2lvbih7XG4gICAgICAgICAgICAgIHRocmVhZElkOiBhZ2VudFNlc3Npb25SZWYuY3VycmVudC50aHJlYWRJZCxcbiAgICAgICAgICAgICAgYWdlbnROYW1lOiBhZ2VudFNlc3Npb25SZWYuY3VycmVudC5hZ2VudE5hbWUsXG4gICAgICAgICAgICAgIG5vZGVOYW1lOiBcIl9fZW5kX19cIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdNZXNzYWdlcy5maWx0ZXIoKG1lc3NhZ2UpID0+IHJlcGFpcmVkTWVzc2FnZUlkcy5pbmNsdWRlcyhtZXNzYWdlLmlkKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG5ld01lc3NhZ2VzLnNsaWNlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfSksXG4gICAgW1xuICAgICAgbWVzc2FnZXMsXG4gICAgICBzZXRNZXNzYWdlcyxcbiAgICAgIG1ha2VTeXN0ZW1NZXNzYWdlQ2FsbGJhY2ssXG4gICAgICBjb3BpbG90Q29uZmlnLFxuICAgICAgc2V0SXNMb2FkaW5nLFxuICAgICAgaW5pdGlhbE1lc3NhZ2VzLFxuICAgICAgaXNMb2FkaW5nLFxuICAgICAgYWN0aW9ucyxcbiAgICAgIG9uRnVuY3Rpb25DYWxsLFxuICAgICAgb25Db0FnZW50U3RhdGVSZW5kZXIsXG4gICAgICBzZXRDb2FnZW50U3RhdGVzV2l0aFJlZixcbiAgICAgIGNvYWdlbnRTdGF0ZXNSZWYsXG4gICAgICBhZ2VudFNlc3Npb24sXG4gICAgICBzZXRBZ2VudFNlc3Npb24sXG4gICAgICBkaXNhYmxlU3lzdGVtTWVzc2FnZVxuICAgIF1cbiAgKTtcbiAgcnVuQ2hhdENvbXBsZXRpb25SZWYuY3VycmVudCA9IHJ1bkNoYXRDb21wbGV0aW9uO1xuICBjb25zdCBydW5DaGF0Q29tcGxldGlvbkFuZEhhbmRsZUZ1bmN0aW9uQ2FsbCA9IHVzZUFzeW5jQ2FsbGJhY2soXG4gICAgKG1lc3NhZ2VzMikgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgeWllbGQgcnVuQ2hhdENvbXBsZXRpb25SZWYuY3VycmVudChtZXNzYWdlczIpO1xuICAgIH0pLFxuICAgIFttZXNzYWdlc11cbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzTG9hZGluZyAmJiBwZW5kaW5nQXBwZW5kc1JlZi5jdXJyZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHBlbmRpbmcgPSBwZW5kaW5nQXBwZW5kc1JlZi5jdXJyZW50LnNwbGljZSgwKTtcbiAgICAgIGNvbnN0IGZvbGxvd1VwID0gcGVuZGluZy5zb21lKChwKSA9PiBwLmZvbGxvd1VwKTtcbiAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gWy4uLm1lc3NhZ2VzLCAuLi5wZW5kaW5nLm1hcCgocCkgPT4gcC5tZXNzYWdlKV07XG4gICAgICBzZXRNZXNzYWdlcyhuZXdNZXNzYWdlcyk7XG4gICAgICBpZiAoZm9sbG93VXApIHtcbiAgICAgICAgcnVuQ2hhdENvbXBsZXRpb25BbmRIYW5kbGVGdW5jdGlvbkNhbGwobmV3TWVzc2FnZXMpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2lzTG9hZGluZywgbWVzc2FnZXMsIHNldE1lc3NhZ2VzLCBydW5DaGF0Q29tcGxldGlvbkFuZEhhbmRsZUZ1bmN0aW9uQ2FsbF0pO1xuICBjb25zdCBjb21wb3NlQW5kRmx1c2hNZXRhRXZlbnRzSW5wdXQgPSB1c2VDYWxsYmFjayhcbiAgICAobWV0YUV2ZW50cykgPT4ge1xuICAgICAgcmV0dXJuIG1ldGFFdmVudHMucmVkdWNlKChhY2MsIGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghZXZlbnQpXG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgc3dpdGNoIChldmVudC5uYW1lKSB7XG4gICAgICAgICAgY2FzZSBNZXRhRXZlbnROYW1lLkxhbmdHcmFwaEludGVycnVwdEV2ZW50OlxuICAgICAgICAgICAgaWYgKGV2ZW50LnJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgIHNldExhbmdHcmFwaEludGVycnVwdEFjdGlvbihudWxsKTtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBldmVudC52YWx1ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbmFtZTogZXZlbnQubmFtZSxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB0eXBlb2YgZXZlbnQucmVzcG9uc2UgPT09IFwic3RyaW5nXCIgPyBldmVudC5yZXNwb25zZSA6IEpTT04uc3RyaW5naWZ5KGV2ZW50LnJlc3BvbnNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgIH0sIFtdKTtcbiAgICB9LFxuICAgIFtzZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb25dXG4gICk7XG4gIGNvbnN0IGFwcGVuZCA9IHVzZUFzeW5jQ2FsbGJhY2soXG4gICAgKG1lc3NhZ2UsIG9wdGlvbnMyKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB2YXIgX2E7XG4gICAgICBjb25zdCBmb2xsb3dVcCA9IChfYSA9IG9wdGlvbnMyID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zMi5mb2xsb3dVcCkgIT0gbnVsbCA/IF9hIDogdHJ1ZTtcbiAgICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgICAgcGVuZGluZ0FwcGVuZHNSZWYuY3VycmVudC5wdXNoKHsgbWVzc2FnZSwgZm9sbG93VXAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5ld01lc3NhZ2VzID0gWy4uLm1lc3NhZ2VzLCBtZXNzYWdlXTtcbiAgICAgIHNldE1lc3NhZ2VzKG5ld01lc3NhZ2VzKTtcbiAgICAgIGlmIChmb2xsb3dVcCkge1xuICAgICAgICByZXR1cm4gcnVuQ2hhdENvbXBsZXRpb25BbmRIYW5kbGVGdW5jdGlvbkNhbGwobmV3TWVzc2FnZXMpO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtpc0xvYWRpbmcsIG1lc3NhZ2VzLCBzZXRNZXNzYWdlcywgcnVuQ2hhdENvbXBsZXRpb25BbmRIYW5kbGVGdW5jdGlvbkNhbGxdXG4gICk7XG4gIGNvbnN0IHJlbG9hZCA9IHVzZUFzeW5jQ2FsbGJhY2soXG4gICAgKHJlbG9hZE1lc3NhZ2VJZCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgaWYgKGlzTG9hZGluZyB8fCBtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVsb2FkTWVzc2FnZUluZGV4ID0gbWVzc2FnZXMuZmluZEluZGV4KChtc2cpID0+IG1zZy5pZCA9PT0gcmVsb2FkTWVzc2FnZUlkKTtcbiAgICAgIGlmIChyZWxvYWRNZXNzYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgTWVzc2FnZSB3aXRoIGlkICR7cmVsb2FkTWVzc2FnZUlkfSBub3QgZm91bmRgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVsb2FkTWVzc2FnZVJvbGUgPSBtZXNzYWdlc1tyZWxvYWRNZXNzYWdlSW5kZXhdLnJvbGU7XG4gICAgICBpZiAocmVsb2FkTWVzc2FnZVJvbGUgIT09IE1lc3NhZ2VSb2xlLkFzc2lzdGFudCkge1xuICAgICAgICBjb25zb2xlLndhcm4oYFJlZ2VuZXJhdGUgY2Fubm90IGJlIHBlcmZvcm1lZCBvbiAke3JlbG9hZE1lc3NhZ2VSb2xlfSByb2xlYCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBoaXN0b3J5Q3V0b2ZmID0gW107XG4gICAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMikge1xuICAgICAgICBjb25zdCBsYXN0VXNlck1lc3NhZ2VCZWZvcmVSZWdlbmVyYXRlID0gbWVzc2FnZXMuc2xpY2UoMCwgcmVsb2FkTWVzc2FnZUluZGV4KS5yZXZlcnNlKCkuZmluZChcbiAgICAgICAgICAobXNnKSA9PiAoXG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0tIG1lc3NhZ2UgaGFzIHJvbGVcbiAgICAgICAgICAgIG1zZy5yb2xlID09PSBNZXNzYWdlUm9sZS5Vc2VyXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBjb25zdCBpbmRleE9mTGFzdFVzZXJNZXNzYWdlQmVmb3JlUmVnZW5lcmF0ZSA9IG1lc3NhZ2VzLmZpbmRJbmRleChcbiAgICAgICAgICAobXNnKSA9PiBtc2cuaWQgPT09IGxhc3RVc2VyTWVzc2FnZUJlZm9yZVJlZ2VuZXJhdGUuaWRcbiAgICAgICAgKTtcbiAgICAgICAgaGlzdG9yeUN1dG9mZiA9IG1lc3NhZ2VzLnNsaWNlKDAsIGluZGV4T2ZMYXN0VXNlck1lc3NhZ2VCZWZvcmVSZWdlbmVyYXRlICsgMSk7XG4gICAgICB9XG4gICAgICBzZXRNZXNzYWdlcyhoaXN0b3J5Q3V0b2ZmKTtcbiAgICAgIHJldHVybiBydW5DaGF0Q29tcGxldGlvbkFuZEhhbmRsZUZ1bmN0aW9uQ2FsbChoaXN0b3J5Q3V0b2ZmKTtcbiAgICB9KSxcbiAgICBbaXNMb2FkaW5nLCBtZXNzYWdlcywgc2V0TWVzc2FnZXMsIHJ1bkNoYXRDb21wbGV0aW9uQW5kSGFuZGxlRnVuY3Rpb25DYWxsXVxuICApO1xuICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICAoX2EgPSBjaGF0QWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5hYm9ydChcIlN0b3Agd2FzIGNhbGxlZFwiKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBhcHBlbmQsXG4gICAgcmVsb2FkLFxuICAgIHN0b3AsXG4gICAgcnVuQ2hhdENvbXBsZXRpb246ICgpID0+IHJ1bkNoYXRDb21wbGV0aW9uUmVmLmN1cnJlbnQobWVzc2FnZXMpXG4gIH07XG59XG5mdW5jdGlvbiBjb25zdHJ1Y3RGaW5hbE1lc3NhZ2VzKHN5bmNlZE1lc3NhZ2VzLCBwcmV2aW91c01lc3NhZ2VzLCBuZXdNZXNzYWdlcykge1xuICBjb25zdCBmaW5hbE1lc3NhZ2VzID0gc3luY2VkTWVzc2FnZXMubGVuZ3RoID4gMCA/IFsuLi5zeW5jZWRNZXNzYWdlc10gOiBbLi4ucHJldmlvdXNNZXNzYWdlcywgLi4ubmV3TWVzc2FnZXNdO1xuICBpZiAoc3luY2VkTWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IG1lc3NhZ2VzV2l0aEFnZW50U3RhdGUgPSBbLi4ucHJldmlvdXNNZXNzYWdlcywgLi4ubmV3TWVzc2FnZXNdO1xuICAgIGxldCBwcmV2aW91c01lc3NhZ2VJZCA9IHZvaWQgMDtcbiAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXNXaXRoQWdlbnRTdGF0ZSkge1xuICAgICAgaWYgKG1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZmluYWxNZXNzYWdlcy5maW5kSW5kZXgoKG1zZykgPT4gbXNnLmlkID09PSBwcmV2aW91c01lc3NhZ2VJZCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICBmaW5hbE1lc3NhZ2VzLnNwbGljZShpbmRleCArIDEsIDAsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcmV2aW91c01lc3NhZ2VJZCA9IG1lc3NhZ2UuaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBmaW5hbE1lc3NhZ2VzO1xufVxuZnVuY3Rpb24gZXhlY3V0ZUFjdGlvbihfMCkge1xuICByZXR1cm4gX19hc3luYyh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKiAoe1xuICAgIG9uRnVuY3Rpb25DYWxsLFxuICAgIG1lc3NhZ2UsXG4gICAgY2hhdEFib3J0Q29udHJvbGxlclJlZixcbiAgICBvbkVycm9yLFxuICAgIHNldE1lc3NhZ2VzLFxuICAgIGdldEZpbmFsTWVzc2FnZXMsXG4gICAgaXNSZW5kZXJBbmRXYWl0XG4gIH0pIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGxldCBlcnJvciA9IG51bGw7XG4gICAgY29uc3QgY3VycmVudE1lc3NhZ2VzRm9ySGFuZGxlciA9IGdldEZpbmFsTWVzc2FnZXMoKTtcbiAgICBjb25zdCBoYW5kbGVyUmV0dXJuZWRQcm9taXNlID0gb25GdW5jdGlvbkNhbGwoe1xuICAgICAgbWVzc2FnZXM6IGN1cnJlbnRNZXNzYWdlc0ZvckhhbmRsZXIsXG4gICAgICBuYW1lOiBtZXNzYWdlLm5hbWUsXG4gICAgICBhcmdzOiBtZXNzYWdlLmFyZ3VtZW50c1xuICAgIH0pO1xuICAgIGlmIChpc1JlbmRlckFuZFdhaXQpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRNZXNzYWdlc0ZvclJlbmRlciA9IGdldEZpbmFsTWVzc2FnZXMoKTtcbiAgICAgIGZsdXNoU3luYygoKSA9PiB7XG4gICAgICAgIHNldE1lc3NhZ2VzKFsuLi5jdXJyZW50TWVzc2FnZXNGb3JSZW5kZXJdKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0geWllbGQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgaGFuZGxlclJldHVybmVkUHJvbWlzZSxcbiAgICAgICAgLy8gQXdhaXQgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGhhbmRsZXJcbiAgICAgICAgbmV3IFByb21pc2UoXG4gICAgICAgICAgKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiAoX2EgPSBjaGF0QWJvcnRDb250cm9sbGVyUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICAgICAgICAoKSA9PiByZXNvbHZlKFwiT3BlcmF0aW9uIHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgc3RvcHBlZCBnZW5lcmF0aW9uLCB3ZSBhbHNvIGFib3J0IGNvbnNlY3V0aXZlIGFjdGlvbnNcbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgaWYgKChfYSA9IGNoYXRBYm9ydENvbnRyb2xsZXJSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXNvbHZlKFwiT3BlcmF0aW9uIHdhcyBhYm9ydGVkIGJ5IHRoZSB1c2VyXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG9uRXJyb3IoZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzdWx0TWVzc2FnZSh7XG4gICAgICBpZDogXCJyZXN1bHQtXCIgKyBtZXNzYWdlLmlkLFxuICAgICAgcmVzdWx0OiBSZXN1bHRNZXNzYWdlLmVuY29kZVJlc3VsdChcbiAgICAgICAgZXJyb3IgPyB7XG4gICAgICAgICAgY29udGVudDogcmVzdWx0LFxuICAgICAgICAgIGVycm9yOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVycm9yLCBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnJvcikpKVxuICAgICAgICB9IDogcmVzdWx0XG4gICAgICApLFxuICAgICAgYWN0aW9uRXhlY3V0aW9uSWQ6IG1lc3NhZ2UuaWQsXG4gICAgICBhY3Rpb25OYW1lOiBtZXNzYWdlLm5hbWVcbiAgICB9KTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRQYWlyZWRGZUFjdGlvbihhY3Rpb25zLCBtZXNzYWdlKSB7XG4gIGxldCBhY3Rpb25OYW1lID0gbnVsbDtcbiAgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpIHtcbiAgICBhY3Rpb25OYW1lID0gbWVzc2FnZS5uYW1lO1xuICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNSZXN1bHRNZXNzYWdlKCkpIHtcbiAgICBhY3Rpb25OYW1lID0gbWVzc2FnZS5hY3Rpb25OYW1lO1xuICB9XG4gIHJldHVybiBhY3Rpb25zLmZpbmQoXG4gICAgKGFjdGlvbikgPT4gYWN0aW9uLm5hbWUgPT09IGFjdGlvbk5hbWUgJiYgYWN0aW9uLmF2YWlsYWJsZSA9PT0gXCJmcm9udGVuZFwiIHx8IGFjdGlvbi5wYWlyZWRBY3Rpb24gPT09IGFjdGlvbk5hbWVcbiAgKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ2hhdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUxMTENVSE9PLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-LLLCUHOO.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-MZ37BAAE.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-MZ37BAAE.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotAdditionalInstructions: () => (/* binding */ useCopilotAdditionalInstructions)\n/* harmony export */ });\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-copilot-additional-instructions.ts\n\nfunction useCopilotAdditionalInstructions({ instructions, available = \"enabled\" }, dependencies) {\n  const { setAdditionalInstructions } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (available === \"disabled\")\n      return;\n    setAdditionalInstructions((prevInstructions) => [...prevInstructions || [], instructions]);\n    return () => {\n      setAdditionalInstructions(\n        (prevInstructions) => (prevInstructions == null ? void 0 : prevInstructions.filter((instruction) => instruction !== instructions)) || []\n      );\n    };\n  }, [available, instructions, setAdditionalInstructions, ...dependencies || []]);\n}\n\n\n//# sourceMappingURL=chunk-MZ37BAAE.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU1aMzdCQUFFLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQ2tDO0FBQ2xDLDRDQUE0QyxxQ0FBcUM7QUFDakYsVUFBVSw0QkFBNEIsRUFBRSxzRUFBaUI7QUFDekQsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU1aMzdCQUFFLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VDb3BpbG90Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1ZSFQ2Q1dJWS5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS1jb3BpbG90LWFkZGl0aW9uYWwtaW5zdHJ1Y3Rpb25zLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUNvcGlsb3RBZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zKHsgaW5zdHJ1Y3Rpb25zLCBhdmFpbGFibGUgPSBcImVuYWJsZWRcIiB9LCBkZXBlbmRlbmNpZXMpIHtcbiAgY29uc3QgeyBzZXRBZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhdmFpbGFibGUgPT09IFwiZGlzYWJsZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBzZXRBZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zKChwcmV2SW5zdHJ1Y3Rpb25zKSA9PiBbLi4ucHJldkluc3RydWN0aW9ucyB8fCBbXSwgaW5zdHJ1Y3Rpb25zXSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNldEFkZGl0aW9uYWxJbnN0cnVjdGlvbnMoXG4gICAgICAgIChwcmV2SW5zdHJ1Y3Rpb25zKSA9PiAocHJldkluc3RydWN0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogcHJldkluc3RydWN0aW9ucy5maWx0ZXIoKGluc3RydWN0aW9uKSA9PiBpbnN0cnVjdGlvbiAhPT0gaW5zdHJ1Y3Rpb25zKSkgfHwgW11cbiAgICAgICk7XG4gICAgfTtcbiAgfSwgW2F2YWlsYWJsZSwgaW5zdHJ1Y3Rpb25zLCBzZXRBZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zLCAuLi5kZXBlbmRlbmNpZXMgfHwgW11dKTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29waWxvdEFkZGl0aW9uYWxJbnN0cnVjdGlvbnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1NWjM3QkFBRS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-MZ37BAAE.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4VN2B5S.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-N4VN2B5S.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotErrorBoundary: () => (/* binding */ CopilotErrorBoundary),\n/* harmony export */   ErrorToast: () => (/* binding */ ErrorToast)\n/* harmony export */ });\n/* harmony import */ var _chunk_PMAFHQ7P_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-PMAFHQ7P.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PMAFHQ7P.mjs\");\n/* harmony import */ var _chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-N4WEHORG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs\");\n/* harmony import */ var _chunk_6ZLPNY7X_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-6ZLPNY7X.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6ZLPNY7X.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n// src/components/error-boundary/error-boundary.tsx\n\n\n\nvar statusChecker = new _chunk_PMAFHQ7P_mjs__WEBPACK_IMPORTED_MODULE_2__.StatusChecker();\nvar CopilotErrorBoundary = class extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false\n    };\n  }\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n  componentDidMount() {\n    if (this.props.publicApiKey) {\n      statusChecker.start(this.props.publicApiKey, (newStatus) => {\n        this.setState((prevState) => {\n          var _a;\n          if ((newStatus == null ? void 0 : newStatus.severity) !== ((_a = prevState.status) == null ? void 0 : _a.severity)) {\n            return { status: newStatus != null ? newStatus : void 0 };\n          }\n          return null;\n        });\n      });\n    }\n  }\n  componentWillUnmount() {\n    statusChecker.stop();\n  }\n  componentDidCatch(error, errorInfo) {\n    console.error(\"CopilotKit Error:\", error, errorInfo);\n  }\n  render() {\n    var _a, _b, _c, _d;\n    if (this.state.hasError) {\n      if (this.state.error instanceof _copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__.CopilotKitError) {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n          this.props.children,\n          this.props.showUsageBanner && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n            _chunk_6ZLPNY7X_mjs__WEBPACK_IMPORTED_MODULE_4__.UsageBanner,\n            {\n              severity: (_b = (_a = this.state.status) == null ? void 0 : _a.severity) != null ? _b : this.state.error.severity,\n              message: (_d = (_c = this.state.status) == null ? void 0 : _c.message) != null ? _d : this.state.error.message,\n              actions: (0,_chunk_6ZLPNY7X_mjs__WEBPACK_IMPORTED_MODULE_4__.getErrorActions)(this.state.error)\n            }\n          )\n        ] });\n      }\n      throw this.state.error;\n    }\n    return this.props.children;\n  }\n};\nfunction ErrorToast({ error, children }) {\n  const addErrorToast = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_5__.useErrorToast)();\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (error) {\n      addErrorToast([error]);\n    }\n  }, [error, addErrorToast]);\n  if (!error)\n    throw error;\n  return children;\n}\n\n\n//# sourceMappingURL=chunk-N4VN2B5S.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU40Vk4yQjVTLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUU4QjtBQUdBO0FBSUE7O0FBRTlCO0FBQ3lDO0FBQ1k7QUFDRztBQUN4RCx3QkFBd0IsOERBQWE7QUFDckMseUNBQXlDLDRDQUFlO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsK0RBQWU7QUFDckQsK0JBQStCLHVEQUFJLENBQUMsdURBQVEsSUFBSTtBQUNoRDtBQUNBLHdEQUF3RCxzREFBRztBQUMzRCxZQUFZLDREQUFXO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvRUFBZTtBQUN0QztBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkMsd0JBQXdCLGtFQUFhO0FBQ3JDLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU40Vk4yQjVTLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBTdGF0dXNDaGVja2VyXG59IGZyb20gXCIuL2NodW5rLVBNQUZIUTdQLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlRXJyb3JUb2FzdFxufSBmcm9tIFwiLi9jaHVuay1ONFdFSE9SRy5tanNcIjtcbmltcG9ydCB7XG4gIFVzYWdlQmFubmVyLFxuICBnZXRFcnJvckFjdGlvbnNcbn0gZnJvbSBcIi4vY2h1bmstNlpMUE5ZN1gubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2Vycm9yLWJvdW5kYXJ5L2Vycm9yLWJvdW5kYXJ5LnRzeFxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQ29waWxvdEtpdEVycm9yIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuaW1wb3J0IHsgRnJhZ21lbnQsIGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIHN0YXR1c0NoZWNrZXIgPSBuZXcgU3RhdHVzQ2hlY2tlcigpO1xudmFyIENvcGlsb3RFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgaGFzRXJyb3I6IGZhbHNlXG4gICAgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgaGFzRXJyb3I6IHRydWUsIGVycm9yIH07XG4gIH1cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMucHJvcHMucHVibGljQXBpS2V5KSB7XG4gICAgICBzdGF0dXNDaGVja2VyLnN0YXJ0KHRoaXMucHJvcHMucHVibGljQXBpS2V5LCAobmV3U3RhdHVzKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoKHByZXZTdGF0ZSkgPT4ge1xuICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICBpZiAoKG5ld1N0YXR1cyA9PSBudWxsID8gdm9pZCAwIDogbmV3U3RhdHVzLnNldmVyaXR5KSAhPT0gKChfYSA9IHByZXZTdGF0ZS5zdGF0dXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zZXZlcml0eSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHN0YXR1czogbmV3U3RhdHVzICE9IG51bGwgPyBuZXdTdGF0dXMgOiB2b2lkIDAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHN0YXR1c0NoZWNrZXIuc3RvcCgpO1xuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQ29waWxvdEtpdCBFcnJvcjpcIiwgZXJyb3IsIGVycm9ySW5mbyk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAodGhpcy5zdGF0ZS5oYXNFcnJvcikge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IgaW5zdGFuY2VvZiBDb3BpbG90S2l0RXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICB0aGlzLnByb3BzLnNob3dVc2FnZUJhbm5lciAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgVXNhZ2VCYW5uZXIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNldmVyaXR5OiAoX2IgPSAoX2EgPSB0aGlzLnN0YXRlLnN0YXR1cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnNldmVyaXR5KSAhPSBudWxsID8gX2IgOiB0aGlzLnN0YXRlLmVycm9yLnNldmVyaXR5LFxuICAgICAgICAgICAgICBtZXNzYWdlOiAoX2QgPSAoX2MgPSB0aGlzLnN0YXRlLnN0YXR1cykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLm1lc3NhZ2UpICE9IG51bGwgPyBfZCA6IHRoaXMuc3RhdGUuZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgYWN0aW9uczogZ2V0RXJyb3JBY3Rpb25zKHRoaXMuc3RhdGUuZXJyb3IpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKVxuICAgICAgICBdIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgdGhpcy5zdGF0ZS5lcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn07XG5mdW5jdGlvbiBFcnJvclRvYXN0KHsgZXJyb3IsIGNoaWxkcmVuIH0pIHtcbiAgY29uc3QgYWRkRXJyb3JUb2FzdCA9IHVzZUVycm9yVG9hc3QoKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGFkZEVycm9yVG9hc3QoW2Vycm9yXSk7XG4gICAgfVxuICB9LCBbZXJyb3IsIGFkZEVycm9yVG9hc3RdKTtcbiAgaWYgKCFlcnJvcilcbiAgICB0aHJvdyBlcnJvcjtcbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5leHBvcnQge1xuICBDb3BpbG90RXJyb3JCb3VuZGFyeSxcbiAgRXJyb3JUb2FzdFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLU40Vk4yQjVTLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4VN2B5S.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ErrorToast: () => (/* binding */ ErrorToast),\n/* harmony export */   useAsyncCallback: () => (/* binding */ useAsyncCallback),\n/* harmony export */   useErrorToast: () => (/* binding */ useErrorToast)\n/* harmony export */ });\n/* harmony import */ var _chunk_O7ARI5CV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-O7ARI5CV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/react-markdown/lib/react-markdown.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n// src/components/error-boundary/error-utils.tsx\n\n\n\nfunction ErrorToast({ errors }) {\n  const errorsToRender = errors.map((error, idx) => {\n    var _a, _b, _c;\n    const originalError = \"extensions\" in error ? (_a = error.extensions) == null ? void 0 : _a.originalError : {};\n    const message = (_b = originalError == null ? void 0 : originalError.message) != null ? _b : error.message;\n    const code = \"extensions\" in error ? (_c = error.extensions) == null ? void 0 : _c.code : null;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n      \"div\",\n      {\n        style: {\n          marginTop: idx === 0 ? 0 : 10,\n          marginBottom: 14\n        },\n        children: [\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_O7ARI5CV_mjs__WEBPACK_IMPORTED_MODULE_2__.ExclamationMarkIcon, { style: { marginBottom: 4 } }),\n          code && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n            \"div\",\n            {\n              style: {\n                fontWeight: \"600\",\n                marginBottom: 4\n              },\n              children: [\n                \"Copilot Runtime Error:\",\n                \" \",\n                /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontFamily: \"monospace\", fontWeight: \"normal\" }, children: code })\n              ]\n            }\n          ),\n          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_markdown__WEBPACK_IMPORTED_MODULE_3__.ReactMarkdown, { children: message })\n        ]\n      },\n      idx\n    );\n  });\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n    \"div\",\n    {\n      style: {\n        fontSize: \"13px\",\n        maxWidth: \"600px\"\n      },\n      children: [\n        errorsToRender,\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { fontSize: \"11px\", opacity: 0.75 }, children: \"NOTE: This error only displays during local development.\" })\n      ]\n    }\n  );\n}\nfunction useErrorToast() {\n  const { addToast } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_4__.useToast)();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (error) => {\n      const errorId = error.map((err) => {\n        var _a, _b;\n        const message = \"extensions\" in err ? ((_b = (_a = err.extensions) == null ? void 0 : _a.originalError) == null ? void 0 : _b.message) || err.message : err.message;\n        const stack = err.stack || \"\";\n        return btoa(message + stack).slice(0, 32);\n      }).join(\"|\");\n      addToast({\n        type: \"error\",\n        id: errorId,\n        // Toast libraries typically dedupe by id\n        message: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ErrorToast, { errors: error })\n      });\n    },\n    [addToast]\n  );\n}\nfunction useAsyncCallback(callback, deps) {\n  const addErrorToast = useErrorToast();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((...args) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_5__.__async)(this, null, function* () {\n    try {\n      return yield callback(...args);\n    } catch (error) {\n      console.error(\"Error in async callback:\", error);\n      addErrorToast([error]);\n      throw error;\n    }\n  }), deps);\n}\n\n\n//# sourceMappingURL=chunk-N4WEHORG.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU40V0VIT1JHLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUdBOztBQUU5QjtBQUNvQztBQUNPO0FBQ0c7QUFDOUMsc0JBQXNCLFFBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1REFBSTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsMEJBQTBCLHNEQUFHLENBQUMsb0VBQW1CLElBQUksU0FBUyxtQkFBbUI7QUFDakYsa0NBQWtDLHVEQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFHLFdBQVcsU0FBUywrQ0FBK0Msa0JBQWtCO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixzREFBRyxDQUFDLHlEQUFhLElBQUksbUJBQW1CO0FBQ2xFO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLHVEQUFJO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLHdCQUF3QixzREFBRyxVQUFVLFNBQVMsaUNBQWlDLHdFQUF3RTtBQUN2SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxXQUFXLEVBQUUsNkRBQVE7QUFDL0IsU0FBUyxrREFBVztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsc0RBQUcsZUFBZSxlQUFlO0FBQ2xFLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0RBQVcsY0FBYyw0REFBTztBQUN6QztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1ONFdFSE9SRy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRXhjbGFtYXRpb25NYXJrSWNvblxufSBmcm9tIFwiLi9jaHVuay1PN0FSSTVDVi5tanNcIjtcbmltcG9ydCB7XG4gIHVzZVRvYXN0XG59IGZyb20gXCIuL2NodW5rLUVGTDVPQktOLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19hc3luY1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvZXJyb3ItYm91bmRhcnkvZXJyb3ItdXRpbHMudHN4XG5pbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0TWFya2Rvd24gZnJvbSBcInJlYWN0LW1hcmtkb3duXCI7XG5pbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIEVycm9yVG9hc3QoeyBlcnJvcnMgfSkge1xuICBjb25zdCBlcnJvcnNUb1JlbmRlciA9IGVycm9ycy5tYXAoKGVycm9yLCBpZHgpID0+IHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBjb25zdCBvcmlnaW5hbEVycm9yID0gXCJleHRlbnNpb25zXCIgaW4gZXJyb3IgPyAoX2EgPSBlcnJvci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2Eub3JpZ2luYWxFcnJvciA6IHt9O1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAoX2IgPSBvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLm1lc3NhZ2UpICE9IG51bGwgPyBfYiA6IGVycm9yLm1lc3NhZ2U7XG4gICAgY29uc3QgY29kZSA9IFwiZXh0ZW5zaW9uc1wiIGluIGVycm9yID8gKF9jID0gZXJyb3IuZXh0ZW5zaW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmNvZGUgOiBudWxsO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgbWFyZ2luVG9wOiBpZHggPT09IDAgPyAwIDogMTAsXG4gICAgICAgICAgbWFyZ2luQm90dG9tOiAxNFxuICAgICAgICB9LFxuICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goRXhjbGFtYXRpb25NYXJrSWNvbiwgeyBzdHlsZTogeyBtYXJnaW5Cb3R0b206IDQgfSB9KSxcbiAgICAgICAgICBjb2RlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIjYwMFwiLFxuICAgICAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogNFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjaGlsZHJlbjogW1xuICAgICAgICAgICAgICAgIFwiQ29waWxvdCBSdW50aW1lIEVycm9yOlwiLFxuICAgICAgICAgICAgICAgIFwiIFwiLFxuICAgICAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgc3R5bGU6IHsgZm9udEZhbWlseTogXCJtb25vc3BhY2VcIiwgZm9udFdlaWdodDogXCJub3JtYWxcIiB9LCBjaGlsZHJlbjogY29kZSB9KVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFJlYWN0TWFya2Rvd24sIHsgY2hpbGRyZW46IG1lc3NhZ2UgfSlcbiAgICAgICAgXVxuICAgICAgfSxcbiAgICAgIGlkeFxuICAgICk7XG4gIH0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBzdHlsZToge1xuICAgICAgICBmb250U2l6ZTogXCIxM3B4XCIsXG4gICAgICAgIG1heFdpZHRoOiBcIjYwMHB4XCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogW1xuICAgICAgICBlcnJvcnNUb1JlbmRlcixcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjExcHhcIiwgb3BhY2l0eTogMC43NSB9LCBjaGlsZHJlbjogXCJOT1RFOiBUaGlzIGVycm9yIG9ubHkgZGlzcGxheXMgZHVyaW5nIGxvY2FsIGRldmVsb3BtZW50LlwiIH0pXG4gICAgICBdXG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gdXNlRXJyb3JUb2FzdCgpIHtcbiAgY29uc3QgeyBhZGRUb2FzdCB9ID0gdXNlVG9hc3QoKTtcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKFxuICAgIChlcnJvcikgPT4ge1xuICAgICAgY29uc3QgZXJyb3JJZCA9IGVycm9yLm1hcCgoZXJyKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBcImV4dGVuc2lvbnNcIiBpbiBlcnIgPyAoKF9iID0gKF9hID0gZXJyLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5vcmlnaW5hbEVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IubWVzc2FnZSkgfHwgZXJyLm1lc3NhZ2UgOiBlcnIubWVzc2FnZTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBlcnIuc3RhY2sgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIGJ0b2EobWVzc2FnZSArIHN0YWNrKS5zbGljZSgwLCAzMik7XG4gICAgICB9KS5qb2luKFwifFwiKTtcbiAgICAgIGFkZFRvYXN0KHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBpZDogZXJyb3JJZCxcbiAgICAgICAgLy8gVG9hc3QgbGlicmFyaWVzIHR5cGljYWxseSBkZWR1cGUgYnkgaWRcbiAgICAgICAgbWVzc2FnZTogLyogQF9fUFVSRV9fICovIGpzeChFcnJvclRvYXN0LCB7IGVycm9yczogZXJyb3IgfSlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2FkZFRvYXN0XVxuICApO1xufVxuZnVuY3Rpb24gdXNlQXN5bmNDYWxsYmFjayhjYWxsYmFjaywgZGVwcykge1xuICBjb25zdCBhZGRFcnJvclRvYXN0ID0gdXNlRXJyb3JUb2FzdCgpO1xuICByZXR1cm4gdXNlQ2FsbGJhY2soKC4uLmFyZ3MpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHlpZWxkIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gYXN5bmMgY2FsbGJhY2s6XCIsIGVycm9yKTtcbiAgICAgIGFkZEVycm9yVG9hc3QoW2Vycm9yXSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0pLCBkZXBzKTtcbn1cblxuZXhwb3J0IHtcbiAgRXJyb3JUb2FzdCxcbiAgdXNlRXJyb3JUb2FzdCxcbiAgdXNlQXN5bmNDYWxsYmFja1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLU40V0VIT1JHLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExclamationMarkIcon: () => (/* binding */ ExclamationMarkIcon)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/toast/exclamation-mark-icon.tsx\n\nvar ExclamationMarkIcon = ({\n  className,\n  style\n}) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    className: `lucide lucide-circle-alert ${className ? className : \"\"}`,\n    style,\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"circle\", { cx: \"12\", cy: \"12\", r: \"10\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"line\", { x1: \"12\", x2: \"12\", y1: \"8\", y2: \"12\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"line\", { x1: \"12\", x2: \"12.01\", y1: \"16\", y2: \"16\" })\n    ]\n  }\n);\n\n\n//# sourceMappingURL=chunk-O7ARI5CV.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU83QVJJNUNWLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBO0FBQzhDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCLHVEQUFJO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsMkJBQTJCO0FBQ3hFO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQUcsYUFBYSw2QkFBNkI7QUFDbkUsc0JBQXNCLHNEQUFHLFdBQVcsdUNBQXVDO0FBQzNFLHNCQUFzQixzREFBRyxXQUFXLDJDQUEyQztBQUMvRTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLU83QVJJNUNWLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy90b2FzdC9leGNsYW1hdGlvbi1tYXJrLWljb24udHN4XG5pbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBFeGNsYW1hdGlvbk1hcmtJY29uID0gKHtcbiAgY2xhc3NOYW1lLFxuICBzdHlsZVxufSkgPT4gLyogQF9fUFVSRV9fICovIGpzeHMoXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHdpZHRoOiBcIjI0XCIsXG4gICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLFxuICAgIGNsYXNzTmFtZTogYGx1Y2lkZSBsdWNpZGUtY2lyY2xlLWFsZXJ0ICR7Y2xhc3NOYW1lID8gY2xhc3NOYW1lIDogXCJcIn1gLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiY2lyY2xlXCIsIHsgY3g6IFwiMTJcIiwgY3k6IFwiMTJcIiwgcjogXCIxMFwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImxpbmVcIiwgeyB4MTogXCIxMlwiLCB4MjogXCIxMlwiLCB5MTogXCI4XCIsIHkyOiBcIjEyXCIgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwibGluZVwiLCB7IHgxOiBcIjEyXCIsIHgyOiBcIjEyLjAxXCIsIHkxOiBcIjE2XCIsIHkyOiBcIjE2XCIgfSlcbiAgICBdXG4gIH1cbik7XG5cbmV4cG9ydCB7XG4gIEV4Y2xhbWF0aW9uTWFya0ljb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1PN0FSSTVDVi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-O7ARI5CV.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PIF5KJYI.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-PIF5KJYI.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckIcon: () => (/* binding */ CheckIcon),\n/* harmony export */   ChevronDownIcon: () => (/* binding */ ChevronDownIcon),\n/* harmony export */   CopilotKitIcon: () => (/* binding */ CopilotKitIcon),\n/* harmony export */   ExclamationMarkIcon: () => (/* binding */ ExclamationMarkIcon),\n/* harmony export */   ExclamationMarkTriangleIcon: () => (/* binding */ ExclamationMarkTriangleIcon)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/dev-console/icons.tsx\n\nvar ExclamationMarkTriangleIcon = () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    width: \"13.3967723px\",\n    height: \"12px\",\n    viewBox: \"0 0 13.3967723 12\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"exclamation-triangle\", fill: \"#CD2121\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        d: \"M5.39935802,0.75 C5.97670802,-0.25 7.42007802,-0.25 7.99742802,0.75 L13.193588,9.75 C13.770888,10.75 13.049288,12 11.894588,12 L1.50223802,12 C0.34753802,12 -0.37414898,10.75 0.20319802,9.75 L5.39935802,0.75 Z M6.69838802,2.5 C7.11260802,2.5 7.44838802,2.83579 7.44838802,3.25 L7.44838802,6.25 C7.44838802,6.66421 7.11260802,7 6.69838802,7 C6.28417802,7 5.94838802,6.66421 5.94838802,6.25 L5.94838802,3.25 C5.94838802,2.83579 6.28417802,2.5 6.69838802,2.5 Z M6.69838802,10.5 C7.25067802,10.5 7.69838802,10.0523 7.69838802,9.5 C7.69838802,8.9477 7.25067802,8.5 6.69838802,8.5 C6.14610802,8.5 5.69838802,8.9477 5.69838802,9.5 C5.69838802,10.0523 6.14610802,10.5 6.69838802,10.5 Z\",\n        id: \"Shape\"\n      }\n    ) }) })\n  }\n);\nvar ExclamationMarkIcon = () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    width: \"14px\",\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"exclamation-circle\", fill: \"#EC662C\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        d: \"M7,14 C10.866,14 14,10.866 14,7 C14,3.13401 10.866,0 7,0 C3.13401,0 0,3.13401 0,7 C0,10.866 3.13401,14 7,14 Z M7,3 C7.41421,3 7.75,3.33579 7.75,3.75 L7.75,6.75 C7.75,7.16421 7.41421,7.5 7,7.5 C6.58579,7.5 6.25,7.16421 6.25,6.75 L6.25,3.75 C6.25,3.33579 6.58579,3 7,3 Z M7,11 C7.55228,11 8,10.5523 8,10 C8,9.4477 7.55228,9 7,9 C6.44772,9 6,9.4477 6,10 C6,10.5523 6.44772,11 7,11 Z\",\n        id: \"Shape\"\n      }\n    ) }) })\n  }\n);\nvar ChevronDownIcon = () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    width: \"7px\",\n    height: \"4px\",\n    viewBox: \"0 0 7 4\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Group\", fill: \"currentColor\", fillRule: \"nonzero\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        d: \"M3.71690723,3.90271086 C3.59268176,4.03242971 3.39143629,4.03242971 3.26721082,3.90271086 L0.0853966595,0.57605615 C-0.0314221035,0.444981627 -0.0279751448,0.240725043 0.0931934622,0.114040675 C0.214362069,-0.0126436935 0.409725445,-0.0162475626 0.535093061,0.105888951 L3.49205902,3.19746006 L6.44902499,0.105888951 C6.52834574,0.0168884389 6.64780588,-0.0197473458 6.7605411,0.0103538404 C6.87327633,0.0404550266 6.96130636,0.132492308 6.99009696,0.250359396 C7.01888756,0.368226483 6.98384687,0.493124608 6.89872139,0.57605615 L3.71690723,3.90271086 Z\",\n        id: \"Path\"\n      }\n    ) }) })\n  }\n);\nvar CheckIcon = () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    width: \"14px\",\n    height: \"14px\",\n    viewBox: \"0 0 14 14\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Group-2\", transform: \"translate(-118, 0)\", fill: \"#1BC030\", fillRule: \"nonzero\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Group\", transform: \"translate(118, 0)\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        d: \"M0,7 C0,3.13384615 3.13384615,0 7,0 C10.8661538,0 14,3.13384615 14,7 C14,10.8661538 10.8661538,14 7,14 C3.13384615,14 0,10.8661538 0,7 Z M9.59179487,5.69764103 C9.70905818,5.54139023 9.73249341,5.33388318 9.65303227,5.15541491 C9.57357113,4.97694665 9.40367989,4.85551619 9.20909814,4.83811118 C9.01451638,4.82070616 8.82577109,4.91005717 8.71589744,5.07158974 L6.39261538,8.32389744 L5.22666667,7.15794872 C5.01450582,6.96025518 4.68389046,6.9660885 4.47883563,7.17114332 C4.27378081,7.37619815 4.26794748,7.70681351 4.46564103,7.91897436 L6.08102564,9.53435897 C6.19289944,9.64614839 6.3482622,9.70310251 6.50588106,9.69010587 C6.66349993,9.67710922 6.80743532,9.59547613 6.89948718,9.46687179 L9.59179487,5.69764103 L9.59179487,5.69764103 Z\",\n        id: \"Shape\"\n      }\n    ) }) }) })\n  }\n);\nvar CopilotKitIcon = () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n  \"svg\",\n  {\n    width: \"33px\",\n    height: \"35px\",\n    viewBox: \"0 0 33 35\",\n    version: \"1.1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"title\", { children: \"bd5c9079-929b-4d55-bdc9-16d1c8181b71\" }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { id: \"Page-1\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        \"image\",\n        {\n          x: \"0\",\n          y: \"0\",\n          width: \"33\",\n          height: \"35\",\n          xlinkHref: \"data:image/png;base64,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\"\n        }\n      ) })\n    ]\n  }\n);\n\n\n//# sourceMappingURL=chunk-PIF5KJYI.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVBJRjVLSllJLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUM4QztBQUM5Qyx3REFBd0Qsc0RBQUc7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQUcsUUFBUSw2R0FBNkcsc0RBQUcsUUFBUSx1RUFBdUUsc0RBQUc7QUFDM087QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sR0FBRztBQUNWO0FBQ0E7QUFDQSxnREFBZ0Qsc0RBQUc7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQUcsUUFBUSw2R0FBNkcsc0RBQUcsUUFBUSxxRUFBcUUsc0RBQUc7QUFDek87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sR0FBRztBQUNWO0FBQ0E7QUFDQSw0Q0FBNEMsc0RBQUc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBRyxRQUFRLDZHQUE2RyxzREFBRyxRQUFRLGtGQUFrRixzREFBRztBQUN0UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxHQUFHO0FBQ1Y7QUFDQTtBQUNBLHNDQUFzQyxzREFBRztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBRyxRQUFRLDZHQUE2RyxzREFBRyxRQUFRLGdIQUFnSCxzREFBRyxRQUFRLHVFQUF1RSxzREFBRztBQUN0VztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxHQUFHLEdBQUc7QUFDYjtBQUNBO0FBQ0EsMkNBQTJDLHVEQUFJO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isc0RBQUcsWUFBWSxrREFBa0Q7QUFDdkYsc0JBQXNCLHNEQUFHLFFBQVEsNkdBQTZHLHNEQUFHO0FBQ2pKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBUUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVBJRjVLSllJLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy9kZXYtY29uc29sZS9pY29ucy50c3hcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIEV4Y2xhbWF0aW9uTWFya1RyaWFuZ2xlSWNvbiA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB3aWR0aDogXCIxMy4zOTY3NzIzcHhcIixcbiAgICBoZWlnaHQ6IFwiMTJweFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDEzLjM5Njc3MjMgMTJcIixcbiAgICB2ZXJzaW9uOiBcIjEuMVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJnXCIsIHsgaWQ6IFwiUGFnZS0xXCIsIHN0cm9rZTogXCJub25lXCIsIHN0cm9rZVdpZHRoOiBcIjFcIiwgZmlsbDogXCJub25lXCIsIGZpbGxSdWxlOiBcImV2ZW5vZGRcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJnXCIsIHsgaWQ6IFwiZXhjbGFtYXRpb24tdHJpYW5nbGVcIiwgZmlsbDogXCIjQ0QyMTIxXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGQ6IFwiTTUuMzk5MzU4MDIsMC43NSBDNS45NzY3MDgwMiwtMC4yNSA3LjQyMDA3ODAyLC0wLjI1IDcuOTk3NDI4MDIsMC43NSBMMTMuMTkzNTg4LDkuNzUgQzEzLjc3MDg4OCwxMC43NSAxMy4wNDkyODgsMTIgMTEuODk0NTg4LDEyIEwxLjUwMjIzODAyLDEyIEMwLjM0NzUzODAyLDEyIC0wLjM3NDE0ODk4LDEwLjc1IDAuMjAzMTk4MDIsOS43NSBMNS4zOTkzNTgwMiwwLjc1IFogTTYuNjk4Mzg4MDIsMi41IEM3LjExMjYwODAyLDIuNSA3LjQ0ODM4ODAyLDIuODM1NzkgNy40NDgzODgwMiwzLjI1IEw3LjQ0ODM4ODAyLDYuMjUgQzcuNDQ4Mzg4MDIsNi42NjQyMSA3LjExMjYwODAyLDcgNi42OTgzODgwMiw3IEM2LjI4NDE3ODAyLDcgNS45NDgzODgwMiw2LjY2NDIxIDUuOTQ4Mzg4MDIsNi4yNSBMNS45NDgzODgwMiwzLjI1IEM1Ljk0ODM4ODAyLDIuODM1NzkgNi4yODQxNzgwMiwyLjUgNi42OTgzODgwMiwyLjUgWiBNNi42OTgzODgwMiwxMC41IEM3LjI1MDY3ODAyLDEwLjUgNy42OTgzODgwMiwxMC4wNTIzIDcuNjk4Mzg4MDIsOS41IEM3LjY5ODM4ODAyLDguOTQ3NyA3LjI1MDY3ODAyLDguNSA2LjY5ODM4ODAyLDguNSBDNi4xNDYxMDgwMiw4LjUgNS42OTgzODgwMiw4Ljk0NzcgNS42OTgzODgwMiw5LjUgQzUuNjk4Mzg4MDIsMTAuMDUyMyA2LjE0NjEwODAyLDEwLjUgNi42OTgzODgwMiwxMC41IFpcIixcbiAgICAgICAgaWQ6IFwiU2hhcGVcIlxuICAgICAgfVxuICAgICkgfSkgfSlcbiAgfVxuKTtcbnZhciBFeGNsYW1hdGlvbk1hcmtJY29uID0gKCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgXCJzdmdcIixcbiAge1xuICAgIHdpZHRoOiBcIjE0cHhcIixcbiAgICBoZWlnaHQ6IFwiMTRweFwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsXG4gICAgdmVyc2lvbjogXCIxLjFcIixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiZ1wiLCB7IGlkOiBcIlBhZ2UtMVwiLCBzdHJva2U6IFwibm9uZVwiLCBzdHJva2VXaWR0aDogXCIxXCIsIGZpbGw6IFwibm9uZVwiLCBmaWxsUnVsZTogXCJldmVub2RkXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiZ1wiLCB7IGlkOiBcImV4Y2xhbWF0aW9uLWNpcmNsZVwiLCBmaWxsOiBcIiNFQzY2MkNcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgZDogXCJNNywxNCBDMTAuODY2LDE0IDE0LDEwLjg2NiAxNCw3IEMxNCwzLjEzNDAxIDEwLjg2NiwwIDcsMCBDMy4xMzQwMSwwIDAsMy4xMzQwMSAwLDcgQzAsMTAuODY2IDMuMTM0MDEsMTQgNywxNCBaIE03LDMgQzcuNDE0MjEsMyA3Ljc1LDMuMzM1NzkgNy43NSwzLjc1IEw3Ljc1LDYuNzUgQzcuNzUsNy4xNjQyMSA3LjQxNDIxLDcuNSA3LDcuNSBDNi41ODU3OSw3LjUgNi4yNSw3LjE2NDIxIDYuMjUsNi43NSBMNi4yNSwzLjc1IEM2LjI1LDMuMzM1NzkgNi41ODU3OSwzIDcsMyBaIE03LDExIEM3LjU1MjI4LDExIDgsMTAuNTUyMyA4LDEwIEM4LDkuNDQ3NyA3LjU1MjI4LDkgNyw5IEM2LjQ0NzcyLDkgNiw5LjQ0NzcgNiwxMCBDNiwxMC41NTIzIDYuNDQ3NzIsMTEgNywxMSBaXCIsXG4gICAgICAgIGlkOiBcIlNoYXBlXCJcbiAgICAgIH1cbiAgICApIH0pIH0pXG4gIH1cbik7XG52YXIgQ2hldnJvbkRvd25JY29uID0gKCkgPT4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgXCJzdmdcIixcbiAge1xuICAgIHdpZHRoOiBcIjdweFwiLFxuICAgIGhlaWdodDogXCI0cHhcIixcbiAgICB2aWV3Qm94OiBcIjAgMCA3IDRcIixcbiAgICB2ZXJzaW9uOiBcIjEuMVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImdcIiwgeyBpZDogXCJQYWdlLTFcIiwgc3Ryb2tlOiBcIm5vbmVcIiwgc3Ryb2tlV2lkdGg6IFwiMVwiLCBmaWxsOiBcIm5vbmVcIiwgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImdcIiwgeyBpZDogXCJHcm91cFwiLCBmaWxsOiBcImN1cnJlbnRDb2xvclwiLCBmaWxsUnVsZTogXCJub256ZXJvXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGQ6IFwiTTMuNzE2OTA3MjMsMy45MDI3MTA4NiBDMy41OTI2ODE3Niw0LjAzMjQyOTcxIDMuMzkxNDM2MjksNC4wMzI0Mjk3MSAzLjI2NzIxMDgyLDMuOTAyNzEwODYgTDAuMDg1Mzk2NjU5NSwwLjU3NjA1NjE1IEMtMC4wMzE0MjIxMDM1LDAuNDQ0OTgxNjI3IC0wLjAyNzk3NTE0NDgsMC4yNDA3MjUwNDMgMC4wOTMxOTM0NjIyLDAuMTE0MDQwNjc1IEMwLjIxNDM2MjA2OSwtMC4wMTI2NDM2OTM1IDAuNDA5NzI1NDQ1LC0wLjAxNjI0NzU2MjYgMC41MzUwOTMwNjEsMC4xMDU4ODg5NTEgTDMuNDkyMDU5MDIsMy4xOTc0NjAwNiBMNi40NDkwMjQ5OSwwLjEwNTg4ODk1MSBDNi41MjgzNDU3NCwwLjAxNjg4ODQzODkgNi42NDc4MDU4OCwtMC4wMTk3NDczNDU4IDYuNzYwNTQxMSwwLjAxMDM1Mzg0MDQgQzYuODczMjc2MzMsMC4wNDA0NTUwMjY2IDYuOTYxMzA2MzYsMC4xMzI0OTIzMDggNi45OTAwOTY5NiwwLjI1MDM1OTM5NiBDNy4wMTg4ODc1NiwwLjM2ODIyNjQ4MyA2Ljk4Mzg0Njg3LDAuNDkzMTI0NjA4IDYuODk4NzIxMzksMC41NzYwNTYxNSBMMy43MTY5MDcyMywzLjkwMjcxMDg2IFpcIixcbiAgICAgICAgaWQ6IFwiUGF0aFwiXG4gICAgICB9XG4gICAgKSB9KSB9KVxuICB9XG4pO1xudmFyIENoZWNrSWNvbiA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB3aWR0aDogXCIxNHB4XCIsXG4gICAgaGVpZ2h0OiBcIjE0cHhcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiLFxuICAgIHZlcnNpb246IFwiMS4xXCIsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImdcIiwgeyBpZDogXCJQYWdlLTFcIiwgc3Ryb2tlOiBcIm5vbmVcIiwgc3Ryb2tlV2lkdGg6IFwiMVwiLCBmaWxsOiBcIm5vbmVcIiwgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImdcIiwgeyBpZDogXCJHcm91cC0yXCIsIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTExOCwgMClcIiwgZmlsbDogXCIjMUJDMDMwXCIsIGZpbGxSdWxlOiBcIm5vbnplcm9cIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJnXCIsIHsgaWQ6IFwiR3JvdXBcIiwgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgxMTgsIDApXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIGQ6IFwiTTAsNyBDMCwzLjEzMzg0NjE1IDMuMTMzODQ2MTUsMCA3LDAgQzEwLjg2NjE1MzgsMCAxNCwzLjEzMzg0NjE1IDE0LDcgQzE0LDEwLjg2NjE1MzggMTAuODY2MTUzOCwxNCA3LDE0IEMzLjEzMzg0NjE1LDE0IDAsMTAuODY2MTUzOCAwLDcgWiBNOS41OTE3OTQ4Nyw1LjY5NzY0MTAzIEM5LjcwOTA1ODE4LDUuNTQxMzkwMjMgOS43MzI0OTM0MSw1LjMzMzg4MzE4IDkuNjUzMDMyMjcsNS4xNTU0MTQ5MSBDOS41NzM1NzExMyw0Ljk3Njk0NjY1IDkuNDAzNjc5ODksNC44NTU1MTYxOSA5LjIwOTA5ODE0LDQuODM4MTExMTggQzkuMDE0NTE2MzgsNC44MjA3MDYxNiA4LjgyNTc3MTA5LDQuOTEwMDU3MTcgOC43MTU4OTc0NCw1LjA3MTU4OTc0IEw2LjM5MjYxNTM4LDguMzIzODk3NDQgTDUuMjI2NjY2NjcsNy4xNTc5NDg3MiBDNS4wMTQ1MDU4Miw2Ljk2MDI1NTE4IDQuNjgzODkwNDYsNi45NjYwODg1IDQuNDc4ODM1NjMsNy4xNzExNDMzMiBDNC4yNzM3ODA4MSw3LjM3NjE5ODE1IDQuMjY3OTQ3NDgsNy43MDY4MTM1MSA0LjQ2NTY0MTAzLDcuOTE4OTc0MzYgTDYuMDgxMDI1NjQsOS41MzQzNTg5NyBDNi4xOTI4OTk0NCw5LjY0NjE0ODM5IDYuMzQ4MjYyMiw5LjcwMzEwMjUxIDYuNTA1ODgxMDYsOS42OTAxMDU4NyBDNi42NjM0OTk5Myw5LjY3NzEwOTIyIDYuODA3NDM1MzIsOS41OTU0NzYxMyA2Ljg5OTQ4NzE4LDkuNDY2ODcxNzkgTDkuNTkxNzk0ODcsNS42OTc2NDEwMyBMOS41OTE3OTQ4Nyw1LjY5NzY0MTAzIFpcIixcbiAgICAgICAgaWQ6IFwiU2hhcGVcIlxuICAgICAgfVxuICAgICkgfSkgfSkgfSlcbiAgfVxuKTtcbnZhciBDb3BpbG90S2l0SWNvbiA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICBcInN2Z1wiLFxuICB7XG4gICAgd2lkdGg6IFwiMzNweFwiLFxuICAgIGhlaWdodDogXCIzNXB4XCIsXG4gICAgdmlld0JveDogXCIwIDAgMzMgMzVcIixcbiAgICB2ZXJzaW9uOiBcIjEuMVwiLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ0aXRsZVwiLCB7IGNoaWxkcmVuOiBcImJkNWM5MDc5LTkyOWItNGQ1NS1iZGM5LTE2ZDFjODE4MWI3MVwiIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcImdcIiwgeyBpZDogXCJQYWdlLTFcIiwgc3Ryb2tlOiBcIm5vbmVcIiwgc3Ryb2tlV2lkdGg6IFwiMVwiLCBmaWxsOiBcIm5vbmVcIiwgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgXCJpbWFnZVwiLFxuICAgICAgICB7XG4gICAgICAgICAgeDogXCIwXCIsXG4gICAgICAgICAgeTogXCIwXCIsXG4gICAgICAgICAgd2lkdGg6IFwiMzNcIixcbiAgICAgICAgICBoZWlnaHQ6IFwiMzVcIixcbiAgICAgICAgICB4bGlua0hyZWY6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFJMEFBQUNYQ0FZQUFBQW9FOWhZQUFBQUFYTlNSMElBcnM0YzZRQUFBRVJsV0VsbVRVMEFLZ0FBQUFnQUFZZHBBQVFBQUFBQkFBQUFHZ0FBQUFBQUE2QUJBQU1BQUFBQkFBRUFBS0FDQUFRQUFBQUJBQUFBamFBREFBUUFBQUFCQUFBQWx3QUFBQUNJOE96M0FBQkFBRWxFUVZSNEFlMmRDWUFsVlhudnY2cTc5ZDdUTXozN3NJTWdLS0JDa0xoa1NLSzR4SlVNUVZ6QXFKQmdOREdKYTJMc3ZKZkVSSTBhaUVid1JYbm9RMlZZUkFTaVFVRlJVR1FtN0RBd3pEQmJUKy9ydmJmdlh1LzNQMVYxKzg0Q3pFdzNNTlBENmE1NzluT3F6dmV2NzN6bk8wdDU5cnpaYlF1ODhzWG5kcDJ3NGdWTHA1b0crNis0N2l2RHUwMTBrQWI2QitselArVmpyMXpaazB4Vi9kZE1WSXVmYXAvMzRnK2UrczlyWDkzNTFVMWRUNW5wSUlwTUhrVFB1c2VQbXRvK3RLaGN0VldQRFcxL2MyN2hJVk5iQ3NGYkNwYTcvYVIvZi9TV0ZWMlpYOTc0enNORzk3aXdPWmp3ZWREc2hxaVpsTDNBRDlKSDlZOFBwVFlNUEpFdUxqNytwY2xFNXZCcXVYWjZNVi81Nlp1L3VlR25tV3BxemVyM0h6S3ltK3h6UHNpYjgwKzRsdy9ZMDlQanI3bG05R08rZVIrZUtJNHRYZGVSc29tWHY4YTZEajNlcW42aVJvUGw1cVc4M282MHZ5YVQ5TzVJV1BYMmxsckgraHN1WEpiZnk2b08yT1RQZzJZbjBwMS82dWVXRksxd1dUS1JlbzFYRFpvZXF3N1l4aGNmWWZOZjlOdFdTSFRZVkxWcXhTQUlxb0ZsVTc2TnpFdDZtenFTQ1FCa3QzdXAxTnJsSFVkc1hYMjJWOTJwMkRubGZSNDBPNUF6OE41NytwZlBnY3Y4WXpMWmRIaktTM2k5dVMxMjU0S2l0ZjMyNzFxcTgxQVRHa3Exd1BKQ0RWZXhFdFM4b0ZaS3BCTFplV2wvdzd5RTk4dVVaM2NuTFBoTmVmU0ZteDdzOFVvN1ZERUhQTStEcG9HSTcxdjV4YU9Ea24wMmtVaTlOZTAzSnozUHMySmgzTzR1YmJDQjAwNnl6cU5Qc1lyZlloYlVyQndFQm5ac3RCTFlCRkl6U0RJWFFCNUxlT1kzSlhvWEp2My9hZlA5SDlkcWR0djhYSGI5bXA1VDVrUVg5cndnM0FDYWFpRjRaY0wzVDB4NktRQVRhaU5TNlJaYm1tK3lpYjd0Rml3Zk03KzF5U1RZSkFDTXVFNnprdEZQNVgzUEtnREl5b0NuVUxGYXZyS3MzL2VXOWFmOE4zcVpSTjl3VTlOOVIzM2hnWjhrdmVSdnl1WHMyZzJmT0dXOG9lb0R5dms4cDRuSTlaN2YvZUx5Wk1uL0FrUjlhenJSM0FTdk1IZ0pzWFJEMlg2N3EzblVjaTg3eVZvUE9RbHVrNGFwQkk3YmxOVlZrU3lMWFJIclVSWllpd2xBZEY4RWhtRnFhVjVSTCtYbk0rbkVmZk44VzJPSnhHMmUxUjVNcFB6KytkVUZ4V01QKzNsaDlkbG43L2Z5MFBPZ2daWWFNVDN4bzY3WHBuenZYMVBKelBGSlAyUEl1c0FGb25OVksxUDJRT0VKMjN6MFFtcy8rZFZXeWN3SE5EVUhuQkpKQ29CbDNQVlE1SERBSVpEOHJydkNjcmFnVUkwQlJHQ1Nwazk1NDAxcGYzMjdGL3c2NFFjUDFGTE45MlJxM3FaTTgxaDJ4Y2hVYWVWblZwWjZQRTh3M0svTTg2Q0JIQmU4NnRLbFFhM3dsd2svK2NGVW9xVlpYVk1BS0FRWWNSU0RibjNacmZaQWU4RXFMei9kTWd1UHRyS0hxRXVVWkJzeGt6eGdFYmNwaTd1NHJQdzRPL0tMN01yQXZ3T1BRQ1NPRkhFZzg3MEtIS2V2eGZjMnBCT0plMkYwNjZwV2U2ZzVtZWhyU1ZvMktMZE0rQzIxd3ZvUEhWMjI1eGhJQnoxb1ZxMjZLakd2dC8rTm5ubC9tMG8ybjVwSTBJZUlzSURHV1ZCZWRyNDRiZzlWdHRuMkU0K3dqaGVjWXVWTVo4aEFBSXA2SW5HYkNUQlFoSnVFZUNPUXNKRGpxRHhkOG1QclI3WkFGYWVKdzBVUkJHbEwrb1ZFd2dhYWZYK1Q3OXVtaXZrYmtLV2V5UGpKclMxK1pTUmhpZkZNTWpOUjdVNU1QTEhwOEpMMVBIc2M2YUFYaER1MlRuUUd2dmRLUmt3dlNBSVlEdzVTQzJBRElwNGpKRGFPVExMSkZwZWFiV1Jnd0NyTFJpeVo3ckF5N0VDREpROHdwRWpWakx1TVFGeFZSa25MbmdyQTl1VlhPYmdWRjBTMmhHZ1ZvSEFsbFJHd3dxNnNxZW9GaDJhNUxHR3Zza1N0QUFjYzh4TEZyUlhQMjA2T3Zsb3R0NjNTbTN5OExiT3VkOG5Gai9VbHZNbXh0blJ0Yk0wRkx5czhrOXhJZDN6UUdzZGwrZ2RQODRQRUYxS0o5T21wUk1hMVJiVW1xb200NGpMNlEzNmhLOGtXUnV5KzFLQk5uUGhDYXpueVpWWkpOaVByaXRNZzl3Q0tFbmFXckhueXFlZHhRQkhiRVNBY1IxR3hLamNzM3JseE9xT3czUm5sYXpRUnhnQkZZQWwvQ3E0MGdpeTJ2ZG4zTmdhSnhCTUp2L1pnUzhidmJjLzRBOGx5ZGF3MTRlZXFxZHpFbWd0UEtUY1dNeFAzUWMxcDJzY21GeWM4LzNVSkwvRmlBY1pIbHBHQUsvMk1CT0hRaEZTU25OT1VhclB1OHBpbHMwUEdJTnhHTEFORDhXRUVHTGhKQW53MHdUMnFjSklDK1IxRGNkeEY4VnlTZHh4bmFTdzdkcXVRbll5cWhuT0ZKclpKcnl3QkJWZHFMVmF4RnRDd0FnNTNxaVdxNVV6Q0h5bFhhcU1UVTlickl3KzErdGJmV1dsZGQ5SVhIeHBJSm9MQlpDWTlraWxYcHlySllpN2Qzekd4OGpPSDc3V3dIZDlKZEdNSGo5V3o4dFprZi9Ed2E3d2c4Wmwwc3ZrME4yS0NFa3dRT09BNEFSaFdFWStpWk5kcVpac0lobTNCeTVxdGROd0xiVTFocVkwREgxRlFITWR4R3poREVhSk9ZR3NJTGtaREllRlZkOGRoamUwZGdhRXhxRTZkeU9Hc1JyZkthY2lnN2xCSUZVQUJtK2Y3dFdZL0tBQ2tRYkE2NXZuZUlJTDJjTWF6eVhUQ0cwZ2xFbHN5Q1p2Z3habXlXbVhLVHlmR1dwUEpzY0hjMU5UL2pDVXFsc29GSnc0K1VGbTA2UmZGeXVDanVkdHV1NjJpMmc1YVRqTlUzckRJU3lUZmdPRHJ1RXc4WXFxcHhTR3lHRUlBQWRRTGlCRHFwRVNOeFF2bTJ3c09hN0x0cVNuTFRPYlF1MlFpenFSb3lUYmtBU3hWaUpZanlQVUp5dXJZanNyQ1RieVRZeUw2aDRUSEUvdUpEUk0yQkRRNHczUlIrampjY2JBb3pPVjNKZmo1bXRlU0Q0TERDRHJNNS82eVBCRGp2bW9xNFJVU1hwQnRUbmlsWnE5YVNmcFc4Q3ZWWEQ1Wkc2OEV5VW56aWt6QjFhcVBadzR0Vmc3Ny9iSGpXNC8rMWV0ZnRmQzJtMjlmUFhSUWd1YjhsZDlzQ3FyVkY5SXRyVXo1NlJiZjEvQlpiQ0NrbTdvbkVWSTlRQmdTRVJuQ2QzUTNXV3RYeGlhR3hxMDBtYkpVVjRjRktQc2NKa2lOdnNYbGFSWXdBRTRXbjRia3JrQ1ZxeUwxNDdoUEZDNXJGeU4yZ1hIQ3RITkVlUlVXWFdGaGtkOFZ2RXVjZXJjMDZXU3JSQ3dZamllNnQzRVBiUlhKWUFRbUVkd0Q2aXJBSGxPMVlpV1ZHNm1XaHdlQ3l1UUFQR2k4WENvVVRpZ251a2RYclZwMTYwRUptaVlyTFBIOHpObUpaUEs0Rkp6Q0dhaE8yMkY4R2pqU3o3Z1FoWWRBZ04xYjE3SzArYW5BK2g3cnM0bEszbG82bGxnMUFXaWdpQmNoUjl4SndIUDVDTS9pY3NBUm9KUW10Z1VjMVNIcnlZeUFGcHZZcmFEWXJiZzRTUlRtZ3hDTjVnU1NCRDlwYkJGYXdFbVFXTWwwYVdTdnpBNVF2RFIrZWNxcStXRnZjbkJMYWtIdmxsU3RyOC9hSmtkdEhpVVVVaTN6dGxlMjEyNjU3WWJhUVFlYWo1eCtWWE10VVR3VEFlVnQ2V1FtNlFNRUovVFNnSFhhaFFpZ09TWGpxRjBWV2JOTW0yOXRpNUpXeXBhdHRHbUs2WVNDVlE4ZnRXU0dseFlTU2E1UmNvYndUamhPd1dGYUNVRldOc2JBV2xJUjlrd0NqZ3FPUUNiU3VZek9zZk1QYWZsM1ptZGJnUzVNaEFjb3VCMDRxRStna2RzQkJEc0dqR3psRWFnVm53alFBRTFOV0hteXovTDlXNnphMzJ1ZEErTzJyTkppcmJWV2VxaUtzVXlrbUVrMFBaeklEajlBbHVDZ0FnMGs5UzVNZkd0aGM4M2Vsa2dtRmtpUnAwWVY4ZXFBQ2R1VWNIUXdEZ1I2WDNrTFNkRGF5UWlxdzJ4OE8wU1p6RmlyTjI3VjBRRkxkeXhrR3FuRkVVN1VWOW9LMmZSV0N4dXQvSWlmRlFDamdDTkJ1UllEaDNCWHVlN2p5WXk3UnlKMUs4NW9aa3l6RVB6d0FPSVlHc0ZwWmtKMklnS0VlemI4U2l2Z2l2ZUY0Q0VzUU5xYUdyWFNXSjhWZWpkYXByL2Z1c2J5dHFEU1pJc1NTNnk5ZVI2NXpJYTR5c1pVditmZGMrempmekY4bjkzaHdPWWlENGFmajc3Mld5MU5sZUMxTk4xdm81ZUJ5WVJEYlBmQzArQ2lRZjBYQXJ0dVJxbzZKU0J0KzVLa0phQlVkb0NoZGFYWnVtcmoxai9VYjdWRks4eHZiN0VhaEVueDQ1UjdnRU9FOHNsYkJpUWlYRUxnd1YvQUx3RlpRL05RejZONm45b3drZTdBb0ZTdXJEcEFGQjdldGNMRmNad0tBSGNJRktVSExzcFB2WWxha1M1b3pBcWp2VGJWdThGU0EwTzJhS0pvaTNpZTd0UUthMmxwUlJrZENmZThMQWxVRVpWcVlZem1lSEMxaFpPcEJ4V25xZFVDMXY0bS9pS2RUcmFuV1FnTURjMlhBS2cvR3RzTmFuQ0xkWXNBamp3a3FqQU1UNkdBNlZyaFd4azJNZDVYc1hTaXlicUNWdHMrT0dyRnNVRnJiZXRteE1Uc3QvSlRwdDV5bjd3Q2h3UlJBVXBsSnVteTFIVUlMSktQQlJ5Tlk1MnNqTDA3UTFFdWo4cVVrZVc2SHJueHhCd2tqaGR3WkVJYkVORUZKVXBURm9EMjdIQ3ZGYmMrWVcyQTVZaHN6YnI5RHV0dVdtcE5UYTBBaTFLNXIvQXY1Skpvd2t2bVRXMnMrSlAzdTBMNU9XaEE4NkhYMzVTcGxVWSs3Q2Y4RTFMcEZJd0RRcm9SRHFTa29UUktFZXRtSFI3ZWtJUVNiQk9NcktwUXRhMmJrUk9jWm54N3hmS2pVc2FtckNQUlpsM2pmVFk1MEd0ZU45citGdUNnTWh4QUlDWEZxRXkzT29MeTFWM3BQd1NNd0JwV0xaMmYzTEVoaVpJNUlBbG9NZ0pqbkYrUmNialNpWk80ZnhjdUNLbEFuZ2ZCMWdySUsvU25rOFBiclloZ08yOHNaMGRNSlcyaHY5QTYyK1paaXVrUmRjVmhsbW5vcW93cVlHUFdmNlRjdlBCWFAvajVsd2ZkamZCelVJQUdRZGY3K0d1dmZtWEY4OStjVENjdGxRb2ZPMzR6MVJocWF2QUNCV2h3NXlBTVFqdGREZURwV0l6ZzJCelk1R0ROV0NsaGdBKzFIbDFVSVdXNXdTRVdYVEVmMWR4T3BoUUVGb2xwWEJBalc3L3dIemladUFzMXFSNk1NRXZScnR0UWlrYmo4aE1RaHlKOTRRdTdIdVZ4Qmx2Z0NXUDBxMXJnS3VXU0JWTWpsaC9hWXRuQlhrdjNEMWs3WGRCUjFZd3Q5aGRZWjBzbndtMElGcFcvUTkxaE1hNWVhY2RabERZeTBkWjVOOG5xaURvb1FQUFJNNysxTUtnbFA1Rk9wK2VubTNsa05Rd201Q3cwR2xUUUNNcTlvN2docjJzaXlUeFYxTHlTWXpxWEkvL0FjUmhrR0MrZytXakRVZ0JrSHR4bVlHek1Tc045VGlEMm1mMnVnZ3B4TVJGWExjM2NVRVNFRURnaGdOd3R1SGpwUndRbW1ZaG1ZZVJ1ZnFOYmR6SHFmdVNYd0c3Vm9nWEZyRlVtQnkwLzBtdlY3YjBXakl6YjhueGd5NE0ybTUvcXRoWkdlWDRDYnFqbjFaL3l5Y1NGT3BzZi9xVVo5NEpxclpoS1BqYmM1SzhKRTRhL2N4NDBMTEJLVHQ2UmVUM2Q5YXZUelNqamtDaGR0K1FhTFh6cnBjRjF3cTdhaTNaMFJGWDdRSEdQdnFhNWt4RVEzZFBVZUdCVFl5Und4SktkdExZa1hWUngwZ1lHQjZ5NmlIbXBqTGlOaE9nUU1GaU9RQUtQQXlrRWsxdjBjaGV4WkhCaE9Kd0orUlJPUmRVcEttY29hNFU1TkVwRE0xY1JWNW0wNG5pL0ZZZTJXN20venpMaldRZVdSVjZIZGFRNnJKbUpWWi91MUlGQlJZWUZPMWZkcXh1TjZuSXZqKzdhRDRyRlZHTE5rWW11Z1ViVXpIblFUTng1M0FrcHo3c2cxWVFrazBZcWdKK0g4b0M0aXdoSDQwUmdVYytrUHNOTkphaHJRaWdSZHhHWFNiVUVOcllKR3FIaVRkQTFLVTRGcEpFSnVrdHROdHpQOEhVWjNHYmVZdDdtWmxlSjR3QXFFbUtFNzdZSUU1SkdkVGFDd2dISnhVWXB1QmNsQ1FFVWNpcjVmZFdMa0ZXVnJKSWR0ZkpJdjFXSEJ5dzVOR1lMY2lWYldFcFpaNkxiMnB0YUxFVVhaQ3oxa09GcCtGVUpEV1lIN3c0ZW1xRVdNTzB3TnBIMDcvN3g2aDJYb001cDBIeDgxVldkWHM3ZWlUN201QXpMM3hLTVRRVVVkcVk0c0tnZEpldzY0S2hORllrUlIxRDcwbXgwVFRYclhFWTR0TW9Pa0xhU0FCU0tVeHJnQlF0clM3VmFXMjdNeHVBMnZPTG10MmdTVXlia0lHcmtHQlRLSnRES0ZuQmMzYmpqWVRKT1p4U3ZlM0JDcmd0aElGOHVXQTJ1VXBvWXRpS0NiVzFvMk5LakU3YUFSY3JkMVNZRTgyNXJhMjUxUXJwN095Z2tCSXNySVBweEpWTzJIbkpYRTRicXQwWXZtK2hkVXE0OXVIT3FPUXVhcTFpUjl6OVRpZGY0U1c5VnBqblpsRXhCRnRxcnNhMGNSbHpEUnNEUnlBbDJvN1V6YnJnSzk4K2cwR3RmVWJYQ0pGc3JoeEJFV1U3bnFFNWFBVUhEOHd5ZzZjbzMyOFRnc0ZYR1VmWTF0UU1tbFBkd0szRXZ4OGxBZ01nVmNwaHBVbXFvcndnWEYxSEhoUkhpY3grMWFva2VLTTg4RjBBWkhiVEtRSitsaHNkdFhyWmtYZVdrZFZtN3RkTDlaRkxONElSN0U3MVZYdlFDUkVXRzRjNURBcVhaeVlUU0VWSGNqNTZmT3l6NXllVGRSMVpPN04wcDZkd2RQZDF2NmVPVHllQ2R5YlMvbkc0cFZsazBQRC9ONUJvM2JtYzFKazFGbUp2eEZqdGdMTnphemZSQlIyQWpqeVdza2hmbkVjSFY2aUFxSWs2Q3VhZXVSTHNOVGd6YUZBSnhhdjVTODVzQmplSmRzUUlNSGt6NEd3SEloZkJEbWppY2pYZTg1R3lCcWJJZU9UZHUrZkVoRkhHTWRnY0hMYzF3ZVVHdVp2TXJTZXZ3dTZ3Wm9HZ2RrQnN5eDJXSEJZVVBGWmUvTzVSRWNURllLTVNsRW1pY1dJNE9rdkhpMnA3YnpxQ0QzdEhNU1U3enlWVTNMZlJycFlzWVhyOGkxWnhNU1NlakZ6bzJjYnRHbEtxL2xTRVhRTmpraGEwQkdJOWVwbTBwNEFCQStVSGtvYXJQUEJQa3I2TEpWU05qYTFncXJXOTd1cFBoOTZSdDZOMXVyVXNQdFdRTHM5OFJJV0pJcUQ3VkxXQ0d3SXR2Q3FtSDFZTHFma3FVTVFWUThxTkRWZ1FvTGNNVDFwa3ZBNVMwZFJyelFja1dPQmtMeHVnVzQrZHc5LzBVd0lpZnV3NlFPSzBBM2VCV1YrZ0dBWHFtbEQrWVNnUjN4bmtiN1RrSEdpbnhNbFo2alovd3prZzJKZVpydUZ4djNZaEdjVU01cndqb2lDZ09FM0tFa0FQUjdiVFVyS1ViamZBVXI5MEVzZ3hsYVNNQUVxSkxHd0tIUlZ0MFZTemtjdHJWdm1GR01TTjkxcnhnaGRXU21uRVNhYU9LSFVtb0k3b2x4MVVRYW1zTWxZdTVVWnRBVGlrUERWa3d6SnJBeVpJdG9ONkZOZWE0MkVQZUpLN0NDRWd6N1NveEJGMGpLWi9NSFQrdDRuWC84YjA0cjBKY1J0bjZjeHlSQnFDcmU3alc1Vzkwa1R2OXpEblFkRFJQblliazhYNjR6Rkh3R01ZNU5FcE1wUGpoZDlkd0lLZE9ETG5wSlpybk16cnFyREJOd0dMemZNSzBpa0lBYzF3SThJaUFOYmlZZERuUzZYUTJ6YmR1bEh5RDIvc3NXREZ1aWJaRkFDUVVlNTJjb25vcElLRTF5Qlc0Q2tDWkhCKzB5ZjV0REpXSExEbWFRellLckx1R1VKdUVyeVNaQjBLdjRsUjYwVFBvSHAvY2tBZ1QvazY3cGg4WFdFeDdTRWRLOXgvbVlGRUlMMENWWjJIR1BPbi84cExWRitXK2FoOTBaVGIrekNuUWZIYlY5VWNYelQ2RUhQTmJtVXd5cVc1RjYzNWwxTmhxR2ljZ2htMmw0R2tEMFdVRUNxWHhFRWxhRnRHQWFXYWxXYXNtZlkxQUkzclhtUG5UZElOUEZ5WUFKZFJkVlJQV3lqek9vbEtYamFCVXEyYUhBUTJiNmloSUphTW9NNS81bndwRDVTeEFHVWYyeWJMVjF4K2F0QTdtZ0E1Rld6cy9pWnlTYnJXTUZyZ3pWSGIzcTN2U2plM1doTVFPZjVVZzh0Y0RZbjlrdXpKd3UvODRMTFJCRThIY3FjY2VDOThyc1dia2JrSjJXL1djQVUzUHF2K2FYL0hMTEhud1hwbkpwRnJvbnR4YjVjQVN0bFBZcUZFek5MeHdMcnp1SjE3TEZ2eE16ZEpkeUJrVkZQUFpGQUt3ZER5QVJmS09aRlVwQkxuRVpSaWNBaHdBeE5xRTduSzNMU3prckRBRzU2Q0xZdDB0S3ljbmJBb2hlV1JnSzlNUWZWWWNHS2I3S2RxU1lzcTZtZlNjaHdLdUtkMGNEcFVoWGRoTlRvTWxKcStqK2M0L2pjOFd4ZTNJVGZSNEtrR2dDSTF6UlE4OFhYWW96L0JVekpyN204ZTl6QzVEN1NqNzNCZzlyZVNNdklSZlhJbGU0V3k0ekNKa0R4bjNqRzdZTk4xYTBkc2taTVJ0R1VlcVdURmlDNHdYMG0xMFRTMVZsR2hNV0U2Rm1tVHBaY0lwaDJuUStFeGZvMjJQZ0lRaUVDM3N3ckZXZTJ5ZzM1cTZuckJhcXNsR2V6Zlo4Sll0NWcxT1dEdHJLdzlIVHVsS3pMT09UQWV5a0haQlRBdTE3cVloM1BSZGhTSFIzY1dldWgwL1p4d1E1dU9YNTI4c0krUWlZYXJwbUNpMWF5dEFBNGRWZS9tcDVHOE9PKzI5dzNiekg4ZkY3bURQQ1U3enUwdGZlaXlQZWdFUy95bHBackNseEhQdG9FZlZ5RW5jQlZ2dmJ0aklhbFM4c2lMYnVhTm1GbTZhT2xqUmxxNVphWVFoRkVOY0ZMOHVnK3ZlNnB5R1NVa2FXbUdzT2JaaXNjRFdYT1NVWU5JZTJiamRta2Y3YlNrQVNRK1g3ZWdpTTh1cFpkYkdORU1LSU1HMlZDQjNGTEkrOXhzNlhXaGpuTnk2emZqWE9lTWZGeEhESUV3VnBvemNXSEZzWTM0WFZvK2o5V2lJcXFZbENOUEpGajA5dkNGUFlnNW8wRUFzNysvUCsrRWhpVnJpajlDNXZUcmRGSE1FbmxZTlFrT0VvTUNEQ1pVMXpxbVdDYmtOM2tqVExoY0E0QmV3cExvcWJtaGRtVXdicS95WW9JeklxMjZKUkc3R21wRlBxVkswYkNscmZia1IyNGhpNy9ISkVkdkMwTG1BL0RJNm1iZVhKQTYxbzFxT1pRak8vQTlpdVRUSjhLVVFhSlNqVHFIZUVZVzNHZDFnQkNqZGtETjZJTG1WS0V5NFUvSXdXWnkyTVkxTEdJSlUwYTVkaUZmYmhJRFNMOTJ3eDR2aSsxa3Y1ZDNaVU5ndXpnTWFOQjkvM3c5WTVwSmFHU1Q4ZDZReWZqT1hrL3hkbzZwQlhLTzRWZ29aalVOUTJBWnlhdDJMakF2RzcvSWg0Q1piV0JmYnpGQWE3bEFyaEt2MXhCZ0VGdTIrckFSRnk1VnpOc1RhMnMwSXZKc1pCVDJTbmJUeEVrQkRqMklkQzBBR2Zkd2tXM2daSmplM3RNTllXS0NGTUtSaHRpNUJzT1plWm9GUWRUZUFKOEtKdTBkM1g3ejBMa3llK0ZLZWFSUGYvblJJK0hEVDRRS0o2NlNpSkNGUVhIK3NSRkdkY09tK1RONS9iTHFjWFYwSExHZ3UvdEJObWVLVTl6TEd0QjlKcGhOSHA1dllFayszNUF5Tm93WlhzOFJ0N0dJSURCVmg5ZUNvUmFKMCtKUXUyVmEyUktiSzRpVzZFVlQxQVNlZ1RiR2dTUnhsT3dEWmxoKzN6Wk5qdHJsUXNDR3dFV2lvbFY0TVdGaEFuRzZqQVB3c1ZUQzQwUHJDbUIzdjUxSEtjUmlTcGg2NFBNbEIvR2xsbnhaOGFXbUU2K0xjM1RTQUo3b2ZFVGE4NzdqSDBGMjZKM0k1OUZQM09VY0VpQ2d3aEU4OGl4VUdodDEwbUZPcHhmMzBDNnp1ZThuODVyRjZ3YnR4SExDZ0tVM1ZYdVI1NlE4bTB0NUpEakNzYjNFTkVUV1VRQ1BrcUxIVmFERllHcnVvS0lrU2hrMER2VHk2SVlHR2lSK1dVMWR0bUMyNEEraGVOakQzMDVlYnNJMVRVOWJQb3QrYTFNV3NVV0VQQ3hOVXJRQ0ZZYkpVeWE0c0ZVU3RUZk9zZDJvVHV6Q3o2RjI2SEZqY1VsRE43WkJFbzY4QWR1ZUFveTdMM1lYeXF2c0xieW4rMVIwQ3M4aTdZMlQ4Y3JqbmlUTzQrM0F4aEFnd0tqZDZUbnloTS9TN2RrT1kxOWtIVE83ZWQvWk9zOXIxSWlQSEFRZWFucDdBNytxOVpRWG5JMTRJamQ3TVpDUWJKUVVZUFJFL3NzTzJJQ3h1bkNpSThQaDlVNXFRQkVxczBVL0ZDa1hPVkd3dVdtc3IyMjl6WmZ2Sm81dnRzVzJqMWxzcVdTOGNJdkFBUm1ZcGkydmdKazFjYmxKU1FCRVJ1Y0orSnZSS1VHcnR0cW5KZnR0UUhyYmx6WXZBRkYwWGxZclRDQlE2SXRSeEdIRWVhUk5WaWl0RGI3eklISWJwRGxWRGFLWmRjWWllVG4raENXM2xsbUpSdmpBT2w0dUs0bmR3aDdYUnplZEdreG10MG50S2M4Q0Jac1dXTytkTnByMDNKWUxFMjFqc25RNzFKOUV6Q2lSeWh1M2lHc3VCS2ZLN0FaUkMxUzB3NGFqUlFwbFo1Qnl6eUdQb1ZyWm5XWk95TkdXTFUxMjJhYkJrTjIwYkp4emlxK3ZSM3BVTVJOY3d5aWtDVlNnRWpGbUNhT21DY0VUMUdiUGY0alliU3VQMjRzcTRkYU9MRWN0ejNJOWtqRlhJenYxb0t0d0JDY0VZWjRBeUtGeHFHbk9XcUVqRmtTZXNSdzc1d3NyQ2wwWmhvWkgwTWgzV21HWkh0OUs0TXNYcC9NVFdmTXAvUEM3anlld0REalM1eE9TYm1EYjg2MlNUMzUxaTl6cDdUT05XQ3B1UFZsQ0lHa08yMVBmaDhnUVVkUWl4WlRieEN5U1RwWndOTWprNE1KVkRrTTNhY0tGa282Ujl3NkdMM1JMaGU5blhsRzg5QmprRjdpSlZzQnNpdXhJcE5KWXRWRkZZZmZncmorS3d4VEYwUUZMN0loc1lHclgxcFNGYmtPa0diK3pHRkpYNDBiMUxVZWlLdyswRVpNazlTaURaeDhrNlljbWtxa05FenhZU1duSGg4KzU2SDhUVTd3MUgrTzhDWFhBVUoyNWNRMTJnRXFlU1RmZDAxdnlSdU1ZbnN3OG8wRno4Si8vOUVrU0FENkwxUFR3SllLVDFWY3ZvK1hkc2lOQXY5bDVqV0Z5QW0wd3kyaGxHaFQ5VXlOb1dCNUtpalpiTE5vWTJkd0w1cE9yTnQva0wybTNwb2haR1JyNXRtR3F6Y2d0Y3hyVThKSXFCSW1xRlE2bXdUZXNWSzBJWDNFRkVqOFBoVU9WVXV6M0NTVm92YXMwaDIyaWJTOGh0eEZVYzVwVkZXRk0zcFh5U2RSekxvUmpTcURqK3d5S3haWFlBeEE1K0Y2dWY2VFJxSTNjL0xqaHlSd0d5cUVBOGpsTUFIc28zNXd0aHFpZi9QV0JBODAvditORnh0WVQzMlZUYWY1bDJGR2hSbFo0M2JneWFtN2FteTBFMnFjSk5zdWhKSmhqdERPUW5iQnZjWkFNQzdBU3lTUTZRVFBvY0ZjTDZGL2Jad2tYb2NwaEJsbnh5OUFyUGpweGZZQmp0MjFpT1VWTTBIK1c0aDJRVUJ3YVJMNktpS0t3d0dWRlg0WTRJWWg5UnVBNCtRcllaR045ay9hVVI2K0FFTFdheGlCYWg0dTRvZW80SVBPN3RWLzZvNjNOcG8rSlZRU2ozdUVwZGZhb3lkamgzR0VEYnlCRnhQcGNtcWllR242SjFnZGhxS3BrdGVzSGEzbTFzWlhnYWMwQ0E1aC9PdmZFdzlKVi96bDZqMzJGZWlRVmw2dXZwYm5oWXJab3ZWaW9jUHovbHVwM2hLWFUxT1h1aWtMZVJFZ0l0NS9wT0lpT00xVWM3QW9rdXVod1dUN2tSajRoUEgzWklaNUdGMklIOWJKS1RFWXVxZzB1TkdwdjR0UmM0NnBkcjlkRHIwaEhudWpLbGlReGJYRXU1QWJxb1VUdWt0dGhhbUxtdWlhQ09yUUFja2tsbkZIYWplS2hIS2h6RnFCUXRTWFZkVmdSRXQwUTFLanArYVVLdk9JcmFSSFo0NDI1QldUMXRGSVkvWEIwb2g2Q3I1YWJCOWtUTjM3aHk1Zm1sMjI1N2I1Umo5OVorRDVvM3Z2SlB1MUsxMUY5NjZjbzdVdWxLRTRwOUcrZm9sSnc0U1RtUFhKSjNJTm1Jem1RRTVScm5QcE1pWlhtVWJKWFVQQXMwMG5FZ2tRRExpbnkwc2c0TWplMUJxM1V3UVhsTXB3NDBNbnR3bkUxeFZacEdTVjJUNGxETHl0UzE2M3FEQ1hRVVYyVDBSanZDS3R4Rk9LSXdpV1dWMWdYMlJMYlBCb3ZEZGxncnV4bkRyVzhoOFVSa3lncm50YkNwVHAvdWNMc21LRXBkbDBwempDZXFSbjdWcitwQ2ZJUWhTcWxsR3M1RVFmSUpuNm9sTm5JcG4yUXExVDJWVGo3aXRkdkFVMDBmeEhuM2E5Q2NmUGpKOHc1clB1STlBMVBiemltVmk1MUJxbUxEZ0tXdlZHUVlUQmVFdnFSQWQxTmkzcldRYUVWMm9KdGhZVFhxWElBQ1NNUkpKSXk2TjErUFBOMW9ZUU9JMkJoYWJ5bVRrNGUwVlcya21MQ1JQSnpBdmZyRTFVRWd0eEpqWkt2Rkd6bVBpblpwY2NSNWxGYmhjSmFndWNzbWM0TzJxVGhpaDdRc1laME1lNzlGY0tXUmdhcDY1d1VjQnhiS2R2SU9hVUxsSHlSWEdzSmQ4VkdlRURDdWhQQW5Db2c1VFh4TGNUM1Q2ZUZqQkVxcDV5QVcrQnZhcHRCRzdvSFpuMEdUT0dieDc1MjNvVEo1MFNORG14ZU5vSld0WmptR2xYMk5GUnE4bXVteW1nQ2lZYTAwc0xGeXpTblllUEtZc0UvWkNMU2FYa0hFbFJVZE5adkhuTk5kZ3huTHNXdlNVVXlnY0szTjYraktVN2tLa0tmaGN1QlJ1TmlBd2lOVGR4S0hMRE9aYnJlSHk1TjJRcEJscDJNTFJVc1NJMUdVVGdUV0pXS0t1NmdMY2ZKTHZlZ3dyYXRPOTZGd01paTc0MVZSVUZ5OWJKV2xLelFoVUdLZmJJM1lpaWsvVjB3azd2TzdEanZnUVJNOFZoeWQycEFvTm5QeU1tdFZrRU5ham1EUjdwSVFJTm9wS09HMFBoUldDM0NwQldWY1EvSGo3REJvSjA4WVNJc21BTXZDRGczSlBicy9tN1lKZFUwT01GRmhJVldpOUhoaTZycktGQmxkb282amRwVEdnVWhoK0hXL1RWMDJQakVCbHh5emhZRGVsN0pRV1hXUDJPSU95czV0T0xjNGptNURveTExaTQ3VENKZUV4OXhId0ZJYUdSVVRHOTJLaklidE81czRMcnh0MXMvNDNsREtyMjVadk94bEducy9yYUhWOTFzVDlEV05QbGhNZEQ4WWRLNVl3R1RRQ2hSbFNadDNHTndGT1VVbmdBa3c3bEtqaXNuR2ZtejE2L1Y0K1NPQU5ZWkZlWTV0cjlxWnkzS09pZHpleTBrUVUzQXV0YXk3eU92S2pmek9UWkJyK1RnTTJ4RldkcU9KNHdselpiRTJoL1hBVGRXOEhkYmNaazE2RVFqWFgyeVVURk1kQXBEY0xoYmJnU05HV0QxZW9uSll0RXVwOUZ3Nlc4L2xWV1NEQ2NOY0RsZStIbGlMeURnZjhLNVVxbmIxWjcvNm9vR0c1RS9xVkl2c3YrYUpKd3AyejVVM1dXdjcyVllyL2FGTjlGNXJFNXZaQURRZURndWRZQXQ0QkFoZEVuTGRwYkFvWFB1VTNGNmxLSTFMRzhVTGVLUmYxbEcycGMwVmV3d3UwMS9rN1hkbE5lU1RYT1RLaU1wVTJlSnlzZTNjK091QVZKeWpYa2hGRjQ0ZmpYQ2xkVDVMSjBxMnRjaWNJTjhTWTRNOTFkRlJjUi9heE9jdUtmcDRGQ24vSERQVnJlQ1dnS3QxeVJIV3FVTnUwamdRQ1NqSVFRMkFpWUVUeG9kZ2lZa3QyYW5LTklhSFltK2lLZjM0eGc2VVNIdG9lUG9Ed1B6ZzQyeFZzeHZ0dEEvZGJpM2pmOFRUbm1OTmhaZWoybTlDNkZWcjA4STdQY2ZPL3Nab3RhWU0vVUFxV2JWRmJSVmpWWVhkazgzWVFGbmRIdkV1RGF5OVhnNEpYTmREUHRrdUltYjk4c3VReGhuQ0ZlVzZoaWhPZm9HUmFZV3hYTDg5Qm1pT1pvbEZTektGWGltcVJGWmNwSFBqYVl3VGtGUys1QmwxVVhMWGJ6RGtPdE4rRi9tVVB6cnloQjBWMWM2cDBoTVpLKzd4dDZqaXAzekt3dmVieUY5Zk1zSFhMTDVobGZJZnMxYmxmOWxFLzEwY0FUYm1saUdJeUx4NTRZVTdKbnlqSGNjN1FJUnBGbk44eUlzN1Nud3B6cmRSUUJPZ2xRMjV4TzdLRURnVmo2M0xzUVBaZXZkaVAvRWhteUJNWlVUbDRYUnBHUDVQY2JKRUx5cUNZUTZ5aHZvaHQzRWNJOHppc3ZIak9JU0s0MzZKM3NFT3VZZkN3anppUUtFSC85TVo4ampJYVgyUForUG9xQjgrSnRzMjhYVFo0bmhxT3NDTXB1MnZmZjhtVmtKZHdvcnZqN0dyN0RyTzFsalA2WWxGdC9CSmo2T1dqQysxZG56RlliRU5LKzlxcXRqaWRNVUdXSEExeWtMdmFTSTM1QXNwUmh4bE83Y0lwQ3NHaXVxTHcyVExINFdGbWFKNDVhY09OdGFOd0MwMnM5YW14S2ZzcG04dkJJZkw0b29JZ2VNMis1SEl5VHF5dWFhN3BiQ3E4TEdWU2E2bk5pNkptRmdvMENQSGVQMGZPdTMxT3JScmo4eUIwVDN0N2xGdXVGRHM5SFo3MnhYcnJEYnlhcmpOV1pacHA4dHFYV0dKSnVZWklPaFRHWWlhWVN2S29lMUZhK1o4K2tlUlowYlkzQjhUTE15NkV3WGtkWDJDZnZBSUdPRlFoM0M2SVFXTEVBcDNYVlhVamJua2hDbE9ISUc5M21PRk5udWNLWTVqV3NkdFNUUERiMERFRWg1WGhEUTJNZkcxL2tiWlhWZEhWcVZ4cFRwUWh1bmRMNG5DZExvSFpkaU4wVzA1bzZFOHBhajdUUHFQZTRuYXNOZFQxMXJHaVo3VTVqWU9jSFBkZXdiWUNYKzlsWFAvbTY3cUs1WWJ2UXRCT1d2eEZFclV1Q0dIb05XY1g3YlpnblRWam1zcjhyYWJiYzZubVplS1FiTmp1anFRNm5rYjRzVW1kdUF5YWxLdU9LMEREMmxpa01tVzhwRXVhckJjc2Uxd0cybTVwemxIeUZHVVg3a2E2dzc5VWJlRlIxMlVTeGRhU28yUkozVEZ2NjRraGJrTHdHQTdiRE9PWnpGclg3TFd6TmxlZTI0T1hFN1QrSXlYWFNqVytwQ3Qrc3BtanM2OGsvTmIvb0NqRmw3UDlNR3hjQjZFWlI3VE5WajBDcXJWTU4xOGl1S0lsaEtxZlVaTlUyaVFsVWdUUUdHMFN6UDkrc29iNVJleDVGVEwxeE5INzErc0YzRlIvTGl5bEo1TDRCS2YwS2lycVpObEdRUDJLQ2R0SHRXZXQ4NFV4emxHMFVvcnA0clFyNnJUajVUVVRvMnNZdU1pY2J0NUpPcFZzdWxiRWxUQ0VnZ09NemhIK0JNcURiMEMycW1OTko0R0dudHM1Z1pvNHNkZC9VR2RLdjlMTytjN0c1bkZYQXQ0WG0rMThtdFpqcm5VTW03VmVaelNuY0c3SE1ETVkycmkvbXliYlNzSldEUzdRTk5vWWtvNFd4RjFSK1J1VEF4Vlk5Q0lZS0t5NC9yS3d4VlRWTVJuK0YxaXljUjJwaFZHMkV6WGdiWlk1NHk3dzVJRUFOMkdzcWg0Zmh4SUZPU0tDaVBjeWVyaWRPcXZTT1J3S1NjWlhUNFZnQW5kenVuS1ZQcG9BRGpoSmYydFJ5MWMvclRMSWFMY3p0THR6ejN6M1hmMDJwWCt0UndUL1dtRTVML2xhTXViTFR0V01kYlBoQzNyczY0bHNPTmFpL1JhZ1czTVpmaFVNcUJSYTRSVWtXUDZVcGk3Q0hLY0tQSXJ2YnZ3aTNqdW9vdUxSMWFLakx1dU1HSGtWMW9FWXVhaitqai8rL0g4S0tPM3FXandGd202cW9JL2JTdDIzWkFyU25HeFhvZFk2bk1EUXVsM3FOTjFjYm9makc1WFlOa0JNQXBYR01OMW5YYUJTeDhiNjkyK2g1cGdNamdUVlJGNzU1TE5LT3VLODloWm43amFpbE4vWjFQWi93QTRXMjBLK1ptaFpsdTZiSWMybHl5TDhEc2tEYkFUYUtNbVZzdkdWMk9UeE1BUkc2aURKMDRiWlZBYVphNkRSVzR1TnlSV1lRM3g3RnlZWXBQL0ZoYUdqWmNtU0NibEhBQWdmUWdBZ1NieWsyK1hZWFlVNTZwVE5YSFpxZ2FqYW5kbk5HcFM5MFI1MjFuUU5ySW5NOXVONWN5dDdxbnh5V0wzNnJQVlphMjFWVmR0Z1hLM28rTjVGNGZBdkpZbExrMkxtOHEyTHRkazJ6VFVmaklUTjN6OWxSVjFZbzlzSllqOHNWUFVjbDFURkIvSlVOUlBXcjNoVVJsYWI0eXlid3NmcmRqTWpvY2xMUXNaOU9tbzFpaVpGcDRyTlQ5UlNZNVJLcjlMNHlKQ3FHZ3VxcDRvdmcveTdtelVRNGFMdUp5c05NUlhZL1pLbmxGNWM1alQ3TlJjcTg4ZVpMdkJqK0hObjE3azV5NCtwWGxpcTlaeWJhQnJHbVp2azZQOVRsbDI4SW9RdXB5SkhDNHNKaWNSb21SSXpZaXphRFNtSnRZVnhVVlpuVDhhZm84eWNia3BOMmw1bHFSS0dnbUxtVTRmYzVpNDZzWnFkaWlXQ1BmbjdzR2wzdUhINWFOOGRVK1VycW1ZVGZ3KzVSNm5IUXFJUEhPZjB6USs5ZXF6eC9IZTkrRkxyazR2bmxkNTVVZ2hzV0xERURzbXAxaTVsZEVrSmJGT1dHM010SlBicFZGWTVKRGxPRTg5QW96Z2RsaFNHSUNSRmJPQmNBaWtBTUtKWU5LeXluZStIeTF1dDVjaUZMZHhLSURQK2NUcS9xUzdjY2ZWcWdnM25hQnVSZm5DdkE0YjFLMHdCd2hzUlR1ak5IVlBGT2FDaUhBWmJJcXRQNXRaaENST3ZGZEdyOEJCWlc2OTlkYmtpY3VENVF1YS9TTlp6ZkxveU5qVUZUYU9ScGxsb2lGZDk2QkpSQkJuSW9lcytHck03aWdwaWtlUnpvL2IrVlVBYmsyRTBsY08xMUsyTVR2Q0o1cnpJUUJJSSt5RnNwR3loRndFc1ZnWm96UnlSSEhPZGpIMXNEaWQ3RVlUWVdtQ1JTSERTNWYyN3JFbU9DNmo4Ukhqc0RsdER3NE9OaFdyZGhvY2V0Nml0dUJIcjFwYStUQkhaMTVvWXlNL3NNbXhLYWNVZEVJc3plQ0lGdGs3dDBwSXV6RFN1VVdLaUhLaWRpTXc1SGJkVkJUdS9MaGRla2lBaHJpR3N1OHhkbkFPRmtaRFRxRFllbkk1VkFUQUlWQTUzWS9jTGxHWXVKNCtUQkdtaWNwUkZobW51SWJUa0s4ZnJYRGZoYUdPSzR6Y3c5K0REalRKWkxJRlFmQ2wxVnJBdW5QdjNzcytRWmYxbmJOL3lqa2hGMWwyOUY5c2ZQUUJ5K2MwSm8wSUU3V2tvOVJPclZvUHc2R1dqTHNwaGV0eTQyRWNBb3dERXJZRFpKd2dzcG5wdHBZdVc0ZHEraEcyLzFZMUg2WDBBb2tFQ0d5WFhVVzVLOHpuM0lwVE9qenVjdmVoUkVxcmROTkd2Vks0R0o4dXpUTSt6WnpjNDBuSzZWSzRuVWJQWEhjREZyOVNxUnhDWTU3SU5jcVp3SS9VbjNuMTJkdk15MzJCQTRQL2xoTVQ3N1JzbGpOWjFjcWtDR2xVVDdxRG81RXVqZWtjUlpXU1FFYzgyWEZ6UjJGeHVHYkl0WU9USS9NM2NneHNsdUczNUE1ZzRLb1dZRUt3eVk3QTBWQjBYSXl6d3hvVlM5cm9pdDNZQWc0UjJwMHp3ZTNzOFhJSTVZcE4vQlN4ZjA3YnExZXZab1dWbmM2UkgxM1lqNCtQanorNnd3Ti82ejA1dTNMVjljeWVmOUJ5WTErM2lUR21KZGpmNERTdXBCUVJkbWRjT0QrT1NCSEs2bUVLMXhVMXRlTTB1SjNmSmFKRWJBMi9teGZhUm5aVWJNNE5zUk8wR0hFSzVlWGZYWkdiQU1kVjZ2Y1Nna3NKWFMwdUdUOHlPMXJoTzhDWEVZbllOcUl2eHUyRE9haEFNelUxMVFKM09SV3Q2Z1NOdnJhdHJXMzNXMUN2Zk9jOWxwdjhyR1ZITHJlSmlYV1d5elBFQWpraVFFU0VYZHJhaGZQVG1DWjJpK0t1ZjFGejYxSzZoa3VGcVI5cW1jY25rSnZ0TVE1R3l2TlIxUjJBRXFGQllYSDIwQkg3VlI3LzlVdEFDc0dsNHAyaCs5UStkdEp3RnIvWGYyTHJ3dWM1VGR3MlQyYTN0cll1cjFhckw0ZlRJQVFHdno3N2JMVEdUMmF1ZmZkMlc3TGluMjFpOHVPQTU3K3d4em1rQnY0dXF1M0dPTGF2OEpCNE85Z0tFMWdjbDRuY3JoeTU0d3VuenJacDZyWUhKeWV0SDI3amREYVJ2S0xzRXBFY2g0bHRxQjhDSXl4ZVJZVnJpYU5pc1p5SnFwRGxGSHVlTjBZUkE1c08xK21DZTI4T0tqME5EWFl5VFhRb25PWlh1UHV1dlBMS2JnUmp0YVUxTnpjSDVYSTVnQnZWV2xyNDVJb3ovY3h6dHQzK3dWc210azZNMXk3a2tJQzNzcU4vQ1RxZGFEeE1vaGhFcmhUNXlSb0RTRzZvNDhMVXhUbmh4QVdFK1pUWDZWK0lVeVlOdjlzV2NBNU9yejNBZDV1TzdGekJjbFEyMWdFT1Ird29xMUxMaUtzNEdRVmJiZ25FVG41WHVQNmlCUFYwMGExUjJoQnArM3A2em5qeWx5YXNZcmUvQnh0b1RxVVYwbkNhWlJEaWZBQ1RoUmdpQmFLTFBrZktUcGxrc2dwNDJEWHJoa0lzQnF3RVgzNUZvclJ4b2hMOHZEODducStXRmdmcEpnNFNoY0FZdHl2U3VjSWZOdy9vd3ZVVEVRL0FpTGdpcU9hOUhBQWN1Q0szQ095b1R3TE9FdzdtTDdaTU1jZFdtbkZid0w1ek45UVczMUgzNGhCQU9ibzlRQ2V2Q25jQW9Sd1h6VS9VRGJrMHFsWmNLN1NGVXppTm4yQnM3NEt3OXM0Y05LQzU3cnJyam1MazlIS0JoSVkva21iNll5NjkvMnAyRVUxdEtxSW9MUGE2TTJTZ1QzQlltMVZXdFFUb2VBcTBkTkY5dVZZYkg1VEpYUzY3U0JPWnlGR1BkNFdxNERpQmJJRmwyaDg3dldDUjlmTk5oSW4xSEV4ZG5jL3g5dUY4bEc3UnljK0F4VEU0Z1VpbENEd3FTNTdHeXhWTmdBQ21GTEpBSG1Wd09uWnRuNGJiS3ZLZ0FNMVZWMTIxQkZubVV6enZjVnozY3JtRGxRR0lERjR4Z0JwcnM5RVJpd0k3R1NjRGsxQmYvMm5pK3dpY0creHR6OVVXYjhuN0p4UXR0UUR1NUVBVVpnemY2SG9SRU1yUnl0bWhSMzVSVUlRT1kyTy9JdWlsV0RiUm44OWI3emdmVm0vdHNtNTJqK3F1SW1pNExxOStrM1J2NFNPSXk4U2gydEtyWndIL0JFMERrL3E4Z0lOVXZONlNGd3lIdGUzOTc1d0h6WTkrOUtQV3ljbkpkd09HdDNGdG9ZaytWeXFWN3VGN2xnS0lhekU0a0d0dGdPWDhnQ2R1L1YxYXRFWWNJQW5XRFFjTGI5c1N2R0cwa2o0M3lMUXVTelF4Wkk1eU9kaUVSVHRNaEV0WFFxN2k2bFEvcFRON1EvVXN0azU3aE9qdWZrSXdsZmowWWJsdnpJNWJObXJ6K2VhQ3graEt4YXZzRUJ0QVRnSGlOdGlPMjRnbHhyZE9IZXAzMmVwT0VzRXpySjlNQlRaY0RLWVQxYjJlM1k0YlkwNkRCZzZUUUJkekRpQzRpTGN3Q1NnK3Yzang0bXZQT09PTXZWcXBGamZXRG5iUHJVbmJOdmk0Sll2YitQRDIrNjNaUHdGcEd0NE5PNHBmYmRrQ2ordndaTXNmWFRYUzZVTUxEampxNTBqa2dLUU1tQ29menF4azdPR0pmanU4SFJtSGJieWF2S3h6R3dlR01LblF4TCtyU3JhTUt3VTBPYmk0d0ppdkJWT0lZLzI5WGFON3RHODdMRzNIWDRGeHpwcFVLdlVxd1BMbnZOMkhjbjBUOE13T1lOUmlQWHc4NjRTSHRwcE5mWnV6OEQvSFl2WjdyWkRWaHZCd3hDU3lpVmhhcktWV2xodWNPTGY4NGdpc3VITzIzQzROTnYvaUh1N0UwTmFGZGwrZXN3RGRmQlJmcjNVZ0lGNUpTTzg0amt1dmZPcW1vcTRxOU5iVDEvT0ZvSjJrOUlITExydGduNGJicWx1UE1TZk45Ny8vL2RQZ0xEMkE1VFFhN1NhRzBuOTk3cm5uN2w2WnQ2OHRjTnR0Z1Qxd1RkN212MjRkMysvYXdNN1BaWENUUTlqc3o3R0FVQlhxUUUwdU9XUkhKaGFiWER3L3psWmM3TURXbmlwWVFnVk8wK1ZYN0FnQTVPdThZcG00U05mdDRJMnl4UXhPQ2RRZHhjYUZnK1VhKzdZeFQ2VFMzblczUFhUODVqaCtiMjNoZTg2Wjczem5PNGNncDRqRHZBVEFyTVgrbDNlLys5MkR6OWlEM3ZiZWdyVWQ5ZDlXS24zYWN1Ty90T3dFODFiaU9CRlFaTlV2SER1NDVXKzR4SEljQ3lFUGk4M0xiS3g3aUlPdUp6Z2gxR2tCeEUzMElQcUprN3JzMDF4R2NWR3FNQjErUVFpNWg1RzVuNk1MM2VlUms2cWVVNkFCSE43MTExKy9qS21DdjhKOUp0ZFdyci9tT2U4Q1BOT3ZucDU4dHMxbHA1VHR1NnZ1WUJoMm51VW52bTZUZk1hMmlBWlp4QlVJMUUyRm50QmZCMHBFZVFjVTNBS2FpeU01NSs1VTI1ZmExckpuNnlhM3c4Z0tyZ1NWNC82VWxmUzZGQkYyUS9qbGpzTGxqdGZnc05PaHdnRUJmZVZKanVPYWdabFRvUG5HTjc3Unhzam8zYlRIMjJuQVBNUG8vMFRUK3h1bUM4SlRKbWJRVUh1YzljcXpOaUd4ZnBZUFBGM0ZVb3N4NHp6QWNMd3M2a1c0eFJsU1Z0VFY1YWlQSGRkU2R6REc3MlNyUzRjOW5CM251TGhKa21pMEZBSkRxWlhTWGZ6VXc2TkFGZTFpWlNOcjhkb1VBejg1V1BZenozTWFOUTBqcFhSblorZEtuT2R6TGFRQnZ3V1grZjZiM3ZTbWZacVVvNHg5Tjk4K2F6dWZTdjA3bGxsOGk1bnl2TEdUTWhvZmh4U09TM2JFNWFjT0dyM0RBcERDRkluaEdMaEt5d0xiTkZWa2VtRVl5Q0FRdXdpQUk1YzhjZG9vWElGeFVGeVVodVRJTmxNc0pCOXV5WEJvNFF6TW5PQTBQVDA5U1VDeUVzN3lZWUJ5aUVaSmpKeSt2bTdkdW0wemFKdVpaZjAyRTU3NXhOK3ordUJpT0E1ZlEyV1VMMGFqRm5lRWxoMDVZanNHUVQyQjBpQVFvNmZKQmhtN2ovbW9YRGtieHRiTENNdUx3ZUZzZ2x4UmNWY25QNVh6eGJnc2E0MjNmV2IxcXIxZTR1bUtpSDRPZU5BQUV2KzQ0NDQ3RXRDY3gzVUt6L1Zyd3I2K2ZmdjJyWURKRFJjYUgvaFpkVi8zOW1GckhmMW5PTTRWQ01lOWJpbXBFMjJndUlndVV5ZSt3dVNKVUZWSEFYNTJZK2JvcHRhaEpSNW1DWXlPd1EzNVRQd2JGNlFpcHJtTUM0M3FjU09vUkpEenRkbS9QdDVTaXIwM0IvU1FHMUQ0clBrOURNNXlBVUQ1USt3bmFMVFA0LzdGZWVlZE4zTUYzdDYzNTY0NTF2eXdhQzk1NDFwV0FVNGhKQitQeXJZalBIRTBvcVpRRTRrNllXWjVkZ2dBQ1pCSitoOCtSTmJOenRDbEFDaWxrMHNiVXFyN2Nma2FzK04yWHZRelZjNVRadEp0ZzUvMmI3ejFBYll0ejhBYzBKem14Qk5QN0dLazlCWkFjalpnbWFSN1dvMGcvQXNFMzczZWxqR0RObno2ckZlY04yS3R3Zi9oREozL3NEeXJBWXNjMHFCWDMzRVdzc2Y0Y2ZLTVNOTEFiVlM2MHJIV0pzOEpvWS9uc3piS2NsQzNPUzdtS2tRclNaM0xxTHpHeTNscEpjK3lmRDVSczlzek1nY3NhQkI4MjlERm5FRlRYRUJqY1M2c2ZadnJTaFI0UXpOcWtXY21jMkNYc1lEZHoxL0tONWIvM3ZMakQ3Smxoc1hyY0k4NmNVVjFLbzlWdlhWQUtSQ0RRRnh0NmVhZ2dnb2I2MWg4enZjZXdoaVhxWjVOZ1E0OHppSDRTUUIyODA3VlpDSXhXUFdUTTFad0hwQ2cwZDRsR3VKVUd1Y0QyRXV4ZndySHVlcWhoNlRXMzQvTkZlY2g0OVN1NFl0elgwWE91WmRqN25SV3Y2Z2NBY1pSUEFTTzR6YVFwdzRldWlnMjBvMHkwYlUrTitZK2grZzZueWlyZStxNEhEeWhNeXFQS3VBeVpialRNTWZaejJpNHJYb09PTkJFY3N6aEFPVWk3djgwUUhNN1hkSmxYVjFkanp6bmdxOWE5T21NT0k3bXE0TFNQOEp0MWpKZnhjSjFjUndJWERjUnNSMHZVYmpBdzhWeCtZVTAzNkxTOEp1VEptcDhPRVNjeEFGRXlaU3Q3bmN1RjZiUkFHbUtMSmZvUCtvRlIrenhLWjcxMjluSmNjQ0I1dmpqajE4QVlON1BjNnprMm93Y2N5VkxGZTVpNW5xZkorQjJhcE5uM3Z2LzNqWEJRVXMvc25KQkhPZHVOOUdwWlJuaEltRHNDRFFDU29pRThKNTBHQks3TWNjNG5tUXpRbkdob2dPc3dwbHZCeGVYelNISHBRKzVEV3hHcytPZVgvQ1QvdUJEUGF0bjNFNEhGR2pnS2xvb0pSbm1RdXdzOXYvQnZuNi9FM3hERWovMTd6ZmVNc2xuN2E2MmF1bGZBTTFkVnBqZ1dIYm9HUVBGY1pjWVBMRU51Zml1ZDQ1bEVvOVBUZkx0cWxFMy9CYXU2c1lsRlpmQjhPT0cyamdaT2ZIVkI3Ky94MmF1aGppZ1FIUE5OZGU4SHM3eXA0Q25tZXNxM0ZjQm1MMDZMNjdldVB1RFE4ZWdUSXoveENyNXI2QUUvQ1ZURDNSVm1xK0NMSTE5am9PQVlBRFgwRWZHTXZOc0cvaDZZbW9NUVNVV2lJbDJnSWtlekxtRm1nZzR2cFV0VTl2bmhWZU56WFhBZ09hNzMvM3VTN254ZjRXN2FLUGJEd0ROVjFhdFd0WGYrREFIcFBzSDc1dTB0cU92NHVpS3Y3UGM4TjBjY1Z0eWk3UFVWWW5ieEVod0lNTHZ1cWdPRzdabVc4ODNOM01zUUplaFhVZ3BwUEFmVFdDNkNNVnhKUk5lMGEvNXM2S0tPQ0JBdy9CNk9kTUNId1VveC9EOGEraVNQZzlndHRKUXZFZHp3R2lHdkNQL0s2dmxQMlZUNDc5aFFSZWZ4NHRrSEFjZWtUMDJ1UFdOYnc0TTZDdFZyWi9UUVN0d201Mk5RT1RRb2doT3RNYzdVYTY2SFFnN0o5MXIvMzRQR3VsamFJQWV1cUkzODNRakFPWnZ6enJyck44UXBrSEIzREU2dmVHcTk5M0tLc0EvczhuQnRaWWZyb1NyQUNHUmszTWlXMkJ3M0tiTHRnUnBld2lkVFk3RGtFTFpHVjRqZk9tUzVUeHk4TTJNcEQ5Y1NvM01pZzVydndiTlRUZmQxQUZJL2d3T0k0M3ZGTmRmQXBpZnV4YVpxeityMzNzUFhPWURWaHkreWJJREpZNjJEVUZUUjRNNENHVFRnUUY4Q21oekxzL09CZlIxV2wvc1RBZ2NCNWdJUUFqQlpmempSM1lkTzZQWjdiako5MXZRWEhycHBTbVdhR3FLNE4wOGNCSk84MzhCekhmaUc1L1Q5alhuM2NkeHRoK3p3dGd2T0owVUdVZjc5U0dWZ09NdW5sNGZSZ00wMnppWGJ4Tm5FWmVxbkZRYU4wb0VGbG1SN2xEOTEwaFRXM0pHczl0eDhmVjY0b0Q5d2I3NzdydFQzZDNkcjJTTjcxOXdQNGNBbkt0d1N3aU9YNmY5NFRhZjJYdFkvYjUxS0FEZmozenpBd1RrYlAyaklhN3ZFUndnSGNQdkxGLzkxWHpVaU9hanROQ0tHQ2NRaTdKNGFEdVNlc1h4cG5UdjJUMG43Q3I4N01OVDdIZWc0U0g5OWV2WEh3dG4rUk5BY2pUK3RleFIrdUk1NTV6VHR3L1BkMkJuV2YyQmpheGlZS2REL2hhRzVFWFhWZW1KNnR5R2sxT1k4ZDRtZ1hocTFBMi9IVktVSkg1eUpELzJRcFcydGpiUGVNNHBMbksvQWcwQThXNjQ0WWJEMFBCK2lCczhBOURjai8xdi9mMzlqK0NlVzRKdlRJR25zMnV0YTVsMllCWGd4SzAyTlZaQUdSamxBQlk2NUpwVmZVTWNUL0x3NUJBZmdtVkVIYU1GMnpuNVNRUmVhWG1CWTlGbnlleFhvT0hRb1c3bWtkNEtsM2tEQU1weFhRNkFmbjdoaGU3YkI3UDB5QWRZTWZwVTBlRDJoK21lUHNmU2lsOVljUkxnUktLSk9JNCtINDJ5YjkxVWdjOG9qakRncWtTTXlFRW1mRmpQS291TDVia0hHbllSdE1OTjNzNVQvakUyZ3liL0NrQnovZHZmenVxM2c5M2MxbFBoNHdsM21oWC9IdUJ3UHVCNElmeTJsZGdJQWpIZi9PNnJwdXh4RGtNcTFWQ1FSM2poVEFxdDBRdHFTVDg3MnBUYW8rOVQ3a2xUN3hlY2hxVU9UY1ZpOFZSQWNpN1hNZ0J6QTl6bWFoUjRUd01ZTFZkelM5YjI1RmtQN0RTWHM3ZXFOWDIzVmFlK3hpS3Uyd0ZQTkZkRkUrZ3dKRDdPc1lIZG1Eb3VQeHd5OGJqSXdGcE5VMDRseDI5cm16Y3JPaG8xNG5NT0drQ1NHQm9hZWlsQTBVVGtpZHpUSGJpL1BqbzYrdlJ5alBUQlBYcXZEaUxnK1BOdnNYTDJTOHlPcjdWaXRBMVl3Ky9XYnRNM2VEYnd3ZmlLaHQ4TTBhVXZaMHFCTXd0c1BPK1ZabVhlNlRrSERZRHhycjMyMmhWd2xYTncveTZnZWNRUGdtL1BtemZ2d1QyU1l6U04wQ01CV2MxemtKalZUTkNtQXI3eFVQeFBSbFFQV1luamE4VlMrS0pMaVEvYlA4cDNGbkxnUXkyaVJxRnhhdTFCYmZ3TjQvbFpVZXlwbFo5VFRuUHp6VGQzQ3pDQTVUenVKWThtOUd2SlRPYW1XVG5WUVU4M1Y0MithMVVvZkEvaCtBdU1xTmJCY2R4eVVKME8rbUMrWkJ2ejZvbkNBd09TQ2I4Nmxra05Icjl5NWF5dEJuak9RQk5wZkY4SGg1SGdXK1M2S2xXdC90ZGIzc0k2aytmTjA3ZkF6UjlHbXpmMUE1WlZmTjJLRTQreW9Nc3QwTXF5SEhRRHgrVlgyZndnYmxNdFZtdnJ6Qjg3bXkrYlAzMmhlNWJpT1FHTmRrTXVYTGhRU3pVL2d2eXlDTUJjd3hyZnI3NzVIZStZTlFsL3p4Ny9BRS8xL1k4d3haMzRHakxPeFZZWUdYUUhQYll1NGt0NU9kczYzR2ZqUXpuMjZSV3FJOWtDMHZIc2RlSFBDV2dBeW1GTUMvdzFvTkZTaC84Qk5GOS82MXZmdWhsYjNmRHpabTlhUUY4Tkx2bFh3bW11aGVQd3BUR3pJZlo5cjluMkJQdnpzb3kzYTdXV29Eb3I2MmppMjNyV1FTTXVRK1YveC9WbXJ2VTgwK2VZaUZ3TFlHYU5mY1lQZDlEWU4xNDB5b2ZQUG1mREcyK3hpZTNsV21uSzFrejIybVRBQXEyRTFVNHF5REY3NWxrRkRWTUVMWENadjRIRHZCT1E5SEw5SzdxWUg4M2U0eHpFSmQzNGtRMVdHdTloMWQrdm1ZK3FqTERHWmx1cG55RjNyWmFvWlE5TVRpTU93MW05YndRd2Z3NXBSd0hNTjRlSGg2L0ZmcjVMbWkycy8veEx6TlZWLzVHVHVCN1RVb3BOZk1LNUVCU0MzdEs2R2U5QWFMekZaNFhUYUtURUhOTHZVUEZudUpvQXpyZVFhUzVHRi9Qc0h3UFMrUFJ6MFgzYjUvOExCYzAvV2FxMWIxTWx4MWRkdHRYSzJkS3M2V2pVWkd5a2VXYU5OcmN4VWpxYUxiUWZvMnM2R2hubTF3RG9xOHdwUFhQSG1UMnpqN1QvbDk1V1hHM1dlV1MrT1Btbjk0eXNIMWxZSHB3MUhZMGUvaGtIRFp2MEJSUU5yVjhGaDFsSGQvUkpBUFBvL3QveUIvQWQzbnhKMFk3OC9YOHJ0clRsSGgwZm1OOC84ZUNzcmFWNXhrR0Q0S3VsRHU4Q0xLK25za0dBOHhWR1NuY2N3T1JBTjg4ODF5VTNwMjFrVVR2YXRCWkxzbjJ4b3JOV09jNHp6K21NTGZvS3JSYTIvTEJneitYNU9CdHVHYmRUejdyT1ZyenBkZU9iRGsvWStKV3oxdXlNNnA4WmcrRGJDVmZSbk5JbnNQa0NoZmQ1T003bGJHNmJWZFEvTTNlL20xTGYrcVY1ZklsaU1XZkZITTRtb3FNNXhlRTR5M0NNUTFOellKbTJ3Rm83T0FZMlUyT0R0ZFpkYmtEUmRwY2x5dHRzdUdPTFhYTE1yTW9VdTdtNzNRZTk1L3FYV052Q2YyZHk4d1pyN2Z5cVhmTHlXVmxUODR4MFQ5Lzg1amM1ODkzZXlQVUJ3TUs4dlgyREw1dDhseVdiZS8wTjZOMjN4ck1ZZXVZL0xyVnljYVZseDEvSjZpYVVrZDRTN0VWY1hleTk5Z0ZQbjdXMFAycWRTOGF0ZmQ2eHJOczlraW5tUE9EWnpEckxyZGFaKzRWOThyNWY4WkdEZSt3VFIrM1RsOXoyK1dsYnVrNWlIL2NwZ0pyWnpNSW02N2wxdFRzMGU1OExERFBPT21qZ01Nd0lKRTZHcTV4SEZjY0NtdTl6WGMzNWR3UFlCNDRDRHdIZWJ2ZCt4eXJscytBYUsrRWVoOUkzdGFKaTFaY3Fpb3hRV1BoZCt4V3p6TDlrYmN1ajd0dklDZjk0U3pXZnkwbFhLMGw3TW1sT3dINkorWlUzOEUzTVg5cW4xOTdBVVluMzJSZE9tbFZsMjVOaVFQVUhKWlNwd2RIY3kvbTJ0WG9QYVI5KzB2UjdHREhyM1JNbmhiK1lrWkxPOFgwSDEyOTRHZi9xOE1NUFgzdktLZXdpUEZETW15N2xUSTkrVmhFR2YwVmo2OHN0NHB5aDRZT3BoUCtRYWVYL05LLzBzQnBFRmdBQURrbEpSRUZVTUorMkhyZWJMOUhDM2NCV2ZiSFpqbjMxTXZOU2Z3eWdMaUprWHBSTHV5aWs0bjhjKzRlV3JIekxlazdkRU1VOU05WUZsNmFzOW9JZmNEenQ2M1JyL0hOYVFPM0xsa2w5MGI1NnhveVVmYlBLYWVBeUM5Ry92Rk9DTDF6bGNiak4xMUhnM2YrSGYvaUhCdzVnVHY5SXMwMzFuUWVCTDZBck9sbHpPZFBHazJ4eUJjZGsvb2NOTHRoZ2EzWmF1N3o2THpXMDNXQ2Z1dnZmNFRib3dBTEFZNHNJWXdXNGRlRStHWHVwVmRLTDdXL3UvNGI5NDR2dnh2OE1tY082V1VwekJFRGhOc1RnYTUzTWM1OW1VN1VYNEZrN2swcG5UYm5IUjdqbUFaYXpBTXE3dUtFUzduL2pzMzQzWG5EQkJRMDZBcTJ3MDdXZm1sVUFwbTMrZTFobTlGZlFtYTZGVzNYYlJXVDdQSWQvSThlRGZNRmVYbjFzRjhCTVB4S3F0Vk8yVzZMd1dXU2FmNXNPZHE0a3dGbE85L1pPTkxmLzJ6NjI5cFNkNG1mUFcwc3VSSzVhd0FWZVlIUTFkYXVWWTFpODlUTHFueEVOWmdVMEYxOThjUVpCOTlWd0Z4MW54dko0K3dGZDFJL1dyRmt6UWhpOE1UYU43amhzUDdGWFhaV3d5ZTZ6MkJieUFRVGNRd0ZMS2p4a2lDWnl1eHNURDhGaHZtQXJyWGVQaHRJOWpGUlN1YStCdXl2ZEU2b1Y0cFlJZ25iZS9sZGIwdnVvZmV3M3YvV012RWpWWXJNRlpUNXFCV0FjdDVGZGhlc0ZKOW5acXp0bTB1b3pCbzBFMzJYTGxrbmcvVk51NUhpdTIzQmZnZUM3ZGZmSG1lMm53SmxjLzFzTXB6OEFXRjRNV0FBTVBZcU9ZdFhGNGJ0Y2w5bWhDKzdlSThERUZPazVYU2RwOWdDV2grS2d5QmJyNHVOUTlpWk94UHFVZmZwZWpvcWQyZHUvVS9sOEs2cmFCRWlTSVpjQk1EcUZvbHB0WTd2dkVaYXhoYnVrMzR1QUdjczBqSlJXSU1kOEdLQ2NTYjFhRy9NbFpKaGY3OFU5UFBkSjMvVEZFMmpNRDlGenZnTE9JS1NFOXhRemNjLzdvYlVjY2prbmRPNmxiTVlMOGcvMm1QM05QZjhMNEh5ZHR4eUZZR1RZWFlKZndIa0xaNFZNMk1mWGZoYjNqRWMyY2ZHQWZ6N1BsSEwrV0s0SjlHVXlaS3VhMTFsUHR3K09HWEVhdU14OHVxTS9ZWVIwTm5YZmkzMHhlN0RabjNNQW1UTy9PSjlHZkFjYzVYVndrNFE3R0ZwZndrM3dQc0Z3bURIdUkvd2ZiUFVNUHNwUm5md3hRc1cvQXh4Tzg2UnQzSmxtT09JdUs3QzN3OTNlYVQwYjQ5SFd6QnZRcTRqVCtHNWpuWTVsbTc3U2dIUjZOTGdQTmUwemFLNjQ0b3BXNnROU2gvTzVwR244TGtMdzl3K29BeE43K0x4eXhuc2hCUHQ5QUlLeVRrQ0pMb0Vtd2ZIZ2Z1cG11K0V2ZnJNUGJUdWQ1Zkh0dEUvaVNzRHlxQU9Nd0tJQlRReWdtdlEvd1IreFNQd1Zkc0hkSVhlWXpyMXZMcjRORFZEWUwwZTNwQ1BaQkJvbjM3Q3JMbEhNN0Z1aFlTNWFadStONUJpNGloYUZmNXBMSDdPNGhrMzZsN01vZk04MW5pS1lQWkcyc2JFbWErRWhhdVdTTmYxa2ZLOWtocjIvOVIxejNQdTFidk9iMFdQVVh1d2lORklLSGZSUWNudkRmRzdudTFIZ3ZsdmFXdnV4WDJ4aTQvWC9wYnkvb1J0RUVCWmlHa3dOQlp5aDIrbTA3V2h1NzV1eDVoYVpBUm1HU2dDTjBLbjZ3anJaUCtlTzEycW9mTytjK3dRYXFuZ1pZTkdjMG5LdTFRRG9Ld0NtL3ltcnZ2aXhqUFVOejdPQVl3Nm1pZ3NzZHkvRHdXQUpFMzdMMmJDRFdqNzlnSTIvOW52SWpjL08zSlNVWDJPcGw5Q3dyNk1SVzBLUTZBa2k0TERKakM3cis5YmtyWG5LNTlyVHlNKzlJbXVmdlBjNnZvZk5NRHQ0SzlrMC9KNDJqcURlNzlFbUQ5a1l1aDdqZDIrTUJPbkdrV3JBbDhWcWZDdFg0dzdOcDhZMklqTEEzVXZaYk1jYjJXdlE2Rk4vQU9XdktlWkV1aU45NnU4YkNMNVBMOEJ0elI5dTFlVGJ6SzhlaTV5d25EZGdLZlNaVHptZE5GNEwxNTNzUzViUzZka1JvaWZicWJmd0tycWY0MmhWcW0za01uak4zMGIzZEpVMVRhcnJuUVVEMVRJYk4zTVE0N2ZnTkNjQm5HTWNhQnFCWTN5ZngvUGVncng4dFYwUXJMWEx2TDBscmg0aUxMRlVaczdQQ2I1aFVKM1RNQVZTOWZNemVhQzlrbWtrK0xLQTZud3FmRE5nZVJ6NzByR3hzVDBUZklOU053M3lIaDdwZkZEL0d1d1hrWDhaVnl2MDRxOTJLSVI2a1oxLzY0eUVOTXA3ZWlPZFRNMWZEbUFBamQ4V0NyKzhQNkVjZzUzbWJVejgyQ1k2N2phZGhUZGJwdWVJZ2lXYWY0bWk3U2JlL3Ntd3U0REdqcURRVzlpdEJVY1I4RWZXc2dhTjdsNllrTXRNUXpDb0xVWS9nMEtQN2tuZi9YWUt2aXB5VHJXZkNkaWh2U2g1bDZSN0RCcDlGSjNjNXdPV0QyQm4xU1h4SmJmVmU3UjlWdFdXa3c5eTkzZklPVzMwalBIRnpMR2g4SnJYY2NSMC9EUGs2ckkyOXBhK0hLSDNaSUFUanBKMnNQMk5URkorMzA1dG5mMk5lK3Z2SDJNbjIyckE4VXM0RGtzcDRpWVFlSERYa1BVOE5NWUJYZFcrR3ZkU1ZGN2d3QUpPM0NjUmRUeEpyY0paSk5WN3JhbmN0NjlGSzk4ZWdVWnJmQ2NtSnM2Z1d6cWZhejdYZHdITjZqUFBQSFBQWjJ1Ly9KSXhDUFFkZU1yZ05GQ2lXM2U0NGFqS2dJOThKYmd1Q0dabkJMSDdsdkhZQUx3RVVQd2UzS1REalpZOHVFeGRrZWNqeTZSK2FrSHEvaGtMbzd1clgwS3haUjhFSE5mQ2NYcnI3MHk5K3lCVG9LVVh0WGZiUng1VTk3MzNwaks4QU1DYzVCUjZicWhObFNHbjJjcW5FZGZhNm8vTTZGdFlld1FhZEMrL0E0ZjVjKzVlazEwM0k4dDhqaVdiZTc4YnNweUQwM2hYY09ub2xGMndRd0NzdWZaNmExMTcyTjYzMUI3bXVPQlNCTkRVcWJ3dnJJOUpjQ3Mwd1E1WFlodEUrNkcxcFFIM00yUytmTWFZZVcwL3BGdTZsbXNZQVBIWTFLVTJjVjBVZHRWZXhZSFVmN1JQZDFBdHZoelFTR0VaZzRXeTJUQVh3T21yclhmeHdLcHBuODNUZ29hajVZOEVNTnB2clJIVDNWei93ZXE3emZ0VTQ1ZCtXeHVNLzVPOER6eEovZ3dOOXdwVTY3OXRIL3JWak9aSG5xUjhYdkxsQ0lnRzYxZDN1SXVSOHUwWDdKRit5Qzc3ZzZsZFltY3pZTnNEQTdTRmh2UC9UWjE1QjVnZFNjbmNVZTBDdStqT0YrNVZ0Vy83ZDdoTTdlMk0wcFEvQkUwQUttdFZYb2JxTGRiUnRmY3YrMDQzOEpTZzBUZXVBWWttSVY5SHZuNm1ERDdMdVRHMzcxVEczbmxiWHJxT0I3cVlURHZxZERUMTRxWmZ2T1ZvTWM5bFJaeG1ZNS95L3ZhdVlsS3Z2RFZwU1daNWZUMVBBSnZaMlREY05RalpsdDB5MDdkeDU1SjM4YXVibXRlMkJtTCtHMExDTGNSUGoyanFYVldnZWJCUDJFVjNMZGtsLys0Q0pNc1VTKzlCWm5xRDY0N3FrNVcxSWRyeU9zdTMvQVROTm4zVnpNeVRFb1dSa3I3Y2RoYkZuODJsZFNUZlJGLzBzejBXZkovc3ZuclVOVlYrQWxHdWNTQ3BnMFVaZU5VNDVBanJkSlI5WjluSEh0b2ROM2l5a3A4Ky9LakJEcVlNM2tVZHU1YnJlZWhGdk5WV1RkOHhxeU9tcDdvckhkRTZPWFVQejNzcFhkUlBzQXZjVzBNTzEzLytQbkxlUisyaVc1OGFPQ3Q3a3BiZjhrYTR5WjhDbUlVTlhLYU0rd1lyMTc1cHQzMXd6MlhRaHJ2WTJibGIwQUNZTkFsZkEwajBRZEZ1aE42dmNYMXYxajZSTSs5SG02MVVnZHNFOTdwT1BINnoxRjdoMWNIdy9GMGNGWGEyZmZ6dUdVMnU3ZkRBQlorWEFOYU5OaSt1S0xUUnN3YzE1b2VxVjlteGYvRHNLQmZqRzd2OGpJTE5QNFc2N1pOY2x3TWFkUiswZ2xRdXpyVU1nWm5aOTVaL3RUKzdjNlZKS2Rsb3BOUjc2K2VPc3BiV3YwSHcvUmVlNHhpQVF3bE9PT3FudlA5QTRQOG5lMVZwdlN1dE1lOCt1cU03bTg0TlNEd1dWTDBDWWZlVFhMOUx6STNZbno3NjZLUFh6K3FTelEraElVNk92NDkrL2RPOC9idStSUnd3Q0lFM0FaNlBXblh3QnJ2a0RUTmIwZi9lN3gvQ3lPRjZTajJaRm0xNGJxSFViamV2OGsvV012bVRaNDNMVERkNTZGTFhrajYwMVJiWUs2M2l2NUYyK1MyQWN4TFBINExFOHdGMnNJbnJHazR3LzVtTlB6NXNreE5vMVV1dkFDVFNKQU9XR25LZ0cza2lMOW5QV0Uvei82eVMrb1hOUDNwc05ycWwrSlliR2k4TXV2cnFxNC9COVZuQTh4YnNuOEZoUG5QLy9mZmZ1ZnUxTVhFeCsyaC80cjR1K3VCM2tQc3pFSE9SWUJLYXlDSExRNlZldFkrd01QdkhwcmR5WDgyNTMvczZXZC92WHVLdzNMQ2tJSGlFc0k5WkpYblRiRGJzdnQ1bVBkLzV0ODR6ZitwMERweCtKVUE1SHRubVNQUXN5eGxSc2JPQUQzU1g4bnl5dVlJbW5lVVZRWFdDVWRkRFBNZDZ3dTVBRVh5Ny9lUlQrSjhaVXdjTklQRy85NzN2SFlHdyt3R3F1b2pyY1VaTW4yREo1bTF2ZU1NTTMvS251dmVQM05Gc1h2SXNWTnQvQVdjNUNTYXc0OVJHU0dBMG1ON2xWaXQ4eWJxWGoxalA0WENkUFJnMmluVy83ZkpPYTJtU0p2cnozQWJkcnRpMmpOYjdCZy9UVTMzVnhnZXZzSnMvUEROT0ZoYjZ6UHlLQzZXR09teTgyTVg5TDRHck1BWENiTFhudzQrMTBMMDZ5SnF1N1hiYVNQYlptUEIxb0ltNnBQbDBRMW9VcnAwRW5BanBmeFhBWEFwZ0pwNlpsbWdvdGFlM3hVYTJ2UWF1OG5jMEF0c3VtSVBabmZHQy83SXFLK2lLNVR0UXlvM1lwUy9UU2NzUlc5b3BnNVlZbE81ZllLWDBCeWp6Z3dCRWFuVVNPVEV1aTJNRGpmMHZsckxyN1Z2dm1SVUJjYWM3bUxOZUJ4cU5sQURKbVR6bFB3TVl6WGxjZ3Y4eXR0QnVmZGFlWEJ5bmhzSXQ4T0VLM3F1cFZ5T2NwbnI5RGhydWgxRU9Lbmp6dFQyRHMxamErcTB5UG01Zk9wMnVDd0QxTUt6ZXNMblR5djZwbEhVdXdEaUg4RkF1MENJb0M2U0Z2Wkg4MzdhcjNpbGw0KzVCVjYvNGVjZk9MZUJBdy9IeXJ5TGlNd0RtRmRnM01pbjVhVFMrVHo5enZYTnBzK0gvczE4ZndRN0Zjd0RPYXlEb3NYQUhXTElINTRsME5scm40b1JrTFIxZzlCWDR0OEk4MWlBYlBXNVZ2Z0U1TmJ5TXlmOHp6S3N5U25MNU5YTXNwZDB3OXYzY0l2TStDTVNyMzlzM0c3ZDdNSmJod1dVV0lydDhoWWVYQXU5bmRGR2ZaMmo5QzhMaXp2L1piNWNlNXFFbTdqMmNpYmJUNmNOL2krN3FPTUF4RHplakEzOGhkaXU2Q0tZRFlCTFZXb2xSUWg5Yk16WllPY2RIdFFxSEVyWUVRSEVtcWdNV2szVGVGZ0R6VTVqS2Y5djN6bnYwMlgrZ3VWVmpFc0ZYSCtBNmtjZGFEMUF1YjI5di8vVnpDaGkxYjQ5WDR2ZFJoTHIxMXZzSE4xcHo3UWo4YkRLckxVTHBkeUp6S29jdzFPd0NLQm0yellLUENoMVBpUTg3c3VqSUxkbncxZ0tRclFpTURObVRqNW5QMFAyRjcxNGZIbFN0Q3A0M00ya0JUMnQ5RVhqZkJsQnlkRXUzN1BmbitKNy96WGtJdDUwSXhPM29LMXJnS2dFYVU1WVlBSmhhVU9DTGF3anVmT1c4aTBQbmxtMS9iby83bUFsbDl1TzgveDl0ZVF5YTE0bTZUZ0FBQUFCSlJVNUVya0pnZ2c9PVwiXG4gICAgICAgIH1cbiAgICAgICkgfSlcbiAgICBdXG4gIH1cbik7XG5cbmV4cG9ydCB7XG4gIEV4Y2xhbWF0aW9uTWFya1RyaWFuZ2xlSWNvbixcbiAgRXhjbGFtYXRpb25NYXJrSWNvbixcbiAgQ2hldnJvbkRvd25JY29uLFxuICBDaGVja0ljb24sXG4gIENvcGlsb3RLaXRJY29uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUElGNUtKWUkubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PIF5KJYI.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PMAFHQ7P.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-PMAFHQ7P.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StatusChecker: () => (/* binding */ StatusChecker)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\");\n\n\n// src/lib/status-checker.ts\n\nvar STATUS_CHECK_INTERVAL = 1e3 * 60 * 5;\nvar StatusChecker = class {\n  constructor() {\n    this.activeKey = null;\n    this.intervalId = null;\n    this.instanceCount = 0;\n    this.lastResponse = null;\n  }\n  start(publicApiKey, onUpdate) {\n    return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(this, null, function* () {\n      this.instanceCount++;\n      if (this.activeKey === publicApiKey)\n        return;\n      if (this.intervalId)\n        clearInterval(this.intervalId);\n      const checkStatus = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_0__.__async)(this, null, function* () {\n        try {\n          const response = yield fetch(`${_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.COPILOT_CLOUD_API_URL}/ciu`, {\n            method: \"GET\",\n            headers: {\n              [_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.COPILOT_CLOUD_PUBLIC_API_KEY_HEADER]: publicApiKey\n            }\n          }).then((response2) => response2.json());\n          this.lastResponse = response;\n          onUpdate == null ? void 0 : onUpdate(response);\n          return response;\n        } catch (error) {\n          return null;\n        }\n      });\n      const initialResponse = yield checkStatus();\n      this.intervalId = setInterval(checkStatus, STATUS_CHECK_INTERVAL);\n      this.activeKey = publicApiKey;\n      return initialResponse;\n    });\n  }\n  getLastResponse() {\n    return this.lastResponse;\n  }\n  stop() {\n    this.instanceCount--;\n    if (this.instanceCount === 0) {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n        this.intervalId = null;\n        this.activeKey = null;\n        this.lastResponse = null;\n      }\n    }\n  }\n};\n\n\n//# sourceMappingURL=chunk-PMAFHQ7P.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVBNQUZIUTdQLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBSTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNERBQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0REFBTztBQUN2QztBQUNBLDBDQUEwQyxxRUFBcUIsQ0FBQztBQUNoRTtBQUNBO0FBQ0EsZUFBZSxtRkFBbUM7QUFDbEQ7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVBNQUZIUTdQLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBfX2FzeW5jXG59IGZyb20gXCIuL2NodW5rLVNLQzdBSklWLm1qc1wiO1xuXG4vLyBzcmMvbGliL3N0YXR1cy1jaGVja2VyLnRzXG5pbXBvcnQge1xuICBDT1BJTE9UX0NMT1VEX0FQSV9VUkwsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbnZhciBTVEFUVVNfQ0hFQ0tfSU5URVJWQUwgPSAxZTMgKiA2MCAqIDU7XG52YXIgU3RhdHVzQ2hlY2tlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5hY3RpdmVLZXkgPSBudWxsO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IG51bGw7XG4gICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMDtcbiAgICB0aGlzLmxhc3RSZXNwb25zZSA9IG51bGw7XG4gIH1cbiAgc3RhcnQocHVibGljQXBpS2V5LCBvblVwZGF0ZSkge1xuICAgIHJldHVybiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB0aGlzLmluc3RhbmNlQ291bnQrKztcbiAgICAgIGlmICh0aGlzLmFjdGl2ZUtleSA9PT0gcHVibGljQXBpS2V5KVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbElkKVxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgICBjb25zdCBjaGVja1N0YXR1cyA9ICgpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke0NPUElMT1RfQ0xPVURfQVBJX1VSTH0vY2l1YCwge1xuICAgICAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICBbQ09QSUxPVF9DTE9VRF9QVUJMSUNfQVBJX0tFWV9IRUFERVJdOiBwdWJsaWNBcGlLZXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS50aGVuKChyZXNwb25zZTIpID0+IHJlc3BvbnNlMi5qc29uKCkpO1xuICAgICAgICAgIHRoaXMubGFzdFJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgICAgb25VcGRhdGUgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVXBkYXRlKHJlc3BvbnNlKTtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgaW5pdGlhbFJlc3BvbnNlID0geWllbGQgY2hlY2tTdGF0dXMoKTtcbiAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGNoZWNrU3RhdHVzLCBTVEFUVVNfQ0hFQ0tfSU5URVJWQUwpO1xuICAgICAgdGhpcy5hY3RpdmVLZXkgPSBwdWJsaWNBcGlLZXk7XG4gICAgICByZXR1cm4gaW5pdGlhbFJlc3BvbnNlO1xuICAgIH0pO1xuICB9XG4gIGdldExhc3RSZXNwb25zZSgpIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0UmVzcG9uc2U7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICB0aGlzLmluc3RhbmNlQ291bnQtLTtcbiAgICBpZiAodGhpcy5pbnN0YW5jZUNvdW50ID09PSAwKSB7XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbElkKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5hY3RpdmVLZXkgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RSZXNwb25zZSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQge1xuICBTdGF0dXNDaGVja2VyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUE1BRkhRN1AubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-PMAFHQ7P.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopilotRuntimeClient: () => (/* binding */ useCopilotRuntimeClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-ICIK2BSB.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-FXYV7IUL.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n\n\n\n\n// src/hooks/use-copilot-runtime-client.ts\n\n\n\nvar useCopilotRuntimeClient = (options) => {\n  const { setBannerError } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_1__.useToast)();\n  const _a = options, { showDevConsole, onError } = _a, runtimeOptions = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_a, [\"showDevConsole\", \"onError\"]);\n  const lastStructuredErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const traceUIError = (error, originalError) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__async)(void 0, null, function* () {\n    try {\n      const errorEvent = {\n        type: \"error\",\n        timestamp: Date.now(),\n        context: {\n          source: \"ui\",\n          request: {\n            operation: \"runtimeClient\",\n            url: runtimeOptions.url,\n            startTime: Date.now()\n          },\n          technical: {\n            environment: \"browser\",\n            userAgent: typeof navigator !== \"undefined\" ? navigator.userAgent : void 0,\n            stackTrace: originalError instanceof Error ? originalError.stack : void 0\n          }\n        },\n        error\n      };\n      yield onError(errorEvent);\n    } catch (error2) {\n      console.error(\"Error in onError handler:\", error2);\n    }\n  });\n  const runtimeClient = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return new _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_3__.CopilotRuntimeClient((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, runtimeOptions), {\n      handleGQLErrors: (error) => {\n        var _a2;\n        if ((_a2 = error.graphQLErrors) == null ? void 0 : _a2.length) {\n          const graphQLErrors = error.graphQLErrors;\n          const routeError = (gqlError) => {\n            const extensions = gqlError.extensions;\n            const visibility = extensions == null ? void 0 : extensions.visibility;\n            const isDev = (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_4__.shouldShowDevConsole)(showDevConsole != null ? showDevConsole : false);\n            if (visibility === _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.ErrorVisibility.SILENT) {\n              console.error(\"CopilotKit Silent Error:\", gqlError.message);\n              return;\n            }\n            if (!isDev) {\n              console.error(\"CopilotKit Error (hidden in production):\", gqlError.message);\n              return;\n            }\n            const now = Date.now();\n            const errorMessage = gqlError.message;\n            if (lastStructuredErrorRef.current && lastStructuredErrorRef.current.message === errorMessage && now - lastStructuredErrorRef.current.timestamp < 150) {\n              return;\n            }\n            lastStructuredErrorRef.current = { message: errorMessage, timestamp: now };\n            const ckError = createStructuredError(gqlError);\n            if (ckError) {\n              setBannerError(ckError);\n              traceUIError(ckError, gqlError);\n            } else {\n              const fallbackError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({\n                message: gqlError.message,\n                code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitErrorCode.UNKNOWN\n              });\n              setBannerError(fallbackError);\n              traceUIError(fallbackError, gqlError);\n            }\n          };\n          graphQLErrors.forEach(routeError);\n        } else {\n          const isDev = (0,_chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_4__.shouldShowDevConsole)(showDevConsole != null ? showDevConsole : false);\n          if (!isDev) {\n            console.error(\"CopilotKit Error (hidden in production):\", error);\n          } else {\n            const fallbackError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({\n              message: (error == null ? void 0 : error.message) || String(error),\n              code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitErrorCode.UNKNOWN\n            });\n            setBannerError(fallbackError);\n            traceUIError(fallbackError, error);\n          }\n        }\n      },\n      handleGQLWarning: (message) => {\n        console.warn(message);\n        const warningError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({\n          message,\n          code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitErrorCode.UNKNOWN\n        });\n        setBannerError(warningError);\n      }\n    }));\n  }, [runtimeOptions, setBannerError, showDevConsole, onError]);\n  return runtimeClient;\n};\nfunction createStructuredError(gqlError) {\n  var _a, _b, _c;\n  const extensions = gqlError.extensions;\n  const originalError = extensions == null ? void 0 : extensions.originalError;\n  const message = (originalError == null ? void 0 : originalError.message) || gqlError.message;\n  const code = extensions == null ? void 0 : extensions.code;\n  if (code) {\n    return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitError({ message, code });\n  }\n  if ((_a = originalError == null ? void 0 : originalError.stack) == null ? void 0 : _a.includes(\"CopilotApiDiscoveryError\")) {\n    return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitApiDiscoveryError({ message });\n  }\n  if ((_b = originalError == null ? void 0 : originalError.stack) == null ? void 0 : _b.includes(\"CopilotKitRemoteEndpointDiscoveryError\")) {\n    return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitRemoteEndpointDiscoveryError({ message });\n  }\n  if ((_c = originalError == null ? void 0 : originalError.stack) == null ? void 0 : _c.includes(\"CopilotKitAgentDiscoveryError\")) {\n    return new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_5__.CopilotKitAgentDiscoveryError({\n      agentName: \"\",\n      availableAgents: []\n    });\n  }\n  return null;\n}\n\n\n//# sourceMappingURL=chunk-Q3MCVRO3.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVEzTUNWUk8zLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFNQTs7QUFFOUI7QUFHd0M7QUFDQTtBQVFaO0FBQzVCO0FBQ0EsVUFBVSxpQkFBaUIsRUFBRSw2REFBUTtBQUNyQyx3QkFBd0IsMEJBQTBCLHVCQUF1Qiw4REFBUztBQUNsRixpQ0FBaUMsNkNBQU07QUFDdkMsaURBQWlELDREQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLDhDQUFPO0FBQy9CLGVBQWUsZ0ZBQW9CLENBQUMsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlFQUFvQjtBQUM5QywrQkFBK0IsK0RBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLHdDQUF3QywrREFBZTtBQUN2RDtBQUNBLHNCQUFzQixtRUFBbUI7QUFDekMsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysd0JBQXdCLHlFQUFvQjtBQUM1QztBQUNBO0FBQ0EsWUFBWTtBQUNaLHNDQUFzQywrREFBZTtBQUNyRDtBQUNBLG9CQUFvQixtRUFBbUI7QUFDdkMsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxpQ0FBaUMsK0RBQWU7QUFDaEQ7QUFDQSxnQkFBZ0IsbUVBQW1CO0FBQ25DLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtEQUFlLEdBQUcsZUFBZTtBQUNoRDtBQUNBO0FBQ0EsZUFBZSwyRUFBMkIsR0FBRyxTQUFTO0FBQ3REO0FBQ0E7QUFDQSxlQUFlLHNGQUFzQyxHQUFHLFNBQVM7QUFDakU7QUFDQTtBQUNBLGVBQWUsNkVBQTZCO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1RM01DVlJPMy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgc2hvdWxkU2hvd0RldkNvbnNvbGVcbn0gZnJvbSBcIi4vY2h1bmstSUNJSzJCU0IubWpzXCI7XG5pbXBvcnQge1xuICB1c2VUb2FzdFxufSBmcm9tIFwiLi9jaHVuay1FRkw1T0JLTi5tanNcIjtcbmltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fb2JqUmVzdCxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29waWxvdC1ydW50aW1lLWNsaWVudC50c1xuaW1wb3J0IHtcbiAgQ29waWxvdFJ1bnRpbWVDbGllbnRcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbFwiO1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBFcnJvclZpc2liaWxpdHksXG4gIENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdFJlbW90ZUVuZHBvaW50RGlzY292ZXJ5RXJyb3IsXG4gIENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yLFxuICBDb3BpbG90S2l0RXJyb3IsXG4gIENvcGlsb3RLaXRFcnJvckNvZGVcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xudmFyIHVzZUNvcGlsb3RSdW50aW1lQ2xpZW50ID0gKG9wdGlvbnMpID0+IHtcbiAgY29uc3QgeyBzZXRCYW5uZXJFcnJvciB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgX2EgPSBvcHRpb25zLCB7IHNob3dEZXZDb25zb2xlLCBvbkVycm9yIH0gPSBfYSwgcnVudGltZU9wdGlvbnMgPSBfX29ialJlc3QoX2EsIFtcInNob3dEZXZDb25zb2xlXCIsIFwib25FcnJvclwiXSk7XG4gIGNvbnN0IGxhc3RTdHJ1Y3R1cmVkRXJyb3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHRyYWNlVUlFcnJvciA9IChlcnJvciwgb3JpZ2luYWxFcnJvcikgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGVycm9yRXZlbnQgPSB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgc291cmNlOiBcInVpXCIsXG4gICAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgb3BlcmF0aW9uOiBcInJ1bnRpbWVDbGllbnRcIixcbiAgICAgICAgICAgIHVybDogcnVudGltZU9wdGlvbnMudXJsLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZWNobmljYWw6IHtcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBcImJyb3dzZXJcIixcbiAgICAgICAgICAgIHVzZXJBZ2VudDogdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiB2b2lkIDAsXG4gICAgICAgICAgICBzdGFja1RyYWNlOiBvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBvcmlnaW5hbEVycm9yLnN0YWNrIDogdm9pZCAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvclxuICAgICAgfTtcbiAgICAgIHlpZWxkIG9uRXJyb3IoZXJyb3JFdmVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgaW4gb25FcnJvciBoYW5kbGVyOlwiLCBlcnJvcjIpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHJ1bnRpbWVDbGllbnQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gbmV3IENvcGlsb3RSdW50aW1lQ2xpZW50KF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHJ1bnRpbWVPcHRpb25zKSwge1xuICAgICAgaGFuZGxlR1FMRXJyb3JzOiAoZXJyb3IpID0+IHtcbiAgICAgICAgdmFyIF9hMjtcbiAgICAgICAgaWYgKChfYTIgPSBlcnJvci5ncmFwaFFMRXJyb3JzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IGdyYXBoUUxFcnJvcnMgPSBlcnJvci5ncmFwaFFMRXJyb3JzO1xuICAgICAgICAgIGNvbnN0IHJvdXRlRXJyb3IgPSAoZ3FsRXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuc2lvbnMgPSBncWxFcnJvci5leHRlbnNpb25zO1xuICAgICAgICAgICAgY29uc3QgdmlzaWJpbGl0eSA9IGV4dGVuc2lvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGV4dGVuc2lvbnMudmlzaWJpbGl0eTtcbiAgICAgICAgICAgIGNvbnN0IGlzRGV2ID0gc2hvdWxkU2hvd0RldkNvbnNvbGUoc2hvd0RldkNvbnNvbGUgIT0gbnVsbCA/IHNob3dEZXZDb25zb2xlIDogZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHZpc2liaWxpdHkgPT09IEVycm9yVmlzaWJpbGl0eS5TSUxFTlQpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvcGlsb3RLaXQgU2lsZW50IEVycm9yOlwiLCBncWxFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0Rldikge1xuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ29waWxvdEtpdCBFcnJvciAoaGlkZGVuIGluIHByb2R1Y3Rpb24pOlwiLCBncWxFcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGdxbEVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAobGFzdFN0cnVjdHVyZWRFcnJvclJlZi5jdXJyZW50ICYmIGxhc3RTdHJ1Y3R1cmVkRXJyb3JSZWYuY3VycmVudC5tZXNzYWdlID09PSBlcnJvck1lc3NhZ2UgJiYgbm93IC0gbGFzdFN0cnVjdHVyZWRFcnJvclJlZi5jdXJyZW50LnRpbWVzdGFtcCA8IDE1MCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U3RydWN0dXJlZEVycm9yUmVmLmN1cnJlbnQgPSB7IG1lc3NhZ2U6IGVycm9yTWVzc2FnZSwgdGltZXN0YW1wOiBub3cgfTtcbiAgICAgICAgICAgIGNvbnN0IGNrRXJyb3IgPSBjcmVhdGVTdHJ1Y3R1cmVkRXJyb3IoZ3FsRXJyb3IpO1xuICAgICAgICAgICAgaWYgKGNrRXJyb3IpIHtcbiAgICAgICAgICAgICAgc2V0QmFubmVyRXJyb3IoY2tFcnJvcik7XG4gICAgICAgICAgICAgIHRyYWNlVUlFcnJvcihja0Vycm9yLCBncWxFcnJvcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBmYWxsYmFja0Vycm9yID0gbmV3IENvcGlsb3RLaXRFcnJvcih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZ3FsRXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBDb3BpbG90S2l0RXJyb3JDb2RlLlVOS05PV05cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHNldEJhbm5lckVycm9yKGZhbGxiYWNrRXJyb3IpO1xuICAgICAgICAgICAgICB0cmFjZVVJRXJyb3IoZmFsbGJhY2tFcnJvciwgZ3FsRXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgZ3JhcGhRTEVycm9ycy5mb3JFYWNoKHJvdXRlRXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlzRGV2ID0gc2hvdWxkU2hvd0RldkNvbnNvbGUoc2hvd0RldkNvbnNvbGUgIT0gbnVsbCA/IHNob3dEZXZDb25zb2xlIDogZmFsc2UpO1xuICAgICAgICAgIGlmICghaXNEZXYpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDb3BpbG90S2l0IEVycm9yIChoaWRkZW4gaW4gcHJvZHVjdGlvbik6XCIsIGVycm9yKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZmFsbGJhY2tFcnJvciA9IG5ldyBDb3BpbG90S2l0RXJyb3Ioe1xuICAgICAgICAgICAgICBtZXNzYWdlOiAoZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpIHx8IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgIGNvZGU6IENvcGlsb3RLaXRFcnJvckNvZGUuVU5LTk9XTlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRCYW5uZXJFcnJvcihmYWxsYmFja0Vycm9yKTtcbiAgICAgICAgICAgIHRyYWNlVUlFcnJvcihmYWxsYmFja0Vycm9yLCBlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaGFuZGxlR1FMV2FybmluZzogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgICBjb25zdCB3YXJuaW5nRXJyb3IgPSBuZXcgQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlLFxuICAgICAgICAgIGNvZGU6IENvcGlsb3RLaXRFcnJvckNvZGUuVU5LTk9XTlxuICAgICAgICB9KTtcbiAgICAgICAgc2V0QmFubmVyRXJyb3Iod2FybmluZ0Vycm9yKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH0sIFtydW50aW1lT3B0aW9ucywgc2V0QmFubmVyRXJyb3IsIHNob3dEZXZDb25zb2xlLCBvbkVycm9yXSk7XG4gIHJldHVybiBydW50aW1lQ2xpZW50O1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyZWRFcnJvcihncWxFcnJvcikge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgY29uc3QgZXh0ZW5zaW9ucyA9IGdxbEVycm9yLmV4dGVuc2lvbnM7XG4gIGNvbnN0IG9yaWdpbmFsRXJyb3IgPSBleHRlbnNpb25zID09IG51bGwgPyB2b2lkIDAgOiBleHRlbnNpb25zLm9yaWdpbmFsRXJyb3I7XG4gIGNvbnN0IG1lc3NhZ2UgPSAob3JpZ2luYWxFcnJvciA9PSBudWxsID8gdm9pZCAwIDogb3JpZ2luYWxFcnJvci5tZXNzYWdlKSB8fCBncWxFcnJvci5tZXNzYWdlO1xuICBjb25zdCBjb2RlID0gZXh0ZW5zaW9ucyA9PSBudWxsID8gdm9pZCAwIDogZXh0ZW5zaW9ucy5jb2RlO1xuICBpZiAoY29kZSkge1xuICAgIHJldHVybiBuZXcgQ29waWxvdEtpdEVycm9yKHsgbWVzc2FnZSwgY29kZSB9KTtcbiAgfVxuICBpZiAoKF9hID0gb3JpZ2luYWxFcnJvciA9PSBudWxsID8gdm9pZCAwIDogb3JpZ2luYWxFcnJvci5zdGFjaykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmluY2x1ZGVzKFwiQ29waWxvdEFwaURpc2NvdmVyeUVycm9yXCIpKSB7XG4gICAgcmV0dXJuIG5ldyBDb3BpbG90S2l0QXBpRGlzY292ZXJ5RXJyb3IoeyBtZXNzYWdlIH0pO1xuICB9XG4gIGlmICgoX2IgPSBvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLnN0YWNrKSA9PSBudWxsID8gdm9pZCAwIDogX2IuaW5jbHVkZXMoXCJDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvclwiKSkge1xuICAgIHJldHVybiBuZXcgQ29waWxvdEtpdFJlbW90ZUVuZHBvaW50RGlzY292ZXJ5RXJyb3IoeyBtZXNzYWdlIH0pO1xuICB9XG4gIGlmICgoX2MgPSBvcmlnaW5hbEVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvcmlnaW5hbEVycm9yLnN0YWNrKSA9PSBudWxsID8gdm9pZCAwIDogX2MuaW5jbHVkZXMoXCJDb3BpbG90S2l0QWdlbnREaXNjb3ZlcnlFcnJvclwiKSkge1xuICAgIHJldHVybiBuZXcgQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3Ioe1xuICAgICAgYWdlbnROYW1lOiBcIlwiLFxuICAgICAgYXZhaWxhYmxlQWdlbnRzOiBbXVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQge1xuICB1c2VDb3BpbG90UnVudGltZUNsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVEzTUNWUk8zLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QF3Q5LUN.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-QF3Q5LUN.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLangGraphInterruptRender: () => (/* binding */ useLangGraphInterruptRender)\n/* harmony export */ });\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-langgraph-interrupt-render.ts\n\nvar InterruptRenderer = ({ event, result, render, resolve }) => {\n  return render({ event, result, resolve });\n};\nfunction useLangGraphInterruptRender() {\n  const { langGraphInterruptAction, setLangGraphInterruptAction, agentSession } = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const responseRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef();\n  const resolveInterrupt = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (response) => {\n      responseRef.current = response;\n      setTimeout(() => {\n        setLangGraphInterruptAction({ event: { response } });\n      }, 0);\n    },\n    [setLangGraphInterruptAction]\n  );\n  if (!langGraphInterruptAction || !langGraphInterruptAction.event || !langGraphInterruptAction.render)\n    return null;\n  const { render, handler, event, enabled } = langGraphInterruptAction;\n  const conditionsMet = !agentSession || !enabled ? true : enabled({ eventValue: event.value, agentMetadata: agentSession });\n  if (!conditionsMet) {\n    return null;\n  }\n  let result = null;\n  if (handler) {\n    result = handler({\n      event,\n      resolve: resolveInterrupt\n    });\n  }\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(InterruptRenderer, {\n    event,\n    result,\n    render,\n    resolve: resolveInterrupt\n  });\n}\n\n\n//# sourceMappingURL=chunk-QF3Q5LUN.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVFGM1E1TFVOLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFFOEI7O0FBRTlCO0FBQzJDO0FBQzNDLDJCQUEyQixnQ0FBZ0M7QUFDM0Qsa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0EsVUFBVSxzRUFBc0UsRUFBRSxzRUFBaUI7QUFDbkcsc0JBQXNCLHlDQUFZO0FBQ2xDLDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsU0FBUyxZQUFZO0FBQzNELE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtDQUFrQztBQUM1QyxxRUFBcUUsc0RBQXNEO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxTQUFTLGdEQUFtQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstUUYzUTVMVU4ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLWxhbmdncmFwaC1pbnRlcnJ1cHQtcmVuZGVyLnRzXG5pbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBJbnRlcnJ1cHRSZW5kZXJlciA9ICh7IGV2ZW50LCByZXN1bHQsIHJlbmRlciwgcmVzb2x2ZSB9KSA9PiB7XG4gIHJldHVybiByZW5kZXIoeyBldmVudCwgcmVzdWx0LCByZXNvbHZlIH0pO1xufTtcbmZ1bmN0aW9uIHVzZUxhbmdHcmFwaEludGVycnVwdFJlbmRlcigpIHtcbiAgY29uc3QgeyBsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24sIHNldExhbmdHcmFwaEludGVycnVwdEFjdGlvbiwgYWdlbnRTZXNzaW9uIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCByZXNwb25zZVJlZiA9IFJlYWN0LnVzZVJlZigpO1xuICBjb25zdCByZXNvbHZlSW50ZXJydXB0ID0gdXNlQ2FsbGJhY2soXG4gICAgKHJlc3BvbnNlKSA9PiB7XG4gICAgICByZXNwb25zZVJlZi5jdXJyZW50ID0gcmVzcG9uc2U7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0TGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uKHsgZXZlbnQ6IHsgcmVzcG9uc2UgfSB9KTtcbiAgICAgIH0sIDApO1xuICAgIH0sXG4gICAgW3NldExhbmdHcmFwaEludGVycnVwdEFjdGlvbl1cbiAgKTtcbiAgaWYgKCFsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24gfHwgIWxhbmdHcmFwaEludGVycnVwdEFjdGlvbi5ldmVudCB8fCAhbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uLnJlbmRlcilcbiAgICByZXR1cm4gbnVsbDtcbiAgY29uc3QgeyByZW5kZXIsIGhhbmRsZXIsIGV2ZW50LCBlbmFibGVkIH0gPSBsYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb247XG4gIGNvbnN0IGNvbmRpdGlvbnNNZXQgPSAhYWdlbnRTZXNzaW9uIHx8ICFlbmFibGVkID8gdHJ1ZSA6IGVuYWJsZWQoeyBldmVudFZhbHVlOiBldmVudC52YWx1ZSwgYWdlbnRNZXRhZGF0YTogYWdlbnRTZXNzaW9uIH0pO1xuICBpZiAoIWNvbmRpdGlvbnNNZXQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgaWYgKGhhbmRsZXIpIHtcbiAgICByZXN1bHQgPSBoYW5kbGVyKHtcbiAgICAgIGV2ZW50LFxuICAgICAgcmVzb2x2ZTogcmVzb2x2ZUludGVycnVwdFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEludGVycnVwdFJlbmRlcmVyLCB7XG4gICAgZXZlbnQsXG4gICAgcmVzdWx0LFxuICAgIHJlbmRlcixcbiAgICByZXNvbHZlOiByZXNvbHZlSW50ZXJydXB0XG4gIH0pO1xufVxuXG5leHBvcnQge1xuICB1c2VMYW5nR3JhcGhJbnRlcnJ1cHRSZW5kZXJcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1RRjNRNUxVTi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QF3Q5LUN.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QNJNOZH3.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-QNJNOZH3.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runAgent: () => (/* binding */ runAgent),\n/* harmony export */   startAgent: () => (/* binding */ startAgent),\n/* harmony export */   stopAgent: () => (/* binding */ stopAgent),\n/* harmony export */   useCoAgent: () => (/* binding */ useCoAgent)\n/* harmony export */ });\n/* harmony import */ var _chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-CLAHAV6J.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n/* harmony import */ var _chunk_2MGJO3FY_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-2MGJO3FY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2MGJO3FY.mjs\");\n/* harmony import */ var _chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-Q3MCVRO3.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs\");\n/* harmony import */ var _chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-N4WEHORG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-N4WEHORG.mjs\");\n/* harmony import */ var _chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-EFL5OBKN.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EFL5OBKN.mjs\");\n/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n\n\n\n\n\n\n\n\n// src/hooks/use-coagent.ts\n\n\nfunction useCoAgent(options) {\n  const context = (0,_chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_1__.useCopilotContext)();\n  const { availableAgents, onError } = context;\n  const { setBannerError } = (0,_chunk_EFL5OBKN_mjs__WEBPACK_IMPORTED_MODULE_2__.useToast)();\n  const lastLoadedThreadId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const lastLoadedState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n  const { name } = options;\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if ((availableAgents == null ? void 0 : availableAgents.length) && !availableAgents.some((a) => a.name === name)) {\n      const message = `(useCoAgent): Agent \"${name}\" not found. Make sure the agent exists and is properly configured.`;\n      console.warn(message);\n      const agentError = new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__.CopilotKitAgentDiscoveryError({\n        agentName: name,\n        availableAgents: availableAgents.map((a) => ({ name: a.name, id: a.id }))\n      });\n      setBannerError(agentError);\n    }\n  }, [availableAgents]);\n  const { getMessagesFromTap } = (0,_chunk_2MGJO3FY_mjs__WEBPACK_IMPORTED_MODULE_4__.useMessagesTap)();\n  const { coagentStates, coagentStatesRef, setCoagentStatesWithRef, threadId, copilotApiConfig } = context;\n  const { sendMessage, runChatCompletion } = (0,_chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_5__.useCopilotChat)();\n  const headers = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, copilotApiConfig.headers || {});\n  const runtimeClient = (0,_chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_7__.useCopilotRuntimeClient)({\n    url: copilotApiConfig.chatApiEndpoint,\n    publicApiKey: copilotApiConfig.publicApiKey,\n    headers,\n    credentials: copilotApiConfig.credentials,\n    showDevConsole: context.showDevConsole,\n    onError\n  });\n  const setState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (newState) => {\n      let coagentState = getCoagentState({ coagentStates, name, options });\n      const updatedState = typeof newState === \"function\" ? newState(coagentState.state) : newState;\n      setCoagentStatesWithRef((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, coagentStatesRef.current), {\n        [name]: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, coagentState), {\n          state: updatedState\n        })\n      }));\n    },\n    [coagentStates, name]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const fetchAgentState = () => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__async)(this, null, function* () {\n      var _a, _b, _c, _d;\n      if (!threadId || threadId === lastLoadedThreadId.current)\n        return;\n      const result = yield runtimeClient.loadAgentState({\n        threadId,\n        agentName: name\n      });\n      if (result.error) {\n        return;\n      }\n      const newState = (_b = (_a = result.data) == null ? void 0 : _a.loadAgentState) == null ? void 0 : _b.state;\n      if (newState === lastLoadedState.current)\n        return;\n      if (((_d = (_c = result.data) == null ? void 0 : _c.loadAgentState) == null ? void 0 : _d.threadExists) && newState && newState != \"{}\") {\n        lastLoadedState.current = newState;\n        lastLoadedThreadId.current = threadId;\n        const fetchedState = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_3__.parseJson)(newState, {});\n        isExternalStateManagement(options) ? options.setState(fetchedState) : setState(fetchedState);\n      }\n    });\n    void fetchAgentState();\n  }, [threadId]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (isExternalStateManagement(options)) {\n      setState(options.state);\n    } else if (coagentStates[name] === void 0) {\n      setState(options.initialState === void 0 ? {} : options.initialState);\n    }\n  }, [\n    isExternalStateManagement(options) ? JSON.stringify(options.state) : void 0,\n    // reset initialstate on reset\n    coagentStates[name] === void 0\n  ]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const newConfig = options.config ? options.config : options.configurable ? { configurable: options.configurable } : void 0;\n    if (newConfig === void 0)\n      return;\n    setCoagentStatesWithRef((prev) => {\n      var _a;\n      const existing = (_a = prev[name]) != null ? _a : {\n        name,\n        state: isInternalStateManagementWithInitial(options) ? options.initialState : {},\n        config: {},\n        running: false,\n        active: false,\n        threadId: void 0,\n        nodeName: void 0,\n        runId: void 0\n      };\n      if (JSON.stringify(existing.config) === JSON.stringify(newConfig)) {\n        return prev;\n      }\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, prev), {\n        [name]: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, existing), {\n          config: newConfig\n        })\n      });\n    });\n  }, [JSON.stringify(options.config), JSON.stringify(options.configurable)]);\n  const runAgentCallback = (0,_chunk_N4WEHORG_mjs__WEBPACK_IMPORTED_MODULE_8__.useAsyncCallback)(\n    (hint) => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__async)(this, null, function* () {\n      yield runAgent(name, context, getMessagesFromTap(), sendMessage, runChatCompletion, hint);\n    }),\n    [name, context, sendMessage, runChatCompletion]\n  );\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    const coagentState = getCoagentState({ coagentStates, name, options });\n    return {\n      name,\n      nodeName: coagentState.nodeName,\n      threadId: coagentState.threadId,\n      running: coagentState.running,\n      state: coagentState.state,\n      setState: isExternalStateManagement(options) ? options.setState : setState,\n      start: () => startAgent(name, context),\n      stop: () => stopAgent(name, context),\n      run: runAgentCallback\n    };\n  }, [name, coagentStates, options, setState, runAgentCallback]);\n}\nfunction startAgent(name, context) {\n  const { setAgentSession } = context;\n  setAgentSession({\n    agentName: name\n  });\n}\nfunction stopAgent(name, context) {\n  const { agentSession, setAgentSession } = context;\n  if (agentSession && agentSession.agentName === name) {\n    setAgentSession(null);\n    context.setCoagentStates((prevAgentStates) => {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, prevAgentStates), {\n        [name]: (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__spreadValues)({}, prevAgentStates[name]), {\n          running: false,\n          active: false,\n          threadId: void 0,\n          nodeName: void 0,\n          runId: void 0\n        })\n      });\n    });\n  } else {\n    console.warn(`No agent session found for ${name}`);\n  }\n}\nfunction runAgent(name, context, messages, sendMessage, runChatCompletion, hint) {\n  return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_6__.__async)(this, null, function* () {\n    var _a, _b;\n    const { agentSession, setAgentSession } = context;\n    if (!agentSession || agentSession.agentName !== name) {\n      setAgentSession({\n        agentName: name\n      });\n    }\n    let previousState = null;\n    for (let i = messages.length - 1; i >= 0; i--) {\n      const message = messages[i];\n      if (message.isAgentStateMessage() && message.agentName === name) {\n        previousState = message.state;\n      }\n    }\n    let state = ((_b = (_a = context.coagentStatesRef.current) == null ? void 0 : _a[name]) == null ? void 0 : _b.state) || {};\n    if (hint) {\n      const hintMessage = hint({ previousState, currentState: state });\n      if (hintMessage) {\n        yield sendMessage(hintMessage);\n      } else {\n        yield runChatCompletion();\n      }\n    } else {\n      yield runChatCompletion();\n    }\n  });\n}\nvar isExternalStateManagement = (options) => {\n  return \"state\" in options && \"setState\" in options;\n};\nvar isInternalStateManagementWithInitial = (options) => {\n  return \"initialState\" in options;\n};\nvar getCoagentState = ({\n  coagentStates,\n  name,\n  options\n}) => {\n  if (coagentStates[name]) {\n    return coagentStates[name];\n  } else {\n    return {\n      name,\n      state: isInternalStateManagementWithInitial(options) ? options.initialState : {},\n      config: options.config ? options.config : options.configurable ? { configurable: options.configurable } : {},\n      running: false,\n      active: false,\n      threadId: void 0,\n      nodeName: void 0,\n      runId: void 0\n    };\n  }\n};\n\n\n//# sourceMappingURL=chunk-QNJNOZH3.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVFOSk5PWkgzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUtBOztBQUU5QjtBQUNnRTtBQUNjO0FBQzlFO0FBQ0Esa0JBQWtCLHNFQUFpQjtBQUNuQyxVQUFVLDJCQUEyQjtBQUNyQyxVQUFVLGlCQUFpQixFQUFFLDZEQUFRO0FBQ3JDLDZCQUE2Qiw2Q0FBTTtBQUNuQywwQkFBMEIsNkNBQU07QUFDaEMsVUFBVSxPQUFPO0FBQ2pCLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLDhDQUE4QyxLQUFLO0FBQ25EO0FBQ0EsNkJBQTZCLDZFQUE2QjtBQUMxRDtBQUNBLHVEQUF1RCx3QkFBd0I7QUFDL0UsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsVUFBVSxxQkFBcUIsRUFBRSxtRUFBYztBQUMvQyxVQUFVLHVGQUF1RjtBQUNqRyxVQUFVLGlDQUFpQyxFQUFFLG1FQUFjO0FBQzNELGtCQUFrQixtRUFBYyxHQUFHLGdDQUFnQztBQUNuRSx3QkFBd0IsNEVBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQSwyQ0FBMkMsOEJBQThCO0FBQ3pFO0FBQ0EsOEJBQThCLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUM3RCxnQkFBZ0Isa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQy9DO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEVBQUUsZ0RBQVM7QUFDWCxrQ0FBa0MsNERBQU87QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRJQUE0STtBQUM1STtBQUNBO0FBQ0EsNkJBQTZCLDZEQUFTLGFBQWE7QUFDbkQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLE1BQU07QUFDTixvREFBb0Q7QUFDcEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1gsaUZBQWlGLHFDQUFxQztBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RkFBd0Y7QUFDeEYsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHO0FBQzVDLGdCQUFnQixrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDL0M7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0gsMkJBQTJCLHFFQUFnQjtBQUMzQyxjQUFjLDREQUFPO0FBQ3JCO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxTQUFTLDhDQUFPO0FBQ2hCLDJDQUEyQyw4QkFBOEI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsVUFBVSxrQkFBa0I7QUFDNUI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsVUFBVSxnQ0FBZ0M7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrRUFBYSxDQUFDLG1FQUFjLEdBQUc7QUFDNUMsZ0JBQWdCLGtFQUFhLENBQUMsbUVBQWMsR0FBRztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0wsSUFBSTtBQUNKLCtDQUErQyxLQUFLO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLFNBQVMsNERBQU87QUFDaEI7QUFDQSxZQUFZLGdDQUFnQztBQUM1QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLG9DQUFvQztBQUNyRTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLHNGQUFzRjtBQUN0Rix5RUFBeUUscUNBQXFDLElBQUk7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFPRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstUU5KTk9aSDMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHVzZUNvcGlsb3RDaGF0XG59IGZyb20gXCIuL2NodW5rLUNMQUhBVjZKLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlTWVzc2FnZXNUYXBcbn0gZnJvbSBcIi4vY2h1bmstMk1HSk8zRlkubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDb3BpbG90UnVudGltZUNsaWVudFxufSBmcm9tIFwiLi9jaHVuay1RM01DVlJPMy5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUFzeW5jQ2FsbGJhY2tcbn0gZnJvbSBcIi4vY2h1bmstTjRXRUhPUkcubWpzXCI7XG5pbXBvcnQge1xuICB1c2VUb2FzdFxufSBmcm9tIFwiLi9jaHVuay1FRkw1T0JLTi5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLVlIVDZDV0lZLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19hc3luYyxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstU0tDN0FKSVYubWpzXCI7XG5cbi8vIHNyYy9ob29rcy91c2UtY29hZ2VudC50c1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBwYXJzZUpzb24sIENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yIH0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuZnVuY3Rpb24gdXNlQ29BZ2VudChvcHRpb25zKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCB7IGF2YWlsYWJsZUFnZW50cywgb25FcnJvciB9ID0gY29udGV4dDtcbiAgY29uc3QgeyBzZXRCYW5uZXJFcnJvciB9ID0gdXNlVG9hc3QoKTtcbiAgY29uc3QgbGFzdExvYWRlZFRocmVhZElkID0gdXNlUmVmKCk7XG4gIGNvbnN0IGxhc3RMb2FkZWRTdGF0ZSA9IHVzZVJlZigpO1xuICBjb25zdCB7IG5hbWUgfSA9IG9wdGlvbnM7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKChhdmFpbGFibGVBZ2VudHMgPT0gbnVsbCA/IHZvaWQgMCA6IGF2YWlsYWJsZUFnZW50cy5sZW5ndGgpICYmICFhdmFpbGFibGVBZ2VudHMuc29tZSgoYSkgPT4gYS5uYW1lID09PSBuYW1lKSkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IGAodXNlQ29BZ2VudCk6IEFnZW50IFwiJHtuYW1lfVwiIG5vdCBmb3VuZC4gTWFrZSBzdXJlIHRoZSBhZ2VudCBleGlzdHMgYW5kIGlzIHByb3Blcmx5IGNvbmZpZ3VyZWQuYDtcbiAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgIGNvbnN0IGFnZW50RXJyb3IgPSBuZXcgQ29waWxvdEtpdEFnZW50RGlzY292ZXJ5RXJyb3Ioe1xuICAgICAgICBhZ2VudE5hbWU6IG5hbWUsXG4gICAgICAgIGF2YWlsYWJsZUFnZW50czogYXZhaWxhYmxlQWdlbnRzLm1hcCgoYSkgPT4gKHsgbmFtZTogYS5uYW1lLCBpZDogYS5pZCB9KSlcbiAgICAgIH0pO1xuICAgICAgc2V0QmFubmVyRXJyb3IoYWdlbnRFcnJvcik7XG4gICAgfVxuICB9LCBbYXZhaWxhYmxlQWdlbnRzXSk7XG4gIGNvbnN0IHsgZ2V0TWVzc2FnZXNGcm9tVGFwIH0gPSB1c2VNZXNzYWdlc1RhcCgpO1xuICBjb25zdCB7IGNvYWdlbnRTdGF0ZXMsIGNvYWdlbnRTdGF0ZXNSZWYsIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmLCB0aHJlYWRJZCwgY29waWxvdEFwaUNvbmZpZyB9ID0gY29udGV4dDtcbiAgY29uc3QgeyBzZW5kTWVzc2FnZSwgcnVuQ2hhdENvbXBsZXRpb24gfSA9IHVzZUNvcGlsb3RDaGF0KCk7XG4gIGNvbnN0IGhlYWRlcnMgPSBfX3NwcmVhZFZhbHVlcyh7fSwgY29waWxvdEFwaUNvbmZpZy5oZWFkZXJzIHx8IHt9KTtcbiAgY29uc3QgcnVudGltZUNsaWVudCA9IHVzZUNvcGlsb3RSdW50aW1lQ2xpZW50KHtcbiAgICB1cmw6IGNvcGlsb3RBcGlDb25maWcuY2hhdEFwaUVuZHBvaW50LFxuICAgIHB1YmxpY0FwaUtleTogY29waWxvdEFwaUNvbmZpZy5wdWJsaWNBcGlLZXksXG4gICAgaGVhZGVycyxcbiAgICBjcmVkZW50aWFsczogY29waWxvdEFwaUNvbmZpZy5jcmVkZW50aWFscyxcbiAgICBzaG93RGV2Q29uc29sZTogY29udGV4dC5zaG93RGV2Q29uc29sZSxcbiAgICBvbkVycm9yXG4gIH0pO1xuICBjb25zdCBzZXRTdGF0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgbGV0IGNvYWdlbnRTdGF0ZSA9IGdldENvYWdlbnRTdGF0ZSh7IGNvYWdlbnRTdGF0ZXMsIG5hbWUsIG9wdGlvbnMgfSk7XG4gICAgICBjb25zdCB1cGRhdGVkU3RhdGUgPSB0eXBlb2YgbmV3U3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IG5ld1N0YXRlKGNvYWdlbnRTdGF0ZS5zdGF0ZSkgOiBuZXdTdGF0ZTtcbiAgICAgIHNldENvYWdlbnRTdGF0ZXNXaXRoUmVmKF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGNvYWdlbnRTdGF0ZXNSZWYuY3VycmVudCksIHtcbiAgICAgICAgW25hbWVdOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb2FnZW50U3RhdGUpLCB7XG4gICAgICAgICAgc3RhdGU6IHVwZGF0ZWRTdGF0ZVxuICAgICAgICB9KVxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgW2NvYWdlbnRTdGF0ZXMsIG5hbWVdXG4gICk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hBZ2VudFN0YXRlID0gKCkgPT4gX19hc3luYyh0aGlzLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgaWYgKCF0aHJlYWRJZCB8fCB0aHJlYWRJZCA9PT0gbGFzdExvYWRlZFRocmVhZElkLmN1cnJlbnQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHlpZWxkIHJ1bnRpbWVDbGllbnQubG9hZEFnZW50U3RhdGUoe1xuICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgYWdlbnROYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3U3RhdGUgPSAoX2IgPSAoX2EgPSByZXN1bHQuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmxvYWRBZ2VudFN0YXRlKSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc3RhdGU7XG4gICAgICBpZiAobmV3U3RhdGUgPT09IGxhc3RMb2FkZWRTdGF0ZS5jdXJyZW50KVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAoKChfZCA9IChfYyA9IHJlc3VsdC5kYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX2MubG9hZEFnZW50U3RhdGUpID09IG51bGwgPyB2b2lkIDAgOiBfZC50aHJlYWRFeGlzdHMpICYmIG5ld1N0YXRlICYmIG5ld1N0YXRlICE9IFwie31cIikge1xuICAgICAgICBsYXN0TG9hZGVkU3RhdGUuY3VycmVudCA9IG5ld1N0YXRlO1xuICAgICAgICBsYXN0TG9hZGVkVGhyZWFkSWQuY3VycmVudCA9IHRocmVhZElkO1xuICAgICAgICBjb25zdCBmZXRjaGVkU3RhdGUgPSBwYXJzZUpzb24obmV3U3RhdGUsIHt9KTtcbiAgICAgICAgaXNFeHRlcm5hbFN0YXRlTWFuYWdlbWVudChvcHRpb25zKSA/IG9wdGlvbnMuc2V0U3RhdGUoZmV0Y2hlZFN0YXRlKSA6IHNldFN0YXRlKGZldGNoZWRTdGF0ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdm9pZCBmZXRjaEFnZW50U3RhdGUoKTtcbiAgfSwgW3RocmVhZElkXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzRXh0ZXJuYWxTdGF0ZU1hbmFnZW1lbnQob3B0aW9ucykpIHtcbiAgICAgIHNldFN0YXRlKG9wdGlvbnMuc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY29hZ2VudFN0YXRlc1tuYW1lXSA9PT0gdm9pZCAwKSB7XG4gICAgICBzZXRTdGF0ZShvcHRpb25zLmluaXRpYWxTdGF0ZSA9PT0gdm9pZCAwID8ge30gOiBvcHRpb25zLmluaXRpYWxTdGF0ZSk7XG4gICAgfVxuICB9LCBbXG4gICAgaXNFeHRlcm5hbFN0YXRlTWFuYWdlbWVudChvcHRpb25zKSA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuc3RhdGUpIDogdm9pZCAwLFxuICAgIC8vIHJlc2V0IGluaXRpYWxzdGF0ZSBvbiByZXNldFxuICAgIGNvYWdlbnRTdGF0ZXNbbmFtZV0gPT09IHZvaWQgMFxuICBdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBuZXdDb25maWcgPSBvcHRpb25zLmNvbmZpZyA/IG9wdGlvbnMuY29uZmlnIDogb3B0aW9ucy5jb25maWd1cmFibGUgPyB7IGNvbmZpZ3VyYWJsZTogb3B0aW9ucy5jb25maWd1cmFibGUgfSA6IHZvaWQgMDtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApXG4gICAgICByZXR1cm47XG4gICAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWYoKHByZXYpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nID0gKF9hID0gcHJldltuYW1lXSkgIT0gbnVsbCA/IF9hIDoge1xuICAgICAgICBuYW1lLFxuICAgICAgICBzdGF0ZTogaXNJbnRlcm5hbFN0YXRlTWFuYWdlbWVudFdpdGhJbml0aWFsKG9wdGlvbnMpID8gb3B0aW9ucy5pbml0aWFsU3RhdGUgOiB7fSxcbiAgICAgICAgY29uZmlnOiB7fSxcbiAgICAgICAgcnVubmluZzogZmFsc2UsXG4gICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgIHRocmVhZElkOiB2b2lkIDAsXG4gICAgICAgIG5vZGVOYW1lOiB2b2lkIDAsXG4gICAgICAgIHJ1bklkOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmcuY29uZmlnKSA9PT0gSlNPTi5zdHJpbmdpZnkobmV3Q29uZmlnKSkge1xuICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2KSwge1xuICAgICAgICBbbmFtZV06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGV4aXN0aW5nKSwge1xuICAgICAgICAgIGNvbmZpZzogbmV3Q29uZmlnXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgW0pTT04uc3RyaW5naWZ5KG9wdGlvbnMuY29uZmlnKSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucy5jb25maWd1cmFibGUpXSk7XG4gIGNvbnN0IHJ1bkFnZW50Q2FsbGJhY2sgPSB1c2VBc3luY0NhbGxiYWNrKFxuICAgIChoaW50KSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICB5aWVsZCBydW5BZ2VudChuYW1lLCBjb250ZXh0LCBnZXRNZXNzYWdlc0Zyb21UYXAoKSwgc2VuZE1lc3NhZ2UsIHJ1bkNoYXRDb21wbGV0aW9uLCBoaW50KTtcbiAgICB9KSxcbiAgICBbbmFtZSwgY29udGV4dCwgc2VuZE1lc3NhZ2UsIHJ1bkNoYXRDb21wbGV0aW9uXVxuICApO1xuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgY29hZ2VudFN0YXRlID0gZ2V0Q29hZ2VudFN0YXRlKHsgY29hZ2VudFN0YXRlcywgbmFtZSwgb3B0aW9ucyB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZSxcbiAgICAgIG5vZGVOYW1lOiBjb2FnZW50U3RhdGUubm9kZU5hbWUsXG4gICAgICB0aHJlYWRJZDogY29hZ2VudFN0YXRlLnRocmVhZElkLFxuICAgICAgcnVubmluZzogY29hZ2VudFN0YXRlLnJ1bm5pbmcsXG4gICAgICBzdGF0ZTogY29hZ2VudFN0YXRlLnN0YXRlLFxuICAgICAgc2V0U3RhdGU6IGlzRXh0ZXJuYWxTdGF0ZU1hbmFnZW1lbnQob3B0aW9ucykgPyBvcHRpb25zLnNldFN0YXRlIDogc2V0U3RhdGUsXG4gICAgICBzdGFydDogKCkgPT4gc3RhcnRBZ2VudChuYW1lLCBjb250ZXh0KSxcbiAgICAgIHN0b3A6ICgpID0+IHN0b3BBZ2VudChuYW1lLCBjb250ZXh0KSxcbiAgICAgIHJ1bjogcnVuQWdlbnRDYWxsYmFja1xuICAgIH07XG4gIH0sIFtuYW1lLCBjb2FnZW50U3RhdGVzLCBvcHRpb25zLCBzZXRTdGF0ZSwgcnVuQWdlbnRDYWxsYmFja10pO1xufVxuZnVuY3Rpb24gc3RhcnRBZ2VudChuYW1lLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgc2V0QWdlbnRTZXNzaW9uIH0gPSBjb250ZXh0O1xuICBzZXRBZ2VudFNlc3Npb24oe1xuICAgIGFnZW50TmFtZTogbmFtZVxuICB9KTtcbn1cbmZ1bmN0aW9uIHN0b3BBZ2VudChuYW1lLCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgYWdlbnRTZXNzaW9uLCBzZXRBZ2VudFNlc3Npb24gfSA9IGNvbnRleHQ7XG4gIGlmIChhZ2VudFNlc3Npb24gJiYgYWdlbnRTZXNzaW9uLmFnZW50TmFtZSA9PT0gbmFtZSkge1xuICAgIHNldEFnZW50U2Vzc2lvbihudWxsKTtcbiAgICBjb250ZXh0LnNldENvYWdlbnRTdGF0ZXMoKHByZXZBZ2VudFN0YXRlcykgPT4ge1xuICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXZBZ2VudFN0YXRlcyksIHtcbiAgICAgICAgW25hbWVdOiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2QWdlbnRTdGF0ZXNbbmFtZV0pLCB7XG4gICAgICAgICAgcnVubmluZzogZmFsc2UsXG4gICAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICB0aHJlYWRJZDogdm9pZCAwLFxuICAgICAgICAgIG5vZGVOYW1lOiB2b2lkIDAsXG4gICAgICAgICAgcnVuSWQ6IHZvaWQgMFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKGBObyBhZ2VudCBzZXNzaW9uIGZvdW5kIGZvciAke25hbWV9YCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJ1bkFnZW50KG5hbWUsIGNvbnRleHQsIG1lc3NhZ2VzLCBzZW5kTWVzc2FnZSwgcnVuQ2hhdENvbXBsZXRpb24sIGhpbnQpIHtcbiAgcmV0dXJuIF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIGNvbnN0IHsgYWdlbnRTZXNzaW9uLCBzZXRBZ2VudFNlc3Npb24gfSA9IGNvbnRleHQ7XG4gICAgaWYgKCFhZ2VudFNlc3Npb24gfHwgYWdlbnRTZXNzaW9uLmFnZW50TmFtZSAhPT0gbmFtZSkge1xuICAgICAgc2V0QWdlbnRTZXNzaW9uKHtcbiAgICAgICAgYWdlbnROYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHByZXZpb3VzU3RhdGUgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSBtZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgbWVzc2FnZSA9IG1lc3NhZ2VzW2ldO1xuICAgICAgaWYgKG1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpICYmIG1lc3NhZ2UuYWdlbnROYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHByZXZpb3VzU3RhdGUgPSBtZXNzYWdlLnN0YXRlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RhdGUgPSAoKF9iID0gKF9hID0gY29udGV4dC5jb2FnZW50U3RhdGVzUmVmLmN1cnJlbnQpID09IG51bGwgPyB2b2lkIDAgOiBfYVtuYW1lXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnN0YXRlKSB8fCB7fTtcbiAgICBpZiAoaGludCkge1xuICAgICAgY29uc3QgaGludE1lc3NhZ2UgPSBoaW50KHsgcHJldmlvdXNTdGF0ZSwgY3VycmVudFN0YXRlOiBzdGF0ZSB9KTtcbiAgICAgIGlmIChoaW50TWVzc2FnZSkge1xuICAgICAgICB5aWVsZCBzZW5kTWVzc2FnZShoaW50TWVzc2FnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB5aWVsZCBydW5DaGF0Q29tcGxldGlvbigpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB5aWVsZCBydW5DaGF0Q29tcGxldGlvbigpO1xuICAgIH1cbiAgfSk7XG59XG52YXIgaXNFeHRlcm5hbFN0YXRlTWFuYWdlbWVudCA9IChvcHRpb25zKSA9PiB7XG4gIHJldHVybiBcInN0YXRlXCIgaW4gb3B0aW9ucyAmJiBcInNldFN0YXRlXCIgaW4gb3B0aW9ucztcbn07XG52YXIgaXNJbnRlcm5hbFN0YXRlTWFuYWdlbWVudFdpdGhJbml0aWFsID0gKG9wdGlvbnMpID0+IHtcbiAgcmV0dXJuIFwiaW5pdGlhbFN0YXRlXCIgaW4gb3B0aW9ucztcbn07XG52YXIgZ2V0Q29hZ2VudFN0YXRlID0gKHtcbiAgY29hZ2VudFN0YXRlcyxcbiAgbmFtZSxcbiAgb3B0aW9uc1xufSkgPT4ge1xuICBpZiAoY29hZ2VudFN0YXRlc1tuYW1lXSkge1xuICAgIHJldHVybiBjb2FnZW50U3RhdGVzW25hbWVdO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lLFxuICAgICAgc3RhdGU6IGlzSW50ZXJuYWxTdGF0ZU1hbmFnZW1lbnRXaXRoSW5pdGlhbChvcHRpb25zKSA/IG9wdGlvbnMuaW5pdGlhbFN0YXRlIDoge30sXG4gICAgICBjb25maWc6IG9wdGlvbnMuY29uZmlnID8gb3B0aW9ucy5jb25maWcgOiBvcHRpb25zLmNvbmZpZ3VyYWJsZSA/IHsgY29uZmlndXJhYmxlOiBvcHRpb25zLmNvbmZpZ3VyYWJsZSB9IDoge30sXG4gICAgICBydW5uaW5nOiBmYWxzZSxcbiAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICB0aHJlYWRJZDogdm9pZCAwLFxuICAgICAgbm9kZU5hbWU6IHZvaWQgMCxcbiAgICAgIHJ1bklkOiB2b2lkIDBcbiAgICB9O1xuICB9XG59O1xuXG5leHBvcnQge1xuICB1c2VDb0FnZW50LFxuICBzdGFydEFnZW50LFxuICBzdG9wQWdlbnQsXG4gIHJ1bkFnZW50XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUU5KTk9aSDMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QNJNOZH3.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RKTVJRK7.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-RKTVJRK7.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   use_tree_default: () => (/* binding */ use_tree_default)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-tree.ts\n\n\nvar removeNode = (nodes, id) => {\n  return nodes.reduce((result, node) => {\n    if (node.id !== id) {\n      const newNode = (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: removeNode(node.children, id) });\n      result.push(newNode);\n    }\n    return result;\n  }, []);\n};\nvar addNode = (nodes, newNode, parentId) => {\n  if (!parentId) {\n    return [...nodes, newNode];\n  }\n  return nodes.map((node) => {\n    if (node.id === parentId) {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: [...node.children, newNode] });\n    } else if (node.children.length) {\n      return (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadProps)((0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, node), { children: addNode(node.children, newNode, parentId) });\n    }\n    return node;\n  });\n};\nvar treeIndentationRepresentation = (index, indentLevel) => {\n  if (indentLevel === 0) {\n    return (index + 1).toString();\n  } else if (indentLevel === 1) {\n    return String.fromCharCode(65 + index);\n  } else if (indentLevel === 2) {\n    return String.fromCharCode(97 + index);\n  } else {\n    return \"-\";\n  }\n};\nvar printNode = (node, prefix = \"\", indentLevel = 0) => {\n  const indent = \" \".repeat(3).repeat(indentLevel);\n  const prefixPlusIndentLength = prefix.length + indent.length;\n  const subsequentLinesPrefix = \" \".repeat(prefixPlusIndentLength);\n  const valueLines = node.value.split(\"\\n\");\n  const outputFirstLine = `${indent}${prefix}${valueLines[0]}`;\n  const outputSubsequentLines = valueLines.slice(1).map((line) => `${subsequentLinesPrefix}${line}`).join(\"\\n\");\n  let output = `${outputFirstLine}\n`;\n  if (outputSubsequentLines) {\n    output += `${outputSubsequentLines}\n`;\n  }\n  const childPrePrefix = \" \".repeat(prefix.length);\n  node.children.forEach(\n    (child, index) => output += printNode(\n      child,\n      `${childPrePrefix}${treeIndentationRepresentation(index, indentLevel + 1)}. `,\n      indentLevel + 1\n    )\n  );\n  return output;\n};\nfunction treeReducer(state, action) {\n  switch (action.type) {\n    case \"ADD_NODE\": {\n      const { value, parentId, id: newNodeId } = action;\n      const newNode = {\n        id: newNodeId,\n        value,\n        children: [],\n        categories: new Set(action.categories)\n      };\n      try {\n        return addNode(state, newNode, parentId);\n      } catch (error) {\n        console.error(`Error while adding node with id ${newNodeId}: ${error}`);\n        return state;\n      }\n    }\n    case \"REMOVE_NODE\":\n      return removeNode(state, action.id);\n    default:\n      return state;\n  }\n}\nvar useTree = () => {\n  const [tree, dispatch] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(treeReducer, []);\n  const addElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value, categories, parentId) => {\n      const newNodeId = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.randomId)();\n      dispatch({\n        type: \"ADD_NODE\",\n        value,\n        parentId,\n        id: newNodeId,\n        categories\n      });\n      return newNodeId;\n    },\n    []\n  );\n  const removeElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((id) => {\n    dispatch({ type: \"REMOVE_NODE\", id });\n  }, []);\n  const getAllElements = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    return tree;\n  }, [tree]);\n  const printTree = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (categories) => {\n      const categoriesSet = new Set(categories);\n      let output = \"\";\n      tree.forEach((node, index) => {\n        if (!setsHaveIntersection(categoriesSet, node.categories)) {\n          return;\n        }\n        if (index !== 0) {\n          output += \"\\n\";\n        }\n        output += printNode(node, `${treeIndentationRepresentation(index, 0)}. `);\n      });\n      return output;\n    },\n    [tree]\n  );\n  return { tree, addElement, printTree, removeElement, getAllElements };\n};\nvar use_tree_default = useTree;\nfunction setsHaveIntersection(setA, setB) {\n  const [smallerSet, largerSet] = setA.size <= setB.size ? [setA, setB] : [setB, setA];\n  for (let item of smallerSet) {\n    if (largerSet.has(item)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\n//# sourceMappingURL=chunk-RKTVJRK7.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVJLVFZKUks3Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRzhCOztBQUU5QjtBQUM4QztBQUNFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrRUFBYSxDQUFDLG1FQUFjLEdBQUcsV0FBVyx5Q0FBeUM7QUFDekc7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsV0FBVyx1Q0FBdUM7QUFDOUYsTUFBTTtBQUNOLGFBQWEsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLFdBQVcscURBQXFEO0FBQzVHO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixPQUFPLEVBQUUsT0FBTyxFQUFFLGNBQWM7QUFDN0QscUVBQXFFLHNCQUFzQixFQUFFLEtBQUs7QUFDbEcsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxlQUFlLEVBQUUsc0RBQXNEO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGlDQUFpQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSLHlEQUF5RCxVQUFVLElBQUksTUFBTTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpREFBVTtBQUNyQyxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQSx3QkFBd0IsNERBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQVc7QUFDbkMsZUFBZSx5QkFBeUI7QUFDeEMsR0FBRztBQUNILHlCQUF5QixrREFBVztBQUNwQztBQUNBLEdBQUc7QUFDSCxvQkFBb0Isa0RBQVc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsd0NBQXdDO0FBQzdFLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVJLVFZKUks3Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2hvb2tzL3VzZS10cmVlLnRzXG5pbXBvcnQgeyByYW5kb21JZCB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWR1Y2VyIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgcmVtb3ZlTm9kZSA9IChub2RlcywgaWQpID0+IHtcbiAgcmV0dXJuIG5vZGVzLnJlZHVjZSgocmVzdWx0LCBub2RlKSA9PiB7XG4gICAgaWYgKG5vZGUuaWQgIT09IGlkKSB7XG4gICAgICBjb25zdCBuZXdOb2RlID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgbm9kZSksIHsgY2hpbGRyZW46IHJlbW92ZU5vZGUobm9kZS5jaGlsZHJlbiwgaWQpIH0pO1xuICAgICAgcmVzdWx0LnB1c2gobmV3Tm9kZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIFtdKTtcbn07XG52YXIgYWRkTm9kZSA9IChub2RlcywgbmV3Tm9kZSwgcGFyZW50SWQpID0+IHtcbiAgaWYgKCFwYXJlbnRJZCkge1xuICAgIHJldHVybiBbLi4ubm9kZXMsIG5ld05vZGVdO1xuICB9XG4gIHJldHVybiBub2Rlcy5tYXAoKG5vZGUpID0+IHtcbiAgICBpZiAobm9kZS5pZCA9PT0gcGFyZW50SWQpIHtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwgeyBjaGlsZHJlbjogWy4uLm5vZGUuY2hpbGRyZW4sIG5ld05vZGVdIH0pO1xuICAgIH0gZWxzZSBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBub2RlKSwgeyBjaGlsZHJlbjogYWRkTm9kZShub2RlLmNoaWxkcmVuLCBuZXdOb2RlLCBwYXJlbnRJZCkgfSk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9KTtcbn07XG52YXIgdHJlZUluZGVudGF0aW9uUmVwcmVzZW50YXRpb24gPSAoaW5kZXgsIGluZGVudExldmVsKSA9PiB7XG4gIGlmIChpbmRlbnRMZXZlbCA9PT0gMCkge1xuICAgIHJldHVybiAoaW5kZXggKyAxKS50b1N0cmluZygpO1xuICB9IGVsc2UgaWYgKGluZGVudExldmVsID09PSAxKSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCk7XG4gIH0gZWxzZSBpZiAoaW5kZW50TGV2ZWwgPT09IDIpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSg5NyArIGluZGV4KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCItXCI7XG4gIH1cbn07XG52YXIgcHJpbnROb2RlID0gKG5vZGUsIHByZWZpeCA9IFwiXCIsIGluZGVudExldmVsID0gMCkgPT4ge1xuICBjb25zdCBpbmRlbnQgPSBcIiBcIi5yZXBlYXQoMykucmVwZWF0KGluZGVudExldmVsKTtcbiAgY29uc3QgcHJlZml4UGx1c0luZGVudExlbmd0aCA9IHByZWZpeC5sZW5ndGggKyBpbmRlbnQubGVuZ3RoO1xuICBjb25zdCBzdWJzZXF1ZW50TGluZXNQcmVmaXggPSBcIiBcIi5yZXBlYXQocHJlZml4UGx1c0luZGVudExlbmd0aCk7XG4gIGNvbnN0IHZhbHVlTGluZXMgPSBub2RlLnZhbHVlLnNwbGl0KFwiXFxuXCIpO1xuICBjb25zdCBvdXRwdXRGaXJzdExpbmUgPSBgJHtpbmRlbnR9JHtwcmVmaXh9JHt2YWx1ZUxpbmVzWzBdfWA7XG4gIGNvbnN0IG91dHB1dFN1YnNlcXVlbnRMaW5lcyA9IHZhbHVlTGluZXMuc2xpY2UoMSkubWFwKChsaW5lKSA9PiBgJHtzdWJzZXF1ZW50TGluZXNQcmVmaXh9JHtsaW5lfWApLmpvaW4oXCJcXG5cIik7XG4gIGxldCBvdXRwdXQgPSBgJHtvdXRwdXRGaXJzdExpbmV9XG5gO1xuICBpZiAob3V0cHV0U3Vic2VxdWVudExpbmVzKSB7XG4gICAgb3V0cHV0ICs9IGAke291dHB1dFN1YnNlcXVlbnRMaW5lc31cbmA7XG4gIH1cbiAgY29uc3QgY2hpbGRQcmVQcmVmaXggPSBcIiBcIi5yZXBlYXQocHJlZml4Lmxlbmd0aCk7XG4gIG5vZGUuY2hpbGRyZW4uZm9yRWFjaChcbiAgICAoY2hpbGQsIGluZGV4KSA9PiBvdXRwdXQgKz0gcHJpbnROb2RlKFxuICAgICAgY2hpbGQsXG4gICAgICBgJHtjaGlsZFByZVByZWZpeH0ke3RyZWVJbmRlbnRhdGlvblJlcHJlc2VudGF0aW9uKGluZGV4LCBpbmRlbnRMZXZlbCArIDEpfS4gYCxcbiAgICAgIGluZGVudExldmVsICsgMVxuICAgIClcbiAgKTtcbiAgcmV0dXJuIG91dHB1dDtcbn07XG5mdW5jdGlvbiB0cmVlUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcbiAgICBjYXNlIFwiQUREX05PREVcIjoge1xuICAgICAgY29uc3QgeyB2YWx1ZSwgcGFyZW50SWQsIGlkOiBuZXdOb2RlSWQgfSA9IGFjdGlvbjtcbiAgICAgIGNvbnN0IG5ld05vZGUgPSB7XG4gICAgICAgIGlkOiBuZXdOb2RlSWQsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIGNhdGVnb3JpZXM6IG5ldyBTZXQoYWN0aW9uLmNhdGVnb3JpZXMpXG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFkZE5vZGUoc3RhdGUsIG5ld05vZGUsIHBhcmVudElkKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIHdoaWxlIGFkZGluZyBub2RlIHdpdGggaWQgJHtuZXdOb2RlSWR9OiAke2Vycm9yfWApO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJSRU1PVkVfTk9ERVwiOlxuICAgICAgcmV0dXJuIHJlbW92ZU5vZGUoc3RhdGUsIGFjdGlvbi5pZCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgfVxufVxudmFyIHVzZVRyZWUgPSAoKSA9PiB7XG4gIGNvbnN0IFt0cmVlLCBkaXNwYXRjaF0gPSB1c2VSZWR1Y2VyKHRyZWVSZWR1Y2VyLCBbXSk7XG4gIGNvbnN0IGFkZEVsZW1lbnQgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUsIGNhdGVnb3JpZXMsIHBhcmVudElkKSA9PiB7XG4gICAgICBjb25zdCBuZXdOb2RlSWQgPSByYW5kb21JZCgpO1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiBcIkFERF9OT0RFXCIsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBwYXJlbnRJZCxcbiAgICAgICAgaWQ6IG5ld05vZGVJZCxcbiAgICAgICAgY2F0ZWdvcmllc1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3Tm9kZUlkO1xuICAgIH0sXG4gICAgW11cbiAgKTtcbiAgY29uc3QgcmVtb3ZlRWxlbWVudCA9IHVzZUNhbGxiYWNrKChpZCkgPT4ge1xuICAgIGRpc3BhdGNoKHsgdHlwZTogXCJSRU1PVkVfTk9ERVwiLCBpZCB9KTtcbiAgfSwgW10pO1xuICBjb25zdCBnZXRBbGxFbGVtZW50cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXR1cm4gdHJlZTtcbiAgfSwgW3RyZWVdKTtcbiAgY29uc3QgcHJpbnRUcmVlID0gdXNlQ2FsbGJhY2soXG4gICAgKGNhdGVnb3JpZXMpID0+IHtcbiAgICAgIGNvbnN0IGNhdGVnb3JpZXNTZXQgPSBuZXcgU2V0KGNhdGVnb3JpZXMpO1xuICAgICAgbGV0IG91dHB1dCA9IFwiXCI7XG4gICAgICB0cmVlLmZvckVhY2goKG5vZGUsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghc2V0c0hhdmVJbnRlcnNlY3Rpb24oY2F0ZWdvcmllc1NldCwgbm9kZS5jYXRlZ29yaWVzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICBvdXRwdXQgKz0gXCJcXG5cIjtcbiAgICAgICAgfVxuICAgICAgICBvdXRwdXQgKz0gcHJpbnROb2RlKG5vZGUsIGAke3RyZWVJbmRlbnRhdGlvblJlcHJlc2VudGF0aW9uKGluZGV4LCAwKX0uIGApO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH0sXG4gICAgW3RyZWVdXG4gICk7XG4gIHJldHVybiB7IHRyZWUsIGFkZEVsZW1lbnQsIHByaW50VHJlZSwgcmVtb3ZlRWxlbWVudCwgZ2V0QWxsRWxlbWVudHMgfTtcbn07XG52YXIgdXNlX3RyZWVfZGVmYXVsdCA9IHVzZVRyZWU7XG5mdW5jdGlvbiBzZXRzSGF2ZUludGVyc2VjdGlvbihzZXRBLCBzZXRCKSB7XG4gIGNvbnN0IFtzbWFsbGVyU2V0LCBsYXJnZXJTZXRdID0gc2V0QS5zaXplIDw9IHNldEIuc2l6ZSA/IFtzZXRBLCBzZXRCXSA6IFtzZXRCLCBzZXRBXTtcbiAgZm9yIChsZXQgaXRlbSBvZiBzbWFsbGVyU2V0KSB7XG4gICAgaWYgKGxhcmdlclNldC5oYXMoaXRlbSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCB7XG4gIHVzZV90cmVlX2RlZmF1bHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1SS1RWSlJLNy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-RKTVJRK7.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __async: () => (/* binding */ __async),\n/* harmony export */   __objRest: () => (/* binding */ __objRest),\n/* harmony export */   __restKey: () => (/* binding */ __restKey),\n/* harmony export */   __spreadProps: () => (/* binding */ __spreadProps),\n/* harmony export */   __spreadValues: () => (/* binding */ __spreadValues)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __restKey = (key) => typeof key === \"symbol\" ? key : key + \"\";\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n//# sourceMappingURL=chunk-SKC7AJIV.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVNLQzdBSklWLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBUUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVNLQzdBSklWLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcFN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyA9IChhLCBiKSA9PiBfX2RlZlByb3BzKGEsIF9fZ2V0T3duUHJvcERlc2NzKGIpKTtcbnZhciBfX3Jlc3RLZXkgPSAoa2V5KSA9PiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDoga2V5ICsgXCJcIjtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bS5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIF9fYXN5bmMgPSAoX190aGlzLCBfX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSA9PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgdmFyIGZ1bGZpbGxlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVqZWN0ZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzdGVwID0gKHgpID0+IHguZG9uZSA/IHJlc29sdmUoeC52YWx1ZSkgOiBQcm9taXNlLnJlc29sdmUoeC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkoX190aGlzLCBfX2FyZ3VtZW50cykpLm5leHQoKSk7XG4gIH0pO1xufTtcblxuZXhwb3J0IHtcbiAgX19zcHJlYWRWYWx1ZXMsXG4gIF9fc3ByZWFkUHJvcHMsXG4gIF9fcmVzdEtleSxcbiAgX19vYmpSZXN0LFxuICBfX2FzeW5jXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstU0tDN0FKSVYubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotContext: () => (/* binding */ CopilotContext),\n/* harmony export */   useCopilotContext: () => (/* binding */ useCopilotContext)\n/* harmony export */ });\n/* harmony import */ var _chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-SKC7AJIV.mjs */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-SKC7AJIV.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/context/copilot-context.tsx\n\nvar emptyCopilotContext = {\n  actions: {},\n  setAction: () => {\n  },\n  removeAction: () => {\n  },\n  coAgentStateRenders: {},\n  setCoAgentStateRender: () => {\n  },\n  removeCoAgentStateRender: () => {\n  },\n  chatComponentsCache: { current: { actions: {}, coAgentStateRenders: {} } },\n  getContextString: (documents, categories) => returnAndThrowInDebug(\"\"),\n  addContext: () => \"\",\n  removeContext: () => {\n  },\n  getAllContext: () => [],\n  getFunctionCallHandler: () => returnAndThrowInDebug(() => (0,_chunk_SKC7AJIV_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  })),\n  isLoading: false,\n  setIsLoading: () => returnAndThrowInDebug(false),\n  chatInstructions: \"\",\n  setChatInstructions: () => returnAndThrowInDebug(\"\"),\n  additionalInstructions: [],\n  setAdditionalInstructions: () => returnAndThrowInDebug([]),\n  getDocumentsContext: (categories) => returnAndThrowInDebug([]),\n  addDocumentContext: () => returnAndThrowInDebug(\"\"),\n  removeDocumentContext: () => {\n  },\n  runtimeClient: {},\n  copilotApiConfig: new class {\n    get chatApiEndpoint() {\n      throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n    }\n    get headers() {\n      return {};\n    }\n    get body() {\n      return {};\n    }\n  }(),\n  chatSuggestionConfiguration: {},\n  addChatSuggestionConfiguration: () => {\n  },\n  removeChatSuggestionConfiguration: () => {\n  },\n  showDevConsole: false,\n  coagentStates: {},\n  setCoagentStates: () => {\n  },\n  coagentStatesRef: { current: {} },\n  setCoagentStatesWithRef: () => {\n  },\n  agentSession: null,\n  setAgentSession: () => {\n  },\n  forwardedParameters: {},\n  agentLock: null,\n  threadId: \"\",\n  setThreadId: () => {\n  },\n  runId: null,\n  setRunId: () => {\n  },\n  chatAbortControllerRef: { current: null },\n  availableAgents: [],\n  extensions: {},\n  setExtensions: () => {\n  },\n  langGraphInterruptAction: null,\n  setLangGraphInterruptAction: () => null,\n  removeLangGraphInterruptAction: () => null,\n  onError: () => {\n  },\n  bannerError: null,\n  setBannerError: () => {\n  },\n  internalErrorHandlers: {},\n  setInternalErrorHandler: () => {\n  },\n  removeInternalErrorHandler: () => {\n  }\n};\nvar CopilotContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyCopilotContext);\nfunction useCopilotContext() {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CopilotContext);\n  if (context === emptyCopilotContext) {\n    throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n  }\n  return context;\n}\nfunction returnAndThrowInDebug(_value) {\n  throw new Error(\"Remember to wrap your app in a `<CopilotKit> {...} </CopilotKit>` !!!\");\n}\n\n\n//# sourceMappingURL=chunk-YHT6CWIY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVlIVDZDV0lZLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRThCOztBQUU5QjtBQUMwQjtBQUMxQjtBQUNBLGFBQWE7QUFDYjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSCx5QkFBeUI7QUFDekI7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLFdBQVcsV0FBVyw2QkFBNkI7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsNERBQTRELDREQUFPO0FBQ25FLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQSxxRUFBcUUsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxpQ0FBaUM7QUFDakM7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGFBQWE7QUFDbkM7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSCx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNEJBQTRCLGVBQWU7QUFDM0M7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSCwyQkFBMkI7QUFDM0I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFtQjtBQUN4QztBQUNBLGtCQUFrQiw2Q0FBZ0I7QUFDbEM7QUFDQSxtRUFBbUUsS0FBSztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxLQUFLO0FBQ3RFOztBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LWNvcmUvZGlzdC9jaHVuay1ZSFQ2Q1dJWS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgX19hc3luY1xufSBmcm9tIFwiLi9jaHVuay1TS0M3QUpJVi5tanNcIjtcblxuLy8gc3JjL2NvbnRleHQvY29waWxvdC1jb250ZXh0LnRzeFxuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xudmFyIGVtcHR5Q29waWxvdENvbnRleHQgPSB7XG4gIGFjdGlvbnM6IHt9LFxuICBzZXRBY3Rpb246ICgpID0+IHtcbiAgfSxcbiAgcmVtb3ZlQWN0aW9uOiAoKSA9PiB7XG4gIH0sXG4gIGNvQWdlbnRTdGF0ZVJlbmRlcnM6IHt9LFxuICBzZXRDb0FnZW50U3RhdGVSZW5kZXI6ICgpID0+IHtcbiAgfSxcbiAgcmVtb3ZlQ29BZ2VudFN0YXRlUmVuZGVyOiAoKSA9PiB7XG4gIH0sXG4gIGNoYXRDb21wb25lbnRzQ2FjaGU6IHsgY3VycmVudDogeyBhY3Rpb25zOiB7fSwgY29BZ2VudFN0YXRlUmVuZGVyczoge30gfSB9LFxuICBnZXRDb250ZXh0U3RyaW5nOiAoZG9jdW1lbnRzLCBjYXRlZ29yaWVzKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoXCJcIiksXG4gIGFkZENvbnRleHQ6ICgpID0+IFwiXCIsXG4gIHJlbW92ZUNvbnRleHQ6ICgpID0+IHtcbiAgfSxcbiAgZ2V0QWxsQ29udGV4dDogKCkgPT4gW10sXG4gIGdldEZ1bmN0aW9uQ2FsbEhhbmRsZXI6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZygoKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgfSkpLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBzZXRJc0xvYWRpbmc6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhmYWxzZSksXG4gIGNoYXRJbnN0cnVjdGlvbnM6IFwiXCIsXG4gIHNldENoYXRJbnN0cnVjdGlvbnM6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhcIlwiKSxcbiAgYWRkaXRpb25hbEluc3RydWN0aW9uczogW10sXG4gIHNldEFkZGl0aW9uYWxJbnN0cnVjdGlvbnM6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhbXSksXG4gIGdldERvY3VtZW50c0NvbnRleHQ6IChjYXRlZ29yaWVzKSA9PiByZXR1cm5BbmRUaHJvd0luRGVidWcoW10pLFxuICBhZGREb2N1bWVudENvbnRleHQ6ICgpID0+IHJldHVybkFuZFRocm93SW5EZWJ1ZyhcIlwiKSxcbiAgcmVtb3ZlRG9jdW1lbnRDb250ZXh0OiAoKSA9PiB7XG4gIH0sXG4gIHJ1bnRpbWVDbGllbnQ6IHt9LFxuICBjb3BpbG90QXBpQ29uZmlnOiBuZXcgY2xhc3Mge1xuICAgIGdldCBjaGF0QXBpRW5kcG9pbnQoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZW1lbWJlciB0byB3cmFwIHlvdXIgYXBwIGluIGEgYDxDb3BpbG90S2l0PiB7Li4ufSA8L0NvcGlsb3RLaXQ+YCAhISFcIik7XG4gICAgfVxuICAgIGdldCBoZWFkZXJzKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBnZXQgYm9keSgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gIH0oKSxcbiAgY2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uOiB7fSxcbiAgYWRkQ2hhdFN1Z2dlc3Rpb25Db25maWd1cmF0aW9uOiAoKSA9PiB7XG4gIH0sXG4gIHJlbW92ZUNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbjogKCkgPT4ge1xuICB9LFxuICBzaG93RGV2Q29uc29sZTogZmFsc2UsXG4gIGNvYWdlbnRTdGF0ZXM6IHt9LFxuICBzZXRDb2FnZW50U3RhdGVzOiAoKSA9PiB7XG4gIH0sXG4gIGNvYWdlbnRTdGF0ZXNSZWY6IHsgY3VycmVudDoge30gfSxcbiAgc2V0Q29hZ2VudFN0YXRlc1dpdGhSZWY6ICgpID0+IHtcbiAgfSxcbiAgYWdlbnRTZXNzaW9uOiBudWxsLFxuICBzZXRBZ2VudFNlc3Npb246ICgpID0+IHtcbiAgfSxcbiAgZm9yd2FyZGVkUGFyYW1ldGVyczoge30sXG4gIGFnZW50TG9jazogbnVsbCxcbiAgdGhyZWFkSWQ6IFwiXCIsXG4gIHNldFRocmVhZElkOiAoKSA9PiB7XG4gIH0sXG4gIHJ1bklkOiBudWxsLFxuICBzZXRSdW5JZDogKCkgPT4ge1xuICB9LFxuICBjaGF0QWJvcnRDb250cm9sbGVyUmVmOiB7IGN1cnJlbnQ6IG51bGwgfSxcbiAgYXZhaWxhYmxlQWdlbnRzOiBbXSxcbiAgZXh0ZW5zaW9uczoge30sXG4gIHNldEV4dGVuc2lvbnM6ICgpID0+IHtcbiAgfSxcbiAgbGFuZ0dyYXBoSW50ZXJydXB0QWN0aW9uOiBudWxsLFxuICBzZXRMYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb246ICgpID0+IG51bGwsXG4gIHJlbW92ZUxhbmdHcmFwaEludGVycnVwdEFjdGlvbjogKCkgPT4gbnVsbCxcbiAgb25FcnJvcjogKCkgPT4ge1xuICB9LFxuICBiYW5uZXJFcnJvcjogbnVsbCxcbiAgc2V0QmFubmVyRXJyb3I6ICgpID0+IHtcbiAgfSxcbiAgaW50ZXJuYWxFcnJvckhhbmRsZXJzOiB7fSxcbiAgc2V0SW50ZXJuYWxFcnJvckhhbmRsZXI6ICgpID0+IHtcbiAgfSxcbiAgcmVtb3ZlSW50ZXJuYWxFcnJvckhhbmRsZXI6ICgpID0+IHtcbiAgfVxufTtcbnZhciBDb3BpbG90Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZW1wdHlDb3BpbG90Q29udGV4dCk7XG5mdW5jdGlvbiB1c2VDb3BpbG90Q29udGV4dCgpIHtcbiAgY29uc3QgY29udGV4dCA9IFJlYWN0LnVzZUNvbnRleHQoQ29waWxvdENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gZW1wdHlDb3BpbG90Q29udGV4dCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJlbWVtYmVyIHRvIHdyYXAgeW91ciBhcHAgaW4gYSBgPENvcGlsb3RLaXQ+IHsuLi59IDwvQ29waWxvdEtpdD5gICEhIVwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHJldHVybkFuZFRocm93SW5EZWJ1ZyhfdmFsdWUpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiUmVtZW1iZXIgdG8gd3JhcCB5b3VyIGFwcCBpbiBhIGA8Q29waWxvdEtpdD4gey4uLn0gPC9Db3BpbG90S2l0PmAgISEhXCIpO1xufVxuXG5leHBvcnQge1xuICBDb3BpbG90Q29udGV4dCxcbiAgdXNlQ29waWxvdENvbnRleHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1ZSFQ2Q1dJWS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotMessagesContext: () => (/* binding */ CopilotMessagesContext),\n/* harmony export */   useCopilotMessagesContext: () => (/* binding */ useCopilotMessagesContext)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n// src/context/copilot-messages-context.tsx\n\nvar emptyCopilotContext = {\n  messages: [],\n  setMessages: () => [],\n  // suggestions state\n  suggestions: [],\n  setSuggestions: () => []\n};\nvar CopilotMessagesContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(emptyCopilotContext);\nfunction useCopilotMessagesContext() {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(CopilotMessagesContext);\n  if (context === emptyCopilotContext) {\n    throw new Error(\n      \"A messages consuming component was not wrapped with `<CopilotMessages> {...} </CopilotMessages>`\"\n    );\n  }\n  return context;\n}\n\n\n//# sourceMappingURL=chunk-ZLQVRPDS.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtY29yZS9kaXN0L2NodW5rLVpMUVZSUERTLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUMwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnREFBbUI7QUFDaEQ7QUFDQSxrQkFBa0IsNkNBQWdCO0FBQ2xDO0FBQ0E7QUFDQSwrRUFBK0UsS0FBSztBQUNwRjtBQUNBO0FBQ0E7QUFDQTs7QUFLRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC1jb3JlL2Rpc3QvY2h1bmstWkxRVlJQRFMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb250ZXh0L2NvcGlsb3QtbWVzc2FnZXMtY29udGV4dC50c3hcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbnZhciBlbXB0eUNvcGlsb3RDb250ZXh0ID0ge1xuICBtZXNzYWdlczogW10sXG4gIHNldE1lc3NhZ2VzOiAoKSA9PiBbXSxcbiAgLy8gc3VnZ2VzdGlvbnMgc3RhdGVcbiAgc3VnZ2VzdGlvbnM6IFtdLFxuICBzZXRTdWdnZXN0aW9uczogKCkgPT4gW11cbn07XG52YXIgQ29waWxvdE1lc3NhZ2VzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoZW1wdHlDb3BpbG90Q29udGV4dCk7XG5mdW5jdGlvbiB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0KCkge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb3BpbG90TWVzc2FnZXNDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IGVtcHR5Q29waWxvdENvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkEgbWVzc2FnZXMgY29uc3VtaW5nIGNvbXBvbmVudCB3YXMgbm90IHdyYXBwZWQgd2l0aCBgPENvcGlsb3RNZXNzYWdlcz4gey4uLn0gPC9Db3BpbG90TWVzc2FnZXM+YFwiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuZXhwb3J0IHtcbiAgQ29waWxvdE1lc3NhZ2VzQ29udGV4dCxcbiAgdXNlQ29waWxvdE1lc3NhZ2VzQ29udGV4dFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVpMUVZSUERTLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-core/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@copilotkit/react-core/dist/index.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CopilotContext: () => (/* reexport safe */ _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_0__.CopilotContext),
/* harmony export */   CopilotKit: () => (/* reexport safe */ _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__.CopilotKit),
/* harmony export */   CopilotMessagesContext: () => (/* reexport safe */ _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_2__.CopilotMessagesContext),
/* harmony export */   CopilotTask: () => (/* reexport safe */ _chunk_5KVEE73R_mjs__WEBPACK_IMPORTED_MODULE_3__.CopilotTask),
/* harmony export */   SUGGESTION_RETRY_CONFIG: () => (/* reexport safe */ _chunk_2IDV5OHF_mjs__WEBPACK_IMPORTED_MODULE_4__.SUGGESTION_RETRY_CONFIG),
/* harmony export */   defaultCopilotContextCategories: () => (/* reexport safe */ _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__.defaultCopilotContextCategories),
/* harmony export */   extract: () => (/* reexport safe */ _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__.extract),
/* harmony export */   reloadSuggestions: () => (/* reexport safe */ _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__.reloadSuggestions),
/* harmony export */   runAgent: () => (/* reexport safe */ _chunk_QNJNOZH3_mjs__WEBPACK_IMPORTED_MODULE_5__.runAgent),
/* harmony export */   shouldShowDevConsole: () => (/* reexport safe */ _chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__.shouldShowDevConsole),
/* harmony export */   startAgent: () => (/* reexport safe */ _chunk_QNJNOZH3_mjs__WEBPACK_IMPORTED_MODULE_5__.startAgent),
/* harmony export */   stopAgent: () => (/* reexport safe */ _chunk_QNJNOZH3_mjs__WEBPACK_IMPORTED_MODULE_5__.stopAgent),
/* harmony export */   useCoAgent: () => (/* reexport safe */ _chunk_QNJNOZH3_mjs__WEBPACK_IMPORTED_MODULE_5__.useCoAgent),
/* harmony export */   useCoAgentStateRender: () => (/* reexport safe */ _chunk_2QZSAQTX_mjs__WEBPACK_IMPORTED_MODULE_7__.useCoAgentStateRender),
/* harmony export */   useCopilotAction: () => (/* reexport safe */ _chunk_JEMBA7PE_mjs__WEBPACK_IMPORTED_MODULE_8__.useCopilotAction),
/* harmony export */   useCopilotAdditionalInstructions: () => (/* reexport safe */ _chunk_MZ37BAAE_mjs__WEBPACK_IMPORTED_MODULE_9__.useCopilotAdditionalInstructions),
/* harmony export */   useCopilotAuthenticatedAction_c: () => (/* reexport safe */ _chunk_KWS75AOU_mjs__WEBPACK_IMPORTED_MODULE_10__.useCopilotAuthenticatedAction_c),
/* harmony export */   useCopilotChat: () => (/* reexport safe */ _chunk_HWM2Z3J3_mjs__WEBPACK_IMPORTED_MODULE_11__.useCopilotChat),
/* harmony export */   useCopilotChatHeadless_c: () => (/* reexport safe */ _chunk_ID5JRMGN_mjs__WEBPACK_IMPORTED_MODULE_12__.useCopilotChatHeadless_c),
/* harmony export */   useCopilotChatInternal: () => (/* reexport safe */ _chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_13__.useCopilotChat),
/* harmony export */   useCopilotContext: () => (/* reexport safe */ _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_0__.useCopilotContext),
/* harmony export */   useCopilotMessagesContext: () => (/* reexport safe */ _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopilotMessagesContext),
/* harmony export */   useCopilotReadable: () => (/* reexport safe */ _chunk_36FJAVOF_mjs__WEBPACK_IMPORTED_MODULE_14__.useCopilotReadable),
/* harmony export */   useCopilotRuntimeClient: () => (/* reexport safe */ _chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_15__.useCopilotRuntimeClient),
/* harmony export */   useLangGraphInterrupt: () => (/* reexport safe */ _chunk_EBSAU46C_mjs__WEBPACK_IMPORTED_MODULE_16__.useLangGraphInterrupt),
/* harmony export */   useLangGraphInterruptRender: () => (/* reexport safe */ _chunk_QF3Q5LUN_mjs__WEBPACK_IMPORTED_MODULE_17__.useLangGraphInterruptRender),
/* harmony export */   useMakeCopilotDocumentReadable: () => (/* reexport safe */ _chunk_CXDK6XA5_mjs__WEBPACK_IMPORTED_MODULE_18__.useMakeCopilotDocumentReadable)
/* harmony export */ });
/* harmony import */ var _chunk_5KVEE73R_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-5KVEE73R.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-5KVEE73R.mjs");
/* harmony import */ var _chunk_36FJAVOF_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./chunk-36FJAVOF.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-36FJAVOF.mjs");
/* harmony import */ var _chunk_EBSAU46C_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./chunk-EBSAU46C.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-EBSAU46C.mjs");
/* harmony import */ var _chunk_CXDK6XA5_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./chunk-CXDK6XA5.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CXDK6XA5.mjs");
/* harmony import */ var _chunk_2QZSAQTX_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-2QZSAQTX.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2QZSAQTX.mjs");
/* harmony import */ var _chunk_QNJNOZH3_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-QNJNOZH3.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QNJNOZH3.mjs");
/* harmony import */ var _chunk_MZ37BAAE_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./chunk-MZ37BAAE.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-MZ37BAAE.mjs");
/* harmony import */ var _chunk_KWS75AOU_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./chunk-KWS75AOU.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-KWS75AOU.mjs");
/* harmony import */ var _chunk_JEMBA7PE_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-JEMBA7PE.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-JEMBA7PE.mjs");
/* harmony import */ var _chunk_ID5JRMGN_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-ID5JRMGN.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ID5JRMGN.mjs");
/* harmony import */ var _chunk_HWM2Z3J3_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./chunk-HWM2Z3J3.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-HWM2Z3J3.mjs");
/* harmony import */ var _chunk_CLAHAV6J_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./chunk-CLAHAV6J.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs");
/* harmony import */ var _chunk_QF3Q5LUN_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./chunk-QF3Q5LUN.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QF3Q5LUN.mjs");
/* harmony import */ var _chunk_6WTWBXEJ_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-6WTWBXEJ.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-6WTWBXEJ.mjs");
/* harmony import */ var _chunk_2IDV5OHF_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-2IDV5OHF.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-2IDV5OHF.mjs");
/* harmony import */ var _chunk_Q3MCVRO3_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./chunk-Q3MCVRO3.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-Q3MCVRO3.mjs");
/* harmony import */ var _chunk_ICIK2BSB_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-ICIK2BSB.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ICIK2BSB.mjs");
/* harmony import */ var _chunk_YHT6CWIY_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-YHT6CWIY.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs");
/* harmony import */ var _chunk_ZLQVRPDS_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-ZLQVRPDS.mjs */ "(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs");
/* __next_internal_client_entry_do_not_use__ CopilotContext,CopilotKit,CopilotMessagesContext,CopilotTask,SUGGESTION_RETRY_CONFIG,defaultCopilotContextCategories,extract,reloadSuggestions,runAgent,shouldShowDevConsole,startAgent,stopAgent,useCoAgent,useCoAgentStateRender,useCopilotAction,useCopilotAdditionalInstructions,useCopilotAuthenticatedAction_c,useCopilotChat,useCopilotChatHeadless_c,useCopilotChatInternal,useCopilotContext,useCopilotMessagesContext,useCopilotReadable,useCopilotRuntimeClient,useLangGraphInterrupt,useLangGraphInterruptRender,useMakeCopilotDocumentReadable auto */ 






































 //# sourceMappingURL=index.mjs.map


/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-226ZMOE3.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-226ZMOE3.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Suggestions: () => (/* binding */ Suggestions)\n/* harmony export */ });\n/* harmony import */ var _chunk_W26XFBEG_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-W26XFBEG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-W26XFBEG.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n// src/components/chat/Suggestions.tsx\n\nfunction Suggestions({ suggestions, onSuggestionClick }) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"suggestions\", children: suggestions.map((suggestion, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _chunk_W26XFBEG_mjs__WEBPACK_IMPORTED_MODULE_1__.Suggestion,\n    {\n      title: suggestion.title,\n      message: suggestion.message,\n      partial: suggestion.partial,\n      className: suggestion.className,\n      onClick: () => onSuggestionClick(suggestion.message)\n    },\n    index\n  )) });\n}\n\n\n//# sourceMappingURL=chunk-226ZMOE3.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay0yMjZaTU9FMy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRThCOztBQUU5QjtBQUN3QztBQUN4Qyx1QkFBdUIsZ0NBQWdDO0FBQ3ZELHlCQUF5QixzREFBRyxVQUFVLDJGQUEyRixzREFBRztBQUNwSSxJQUFJLDJEQUFVO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsTUFBTTtBQUNOOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstMjI2Wk1PRTMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFN1Z2dlc3Rpb25cbn0gZnJvbSBcIi4vY2h1bmstVzI2WEZCRUcubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQvU3VnZ2VzdGlvbnMudHN4XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFN1Z2dlc3Rpb25zKHsgc3VnZ2VzdGlvbnMsIG9uU3VnZ2VzdGlvbkNsaWNrIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3VnZ2VzdGlvbnNcIiwgY2hpbGRyZW46IHN1Z2dlc3Rpb25zLm1hcCgoc3VnZ2VzdGlvbiwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgU3VnZ2VzdGlvbixcbiAgICB7XG4gICAgICB0aXRsZTogc3VnZ2VzdGlvbi50aXRsZSxcbiAgICAgIG1lc3NhZ2U6IHN1Z2dlc3Rpb24ubWVzc2FnZSxcbiAgICAgIHBhcnRpYWw6IHN1Z2dlc3Rpb24ucGFydGlhbCxcbiAgICAgIGNsYXNzTmFtZTogc3VnZ2VzdGlvbi5jbGFzc05hbWUsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBvblN1Z2dlc3Rpb25DbGljayhzdWdnZXN0aW9uLm1lc3NhZ2UpXG4gICAgfSxcbiAgICBpbmRleFxuICApKSB9KTtcbn1cblxuZXhwb3J0IHtcbiAgU3VnZ2VzdGlvbnNcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay0yMjZaTU9FMy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-226ZMOE3.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-54JAUBUJ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-54JAUBUJ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useCopyToClipboard: () => (/* binding */ useCopyToClipboard)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n// src/hooks/use-copy-to-clipboard.tsx\n\nfunction useCopyToClipboard({ timeout = 2e3 }) {\n  const [isCopied, setIsCopied] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const copyToClipboard = (value) => {\n    var _a;\n    if (typeof window === \"undefined\" || !((_a = navigator.clipboard) == null ? void 0 : _a.writeText)) {\n      return;\n    }\n    if (!value) {\n      return;\n    }\n    navigator.clipboard.writeText(value).then(() => {\n      setIsCopied(true);\n      setTimeout(() => {\n        setIsCopied(false);\n      }, timeout);\n    });\n  };\n  return { isCopied, copyToClipboard };\n}\n\n\n//# sourceMappingURL=chunk-54JAUBUJ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay01NEpBVUJVSi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUMrQjtBQUMvQiw4QkFBOEIsZUFBZTtBQUM3QyxrQ0FBa0MsMkNBQWM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLFdBQVc7QUFDWDs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2NodW5rLTU0SkFVQlVKLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaG9va3MvdXNlLWNvcHktdG8tY2xpcGJvYXJkLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VDb3B5VG9DbGlwYm9hcmQoeyB0aW1lb3V0ID0gMmUzIH0pIHtcbiAgY29uc3QgW2lzQ29waWVkLCBzZXRJc0NvcGllZF0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICh2YWx1ZSkgPT4ge1xuICAgIHZhciBfYTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKChfYSA9IG5hdmlnYXRvci5jbGlwYm9hcmQpID09IG51bGwgPyB2b2lkIDAgOiBfYS53cml0ZVRleHQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgc2V0SXNDb3BpZWQodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0SXNDb3BpZWQoZmFsc2UpO1xuICAgICAgfSwgdGltZW91dCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB7IGlzQ29waWVkLCBjb3B5VG9DbGlwYm9hcmQgfTtcbn1cblxuZXhwb3J0IHtcbiAgdXNlQ29weVRvQ2xpcGJvYXJkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstNTRKQVVCVUoubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-54JAUBUJ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-B5IFB5YJ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-B5IFB5YJ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CodeBlock: () => (/* binding */ CodeBlock),\n/* harmony export */   generateRandomString: () => (/* binding */ generateRandomString),\n/* harmony export */   programmingLanguages: () => (/* binding */ programmingLanguages)\n/* harmony export */ });\n/* harmony import */ var _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-XWG3L6QC.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-XWG3L6QC.mjs\");\n/* harmony import */ var _chunk_54JAUBUJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-54JAUBUJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-54JAUBUJ.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-syntax-highlighter */ \"(ssr)/./node_modules/react-syntax-highlighter/dist/esm/prism.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n// src/components/chat/CodeBlock.tsx\n\n\n\nvar programmingLanguages = {\n  javascript: \".js\",\n  python: \".py\",\n  java: \".java\",\n  c: \".c\",\n  cpp: \".cpp\",\n  \"c++\": \".cpp\",\n  \"c#\": \".cs\",\n  ruby: \".rb\",\n  php: \".php\",\n  swift: \".swift\",\n  \"objective-c\": \".m\",\n  kotlin: \".kt\",\n  typescript: \".ts\",\n  go: \".go\",\n  perl: \".pl\",\n  rust: \".rs\",\n  scala: \".scala\",\n  haskell: \".hs\",\n  lua: \".lua\",\n  shell: \".sh\",\n  sql: \".sql\",\n  html: \".html\",\n  css: \".css\"\n  // add more file extensions here, make sure the key is same as language prop in CodeBlock.tsx component\n};\nvar generateRandomString = (length, lowercase = false) => {\n  const chars = \"ABCDEFGHJKLMNPQRSTUVWXY3456789\";\n  let result = \"\";\n  for (let i = 0; i < length; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return lowercase ? result.toLowerCase() : result;\n};\nvar CodeBlock = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(({ language, value }) => {\n  const { isCopied, copyToClipboard } = (0,_chunk_54JAUBUJ_mjs__WEBPACK_IMPORTED_MODULE_2__.useCopyToClipboard)({ timeout: 2e3 });\n  const downloadAsFile = () => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    const fileExtension = programmingLanguages[language] || \".file\";\n    const suggestedFileName = `file-${generateRandomString(3, true)}${fileExtension}`;\n    const fileName = window.prompt(\"Enter file name\", suggestedFileName);\n    if (!fileName) {\n      return;\n    }\n    const blob = new Blob([value], { type: \"text/plain\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.download = fileName;\n    link.href = url;\n    link.style.display = \"none\";\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    URL.revokeObjectURL(url);\n  };\n  const onCopy = () => {\n    if (isCopied)\n      return;\n    copyToClipboard(value);\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitCodeBlock\", children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitCodeBlockToolbar\", children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { className: \"copilotKitCodeBlockToolbarLanguage\", children: language }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitCodeBlockToolbarButtons\", children: [\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", { className: \"copilotKitCodeBlockToolbarButton\", onClick: downloadAsFile, children: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.DownloadIcon }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", { className: \"copilotKitCodeBlockToolbarButton\", onClick: onCopy, children: isCopied ? _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.CheckIcon : _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.CopyIcon })\n      ] })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      react_syntax_highlighter__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n      {\n        language,\n        style: highlightStyle,\n        PreTag: \"div\",\n        customStyle: {\n          margin: 0,\n          borderBottomLeftRadius: \"0.375rem\",\n          borderBottomRightRadius: \"0.375rem\"\n        },\n        children: value\n      }\n    )\n  ] });\n});\nCodeBlock.displayName = \"CodeBlock\";\nvar highlightStyle = {\n  'pre[class*=\"language-\"]': {\n    color: \"#d4d4d4\",\n    fontSize: \"13px\",\n    textShadow: \"none\",\n    fontFamily: 'Menlo, Monaco, Consolas, \"Andale Mono\", \"Ubuntu Mono\", \"Courier New\", monospace',\n    direction: \"ltr\",\n    textAlign: \"left\",\n    whiteSpace: \"pre\",\n    wordSpacing: \"normal\",\n    wordBreak: \"normal\",\n    lineHeight: \"1.5\",\n    MozTabSize: \"4\",\n    OTabSize: \"4\",\n    tabSize: \"4\",\n    WebkitHyphens: \"none\",\n    MozHyphens: \"none\",\n    msHyphens: \"none\",\n    hyphens: \"none\",\n    padding: \"1em\",\n    margin: \".5em 0\",\n    overflow: \"auto\",\n    background: \"#1e1e1e\"\n  },\n  'code[class*=\"language-\"]': {\n    color: \"#d4d4d4\",\n    fontSize: \"13px\",\n    textShadow: \"none\",\n    fontFamily: 'Menlo, Monaco, Consolas, \"Andale Mono\", \"Ubuntu Mono\", \"Courier New\", monospace',\n    direction: \"ltr\",\n    textAlign: \"left\",\n    whiteSpace: \"pre\",\n    wordSpacing: \"normal\",\n    wordBreak: \"normal\",\n    lineHeight: \"1.5\",\n    MozTabSize: \"4\",\n    OTabSize: \"4\",\n    tabSize: \"4\",\n    WebkitHyphens: \"none\",\n    MozHyphens: \"none\",\n    msHyphens: \"none\",\n    hyphens: \"none\"\n  },\n  'pre[class*=\"language-\"]::selection': {\n    textShadow: \"none\",\n    background: \"#264F78\"\n  },\n  'code[class*=\"language-\"]::selection': {\n    textShadow: \"none\",\n    background: \"#264F78\"\n  },\n  'pre[class*=\"language-\"] *::selection': {\n    textShadow: \"none\",\n    background: \"#264F78\"\n  },\n  'code[class*=\"language-\"] *::selection': {\n    textShadow: \"none\",\n    background: \"#264F78\"\n  },\n  ':not(pre) > code[class*=\"language-\"]': {\n    padding: \".1em .3em\",\n    borderRadius: \".3em\",\n    color: \"#db4c69\",\n    background: \"#1e1e1e\"\n  },\n  \".namespace\": {\n    Opacity: \".7\"\n  },\n  \"doctype.doctype-tag\": {\n    color: \"#569CD6\"\n  },\n  \"doctype.name\": {\n    color: \"#9cdcfe\"\n  },\n  comment: {\n    color: \"#6a9955\"\n  },\n  prolog: {\n    color: \"#6a9955\"\n  },\n  punctuation: {\n    color: \"#d4d4d4\"\n  },\n  \".language-html .language-css .token.punctuation\": {\n    color: \"#d4d4d4\"\n  },\n  \".language-html .language-javascript .token.punctuation\": {\n    color: \"#d4d4d4\"\n  },\n  property: {\n    color: \"#9cdcfe\"\n  },\n  tag: {\n    color: \"#569cd6\"\n  },\n  boolean: {\n    color: \"#569cd6\"\n  },\n  number: {\n    color: \"#b5cea8\"\n  },\n  constant: {\n    color: \"#9cdcfe\"\n  },\n  symbol: {\n    color: \"#b5cea8\"\n  },\n  inserted: {\n    color: \"#b5cea8\"\n  },\n  unit: {\n    color: \"#b5cea8\"\n  },\n  selector: {\n    color: \"#d7ba7d\"\n  },\n  \"attr-name\": {\n    color: \"#9cdcfe\"\n  },\n  string: {\n    color: \"#ce9178\"\n  },\n  char: {\n    color: \"#ce9178\"\n  },\n  builtin: {\n    color: \"#ce9178\"\n  },\n  deleted: {\n    color: \"#ce9178\"\n  },\n  \".language-css .token.string.url\": {\n    textDecoration: \"underline\"\n  },\n  operator: {\n    color: \"#d4d4d4\"\n  },\n  entity: {\n    color: \"#569cd6\"\n  },\n  \"operator.arrow\": {\n    color: \"#569CD6\"\n  },\n  atrule: {\n    color: \"#ce9178\"\n  },\n  \"atrule.rule\": {\n    color: \"#c586c0\"\n  },\n  \"atrule.url\": {\n    color: \"#9cdcfe\"\n  },\n  \"atrule.url.function\": {\n    color: \"#dcdcaa\"\n  },\n  \"atrule.url.punctuation\": {\n    color: \"#d4d4d4\"\n  },\n  keyword: {\n    color: \"#569CD6\"\n  },\n  \"keyword.module\": {\n    color: \"#c586c0\"\n  },\n  \"keyword.control-flow\": {\n    color: \"#c586c0\"\n  },\n  function: {\n    color: \"#dcdcaa\"\n  },\n  \"function.maybe-class-name\": {\n    color: \"#dcdcaa\"\n  },\n  regex: {\n    color: \"#d16969\"\n  },\n  important: {\n    color: \"#569cd6\"\n  },\n  italic: {\n    fontStyle: \"italic\"\n  },\n  \"class-name\": {\n    color: \"#4ec9b0\"\n  },\n  \"maybe-class-name\": {\n    color: \"#4ec9b0\"\n  },\n  console: {\n    color: \"#9cdcfe\"\n  },\n  parameter: {\n    color: \"#9cdcfe\"\n  },\n  interpolation: {\n    color: \"#9cdcfe\"\n  },\n  \"punctuation.interpolation-punctuation\": {\n    color: \"#569cd6\"\n  },\n  variable: {\n    color: \"#9cdcfe\"\n  },\n  \"imports.maybe-class-name\": {\n    color: \"#9cdcfe\"\n  },\n  \"exports.maybe-class-name\": {\n    color: \"#9cdcfe\"\n  },\n  escape: {\n    color: \"#d7ba7d\"\n  },\n  \"tag.punctuation\": {\n    color: \"#808080\"\n  },\n  cdata: {\n    color: \"#808080\"\n  },\n  \"attr-value\": {\n    color: \"#ce9178\"\n  },\n  \"attr-value.punctuation\": {\n    color: \"#ce9178\"\n  },\n  \"attr-value.punctuation.attr-equals\": {\n    color: \"#d4d4d4\"\n  },\n  namespace: {\n    color: \"#4ec9b0\"\n  },\n  'pre[class*=\"language-javascript\"]': {\n    color: \"#9cdcfe\"\n  },\n  'code[class*=\"language-javascript\"]': {\n    color: \"#9cdcfe\"\n  },\n  'pre[class*=\"language-jsx\"]': {\n    color: \"#9cdcfe\"\n  },\n  'code[class*=\"language-jsx\"]': {\n    color: \"#9cdcfe\"\n  },\n  'pre[class*=\"language-typescript\"]': {\n    color: \"#9cdcfe\"\n  },\n  'code[class*=\"language-typescript\"]': {\n    color: \"#9cdcfe\"\n  },\n  'pre[class*=\"language-tsx\"]': {\n    color: \"#9cdcfe\"\n  },\n  'code[class*=\"language-tsx\"]': {\n    color: \"#9cdcfe\"\n  },\n  'pre[class*=\"language-css\"]': {\n    color: \"#ce9178\"\n  },\n  'code[class*=\"language-css\"]': {\n    color: \"#ce9178\"\n  },\n  'pre[class*=\"language-html\"]': {\n    color: \"#d4d4d4\"\n  },\n  'code[class*=\"language-html\"]': {\n    color: \"#d4d4d4\"\n  },\n  \".language-regex .token.anchor\": {\n    color: \"#dcdcaa\"\n  },\n  \".language-html .token.punctuation\": {\n    color: \"#808080\"\n  },\n  'pre[class*=\"language-\"] > code[class*=\"language-\"]': {\n    position: \"relative\",\n    zIndex: \"1\"\n  },\n  \".line-highlight.line-highlight\": {\n    background: \"#f7ebc6\",\n    boxShadow: \"inset 5px 0 0 #f7d87c\",\n    zIndex: \"0\"\n  }\n};\n\n\n//# sourceMappingURL=chunk-B5IFB5YJ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1CNUlGQjVZSi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFJOEI7QUFHQTs7QUFFOUI7QUFDNkI7QUFDeUM7QUFDeEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDJDQUFJLElBQUksaUJBQWlCO0FBQ3pDLFVBQVUsNEJBQTRCLEVBQUUsdUVBQWtCLEdBQUcsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLDhCQUE4QixFQUFFLGNBQWM7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsb0JBQW9CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1REFBSSxVQUFVO0FBQ3ZDLG9CQUFvQix1REFBSSxVQUFVO0FBQ2xDLHNCQUFzQixzREFBRyxXQUFXLHFFQUFxRTtBQUN6RyxzQkFBc0IsdURBQUksVUFBVTtBQUNwQyx3QkFBd0Isc0RBQUcsYUFBYSxrRkFBa0YsNkRBQVksRUFBRTtBQUN4SSx3QkFBd0Isc0RBQUcsYUFBYSxxRkFBcUYsMERBQVMsR0FBRyx5REFBUSxFQUFFO0FBQ25KLFNBQVM7QUFDVCxPQUFPO0FBQ1Asb0JBQW9CLHNEQUFHO0FBQ3ZCLE1BQU0sZ0VBQWlCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1CNUlGQjVZSi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hlY2tJY29uLFxuICBDb3B5SWNvbixcbiAgRG93bmxvYWRJY29uXG59IGZyb20gXCIuL2NodW5rLVhXRzNMNlFDLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlQ29weVRvQ2xpcGJvYXJkXG59IGZyb20gXCIuL2NodW5rLTU0SkFVQlVKLm1qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0L0NvZGVCbG9jay50c3hcbmltcG9ydCB7IG1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFByaXNtIGFzIFN5bnRheEhpZ2hsaWdodGVyIH0gZnJvbSBcInJlYWN0LXN5bnRheC1oaWdobGlnaHRlclwiO1xuaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgcHJvZ3JhbW1pbmdMYW5ndWFnZXMgPSB7XG4gIGphdmFzY3JpcHQ6IFwiLmpzXCIsXG4gIHB5dGhvbjogXCIucHlcIixcbiAgamF2YTogXCIuamF2YVwiLFxuICBjOiBcIi5jXCIsXG4gIGNwcDogXCIuY3BwXCIsXG4gIFwiYysrXCI6IFwiLmNwcFwiLFxuICBcImMjXCI6IFwiLmNzXCIsXG4gIHJ1Ynk6IFwiLnJiXCIsXG4gIHBocDogXCIucGhwXCIsXG4gIHN3aWZ0OiBcIi5zd2lmdFwiLFxuICBcIm9iamVjdGl2ZS1jXCI6IFwiLm1cIixcbiAga290bGluOiBcIi5rdFwiLFxuICB0eXBlc2NyaXB0OiBcIi50c1wiLFxuICBnbzogXCIuZ29cIixcbiAgcGVybDogXCIucGxcIixcbiAgcnVzdDogXCIucnNcIixcbiAgc2NhbGE6IFwiLnNjYWxhXCIsXG4gIGhhc2tlbGw6IFwiLmhzXCIsXG4gIGx1YTogXCIubHVhXCIsXG4gIHNoZWxsOiBcIi5zaFwiLFxuICBzcWw6IFwiLnNxbFwiLFxuICBodG1sOiBcIi5odG1sXCIsXG4gIGNzczogXCIuY3NzXCJcbiAgLy8gYWRkIG1vcmUgZmlsZSBleHRlbnNpb25zIGhlcmUsIG1ha2Ugc3VyZSB0aGUga2V5IGlzIHNhbWUgYXMgbGFuZ3VhZ2UgcHJvcCBpbiBDb2RlQmxvY2sudHN4IGNvbXBvbmVudFxufTtcbnZhciBnZW5lcmF0ZVJhbmRvbVN0cmluZyA9IChsZW5ndGgsIGxvd2VyY2FzZSA9IGZhbHNlKSA9PiB7XG4gIGNvbnN0IGNoYXJzID0gXCJBQkNERUZHSEpLTE1OUFFSU1RVVldYWTM0NTY3ODlcIjtcbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gY2hhcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJzLmxlbmd0aCkpO1xuICB9XG4gIHJldHVybiBsb3dlcmNhc2UgPyByZXN1bHQudG9Mb3dlckNhc2UoKSA6IHJlc3VsdDtcbn07XG52YXIgQ29kZUJsb2NrID0gbWVtbygoeyBsYW5ndWFnZSwgdmFsdWUgfSkgPT4ge1xuICBjb25zdCB7IGlzQ29waWVkLCBjb3B5VG9DbGlwYm9hcmQgfSA9IHVzZUNvcHlUb0NsaXBib2FyZCh7IHRpbWVvdXQ6IDJlMyB9KTtcbiAgY29uc3QgZG93bmxvYWRBc0ZpbGUgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IHByb2dyYW1taW5nTGFuZ3VhZ2VzW2xhbmd1YWdlXSB8fCBcIi5maWxlXCI7XG4gICAgY29uc3Qgc3VnZ2VzdGVkRmlsZU5hbWUgPSBgZmlsZS0ke2dlbmVyYXRlUmFuZG9tU3RyaW5nKDMsIHRydWUpfSR7ZmlsZUV4dGVuc2lvbn1gO1xuICAgIGNvbnN0IGZpbGVOYW1lID0gd2luZG93LnByb21wdChcIkVudGVyIGZpbGUgbmFtZVwiLCBzdWdnZXN0ZWRGaWxlTmFtZSk7XG4gICAgaWYgKCFmaWxlTmFtZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3ZhbHVlXSwgeyB0eXBlOiBcInRleHQvcGxhaW5cIiB9KTtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICBsaW5rLmRvd25sb2FkID0gZmlsZU5hbWU7XG4gICAgbGluay5ocmVmID0gdXJsO1xuICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7XG4gICAgbGluay5jbGljaygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICB9O1xuICBjb25zdCBvbkNvcHkgPSAoKSA9PiB7XG4gICAgaWYgKGlzQ29waWVkKVxuICAgICAgcmV0dXJuO1xuICAgIGNvcHlUb0NsaXBib2FyZCh2YWx1ZSk7XG4gIH07XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0Q29kZUJsb2NrXCIsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRDb2RlQmxvY2tUb29sYmFyTGFuZ3VhZ2VcIiwgY2hpbGRyZW46IGxhbmd1YWdlIH0pLFxuICAgICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJCdXR0b25zXCIsIGNoaWxkcmVuOiBbXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJCdXR0b25cIiwgb25DbGljazogZG93bmxvYWRBc0ZpbGUsIGNoaWxkcmVuOiBEb3dubG9hZEljb24gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdENvZGVCbG9ja1Rvb2xiYXJCdXR0b25cIiwgb25DbGljazogb25Db3B5LCBjaGlsZHJlbjogaXNDb3BpZWQgPyBDaGVja0ljb24gOiBDb3B5SWNvbiB9KVxuICAgICAgXSB9KVxuICAgIF0gfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFN5bnRheEhpZ2hsaWdodGVyLFxuICAgICAge1xuICAgICAgICBsYW5ndWFnZSxcbiAgICAgICAgc3R5bGU6IGhpZ2hsaWdodFN0eWxlLFxuICAgICAgICBQcmVUYWc6IFwiZGl2XCIsXG4gICAgICAgIGN1c3RvbVN0eWxlOiB7XG4gICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IFwiMC4zNzVyZW1cIixcbiAgICAgICAgICBib3JkZXJCb3R0b21SaWdodFJhZGl1czogXCIwLjM3NXJlbVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuOiB2YWx1ZVxuICAgICAgfVxuICAgIClcbiAgXSB9KTtcbn0pO1xuQ29kZUJsb2NrLmRpc3BsYXlOYW1lID0gXCJDb2RlQmxvY2tcIjtcbnZhciBoaWdobGlnaHRTdHlsZSA9IHtcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0nOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiLFxuICAgIGZvbnRTaXplOiBcIjEzcHhcIixcbiAgICB0ZXh0U2hhZG93OiBcIm5vbmVcIixcbiAgICBmb250RmFtaWx5OiAnTWVubG8sIE1vbmFjbywgQ29uc29sYXMsIFwiQW5kYWxlIE1vbm9cIiwgXCJVYnVudHUgTW9ub1wiLCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZScsXG4gICAgZGlyZWN0aW9uOiBcImx0clwiLFxuICAgIHRleHRBbGlnbjogXCJsZWZ0XCIsXG4gICAgd2hpdGVTcGFjZTogXCJwcmVcIixcbiAgICB3b3JkU3BhY2luZzogXCJub3JtYWxcIixcbiAgICB3b3JkQnJlYWs6IFwibm9ybWFsXCIsXG4gICAgbGluZUhlaWdodDogXCIxLjVcIixcbiAgICBNb3pUYWJTaXplOiBcIjRcIixcbiAgICBPVGFiU2l6ZTogXCI0XCIsXG4gICAgdGFiU2l6ZTogXCI0XCIsXG4gICAgV2Via2l0SHlwaGVuczogXCJub25lXCIsXG4gICAgTW96SHlwaGVuczogXCJub25lXCIsXG4gICAgbXNIeXBoZW5zOiBcIm5vbmVcIixcbiAgICBoeXBoZW5zOiBcIm5vbmVcIixcbiAgICBwYWRkaW5nOiBcIjFlbVwiLFxuICAgIG1hcmdpbjogXCIuNWVtIDBcIixcbiAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgYmFja2dyb3VuZDogXCIjMWUxZTFlXCJcbiAgfSxcbiAgJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdJzoge1xuICAgIGNvbG9yOiBcIiNkNGQ0ZDRcIixcbiAgICBmb250U2l6ZTogXCIxM3B4XCIsXG4gICAgdGV4dFNoYWRvdzogXCJub25lXCIsXG4gICAgZm9udEZhbWlseTogJ01lbmxvLCBNb25hY28sIENvbnNvbGFzLCBcIkFuZGFsZSBNb25vXCIsIFwiVWJ1bnR1IE1vbm9cIiwgXCJDb3VyaWVyIE5ld1wiLCBtb25vc3BhY2UnLFxuICAgIGRpcmVjdGlvbjogXCJsdHJcIixcbiAgICB0ZXh0QWxpZ246IFwibGVmdFwiLFxuICAgIHdoaXRlU3BhY2U6IFwicHJlXCIsXG4gICAgd29yZFNwYWNpbmc6IFwibm9ybWFsXCIsXG4gICAgd29yZEJyZWFrOiBcIm5vcm1hbFwiLFxuICAgIGxpbmVIZWlnaHQ6IFwiMS41XCIsXG4gICAgTW96VGFiU2l6ZTogXCI0XCIsXG4gICAgT1RhYlNpemU6IFwiNFwiLFxuICAgIHRhYlNpemU6IFwiNFwiLFxuICAgIFdlYmtpdEh5cGhlbnM6IFwibm9uZVwiLFxuICAgIE1vekh5cGhlbnM6IFwibm9uZVwiLFxuICAgIG1zSHlwaGVuczogXCJub25lXCIsXG4gICAgaHlwaGVuczogXCJub25lXCJcbiAgfSxcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl06OnNlbGVjdGlvbic6IHtcbiAgICB0ZXh0U2hhZG93OiBcIm5vbmVcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiMyNjRGNzhcIlxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl06OnNlbGVjdGlvbic6IHtcbiAgICB0ZXh0U2hhZG93OiBcIm5vbmVcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiMyNjRGNzhcIlxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSAqOjpzZWxlY3Rpb24nOiB7XG4gICAgdGV4dFNoYWRvdzogXCJub25lXCIsXG4gICAgYmFja2dyb3VuZDogXCIjMjY0Rjc4XCJcbiAgfSxcbiAgJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtXCJdICo6OnNlbGVjdGlvbic6IHtcbiAgICB0ZXh0U2hhZG93OiBcIm5vbmVcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiMyNjRGNzhcIlxuICB9LFxuICAnOm5vdChwcmUpID4gY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0nOiB7XG4gICAgcGFkZGluZzogXCIuMWVtIC4zZW1cIixcbiAgICBib3JkZXJSYWRpdXM6IFwiLjNlbVwiLFxuICAgIGNvbG9yOiBcIiNkYjRjNjlcIixcbiAgICBiYWNrZ3JvdW5kOiBcIiMxZTFlMWVcIlxuICB9LFxuICBcIi5uYW1lc3BhY2VcIjoge1xuICAgIE9wYWNpdHk6IFwiLjdcIlxuICB9LFxuICBcImRvY3R5cGUuZG9jdHlwZS10YWdcIjoge1xuICAgIGNvbG9yOiBcIiM1NjlDRDZcIlxuICB9LFxuICBcImRvY3R5cGUubmFtZVwiOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gIGNvbW1lbnQ6IHtcbiAgICBjb2xvcjogXCIjNmE5OTU1XCJcbiAgfSxcbiAgcHJvbG9nOiB7XG4gICAgY29sb3I6IFwiIzZhOTk1NVwiXG4gIH0sXG4gIHB1bmN0dWF0aW9uOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiXG4gIH0sXG4gIFwiLmxhbmd1YWdlLWh0bWwgLmxhbmd1YWdlLWNzcyAudG9rZW4ucHVuY3R1YXRpb25cIjoge1xuICAgIGNvbG9yOiBcIiNkNGQ0ZDRcIlxuICB9LFxuICBcIi5sYW5ndWFnZS1odG1sIC5sYW5ndWFnZS1qYXZhc2NyaXB0IC50b2tlbi5wdW5jdHVhdGlvblwiOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiXG4gIH0sXG4gIHByb3BlcnR5OiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gIHRhZzoge1xuICAgIGNvbG9yOiBcIiM1NjljZDZcIlxuICB9LFxuICBib29sZWFuOiB7XG4gICAgY29sb3I6IFwiIzU2OWNkNlwiXG4gIH0sXG4gIG51bWJlcjoge1xuICAgIGNvbG9yOiBcIiNiNWNlYThcIlxuICB9LFxuICBjb25zdGFudDoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICBzeW1ib2w6IHtcbiAgICBjb2xvcjogXCIjYjVjZWE4XCJcbiAgfSxcbiAgaW5zZXJ0ZWQ6IHtcbiAgICBjb2xvcjogXCIjYjVjZWE4XCJcbiAgfSxcbiAgdW5pdDoge1xuICAgIGNvbG9yOiBcIiNiNWNlYThcIlxuICB9LFxuICBzZWxlY3Rvcjoge1xuICAgIGNvbG9yOiBcIiNkN2JhN2RcIlxuICB9LFxuICBcImF0dHItbmFtZVwiOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gIHN0cmluZzoge1xuICAgIGNvbG9yOiBcIiNjZTkxNzhcIlxuICB9LFxuICBjaGFyOiB7XG4gICAgY29sb3I6IFwiI2NlOTE3OFwiXG4gIH0sXG4gIGJ1aWx0aW46IHtcbiAgICBjb2xvcjogXCIjY2U5MTc4XCJcbiAgfSxcbiAgZGVsZXRlZDoge1xuICAgIGNvbG9yOiBcIiNjZTkxNzhcIlxuICB9LFxuICBcIi5sYW5ndWFnZS1jc3MgLnRva2VuLnN0cmluZy51cmxcIjoge1xuICAgIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiXG4gIH0sXG4gIG9wZXJhdG9yOiB7XG4gICAgY29sb3I6IFwiI2Q0ZDRkNFwiXG4gIH0sXG4gIGVudGl0eToge1xuICAgIGNvbG9yOiBcIiM1NjljZDZcIlxuICB9LFxuICBcIm9wZXJhdG9yLmFycm93XCI6IHtcbiAgICBjb2xvcjogXCIjNTY5Q0Q2XCJcbiAgfSxcbiAgYXRydWxlOiB7XG4gICAgY29sb3I6IFwiI2NlOTE3OFwiXG4gIH0sXG4gIFwiYXRydWxlLnJ1bGVcIjoge1xuICAgIGNvbG9yOiBcIiNjNTg2YzBcIlxuICB9LFxuICBcImF0cnVsZS51cmxcIjoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICBcImF0cnVsZS51cmwuZnVuY3Rpb25cIjoge1xuICAgIGNvbG9yOiBcIiNkY2RjYWFcIlxuICB9LFxuICBcImF0cnVsZS51cmwucHVuY3R1YXRpb25cIjoge1xuICAgIGNvbG9yOiBcIiNkNGQ0ZDRcIlxuICB9LFxuICBrZXl3b3JkOiB7XG4gICAgY29sb3I6IFwiIzU2OUNENlwiXG4gIH0sXG4gIFwia2V5d29yZC5tb2R1bGVcIjoge1xuICAgIGNvbG9yOiBcIiNjNTg2YzBcIlxuICB9LFxuICBcImtleXdvcmQuY29udHJvbC1mbG93XCI6IHtcbiAgICBjb2xvcjogXCIjYzU4NmMwXCJcbiAgfSxcbiAgZnVuY3Rpb246IHtcbiAgICBjb2xvcjogXCIjZGNkY2FhXCJcbiAgfSxcbiAgXCJmdW5jdGlvbi5tYXliZS1jbGFzcy1uYW1lXCI6IHtcbiAgICBjb2xvcjogXCIjZGNkY2FhXCJcbiAgfSxcbiAgcmVnZXg6IHtcbiAgICBjb2xvcjogXCIjZDE2OTY5XCJcbiAgfSxcbiAgaW1wb3J0YW50OiB7XG4gICAgY29sb3I6IFwiIzU2OWNkNlwiXG4gIH0sXG4gIGl0YWxpYzoge1xuICAgIGZvbnRTdHlsZTogXCJpdGFsaWNcIlxuICB9LFxuICBcImNsYXNzLW5hbWVcIjoge1xuICAgIGNvbG9yOiBcIiM0ZWM5YjBcIlxuICB9LFxuICBcIm1heWJlLWNsYXNzLW5hbWVcIjoge1xuICAgIGNvbG9yOiBcIiM0ZWM5YjBcIlxuICB9LFxuICBjb25zb2xlOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gIHBhcmFtZXRlcjoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICBpbnRlcnBvbGF0aW9uOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gIFwicHVuY3R1YXRpb24uaW50ZXJwb2xhdGlvbi1wdW5jdHVhdGlvblwiOiB7XG4gICAgY29sb3I6IFwiIzU2OWNkNlwiXG4gIH0sXG4gIHZhcmlhYmxlOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gIFwiaW1wb3J0cy5tYXliZS1jbGFzcy1uYW1lXCI6IHtcbiAgICBjb2xvcjogXCIjOWNkY2ZlXCJcbiAgfSxcbiAgXCJleHBvcnRzLm1heWJlLWNsYXNzLW5hbWVcIjoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICBlc2NhcGU6IHtcbiAgICBjb2xvcjogXCIjZDdiYTdkXCJcbiAgfSxcbiAgXCJ0YWcucHVuY3R1YXRpb25cIjoge1xuICAgIGNvbG9yOiBcIiM4MDgwODBcIlxuICB9LFxuICBjZGF0YToge1xuICAgIGNvbG9yOiBcIiM4MDgwODBcIlxuICB9LFxuICBcImF0dHItdmFsdWVcIjoge1xuICAgIGNvbG9yOiBcIiNjZTkxNzhcIlxuICB9LFxuICBcImF0dHItdmFsdWUucHVuY3R1YXRpb25cIjoge1xuICAgIGNvbG9yOiBcIiNjZTkxNzhcIlxuICB9LFxuICBcImF0dHItdmFsdWUucHVuY3R1YXRpb24uYXR0ci1lcXVhbHNcIjoge1xuICAgIGNvbG9yOiBcIiNkNGQ0ZDRcIlxuICB9LFxuICBuYW1lc3BhY2U6IHtcbiAgICBjb2xvcjogXCIjNGVjOWIwXCJcbiAgfSxcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1qYXZhc2NyaXB0XCJdJzoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1qYXZhc2NyaXB0XCJdJzoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLWpzeFwiXSc6IHtcbiAgICBjb2xvcjogXCIjOWNkY2ZlXCJcbiAgfSxcbiAgJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtanN4XCJdJzoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICAncHJlW2NsYXNzKj1cImxhbmd1YWdlLXR5cGVzY3JpcHRcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gICdjb2RlW2NsYXNzKj1cImxhbmd1YWdlLXR5cGVzY3JpcHRcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gICdwcmVbY2xhc3MqPVwibGFuZ3VhZ2UtdHN4XCJdJzoge1xuICAgIGNvbG9yOiBcIiM5Y2RjZmVcIlxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS10c3hcIl0nOiB7XG4gICAgY29sb3I6IFwiIzljZGNmZVwiXG4gIH0sXG4gICdwcmVbY2xhc3MqPVwibGFuZ3VhZ2UtY3NzXCJdJzoge1xuICAgIGNvbG9yOiBcIiNjZTkxNzhcIlxuICB9LFxuICAnY29kZVtjbGFzcyo9XCJsYW5ndWFnZS1jc3NcIl0nOiB7XG4gICAgY29sb3I6IFwiI2NlOTE3OFwiXG4gIH0sXG4gICdwcmVbY2xhc3MqPVwibGFuZ3VhZ2UtaHRtbFwiXSc6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCJcbiAgfSxcbiAgJ2NvZGVbY2xhc3MqPVwibGFuZ3VhZ2UtaHRtbFwiXSc6IHtcbiAgICBjb2xvcjogXCIjZDRkNGQ0XCJcbiAgfSxcbiAgXCIubGFuZ3VhZ2UtcmVnZXggLnRva2VuLmFuY2hvclwiOiB7XG4gICAgY29sb3I6IFwiI2RjZGNhYVwiXG4gIH0sXG4gIFwiLmxhbmd1YWdlLWh0bWwgLnRva2VuLnB1bmN0dWF0aW9uXCI6IHtcbiAgICBjb2xvcjogXCIjODA4MDgwXCJcbiAgfSxcbiAgJ3ByZVtjbGFzcyo9XCJsYW5ndWFnZS1cIl0gPiBjb2RlW2NsYXNzKj1cImxhbmd1YWdlLVwiXSc6IHtcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgIHpJbmRleDogXCIxXCJcbiAgfSxcbiAgXCIubGluZS1oaWdobGlnaHQubGluZS1oaWdobGlnaHRcIjoge1xuICAgIGJhY2tncm91bmQ6IFwiI2Y3ZWJjNlwiLFxuICAgIGJveFNoYWRvdzogXCJpbnNldCA1cHggMCAwICNmN2Q4N2NcIixcbiAgICB6SW5kZXg6IFwiMFwiXG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIHByb2dyYW1taW5nTGFuZ3VhZ2VzLFxuICBnZW5lcmF0ZVJhbmRvbVN0cmluZyxcbiAgQ29kZUJsb2NrXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstQjVJRkI1WUoubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-B5IFB5YJ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-CGEAG65D.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-CGEAG65D.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PoweredByTag: () => (/* binding */ PoweredByTag)\n/* harmony export */ });\n/* harmony import */ var _chunk_JGMFJZMG_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-JGMFJZMG.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-JGMFJZMG.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n// src/components/chat/PoweredByTag.tsx\n\nfunction PoweredByTag({ showPoweredBy = true }) {\n  const isDark = (0,_chunk_JGMFJZMG_mjs__WEBPACK_IMPORTED_MODULE_1__.useDarkMode)();\n  if (!showPoweredBy) {\n    return null;\n  }\n  const poweredByStyle = {\n    visibility: \"visible\",\n    display: \"block\",\n    position: \"static\",\n    textAlign: \"center\",\n    fontSize: \"12px\",\n    padding: \"3px 0\",\n    color: isDark ? \"rgb(69, 69, 69)\" : \"rgb(214, 214, 214)\"\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"p\", { className: \"poweredBy\", style: poweredByStyle, children: \"Powered by CopilotKit\" }) });\n}\n\n\n//# sourceMappingURL=chunk-CGEAG65D.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1DR0VBRzY1RC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBRThCOztBQUU5QjtBQUN3QztBQUN4Qyx3QkFBd0Isc0JBQXNCO0FBQzlDLGlCQUFpQixnRUFBVztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUcsVUFBVSwwQkFBMEIsc0RBQUcsUUFBUSxrRkFBa0YsR0FBRztBQUNoSzs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2NodW5rLUNHRUFHNjVELm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICB1c2VEYXJrTW9kZVxufSBmcm9tIFwiLi9jaHVuay1KR01GSlpNRy5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9Qb3dlcmVkQnlUYWcudHN4XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFBvd2VyZWRCeVRhZyh7IHNob3dQb3dlcmVkQnkgPSB0cnVlIH0pIHtcbiAgY29uc3QgaXNEYXJrID0gdXNlRGFya01vZGUoKTtcbiAgaWYgKCFzaG93UG93ZXJlZEJ5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcG93ZXJlZEJ5U3R5bGUgPSB7XG4gICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIsXG4gICAgZGlzcGxheTogXCJibG9ja1wiLFxuICAgIHBvc2l0aW9uOiBcInN0YXRpY1wiLFxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICBmb250U2l6ZTogXCIxMnB4XCIsXG4gICAgcGFkZGluZzogXCIzcHggMFwiLFxuICAgIGNvbG9yOiBpc0RhcmsgPyBcInJnYig2OSwgNjksIDY5KVwiIDogXCJyZ2IoMjE0LCAyMTQsIDIxNClcIlxuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJwb3dlcmVkQnlcIiwgc3R5bGU6IHBvd2VyZWRCeVN0eWxlLCBjaGlsZHJlbjogXCJQb3dlcmVkIGJ5IENvcGlsb3RLaXRcIiB9KSB9KTtcbn1cblxuZXhwb3J0IHtcbiAgUG93ZXJlZEJ5VGFnXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstQ0dFQUc2NUQubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-CGEAG65D.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DBKRAOH7.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-DBKRAOH7.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageRenderer: () => (/* binding */ ImageRenderer)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/chat/messages/ImageRenderer.tsx\n\n\nvar ImageRenderer = ({ image, content, className = \"\" }) => {\n  const [imageError, setImageError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const imageSrc = `data:image/${image.format};base64,${image.bytes}`;\n  const altText = content || \"User uploaded image\";\n  const handleImageError = () => {\n    setImageError(true);\n  };\n  if (imageError) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: `copilotKitImageRendering copilotKitImageRenderingError ${className}`, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"copilotKitImageRenderingErrorMessage\", children: \"Failed to load image\" }),\n      content && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"copilotKitImageRenderingContent\", children: content })\n    ] });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: `copilotKitImageRendering ${className}`, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"img\",\n      {\n        src: imageSrc,\n        alt: altText,\n        className: \"copilotKitImageRenderingImage\",\n        onError: handleImageError\n      }\n    ),\n    content && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"copilotKitImageRenderingContent\", children: content })\n  ] });\n};\n\n\n//# sourceMappingURL=chunk-DBKRAOH7.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1EQktSQU9INy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDaUM7QUFDYTtBQUM5Qyx1QkFBdUIsZ0NBQWdDO0FBQ3ZELHNDQUFzQywrQ0FBUTtBQUM5QyxpQ0FBaUMsY0FBYyxTQUFTLFlBQVk7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix1REFBSSxVQUFVLHFFQUFxRSxVQUFVO0FBQ3hILHNCQUFzQixzREFBRyxVQUFVLHFGQUFxRjtBQUN4SCxpQ0FBaUMsc0RBQUcsVUFBVSxpRUFBaUU7QUFDL0csT0FBTztBQUNQO0FBQ0EseUJBQXlCLHVEQUFJLFVBQVUsdUNBQXVDLFVBQVU7QUFDeEYsb0JBQW9CLHNEQUFHO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUcsVUFBVSxpRUFBaUU7QUFDN0csS0FBSztBQUNMOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstREJLUkFPSDcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9jb21wb25lbnRzL2NoYXQvbWVzc2FnZXMvSW1hZ2VSZW5kZXJlci50c3hcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBJbWFnZVJlbmRlcmVyID0gKHsgaW1hZ2UsIGNvbnRlbnQsIGNsYXNzTmFtZSA9IFwiXCIgfSkgPT4ge1xuICBjb25zdCBbaW1hZ2VFcnJvciwgc2V0SW1hZ2VFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGltYWdlU3JjID0gYGRhdGE6aW1hZ2UvJHtpbWFnZS5mb3JtYXR9O2Jhc2U2NCwke2ltYWdlLmJ5dGVzfWA7XG4gIGNvbnN0IGFsdFRleHQgPSBjb250ZW50IHx8IFwiVXNlciB1cGxvYWRlZCBpbWFnZVwiO1xuICBjb25zdCBoYW5kbGVJbWFnZUVycm9yID0gKCkgPT4ge1xuICAgIHNldEltYWdlRXJyb3IodHJ1ZSk7XG4gIH07XG4gIGlmIChpbWFnZUVycm9yKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgY29waWxvdEtpdEltYWdlUmVuZGVyaW5nIGNvcGlsb3RLaXRJbWFnZVJlbmRlcmluZ0Vycm9yICR7Y2xhc3NOYW1lfWAsIGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRJbWFnZVJlbmRlcmluZ0Vycm9yTWVzc2FnZVwiLCBjaGlsZHJlbjogXCJGYWlsZWQgdG8gbG9hZCBpbWFnZVwiIH0pLFxuICAgICAgY29udGVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRJbWFnZVJlbmRlcmluZ0NvbnRlbnRcIiwgY2hpbGRyZW46IGNvbnRlbnQgfSlcbiAgICBdIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogYGNvcGlsb3RLaXRJbWFnZVJlbmRlcmluZyAke2NsYXNzTmFtZX1gLCBjaGlsZHJlbjogW1xuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcImltZ1wiLFxuICAgICAge1xuICAgICAgICBzcmM6IGltYWdlU3JjLFxuICAgICAgICBhbHQ6IGFsdFRleHQsXG4gICAgICAgIGNsYXNzTmFtZTogXCJjb3BpbG90S2l0SW1hZ2VSZW5kZXJpbmdJbWFnZVwiLFxuICAgICAgICBvbkVycm9yOiBoYW5kbGVJbWFnZUVycm9yXG4gICAgICB9XG4gICAgKSxcbiAgICBjb250ZW50ICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdEltYWdlUmVuZGVyaW5nQ29udGVudFwiLCBjaGlsZHJlbjogY29udGVudCB9KVxuICBdIH0pO1xufTtcblxuZXhwb3J0IHtcbiAgSW1hZ2VSZW5kZXJlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLURCS1JBT0g3Lm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DBKRAOH7.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DTRPPNSA.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-DTRPPNSA.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input)\n/* harmony export */ });\n/* harmony import */ var _chunk_CGEAG65D_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-CGEAG65D.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-CGEAG65D.mjs\");\n/* harmony import */ var _chunk_QIOJXTIQ_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-QIOJXTIQ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-QIOJXTIQ.mjs\");\n/* harmony import */ var _chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IEMQ2SQW.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs\");\n/* harmony import */ var _chunk_O72ZB5V3_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-O72ZB5V3.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-O72ZB5V3.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n\n// src/components/chat/Input.tsx\n\n\n\nvar MAX_NEWLINES = 6;\nvar Input = ({\n  inProgress,\n  onSend,\n  isVisible = false,\n  onStop,\n  onUpload,\n  hideStopButton = false\n}) => {\n  var _a, _b;\n  const context = (0,_chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_2__.useChatContext)();\n  const copilotContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_3__.useCopilotContext)();\n  const showPoweredBy = !((_a = copilotContext.copilotApiConfig) == null ? void 0 : _a.publicApiKey);\n  const pushToTalkConfigured = copilotContext.copilotApiConfig.textToSpeechUrl !== void 0 && copilotContext.copilotApiConfig.transcribeAudioUrl !== void 0;\n  const textareaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const [isComposing, setIsComposing] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const handleDivClick = (event) => {\n    var _a2;\n    const target = event.target;\n    if (target.closest(\"button\"))\n      return;\n    if (target.tagName === \"TEXTAREA\")\n      return;\n    (_a2 = textareaRef.current) == null ? void 0 : _a2.focus();\n  };\n  const [text, setText] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"\");\n  const send = () => {\n    var _a2;\n    if (inProgress)\n      return;\n    onSend(text);\n    setText(\"\");\n    (_a2 = textareaRef.current) == null ? void 0 : _a2.focus();\n  };\n  const { pushToTalkState, setPushToTalkState } = (0,_chunk_O72ZB5V3_mjs__WEBPACK_IMPORTED_MODULE_4__.usePushToTalk)({\n    sendFunction: onSend,\n    inProgress\n  });\n  const isInProgress = inProgress || pushToTalkState === \"transcribing\";\n  const buttonIcon = isInProgress && !hideStopButton ? context.icons.stopIcon : context.icons.sendIcon;\n  const showPushToTalk = pushToTalkConfigured && (pushToTalkState === \"idle\" || pushToTalkState === \"recording\") && !inProgress;\n  const canSend = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    var _a2;\n    const interruptEvent = (_a2 = copilotContext.langGraphInterruptAction) == null ? void 0 : _a2.event;\n    const interruptInProgress = (interruptEvent == null ? void 0 : interruptEvent.name) === \"LangGraphInterruptEvent\" && !(interruptEvent == null ? void 0 : interruptEvent.response);\n    return !isInProgress && text.trim().length > 0 && pushToTalkState === \"idle\" && !interruptInProgress;\n  }, [(_b = copilotContext.langGraphInterruptAction) == null ? void 0 : _b.event, isInProgress, text, pushToTalkState]);\n  const canStop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return isInProgress && !hideStopButton;\n  }, [isInProgress, hideStopButton]);\n  const sendDisabled = !canSend && !canStop;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: `copilotKitInputContainer ${showPoweredBy ? \"poweredByContainer\" : \"\"}`, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitInput\", onClick: handleDivClick, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        _chunk_QIOJXTIQ_mjs__WEBPACK_IMPORTED_MODULE_5__.Textarea_default,\n        {\n          ref: textareaRef,\n          placeholder: context.labels.placeholder,\n          autoFocus: false,\n          maxRows: MAX_NEWLINES,\n          value: text,\n          onChange: (event) => setText(event.target.value),\n          onCompositionStart: () => setIsComposing(true),\n          onCompositionEnd: () => setIsComposing(false),\n          onKeyDown: (event) => {\n            if (event.key === \"Enter\" && !event.shiftKey && !isComposing) {\n              event.preventDefault();\n              if (canSend) {\n                send();\n              }\n            }\n          }\n        }\n      ),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitInputControls\", children: [\n        onUpload && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"button\", { onClick: onUpload, className: \"copilotKitInputControlButton\", children: context.icons.uploadIcon }),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { flexGrow: 1 } }),\n        showPushToTalk && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"button\",\n          {\n            onClick: () => setPushToTalkState(pushToTalkState === \"idle\" ? \"recording\" : \"transcribing\"),\n            className: pushToTalkState === \"recording\" ? \"copilotKitInputControlButton copilotKitPushToTalkRecording\" : \"copilotKitInputControlButton\",\n            children: context.icons.pushToTalkIcon\n          }\n        ),\n        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"button\",\n          {\n            disabled: sendDisabled,\n            onClick: isInProgress && !hideStopButton ? onStop : send,\n            \"data-copilotkit-in-progress\": inProgress,\n            \"data-test-id\": inProgress ? \"copilot-chat-request-in-progress\" : \"copilot-chat-ready\",\n            className: \"copilotKitInputControlButton\",\n            children: buttonIcon\n          }\n        )\n      ] })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_CGEAG65D_mjs__WEBPACK_IMPORTED_MODULE_6__.PoweredByTag, { showPoweredBy })\n  ] });\n};\n\n\n//# sourceMappingURL=chunk-DTRPPNSA.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1EVFJQUE5TQS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUdBO0FBR0E7O0FBRTlCO0FBQ2tEO0FBQ1M7QUFDYjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCLG1FQUFjO0FBQ2hDLHlCQUF5Qix5RUFBaUI7QUFDMUM7QUFDQTtBQUNBLHNCQUFzQiw2Q0FBTTtBQUM1Qix3Q0FBd0MsK0NBQVE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtDQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNDQUFzQyxFQUFFLGtFQUFhO0FBQy9EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLDhDQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGtCQUFrQiw4Q0FBTztBQUN6QjtBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5Qix1REFBSSxVQUFVLHVDQUF1QywwQ0FBMEM7QUFDeEgsb0JBQW9CLHVEQUFJLFVBQVU7QUFDbEMsc0JBQXNCLHNEQUFHO0FBQ3pCLFFBQVEsaUVBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFJLFVBQVU7QUFDcEMsb0NBQW9DLHNEQUFHLGFBQWEsa0dBQWtHO0FBQ3RKLHdCQUF3QixzREFBRyxVQUFVLFNBQVMsZUFBZTtBQUM3RCwwQ0FBMEMsc0RBQUc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0RBQUc7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLG9CQUFvQixzREFBRyxDQUFDLDZEQUFZLElBQUksZUFBZTtBQUN2RCxLQUFLO0FBQ0w7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1EVFJQUE5TQS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgUG93ZXJlZEJ5VGFnXG59IGZyb20gXCIuL2NodW5rLUNHRUFHNjVELm1qc1wiO1xuaW1wb3J0IHtcbiAgVGV4dGFyZWFfZGVmYXVsdFxufSBmcm9tIFwiLi9jaHVuay1RSU9KWFRJUS5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNoYXRDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLUlFTVEyU1FXLm1qc1wiO1xuaW1wb3J0IHtcbiAgdXNlUHVzaFRvVGFsa1xufSBmcm9tIFwiLi9jaHVuay1PNzJaQjVWMy5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9JbnB1dC50c3hcbmltcG9ydCB7IHVzZU1lbW8sIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvcGlsb3RDb250ZXh0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7IGpzeCwganN4cyB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIE1BWF9ORVdMSU5FUyA9IDY7XG52YXIgSW5wdXQgPSAoe1xuICBpblByb2dyZXNzLFxuICBvblNlbmQsXG4gIGlzVmlzaWJsZSA9IGZhbHNlLFxuICBvblN0b3AsXG4gIG9uVXBsb2FkLFxuICBoaWRlU3RvcEJ1dHRvbiA9IGZhbHNlXG59KSA9PiB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDaGF0Q29udGV4dCgpO1xuICBjb25zdCBjb3BpbG90Q29udGV4dCA9IHVzZUNvcGlsb3RDb250ZXh0KCk7XG4gIGNvbnN0IHNob3dQb3dlcmVkQnkgPSAhKChfYSA9IGNvcGlsb3RDb250ZXh0LmNvcGlsb3RBcGlDb25maWcpID09IG51bGwgPyB2b2lkIDAgOiBfYS5wdWJsaWNBcGlLZXkpO1xuICBjb25zdCBwdXNoVG9UYWxrQ29uZmlndXJlZCA9IGNvcGlsb3RDb250ZXh0LmNvcGlsb3RBcGlDb25maWcudGV4dFRvU3BlZWNoVXJsICE9PSB2b2lkIDAgJiYgY29waWxvdENvbnRleHQuY29waWxvdEFwaUNvbmZpZy50cmFuc2NyaWJlQXVkaW9VcmwgIT09IHZvaWQgMDtcbiAgY29uc3QgdGV4dGFyZWFSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpc0NvbXBvc2luZywgc2V0SXNDb21wb3NpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYW5kbGVEaXZDbGljayA9IChldmVudCkgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdChcImJ1dHRvblwiKSlcbiAgICAgIHJldHVybjtcbiAgICBpZiAodGFyZ2V0LnRhZ05hbWUgPT09IFwiVEVYVEFSRUFcIilcbiAgICAgIHJldHVybjtcbiAgICAoX2EyID0gdGV4dGFyZWFSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5mb2N1cygpO1xuICB9O1xuICBjb25zdCBbdGV4dCwgc2V0VGV4dF0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3Qgc2VuZCA9ICgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGlmIChpblByb2dyZXNzKVxuICAgICAgcmV0dXJuO1xuICAgIG9uU2VuZCh0ZXh0KTtcbiAgICBzZXRUZXh0KFwiXCIpO1xuICAgIChfYTIgPSB0ZXh0YXJlYVJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7XG4gIH07XG4gIGNvbnN0IHsgcHVzaFRvVGFsa1N0YXRlLCBzZXRQdXNoVG9UYWxrU3RhdGUgfSA9IHVzZVB1c2hUb1RhbGsoe1xuICAgIHNlbmRGdW5jdGlvbjogb25TZW5kLFxuICAgIGluUHJvZ3Jlc3NcbiAgfSk7XG4gIGNvbnN0IGlzSW5Qcm9ncmVzcyA9IGluUHJvZ3Jlc3MgfHwgcHVzaFRvVGFsa1N0YXRlID09PSBcInRyYW5zY3JpYmluZ1wiO1xuICBjb25zdCBidXR0b25JY29uID0gaXNJblByb2dyZXNzICYmICFoaWRlU3RvcEJ1dHRvbiA/IGNvbnRleHQuaWNvbnMuc3RvcEljb24gOiBjb250ZXh0Lmljb25zLnNlbmRJY29uO1xuICBjb25zdCBzaG93UHVzaFRvVGFsayA9IHB1c2hUb1RhbGtDb25maWd1cmVkICYmIChwdXNoVG9UYWxrU3RhdGUgPT09IFwiaWRsZVwiIHx8IHB1c2hUb1RhbGtTdGF0ZSA9PT0gXCJyZWNvcmRpbmdcIikgJiYgIWluUHJvZ3Jlc3M7XG4gIGNvbnN0IGNhblNlbmQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIGNvbnN0IGludGVycnVwdEV2ZW50ID0gKF9hMiA9IGNvcGlsb3RDb250ZXh0LmxhbmdHcmFwaEludGVycnVwdEFjdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5ldmVudDtcbiAgICBjb25zdCBpbnRlcnJ1cHRJblByb2dyZXNzID0gKGludGVycnVwdEV2ZW50ID09IG51bGwgPyB2b2lkIDAgOiBpbnRlcnJ1cHRFdmVudC5uYW1lKSA9PT0gXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiICYmICEoaW50ZXJydXB0RXZlbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGludGVycnVwdEV2ZW50LnJlc3BvbnNlKTtcbiAgICByZXR1cm4gIWlzSW5Qcm9ncmVzcyAmJiB0ZXh0LnRyaW0oKS5sZW5ndGggPiAwICYmIHB1c2hUb1RhbGtTdGF0ZSA9PT0gXCJpZGxlXCIgJiYgIWludGVycnVwdEluUHJvZ3Jlc3M7XG4gIH0sIFsoX2IgPSBjb3BpbG90Q29udGV4dC5sYW5nR3JhcGhJbnRlcnJ1cHRBY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBfYi5ldmVudCwgaXNJblByb2dyZXNzLCB0ZXh0LCBwdXNoVG9UYWxrU3RhdGVdKTtcbiAgY29uc3QgY2FuU3RvcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBpc0luUHJvZ3Jlc3MgJiYgIWhpZGVTdG9wQnV0dG9uO1xuICB9LCBbaXNJblByb2dyZXNzLCBoaWRlU3RvcEJ1dHRvbl0pO1xuICBjb25zdCBzZW5kRGlzYWJsZWQgPSAhY2FuU2VuZCAmJiAhY2FuU3RvcDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBgY29waWxvdEtpdElucHV0Q29udGFpbmVyICR7c2hvd1Bvd2VyZWRCeSA/IFwicG93ZXJlZEJ5Q29udGFpbmVyXCIgOiBcIlwifWAsIGNoaWxkcmVuOiBbXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdElucHV0XCIsIG9uQ2xpY2s6IGhhbmRsZURpdkNsaWNrLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgVGV4dGFyZWFfZGVmYXVsdCxcbiAgICAgICAge1xuICAgICAgICAgIHJlZjogdGV4dGFyZWFSZWYsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IGNvbnRleHQubGFiZWxzLnBsYWNlaG9sZGVyLFxuICAgICAgICAgIGF1dG9Gb2N1czogZmFsc2UsXG4gICAgICAgICAgbWF4Um93czogTUFYX05FV0xJTkVTLFxuICAgICAgICAgIHZhbHVlOiB0ZXh0LFxuICAgICAgICAgIG9uQ2hhbmdlOiAoZXZlbnQpID0+IHNldFRleHQoZXZlbnQudGFyZ2V0LnZhbHVlKSxcbiAgICAgICAgICBvbkNvbXBvc2l0aW9uU3RhcnQ6ICgpID0+IHNldElzQ29tcG9zaW5nKHRydWUpLFxuICAgICAgICAgIG9uQ29tcG9zaXRpb25FbmQ6ICgpID0+IHNldElzQ29tcG9zaW5nKGZhbHNlKSxcbiAgICAgICAgICBvbktleURvd246IChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiICYmICFldmVudC5zaGlmdEtleSAmJiAhaXNDb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgaWYgKGNhblNlbmQpIHtcbiAgICAgICAgICAgICAgICBzZW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0SW5wdXRDb250cm9sc1wiLCBjaGlsZHJlbjogW1xuICAgICAgICBvblVwbG9hZCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFwiYnV0dG9uXCIsIHsgb25DbGljazogb25VcGxvYWQsIGNsYXNzTmFtZTogXCJjb3BpbG90S2l0SW5wdXRDb250cm9sQnV0dG9uXCIsIGNoaWxkcmVuOiBjb250ZXh0Lmljb25zLnVwbG9hZEljb24gfSksXG4gICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJkaXZcIiwgeyBzdHlsZTogeyBmbGV4R3JvdzogMSB9IH0pLFxuICAgICAgICBzaG93UHVzaFRvVGFsayAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgb25DbGljazogKCkgPT4gc2V0UHVzaFRvVGFsa1N0YXRlKHB1c2hUb1RhbGtTdGF0ZSA9PT0gXCJpZGxlXCIgPyBcInJlY29yZGluZ1wiIDogXCJ0cmFuc2NyaWJpbmdcIiksXG4gICAgICAgICAgICBjbGFzc05hbWU6IHB1c2hUb1RhbGtTdGF0ZSA9PT0gXCJyZWNvcmRpbmdcIiA/IFwiY29waWxvdEtpdElucHV0Q29udHJvbEJ1dHRvbiBjb3BpbG90S2l0UHVzaFRvVGFsa1JlY29yZGluZ1wiIDogXCJjb3BpbG90S2l0SW5wdXRDb250cm9sQnV0dG9uXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogY29udGV4dC5pY29ucy5wdXNoVG9UYWxrSWNvblxuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRpc2FibGVkOiBzZW5kRGlzYWJsZWQsXG4gICAgICAgICAgICBvbkNsaWNrOiBpc0luUHJvZ3Jlc3MgJiYgIWhpZGVTdG9wQnV0dG9uID8gb25TdG9wIDogc2VuZCxcbiAgICAgICAgICAgIFwiZGF0YS1jb3BpbG90a2l0LWluLXByb2dyZXNzXCI6IGluUHJvZ3Jlc3MsXG4gICAgICAgICAgICBcImRhdGEtdGVzdC1pZFwiOiBpblByb2dyZXNzID8gXCJjb3BpbG90LWNoYXQtcmVxdWVzdC1pbi1wcm9ncmVzc1wiIDogXCJjb3BpbG90LWNoYXQtcmVhZHlcIixcbiAgICAgICAgICAgIGNsYXNzTmFtZTogXCJjb3BpbG90S2l0SW5wdXRDb250cm9sQnV0dG9uXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogYnV0dG9uSWNvblxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgXSB9KVxuICAgIF0gfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChQb3dlcmVkQnlUYWcsIHsgc2hvd1Bvd2VyZWRCeSB9KVxuICBdIH0pO1xufTtcblxuZXhwb3J0IHtcbiAgSW5wdXRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1EVFJQUE5TQS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DTRPPNSA.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatContext: () => (/* binding */ ChatContext),\n/* harmony export */   ChatContextProvider: () => (/* binding */ ChatContextProvider),\n/* harmony export */   useChatContext: () => (/* binding */ useChatContext)\n/* harmony export */ });\n/* harmony import */ var _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-XWG3L6QC.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-XWG3L6QC.mjs\");\n/* harmony import */ var _chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-MRXNTQOX.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n// src/components/chat/ChatContext.tsx\n\n\nvar ChatContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction useChatContext() {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(ChatContext);\n  if (context === void 0) {\n    throw new Error(\n      \"Context not found. Did you forget to wrap your app in a <ChatContextProvider> component?\"\n    );\n  }\n  return context;\n}\nvar ChatContextProvider = ({\n  // temperature,\n  // instructions,\n  // maxFeedback,\n  labels,\n  icons,\n  children,\n  open,\n  setOpen\n}) => {\n  const memoizedLabels = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, {\n      initial: \"\",\n      title: \"CopilotKit\",\n      placeholder: \"Type a message...\",\n      error: \"\\u274C An error occurred. Please try again.\",\n      stopGenerating: \"Stop generating\",\n      regenerateResponse: \"Regenerate response\",\n      copyToClipboard: \"Copy to clipboard\",\n      thumbsUp: \"Thumbs up\",\n      thumbsDown: \"Thumbs down\",\n      copied: \"Copied!\"\n    }), labels),\n    [labels]\n  );\n  const memoizedIcons = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, {\n      openIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.OpenIcon,\n      closeIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.CloseIcon,\n      headerCloseIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderCloseIcon,\n      sendIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.SendIcon,\n      activityIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.ActivityIcon,\n      spinnerIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.SpinnerIcon,\n      stopIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.StopIcon,\n      regenerateIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.RegenerateIcon,\n      pushToTalkIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.MicrophoneIcon,\n      copyIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.CopyIcon,\n      thumbsUpIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.ThumbsUpIcon,\n      thumbsDownIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.ThumbsDownIcon,\n      uploadIcon: _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_3__.UploadIcon\n    }), icons),\n    [icons]\n  );\n  const context = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      labels: memoizedLabels,\n      icons: memoizedIcons,\n      open,\n      setOpen\n    }),\n    [memoizedLabels, memoizedIcons, open, setOpen]\n  );\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ChatContext.Provider, { value: context, children });\n};\n\n\n//# sourceMappingURL=chunk-IEMQ2SQW.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1JRU1RMlNRVy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQWM4QjtBQUdBOztBQUU5QjtBQUN1QztBQUNDO0FBQ3hDLGtCQUFrQixnREFBbUI7QUFDckM7QUFDQSxrQkFBa0IsNkNBQWdCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHlCQUF5Qiw4Q0FBTztBQUNoQyxVQUFVLG1FQUFjLENBQUMsbUVBQWMsR0FBRztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLDhDQUFPO0FBQy9CLFVBQVUsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHO0FBQzFDLGdCQUFnQix5REFBUTtBQUN4QixpQkFBaUIsMERBQVM7QUFDMUIsdUJBQXVCLGdFQUFlO0FBQ3RDLGdCQUFnQix5REFBUTtBQUN4QixvQkFBb0IsNkRBQVk7QUFDaEMsbUJBQW1CLDREQUFXO0FBQzlCLGdCQUFnQix5REFBUTtBQUN4QixzQkFBc0IsK0RBQWM7QUFDcEMsc0JBQXNCLCtEQUFjO0FBQ3BDLGdCQUFnQix5REFBUTtBQUN4QixvQkFBb0IsNkRBQVk7QUFDaEMsc0JBQXNCLCtEQUFjO0FBQ3BDLGtCQUFrQiwyREFBVTtBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQiw4Q0FBTztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx5QkFBeUIsc0RBQUcseUJBQXlCLDBCQUEwQjtBQUMvRTs7QUFNRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2NodW5rLUlFTVEyU1FXLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBY3Rpdml0eUljb24sXG4gIENsb3NlSWNvbixcbiAgQ29weUljb24sXG4gIEhlYWRlckNsb3NlSWNvbixcbiAgTWljcm9waG9uZUljb24sXG4gIE9wZW5JY29uLFxuICBSZWdlbmVyYXRlSWNvbixcbiAgU2VuZEljb24sXG4gIFNwaW5uZXJJY29uLFxuICBTdG9wSWNvbixcbiAgVGh1bWJzRG93bkljb24sXG4gIFRodW1ic1VwSWNvbixcbiAgVXBsb2FkSWNvblxufSBmcm9tIFwiLi9jaHVuay1YV0czTDZRQy5tanNcIjtcbmltcG9ydCB7XG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLU1SWE5UUU9YLm1qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0L0NoYXRDb250ZXh0LnRzeFxuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIENoYXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gdXNlQ2hhdENvbnRleHQoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBSZWFjdC51c2VDb250ZXh0KENoYXRDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiQ29udGV4dCBub3QgZm91bmQuIERpZCB5b3UgZm9yZ2V0IHRvIHdyYXAgeW91ciBhcHAgaW4gYSA8Q2hhdENvbnRleHRQcm92aWRlcj4gY29tcG9uZW50P1wiXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cbnZhciBDaGF0Q29udGV4dFByb3ZpZGVyID0gKHtcbiAgLy8gdGVtcGVyYXR1cmUsXG4gIC8vIGluc3RydWN0aW9ucyxcbiAgLy8gbWF4RmVlZGJhY2ssXG4gIGxhYmVscyxcbiAgaWNvbnMsXG4gIGNoaWxkcmVuLFxuICBvcGVuLFxuICBzZXRPcGVuXG59KSA9PiB7XG4gIGNvbnN0IG1lbW9pemVkTGFiZWxzID0gdXNlTWVtbyhcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwge1xuICAgICAgaW5pdGlhbDogXCJcIixcbiAgICAgIHRpdGxlOiBcIkNvcGlsb3RLaXRcIixcbiAgICAgIHBsYWNlaG9sZGVyOiBcIlR5cGUgYSBtZXNzYWdlLi4uXCIsXG4gICAgICBlcnJvcjogXCJcXHUyNzRDIEFuIGVycm9yIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluLlwiLFxuICAgICAgc3RvcEdlbmVyYXRpbmc6IFwiU3RvcCBnZW5lcmF0aW5nXCIsXG4gICAgICByZWdlbmVyYXRlUmVzcG9uc2U6IFwiUmVnZW5lcmF0ZSByZXNwb25zZVwiLFxuICAgICAgY29weVRvQ2xpcGJvYXJkOiBcIkNvcHkgdG8gY2xpcGJvYXJkXCIsXG4gICAgICB0aHVtYnNVcDogXCJUaHVtYnMgdXBcIixcbiAgICAgIHRodW1ic0Rvd246IFwiVGh1bWJzIGRvd25cIixcbiAgICAgIGNvcGllZDogXCJDb3BpZWQhXCJcbiAgICB9KSwgbGFiZWxzKSxcbiAgICBbbGFiZWxzXVxuICApO1xuICBjb25zdCBtZW1vaXplZEljb25zID0gdXNlTWVtbyhcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwge1xuICAgICAgb3Blbkljb246IE9wZW5JY29uLFxuICAgICAgY2xvc2VJY29uOiBDbG9zZUljb24sXG4gICAgICBoZWFkZXJDbG9zZUljb246IEhlYWRlckNsb3NlSWNvbixcbiAgICAgIHNlbmRJY29uOiBTZW5kSWNvbixcbiAgICAgIGFjdGl2aXR5SWNvbjogQWN0aXZpdHlJY29uLFxuICAgICAgc3Bpbm5lckljb246IFNwaW5uZXJJY29uLFxuICAgICAgc3RvcEljb246IFN0b3BJY29uLFxuICAgICAgcmVnZW5lcmF0ZUljb246IFJlZ2VuZXJhdGVJY29uLFxuICAgICAgcHVzaFRvVGFsa0ljb246IE1pY3JvcGhvbmVJY29uLFxuICAgICAgY29weUljb246IENvcHlJY29uLFxuICAgICAgdGh1bWJzVXBJY29uOiBUaHVtYnNVcEljb24sXG4gICAgICB0aHVtYnNEb3duSWNvbjogVGh1bWJzRG93bkljb24sXG4gICAgICB1cGxvYWRJY29uOiBVcGxvYWRJY29uXG4gICAgfSksIGljb25zKSxcbiAgICBbaWNvbnNdXG4gICk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBsYWJlbHM6IG1lbW9pemVkTGFiZWxzLFxuICAgICAgaWNvbnM6IG1lbW9pemVkSWNvbnMsXG4gICAgICBvcGVuLFxuICAgICAgc2V0T3BlblxuICAgIH0pLFxuICAgIFttZW1vaXplZExhYmVscywgbWVtb2l6ZWRJY29ucywgb3Blbiwgc2V0T3Blbl1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goQ2hhdENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQsIGNoaWxkcmVuIH0pO1xufTtcblxuZXhwb3J0IHtcbiAgQ2hhdENvbnRleHQsXG4gIHVzZUNoYXRDb250ZXh0LFxuICBDaGF0Q29udGV4dFByb3ZpZGVyXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstSUVNUTJTUVcubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-JGMFJZMG.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-JGMFJZMG.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useDarkMode: () => (/* binding */ useDarkMode)\n/* harmony export */ });\n// src/hooks/use-dark-mode.ts\nvar useDarkMode = () => {\n  if (typeof window === \"undefined\")\n    return false;\n  return document.documentElement.classList.contains(\"dark\") || document.body.classList.contains(\"dark\") || document.documentElement.getAttribute(\"data-theme\") === \"dark\" || document.body.getAttribute(\"data-theme\") === \"dark\" || window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n};\n\n\n//# sourceMappingURL=chunk-JGMFJZMG.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1KR01GSlpNRy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2NodW5rLUpHTUZKWk1HLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvaG9va3MvdXNlLWRhcmstbW9kZS50c1xudmFyIHVzZURhcmtNb2RlID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya1wiKSB8fCBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIikgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGhlbWVcIikgPT09IFwiZGFya1wiIHx8IGRvY3VtZW50LmJvZHkuZ2V0QXR0cmlidXRlKFwiZGF0YS10aGVtZVwiKSA9PT0gXCJkYXJrXCIgfHwgd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpLm1hdGNoZXM7XG59O1xuXG5leHBvcnQge1xuICB1c2VEYXJrTW9kZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUpHTUZKWk1HLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-JGMFJZMG.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   __async: () => (/* binding */ __async),\n/* harmony export */   __objRest: () => (/* binding */ __objRest),\n/* harmony export */   __spreadProps: () => (/* binding */ __spreadProps),\n/* harmony export */   __spreadValues: () => (/* binding */ __spreadValues)\n/* harmony export */ });\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n\n//# sourceMappingURL=chunk-MRXNTQOX.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1NUlhOVFFPWC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstTVJYTlRRT1gubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2RlZlByb3AgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG52YXIgX19kZWZQcm9wcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzO1xudmFyIF9fZ2V0T3duUHJvcERlc2NzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX3Byb3BJc0VudW0gPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO1xudmFyIF9fZGVmTm9ybWFsUHJvcCA9IChvYmosIGtleSwgdmFsdWUpID0+IGtleSBpbiBvYmogPyBfX2RlZlByb3Aob2JqLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWUgfSkgOiBvYmpba2V5XSA9IHZhbHVlO1xudmFyIF9fc3ByZWFkVmFsdWVzID0gKGEsIGIpID0+IHtcbiAgZm9yICh2YXIgcHJvcCBpbiBiIHx8IChiID0ge30pKVxuICAgIGlmIChfX2hhc093blByb3AuY2FsbChiLCBwcm9wKSlcbiAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgaWYgKF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKGIpKSB7XG4gICAgICBpZiAoX19wcm9wSXNFbnVtLmNhbGwoYiwgcHJvcCkpXG4gICAgICAgIF9fZGVmTm9ybWFsUHJvcChhLCBwcm9wLCBiW3Byb3BdKTtcbiAgICB9XG4gIHJldHVybiBhO1xufTtcbnZhciBfX3NwcmVhZFByb3BzID0gKGEsIGIpID0+IF9fZGVmUHJvcHMoYSwgX19nZXRPd25Qcm9wRGVzY3MoYikpO1xudmFyIF9fb2JqUmVzdCA9IChzb3VyY2UsIGV4Y2x1ZGUpID0+IHtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoc291cmNlLCBwcm9wKSAmJiBleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwKVxuICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICBpZiAoc291cmNlICE9IG51bGwgJiYgX19nZXRPd25Qcm9wU3ltYm9scylcbiAgICBmb3IgKHZhciBwcm9wIG9mIF9fZ2V0T3duUHJvcFN5bWJvbHMoc291cmNlKSkge1xuICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihwcm9wKSA8IDAgJiYgX19wcm9wSXNFbnVtLmNhbGwoc291cmNlLCBwcm9wKSlcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG52YXIgX19hc3luYyA9IChfX3RoaXMsIF9fYXJndW1lbnRzLCBnZW5lcmF0b3IpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICB2YXIgZnVsZmlsbGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciByZWplY3RlZCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHN0ZXAgPSAoeCkgPT4geC5kb25lID8gcmVzb2x2ZSh4LnZhbHVlKSA6IFByb21pc2UucmVzb2x2ZSh4LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseShfX3RoaXMsIF9fYXJndW1lbnRzKSkubmV4dCgpKTtcbiAgfSk7XG59O1xuXG5leHBvcnQge1xuICBfX3NwcmVhZFZhbHVlcyxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19vYmpSZXN0LFxuICBfX2FzeW5jXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstTVJYTlRRT1gubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-NGA4T3VT.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-NGA4T3VT.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Messages: () => (/* binding */ Messages),\n/* harmony export */   useScrollToBottom: () => (/* binding */ useScrollToBottom)\n/* harmony export */ });\n/* harmony import */ var _chunk_SP2PFXCH_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-SP2PFXCH.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-SP2PFXCH.mjs\");\n/* harmony import */ var _chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IEMQ2SQW.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs\");\n/* harmony import */ var _chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-MRXNTQOX.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n// src/components/chat/Messages.tsx\n\n\n\nvar Messages = ({\n  inProgress,\n  children,\n  RenderMessage,\n  AssistantMessage,\n  UserMessage,\n  ErrorMessage,\n  ImageRenderer,\n  onRegenerate,\n  onCopy,\n  onThumbsUp,\n  onThumbsDown,\n  markdownTagRenderers,\n  chatError,\n  // Legacy props\n  RenderTextMessage,\n  RenderActionExecutionMessage,\n  RenderAgentStateMessage,\n  RenderResultMessage,\n  RenderImageMessage\n}) => {\n  const { labels } = (0,_chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_2__.useChatContext)();\n  const { messages: visibleMessages, interrupt } = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_3__.useCopilotChat)();\n  const initialMessages = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => makeInitialMessages(labels.initial), [labels.initial]);\n  const messages = [...initialMessages, ...visibleMessages];\n  const { messagesContainerRef, messagesEndRef } = useScrollToBottom(messages);\n  const hasLegacyProps = !!(RenderTextMessage || RenderActionExecutionMessage || RenderAgentStateMessage || RenderResultMessage || RenderImageMessage);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (hasLegacyProps) {\n      console.warn(\n        \"[CopilotKit] Legacy message render props (RenderTextMessage, RenderActionExecutionMessage, etc.) are deprecated. Please use the unified 'RenderMessage' prop instead. See migration guide: https://docs.copilotkit.ai/migration/render-message\"\n      );\n    }\n  }, [hasLegacyProps]);\n  const legacyProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => ({\n      RenderTextMessage,\n      RenderActionExecutionMessage,\n      RenderAgentStateMessage,\n      RenderResultMessage,\n      RenderImageMessage\n    }),\n    [\n      RenderTextMessage,\n      RenderActionExecutionMessage,\n      RenderAgentStateMessage,\n      RenderResultMessage,\n      RenderImageMessage\n    ]\n  );\n  const MessageRenderer = hasLegacyProps ? (props) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_SP2PFXCH_mjs__WEBPACK_IMPORTED_MODULE_4__.LegacyRenderMessage, (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_5__.__spreadValues)({}, props), { legacyProps })) : RenderMessage;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitMessages\", ref: messagesContainerRef, children: [\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitMessagesContainer\", children: [\n      messages.map((message, index) => {\n        const isCurrentMessage = index === messages.length - 1;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          MessageRenderer,\n          {\n            message,\n            inProgress,\n            index,\n            isCurrentMessage,\n            AssistantMessage,\n            UserMessage,\n            ImageRenderer,\n            onRegenerate,\n            onCopy,\n            onThumbsUp,\n            onThumbsDown,\n            markdownTagRenderers\n          },\n          index\n        );\n      }),\n      interrupt,\n      chatError && ErrorMessage && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(ErrorMessage, { error: chatError, isCurrentMessage: true })\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"footer\", { className: \"copilotKitMessagesFooter\", ref: messagesEndRef, children })\n  ] });\n};\nfunction makeInitialMessages(initial) {\n  if (!initial)\n    return [];\n  if (Array.isArray(initial)) {\n    return initial.map((message) => {\n      return {\n        id: message,\n        role: \"assistant\",\n        content: message\n      };\n    });\n  }\n  return [\n    {\n      id: initial,\n      role: \"assistant\",\n      content: initial\n    }\n  ];\n}\nfunction useScrollToBottom(messages) {\n  const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const messagesContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const isProgrammaticScrollRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const isUserScrollUpRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  const scrollToBottom = () => {\n    if (messagesContainerRef.current && messagesEndRef.current) {\n      isProgrammaticScrollRef.current = true;\n      messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n    }\n  };\n  const handleScroll = () => {\n    if (isProgrammaticScrollRef.current) {\n      isProgrammaticScrollRef.current = false;\n      return;\n    }\n    if (messagesContainerRef.current) {\n      const { scrollTop, scrollHeight, clientHeight } = messagesContainerRef.current;\n      isUserScrollUpRef.current = scrollTop + clientHeight < scrollHeight;\n    }\n  };\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const container = messagesContainerRef.current;\n    if (container) {\n      container.addEventListener(\"scroll\", handleScroll);\n    }\n    return () => {\n      if (container) {\n        container.removeEventListener(\"scroll\", handleScroll);\n      }\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const container = messagesContainerRef.current;\n    if (!container) {\n      return;\n    }\n    const mutationObserver = new MutationObserver(() => {\n      if (!isUserScrollUpRef.current) {\n        scrollToBottom();\n      }\n    });\n    mutationObserver.observe(container, {\n      childList: true,\n      subtree: true,\n      characterData: true\n    });\n    return () => {\n      mutationObserver.disconnect();\n    };\n  }, []);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    isUserScrollUpRef.current = false;\n    scrollToBottom();\n  }, [messages.filter((m) => m.role === \"user\").length]);\n  return { messagesEndRef, messagesContainerRef };\n}\n\n\n//# sourceMappingURL=chunk-NGA4T3VT.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1OR0E0VDNWVC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFOEI7QUFHQTtBQUlBOztBQUU5QjtBQUNtRDtBQUMrQjtBQUNwQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFVBQVUsU0FBUyxFQUFFLG1FQUFjO0FBQ25DLFVBQVUsdUNBQXVDLEVBQUUsc0VBQWM7QUFDakUsMEJBQTBCLDhDQUFPO0FBQ2pDO0FBQ0EsVUFBVSx1Q0FBdUM7QUFDakQ7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsOENBQU87QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0Usc0RBQUcsQ0FBQyxvRUFBbUIsRUFBRSxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsWUFBWSxhQUFhO0FBQ3ZKLHlCQUF5Qix1REFBSSxVQUFVO0FBQ3ZDLG9CQUFvQix1REFBSSxVQUFVO0FBQ2xDO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsbURBQW1ELHNEQUFHLGlCQUFpQiwwQ0FBMEM7QUFDakgsT0FBTztBQUNQLG9CQUFvQixzREFBRyxhQUFhLHNFQUFzRTtBQUMxRyxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2Q0FBTTtBQUMvQiwrQkFBK0IsNkNBQU07QUFDckMsa0NBQWtDLDZDQUFNO0FBQ3hDLDRCQUE0Qiw2Q0FBTTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHdDQUF3QztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1OR0E0VDNWVC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgTGVnYWN5UmVuZGVyTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1TUDJQRlhDSC5tanNcIjtcbmltcG9ydCB7XG4gIHVzZUNoYXRDb250ZXh0XG59IGZyb20gXCIuL2NodW5rLUlFTVEyU1FXLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstTVJYTlRRT1gubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQvTWVzc2FnZXMudHN4XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29waWxvdENoYXRJbnRlcm5hbCBhcyB1c2VDb3BpbG90Q2hhdCB9IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC1jb3JlXCI7XG5pbXBvcnQgeyBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBNZXNzYWdlcyA9ICh7XG4gIGluUHJvZ3Jlc3MsXG4gIGNoaWxkcmVuLFxuICBSZW5kZXJNZXNzYWdlLFxuICBBc3Npc3RhbnRNZXNzYWdlLFxuICBVc2VyTWVzc2FnZSxcbiAgRXJyb3JNZXNzYWdlLFxuICBJbWFnZVJlbmRlcmVyLFxuICBvblJlZ2VuZXJhdGUsXG4gIG9uQ29weSxcbiAgb25UaHVtYnNVcCxcbiAgb25UaHVtYnNEb3duLFxuICBtYXJrZG93blRhZ1JlbmRlcmVycyxcbiAgY2hhdEVycm9yLFxuICAvLyBMZWdhY3kgcHJvcHNcbiAgUmVuZGVyVGV4dE1lc3NhZ2UsXG4gIFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gIFJlbmRlckFnZW50U3RhdGVNZXNzYWdlLFxuICBSZW5kZXJSZXN1bHRNZXNzYWdlLFxuICBSZW5kZXJJbWFnZU1lc3NhZ2Vcbn0pID0+IHtcbiAgY29uc3QgeyBsYWJlbHMgfSA9IHVzZUNoYXRDb250ZXh0KCk7XG4gIGNvbnN0IHsgbWVzc2FnZXM6IHZpc2libGVNZXNzYWdlcywgaW50ZXJydXB0IH0gPSB1c2VDb3BpbG90Q2hhdCgpO1xuICBjb25zdCBpbml0aWFsTWVzc2FnZXMgPSB1c2VNZW1vKCgpID0+IG1ha2VJbml0aWFsTWVzc2FnZXMobGFiZWxzLmluaXRpYWwpLCBbbGFiZWxzLmluaXRpYWxdKTtcbiAgY29uc3QgbWVzc2FnZXMgPSBbLi4uaW5pdGlhbE1lc3NhZ2VzLCAuLi52aXNpYmxlTWVzc2FnZXNdO1xuICBjb25zdCB7IG1lc3NhZ2VzQ29udGFpbmVyUmVmLCBtZXNzYWdlc0VuZFJlZiB9ID0gdXNlU2Nyb2xsVG9Cb3R0b20obWVzc2FnZXMpO1xuICBjb25zdCBoYXNMZWdhY3lQcm9wcyA9ICEhKFJlbmRlclRleHRNZXNzYWdlIHx8IFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UgfHwgUmVuZGVyQWdlbnRTdGF0ZU1lc3NhZ2UgfHwgUmVuZGVyUmVzdWx0TWVzc2FnZSB8fCBSZW5kZXJJbWFnZU1lc3NhZ2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChoYXNMZWdhY3lQcm9wcykge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBcIltDb3BpbG90S2l0XSBMZWdhY3kgbWVzc2FnZSByZW5kZXIgcHJvcHMgKFJlbmRlclRleHRNZXNzYWdlLCBSZW5kZXJBY3Rpb25FeGVjdXRpb25NZXNzYWdlLCBldGMuKSBhcmUgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgdW5pZmllZCAnUmVuZGVyTWVzc2FnZScgcHJvcCBpbnN0ZWFkLiBTZWUgbWlncmF0aW9uIGd1aWRlOiBodHRwczovL2RvY3MuY29waWxvdGtpdC5haS9taWdyYXRpb24vcmVuZGVyLW1lc3NhZ2VcIlxuICAgICAgKTtcbiAgICB9XG4gIH0sIFtoYXNMZWdhY3lQcm9wc10pO1xuICBjb25zdCBsZWdhY3lQcm9wcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIFJlbmRlclRleHRNZXNzYWdlLFxuICAgICAgUmVuZGVyQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSxcbiAgICAgIFJlbmRlckFnZW50U3RhdGVNZXNzYWdlLFxuICAgICAgUmVuZGVyUmVzdWx0TWVzc2FnZSxcbiAgICAgIFJlbmRlckltYWdlTWVzc2FnZVxuICAgIH0pLFxuICAgIFtcbiAgICAgIFJlbmRlclRleHRNZXNzYWdlLFxuICAgICAgUmVuZGVyQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSxcbiAgICAgIFJlbmRlckFnZW50U3RhdGVNZXNzYWdlLFxuICAgICAgUmVuZGVyUmVzdWx0TWVzc2FnZSxcbiAgICAgIFJlbmRlckltYWdlTWVzc2FnZVxuICAgIF1cbiAgKTtcbiAgY29uc3QgTWVzc2FnZVJlbmRlcmVyID0gaGFzTGVnYWN5UHJvcHMgPyAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goTGVnYWN5UmVuZGVyTWVzc2FnZSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7IGxlZ2FjeVByb3BzIH0pKSA6IFJlbmRlck1lc3NhZ2U7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWVzc2FnZXNcIiwgcmVmOiBtZXNzYWdlc0NvbnRhaW5lclJlZiwgY2hpbGRyZW46IFtcbiAgICAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWVzc2FnZXNDb250YWluZXJcIiwgY2hpbGRyZW46IFtcbiAgICAgIG1lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaXNDdXJyZW50TWVzc2FnZSA9IGluZGV4ID09PSBtZXNzYWdlcy5sZW5ndGggLSAxO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgICBNZXNzYWdlUmVuZGVyZXIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIGluUHJvZ3Jlc3MsXG4gICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgIGlzQ3VycmVudE1lc3NhZ2UsXG4gICAgICAgICAgICBBc3Npc3RhbnRNZXNzYWdlLFxuICAgICAgICAgICAgVXNlck1lc3NhZ2UsXG4gICAgICAgICAgICBJbWFnZVJlbmRlcmVyLFxuICAgICAgICAgICAgb25SZWdlbmVyYXRlLFxuICAgICAgICAgICAgb25Db3B5LFxuICAgICAgICAgICAgb25UaHVtYnNVcCxcbiAgICAgICAgICAgIG9uVGh1bWJzRG93bixcbiAgICAgICAgICAgIG1hcmtkb3duVGFnUmVuZGVyZXJzXG4gICAgICAgICAgfSxcbiAgICAgICAgICBpbmRleFxuICAgICAgICApO1xuICAgICAgfSksXG4gICAgICBpbnRlcnJ1cHQsXG4gICAgICBjaGF0RXJyb3IgJiYgRXJyb3JNZXNzYWdlICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JNZXNzYWdlLCB7IGVycm9yOiBjaGF0RXJyb3IsIGlzQ3VycmVudE1lc3NhZ2U6IHRydWUgfSlcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJmb290ZXJcIiwgeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1lc3NhZ2VzRm9vdGVyXCIsIHJlZjogbWVzc2FnZXNFbmRSZWYsIGNoaWxkcmVuIH0pXG4gIF0gfSk7XG59O1xuZnVuY3Rpb24gbWFrZUluaXRpYWxNZXNzYWdlcyhpbml0aWFsKSB7XG4gIGlmICghaW5pdGlhbClcbiAgICByZXR1cm4gW107XG4gIGlmIChBcnJheS5pc0FycmF5KGluaXRpYWwpKSB7XG4gICAgcmV0dXJuIGluaXRpYWwubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogbWVzc2FnZSxcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogbWVzc2FnZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW1xuICAgIHtcbiAgICAgIGlkOiBpbml0aWFsLFxuICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgIGNvbnRlbnQ6IGluaXRpYWxcbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiB1c2VTY3JvbGxUb0JvdHRvbShtZXNzYWdlcykge1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgbWVzc2FnZXNDb250YWluZXJSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGlzUHJvZ3JhbW1hdGljU2Nyb2xsUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgaXNVc2VyU2Nyb2xsVXBSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBpZiAobWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudCAmJiBtZXNzYWdlc0VuZFJlZi5jdXJyZW50KSB7XG4gICAgICBpc1Byb2dyYW1tYXRpY1Njcm9sbFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgIG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudC5zY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVTY3JvbGwgPSAoKSA9PiB7XG4gICAgaWYgKGlzUHJvZ3JhbW1hdGljU2Nyb2xsUmVmLmN1cnJlbnQpIHtcbiAgICAgIGlzUHJvZ3JhbW1hdGljU2Nyb2xsUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHsgc2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQsIGNsaWVudEhlaWdodCB9ID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudDtcbiAgICAgIGlzVXNlclNjcm9sbFVwUmVmLmN1cnJlbnQgPSBzY3JvbGxUb3AgKyBjbGllbnRIZWlnaHQgPCBzY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9O1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IG1lc3NhZ2VzQ29udGFpbmVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlU2Nyb2xsKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVyID0gbWVzc2FnZXNDb250YWluZXJSZWYuY3VycmVudDtcbiAgICBpZiAoIWNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgaWYgKCFpc1VzZXJTY3JvbGxVcFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHNjcm9sbFRvQm90dG9tKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGNvbnRhaW5lciwge1xuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlzVXNlclNjcm9sbFVwUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICBzY3JvbGxUb0JvdHRvbSgpO1xuICB9LCBbbWVzc2FnZXMuZmlsdGVyKChtKSA9PiBtLnJvbGUgPT09IFwidXNlclwiKS5sZW5ndGhdKTtcbiAgcmV0dXJuIHsgbWVzc2FnZXNFbmRSZWYsIG1lc3NhZ2VzQ29udGFpbmVyUmVmIH07XG59XG5cbmV4cG9ydCB7XG4gIE1lc3NhZ2VzLFxuICB1c2VTY3JvbGxUb0JvdHRvbVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLU5HQTRUM1ZULm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-NGA4T3VT.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-NJY6RHHQ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-NJY6RHHQ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotChat: () => (/* binding */ CopilotChat),\n/* harmony export */   WrappedCopilotChat: () => (/* binding */ WrappedCopilotChat),\n/* harmony export */   useCopilotChatLogic: () => (/* binding */ useCopilotChatLogic)\n/* harmony export */ });\n/* harmony import */ var _chunk_226ZMOE3_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-226ZMOE3.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-226ZMOE3.mjs\");\n/* harmony import */ var _chunk_PLHTVHUW_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./chunk-PLHTVHUW.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-PLHTVHUW.mjs\");\n/* harmony import */ var _chunk_DTRPPNSA_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-DTRPPNSA.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DTRPPNSA.mjs\");\n/* harmony import */ var _chunk_NGA4T3VT_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-NGA4T3VT.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-NGA4T3VT.mjs\");\n/* harmony import */ var _chunk_WRQST6DJ_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-WRQST6DJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-WRQST6DJ.mjs\");\n/* harmony import */ var _chunk_VVL6JFCJ_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-VVL6JFCJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-VVL6JFCJ.mjs\");\n/* harmony import */ var _chunk_X477GDGZ_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-X477GDGZ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-X477GDGZ.mjs\");\n/* harmony import */ var _chunk_DBKRAOH7_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-DBKRAOH7.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DBKRAOH7.mjs\");\n/* harmony import */ var _chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./chunk-IEMQ2SQW.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs\");\n/* harmony import */ var _chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./chunk-MRXNTQOX.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6W2UEO2M.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-QNJNOZH3.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n\n\n\n\n\n\n\n// src/components/chat/Chat.tsx\n\n\n\n\n\n\nfunction CopilotChat({\n  instructions,\n  suggestions = \"auto\",\n  onSubmitMessage,\n  makeSystemMessage,\n  disableSystemMessage,\n  onInProgress,\n  onStopGeneration,\n  onReloadMessages,\n  onRegenerate,\n  onCopy,\n  onThumbsUp,\n  onThumbsDown,\n  markdownTagRenderers,\n  Messages: Messages2 = _chunk_NGA4T3VT_mjs__WEBPACK_IMPORTED_MODULE_2__.Messages,\n  RenderMessage: RenderMessage2 = _chunk_WRQST6DJ_mjs__WEBPACK_IMPORTED_MODULE_3__.RenderMessage,\n  RenderSuggestionsList = _chunk_226ZMOE3_mjs__WEBPACK_IMPORTED_MODULE_4__.Suggestions,\n  Input: Input2 = _chunk_DTRPPNSA_mjs__WEBPACK_IMPORTED_MODULE_5__.Input,\n  className,\n  icons,\n  labels,\n  AssistantMessage: AssistantMessage2 = _chunk_X477GDGZ_mjs__WEBPACK_IMPORTED_MODULE_6__.AssistantMessage,\n  UserMessage: UserMessage2 = _chunk_VVL6JFCJ_mjs__WEBPACK_IMPORTED_MODULE_7__.UserMessage,\n  ImageRenderer: ImageRenderer2 = _chunk_DBKRAOH7_mjs__WEBPACK_IMPORTED_MODULE_8__.ImageRenderer,\n  ErrorMessage,\n  imageUploadsEnabled,\n  inputFileAccept = \"image/*\",\n  hideStopButton,\n  observabilityHooks,\n  renderError,\n  onError,\n  // Legacy props - deprecated\n  RenderTextMessage,\n  RenderActionExecutionMessage,\n  RenderAgentStateMessage,\n  RenderResultMessage,\n  RenderImageMessage\n}) {\n  const {\n    additionalInstructions,\n    setChatInstructions,\n    copilotApiConfig,\n    setBannerError,\n    setInternalErrorHandler,\n    removeInternalErrorHandler\n  } = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_9__.useCopilotContext)();\n  const { publicApiKey, chatApiEndpoint } = copilotApiConfig;\n  const [selectedImages, setSelectedImages] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n  const [chatError, setChatError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const triggerObservabilityHook = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (hookName, ...args) => {\n      if (publicApiKey && (observabilityHooks == null ? void 0 : observabilityHooks[hookName])) {\n        observabilityHooks[hookName](...args);\n      }\n      if ((observabilityHooks == null ? void 0 : observabilityHooks[hookName]) && !publicApiKey) {\n        setBannerError(\n          new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.CopilotKitError({\n            message: \"observabilityHooks requires a publicApiKey to function.\",\n            code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.CopilotKitErrorCode.MISSING_PUBLIC_API_KEY_ERROR,\n            severity: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.Severity.CRITICAL,\n            visibility: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.ErrorVisibility.BANNER\n          })\n        );\n        _copilotkit_shared__WEBPACK_IMPORTED_MODULE_11__.styledConsole.publicApiKeyRequired(\"observabilityHooks\");\n      }\n    },\n    [publicApiKey, observabilityHooks, setBannerError]\n  );\n  const triggerChatError = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (error, operation, originalError) => {\n      const errorMessage = (error == null ? void 0 : error.message) || (error == null ? void 0 : error.toString()) || \"An error occurred\";\n      setChatError({\n        message: errorMessage,\n        operation,\n        timestamp: Date.now()\n      });\n      const errorEvent = {\n        type: \"error\",\n        timestamp: Date.now(),\n        context: {\n          source: \"ui\",\n          request: {\n            operation,\n            url: chatApiEndpoint,\n            startTime: Date.now()\n          },\n          technical: {\n            environment: \"browser\",\n            userAgent: typeof navigator !== \"undefined\" ? navigator.userAgent : void 0,\n            stackTrace: originalError instanceof Error ? originalError.stack : void 0\n          }\n        },\n        error\n      };\n      if (onError) {\n        onError(errorEvent);\n      }\n      if (publicApiKey && (observabilityHooks == null ? void 0 : observabilityHooks.onError)) {\n        observabilityHooks.onError(errorEvent);\n      }\n      if ((observabilityHooks == null ? void 0 : observabilityHooks.onError) && !publicApiKey) {\n        setBannerError(\n          new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.CopilotKitError({\n            message: \"observabilityHooks.onError requires a publicApiKey to function.\",\n            code: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.CopilotKitErrorCode.MISSING_PUBLIC_API_KEY_ERROR,\n            severity: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.Severity.CRITICAL,\n            visibility: _copilotkit_shared__WEBPACK_IMPORTED_MODULE_10__.ErrorVisibility.BANNER\n          })\n        );\n        _copilotkit_shared__WEBPACK_IMPORTED_MODULE_11__.styledConsole.publicApiKeyRequired(\"observabilityHooks.onError\");\n      }\n    },\n    [publicApiKey, chatApiEndpoint, observabilityHooks, setBannerError]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const id = \"chat-component\";\n    setInternalErrorHandler({\n      [id]: (error) => {\n        if (!error)\n          return;\n        triggerChatError(error.error, \"sendMessage\");\n      }\n    });\n    return () => {\n      removeInternalErrorHandler == null ? void 0 : removeInternalErrorHandler(id);\n    };\n  }, [triggerChatError, setInternalErrorHandler, removeInternalErrorHandler]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!imageUploadsEnabled)\n      return;\n    const handlePaste = (e) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__async)(this, null, function* () {\n      var _a, _b;\n      const target = e.target;\n      if (!((_a = target.parentElement) == null ? void 0 : _a.classList.contains(\"copilotKitInput\")))\n        return;\n      const items = Array.from(((_b = e.clipboardData) == null ? void 0 : _b.items) || []);\n      const imageItems = items.filter((item) => item.type.startsWith(\"image/\"));\n      if (imageItems.length === 0)\n        return;\n      e.preventDefault();\n      const imagePromises = imageItems.map((item) => {\n        const file = item.getAsFile();\n        if (!file)\n          return Promise.resolve(null);\n        return new Promise((resolve, reject) => {\n          const reader = new FileReader();\n          reader.onload = (e2) => {\n            var _a2, _b2;\n            const base64String = (_b2 = (_a2 = e2.target) == null ? void 0 : _a2.result) == null ? void 0 : _b2.split(\",\")[1];\n            if (base64String) {\n              resolve({\n                contentType: file.type,\n                bytes: base64String\n              });\n            } else {\n              resolve(null);\n            }\n          };\n          reader.onerror = reject;\n          reader.readAsDataURL(file);\n        });\n      });\n      try {\n        const loadedImages = (yield Promise.all(imagePromises)).filter((img) => img !== null);\n        setSelectedImages((prev) => [...prev, ...loadedImages]);\n      } catch (error) {\n        triggerChatError(error, \"processClipboardImages\", error);\n        console.error(\"Error processing pasted images:\", error);\n      }\n    });\n    document.addEventListener(\"paste\", handlePaste);\n    return () => document.removeEventListener(\"paste\", handlePaste);\n  }, [imageUploadsEnabled, triggerChatError]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!(additionalInstructions == null ? void 0 : additionalInstructions.length)) {\n      setChatInstructions(instructions || \"\");\n      return;\n    }\n    const combinedAdditionalInstructions = [\n      instructions,\n      \"Additionally, follow these instructions:\",\n      ...additionalInstructions.map((instruction) => `- ${instruction}`)\n    ];\n    setChatInstructions(combinedAdditionalInstructions.join(\"\\n\") || \"\");\n  }, [instructions, additionalInstructions]);\n  const {\n    messages,\n    isLoading,\n    sendMessage,\n    stopGeneration,\n    reloadMessages,\n    suggestions: currentSuggestions\n  } = useCopilotChatLogic(\n    suggestions,\n    makeSystemMessage,\n    disableSystemMessage,\n    onInProgress,\n    onSubmitMessage,\n    onStopGeneration,\n    onReloadMessages\n  );\n  const prevIsLoading = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isLoading);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (prevIsLoading.current !== isLoading) {\n      if (isLoading) {\n        triggerObservabilityHook(\"onChatStarted\");\n      } else {\n        triggerObservabilityHook(\"onChatStopped\");\n      }\n      prevIsLoading.current = isLoading;\n    }\n  }, [isLoading, triggerObservabilityHook]);\n  const handleSendMessage = (text) => {\n    const images = selectedImages;\n    setSelectedImages([]);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = \"\";\n    }\n    triggerObservabilityHook(\"onMessageSent\", text);\n    return sendMessage(text, images);\n  };\n  const chatContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(_chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_13__.ChatContext);\n  const isVisible = chatContext ? chatContext.open : true;\n  const handleRegenerate = (messageId) => {\n    if (onRegenerate) {\n      onRegenerate(messageId);\n    }\n    triggerObservabilityHook(\"onMessageRegenerated\", messageId);\n    reloadMessages(messageId);\n  };\n  const handleCopy = (message) => {\n    if (onCopy) {\n      onCopy(message);\n    }\n    triggerObservabilityHook(\"onMessageCopied\", message);\n  };\n  const handleImageUpload = (event) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__async)(this, null, function* () {\n    if (!event.target.files || event.target.files.length === 0) {\n      return;\n    }\n    const files = Array.from(event.target.files).filter((file) => file.type.startsWith(\"image/\"));\n    if (files.length === 0)\n      return;\n    const fileReadPromises = files.map((file) => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = (e) => {\n          var _a, _b;\n          const base64String = ((_b = (_a = e.target) == null ? void 0 : _a.result) == null ? void 0 : _b.split(\",\")[1]) || \"\";\n          if (base64String) {\n            resolve({\n              contentType: file.type,\n              bytes: base64String\n            });\n          }\n        };\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n      });\n    });\n    try {\n      const loadedImages = yield Promise.all(fileReadPromises);\n      setSelectedImages((prev) => [...prev, ...loadedImages]);\n    } catch (error) {\n      triggerChatError(error, \"processUploadedImages\", error);\n      console.error(\"Error reading files:\", error);\n    }\n  });\n  const removeSelectedImage = (index) => {\n    setSelectedImages((prev) => prev.filter((_, i) => i !== index));\n  };\n  const handleThumbsUp = (message) => {\n    if (onThumbsUp) {\n      onThumbsUp(message);\n    }\n    triggerObservabilityHook(\"onFeedbackGiven\", message.id, \"thumbsUp\");\n  };\n  const handleThumbsDown = (message) => {\n    if (onThumbsDown) {\n      onThumbsDown(message);\n    }\n    triggerObservabilityHook(\"onFeedbackGiven\", message.id, \"thumbsDown\");\n  };\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(WrappedCopilotChat, { icons, labels, className, children: [\n    chatError && renderError && renderError((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)({}, chatError), {\n      onDismiss: () => setChatError(null),\n      onRetry: () => {\n        setChatError(null);\n      }\n    })),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      Messages2,\n      {\n        AssistantMessage: AssistantMessage2,\n        UserMessage: UserMessage2,\n        RenderMessage: RenderMessage2,\n        messages,\n        inProgress: isLoading,\n        onRegenerate: handleRegenerate,\n        onCopy: handleCopy,\n        onThumbsUp: handleThumbsUp,\n        onThumbsDown: handleThumbsDown,\n        markdownTagRenderers,\n        ImageRenderer: ImageRenderer2,\n        ErrorMessage,\n        chatError,\n        RenderTextMessage,\n        RenderActionExecutionMessage,\n        RenderAgentStateMessage,\n        RenderResultMessage,\n        RenderImageMessage,\n        children: currentSuggestions.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          RenderSuggestionsList,\n          {\n            onSuggestionClick: handleSendMessage,\n            suggestions: currentSuggestions\n          }\n        )\n      }\n    ),\n    imageUploadsEnabled && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_PLHTVHUW_mjs__WEBPACK_IMPORTED_MODULE_14__.ImageUploadQueue, { images: selectedImages, onRemoveImage: removeSelectedImage }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"input\",\n        {\n          type: \"file\",\n          multiple: true,\n          ref: fileInputRef,\n          onChange: handleImageUpload,\n          accept: inputFileAccept,\n          style: { display: \"none\" }\n        }\n      )\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      Input2,\n      {\n        inProgress: isLoading,\n        onSend: handleSendMessage,\n        isVisible,\n        onStop: stopGeneration,\n        onUpload: imageUploadsEnabled ? () => {\n          var _a;\n          return (_a = fileInputRef.current) == null ? void 0 : _a.click();\n        } : void 0,\n        hideStopButton\n      }\n    )\n  ] });\n}\nfunction WrappedCopilotChat({\n  children,\n  icons,\n  labels,\n  className\n}) {\n  const chatContext = react__WEBPACK_IMPORTED_MODULE_0__.useContext(_chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_13__.ChatContext);\n  if (!chatContext) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_13__.ChatContextProvider, { icons, labels, open: true, setOpen: () => {\n    }, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: `copilotKitChat ${className != null ? className : \"\"}`, children }) });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children });\n}\nvar useCopilotChatLogic = (chatSuggestions, makeSystemMessage, disableSystemMessage, onInProgress, onSubmitMessage, onStopGeneration, onReloadMessages) => {\n  var _a;\n  const {\n    messages,\n    sendMessage,\n    setMessages,\n    reloadMessages: defaultReloadMessages,\n    stopGeneration: defaultStopGeneration,\n    runChatCompletion,\n    isLoading,\n    suggestions,\n    setSuggestions,\n    generateSuggestions,\n    resetSuggestions: resetSuggestionsFromHook,\n    isLoadingSuggestions\n  } = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_15__.useCopilotChat)({\n    makeSystemMessage,\n    disableSystemMessage\n  });\n  const generalContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_9__.useCopilotContext)();\n  const messagesContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_16__.useCopilotMessagesContext)();\n  const { actions } = generalContext;\n  const [suggestionsFailed, setSuggestionsFailed] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const hasGeneratedInitialSuggestions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (Array.isArray(chatSuggestions)) {\n      setSuggestions(chatSuggestions);\n      hasGeneratedInitialSuggestions.current = true;\n    }\n  }, [JSON.stringify(chatSuggestions), setSuggestions]);\n  const generateSuggestionsWithErrorHandling = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (context) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__async)(void 0, null, function* () {\n      try {\n        yield generateSuggestions();\n      } catch (error) {\n        console.error(\"Failed to generate suggestions:\", error);\n        setSuggestionsFailed(true);\n      }\n    }),\n    [generateSuggestions]\n  );\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (chatSuggestions !== \"auto\" || isLoadingSuggestions || suggestionsFailed) {\n      return;\n    }\n    if (isLoading) {\n      return;\n    }\n    if (Object.keys(generalContext.chatSuggestionConfiguration).length === 0) {\n      return;\n    }\n    if (messages.length === 0 && !hasGeneratedInitialSuggestions.current) {\n      hasGeneratedInitialSuggestions.current = true;\n      generateSuggestionsWithErrorHandling(\"initial\");\n      return;\n    }\n    if (messages.length > 0 && suggestions.length === 0) {\n      generateSuggestionsWithErrorHandling(\"post-message\");\n      return;\n    }\n  }, [\n    chatSuggestions,\n    isLoadingSuggestions,\n    suggestionsFailed,\n    messages.length,\n    isLoading,\n    suggestions.length,\n    Object.keys(generalContext.chatSuggestionConfiguration).join(\",\"),\n    // Use stable string instead of object reference\n    generateSuggestionsWithErrorHandling\n  ]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (chatSuggestions !== \"auto\") {\n      hasGeneratedInitialSuggestions.current = false;\n      setSuggestionsFailed(false);\n    }\n  }, [chatSuggestions]);\n  const stableContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n    () => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)({}, generalContext), messagesContext),\n    [\n      // Only include stable dependencies\n      generalContext.actions,\n      messagesContext.messages.length,\n      generalContext.isLoading\n    ]\n  );\n  const resetSuggestions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    resetSuggestionsFromHook();\n    setSuggestionsFailed(false);\n    hasGeneratedInitialSuggestions.current = false;\n  }, [resetSuggestionsFromHook]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    onInProgress == null ? void 0 : onInProgress(isLoading);\n  }, [onInProgress, isLoading]);\n  const safelySendMessage = (messageContent, imagesToUse) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__async)(void 0, null, function* () {\n    const images = imagesToUse || [];\n    if (chatSuggestions === \"auto\" || chatSuggestions === \"manual\") {\n      setSuggestions([]);\n    }\n    let firstMessage = null;\n    if (messageContent.trim().length > 0) {\n      const textMessage = {\n        id: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_17__.randomId)(),\n        role: \"user\",\n        content: messageContent\n      };\n      if (onSubmitMessage) {\n        try {\n          yield onSubmitMessage(messageContent);\n        } catch (error) {\n          console.error(\"Error in onSubmitMessage:\", error);\n        }\n      }\n      yield sendMessage(textMessage, {\n        followUp: images.length === 0,\n        clearSuggestions: chatSuggestions === \"auto\" || chatSuggestions === \"manual\"\n      });\n      if (!firstMessage) {\n        firstMessage = textMessage;\n      }\n    }\n    if (images.length > 0) {\n      for (let i = 0; i < images.length; i++) {\n        const imageMessage = {\n          id: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_17__.randomId)(),\n          role: \"user\",\n          image: {\n            format: images[i].contentType.replace(\"image/\", \"\"),\n            bytes: images[i].bytes\n          }\n        };\n        yield sendMessage(imageMessage, { followUp: i === images.length - 1 });\n        if (!firstMessage) {\n          firstMessage = imageMessage;\n        }\n      }\n    }\n    if (!firstMessage) {\n      return { role: \"user\", content: \"\", id: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_17__.randomId)() };\n    }\n    return firstMessage;\n  });\n  const currentAgentName = (_a = generalContext.agentSession) == null ? void 0 : _a.agentName;\n  const restartCurrentAgent = (hint) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__async)(void 0, null, function* () {\n    if (generalContext.agentSession) {\n      generalContext.setAgentSession((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)({}, generalContext.agentSession), {\n        nodeName: void 0,\n        threadId: void 0\n      }));\n      generalContext.setCoagentStates((prevAgentStates) => {\n        return (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)({}, prevAgentStates), {\n          [generalContext.agentSession.agentName]: (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)({}, prevAgentStates[generalContext.agentSession.agentName]), {\n            threadId: void 0,\n            nodeName: void 0,\n            runId: void 0\n          })\n        });\n      });\n    }\n  });\n  const runCurrentAgent = (hint) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__async)(void 0, null, function* () {\n    if (generalContext.agentSession) {\n      yield (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_18__.runAgent)(\n        generalContext.agentSession.agentName,\n        stableContext,\n        messagesContext.messages,\n        sendMessage,\n        runChatCompletion\n      );\n    }\n  });\n  const stopCurrentAgent = () => {\n    if (generalContext.agentSession) {\n      (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_18__.stopAgent)(generalContext.agentSession.agentName, stableContext);\n    }\n  };\n  const setCurrentAgentState = (state) => {\n    if (generalContext.agentSession) {\n      generalContext.setCoagentStates((prevAgentStates) => {\n        return (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_12__.__spreadValues)({}, prevAgentStates), {\n          [generalContext.agentSession.agentName]: {\n            state\n          }\n        });\n      });\n    }\n  };\n  function stopGeneration() {\n    setSuggestions([]);\n    if (onStopGeneration) {\n      onStopGeneration({\n        messages,\n        setMessages,\n        stopGeneration: defaultStopGeneration,\n        currentAgentName,\n        restartCurrentAgent,\n        stopCurrentAgent,\n        runCurrentAgent,\n        setCurrentAgentState\n      });\n    } else {\n      defaultStopGeneration();\n    }\n  }\n  function reloadMessages(messageId) {\n    if (onReloadMessages) {\n      onReloadMessages({\n        messages,\n        setMessages,\n        stopGeneration: defaultStopGeneration,\n        currentAgentName,\n        restartCurrentAgent,\n        stopCurrentAgent,\n        runCurrentAgent,\n        setCurrentAgentState,\n        messageId\n      });\n    } else {\n      defaultReloadMessages(messageId);\n    }\n  }\n  return {\n    messages,\n    isLoading,\n    suggestions,\n    sendMessage: safelySendMessage,\n    stopGeneration,\n    reloadMessages,\n    resetSuggestions,\n    context: stableContext,\n    actions\n  };\n};\n\n\n//# sourceMappingURL=chunk-NJY6RHHQ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1OSlk2UkhIUS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4QjtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBSUE7QUFLQTs7QUFFOUI7QUFDaUY7QUFLakQ7QUFPSjtBQUNrQjtBQUNlO0FBQ0w7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBUTtBQUNoQyxrQ0FBa0MsOERBQWE7QUFDL0MsMEJBQTBCLDREQUFXO0FBQ3JDLGtCQUFrQixzREFBSztBQUN2QjtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUVBQWdCO0FBQ3hELDhCQUE4Qiw0REFBVztBQUN6QyxrQ0FBa0MsOERBQWE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLEVBQUUseUVBQWlCO0FBQ3ZCLFVBQVUsZ0NBQWdDO0FBQzFDLDhDQUE4QywrQ0FBUTtBQUN0RCxvQ0FBb0MsK0NBQVE7QUFDNUMsdUJBQXVCLDZDQUFNO0FBQzdCLG1DQUFtQyxrREFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdFQUFlO0FBQzdCO0FBQ0Esa0JBQWtCLG9FQUFtQjtBQUNyQyxzQkFBc0IseURBQVE7QUFDOUIsd0JBQXdCLGdFQUFlO0FBQ3ZDLFdBQVc7QUFDWDtBQUNBLFFBQVEsOERBQWE7QUFDckI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDJCQUEyQixrREFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1OSlk2UkhIUS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgU3VnZ2VzdGlvbnNcbn0gZnJvbSBcIi4vY2h1bmstMjI2Wk1PRTMubWpzXCI7XG5pbXBvcnQge1xuICBJbWFnZVVwbG9hZFF1ZXVlXG59IGZyb20gXCIuL2NodW5rLVBMSFRWSFVXLm1qc1wiO1xuaW1wb3J0IHtcbiAgSW5wdXRcbn0gZnJvbSBcIi4vY2h1bmstRFRSUFBOU0EubWpzXCI7XG5pbXBvcnQge1xuICBNZXNzYWdlc1xufSBmcm9tIFwiLi9jaHVuay1OR0E0VDNWVC5tanNcIjtcbmltcG9ydCB7XG4gIFJlbmRlck1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstV1JRU1Q2REoubWpzXCI7XG5pbXBvcnQge1xuICBVc2VyTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1WVkw2SkZDSi5tanNcIjtcbmltcG9ydCB7XG4gIEFzc2lzdGFudE1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstWDQ3N0dER1oubWpzXCI7XG5pbXBvcnQge1xuICBJbWFnZVJlbmRlcmVyXG59IGZyb20gXCIuL2NodW5rLURCS1JBT0g3Lm1qc1wiO1xuaW1wb3J0IHtcbiAgQ2hhdENvbnRleHQsXG4gIENoYXRDb250ZXh0UHJvdmlkZXJcbn0gZnJvbSBcIi4vY2h1bmstSUVNUTJTUVcubWpzXCI7XG5pbXBvcnQge1xuICBfX2FzeW5jLFxuICBfX3NwcmVhZFByb3BzLFxuICBfX3NwcmVhZFZhbHVlc1xufSBmcm9tIFwiLi9jaHVuay1NUlhOVFFPWC5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9DaGF0LnRzeFxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHVzZUNvcGlsb3RDaGF0SW50ZXJuYWwgYXMgdXNlQ29waWxvdENoYXQsXG4gIHVzZUNvcGlsb3RDb250ZXh0LFxuICB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0XG59IGZyb20gXCJAY29waWxvdGtpdC9yZWFjdC1jb3JlXCI7XG5pbXBvcnQge1xuICBDb3BpbG90S2l0RXJyb3IsXG4gIENvcGlsb3RLaXRFcnJvckNvZGUsXG4gIFNldmVyaXR5LFxuICBFcnJvclZpc2liaWxpdHksXG4gIHN0eWxlZENvbnNvbGVcbn0gZnJvbSBcIkBjb3BpbG90a2l0L3NoYXJlZFwiO1xuaW1wb3J0IHsgcmFuZG9tSWQgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBydW5BZ2VudCwgc3RvcEFnZW50IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7IEZyYWdtZW50LCBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIENvcGlsb3RDaGF0KHtcbiAgaW5zdHJ1Y3Rpb25zLFxuICBzdWdnZXN0aW9ucyA9IFwiYXV0b1wiLFxuICBvblN1Ym1pdE1lc3NhZ2UsXG4gIG1ha2VTeXN0ZW1NZXNzYWdlLFxuICBkaXNhYmxlU3lzdGVtTWVzc2FnZSxcbiAgb25JblByb2dyZXNzLFxuICBvblN0b3BHZW5lcmF0aW9uLFxuICBvblJlbG9hZE1lc3NhZ2VzLFxuICBvblJlZ2VuZXJhdGUsXG4gIG9uQ29weSxcbiAgb25UaHVtYnNVcCxcbiAgb25UaHVtYnNEb3duLFxuICBtYXJrZG93blRhZ1JlbmRlcmVycyxcbiAgTWVzc2FnZXM6IE1lc3NhZ2VzMiA9IE1lc3NhZ2VzLFxuICBSZW5kZXJNZXNzYWdlOiBSZW5kZXJNZXNzYWdlMiA9IFJlbmRlck1lc3NhZ2UsXG4gIFJlbmRlclN1Z2dlc3Rpb25zTGlzdCA9IFN1Z2dlc3Rpb25zLFxuICBJbnB1dDogSW5wdXQyID0gSW5wdXQsXG4gIGNsYXNzTmFtZSxcbiAgaWNvbnMsXG4gIGxhYmVscyxcbiAgQXNzaXN0YW50TWVzc2FnZTogQXNzaXN0YW50TWVzc2FnZTIgPSBBc3Npc3RhbnRNZXNzYWdlLFxuICBVc2VyTWVzc2FnZTogVXNlck1lc3NhZ2UyID0gVXNlck1lc3NhZ2UsXG4gIEltYWdlUmVuZGVyZXI6IEltYWdlUmVuZGVyZXIyID0gSW1hZ2VSZW5kZXJlcixcbiAgRXJyb3JNZXNzYWdlLFxuICBpbWFnZVVwbG9hZHNFbmFibGVkLFxuICBpbnB1dEZpbGVBY2NlcHQgPSBcImltYWdlLypcIixcbiAgaGlkZVN0b3BCdXR0b24sXG4gIG9ic2VydmFiaWxpdHlIb29rcyxcbiAgcmVuZGVyRXJyb3IsXG4gIG9uRXJyb3IsXG4gIC8vIExlZ2FjeSBwcm9wcyAtIGRlcHJlY2F0ZWRcbiAgUmVuZGVyVGV4dE1lc3NhZ2UsXG4gIFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gIFJlbmRlckFnZW50U3RhdGVNZXNzYWdlLFxuICBSZW5kZXJSZXN1bHRNZXNzYWdlLFxuICBSZW5kZXJJbWFnZU1lc3NhZ2Vcbn0pIHtcbiAgY29uc3Qge1xuICAgIGFkZGl0aW9uYWxJbnN0cnVjdGlvbnMsXG4gICAgc2V0Q2hhdEluc3RydWN0aW9ucyxcbiAgICBjb3BpbG90QXBpQ29uZmlnLFxuICAgIHNldEJhbm5lckVycm9yLFxuICAgIHNldEludGVybmFsRXJyb3JIYW5kbGVyLFxuICAgIHJlbW92ZUludGVybmFsRXJyb3JIYW5kbGVyXG4gIH0gPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCB7IHB1YmxpY0FwaUtleSwgY2hhdEFwaUVuZHBvaW50IH0gPSBjb3BpbG90QXBpQ29uZmlnO1xuICBjb25zdCBbc2VsZWN0ZWRJbWFnZXMsIHNldFNlbGVjdGVkSW1hZ2VzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgW2NoYXRFcnJvciwgc2V0Q2hhdEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IHRyaWdnZXJPYnNlcnZhYmlsaXR5SG9vayA9IHVzZUNhbGxiYWNrKFxuICAgIChob29rTmFtZSwgLi4uYXJncykgPT4ge1xuICAgICAgaWYgKHB1YmxpY0FwaUtleSAmJiAob2JzZXJ2YWJpbGl0eUhvb2tzID09IG51bGwgPyB2b2lkIDAgOiBvYnNlcnZhYmlsaXR5SG9va3NbaG9va05hbWVdKSkge1xuICAgICAgICBvYnNlcnZhYmlsaXR5SG9va3NbaG9va05hbWVdKC4uLmFyZ3MpO1xuICAgICAgfVxuICAgICAgaWYgKChvYnNlcnZhYmlsaXR5SG9va3MgPT0gbnVsbCA/IHZvaWQgMCA6IG9ic2VydmFiaWxpdHlIb29rc1tob29rTmFtZV0pICYmICFwdWJsaWNBcGlLZXkpIHtcbiAgICAgICAgc2V0QmFubmVyRXJyb3IoXG4gICAgICAgICAgbmV3IENvcGlsb3RLaXRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIm9ic2VydmFiaWxpdHlIb29rcyByZXF1aXJlcyBhIHB1YmxpY0FwaUtleSB0byBmdW5jdGlvbi5cIixcbiAgICAgICAgICAgIGNvZGU6IENvcGlsb3RLaXRFcnJvckNvZGUuTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUixcbiAgICAgICAgICAgIHNldmVyaXR5OiBTZXZlcml0eS5DUklUSUNBTCxcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IEVycm9yVmlzaWJpbGl0eS5CQU5ORVJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBzdHlsZWRDb25zb2xlLnB1YmxpY0FwaUtleVJlcXVpcmVkKFwib2JzZXJ2YWJpbGl0eUhvb2tzXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3B1YmxpY0FwaUtleSwgb2JzZXJ2YWJpbGl0eUhvb2tzLCBzZXRCYW5uZXJFcnJvcl1cbiAgKTtcbiAgY29uc3QgdHJpZ2dlckNoYXRFcnJvciA9IHVzZUNhbGxiYWNrKFxuICAgIChlcnJvciwgb3BlcmF0aW9uLCBvcmlnaW5hbEVycm9yKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAoZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLm1lc3NhZ2UpIHx8IChlcnJvciA9PSBudWxsID8gdm9pZCAwIDogZXJyb3IudG9TdHJpbmcoKSkgfHwgXCJBbiBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgc2V0Q2hhdEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3JNZXNzYWdlLFxuICAgICAgICBvcGVyYXRpb24sXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfSk7XG4gICAgICBjb25zdCBlcnJvckV2ZW50ID0ge1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIHNvdXJjZTogXCJ1aVwiLFxuICAgICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICAgIG9wZXJhdGlvbixcbiAgICAgICAgICAgIHVybDogY2hhdEFwaUVuZHBvaW50LFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBEYXRlLm5vdygpXG4gICAgICAgICAgfSxcbiAgICAgICAgICB0ZWNobmljYWw6IHtcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBcImJyb3dzZXJcIixcbiAgICAgICAgICAgIHVzZXJBZ2VudDogdHlwZW9mIG5hdmlnYXRvciAhPT0gXCJ1bmRlZmluZWRcIiA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiB2b2lkIDAsXG4gICAgICAgICAgICBzdGFja1RyYWNlOiBvcmlnaW5hbEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBvcmlnaW5hbEVycm9yLnN0YWNrIDogdm9pZCAwXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlcnJvclxuICAgICAgfTtcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyb3JFdmVudCk7XG4gICAgICB9XG4gICAgICBpZiAocHVibGljQXBpS2V5ICYmIChvYnNlcnZhYmlsaXR5SG9va3MgPT0gbnVsbCA/IHZvaWQgMCA6IG9ic2VydmFiaWxpdHlIb29rcy5vbkVycm9yKSkge1xuICAgICAgICBvYnNlcnZhYmlsaXR5SG9va3Mub25FcnJvcihlcnJvckV2ZW50KTtcbiAgICAgIH1cbiAgICAgIGlmICgob2JzZXJ2YWJpbGl0eUhvb2tzID09IG51bGwgPyB2b2lkIDAgOiBvYnNlcnZhYmlsaXR5SG9va3Mub25FcnJvcikgJiYgIXB1YmxpY0FwaUtleSkge1xuICAgICAgICBzZXRCYW5uZXJFcnJvcihcbiAgICAgICAgICBuZXcgQ29waWxvdEtpdEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwib2JzZXJ2YWJpbGl0eUhvb2tzLm9uRXJyb3IgcmVxdWlyZXMgYSBwdWJsaWNBcGlLZXkgdG8gZnVuY3Rpb24uXCIsXG4gICAgICAgICAgICBjb2RlOiBDb3BpbG90S2l0RXJyb3JDb2RlLk1JU1NJTkdfUFVCTElDX0FQSV9LRVlfRVJST1IsXG4gICAgICAgICAgICBzZXZlcml0eTogU2V2ZXJpdHkuQ1JJVElDQUwsXG4gICAgICAgICAgICB2aXNpYmlsaXR5OiBFcnJvclZpc2liaWxpdHkuQkFOTkVSXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgc3R5bGVkQ29uc29sZS5wdWJsaWNBcGlLZXlSZXF1aXJlZChcIm9ic2VydmFiaWxpdHlIb29rcy5vbkVycm9yXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3B1YmxpY0FwaUtleSwgY2hhdEFwaUVuZHBvaW50LCBvYnNlcnZhYmlsaXR5SG9va3MsIHNldEJhbm5lckVycm9yXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGlkID0gXCJjaGF0LWNvbXBvbmVudFwiO1xuICAgIHNldEludGVybmFsRXJyb3JIYW5kbGVyKHtcbiAgICAgIFtpZF06IChlcnJvcikgPT4ge1xuICAgICAgICBpZiAoIWVycm9yKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJpZ2dlckNoYXRFcnJvcihlcnJvci5lcnJvciwgXCJzZW5kTWVzc2FnZVwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVtb3ZlSW50ZXJuYWxFcnJvckhhbmRsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlbW92ZUludGVybmFsRXJyb3JIYW5kbGVyKGlkKTtcbiAgICB9O1xuICB9LCBbdHJpZ2dlckNoYXRFcnJvciwgc2V0SW50ZXJuYWxFcnJvckhhbmRsZXIsIHJlbW92ZUludGVybmFsRXJyb3JIYW5kbGVyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpbWFnZVVwbG9hZHNFbmFibGVkKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGhhbmRsZVBhc3RlID0gKGUpID0+IF9fYXN5bmModGhpcywgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgIHZhciBfYSwgX2I7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIGlmICghKChfYSA9IHRhcmdldC5wYXJlbnRFbGVtZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY29waWxvdEtpdElucHV0XCIpKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKCgoX2IgPSBlLmNsaXBib2FyZERhdGEpID09IG51bGwgPyB2b2lkIDAgOiBfYi5pdGVtcykgfHwgW10pO1xuICAgICAgY29uc3QgaW1hZ2VJdGVtcyA9IGl0ZW1zLmZpbHRlcigoaXRlbSkgPT4gaXRlbS50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZS9cIikpO1xuICAgICAgaWYgKGltYWdlSXRlbXMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm47XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBjb25zdCBpbWFnZVByb21pc2VzID0gaW1hZ2VJdGVtcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGl0ZW0uZ2V0QXNGaWxlKCk7XG4gICAgICAgIGlmICghZmlsZSlcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlMikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMiwgX2IyO1xuICAgICAgICAgICAgY29uc3QgYmFzZTY0U3RyaW5nID0gKF9iMiA9IChfYTIgPSBlMi50YXJnZXQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIucmVzdWx0KSA9PSBudWxsID8gdm9pZCAwIDogX2IyLnNwbGl0KFwiLFwiKVsxXTtcbiAgICAgICAgICAgIGlmIChiYXNlNjRTdHJpbmcpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICBieXRlczogYmFzZTY0U3RyaW5nXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbG9hZGVkSW1hZ2VzID0gKHlpZWxkIFByb21pc2UuYWxsKGltYWdlUHJvbWlzZXMpKS5maWx0ZXIoKGltZykgPT4gaW1nICE9PSBudWxsKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRJbWFnZXMoKHByZXYpID0+IFsuLi5wcmV2LCAuLi5sb2FkZWRJbWFnZXNdKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRyaWdnZXJDaGF0RXJyb3IoZXJyb3IsIFwicHJvY2Vzc0NsaXBib2FyZEltYWdlc1wiLCBlcnJvcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwcm9jZXNzaW5nIHBhc3RlZCBpbWFnZXM6XCIsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgaGFuZGxlUGFzdGUpO1xuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFzdGVcIiwgaGFuZGxlUGFzdGUpO1xuICB9LCBbaW1hZ2VVcGxvYWRzRW5hYmxlZCwgdHJpZ2dlckNoYXRFcnJvcl0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghKGFkZGl0aW9uYWxJbnN0cnVjdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGFkZGl0aW9uYWxJbnN0cnVjdGlvbnMubGVuZ3RoKSkge1xuICAgICAgc2V0Q2hhdEluc3RydWN0aW9ucyhpbnN0cnVjdGlvbnMgfHwgXCJcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbWJpbmVkQWRkaXRpb25hbEluc3RydWN0aW9ucyA9IFtcbiAgICAgIGluc3RydWN0aW9ucyxcbiAgICAgIFwiQWRkaXRpb25hbGx5LCBmb2xsb3cgdGhlc2UgaW5zdHJ1Y3Rpb25zOlwiLFxuICAgICAgLi4uYWRkaXRpb25hbEluc3RydWN0aW9ucy5tYXAoKGluc3RydWN0aW9uKSA9PiBgLSAke2luc3RydWN0aW9ufWApXG4gICAgXTtcbiAgICBzZXRDaGF0SW5zdHJ1Y3Rpb25zKGNvbWJpbmVkQWRkaXRpb25hbEluc3RydWN0aW9ucy5qb2luKFwiXFxuXCIpIHx8IFwiXCIpO1xuICB9LCBbaW5zdHJ1Y3Rpb25zLCBhZGRpdGlvbmFsSW5zdHJ1Y3Rpb25zXSk7XG4gIGNvbnN0IHtcbiAgICBtZXNzYWdlcyxcbiAgICBpc0xvYWRpbmcsXG4gICAgc2VuZE1lc3NhZ2UsXG4gICAgc3RvcEdlbmVyYXRpb24sXG4gICAgcmVsb2FkTWVzc2FnZXMsXG4gICAgc3VnZ2VzdGlvbnM6IGN1cnJlbnRTdWdnZXN0aW9uc1xuICB9ID0gdXNlQ29waWxvdENoYXRMb2dpYyhcbiAgICBzdWdnZXN0aW9ucyxcbiAgICBtYWtlU3lzdGVtTWVzc2FnZSxcbiAgICBkaXNhYmxlU3lzdGVtTWVzc2FnZSxcbiAgICBvbkluUHJvZ3Jlc3MsXG4gICAgb25TdWJtaXRNZXNzYWdlLFxuICAgIG9uU3RvcEdlbmVyYXRpb24sXG4gICAgb25SZWxvYWRNZXNzYWdlc1xuICApO1xuICBjb25zdCBwcmV2SXNMb2FkaW5nID0gdXNlUmVmKGlzTG9hZGluZyk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByZXZJc0xvYWRpbmcuY3VycmVudCAhPT0gaXNMb2FkaW5nKSB7XG4gICAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgIHRyaWdnZXJPYnNlcnZhYmlsaXR5SG9vayhcIm9uQ2hhdFN0YXJ0ZWRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmlnZ2VyT2JzZXJ2YWJpbGl0eUhvb2soXCJvbkNoYXRTdG9wcGVkXCIpO1xuICAgICAgfVxuICAgICAgcHJldklzTG9hZGluZy5jdXJyZW50ID0gaXNMb2FkaW5nO1xuICAgIH1cbiAgfSwgW2lzTG9hZGluZywgdHJpZ2dlck9ic2VydmFiaWxpdHlIb29rXSk7XG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gKHRleHQpID0+IHtcbiAgICBjb25zdCBpbWFnZXMgPSBzZWxlY3RlZEltYWdlcztcbiAgICBzZXRTZWxlY3RlZEltYWdlcyhbXSk7XG4gICAgaWYgKGZpbGVJbnB1dFJlZi5jdXJyZW50KSB7XG4gICAgICBmaWxlSW5wdXRSZWYuY3VycmVudC52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICAgIHRyaWdnZXJPYnNlcnZhYmlsaXR5SG9vayhcIm9uTWVzc2FnZVNlbnRcIiwgdGV4dCk7XG4gICAgcmV0dXJuIHNlbmRNZXNzYWdlKHRleHQsIGltYWdlcyk7XG4gIH07XG4gIGNvbnN0IGNoYXRDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDaGF0Q29udGV4dCk7XG4gIGNvbnN0IGlzVmlzaWJsZSA9IGNoYXRDb250ZXh0ID8gY2hhdENvbnRleHQub3BlbiA6IHRydWU7XG4gIGNvbnN0IGhhbmRsZVJlZ2VuZXJhdGUgPSAobWVzc2FnZUlkKSA9PiB7XG4gICAgaWYgKG9uUmVnZW5lcmF0ZSkge1xuICAgICAgb25SZWdlbmVyYXRlKG1lc3NhZ2VJZCk7XG4gICAgfVxuICAgIHRyaWdnZXJPYnNlcnZhYmlsaXR5SG9vayhcIm9uTWVzc2FnZVJlZ2VuZXJhdGVkXCIsIG1lc3NhZ2VJZCk7XG4gICAgcmVsb2FkTWVzc2FnZXMobWVzc2FnZUlkKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlQ29weSA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKG9uQ29weSkge1xuICAgICAgb25Db3B5KG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cmlnZ2VyT2JzZXJ2YWJpbGl0eUhvb2soXCJvbk1lc3NhZ2VDb3BpZWRcIiwgbWVzc2FnZSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZUltYWdlVXBsb2FkID0gKGV2ZW50KSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgaWYgKCFldmVudC50YXJnZXQuZmlsZXMgfHwgZXZlbnQudGFyZ2V0LmZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZXZlbnQudGFyZ2V0LmZpbGVzKS5maWx0ZXIoKGZpbGUpID0+IGZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKTtcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGZpbGVSZWFkUHJvbWlzZXMgPSBmaWxlcy5tYXAoKGZpbGUpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgY29uc3QgYmFzZTY0U3RyaW5nID0gKChfYiA9IChfYSA9IGUudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVzdWx0KSA9PSBudWxsID8gdm9pZCAwIDogX2Iuc3BsaXQoXCIsXCIpWzFdKSB8fCBcIlwiO1xuICAgICAgICAgIGlmIChiYXNlNjRTdHJpbmcpIHtcbiAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICBjb250ZW50VHlwZTogZmlsZS50eXBlLFxuICAgICAgICAgICAgICBieXRlczogYmFzZTY0U3RyaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBsb2FkZWRJbWFnZXMgPSB5aWVsZCBQcm9taXNlLmFsbChmaWxlUmVhZFByb21pc2VzKTtcbiAgICAgIHNldFNlbGVjdGVkSW1hZ2VzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ubG9hZGVkSW1hZ2VzXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRyaWdnZXJDaGF0RXJyb3IoZXJyb3IsIFwicHJvY2Vzc1VwbG9hZGVkSW1hZ2VzXCIsIGVycm9yKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZWFkaW5nIGZpbGVzOlwiLCBlcnJvcik7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcmVtb3ZlU2VsZWN0ZWRJbWFnZSA9IChpbmRleCkgPT4ge1xuICAgIHNldFNlbGVjdGVkSW1hZ2VzKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoXywgaSkgPT4gaSAhPT0gaW5kZXgpKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlVGh1bWJzVXAgPSAobWVzc2FnZSkgPT4ge1xuICAgIGlmIChvblRodW1ic1VwKSB7XG4gICAgICBvblRodW1ic1VwKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cmlnZ2VyT2JzZXJ2YWJpbGl0eUhvb2soXCJvbkZlZWRiYWNrR2l2ZW5cIiwgbWVzc2FnZS5pZCwgXCJ0aHVtYnNVcFwiKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlVGh1bWJzRG93biA9IChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKG9uVGh1bWJzRG93bikge1xuICAgICAgb25UaHVtYnNEb3duKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cmlnZ2VyT2JzZXJ2YWJpbGl0eUhvb2soXCJvbkZlZWRiYWNrR2l2ZW5cIiwgbWVzc2FnZS5pZCwgXCJ0aHVtYnNEb3duXCIpO1xuICB9O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeHMoV3JhcHBlZENvcGlsb3RDaGF0LCB7IGljb25zLCBsYWJlbHMsIGNsYXNzTmFtZSwgY2hpbGRyZW46IFtcbiAgICBjaGF0RXJyb3IgJiYgcmVuZGVyRXJyb3IgJiYgcmVuZGVyRXJyb3IoX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY2hhdEVycm9yKSwge1xuICAgICAgb25EaXNtaXNzOiAoKSA9PiBzZXRDaGF0RXJyb3IobnVsbCksXG4gICAgICBvblJldHJ5OiAoKSA9PiB7XG4gICAgICAgIHNldENoYXRFcnJvcihudWxsKTtcbiAgICAgIH1cbiAgICB9KSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIE1lc3NhZ2VzMixcbiAgICAgIHtcbiAgICAgICAgQXNzaXN0YW50TWVzc2FnZTogQXNzaXN0YW50TWVzc2FnZTIsXG4gICAgICAgIFVzZXJNZXNzYWdlOiBVc2VyTWVzc2FnZTIsXG4gICAgICAgIFJlbmRlck1lc3NhZ2U6IFJlbmRlck1lc3NhZ2UyLFxuICAgICAgICBtZXNzYWdlcyxcbiAgICAgICAgaW5Qcm9ncmVzczogaXNMb2FkaW5nLFxuICAgICAgICBvblJlZ2VuZXJhdGU6IGhhbmRsZVJlZ2VuZXJhdGUsXG4gICAgICAgIG9uQ29weTogaGFuZGxlQ29weSxcbiAgICAgICAgb25UaHVtYnNVcDogaGFuZGxlVGh1bWJzVXAsXG4gICAgICAgIG9uVGh1bWJzRG93bjogaGFuZGxlVGh1bWJzRG93bixcbiAgICAgICAgbWFya2Rvd25UYWdSZW5kZXJlcnMsXG4gICAgICAgIEltYWdlUmVuZGVyZXI6IEltYWdlUmVuZGVyZXIyLFxuICAgICAgICBFcnJvck1lc3NhZ2UsXG4gICAgICAgIGNoYXRFcnJvcixcbiAgICAgICAgUmVuZGVyVGV4dE1lc3NhZ2UsXG4gICAgICAgIFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gICAgICAgIFJlbmRlckFnZW50U3RhdGVNZXNzYWdlLFxuICAgICAgICBSZW5kZXJSZXN1bHRNZXNzYWdlLFxuICAgICAgICBSZW5kZXJJbWFnZU1lc3NhZ2UsXG4gICAgICAgIGNoaWxkcmVuOiBjdXJyZW50U3VnZ2VzdGlvbnMubGVuZ3RoID4gMCAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFJlbmRlclN1Z2dlc3Rpb25zTGlzdCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvblN1Z2dlc3Rpb25DbGljazogaGFuZGxlU2VuZE1lc3NhZ2UsXG4gICAgICAgICAgICBzdWdnZXN0aW9uczogY3VycmVudFN1Z2dlc3Rpb25zXG4gICAgICAgICAgfVxuICAgICAgICApXG4gICAgICB9XG4gICAgKSxcbiAgICBpbWFnZVVwbG9hZHNFbmFibGVkICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KEltYWdlVXBsb2FkUXVldWUsIHsgaW1hZ2VzOiBzZWxlY3RlZEltYWdlcywgb25SZW1vdmVJbWFnZTogcmVtb3ZlU2VsZWN0ZWRJbWFnZSB9KSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgIFwiaW5wdXRcIixcbiAgICAgICAge1xuICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgIHJlZjogZmlsZUlucHV0UmVmLFxuICAgICAgICAgIG9uQ2hhbmdlOiBoYW5kbGVJbWFnZVVwbG9hZCxcbiAgICAgICAgICBhY2NlcHQ6IGlucHV0RmlsZUFjY2VwdCxcbiAgICAgICAgICBzdHlsZTogeyBkaXNwbGF5OiBcIm5vbmVcIiB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICBdIH0pLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBJbnB1dDIsXG4gICAgICB7XG4gICAgICAgIGluUHJvZ3Jlc3M6IGlzTG9hZGluZyxcbiAgICAgICAgb25TZW5kOiBoYW5kbGVTZW5kTWVzc2FnZSxcbiAgICAgICAgaXNWaXNpYmxlLFxuICAgICAgICBvblN0b3A6IHN0b3BHZW5lcmF0aW9uLFxuICAgICAgICBvblVwbG9hZDogaW1hZ2VVcGxvYWRzRW5hYmxlZCA/ICgpID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgcmV0dXJuIChfYSA9IGZpbGVJbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2xpY2soKTtcbiAgICAgICAgfSA6IHZvaWQgMCxcbiAgICAgICAgaGlkZVN0b3BCdXR0b25cbiAgICAgIH1cbiAgICApXG4gIF0gfSk7XG59XG5mdW5jdGlvbiBXcmFwcGVkQ29waWxvdENoYXQoe1xuICBjaGlsZHJlbixcbiAgaWNvbnMsXG4gIGxhYmVscyxcbiAgY2xhc3NOYW1lXG59KSB7XG4gIGNvbnN0IGNoYXRDb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDaGF0Q29udGV4dCk7XG4gIGlmICghY2hhdENvbnRleHQpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChDaGF0Q29udGV4dFByb3ZpZGVyLCB7IGljb25zLCBsYWJlbHMsIG9wZW46IHRydWUsIHNldE9wZW46ICgpID0+IHtcbiAgICB9LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogYGNvcGlsb3RLaXRDaGF0ICR7Y2xhc3NOYW1lICE9IG51bGwgPyBjbGFzc05hbWUgOiBcIlwifWAsIGNoaWxkcmVuIH0pIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuIH0pO1xufVxudmFyIHVzZUNvcGlsb3RDaGF0TG9naWMgPSAoY2hhdFN1Z2dlc3Rpb25zLCBtYWtlU3lzdGVtTWVzc2FnZSwgZGlzYWJsZVN5c3RlbU1lc3NhZ2UsIG9uSW5Qcm9ncmVzcywgb25TdWJtaXRNZXNzYWdlLCBvblN0b3BHZW5lcmF0aW9uLCBvblJlbG9hZE1lc3NhZ2VzKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIG1lc3NhZ2VzLFxuICAgIHNlbmRNZXNzYWdlLFxuICAgIHNldE1lc3NhZ2VzLFxuICAgIHJlbG9hZE1lc3NhZ2VzOiBkZWZhdWx0UmVsb2FkTWVzc2FnZXMsXG4gICAgc3RvcEdlbmVyYXRpb246IGRlZmF1bHRTdG9wR2VuZXJhdGlvbixcbiAgICBydW5DaGF0Q29tcGxldGlvbixcbiAgICBpc0xvYWRpbmcsXG4gICAgc3VnZ2VzdGlvbnMsXG4gICAgc2V0U3VnZ2VzdGlvbnMsXG4gICAgZ2VuZXJhdGVTdWdnZXN0aW9ucyxcbiAgICByZXNldFN1Z2dlc3Rpb25zOiByZXNldFN1Z2dlc3Rpb25zRnJvbUhvb2ssXG4gICAgaXNMb2FkaW5nU3VnZ2VzdGlvbnNcbiAgfSA9IHVzZUNvcGlsb3RDaGF0KHtcbiAgICBtYWtlU3lzdGVtTWVzc2FnZSxcbiAgICBkaXNhYmxlU3lzdGVtTWVzc2FnZVxuICB9KTtcbiAgY29uc3QgZ2VuZXJhbENvbnRleHQgPSB1c2VDb3BpbG90Q29udGV4dCgpO1xuICBjb25zdCBtZXNzYWdlc0NvbnRleHQgPSB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0KCk7XG4gIGNvbnN0IHsgYWN0aW9ucyB9ID0gZ2VuZXJhbENvbnRleHQ7XG4gIGNvbnN0IFtzdWdnZXN0aW9uc0ZhaWxlZCwgc2V0U3VnZ2VzdGlvbnNGYWlsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBoYXNHZW5lcmF0ZWRJbml0aWFsU3VnZ2VzdGlvbnMgPSB1c2VSZWYoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoYXRTdWdnZXN0aW9ucykpIHtcbiAgICAgIHNldFN1Z2dlc3Rpb25zKGNoYXRTdWdnZXN0aW9ucyk7XG4gICAgICBoYXNHZW5lcmF0ZWRJbml0aWFsU3VnZ2VzdGlvbnMuY3VycmVudCA9IHRydWU7XG4gICAgfVxuICB9LCBbSlNPTi5zdHJpbmdpZnkoY2hhdFN1Z2dlc3Rpb25zKSwgc2V0U3VnZ2VzdGlvbnNdKTtcbiAgY29uc3QgZ2VuZXJhdGVTdWdnZXN0aW9uc1dpdGhFcnJvckhhbmRsaW5nID0gdXNlQ2FsbGJhY2soXG4gICAgKGNvbnRleHQpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgeWllbGQgZ2VuZXJhdGVTdWdnZXN0aW9ucygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBnZW5lcmF0ZSBzdWdnZXN0aW9uczpcIiwgZXJyb3IpO1xuICAgICAgICBzZXRTdWdnZXN0aW9uc0ZhaWxlZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbZ2VuZXJhdGVTdWdnZXN0aW9uc11cbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY2hhdFN1Z2dlc3Rpb25zICE9PSBcImF1dG9cIiB8fCBpc0xvYWRpbmdTdWdnZXN0aW9ucyB8fCBzdWdnZXN0aW9uc0ZhaWxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyhnZW5lcmFsQ29udGV4dC5jaGF0U3VnZ2VzdGlvbkNvbmZpZ3VyYXRpb24pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwICYmICFoYXNHZW5lcmF0ZWRJbml0aWFsU3VnZ2VzdGlvbnMuY3VycmVudCkge1xuICAgICAgaGFzR2VuZXJhdGVkSW5pdGlhbFN1Z2dlc3Rpb25zLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgZ2VuZXJhdGVTdWdnZXN0aW9uc1dpdGhFcnJvckhhbmRsaW5nKFwiaW5pdGlhbFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDAgJiYgc3VnZ2VzdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBnZW5lcmF0ZVN1Z2dlc3Rpb25zV2l0aEVycm9ySGFuZGxpbmcoXCJwb3N0LW1lc3NhZ2VcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LCBbXG4gICAgY2hhdFN1Z2dlc3Rpb25zLFxuICAgIGlzTG9hZGluZ1N1Z2dlc3Rpb25zLFxuICAgIHN1Z2dlc3Rpb25zRmFpbGVkLFxuICAgIG1lc3NhZ2VzLmxlbmd0aCxcbiAgICBpc0xvYWRpbmcsXG4gICAgc3VnZ2VzdGlvbnMubGVuZ3RoLFxuICAgIE9iamVjdC5rZXlzKGdlbmVyYWxDb250ZXh0LmNoYXRTdWdnZXN0aW9uQ29uZmlndXJhdGlvbikuam9pbihcIixcIiksXG4gICAgLy8gVXNlIHN0YWJsZSBzdHJpbmcgaW5zdGVhZCBvZiBvYmplY3QgcmVmZXJlbmNlXG4gICAgZ2VuZXJhdGVTdWdnZXN0aW9uc1dpdGhFcnJvckhhbmRsaW5nXG4gIF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjaGF0U3VnZ2VzdGlvbnMgIT09IFwiYXV0b1wiKSB7XG4gICAgICBoYXNHZW5lcmF0ZWRJbml0aWFsU3VnZ2VzdGlvbnMuY3VycmVudCA9IGZhbHNlO1xuICAgICAgc2V0U3VnZ2VzdGlvbnNGYWlsZWQoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NoYXRTdWdnZXN0aW9uc10pO1xuICBjb25zdCBzdGFibGVDb250ZXh0ID0gdXNlTWVtbyhcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2VuZXJhbENvbnRleHQpLCBtZXNzYWdlc0NvbnRleHQpLFxuICAgIFtcbiAgICAgIC8vIE9ubHkgaW5jbHVkZSBzdGFibGUgZGVwZW5kZW5jaWVzXG4gICAgICBnZW5lcmFsQ29udGV4dC5hY3Rpb25zLFxuICAgICAgbWVzc2FnZXNDb250ZXh0Lm1lc3NhZ2VzLmxlbmd0aCxcbiAgICAgIGdlbmVyYWxDb250ZXh0LmlzTG9hZGluZ1xuICAgIF1cbiAgKTtcbiAgY29uc3QgcmVzZXRTdWdnZXN0aW9ucyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICByZXNldFN1Z2dlc3Rpb25zRnJvbUhvb2soKTtcbiAgICBzZXRTdWdnZXN0aW9uc0ZhaWxlZChmYWxzZSk7XG4gICAgaGFzR2VuZXJhdGVkSW5pdGlhbFN1Z2dlc3Rpb25zLmN1cnJlbnQgPSBmYWxzZTtcbiAgfSwgW3Jlc2V0U3VnZ2VzdGlvbnNGcm9tSG9va10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG9uSW5Qcm9ncmVzcyA9PSBudWxsID8gdm9pZCAwIDogb25JblByb2dyZXNzKGlzTG9hZGluZyk7XG4gIH0sIFtvbkluUHJvZ3Jlc3MsIGlzTG9hZGluZ10pO1xuICBjb25zdCBzYWZlbHlTZW5kTWVzc2FnZSA9IChtZXNzYWdlQ29udGVudCwgaW1hZ2VzVG9Vc2UpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IGltYWdlcyA9IGltYWdlc1RvVXNlIHx8IFtdO1xuICAgIGlmIChjaGF0U3VnZ2VzdGlvbnMgPT09IFwiYXV0b1wiIHx8IGNoYXRTdWdnZXN0aW9ucyA9PT0gXCJtYW51YWxcIikge1xuICAgICAgc2V0U3VnZ2VzdGlvbnMoW10pO1xuICAgIH1cbiAgICBsZXQgZmlyc3RNZXNzYWdlID0gbnVsbDtcbiAgICBpZiAobWVzc2FnZUNvbnRlbnQudHJpbSgpLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHRleHRNZXNzYWdlID0ge1xuICAgICAgICBpZDogcmFuZG9tSWQoKSxcbiAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2VDb250ZW50XG4gICAgICB9O1xuICAgICAgaWYgKG9uU3VibWl0TWVzc2FnZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHlpZWxkIG9uU3VibWl0TWVzc2FnZShtZXNzYWdlQ29udGVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIG9uU3VibWl0TWVzc2FnZTpcIiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB5aWVsZCBzZW5kTWVzc2FnZSh0ZXh0TWVzc2FnZSwge1xuICAgICAgICBmb2xsb3dVcDogaW1hZ2VzLmxlbmd0aCA9PT0gMCxcbiAgICAgICAgY2xlYXJTdWdnZXN0aW9uczogY2hhdFN1Z2dlc3Rpb25zID09PSBcImF1dG9cIiB8fCBjaGF0U3VnZ2VzdGlvbnMgPT09IFwibWFudWFsXCJcbiAgICAgIH0pO1xuICAgICAgaWYgKCFmaXJzdE1lc3NhZ2UpIHtcbiAgICAgICAgZmlyc3RNZXNzYWdlID0gdGV4dE1lc3NhZ2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaW1hZ2VNZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiByYW5kb21JZCgpLFxuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICBmb3JtYXQ6IGltYWdlc1tpXS5jb250ZW50VHlwZS5yZXBsYWNlKFwiaW1hZ2UvXCIsIFwiXCIpLFxuICAgICAgICAgICAgYnl0ZXM6IGltYWdlc1tpXS5ieXRlc1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeWllbGQgc2VuZE1lc3NhZ2UoaW1hZ2VNZXNzYWdlLCB7IGZvbGxvd1VwOiBpID09PSBpbWFnZXMubGVuZ3RoIC0gMSB9KTtcbiAgICAgICAgaWYgKCFmaXJzdE1lc3NhZ2UpIHtcbiAgICAgICAgICBmaXJzdE1lc3NhZ2UgPSBpbWFnZU1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmaXJzdE1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiB7IHJvbGU6IFwidXNlclwiLCBjb250ZW50OiBcIlwiLCBpZDogcmFuZG9tSWQoKSB9O1xuICAgIH1cbiAgICByZXR1cm4gZmlyc3RNZXNzYWdlO1xuICB9KTtcbiAgY29uc3QgY3VycmVudEFnZW50TmFtZSA9IChfYSA9IGdlbmVyYWxDb250ZXh0LmFnZW50U2Vzc2lvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmFnZW50TmFtZTtcbiAgY29uc3QgcmVzdGFydEN1cnJlbnRBZ2VudCA9IChoaW50KSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICBpZiAoZ2VuZXJhbENvbnRleHQuYWdlbnRTZXNzaW9uKSB7XG4gICAgICBnZW5lcmFsQ29udGV4dC5zZXRBZ2VudFNlc3Npb24oX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgZ2VuZXJhbENvbnRleHQuYWdlbnRTZXNzaW9uKSwge1xuICAgICAgICBub2RlTmFtZTogdm9pZCAwLFxuICAgICAgICB0aHJlYWRJZDogdm9pZCAwXG4gICAgICB9KSk7XG4gICAgICBnZW5lcmFsQ29udGV4dC5zZXRDb2FnZW50U3RhdGVzKChwcmV2QWdlbnRTdGF0ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXZBZ2VudFN0YXRlcyksIHtcbiAgICAgICAgICBbZ2VuZXJhbENvbnRleHQuYWdlbnRTZXNzaW9uLmFnZW50TmFtZV06IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByZXZBZ2VudFN0YXRlc1tnZW5lcmFsQ29udGV4dC5hZ2VudFNlc3Npb24uYWdlbnROYW1lXSksIHtcbiAgICAgICAgICAgIHRocmVhZElkOiB2b2lkIDAsXG4gICAgICAgICAgICBub2RlTmFtZTogdm9pZCAwLFxuICAgICAgICAgICAgcnVuSWQ6IHZvaWQgMFxuICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgcnVuQ3VycmVudEFnZW50ID0gKGhpbnQpID0+IF9fYXN5bmModm9pZCAwLCBudWxsLCBmdW5jdGlvbiogKCkge1xuICAgIGlmIChnZW5lcmFsQ29udGV4dC5hZ2VudFNlc3Npb24pIHtcbiAgICAgIHlpZWxkIHJ1bkFnZW50KFxuICAgICAgICBnZW5lcmFsQ29udGV4dC5hZ2VudFNlc3Npb24uYWdlbnROYW1lLFxuICAgICAgICBzdGFibGVDb250ZXh0LFxuICAgICAgICBtZXNzYWdlc0NvbnRleHQubWVzc2FnZXMsXG4gICAgICAgIHNlbmRNZXNzYWdlLFxuICAgICAgICBydW5DaGF0Q29tcGxldGlvblxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBzdG9wQ3VycmVudEFnZW50ID0gKCkgPT4ge1xuICAgIGlmIChnZW5lcmFsQ29udGV4dC5hZ2VudFNlc3Npb24pIHtcbiAgICAgIHN0b3BBZ2VudChnZW5lcmFsQ29udGV4dC5hZ2VudFNlc3Npb24uYWdlbnROYW1lLCBzdGFibGVDb250ZXh0KTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNldEN1cnJlbnRBZ2VudFN0YXRlID0gKHN0YXRlKSA9PiB7XG4gICAgaWYgKGdlbmVyYWxDb250ZXh0LmFnZW50U2Vzc2lvbikge1xuICAgICAgZ2VuZXJhbENvbnRleHQuc2V0Q29hZ2VudFN0YXRlcygocHJldkFnZW50U3RhdGVzKSA9PiB7XG4gICAgICAgIHJldHVybiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBwcmV2QWdlbnRTdGF0ZXMpLCB7XG4gICAgICAgICAgW2dlbmVyYWxDb250ZXh0LmFnZW50U2Vzc2lvbi5hZ2VudE5hbWVdOiB7XG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG4gIGZ1bmN0aW9uIHN0b3BHZW5lcmF0aW9uKCkge1xuICAgIHNldFN1Z2dlc3Rpb25zKFtdKTtcbiAgICBpZiAob25TdG9wR2VuZXJhdGlvbikge1xuICAgICAgb25TdG9wR2VuZXJhdGlvbih7XG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBzZXRNZXNzYWdlcyxcbiAgICAgICAgc3RvcEdlbmVyYXRpb246IGRlZmF1bHRTdG9wR2VuZXJhdGlvbixcbiAgICAgICAgY3VycmVudEFnZW50TmFtZSxcbiAgICAgICAgcmVzdGFydEN1cnJlbnRBZ2VudCxcbiAgICAgICAgc3RvcEN1cnJlbnRBZ2VudCxcbiAgICAgICAgcnVuQ3VycmVudEFnZW50LFxuICAgICAgICBzZXRDdXJyZW50QWdlbnRTdGF0ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmF1bHRTdG9wR2VuZXJhdGlvbigpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZWxvYWRNZXNzYWdlcyhtZXNzYWdlSWQpIHtcbiAgICBpZiAob25SZWxvYWRNZXNzYWdlcykge1xuICAgICAgb25SZWxvYWRNZXNzYWdlcyh7XG4gICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICBzZXRNZXNzYWdlcyxcbiAgICAgICAgc3RvcEdlbmVyYXRpb246IGRlZmF1bHRTdG9wR2VuZXJhdGlvbixcbiAgICAgICAgY3VycmVudEFnZW50TmFtZSxcbiAgICAgICAgcmVzdGFydEN1cnJlbnRBZ2VudCxcbiAgICAgICAgc3RvcEN1cnJlbnRBZ2VudCxcbiAgICAgICAgcnVuQ3VycmVudEFnZW50LFxuICAgICAgICBzZXRDdXJyZW50QWdlbnRTdGF0ZSxcbiAgICAgICAgbWVzc2FnZUlkXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdFJlbG9hZE1lc3NhZ2VzKG1lc3NhZ2VJZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZXMsXG4gICAgaXNMb2FkaW5nLFxuICAgIHN1Z2dlc3Rpb25zLFxuICAgIHNlbmRNZXNzYWdlOiBzYWZlbHlTZW5kTWVzc2FnZSxcbiAgICBzdG9wR2VuZXJhdGlvbixcbiAgICByZWxvYWRNZXNzYWdlcyxcbiAgICByZXNldFN1Z2dlc3Rpb25zLFxuICAgIGNvbnRleHQ6IHN0YWJsZUNvbnRleHQsXG4gICAgYWN0aW9uc1xuICB9O1xufTtcblxuZXhwb3J0IHtcbiAgQ29waWxvdENoYXQsXG4gIFdyYXBwZWRDb3BpbG90Q2hhdCxcbiAgdXNlQ29waWxvdENoYXRMb2dpY1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLU5KWTZSSEhRLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-NJY6RHHQ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-O72ZB5V3.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-O72ZB5V3.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkMicrophonePermission: () => (/* binding */ checkMicrophonePermission),\n/* harmony export */   requestMicAndPlaybackPermission: () => (/* binding */ requestMicAndPlaybackPermission),\n/* harmony export */   usePushToTalk: () => (/* binding */ usePushToTalk)\n/* harmony export */ });\n/* harmony import */ var _chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-MRXNTQOX.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-YHT6CWIY.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-ZLQVRPDS.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WXA3UP7I.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n\n\n// src/hooks/use-push-to-talk.tsx\n\n\n\nvar checkMicrophonePermission = () => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  try {\n    const permissionStatus = yield navigator.permissions.query({\n      name: \"microphone\"\n    });\n    if (permissionStatus.state === \"granted\") {\n      return true;\n    } else {\n      return false;\n    }\n  } catch (err) {\n    console.error(\"Error checking microphone permission\", err);\n  }\n});\nvar requestMicAndPlaybackPermission = () => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  try {\n    const stream = yield navigator.mediaDevices.getUserMedia({ audio: true });\n    const audioContext = new window.AudioContext();\n    yield audioContext.resume();\n    return { stream, audioContext };\n  } catch (err) {\n    console.error(\"Error requesting microphone and playback permissions\", err);\n    return null;\n  }\n});\nvar startRecording = (mediaStreamRef, mediaRecorderRef, audioContextRef, recordedChunks, onStop) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  if (!mediaStreamRef.current || !audioContextRef.current) {\n    mediaStreamRef.current = yield navigator.mediaDevices.getUserMedia({ audio: true });\n    audioContextRef.current = new window.AudioContext();\n    yield audioContextRef.current.resume();\n  }\n  mediaRecorderRef.current = new MediaRecorder(mediaStreamRef.current);\n  mediaRecorderRef.current.start(1e3);\n  mediaRecorderRef.current.ondataavailable = (event) => {\n    recordedChunks.push(event.data);\n  };\n  mediaRecorderRef.current.onstop = onStop;\n});\nvar stopRecording = (mediaRecorderRef) => {\n  if (mediaRecorderRef.current && mediaRecorderRef.current.state !== \"inactive\") {\n    mediaRecorderRef.current.stop();\n  }\n};\nvar transcribeAudio = (recordedChunks, transcribeAudioUrl) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n  const completeBlob = new Blob(recordedChunks, { type: \"audio/mp4\" });\n  const formData = new FormData();\n  formData.append(\"file\", completeBlob, \"recording.mp4\");\n  const response = yield fetch(transcribeAudioUrl, {\n    method: \"POST\",\n    body: formData\n  });\n  if (!response.ok) {\n    throw new Error(`Error: ${response.statusText}`);\n  }\n  const transcription = yield response.json();\n  return transcription.text;\n});\nvar playAudioResponse = (text, textToSpeechUrl, audioContext) => {\n  const encodedText = encodeURIComponent(text);\n  const url = `${textToSpeechUrl}?text=${encodedText}`;\n  fetch(url).then((response) => response.arrayBuffer()).then((arrayBuffer) => audioContext.decodeAudioData(arrayBuffer)).then((audioBuffer) => {\n    const source = audioContext.createBufferSource();\n    source.buffer = audioBuffer;\n    source.connect(audioContext.destination);\n    source.start(0);\n  }).catch((error) => {\n    console.error(\"Error with decoding audio data\", error);\n  });\n};\nvar usePushToTalk = ({\n  sendFunction,\n  inProgress\n}) => {\n  const [pushToTalkState, setPushToTalkState] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"idle\");\n  const mediaStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const audioContextRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const mediaRecorderRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  const recordedChunks = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);\n  const generalContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_2__.useCopilotContext)();\n  const messagesContext = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_3__.useCopilotMessagesContext)();\n  const context = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__spreadValues)({}, generalContext), messagesContext);\n  const [startReadingFromMessageId, setStartReadingFromMessageId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (pushToTalkState === \"recording\") {\n      startRecording(\n        mediaStreamRef,\n        mediaRecorderRef,\n        audioContextRef,\n        recordedChunks.current,\n        () => {\n          setPushToTalkState(\"transcribing\");\n        }\n      );\n    } else {\n      stopRecording(mediaRecorderRef);\n      if (pushToTalkState === \"transcribing\") {\n        transcribeAudio(recordedChunks.current, context.copilotApiConfig.transcribeAudioUrl).then(\n          (transcription) => (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_1__.__async)(void 0, null, function* () {\n            recordedChunks.current = [];\n            setPushToTalkState(\"idle\");\n            const message = yield sendFunction(transcription);\n            setStartReadingFromMessageId(message.id);\n          })\n        );\n      }\n    }\n    return () => {\n      stopRecording(mediaRecorderRef);\n    };\n  }, [pushToTalkState]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (inProgress === false && startReadingFromMessageId) {\n      const lastMessageIndex = context.messages.findIndex(\n        (message) => message.id === startReadingFromMessageId\n      );\n      const aguiMessages = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_4__.gqlToAGUI)(context.messages);\n      const messagesAfterLast = aguiMessages.slice(lastMessageIndex + 1).filter((message) => message.role === \"assistant\");\n      const text = messagesAfterLast.map((message) => message.content).join(\"\\n\");\n      playAudioResponse(text, context.copilotApiConfig.textToSpeechUrl, audioContextRef.current);\n      setStartReadingFromMessageId(null);\n    }\n  }, [startReadingFromMessageId, inProgress]);\n  return { pushToTalkState, setPushToTalkState };\n};\n\n\n//# sourceMappingURL=chunk-O72ZB5V3.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1PNzJaQjVWMy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHOEI7O0FBRTlCO0FBQ3NGO0FBQzNCO0FBQ1A7QUFDcEQsc0NBQXNDLDREQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7QUFDRCw0Q0FBNEMsNERBQU87QUFDbkQ7QUFDQSwrREFBK0QsYUFBYTtBQUM1RTtBQUNBO0FBQ0EsYUFBYTtBQUNiLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsb0dBQW9HLDREQUFPO0FBQzNHO0FBQ0EseUVBQXlFLGFBQWE7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsNERBQU87QUFDckUsa0RBQWtELG1CQUFtQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLGlCQUFpQixnQkFBZ0IsUUFBUSxZQUFZO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZ0RBQWdELCtDQUFRO0FBQ3hELHlCQUF5Qiw2Q0FBTTtBQUMvQiwwQkFBMEIsNkNBQU07QUFDaEMsMkJBQTJCLDZDQUFNO0FBQ2pDLHlCQUF5Qiw2Q0FBTTtBQUMvQix5QkFBeUIseUVBQWlCO0FBQzFDLDBCQUEwQixpRkFBeUI7QUFDbkQsa0JBQWtCLG1FQUFjLENBQUMsbUVBQWMsR0FBRztBQUNsRCxvRUFBb0UsK0NBQVE7QUFDNUUsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBTztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHlFQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsV0FBVztBQUNYOztBQU1FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstTzcyWkI1VjMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIF9fYXN5bmMsXG4gIF9fc3ByZWFkVmFsdWVzXG59IGZyb20gXCIuL2NodW5rLU1SWE5UUU9YLm1qc1wiO1xuXG4vLyBzcmMvaG9va3MvdXNlLXB1c2gtdG8tdGFsay50c3hcbmltcG9ydCB7IHVzZUNvcGlsb3RDb250ZXh0LCB1c2VDb3BpbG90TWVzc2FnZXNDb250ZXh0IH0gZnJvbSBcIkBjb3BpbG90a2l0L3JlYWN0LWNvcmVcIjtcbmltcG9ydCB7IGdxbFRvQUdVSSB9IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIGNoZWNrTWljcm9waG9uZVBlcm1pc3Npb24gPSAoKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwZXJtaXNzaW9uU3RhdHVzID0geWllbGQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtcbiAgICAgIG5hbWU6IFwibWljcm9waG9uZVwiXG4gICAgfSk7XG4gICAgaWYgKHBlcm1pc3Npb25TdGF0dXMuc3RhdGUgPT09IFwiZ3JhbnRlZFwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNoZWNraW5nIG1pY3JvcGhvbmUgcGVybWlzc2lvblwiLCBlcnIpO1xuICB9XG59KTtcbnZhciByZXF1ZXN0TWljQW5kUGxheWJhY2tQZXJtaXNzaW9uID0gKCkgPT4gX19hc3luYyh2b2lkIDAsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc3RyZWFtID0geWllbGQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBhdWRpbzogdHJ1ZSB9KTtcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgd2luZG93LkF1ZGlvQ29udGV4dCgpO1xuICAgIHlpZWxkIGF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcbiAgICByZXR1cm4geyBzdHJlYW0sIGF1ZGlvQ29udGV4dCB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVxdWVzdGluZyBtaWNyb3Bob25lIGFuZCBwbGF5YmFjayBwZXJtaXNzaW9uc1wiLCBlcnIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG59KTtcbnZhciBzdGFydFJlY29yZGluZyA9IChtZWRpYVN0cmVhbVJlZiwgbWVkaWFSZWNvcmRlclJlZiwgYXVkaW9Db250ZXh0UmVmLCByZWNvcmRlZENodW5rcywgb25TdG9wKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgaWYgKCFtZWRpYVN0cmVhbVJlZi5jdXJyZW50IHx8ICFhdWRpb0NvbnRleHRSZWYuY3VycmVudCkge1xuICAgIG1lZGlhU3RyZWFtUmVmLmN1cnJlbnQgPSB5aWVsZCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7IGF1ZGlvOiB0cnVlIH0pO1xuICAgIGF1ZGlvQ29udGV4dFJlZi5jdXJyZW50ID0gbmV3IHdpbmRvdy5BdWRpb0NvbnRleHQoKTtcbiAgICB5aWVsZCBhdWRpb0NvbnRleHRSZWYuY3VycmVudC5yZXN1bWUoKTtcbiAgfVxuICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQgPSBuZXcgTWVkaWFSZWNvcmRlcihtZWRpYVN0cmVhbVJlZi5jdXJyZW50KTtcbiAgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50LnN0YXJ0KDFlMyk7XG4gIG1lZGlhUmVjb3JkZXJSZWYuY3VycmVudC5vbmRhdGFhdmFpbGFibGUgPSAoZXZlbnQpID0+IHtcbiAgICByZWNvcmRlZENodW5rcy5wdXNoKGV2ZW50LmRhdGEpO1xuICB9O1xuICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQub25zdG9wID0gb25TdG9wO1xufSk7XG52YXIgc3RvcFJlY29yZGluZyA9IChtZWRpYVJlY29yZGVyUmVmKSA9PiB7XG4gIGlmIChtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQgJiYgbWVkaWFSZWNvcmRlclJlZi5jdXJyZW50LnN0YXRlICE9PSBcImluYWN0aXZlXCIpIHtcbiAgICBtZWRpYVJlY29yZGVyUmVmLmN1cnJlbnQuc3RvcCgpO1xuICB9XG59O1xudmFyIHRyYW5zY3JpYmVBdWRpbyA9IChyZWNvcmRlZENodW5rcywgdHJhbnNjcmliZUF1ZGlvVXJsKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgY29uc3QgY29tcGxldGVCbG9iID0gbmV3IEJsb2IocmVjb3JkZWRDaHVua3MsIHsgdHlwZTogXCJhdWRpby9tcDRcIiB9KTtcbiAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9ybURhdGEuYXBwZW5kKFwiZmlsZVwiLCBjb21wbGV0ZUJsb2IsIFwicmVjb3JkaW5nLm1wNFwiKTtcbiAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaCh0cmFuc2NyaWJlQXVkaW9VcmwsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIGJvZHk6IGZvcm1EYXRhXG4gIH0pO1xuICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICB9XG4gIGNvbnN0IHRyYW5zY3JpcHRpb24gPSB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gIHJldHVybiB0cmFuc2NyaXB0aW9uLnRleHQ7XG59KTtcbnZhciBwbGF5QXVkaW9SZXNwb25zZSA9ICh0ZXh0LCB0ZXh0VG9TcGVlY2hVcmwsIGF1ZGlvQ29udGV4dCkgPT4ge1xuICBjb25zdCBlbmNvZGVkVGV4dCA9IGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KTtcbiAgY29uc3QgdXJsID0gYCR7dGV4dFRvU3BlZWNoVXJsfT90ZXh0PSR7ZW5jb2RlZFRleHR9YDtcbiAgZmV0Y2godXJsKS50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSkudGhlbigoYXJyYXlCdWZmZXIpID0+IGF1ZGlvQ29udGV4dC5kZWNvZGVBdWRpb0RhdGEoYXJyYXlCdWZmZXIpKS50aGVuKChhdWRpb0J1ZmZlcikgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVCdWZmZXJTb3VyY2UoKTtcbiAgICBzb3VyY2UuYnVmZmVyID0gYXVkaW9CdWZmZXI7XG4gICAgc291cmNlLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB3aXRoIGRlY29kaW5nIGF1ZGlvIGRhdGFcIiwgZXJyb3IpO1xuICB9KTtcbn07XG52YXIgdXNlUHVzaFRvVGFsayA9ICh7XG4gIHNlbmRGdW5jdGlvbixcbiAgaW5Qcm9ncmVzc1xufSkgPT4ge1xuICBjb25zdCBbcHVzaFRvVGFsa1N0YXRlLCBzZXRQdXNoVG9UYWxrU3RhdGVdID0gdXNlU3RhdGUoXCJpZGxlXCIpO1xuICBjb25zdCBtZWRpYVN0cmVhbVJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgYXVkaW9Db250ZXh0UmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBtZWRpYVJlY29yZGVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCByZWNvcmRlZENodW5rcyA9IHVzZVJlZihbXSk7XG4gIGNvbnN0IGdlbmVyYWxDb250ZXh0ID0gdXNlQ29waWxvdENvbnRleHQoKTtcbiAgY29uc3QgbWVzc2FnZXNDb250ZXh0ID0gdXNlQ29waWxvdE1lc3NhZ2VzQ29udGV4dCgpO1xuICBjb25zdCBjb250ZXh0ID0gX19zcHJlYWRWYWx1ZXMoX19zcHJlYWRWYWx1ZXMoe30sIGdlbmVyYWxDb250ZXh0KSwgbWVzc2FnZXNDb250ZXh0KTtcbiAgY29uc3QgW3N0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWQsIHNldFN0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWRdID0gdXNlU3RhdGUobnVsbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHB1c2hUb1RhbGtTdGF0ZSA9PT0gXCJyZWNvcmRpbmdcIikge1xuICAgICAgc3RhcnRSZWNvcmRpbmcoXG4gICAgICAgIG1lZGlhU3RyZWFtUmVmLFxuICAgICAgICBtZWRpYVJlY29yZGVyUmVmLFxuICAgICAgICBhdWRpb0NvbnRleHRSZWYsXG4gICAgICAgIHJlY29yZGVkQ2h1bmtzLmN1cnJlbnQsXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBzZXRQdXNoVG9UYWxrU3RhdGUoXCJ0cmFuc2NyaWJpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3BSZWNvcmRpbmcobWVkaWFSZWNvcmRlclJlZik7XG4gICAgICBpZiAocHVzaFRvVGFsa1N0YXRlID09PSBcInRyYW5zY3JpYmluZ1wiKSB7XG4gICAgICAgIHRyYW5zY3JpYmVBdWRpbyhyZWNvcmRlZENodW5rcy5jdXJyZW50LCBjb250ZXh0LmNvcGlsb3RBcGlDb25maWcudHJhbnNjcmliZUF1ZGlvVXJsKS50aGVuKFxuICAgICAgICAgICh0cmFuc2NyaXB0aW9uKSA9PiBfX2FzeW5jKHZvaWQgMCwgbnVsbCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHJlY29yZGVkQ2h1bmtzLmN1cnJlbnQgPSBbXTtcbiAgICAgICAgICAgIHNldFB1c2hUb1RhbGtTdGF0ZShcImlkbGVcIik7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0geWllbGQgc2VuZEZ1bmN0aW9uKHRyYW5zY3JpcHRpb24pO1xuICAgICAgICAgICAgc2V0U3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZChtZXNzYWdlLmlkKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc3RvcFJlY29yZGluZyhtZWRpYVJlY29yZGVyUmVmKTtcbiAgICB9O1xuICB9LCBbcHVzaFRvVGFsa1N0YXRlXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGluUHJvZ3Jlc3MgPT09IGZhbHNlICYmIHN0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWQpIHtcbiAgICAgIGNvbnN0IGxhc3RNZXNzYWdlSW5kZXggPSBjb250ZXh0Lm1lc3NhZ2VzLmZpbmRJbmRleChcbiAgICAgICAgKG1lc3NhZ2UpID0+IG1lc3NhZ2UuaWQgPT09IHN0YXJ0UmVhZGluZ0Zyb21NZXNzYWdlSWRcbiAgICAgICk7XG4gICAgICBjb25zdCBhZ3VpTWVzc2FnZXMgPSBncWxUb0FHVUkoY29udGV4dC5tZXNzYWdlcyk7XG4gICAgICBjb25zdCBtZXNzYWdlc0FmdGVyTGFzdCA9IGFndWlNZXNzYWdlcy5zbGljZShsYXN0TWVzc2FnZUluZGV4ICsgMSkuZmlsdGVyKChtZXNzYWdlKSA9PiBtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpO1xuICAgICAgY29uc3QgdGV4dCA9IG1lc3NhZ2VzQWZ0ZXJMYXN0Lm1hcCgobWVzc2FnZSkgPT4gbWVzc2FnZS5jb250ZW50KS5qb2luKFwiXFxuXCIpO1xuICAgICAgcGxheUF1ZGlvUmVzcG9uc2UodGV4dCwgY29udGV4dC5jb3BpbG90QXBpQ29uZmlnLnRleHRUb1NwZWVjaFVybCwgYXVkaW9Db250ZXh0UmVmLmN1cnJlbnQpO1xuICAgICAgc2V0U3RhcnRSZWFkaW5nRnJvbU1lc3NhZ2VJZChudWxsKTtcbiAgICB9XG4gIH0sIFtzdGFydFJlYWRpbmdGcm9tTWVzc2FnZUlkLCBpblByb2dyZXNzXSk7XG4gIHJldHVybiB7IHB1c2hUb1RhbGtTdGF0ZSwgc2V0UHVzaFRvVGFsa1N0YXRlIH07XG59O1xuXG5leHBvcnQge1xuICBjaGVja01pY3JvcGhvbmVQZXJtaXNzaW9uLFxuICByZXF1ZXN0TWljQW5kUGxheWJhY2tQZXJtaXNzaW9uLFxuICB1c2VQdXNoVG9UYWxrXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstTzcyWkI1VjMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-O72ZB5V3.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-PLHTVHUW.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-PLHTVHUW.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ImageUploadQueue: () => (/* binding */ ImageUploadQueue)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/chat/ImageUploadQueue.tsx\n\nvar ImageUploadQueue = ({\n  images,\n  onRemoveImage,\n  className = \"\"\n}) => {\n  if (images.length === 0)\n    return null;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"div\",\n    {\n      className: `copilotKitImageUploadQueue ${className}`,\n      style: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: \"8px\",\n        margin: \"8px\",\n        padding: \"8px\"\n      },\n      children: images.map((image, index) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\n        \"div\",\n        {\n          className: \"copilotKitImageUploadQueueItem\",\n          style: {\n            position: \"relative\",\n            display: \"inline-block\",\n            width: \"60px\",\n            height: \"60px\",\n            borderRadius: \"4px\",\n            overflow: \"hidden\"\n          },\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              \"img\",\n              {\n                src: `data:${image.contentType};base64,${image.bytes}`,\n                alt: `Selected image ${index + 1}`,\n                style: {\n                  width: \"100%\",\n                  height: \"100%\",\n                  objectFit: \"cover\"\n                }\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n              \"button\",\n              {\n                onClick: () => onRemoveImage(index),\n                className: \"copilotKitImageUploadQueueRemoveButton\",\n                style: {\n                  position: \"absolute\",\n                  top: \"2px\",\n                  right: \"2px\",\n                  background: \"rgba(0,0,0,0.6)\",\n                  color: \"white\",\n                  border: \"none\",\n                  borderRadius: \"50%\",\n                  width: \"18px\",\n                  height: \"18px\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  cursor: \"pointer\",\n                  fontSize: \"10px\",\n                  padding: 0\n                },\n                children: \"\\u2715\"\n              }\n            )\n          ]\n        },\n        index\n      ))\n    }\n  );\n};\n\n\n//# sourceMappingURL=chunk-PLHTVHUW.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1QTEhUVkhVVy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUM4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EseUJBQXlCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQSwrQ0FBK0MsVUFBVTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsNkRBQTZELHVEQUFJO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsNEJBQTRCLHNEQUFHO0FBQy9CO0FBQ0E7QUFDQSw2QkFBNkIsbUJBQW1CLFNBQVMsWUFBWTtBQUNyRSx1Q0FBdUMsVUFBVTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzREFBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1QTEhUVkhVVy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9JbWFnZVVwbG9hZFF1ZXVlLnRzeFxuaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgSW1hZ2VVcGxvYWRRdWV1ZSA9ICh7XG4gIGltYWdlcyxcbiAgb25SZW1vdmVJbWFnZSxcbiAgY2xhc3NOYW1lID0gXCJcIlxufSkgPT4ge1xuICBpZiAoaW1hZ2VzLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgXCJkaXZcIixcbiAgICB7XG4gICAgICBjbGFzc05hbWU6IGBjb3BpbG90S2l0SW1hZ2VVcGxvYWRRdWV1ZSAke2NsYXNzTmFtZX1gLFxuICAgICAgc3R5bGU6IHtcbiAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgIGZsZXhXcmFwOiBcIndyYXBcIixcbiAgICAgICAgZ2FwOiBcIjhweFwiLFxuICAgICAgICBtYXJnaW46IFwiOHB4XCIsXG4gICAgICAgIHBhZGRpbmc6IFwiOHB4XCJcbiAgICAgIH0sXG4gICAgICBjaGlsZHJlbjogaW1hZ2VzLm1hcCgoaW1hZ2UsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8ganN4cyhcbiAgICAgICAgXCJkaXZcIixcbiAgICAgICAge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJjb3BpbG90S2l0SW1hZ2VVcGxvYWRRdWV1ZUl0ZW1cIixcbiAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgICAgICAgICB3aWR0aDogXCI2MHB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiNjBweFwiLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjRweFwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuOiBbXG4gICAgICAgICAgICAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICBcImltZ1wiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3JjOiBgZGF0YToke2ltYWdlLmNvbnRlbnRUeXBlfTtiYXNlNjQsJHtpbWFnZS5ieXRlc31gLFxuICAgICAgICAgICAgICAgIGFsdDogYFNlbGVjdGVkIGltYWdlICR7aW5kZXggKyAxfWAsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICBvYmplY3RGaXQ6IFwiY292ZXJcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBvblJlbW92ZUltYWdlKGluZGV4KSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY29waWxvdEtpdEltYWdlVXBsb2FkUXVldWVSZW1vdmVCdXR0b25cIixcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgIHRvcDogXCIycHhcIixcbiAgICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjJweFwiLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDAuNilcIixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgICBib3JkZXI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMThweFwiLFxuICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjE4cHhcIixcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBcIlxcdTI3MTVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBpbmRleFxuICAgICAgKSlcbiAgICB9XG4gICk7XG59O1xuXG5leHBvcnQge1xuICBJbWFnZVVwbG9hZFF1ZXVlXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUExIVFZIVVcubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-PLHTVHUW.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-QIOJXTIQ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-QIOJXTIQ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Textarea_default: () => (/* binding */ Textarea_default)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/chat/Textarea.tsx\n\n\nvar AutoResizingTextarea = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({\n    maxRows = 1,\n    placeholder,\n    value,\n    onChange,\n    onKeyDown,\n    onCompositionStart,\n    onCompositionEnd,\n    autoFocus\n  }, ref) => {\n    const internalTextareaRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const [maxHeight, setMaxHeight] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(ref, () => internalTextareaRef.current);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n      const calculateMaxHeight = () => {\n        const textarea = internalTextareaRef.current;\n        if (textarea) {\n          textarea.style.height = \"auto\";\n          const singleRowHeight = textarea.scrollHeight;\n          setMaxHeight(singleRowHeight * maxRows);\n          if (autoFocus) {\n            textarea.focus();\n          }\n        }\n      };\n      calculateMaxHeight();\n    }, [maxRows]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n      const textarea = internalTextareaRef.current;\n      if (textarea) {\n        textarea.style.height = \"auto\";\n        textarea.style.height = `${Math.min(textarea.scrollHeight, maxHeight)}px`;\n      }\n    }, [value, maxHeight]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      \"textarea\",\n      {\n        ref: internalTextareaRef,\n        value,\n        onChange,\n        onKeyDown,\n        onCompositionStart,\n        onCompositionEnd,\n        placeholder,\n        style: {\n          overflow: \"auto\",\n          resize: \"none\",\n          maxHeight: `${maxHeight}px`\n        },\n        rows: 1\n      }\n    );\n  }\n);\nvar Textarea_default = AutoResizingTextarea;\n\n\n//# sourceMappingURL=chunk-QIOJXTIQ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1RSU9KWFRJUS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDcUY7QUFDN0M7QUFDeEMsMkJBQTJCLGlEQUFVO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQ0FBZ0MsNkNBQU07QUFDdEMsc0NBQXNDLCtDQUFRO0FBQzlDLElBQUksMERBQW1CO0FBQ3ZCLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQywyQ0FBMkM7QUFDOUU7QUFDQSxLQUFLO0FBQ0wsMkJBQTJCLHNEQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1RSU9KWFRJUS5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9UZXh0YXJlYS50c3hcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCwgZm9yd2FyZFJlZiwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgQXV0b1Jlc2l6aW5nVGV4dGFyZWEgPSBmb3J3YXJkUmVmKFxuICAoe1xuICAgIG1heFJvd3MgPSAxLFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHZhbHVlLFxuICAgIG9uQ2hhbmdlLFxuICAgIG9uS2V5RG93bixcbiAgICBvbkNvbXBvc2l0aW9uU3RhcnQsXG4gICAgb25Db21wb3NpdGlvbkVuZCxcbiAgICBhdXRvRm9jdXNcbiAgfSwgcmVmKSA9PiB7XG4gICAgY29uc3QgaW50ZXJuYWxUZXh0YXJlYVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbbWF4SGVpZ2h0LCBzZXRNYXhIZWlnaHRdID0gdXNlU3RhdGUoMCk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsICgpID0+IGludGVybmFsVGV4dGFyZWFSZWYuY3VycmVudCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGN1bGF0ZU1heEhlaWdodCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGV4dGFyZWEgPSBpbnRlcm5hbFRleHRhcmVhUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICh0ZXh0YXJlYSkge1xuICAgICAgICAgIHRleHRhcmVhLnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiO1xuICAgICAgICAgIGNvbnN0IHNpbmdsZVJvd0hlaWdodCA9IHRleHRhcmVhLnNjcm9sbEhlaWdodDtcbiAgICAgICAgICBzZXRNYXhIZWlnaHQoc2luZ2xlUm93SGVpZ2h0ICogbWF4Um93cyk7XG4gICAgICAgICAgaWYgKGF1dG9Gb2N1cykge1xuICAgICAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjYWxjdWxhdGVNYXhIZWlnaHQoKTtcbiAgICB9LCBbbWF4Um93c10pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCB0ZXh0YXJlYSA9IGludGVybmFsVGV4dGFyZWFSZWYuY3VycmVudDtcbiAgICAgIGlmICh0ZXh0YXJlYSkge1xuICAgICAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIjtcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gYCR7TWF0aC5taW4odGV4dGFyZWEuc2Nyb2xsSGVpZ2h0LCBtYXhIZWlnaHQpfXB4YDtcbiAgICAgIH1cbiAgICB9LCBbdmFsdWUsIG1heEhlaWdodF0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJ0ZXh0YXJlYVwiLFxuICAgICAge1xuICAgICAgICByZWY6IGludGVybmFsVGV4dGFyZWFSZWYsXG4gICAgICAgIHZhbHVlLFxuICAgICAgICBvbkNoYW5nZSxcbiAgICAgICAgb25LZXlEb3duLFxuICAgICAgICBvbkNvbXBvc2l0aW9uU3RhcnQsXG4gICAgICAgIG9uQ29tcG9zaXRpb25FbmQsXG4gICAgICAgIHBsYWNlaG9sZGVyLFxuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIixcbiAgICAgICAgICByZXNpemU6IFwibm9uZVwiLFxuICAgICAgICAgIG1heEhlaWdodDogYCR7bWF4SGVpZ2h0fXB4YFxuICAgICAgICB9LFxuICAgICAgICByb3dzOiAxXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbnZhciBUZXh0YXJlYV9kZWZhdWx0ID0gQXV0b1Jlc2l6aW5nVGV4dGFyZWE7XG5cbmV4cG9ydCB7XG4gIFRleHRhcmVhX2RlZmF1bHRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1RSU9KWFRJUS5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-QIOJXTIQ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-SNFHUE5S.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-SNFHUE5S.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Markdown: () => (/* binding */ Markdown)\n/* harmony export */ });\n/* harmony import */ var _chunk_B5IFB5YJ_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-B5IFB5YJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-B5IFB5YJ.mjs\");\n/* harmony import */ var _chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-MRXNTQOX.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_markdown__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-markdown */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/react-markdown/lib/index.js\");\n/* harmony import */ var remark_gfm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! remark-gfm */ \"(ssr)/./node_modules/remark-gfm/lib/index.js\");\n/* harmony import */ var remark_math__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! remark-math */ \"(ssr)/./node_modules/remark-math/lib/index.js\");\n/* harmony import */ var rehype_raw__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rehype-raw */ \"(ssr)/./node_modules/rehype-raw/lib/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n// src/components/chat/Markdown.tsx\n\n\n\n\n\n\nvar defaultComponents = {\n  a(_a) {\n    var _b = _a, { children } = _b, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_b, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { target: \"_blank\", rel: \"noopener noreferrer\", children }));\n  },\n  // @ts-expect-error -- inline\n  code(_c) {\n    var _d = _c, { children, className, inline } = _d, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_d, [\"children\", \"className\", \"inline\"]);\n    if (Array.isArray(children) && children.length) {\n      if (children[0] == \"\\u258D\") {\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n          \"span\",\n          {\n            style: {\n              animation: \"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite\",\n              marginTop: \"0.25rem\"\n            },\n            children: \"\\u258D\"\n          }\n        );\n      }\n      children[0] = (children == null ? void 0 : children[0]).replace(\"`\\u258D`\", \"\\u258D\");\n    }\n    const match = /language-(\\w+)/.exec(className || \"\");\n    const hasLanguage = match && match[1];\n    const content = String(children);\n    const hasNewlines = content.includes(\"\\n\");\n    const isInline = !hasLanguage && !hasNewlines;\n    if (isInline) {\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n        \"code\",\n        (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({\n          className: `copilotKitMarkdownElement copilotKitInlineCode ${className || \"\"}`\n        }, props), {\n          children\n        })\n      );\n    }\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n      _chunk_B5IFB5YJ_mjs__WEBPACK_IMPORTED_MODULE_3__.CodeBlock,\n      (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({\n        language: match && match[1] || \"\",\n        value: String(children).replace(/\\n$/, \"\")\n      }, props),\n      Math.random()\n    );\n  },\n  h1: (_e) => {\n    var _f = _e, { children } = _f, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_f, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h1\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  h2: (_g) => {\n    var _h = _g, { children } = _h, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_h, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h2\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  h3: (_i) => {\n    var _j = _i, { children } = _j, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_j, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  h4: (_k) => {\n    var _l = _k, { children } = _l, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_l, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  h5: (_m) => {\n    var _n = _m, { children } = _n, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_n, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  h6: (_o) => {\n    var _p = _o, { children } = _p, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_p, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h6\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  p: (_q) => {\n    var _r = _q, { children } = _r, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_r, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  pre: (_s) => {\n    var _t = _s, { children } = _t, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_t, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"pre\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  blockquote: (_u) => {\n    var _v = _u, { children } = _v, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_v, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"blockquote\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  ul: (_w) => {\n    var _x = _w, { children } = _x, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_x, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  },\n  li: (_y) => {\n    var _z = _y, { children } = _z, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__objRest)(_z, [\"children\"]);\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadProps)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({ className: \"copilotKitMarkdownElement\" }, props), { children }));\n  }\n};\nvar MemoizedReactMarkdown = (0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(\n  react_markdown__WEBPACK_IMPORTED_MODULE_4__.Markdown,\n  (prevProps, nextProps) => prevProps.children === nextProps.children && prevProps.components === nextProps.components\n);\nvar Markdown = ({ content, components }) => {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { className: \"copilotKitMarkdown\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n    MemoizedReactMarkdown,\n    {\n      components: (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)((0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_2__.__spreadValues)({}, defaultComponents), components),\n      remarkPlugins: [remark_gfm__WEBPACK_IMPORTED_MODULE_5__[\"default\"], [remark_math__WEBPACK_IMPORTED_MODULE_6__[\"default\"], { singleDollarTextMath: false }]],\n      rehypePlugins: [rehype_raw__WEBPACK_IMPORTED_MODULE_7__[\"default\"]],\n      children: content\n    }\n  ) });\n};\n\n\n//# sourceMappingURL=chunk-SNFHUE5S.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1TTkZIVUU1Uy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRThCO0FBS0E7O0FBRTlCO0FBQzZCO0FBQ2M7QUFDUjtBQUNFO0FBQ0Y7QUFDSztBQUN4QztBQUNBO0FBQ0EsbUJBQW1CLFdBQVcsY0FBYyw4REFBUztBQUNyRCwyQkFBMkIsc0RBQUcsTUFBTSxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsd0NBQXdDLFlBQVksd0RBQXdEO0FBQy9LLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbUJBQW1CLDhCQUE4QixjQUFjLDhEQUFTO0FBQ3hFO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0RBQUc7QUFDaEM7QUFDQSxRQUFRLGtFQUFhLENBQUMsbUVBQWM7QUFDcEMsdUVBQXVFLGdCQUFnQjtBQUN2RixTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDJCQUEyQixzREFBRztBQUM5QixNQUFNLDBEQUFTO0FBQ2YsTUFBTSxtRUFBYztBQUNwQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsV0FBVyxjQUFjLDhEQUFTO0FBQ3JELDJCQUEyQixzREFBRyxPQUFPLGtFQUFhLENBQUMsbUVBQWMsR0FBRyx3Q0FBd0MsWUFBWSxVQUFVO0FBQ2xJLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixXQUFXLGNBQWMsOERBQVM7QUFDckQsMkJBQTJCLHNEQUFHLE9BQU8sa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLHdDQUF3QyxZQUFZLFVBQVU7QUFDbEksR0FBRztBQUNIO0FBQ0EsbUJBQW1CLFdBQVcsY0FBYyw4REFBUztBQUNyRCwyQkFBMkIsc0RBQUcsT0FBTyxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsd0NBQXdDLFlBQVksVUFBVTtBQUNsSSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsV0FBVyxjQUFjLDhEQUFTO0FBQ3JELDJCQUEyQixzREFBRyxPQUFPLGtFQUFhLENBQUMsbUVBQWMsR0FBRyx3Q0FBd0MsWUFBWSxVQUFVO0FBQ2xJLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixXQUFXLGNBQWMsOERBQVM7QUFDckQsMkJBQTJCLHNEQUFHLE9BQU8sa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLHdDQUF3QyxZQUFZLFVBQVU7QUFDbEksR0FBRztBQUNIO0FBQ0EsbUJBQW1CLFdBQVcsY0FBYyw4REFBUztBQUNyRCwyQkFBMkIsc0RBQUcsT0FBTyxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsd0NBQXdDLFlBQVksVUFBVTtBQUNsSSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsV0FBVyxjQUFjLDhEQUFTO0FBQ3JELDJCQUEyQixzREFBRyxNQUFNLGtFQUFhLENBQUMsbUVBQWMsR0FBRyx3Q0FBd0MsWUFBWSxVQUFVO0FBQ2pJLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixXQUFXLGNBQWMsOERBQVM7QUFDckQsMkJBQTJCLHNEQUFHLFFBQVEsa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLHdDQUF3QyxZQUFZLFVBQVU7QUFDbkksR0FBRztBQUNIO0FBQ0EsbUJBQW1CLFdBQVcsY0FBYyw4REFBUztBQUNyRCwyQkFBMkIsc0RBQUcsZUFBZSxrRUFBYSxDQUFDLG1FQUFjLEdBQUcsd0NBQXdDLFlBQVksVUFBVTtBQUMxSSxHQUFHO0FBQ0g7QUFDQSxtQkFBbUIsV0FBVyxjQUFjLDhEQUFTO0FBQ3JELDJCQUEyQixzREFBRyxPQUFPLGtFQUFhLENBQUMsbUVBQWMsR0FBRyx3Q0FBd0MsWUFBWSxVQUFVO0FBQ2xJLEdBQUc7QUFDSDtBQUNBLG1CQUFtQixXQUFXLGNBQWMsOERBQVM7QUFDckQsMkJBQTJCLHNEQUFHLE9BQU8sa0VBQWEsQ0FBQyxtRUFBYyxHQUFHLHdDQUF3QyxZQUFZLFVBQVU7QUFDbEk7QUFDQTtBQUNBLDRCQUE0QiwyQ0FBSTtBQUNoQyxFQUFFLG9EQUFhO0FBQ2Y7QUFDQTtBQUNBLGtCQUFrQixxQkFBcUI7QUFDdkMseUJBQXlCLHNEQUFHLFVBQVUsMkRBQTJELHNEQUFHO0FBQ3BHO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQWMsQ0FBQyxtRUFBYyxHQUFHO0FBQ2xELHNCQUFzQixrREFBUyxHQUFHLG1EQUFVLElBQUksNkJBQTZCO0FBQzdFLHNCQUFzQixrREFBUztBQUMvQjtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstU05GSFVFNVMubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIENvZGVCbG9ja1xufSBmcm9tIFwiLi9jaHVuay1CNUlGQjVZSi5tanNcIjtcbmltcG9ydCB7XG4gIF9fb2JqUmVzdCxcbiAgX19zcHJlYWRQcm9wcyxcbiAgX19zcHJlYWRWYWx1ZXNcbn0gZnJvbSBcIi4vY2h1bmstTVJYTlRRT1gubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQvTWFya2Rvd24udHN4XG5pbXBvcnQgeyBtZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RNYXJrZG93biBmcm9tIFwicmVhY3QtbWFya2Rvd25cIjtcbmltcG9ydCByZW1hcmtHZm0gZnJvbSBcInJlbWFyay1nZm1cIjtcbmltcG9ydCByZW1hcmtNYXRoIGZyb20gXCJyZW1hcmstbWF0aFwiO1xuaW1wb3J0IHJlaHlwZVJhdyBmcm9tIFwicmVoeXBlLXJhd1wiO1xuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gIGEoX2EpIHtcbiAgICB2YXIgX2IgPSBfYSwgeyBjaGlsZHJlbiB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXCJjaGlsZHJlblwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJhXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1hcmtkb3duRWxlbWVudFwiIH0sIHByb3BzKSwgeyB0YXJnZXQ6IFwiX2JsYW5rXCIsIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsIGNoaWxkcmVuIH0pKTtcbiAgfSxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtLSBpbmxpbmVcbiAgY29kZShfYykge1xuICAgIHZhciBfZCA9IF9jLCB7IGNoaWxkcmVuLCBjbGFzc05hbWUsIGlubGluZSB9ID0gX2QsIHByb3BzID0gX19vYmpSZXN0KF9kLCBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImlubGluZVwiXSk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmIGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgaWYgKGNoaWxkcmVuWzBdID09IFwiXFx1MjU4RFwiKSB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbjogXCJwdWxzZSAycyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjYsIDEpIGluZmluaXRlXCIsXG4gICAgICAgICAgICAgIG1hcmdpblRvcDogXCIwLjI1cmVtXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZHJlbjogXCJcXHUyNThEXCJcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlblswXSA9IChjaGlsZHJlbiA9PSBudWxsID8gdm9pZCAwIDogY2hpbGRyZW5bMF0pLnJlcGxhY2UoXCJgXFx1MjU4RGBcIiwgXCJcXHUyNThEXCIpO1xuICAgIH1cbiAgICBjb25zdCBtYXRjaCA9IC9sYW5ndWFnZS0oXFx3KykvLmV4ZWMoY2xhc3NOYW1lIHx8IFwiXCIpO1xuICAgIGNvbnN0IGhhc0xhbmd1YWdlID0gbWF0Y2ggJiYgbWF0Y2hbMV07XG4gICAgY29uc3QgY29udGVudCA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgY29uc3QgaGFzTmV3bGluZXMgPSBjb250ZW50LmluY2x1ZGVzKFwiXFxuXCIpO1xuICAgIGNvbnN0IGlzSW5saW5lID0gIWhhc0xhbmd1YWdlICYmICFoYXNOZXdsaW5lcztcbiAgICBpZiAoaXNJbmxpbmUpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBcImNvZGVcIixcbiAgICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgICAgY2xhc3NOYW1lOiBgY29waWxvdEtpdE1hcmtkb3duRWxlbWVudCBjb3BpbG90S2l0SW5saW5lQ29kZSAke2NsYXNzTmFtZSB8fCBcIlwifWBcbiAgICAgICAgfSwgcHJvcHMpLCB7XG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgQ29kZUJsb2NrLFxuICAgICAgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICBsYW5ndWFnZTogbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgXCJcIixcbiAgICAgICAgdmFsdWU6IFN0cmluZyhjaGlsZHJlbikucmVwbGFjZSgvXFxuJC8sIFwiXCIpXG4gICAgICB9LCBwcm9wcyksXG4gICAgICBNYXRoLnJhbmRvbSgpXG4gICAgKTtcbiAgfSxcbiAgaDE6IChfZSkgPT4ge1xuICAgIHZhciBfZiA9IF9lLCB7IGNoaWxkcmVuIH0gPSBfZiwgcHJvcHMgPSBfX29ialJlc3QoX2YsIFtcImNoaWxkcmVuXCJdKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImgxXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1hcmtkb3duRWxlbWVudFwiIH0sIHByb3BzKSwgeyBjaGlsZHJlbiB9KSk7XG4gIH0sXG4gIGgyOiAoX2cpID0+IHtcbiAgICB2YXIgX2ggPSBfZywgeyBjaGlsZHJlbiB9ID0gX2gsIHByb3BzID0gX19vYmpSZXN0KF9oLCBbXCJjaGlsZHJlblwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJoMlwiLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNYXJrZG93bkVsZW1lbnRcIiB9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpO1xuICB9LFxuICBoMzogKF9pKSA9PiB7XG4gICAgdmFyIF9qID0gX2ksIHsgY2hpbGRyZW4gfSA9IF9qLCBwcm9wcyA9IF9fb2JqUmVzdChfaiwgW1wiY2hpbGRyZW5cIl0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiaDNcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWFya2Rvd25FbGVtZW50XCIgfSwgcHJvcHMpLCB7IGNoaWxkcmVuIH0pKTtcbiAgfSxcbiAgaDQ6IChfaykgPT4ge1xuICAgIHZhciBfbCA9IF9rLCB7IGNoaWxkcmVuIH0gPSBfbCwgcHJvcHMgPSBfX29ialJlc3QoX2wsIFtcImNoaWxkcmVuXCJdKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImg0XCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1hcmtkb3duRWxlbWVudFwiIH0sIHByb3BzKSwgeyBjaGlsZHJlbiB9KSk7XG4gIH0sXG4gIGg1OiAoX20pID0+IHtcbiAgICB2YXIgX24gPSBfbSwgeyBjaGlsZHJlbiB9ID0gX24sIHByb3BzID0gX19vYmpSZXN0KF9uLCBbXCJjaGlsZHJlblwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJoNVwiLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNYXJrZG93bkVsZW1lbnRcIiB9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpO1xuICB9LFxuICBoNjogKF9vKSA9PiB7XG4gICAgdmFyIF9wID0gX28sIHsgY2hpbGRyZW4gfSA9IF9wLCBwcm9wcyA9IF9fb2JqUmVzdChfcCwgW1wiY2hpbGRyZW5cIl0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiaDZcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWFya2Rvd25FbGVtZW50XCIgfSwgcHJvcHMpLCB7IGNoaWxkcmVuIH0pKTtcbiAgfSxcbiAgcDogKF9xKSA9PiB7XG4gICAgdmFyIF9yID0gX3EsIHsgY2hpbGRyZW4gfSA9IF9yLCBwcm9wcyA9IF9fb2JqUmVzdChfciwgW1wiY2hpbGRyZW5cIl0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwicFwiLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNYXJrZG93bkVsZW1lbnRcIiB9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpO1xuICB9LFxuICBwcmU6IChfcykgPT4ge1xuICAgIHZhciBfdCA9IF9zLCB7IGNoaWxkcmVuIH0gPSBfdCwgcHJvcHMgPSBfX29ialJlc3QoX3QsIFtcImNoaWxkcmVuXCJdKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcInByZVwiLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNYXJrZG93bkVsZW1lbnRcIiB9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpO1xuICB9LFxuICBibG9ja3F1b3RlOiAoX3UpID0+IHtcbiAgICB2YXIgX3YgPSBfdSwgeyBjaGlsZHJlbiB9ID0gX3YsIHByb3BzID0gX19vYmpSZXN0KF92LCBbXCJjaGlsZHJlblwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJibG9ja3F1b3RlXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoeyBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1hcmtkb3duRWxlbWVudFwiIH0sIHByb3BzKSwgeyBjaGlsZHJlbiB9KSk7XG4gIH0sXG4gIHVsOiAoX3cpID0+IHtcbiAgICB2YXIgX3ggPSBfdywgeyBjaGlsZHJlbiB9ID0gX3gsIHByb3BzID0gX19vYmpSZXN0KF94LCBbXCJjaGlsZHJlblwiXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJ1bFwiLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNYXJrZG93bkVsZW1lbnRcIiB9LCBwcm9wcyksIHsgY2hpbGRyZW4gfSkpO1xuICB9LFxuICBsaTogKF95KSA9PiB7XG4gICAgdmFyIF96ID0gX3ksIHsgY2hpbGRyZW4gfSA9IF96LCBwcm9wcyA9IF9fb2JqUmVzdChfeiwgW1wiY2hpbGRyZW5cIl0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwibGlcIiwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWFya2Rvd25FbGVtZW50XCIgfSwgcHJvcHMpLCB7IGNoaWxkcmVuIH0pKTtcbiAgfVxufTtcbnZhciBNZW1vaXplZFJlYWN0TWFya2Rvd24gPSBtZW1vKFxuICBSZWFjdE1hcmtkb3duLFxuICAocHJldlByb3BzLCBuZXh0UHJvcHMpID0+IHByZXZQcm9wcy5jaGlsZHJlbiA9PT0gbmV4dFByb3BzLmNoaWxkcmVuICYmIHByZXZQcm9wcy5jb21wb25lbnRzID09PSBuZXh0UHJvcHMuY29tcG9uZW50c1xuKTtcbnZhciBNYXJrZG93biA9ICh7IGNvbnRlbnQsIGNvbXBvbmVudHMgfSkgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWFya2Rvd25cIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgTWVtb2l6ZWRSZWFjdE1hcmtkb3duLFxuICAgIHtcbiAgICAgIGNvbXBvbmVudHM6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBkZWZhdWx0Q29tcG9uZW50cyksIGNvbXBvbmVudHMpLFxuICAgICAgcmVtYXJrUGx1Z2luczogW3JlbWFya0dmbSwgW3JlbWFya01hdGgsIHsgc2luZ2xlRG9sbGFyVGV4dE1hdGg6IGZhbHNlIH1dXSxcbiAgICAgIHJlaHlwZVBsdWdpbnM6IFtyZWh5cGVSYXddLFxuICAgICAgY2hpbGRyZW46IGNvbnRlbnRcbiAgICB9XG4gICkgfSk7XG59O1xuXG5leHBvcnQge1xuICBNYXJrZG93blxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVNORkhVRTVTLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-SNFHUE5S.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-SP2PFXCH.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-SP2PFXCH.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LegacyRenderMessage: () => (/* binding */ LegacyRenderMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_WRQST6DJ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-WRQST6DJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-WRQST6DJ.mjs\");\n/* harmony import */ var _copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/runtime-client-gql */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-SCACOKQX.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n// src/components/chat/messages/LegacyRenderMessage.tsx\n\n\nvar LegacyRenderMessage = ({\n  message,\n  inProgress,\n  index,\n  isCurrentMessage,\n  actionResult,\n  AssistantMessage,\n  UserMessage,\n  ImageRenderer,\n  onRegenerate,\n  onCopy,\n  onThumbsUp,\n  onThumbsDown,\n  markdownTagRenderers,\n  legacyProps\n}) => {\n  var _a;\n  const {\n    RenderTextMessage,\n    RenderActionExecutionMessage,\n    RenderAgentStateMessage,\n    RenderResultMessage,\n    RenderImageMessage\n  } = legacyProps;\n  const deprecatedMessage = (_a = (0,_copilotkit_runtime_client_gql__WEBPACK_IMPORTED_MODULE_1__.aguiToGQL)(message)[0]) != null ? _a : void 0;\n  if (deprecatedMessage.isTextMessage() && RenderTextMessage) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      RenderTextMessage,\n      {\n        message,\n        inProgress,\n        index,\n        isCurrentMessage,\n        AssistantMessage,\n        UserMessage,\n        onRegenerate,\n        onCopy,\n        onThumbsUp,\n        onThumbsDown,\n        markdownTagRenderers\n      }\n    );\n  }\n  if (deprecatedMessage.isActionExecutionMessage() && RenderActionExecutionMessage) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      RenderActionExecutionMessage,\n      {\n        message,\n        inProgress,\n        index,\n        isCurrentMessage,\n        actionResult,\n        AssistantMessage,\n        UserMessage\n      }\n    );\n  }\n  if (deprecatedMessage.isAgentStateMessage() && RenderAgentStateMessage) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      RenderAgentStateMessage,\n      {\n        message,\n        inProgress,\n        index,\n        isCurrentMessage,\n        AssistantMessage,\n        UserMessage\n      }\n    );\n  }\n  if (deprecatedMessage.isResultMessage() && RenderResultMessage) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      RenderResultMessage,\n      {\n        message,\n        inProgress,\n        index,\n        isCurrentMessage,\n        AssistantMessage,\n        UserMessage\n      }\n    );\n  }\n  if (deprecatedMessage.isImageMessage() && RenderImageMessage) {\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      RenderImageMessage,\n      {\n        message,\n        inProgress,\n        index,\n        isCurrentMessage,\n        AssistantMessage,\n        UserMessage\n      }\n    );\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    _chunk_WRQST6DJ_mjs__WEBPACK_IMPORTED_MODULE_2__.RenderMessage,\n    {\n      message,\n      inProgress,\n      index,\n      isCurrentMessage,\n      AssistantMessage,\n      UserMessage,\n      ImageRenderer,\n      onRegenerate,\n      onCopy,\n      onThumbsUp,\n      onThumbsDown,\n      markdownTagRenderers\n    }\n  );\n};\n\n\n//# sourceMappingURL=chunk-SP2PFXCH.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1TUDJQRlhDSC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDMkQ7QUFDbkI7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLGtDQUFrQyx5RUFBUztBQUMzQztBQUNBLDJCQUEyQixzREFBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNEQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHNEQUFHO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzREFBRztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0RBQUc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzREFBRztBQUM1QixJQUFJLDhEQUFhO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstU1AyUEZYQ0gubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFJlbmRlck1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstV1JRU1Q2REoubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQvbWVzc2FnZXMvTGVnYWN5UmVuZGVyTWVzc2FnZS50c3hcbmltcG9ydCB7IGFndWlUb0dRTCB9IGZyb20gXCJAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxcIjtcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIExlZ2FjeVJlbmRlck1lc3NhZ2UgPSAoe1xuICBtZXNzYWdlLFxuICBpblByb2dyZXNzLFxuICBpbmRleCxcbiAgaXNDdXJyZW50TWVzc2FnZSxcbiAgYWN0aW9uUmVzdWx0LFxuICBBc3Npc3RhbnRNZXNzYWdlLFxuICBVc2VyTWVzc2FnZSxcbiAgSW1hZ2VSZW5kZXJlcixcbiAgb25SZWdlbmVyYXRlLFxuICBvbkNvcHksXG4gIG9uVGh1bWJzVXAsXG4gIG9uVGh1bWJzRG93bixcbiAgbWFya2Rvd25UYWdSZW5kZXJlcnMsXG4gIGxlZ2FjeVByb3BzXG59KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3Qge1xuICAgIFJlbmRlclRleHRNZXNzYWdlLFxuICAgIFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gICAgUmVuZGVyQWdlbnRTdGF0ZU1lc3NhZ2UsXG4gICAgUmVuZGVyUmVzdWx0TWVzc2FnZSxcbiAgICBSZW5kZXJJbWFnZU1lc3NhZ2VcbiAgfSA9IGxlZ2FjeVByb3BzO1xuICBjb25zdCBkZXByZWNhdGVkTWVzc2FnZSA9IChfYSA9IGFndWlUb0dRTChtZXNzYWdlKVswXSkgIT0gbnVsbCA/IF9hIDogdm9pZCAwO1xuICBpZiAoZGVwcmVjYXRlZE1lc3NhZ2UuaXNUZXh0TWVzc2FnZSgpICYmIFJlbmRlclRleHRNZXNzYWdlKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBSZW5kZXJUZXh0TWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgaW5Qcm9ncmVzcyxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGlzQ3VycmVudE1lc3NhZ2UsXG4gICAgICAgIEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgIFVzZXJNZXNzYWdlLFxuICAgICAgICBvblJlZ2VuZXJhdGUsXG4gICAgICAgIG9uQ29weSxcbiAgICAgICAgb25UaHVtYnNVcCxcbiAgICAgICAgb25UaHVtYnNEb3duLFxuICAgICAgICBtYXJrZG93blRhZ1JlbmRlcmVyc1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgaWYgKGRlcHJlY2F0ZWRNZXNzYWdlLmlzQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSgpICYmIFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFJlbmRlckFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UsXG4gICAgICB7XG4gICAgICAgIG1lc3NhZ2UsXG4gICAgICAgIGluUHJvZ3Jlc3MsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpc0N1cnJlbnRNZXNzYWdlLFxuICAgICAgICBhY3Rpb25SZXN1bHQsXG4gICAgICAgIEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgIFVzZXJNZXNzYWdlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBpZiAoZGVwcmVjYXRlZE1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpICYmIFJlbmRlckFnZW50U3RhdGVNZXNzYWdlKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBSZW5kZXJBZ2VudFN0YXRlTWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgaW5Qcm9ncmVzcyxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGlzQ3VycmVudE1lc3NhZ2UsXG4gICAgICAgIEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgIFVzZXJNZXNzYWdlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBpZiAoZGVwcmVjYXRlZE1lc3NhZ2UuaXNSZXN1bHRNZXNzYWdlKCkgJiYgUmVuZGVyUmVzdWx0TWVzc2FnZSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgUmVuZGVyUmVzdWx0TWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgaW5Qcm9ncmVzcyxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGlzQ3VycmVudE1lc3NhZ2UsXG4gICAgICAgIEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgIFVzZXJNZXNzYWdlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICBpZiAoZGVwcmVjYXRlZE1lc3NhZ2UuaXNJbWFnZU1lc3NhZ2UoKSAmJiBSZW5kZXJJbWFnZU1lc3NhZ2UpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFJlbmRlckltYWdlTWVzc2FnZSxcbiAgICAgIHtcbiAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgaW5Qcm9ncmVzcyxcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIGlzQ3VycmVudE1lc3NhZ2UsXG4gICAgICAgIEFzc2lzdGFudE1lc3NhZ2UsXG4gICAgICAgIFVzZXJNZXNzYWdlXG4gICAgICB9XG4gICAgKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBSZW5kZXJNZXNzYWdlLFxuICAgIHtcbiAgICAgIG1lc3NhZ2UsXG4gICAgICBpblByb2dyZXNzLFxuICAgICAgaW5kZXgsXG4gICAgICBpc0N1cnJlbnRNZXNzYWdlLFxuICAgICAgQXNzaXN0YW50TWVzc2FnZSxcbiAgICAgIFVzZXJNZXNzYWdlLFxuICAgICAgSW1hZ2VSZW5kZXJlcixcbiAgICAgIG9uUmVnZW5lcmF0ZSxcbiAgICAgIG9uQ29weSxcbiAgICAgIG9uVGh1bWJzVXAsXG4gICAgICBvblRodW1ic0Rvd24sXG4gICAgICBtYXJrZG93blRhZ1JlbmRlcmVyc1xuICAgIH1cbiAgKTtcbn07XG5cbmV4cG9ydCB7XG4gIExlZ2FjeVJlbmRlck1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1TUDJQRlhDSC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-SP2PFXCH.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-VVL6JFCJ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-VVL6JFCJ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserMessage: () => (/* binding */ UserMessage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/chat/messages/UserMessage.tsx\n\nvar UserMessage = (props) => {\n  const { message, ImageRenderer } = props;\n  const isImageMessage = message && \"image\" in message && message.image;\n  if (isImageMessage) {\n    const imageMessage = message;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"copilotKitMessage copilotKitUserMessage\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ImageRenderer, { image: imageMessage.image, content: imageMessage.content }) });\n  }\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"copilotKitMessage copilotKitUserMessage\", children: message == null ? void 0 : message.content });\n};\n\n\n//# sourceMappingURL=chunk-VVL6JFCJ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1WVkw2SkZDSi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUN3QztBQUN4QztBQUNBLFVBQVUseUJBQXlCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixzREFBRyxVQUFVLGdGQUFnRixzREFBRyxrQkFBa0IsMERBQTBELEdBQUc7QUFDMU07QUFDQSx5QkFBeUIsc0RBQUcsVUFBVSw0R0FBNEc7QUFDbEo7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1WVkw2SkZDSi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9tZXNzYWdlcy9Vc2VyTWVzc2FnZS50c3hcbmltcG9ydCB7IGpzeCB9IGZyb20gXCJyZWFjdC9qc3gtcnVudGltZVwiO1xudmFyIFVzZXJNZXNzYWdlID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgbWVzc2FnZSwgSW1hZ2VSZW5kZXJlciB9ID0gcHJvcHM7XG4gIGNvbnN0IGlzSW1hZ2VNZXNzYWdlID0gbWVzc2FnZSAmJiBcImltYWdlXCIgaW4gbWVzc2FnZSAmJiBtZXNzYWdlLmltYWdlO1xuICBpZiAoaXNJbWFnZU1lc3NhZ2UpIHtcbiAgICBjb25zdCBpbWFnZU1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNZXNzYWdlIGNvcGlsb3RLaXRVc2VyTWVzc2FnZVwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChJbWFnZVJlbmRlcmVyLCB7IGltYWdlOiBpbWFnZU1lc3NhZ2UuaW1hZ2UsIGNvbnRlbnQ6IGltYWdlTWVzc2FnZS5jb250ZW50IH0pIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNZXNzYWdlIGNvcGlsb3RLaXRVc2VyTWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbWVzc2FnZS5jb250ZW50IH0pO1xufTtcblxuZXhwb3J0IHtcbiAgVXNlck1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1WVkw2SkZDSi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-VVL6JFCJ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-W26XFBEG.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-W26XFBEG.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Suggestion: () => (/* binding */ Suggestion)\n/* harmony export */ });\n/* harmony import */ var _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-XWG3L6QC.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-XWG3L6QC.mjs\");\n/* harmony import */ var _copilotkit_react_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/react-core */ \"(ssr)/./node_modules/@copilotkit/react-core/dist/chunk-CLAHAV6J.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n// src/components/chat/Suggestion.tsx\n\n\nfunction Suggestion({ title, onClick, partial, className }) {\n  if (!title)\n    return null;\n  const { isLoading } = (0,_copilotkit_react_core__WEBPACK_IMPORTED_MODULE_1__.useCopilotChat)();\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n    \"button\",\n    {\n      disabled: partial || isLoading,\n      onClick: (e) => {\n        e.preventDefault();\n        onClick();\n      },\n      className: className || (partial ? \"suggestion loading\" : \"suggestion\"),\n      \"data-test-id\": \"suggestion\",\n      children: partial ? _chunk_XWG3L6QC_mjs__WEBPACK_IMPORTED_MODULE_2__.SmallSpinnerIcon : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { children: title })\n    }\n  );\n}\n\n\n//# sourceMappingURL=chunk-W26XFBEG.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1XMjZYRkJFRy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDa0Y7QUFDMUM7QUFDeEMsc0JBQXNCLG9DQUFvQztBQUMxRDtBQUNBO0FBQ0EsVUFBVSxZQUFZLEVBQUUsc0VBQWM7QUFDdEMseUJBQXlCLHNEQUFHO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsMEJBQTBCLGlFQUFnQixtQkFBbUIsc0RBQUcsV0FBVyxpQkFBaUI7QUFDNUY7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvY2h1bmstVzI2WEZCRUcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFNtYWxsU3Bpbm5lckljb25cbn0gZnJvbSBcIi4vY2h1bmstWFdHM0w2UUMubWpzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2NoYXQvU3VnZ2VzdGlvbi50c3hcbmltcG9ydCB7IHVzZUNvcGlsb3RDaGF0SW50ZXJuYWwgYXMgdXNlQ29waWxvdENoYXQgfSBmcm9tIFwiQGNvcGlsb3RraXQvcmVhY3QtY29yZVwiO1xuaW1wb3J0IHsganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5mdW5jdGlvbiBTdWdnZXN0aW9uKHsgdGl0bGUsIG9uQ2xpY2ssIHBhcnRpYWwsIGNsYXNzTmFtZSB9KSB7XG4gIGlmICghdGl0bGUpXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IHsgaXNMb2FkaW5nIH0gPSB1c2VDb3BpbG90Q2hhdCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICBcImJ1dHRvblwiLFxuICAgIHtcbiAgICAgIGRpc2FibGVkOiBwYXJ0aWFsIHx8IGlzTG9hZGluZyxcbiAgICAgIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgb25DbGljaygpO1xuICAgICAgfSxcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lIHx8IChwYXJ0aWFsID8gXCJzdWdnZXN0aW9uIGxvYWRpbmdcIiA6IFwic3VnZ2VzdGlvblwiKSxcbiAgICAgIFwiZGF0YS10ZXN0LWlkXCI6IFwic3VnZ2VzdGlvblwiLFxuICAgICAgY2hpbGRyZW46IHBhcnRpYWwgPyBTbWFsbFNwaW5uZXJJY29uIDogLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBjaGlsZHJlbjogdGl0bGUgfSlcbiAgICB9XG4gICk7XG59XG5cbmV4cG9ydCB7XG4gIFN1Z2dlc3Rpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1XMjZYRkJFRy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-W26XFBEG.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-WRQST6DJ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-WRQST6DJ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RenderMessage: () => (/* binding */ RenderMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_VVL6JFCJ_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-VVL6JFCJ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-VVL6JFCJ.mjs\");\n/* harmony import */ var _chunk_X477GDGZ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-X477GDGZ.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-X477GDGZ.mjs\");\n/* harmony import */ var _chunk_DBKRAOH7_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-DBKRAOH7.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-DBKRAOH7.mjs\");\n/* harmony import */ var _chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-MRXNTQOX.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-MRXNTQOX.mjs\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n\n\n// src/components/chat/messages/RenderMessage.tsx\n\nfunction RenderMessage(_a) {\n  var _b = _a, {\n    UserMessage: UserMessage2 = _chunk_VVL6JFCJ_mjs__WEBPACK_IMPORTED_MODULE_1__.UserMessage,\n    AssistantMessage: AssistantMessage2 = _chunk_X477GDGZ_mjs__WEBPACK_IMPORTED_MODULE_2__.AssistantMessage,\n    ImageRenderer: ImageRenderer2 = _chunk_DBKRAOH7_mjs__WEBPACK_IMPORTED_MODULE_3__.ImageRenderer\n  } = _b, props = (0,_chunk_MRXNTQOX_mjs__WEBPACK_IMPORTED_MODULE_4__.__objRest)(_b, [\n    \"UserMessage\",\n    \"AssistantMessage\",\n    \"ImageRenderer\"\n  ]);\n  var _a2;\n  const {\n    message,\n    inProgress,\n    index,\n    isCurrentMessage,\n    onRegenerate,\n    onCopy,\n    onThumbsUp,\n    onThumbsDown,\n    markdownTagRenderers\n  } = props;\n  switch (message.role) {\n    case \"user\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        UserMessage2,\n        {\n          rawData: message,\n          \"data-message-role\": \"user\",\n          message,\n          ImageRenderer: ImageRenderer2\n        },\n        index\n      );\n    case \"assistant\":\n      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n        AssistantMessage2,\n        {\n          \"data-message-role\": \"assistant\",\n          subComponent: (_a2 = message.generativeUI) == null ? void 0 : _a2.call(message),\n          rawData: message,\n          message,\n          isLoading: inProgress && isCurrentMessage && !message.content,\n          isGenerating: inProgress && isCurrentMessage && !!message.content,\n          isCurrentMessage,\n          onRegenerate: () => onRegenerate == null ? void 0 : onRegenerate(message.id),\n          onCopy,\n          onThumbsUp,\n          onThumbsDown,\n          markdownTagRenderers,\n          ImageRenderer: ImageRenderer2\n        },\n        index\n      );\n  }\n}\n\n\n//# sourceMappingURL=chunk-WRQST6DJ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1XUlFTVDZESi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBRThCO0FBR0E7QUFHQTtBQUdBOztBQUU5QjtBQUN3QztBQUN4QztBQUNBO0FBQ0EsZ0NBQWdDLDREQUFXO0FBQzNDLDBDQUEwQyxpRUFBZ0I7QUFDMUQsb0NBQW9DLDhEQUFhO0FBQ2pELElBQUksY0FBYyw4REFBUztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLDZCQUE2QixzREFBRztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHNEQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFJRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2NodW5rLVdSUVNUNkRKLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBVc2VyTWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1WVkw2SkZDSi5tanNcIjtcbmltcG9ydCB7XG4gIEFzc2lzdGFudE1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstWDQ3N0dER1oubWpzXCI7XG5pbXBvcnQge1xuICBJbWFnZVJlbmRlcmVyXG59IGZyb20gXCIuL2NodW5rLURCS1JBT0g3Lm1qc1wiO1xuaW1wb3J0IHtcbiAgX19vYmpSZXN0XG59IGZyb20gXCIuL2NodW5rLU1SWE5UUU9YLm1qc1wiO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGF0L21lc3NhZ2VzL1JlbmRlck1lc3NhZ2UudHN4XG5pbXBvcnQgeyBqc3ggfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbmZ1bmN0aW9uIFJlbmRlck1lc3NhZ2UoX2EpIHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBVc2VyTWVzc2FnZTogVXNlck1lc3NhZ2UyID0gVXNlck1lc3NhZ2UsXG4gICAgQXNzaXN0YW50TWVzc2FnZTogQXNzaXN0YW50TWVzc2FnZTIgPSBBc3Npc3RhbnRNZXNzYWdlLFxuICAgIEltYWdlUmVuZGVyZXI6IEltYWdlUmVuZGVyZXIyID0gSW1hZ2VSZW5kZXJlclxuICB9ID0gX2IsIHByb3BzID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJVc2VyTWVzc2FnZVwiLFxuICAgIFwiQXNzaXN0YW50TWVzc2FnZVwiLFxuICAgIFwiSW1hZ2VSZW5kZXJlclwiXG4gIF0pO1xuICB2YXIgX2EyO1xuICBjb25zdCB7XG4gICAgbWVzc2FnZSxcbiAgICBpblByb2dyZXNzLFxuICAgIGluZGV4LFxuICAgIGlzQ3VycmVudE1lc3NhZ2UsXG4gICAgb25SZWdlbmVyYXRlLFxuICAgIG9uQ29weSxcbiAgICBvblRodW1ic1VwLFxuICAgIG9uVGh1bWJzRG93bixcbiAgICBtYXJrZG93blRhZ1JlbmRlcmVyc1xuICB9ID0gcHJvcHM7XG4gIHN3aXRjaCAobWVzc2FnZS5yb2xlKSB7XG4gICAgY2FzZSBcInVzZXJcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICBVc2VyTWVzc2FnZTIsXG4gICAgICAgIHtcbiAgICAgICAgICByYXdEYXRhOiBtZXNzYWdlLFxuICAgICAgICAgIFwiZGF0YS1tZXNzYWdlLXJvbGVcIjogXCJ1c2VyXCIsXG4gICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICBJbWFnZVJlbmRlcmVyOiBJbWFnZVJlbmRlcmVyMlxuICAgICAgICB9LFxuICAgICAgICBpbmRleFxuICAgICAgKTtcbiAgICBjYXNlIFwiYXNzaXN0YW50XCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgICAgQXNzaXN0YW50TWVzc2FnZTIsXG4gICAgICAgIHtcbiAgICAgICAgICBcImRhdGEtbWVzc2FnZS1yb2xlXCI6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgc3ViQ29tcG9uZW50OiAoX2EyID0gbWVzc2FnZS5nZW5lcmF0aXZlVUkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChtZXNzYWdlKSxcbiAgICAgICAgICByYXdEYXRhOiBtZXNzYWdlLFxuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgaXNMb2FkaW5nOiBpblByb2dyZXNzICYmIGlzQ3VycmVudE1lc3NhZ2UgJiYgIW1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICBpc0dlbmVyYXRpbmc6IGluUHJvZ3Jlc3MgJiYgaXNDdXJyZW50TWVzc2FnZSAmJiAhIW1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICBpc0N1cnJlbnRNZXNzYWdlLFxuICAgICAgICAgIG9uUmVnZW5lcmF0ZTogKCkgPT4gb25SZWdlbmVyYXRlID09IG51bGwgPyB2b2lkIDAgOiBvblJlZ2VuZXJhdGUobWVzc2FnZS5pZCksXG4gICAgICAgICAgb25Db3B5LFxuICAgICAgICAgIG9uVGh1bWJzVXAsXG4gICAgICAgICAgb25UaHVtYnNEb3duLFxuICAgICAgICAgIG1hcmtkb3duVGFnUmVuZGVyZXJzLFxuICAgICAgICAgIEltYWdlUmVuZGVyZXI6IEltYWdlUmVuZGVyZXIyXG4gICAgICAgIH0sXG4gICAgICAgIGluZGV4XG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIFJlbmRlck1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1XUlFTVDZESi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-WRQST6DJ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-X477GDGZ.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-X477GDGZ.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AssistantMessage: () => (/* binding */ AssistantMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_SNFHUE5S_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-SNFHUE5S.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-SNFHUE5S.mjs\");\n/* harmony import */ var _chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IEMQ2SQW.mjs */ \"(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-IEMQ2SQW.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n\n\n\n// src/components/chat/messages/AssistantMessage.tsx\n\n\nvar AssistantMessage = (props) => {\n  var _a;\n  const { icons, labels } = (0,_chunk_IEMQ2SQW_mjs__WEBPACK_IMPORTED_MODULE_2__.useChatContext)();\n  const {\n    message,\n    isLoading,\n    onRegenerate,\n    onCopy,\n    onThumbsUp,\n    onThumbsDown,\n    isCurrentMessage,\n    markdownTagRenderers\n  } = props;\n  const [copied, setCopied] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  const handleCopy = () => {\n    const content2 = (message == null ? void 0 : message.content) || \"\";\n    if (content2 && onCopy) {\n      navigator.clipboard.writeText(content2);\n      setCopied(true);\n      onCopy(content2);\n      setTimeout(() => setCopied(false), 2e3);\n    } else if (content2) {\n      navigator.clipboard.writeText(content2);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2e3);\n    }\n  };\n  const handleRegenerate = () => {\n    if (onRegenerate)\n      onRegenerate();\n  };\n  const handleThumbsUp = () => {\n    if (onThumbsUp && message)\n      onThumbsUp(message);\n  };\n  const handleThumbsDown = () => {\n    if (onThumbsDown && message)\n      onThumbsDown(message);\n  };\n  const LoadingIcon = () => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { children: icons.activityIcon });\n  const content = (message == null ? void 0 : message.content) || \"\";\n  const subComponent = (_a = message == null ? void 0 : message.generativeUI) == null ? void 0 : _a.call(message);\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, { children: [\n    content && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\"div\", { className: \"copilotKitMessage copilotKitAssistantMessage\", children: [\n      content && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_chunk_SNFHUE5S_mjs__WEBPACK_IMPORTED_MODULE_3__.Markdown, { content, components: markdownTagRenderers }),\n      content && !isLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(\n        \"div\",\n        {\n          className: `copilotKitMessageControls ${isCurrentMessage ? \"currentMessage\" : \"\"}`,\n          children: [\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"button\",\n              {\n                className: \"copilotKitMessageControlButton\",\n                onClick: handleRegenerate,\n                \"aria-label\": labels.regenerateResponse,\n                title: labels.regenerateResponse,\n                children: icons.regenerateIcon\n              }\n            ),\n            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"button\",\n              {\n                className: \"copilotKitMessageControlButton\",\n                onClick: handleCopy,\n                \"aria-label\": labels.copyToClipboard,\n                title: labels.copyToClipboard,\n                children: copied ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", { style: { fontSize: \"10px\", fontWeight: \"bold\" }, children: \"\\u2713\" }) : icons.copyIcon\n              }\n            ),\n            onThumbsUp && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"button\",\n              {\n                className: \"copilotKitMessageControlButton\",\n                onClick: handleThumbsUp,\n                \"aria-label\": labels.thumbsUp,\n                title: labels.thumbsUp,\n                children: icons.thumbsUpIcon\n              }\n            ),\n            onThumbsDown && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\n              \"button\",\n              {\n                className: \"copilotKitMessageControlButton\",\n                onClick: handleThumbsDown,\n                \"aria-label\": labels.thumbsDown,\n                title: labels.thumbsDown,\n                children: icons.thumbsDownIcon\n              }\n            )\n          ]\n        }\n      )\n    ] }),\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", { style: { marginBottom: \"0.5rem\" }, children: subComponent }),\n    isLoading && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(LoadingIcon, {})\n  ] });\n};\n\n\n//# sourceMappingURL=chunk-X477GDGZ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1YNDc3R0RHWi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFFOEI7QUFHQTs7QUFFOUI7QUFDaUM7QUFDdUI7QUFDeEQ7QUFDQTtBQUNBLFVBQVUsZ0JBQWdCLEVBQUUsbUVBQWM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLDhCQUE4QiwrQ0FBUTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHNEQUFHLFdBQVcsOEJBQThCO0FBQ3hGO0FBQ0E7QUFDQSx5QkFBeUIsdURBQUksQ0FBQyx1REFBUSxJQUFJO0FBQzFDLCtCQUErQix1REFBSSxVQUFVO0FBQzdDLGlDQUFpQyxzREFBRyxDQUFDLHlEQUFRLElBQUksMkNBQTJDO0FBQzVGLCtDQUErQyx1REFBSTtBQUNuRDtBQUNBO0FBQ0Esa0RBQWtELHlDQUF5QztBQUMzRjtBQUNBLDRCQUE0QixzREFBRztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsc0RBQUc7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELHNEQUFHLFdBQVcsU0FBUyxzQ0FBc0Msc0JBQXNCO0FBQ3RJO0FBQ0E7QUFDQSwwQ0FBMEMsc0RBQUc7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHNEQUFHO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxvQkFBb0Isc0RBQUcsVUFBVSxTQUFTLHdCQUF3QiwwQkFBMEI7QUFDNUYsaUNBQWlDLHNEQUFHLGdCQUFnQjtBQUNwRCxLQUFLO0FBQ0w7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1YNDc3R0RHWi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgTWFya2Rvd25cbn0gZnJvbSBcIi4vY2h1bmstU05GSFVFNVMubWpzXCI7XG5pbXBvcnQge1xuICB1c2VDaGF0Q29udGV4dFxufSBmcm9tIFwiLi9jaHVuay1JRU1RMlNRVy5tanNcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvY2hhdC9tZXNzYWdlcy9Bc3Npc3RhbnRNZXNzYWdlLnRzeFxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEZyYWdtZW50LCBqc3gsIGpzeHMgfSBmcm9tIFwicmVhY3QvanN4LXJ1bnRpbWVcIjtcbnZhciBBc3Npc3RhbnRNZXNzYWdlID0gKHByb3BzKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBpY29ucywgbGFiZWxzIH0gPSB1c2VDaGF0Q29udGV4dCgpO1xuICBjb25zdCB7XG4gICAgbWVzc2FnZSxcbiAgICBpc0xvYWRpbmcsXG4gICAgb25SZWdlbmVyYXRlLFxuICAgIG9uQ29weSxcbiAgICBvblRodW1ic1VwLFxuICAgIG9uVGh1bWJzRG93bixcbiAgICBpc0N1cnJlbnRNZXNzYWdlLFxuICAgIG1hcmtkb3duVGFnUmVuZGVyZXJzXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgW2NvcGllZCwgc2V0Q29waWVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaGFuZGxlQ29weSA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZW50MiA9IChtZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBtZXNzYWdlLmNvbnRlbnQpIHx8IFwiXCI7XG4gICAgaWYgKGNvbnRlbnQyICYmIG9uQ29weSkge1xuICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoY29udGVudDIpO1xuICAgICAgc2V0Q29waWVkKHRydWUpO1xuICAgICAgb25Db3B5KGNvbnRlbnQyKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2V0Q29waWVkKGZhbHNlKSwgMmUzKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnQyKSB7XG4gICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb250ZW50Mik7XG4gICAgICBzZXRDb3BpZWQodHJ1ZSk7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHNldENvcGllZChmYWxzZSksIDJlMyk7XG4gICAgfVxuICB9O1xuICBjb25zdCBoYW5kbGVSZWdlbmVyYXRlID0gKCkgPT4ge1xuICAgIGlmIChvblJlZ2VuZXJhdGUpXG4gICAgICBvblJlZ2VuZXJhdGUoKTtcbiAgfTtcbiAgY29uc3QgaGFuZGxlVGh1bWJzVXAgPSAoKSA9PiB7XG4gICAgaWYgKG9uVGh1bWJzVXAgJiYgbWVzc2FnZSlcbiAgICAgIG9uVGh1bWJzVXAobWVzc2FnZSk7XG4gIH07XG4gIGNvbnN0IGhhbmRsZVRodW1ic0Rvd24gPSAoKSA9PiB7XG4gICAgaWYgKG9uVGh1bWJzRG93biAmJiBtZXNzYWdlKVxuICAgICAgb25UaHVtYnNEb3duKG1lc3NhZ2UpO1xuICB9O1xuICBjb25zdCBMb2FkaW5nSWNvbiA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IGljb25zLmFjdGl2aXR5SWNvbiB9KTtcbiAgY29uc3QgY29udGVudCA9IChtZXNzYWdlID09IG51bGwgPyB2b2lkIDAgOiBtZXNzYWdlLmNvbnRlbnQpIHx8IFwiXCI7XG4gIGNvbnN0IHN1YkNvbXBvbmVudCA9IChfYSA9IG1lc3NhZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2UuZ2VuZXJhdGl2ZVVJKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChtZXNzYWdlKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbXG4gICAgY29udGVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0TWVzc2FnZSBjb3BpbG90S2l0QXNzaXN0YW50TWVzc2FnZVwiLCBjaGlsZHJlbjogW1xuICAgICAgY29udGVudCAmJiAvKiBAX19QVVJFX18gKi8ganN4KE1hcmtkb3duLCB7IGNvbnRlbnQsIGNvbXBvbmVudHM6IG1hcmtkb3duVGFnUmVuZGVyZXJzIH0pLFxuICAgICAgY29udGVudCAmJiAhaXNMb2FkaW5nICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFxuICAgICAgICBcImRpdlwiLFxuICAgICAgICB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBgY29waWxvdEtpdE1lc3NhZ2VDb250cm9scyAke2lzQ3VycmVudE1lc3NhZ2UgPyBcImN1cnJlbnRNZXNzYWdlXCIgOiBcIlwifWAsXG4gICAgICAgICAgY2hpbGRyZW46IFtcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1lc3NhZ2VDb250cm9sQnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgb25DbGljazogaGFuZGxlUmVnZW5lcmF0ZSxcbiAgICAgICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogbGFiZWxzLnJlZ2VuZXJhdGVSZXNwb25zZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogbGFiZWxzLnJlZ2VuZXJhdGVSZXNwb25zZSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogaWNvbnMucmVnZW5lcmF0ZUljb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1lc3NhZ2VDb250cm9sQnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgb25DbGljazogaGFuZGxlQ29weSxcbiAgICAgICAgICAgICAgICBcImFyaWEtbGFiZWxcIjogbGFiZWxzLmNvcHlUb0NsaXBib2FyZCxcbiAgICAgICAgICAgICAgICB0aXRsZTogbGFiZWxzLmNvcHlUb0NsaXBib2FyZCxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogY29waWVkID8gLyogQF9fUFVSRV9fICovIGpzeChcInNwYW5cIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIxMHB4XCIsIGZvbnRXZWlnaHQ6IFwiYm9sZFwiIH0sIGNoaWxkcmVuOiBcIlxcdTI3MTNcIiB9KSA6IGljb25zLmNvcHlJY29uXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBvblRodW1ic1VwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiY29waWxvdEtpdE1lc3NhZ2VDb250cm9sQnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgb25DbGljazogaGFuZGxlVGh1bWJzVXAsXG4gICAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGxhYmVscy50aHVtYnNVcCxcbiAgICAgICAgICAgICAgICB0aXRsZTogbGFiZWxzLnRodW1ic1VwLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBpY29ucy50aHVtYnNVcEljb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIG9uVGh1bWJzRG93biAmJiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRNZXNzYWdlQ29udHJvbEJ1dHRvblwiLFxuICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZVRodW1ic0Rvd24sXG4gICAgICAgICAgICAgICAgXCJhcmlhLWxhYmVsXCI6IGxhYmVscy50aHVtYnNEb3duLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsYWJlbHMudGh1bWJzRG93bixcbiAgICAgICAgICAgICAgICBjaGlsZHJlbjogaWNvbnMudGh1bWJzRG93bkljb25cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIF0gfSksXG4gICAgLyogQF9fUFVSRV9fICovIGpzeChcImRpdlwiLCB7IHN0eWxlOiB7IG1hcmdpbkJvdHRvbTogXCIwLjVyZW1cIiB9LCBjaGlsZHJlbjogc3ViQ29tcG9uZW50IH0pLFxuICAgIGlzTG9hZGluZyAmJiAvKiBAX19QVVJFX18gKi8ganN4KExvYWRpbmdJY29uLCB7fSlcbiAgXSB9KTtcbn07XG5cbmV4cG9ydCB7XG4gIEFzc2lzdGFudE1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1YNDc3R0RHWi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-X477GDGZ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-XWG3L6QC.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/chunk-XWG3L6QC.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActivityIcon: () => (/* binding */ ActivityIcon),\n/* harmony export */   CheckIcon: () => (/* binding */ CheckIcon),\n/* harmony export */   CloseIcon: () => (/* binding */ CloseIcon),\n/* harmony export */   CopyIcon: () => (/* binding */ CopyIcon),\n/* harmony export */   DownloadIcon: () => (/* binding */ DownloadIcon),\n/* harmony export */   HeaderCloseIcon: () => (/* binding */ HeaderCloseIcon),\n/* harmony export */   MicrophoneIcon: () => (/* binding */ MicrophoneIcon),\n/* harmony export */   OpenIcon: () => (/* binding */ OpenIcon),\n/* harmony export */   RegenerateIcon: () => (/* binding */ RegenerateIcon),\n/* harmony export */   SendIcon: () => (/* binding */ SendIcon),\n/* harmony export */   SmallSpinnerIcon: () => (/* binding */ SmallSpinnerIcon),\n/* harmony export */   SpinnerIcon: () => (/* binding */ SpinnerIcon),\n/* harmony export */   StopIcon: () => (/* binding */ StopIcon),\n/* harmony export */   ThumbsDownIcon: () => (/* binding */ ThumbsDownIcon),\n/* harmony export */   ThumbsUpIcon: () => (/* binding */ ThumbsUpIcon),\n/* harmony export */   UploadIcon: () => (/* binding */ UploadIcon)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n// src/components/chat/Icons.tsx\n\nvar OpenIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"g\", { transform: \"translate(24, 0) scale(-1, 1)\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        fillRule: \"evenodd\",\n        d: \"M5.337 21.718a6.707 6.707 0 01-.533-.074.75.75 0 01-.44-1.223 3.73 3.73 0 00.814-1.686c.023-.115-.022-.317-.254-.543C3.274 16.587 2.25 14.41 2.25 12c0-5.03 4.428-9 9.75-9s9.75 3.97 9.75 9c0 5.03-4.428 9-9.75 9-.833 0-1.643-.097-2.417-.279a6.721 6.721 0 01-4.246.997z\",\n        clipRule: \"evenodd\"\n      }\n    ) })\n  }\n);\nvar CloseIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M19.5 8.25l-7.5 7.5-7.5-7.5\" })\n  }\n);\nvar HeaderCloseIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M6 18L18 6M6 6l12 12\" })\n  }\n);\nvar SendIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M12 19V5m0 0l-7 7m7-7l7 7\" })\n  }\n);\nvar MicrophoneIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z\"\n      }\n    )\n  }\n);\nvar StopIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z\"\n      }\n    )\n  }\n);\nvar RegenerateIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"2\",\n    stroke: \"currentColor\",\n    width: \"16\",\n    height: \"16\",\n    style: { minWidth: \"16px\", minHeight: \"16px\" },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99\"\n      }\n    )\n  }\n);\nvar CopyIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"2\",\n    stroke: \"currentColor\",\n    width: \"16\",\n    height: \"16\",\n    style: { minWidth: \"16px\", minHeight: \"16px\" },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75\"\n      }\n    )\n  }\n);\nvar SmallSpinnerIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"copilotKitSpinner\", style: { width: \"13px\", height: \"13px\" } });\nvar SpinnerIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"copilotKitSpinner\", style: { width: \"24px\", height: \"24px\" } });\nvar ActivityIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(\"div\", { style: { display: \"flex\", alignItems: \"center\", gap: \"4px\" }, children: [\n  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"copilotKitActivityDot\", style: { animationDelay: \"0s\" } }),\n  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"copilotKitActivityDot\", style: { animationDelay: \"0.2s\" } }),\n  /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"span\", { className: \"copilotKitActivityDot\", style: { animationDelay: \"0.4s\" } })\n] });\nvar ThumbsUpIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"2\",\n    stroke: \"currentColor\",\n    width: \"16\",\n    height: \"16\",\n    style: { minWidth: \"16px\", minHeight: \"16px\" },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M6.633 10.5c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 012.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 00.322-1.672V3a.75.75 0 01.75-.75A2.25 2.25 0 0116.5 4.5c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 01-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 00-1.423-.23H5.904M14.25 9h2.25M5.904 18.75c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 01-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 10.203 4.167 9.75 5 9.75h1.053c.472 0 .745.556.5.96a8.958 8.958 0 00-1.302 4.665c0 1.194.232 2.333.654 3.375z\"\n      }\n    )\n  }\n);\nvar ThumbsDownIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"2\",\n    stroke: \"currentColor\",\n    width: \"16\",\n    height: \"16\",\n    style: { minWidth: \"16px\", minHeight: \"16px\" },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M7.5 15h2.25m8.024-9.75c.011.05.028.1.052.148.591 1.2.924 2.55.924 3.977a8.96 8.96 0 01-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398C20.613 14.547 19.833 15 19 15h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 00.303-.54m.023-8.25H16.48a4.5 4.5 0 01-1.423-.23l-3.114-1.04a4.5 4.5 0 00-1.423-.23H6.504c-.618 0-1.217.247-1.605.729A11.95 11.95 0 002.25 12c0 .434.023.863.068 1.285C2.427 14.306 3.346 15 4.372 15h3.126c.618 0 .991.724.725 1.282A7.471 7.471 0 007.5 19.5a2.25 2.25 0 002.25 2.25.75.75 0 00.75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 002.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384\"\n      }\n    )\n  }\n);\nvar DownloadIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"2\",\n    stroke: \"currentColor\",\n    width: \"16\",\n    height: \"16\",\n    style: { minWidth: \"16px\", minHeight: \"16px\" },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n      \"path\",\n      {\n        strokeLinecap: \"round\",\n        strokeLinejoin: \"round\",\n        d: \"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3\"\n      }\n    )\n  }\n);\nvar UploadIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"1.5\",\n    stroke: \"currentColor\",\n    width: \"24\",\n    height: \"24\",\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M12 4.5v15m7.5-7.5h-15\" })\n  }\n);\nvar CheckIcon = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\n  \"svg\",\n  {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: \"2\",\n    stroke: \"currentColor\",\n    width: \"16\",\n    height: \"16\",\n    style: { minWidth: \"16px\", minHeight: \"16px\" },\n    children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"path\", { strokeLinecap: \"round\", strokeLinejoin: \"round\", d: \"M4.5 12.75l6 6 9-13.5\" })\n  }\n);\n\n\n//# sourceMappingURL=chunk-XWG3L6QC.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9jaHVuay1YV0czTDZRQy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUM4QztBQUM5QywrQkFBK0Isc0RBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQUcsUUFBUSxzRUFBc0Usc0RBQUc7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQUc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFHLFdBQVcsbUZBQW1GO0FBQy9IO0FBQ0E7QUFDQSxzQ0FBc0Msc0RBQUc7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFHLFdBQVcsNEVBQTRFO0FBQ3hIO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFHLFdBQVcsaUZBQWlGO0FBQzdIO0FBQ0E7QUFDQSxxQ0FBcUMsc0RBQUc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzREFBRztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQUc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLHNEQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELDhCQUE4QixzREFBRztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0Isc0RBQUc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxzREFBRyxXQUFXLHlDQUF5QyxpQ0FBaUM7QUFDL0gsa0NBQWtDLHNEQUFHLFdBQVcseUNBQXlDLGlDQUFpQztBQUMxSCxtQ0FBbUMsdURBQUksVUFBVSxTQUFTLG1EQUFtRDtBQUM3RyxrQkFBa0Isc0RBQUcsV0FBVyw2Q0FBNkMsd0JBQXdCO0FBQ3JHLGtCQUFrQixzREFBRyxXQUFXLDZDQUE2QywwQkFBMEI7QUFDdkcsa0JBQWtCLHNEQUFHLFdBQVcsNkNBQTZDLDBCQUEwQjtBQUN2RyxHQUFHO0FBQ0gsbUNBQW1DLHNEQUFHO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELDhCQUE4QixzREFBRztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsc0RBQUc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQ0FBcUM7QUFDbEQsOEJBQThCLHNEQUFHO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBRztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHFDQUFxQztBQUNsRCw4QkFBOEIsc0RBQUc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHNEQUFHO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBRyxXQUFXLDhFQUE4RTtBQUMxSDtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFHO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEscUNBQXFDO0FBQ2xELDhCQUE4QixzREFBRyxXQUFXLDZFQUE2RTtBQUN6SDtBQUNBOztBQW1CRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9kaXN0L2NodW5rLVhXRzNMNlFDLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29tcG9uZW50cy9jaGF0L0ljb25zLnRzeFxuaW1wb3J0IHsganN4LCBqc3hzIH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG52YXIgT3Blbkljb24gPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgd2lkdGg6IFwiMjRcIixcbiAgICBoZWlnaHQ6IFwiMjRcIixcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcImdcIiwgeyB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDI0LCAwKSBzY2FsZSgtMSwgMSlcIiwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgICAgICBkOiBcIk01LjMzNyAyMS43MThhNi43MDcgNi43MDcgMCAwMS0uNTMzLS4wNzQuNzUuNzUgMCAwMS0uNDQtMS4yMjMgMy43MyAzLjczIDAgMDAuODE0LTEuNjg2Yy4wMjMtLjExNS0uMDIyLS4zMTctLjI1NC0uNTQzQzMuMjc0IDE2LjU4NyAyLjI1IDE0LjQxIDIuMjUgMTJjMC01LjAzIDQuNDI4LTkgOS43NS05czkuNzUgMy45NyA5Ljc1IDljMCA1LjAzLTQuNDI4IDktOS43NSA5LS44MzMgMC0xLjY0My0uMDk3LTIuNDE3LS4yNzlhNi43MjEgNi43MjEgMCAwMS00LjI0Ni45OTd6XCIsXG4gICAgICAgIGNsaXBSdWxlOiBcImV2ZW5vZGRcIlxuICAgICAgfVxuICAgICkgfSlcbiAgfVxuKTtcbnZhciBDbG9zZUljb24gPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjEuNVwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICB3aWR0aDogXCIyNFwiLFxuICAgIGhlaWdodDogXCIyNFwiLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgZDogXCJNMTkuNSA4LjI1bC03LjUgNy41LTcuNS03LjVcIiB9KVxuICB9XG4pO1xudmFyIEhlYWRlckNsb3NlSWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMS41XCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHdpZHRoOiBcIjI0XCIsXG4gICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBkOiBcIk02IDE4TDE4IDZNNiA2bDEyIDEyXCIgfSlcbiAgfVxuKTtcbnZhciBTZW5kSWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMS41XCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHdpZHRoOiBcIjI0XCIsXG4gICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJwYXRoXCIsIHsgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLCBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLCBkOiBcIk0xMiAxOVY1bTAgMGwtNyA3bTctN2w3IDdcIiB9KVxuICB9XG4pO1xudmFyIE1pY3JvcGhvbmVJY29uID0gLyogQF9fUFVSRV9fICovIGpzeChcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBzdHJva2VXaWR0aDogXCIxLjVcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgd2lkdGg6IFwiMjRcIixcbiAgICBoZWlnaHQ6IFwiMjRcIixcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFwicGF0aFwiLFxuICAgICAge1xuICAgICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsXG4gICAgICAgIGQ6IFwiTTEyIDE4Ljc1YTYgNiAwIDAwNi02di0xLjVtLTYgNy41YTYgNiAwIDAxLTYtNnYtMS41bTYgNy41djMuNzVtLTMuNzUgMGg3LjVNMTIgMTUuNzVhMyAzIDAgMDEtMy0zVjQuNWEzIDMgMCAxMTYgMHY4LjI1YTMgMyAwIDAxLTMgM3pcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcbnZhciBTdG9wSWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMS41XCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHdpZHRoOiBcIjI0XCIsXG4gICAgaGVpZ2h0OiBcIjI0XCIsXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLFxuICAgICAgICBkOiBcIk01LjI1IDcuNUEyLjI1IDIuMjUgMCAwMTcuNSA1LjI1aDlhMi4yNSAyLjI1IDAgMDEyLjI1IDIuMjV2OWEyLjI1IDIuMjUgMCAwMS0yLjI1IDIuMjVoLTlhMi4yNSAyLjI1IDAgMDEtMi4yNS0yLjI1di05elwiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xudmFyIFJlZ2VuZXJhdGVJY29uID0gLyogQF9fUFVSRV9fICovIGpzeChcbiAgXCJzdmdcIixcbiAge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgZmlsbDogXCJub25lXCIsXG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBzdHJva2VXaWR0aDogXCIyXCIsXG4gICAgc3Ryb2tlOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHdpZHRoOiBcIjE2XCIsXG4gICAgaGVpZ2h0OiBcIjE2XCIsXG4gICAgc3R5bGU6IHsgbWluV2lkdGg6IFwiMTZweFwiLCBtaW5IZWlnaHQ6IFwiMTZweFwiIH0sXG4gICAgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gICAgICBcInBhdGhcIixcbiAgICAgIHtcbiAgICAgICAgc3Ryb2tlTGluZWNhcDogXCJyb3VuZFwiLFxuICAgICAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLFxuICAgICAgICBkOiBcIk0xNi4wMjMgOS4zNDhoNC45OTJ2LS4wMDFNMi45ODUgMTkuNjQ0di00Ljk5Mm0wIDBoNC45OTJtLTQuOTkzIDBsMy4xODEgMy4xODNhOC4yNSA4LjI1IDAgMDAxMy44MDMtMy43TTQuMDMxIDkuODY1YTguMjUgOC4yNSAwIDAxMTMuODAzLTMuN2wzLjE4MSAzLjE4Mm0wLTQuOTkxdjQuOTlcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcbnZhciBDb3B5SWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICB3aWR0aDogXCIxNlwiLFxuICAgIGhlaWdodDogXCIxNlwiLFxuICAgIHN0eWxlOiB7IG1pbldpZHRoOiBcIjE2cHhcIiwgbWluSGVpZ2h0OiBcIjE2cHhcIiB9LFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIixcbiAgICAgICAgZDogXCJNMTUuNzUgMTcuMjV2My4zNzVjMCAuNjIxLS41MDQgMS4xMjUtMS4xMjUgMS4xMjVoLTkuNzVhMS4xMjUgMS4xMjUgMCAwMS0xLjEyNS0xLjEyNVY3Ljg3NWMwLS42MjEuNTA0LTEuMTI1IDEuMTI1LTEuMTI1SDYuNzVhOS4wNiA5LjA2IDAgMDExLjUuMTI0bTcuNSAxMC4zNzZoMy4zNzVjLjYyMSAwIDEuMTI1LS41MDQgMS4xMjUtMS4xMjVWMTEuMjVjMC00LjQ2LTMuMjQzLTguMTYxLTcuNS04Ljg3NmE5LjA2IDkuMDYgMCAwMC0xLjUtLjEyNEg5LjM3NWMtLjYyMSAwLTEuMTI1LjUwNC0xLjEyNSAxLjEyNXYzLjVtNy41IDEwLjM3NUg5LjM3NWExLjEyNSAxLjEyNSAwIDAxLTEuMTI1LTEuMTI1di05LjI1bTEyIDYuNjI1di0xLjg3NWEzLjM3NSAzLjM3NSAwIDAwLTMuMzc1LTMuMzc1aC0xLjVhMS4xMjUgMS4xMjUgMCAwMS0xLjEyNS0xLjEyNXYtMS41YTMuMzc1IDMuMzc1IDAgMDAtMy4zNzUtMy4zNzVIOS43NVwiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xudmFyIFNtYWxsU3Bpbm5lckljb24gPSAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0U3Bpbm5lclwiLCBzdHlsZTogeyB3aWR0aDogXCIxM3B4XCIsIGhlaWdodDogXCIxM3B4XCIgfSB9KTtcbnZhciBTcGlubmVySWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRTcGlubmVyXCIsIHN0eWxlOiB7IHdpZHRoOiBcIjI0cHhcIiwgaGVpZ2h0OiBcIjI0cHhcIiB9IH0pO1xudmFyIEFjdGl2aXR5SWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFwiZGl2XCIsIHsgc3R5bGU6IHsgZGlzcGxheTogXCJmbGV4XCIsIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsIGdhcDogXCI0cHhcIiB9LCBjaGlsZHJlbjogW1xuICAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0QWN0aXZpdHlEb3RcIiwgc3R5bGU6IHsgYW5pbWF0aW9uRGVsYXk6IFwiMHNcIiB9IH0pLFxuICAvKiBAX19QVVJFX18gKi8ganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJjb3BpbG90S2l0QWN0aXZpdHlEb3RcIiwgc3R5bGU6IHsgYW5pbWF0aW9uRGVsYXk6IFwiMC4yc1wiIH0gfSksXG4gIC8qIEBfX1BVUkVfXyAqLyBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcImNvcGlsb3RLaXRBY3Rpdml0eURvdFwiLCBzdHlsZTogeyBhbmltYXRpb25EZWxheTogXCIwLjRzXCIgfSB9KVxuXSB9KTtcbnZhciBUaHVtYnNVcEljb24gPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgd2lkdGg6IFwiMTZcIixcbiAgICBoZWlnaHQ6IFwiMTZcIixcbiAgICBzdHlsZTogeyBtaW5XaWR0aDogXCIxNnB4XCIsIG1pbkhlaWdodDogXCIxNnB4XCIgfSxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcbiAgICAgIFwicGF0aFwiLFxuICAgICAge1xuICAgICAgICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gICAgICAgIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsXG4gICAgICAgIGQ6IFwiTTYuNjMzIDEwLjVjLjgwNiAwIDEuNTMzLS40NDYgMi4wMzEtMS4wOGE5LjA0MSA5LjA0MSAwIDAxMi44NjEtMi40Yy43MjMtLjM4NCAxLjM1LS45NTYgMS42NTMtMS43MTVhNC40OTggNC40OTggMCAwMC4zMjItMS42NzJWM2EuNzUuNzUgMCAwMS43NS0uNzVBMi4yNSAyLjI1IDAgMDExNi41IDQuNWMwIDEuMTUyLS4yNiAyLjI0My0uNzIzIDMuMjE4LS4yNjYuNTU4LjEwNyAxLjI4Mi43MjUgMS4yODJoMy4xMjZjMS4wMjYgMCAxLjk0NS42OTQgMi4wNTQgMS43MTUuMDQ1LjQyMi4wNjguODUuMDY4IDEuMjg1YTExLjk1IDExLjk1IDAgMDEtMi42NDkgNy41MjFjLS4zODguNDgyLS45ODcuNzI5LTEuNjA1LjcyOUgxMy40OGMtLjQ4MyAwLS45NjQtLjA3OC0xLjQyMy0uMjNsLTMuMTE0LTEuMDRhNC41MDEgNC41MDEgMCAwMC0xLjQyMy0uMjNINS45MDRNMTQuMjUgOWgyLjI1TTUuOTA0IDE4Ljc1Yy4wODMuMjA1LjE3My40MDUuMjcuNjAyLjE5Ny40LS4wNzguODk4LS41MjMuODk4aC0uOTA4Yy0uODg5IDAtMS43MTMtLjUxOC0xLjk3Mi0xLjM2OGExMiAxMiAwIDAxLS41MjEtMy41MDdjMC0xLjU1My4yOTUtMy4wMzYuODMxLTQuMzk4QzMuMzg3IDEwLjIwMyA0LjE2NyA5Ljc1IDUgOS43NWgxLjA1M2MuNDcyIDAgLjc0NS41NTYuNS45NmE4Ljk1OCA4Ljk1OCAwIDAwLTEuMzAyIDQuNjY1YzAgMS4xOTQuMjMyIDIuMzMzLjY1NCAzLjM3NXpcIlxuICAgICAgfVxuICAgIClcbiAgfVxuKTtcbnZhciBUaHVtYnNEb3duSWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICB3aWR0aDogXCIxNlwiLFxuICAgIGhlaWdodDogXCIxNlwiLFxuICAgIHN0eWxlOiB7IG1pbldpZHRoOiBcIjE2cHhcIiwgbWluSGVpZ2h0OiBcIjE2cHhcIiB9LFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIixcbiAgICAgICAgZDogXCJNNy41IDE1aDIuMjVtOC4wMjQtOS43NWMuMDExLjA1LjAyOC4xLjA1Mi4xNDguNTkxIDEuMi45MjQgMi41NS45MjQgMy45NzdhOC45NiA4Ljk2IDAgMDEtLjk5OSA0LjEyNW0uMDIzLTguMjVjLS4wNzYtLjM2NS4xODMtLjc1LjU3NS0uNzVoLjkwOGMuODg5IDAgMS43MTMuNTE4IDEuOTcyIDEuMzY4LjMzOSAxLjExLjUyMSAyLjI4Ny41MjEgMy41MDcgMCAxLjU1My0uMjk1IDMuMDM2LS44MzEgNC4zOThDMjAuNjEzIDE0LjU0NyAxOS44MzMgMTUgMTkgMTVoLTEuMDUzYy0uNDcyIDAtLjc0NS0uNTU2LS41LS45NmE4Ljk1IDguOTUgMCAwMC4zMDMtLjU0bS4wMjMtOC4yNUgxNi40OGE0LjUgNC41IDAgMDEtMS40MjMtLjIzbC0zLjExNC0xLjA0YTQuNSA0LjUgMCAwMC0xLjQyMy0uMjNINi41MDRjLS42MTggMC0xLjIxNy4yNDctMS42MDUuNzI5QTExLjk1IDExLjk1IDAgMDAyLjI1IDEyYzAgLjQzNC4wMjMuODYzLjA2OCAxLjI4NUMyLjQyNyAxNC4zMDYgMy4zNDYgMTUgNC4zNzIgMTVoMy4xMjZjLjYxOCAwIC45OTEuNzI0LjcyNSAxLjI4MkE3LjQ3MSA3LjQ3MSAwIDAwNy41IDE5LjVhMi4yNSAyLjI1IDAgMDAyLjI1IDIuMjUuNzUuNzUgMCAwMC43NS0uNzV2LS42MzNjMC0uNTczLjExLTEuMTQuMzIyLTEuNjcyLjMwNC0uNzYuOTMtMS4zMyAxLjY1My0xLjcxNWE5LjA0IDkuMDQgMCAwMDIuODYtMi40Yy40OTgtLjYzNCAxLjIyNi0xLjA4IDIuMDMyLTEuMDhoLjM4NFwiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xudmFyIERvd25sb2FkSWNvbiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goXG4gIFwic3ZnXCIsXG4gIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gICAgc3Ryb2tlV2lkdGg6IFwiMlwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICB3aWR0aDogXCIxNlwiLFxuICAgIGhlaWdodDogXCIxNlwiLFxuICAgIHN0eWxlOiB7IG1pbldpZHRoOiBcIjE2cHhcIiwgbWluSGVpZ2h0OiBcIjE2cHhcIiB9LFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFxuICAgICAgXCJwYXRoXCIsXG4gICAgICB7XG4gICAgICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICAgICAgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIixcbiAgICAgICAgZDogXCJNMyAxNi41djIuMjVBMi4yNSAyLjI1IDAgMDA1LjI1IDIxaDEzLjVBMi4yNSAyLjI1IDAgMDAyMSAxOC43NVYxNi41TTE2LjUgMTJMMTIgMTYuNW0wIDBMNy41IDEybTQuNSA0LjVWM1wiXG4gICAgICB9XG4gICAgKVxuICB9XG4pO1xudmFyIFVwbG9hZEljb24gPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjEuNVwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICB3aWR0aDogXCIyNFwiLFxuICAgIGhlaWdodDogXCIyNFwiLFxuICAgIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwicGF0aFwiLCB7IHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIiwgc3Ryb2tlTGluZWpvaW46IFwicm91bmRcIiwgZDogXCJNMTIgNC41djE1bTcuNS03LjVoLTE1XCIgfSlcbiAgfVxuKTtcbnZhciBDaGVja0ljb24gPSAvKiBAX19QVVJFX18gKi8ganN4KFxuICBcInN2Z1wiLFxuICB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBmaWxsOiBcIm5vbmVcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjJcIixcbiAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgd2lkdGg6IFwiMTZcIixcbiAgICBoZWlnaHQ6IFwiMTZcIixcbiAgICBzdHlsZTogeyBtaW5XaWR0aDogXCIxNnB4XCIsIG1pbkhlaWdodDogXCIxNnB4XCIgfSxcbiAgICBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChcInBhdGhcIiwgeyBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCIsIGQ6IFwiTTQuNSAxMi43NWw2IDYgOS0xMy41XCIgfSlcbiAgfVxuKTtcblxuZXhwb3J0IHtcbiAgT3Blbkljb24sXG4gIENsb3NlSWNvbixcbiAgSGVhZGVyQ2xvc2VJY29uLFxuICBTZW5kSWNvbixcbiAgTWljcm9waG9uZUljb24sXG4gIFN0b3BJY29uLFxuICBSZWdlbmVyYXRlSWNvbixcbiAgQ29weUljb24sXG4gIFNtYWxsU3Bpbm5lckljb24sXG4gIFNwaW5uZXJJY29uLFxuICBBY3Rpdml0eUljb24sXG4gIFRodW1ic1VwSWNvbixcbiAgVGh1bWJzRG93bkljb24sXG4gIERvd25sb2FkSWNvbixcbiAgVXBsb2FkSWNvbixcbiAgQ2hlY2tJY29uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstWFdHM0w2UUMubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/chunk-XWG3L6QC.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/dist/index.css":
/*!**********************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/dist/index.css ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"4a086d29199b\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvZGlzdC9pbmRleC5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL2Rpc3QvaW5kZXguY3NzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNGEwODZkMjkxOTliXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/dist/index.css\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/react-markdown/lib/index.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/react-markdown/lib/index.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Markdown: () => (/* binding */ Markdown),\n/* harmony export */   MarkdownAsync: () => (/* binding */ MarkdownAsync),\n/* harmony export */   MarkdownHooks: () => (/* binding */ MarkdownHooks),\n/* harmony export */   defaultUrlTransform: () => (/* binding */ defaultUrlTransform)\n/* harmony export */ });\n/* harmony import */ var devlop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! devlop */ \"(ssr)/./node_modules/devlop/lib/development.js\");\n/* harmony import */ var hast_util_to_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! hast-util-to-jsx-runtime */ \"(ssr)/./node_modules/hast-util-to-jsx-runtime/lib/index.js\");\n/* harmony import */ var html_url_attributes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! html-url-attributes */ \"(ssr)/./node_modules/html-url-attributes/lib/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var remark_parse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! remark-parse */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/remark-parse/lib/index.js\");\n/* harmony import */ var remark_rehype__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! remark-rehype */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/remark-rehype/lib/index.js\");\n/* harmony import */ var unified__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! unified */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unified/lib/index.js\");\n/* harmony import */ var unist_util_visit__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! unist-util-visit */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unist-util-visit/lib/index.js\");\n/* harmony import */ var vfile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! vfile */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/index.js\");\n/**\n * @import {Element, Nodes, Parents, Root} from 'hast'\n * @import {Root as MdastRoot} from 'mdast'\n * @import {ComponentType, JSX, ReactElement, ReactNode} from 'react'\n * @import {Options as RemarkRehypeOptions} from 'remark-rehype'\n * @import {BuildVisitor} from 'unist-util-visit'\n * @import {PluggableList, Processor} from 'unified'\n */\n\n/**\n * @callback AllowElement\n *   Filter elements.\n * @param {Readonly<Element>} element\n *   Element to check.\n * @param {number} index\n *   Index of `element` in `parent`.\n * @param {Readonly<Parents> | undefined} parent\n *   Parent of `element`.\n * @returns {boolean | null | undefined}\n *   Whether to allow `element` (default: `false`).\n */\n\n/**\n * @typedef ExtraProps\n *   Extra fields we pass.\n * @property {Element | undefined} [node]\n *   passed when `passNode` is on.\n */\n\n/**\n * @typedef {{\n *   [Key in keyof JSX.IntrinsicElements]?: ComponentType<JSX.IntrinsicElements[Key] & ExtraProps> | keyof JSX.IntrinsicElements\n * }} Components\n *   Map tag names to components.\n */\n\n/**\n * @typedef Deprecation\n *   Deprecation.\n * @property {string} from\n *   Old field.\n * @property {string} id\n *   ID in readme.\n * @property {keyof Options} [to]\n *   New field.\n */\n\n/**\n * @typedef Options\n *   Configuration.\n * @property {AllowElement | null | undefined} [allowElement]\n *   Filter elements (optional);\n *   `allowedElements` / `disallowedElements` is used first.\n * @property {ReadonlyArray<string> | null | undefined} [allowedElements]\n *   Tag names to allow (default: all tag names);\n *   cannot combine w/ `disallowedElements`.\n * @property {string | null | undefined} [children]\n *   Markdown.\n * @property {Components | null | undefined} [components]\n *   Map tag names to components.\n * @property {ReadonlyArray<string> | null | undefined} [disallowedElements]\n *   Tag names to disallow (default: `[]`);\n *   cannot combine w/ `allowedElements`.\n * @property {PluggableList | null | undefined} [rehypePlugins]\n *   List of rehype plugins to use.\n * @property {PluggableList | null | undefined} [remarkPlugins]\n *   List of remark plugins to use.\n * @property {Readonly<RemarkRehypeOptions> | null | undefined} [remarkRehypeOptions]\n *   Options to pass through to `remark-rehype`.\n * @property {boolean | null | undefined} [skipHtml=false]\n *   Ignore HTML in markdown completely (default: `false`).\n * @property {boolean | null | undefined} [unwrapDisallowed=false]\n *   Extract (unwrap) whats in disallowed elements (default: `false`);\n *   normally when say `strong` is not allowed, it and its children are dropped,\n *   with `unwrapDisallowed` the element itself is replaced by its children.\n * @property {UrlTransform | null | undefined} [urlTransform]\n *   Change URLs (default: `defaultUrlTransform`)\n */\n\n/**\n * @typedef HooksOptionsOnly\n *   Configuration specifically for {@linkcode MarkdownHooks}.\n * @property {ReactNode | null | undefined} [fallback]\n *   Content to render while the processor processing the markdown (optional).\n */\n\n/**\n * @typedef {Options & HooksOptionsOnly} HooksOptions\n *   Configuration for {@linkcode MarkdownHooks};\n *   extends the regular {@linkcode Options} with a `fallback` prop.\n */\n\n/**\n * @callback UrlTransform\n *   Transform all URLs.\n * @param {string} url\n *   URL.\n * @param {string} key\n *   Property name (example: `'href'`).\n * @param {Readonly<Element>} node\n *   Node.\n * @returns {string | null | undefined}\n *   Transformed URL (optional).\n */\n\n\n\n\n\n\n\n\n\n\n\n\nconst changelog =\n  'https://github.com/remarkjs/react-markdown/blob/main/changelog.md'\n\n/** @type {PluggableList} */\nconst emptyPlugins = []\n/** @type {Readonly<RemarkRehypeOptions>} */\nconst emptyRemarkRehypeOptions = {allowDangerousHtml: true}\nconst safeProtocol = /^(https?|ircs?|mailto|xmpp)$/i\n\n// Mutable because we `delete` any time its used and a message is sent.\n/** @type {ReadonlyArray<Readonly<Deprecation>>} */\nconst deprecations = [\n  {from: 'astPlugins', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'allowDangerousHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {\n    from: 'allowNode',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowElement'\n  },\n  {\n    from: 'allowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'allowedElements'\n  },\n  {from: 'className', id: 'remove-classname'},\n  {\n    from: 'disallowedTypes',\n    id: 'replace-allownode-allowedtypes-and-disallowedtypes',\n    to: 'disallowedElements'\n  },\n  {from: 'escapeHtml', id: 'remove-buggy-html-in-markdown-parser'},\n  {from: 'includeElementIndex', id: '#remove-includeelementindex'},\n  {\n    from: 'includeNodeIndex',\n    id: 'change-includenodeindex-to-includeelementindex'\n  },\n  {from: 'linkTarget', id: 'remove-linktarget'},\n  {from: 'plugins', id: 'change-plugins-to-remarkplugins', to: 'remarkPlugins'},\n  {from: 'rawSourcePos', id: '#remove-rawsourcepos'},\n  {from: 'renderers', id: 'change-renderers-to-components', to: 'components'},\n  {from: 'source', id: 'change-source-to-children', to: 'children'},\n  {from: 'sourcePos', id: '#remove-sourcepos'},\n  {from: 'transformImageUri', id: '#add-urltransform', to: 'urlTransform'},\n  {from: 'transformLinkUri', id: '#add-urltransform', to: 'urlTransform'}\n]\n\n/**\n * Component to render markdown.\n *\n * This is a synchronous component.\n * When using async plugins,\n * see {@linkcode MarkdownAsync} or {@linkcode MarkdownHooks}.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {ReactElement}\n *   React element.\n */\nfunction Markdown(options) {\n  const processor = createProcessor(options)\n  const file = createFile(options)\n  return post(processor.runSync(processor.parse(file), file), options)\n}\n\n/**\n * Component to render markdown with support for async plugins\n * through async/await.\n *\n * Components returning promises are supported on the server.\n * For async support on the client,\n * see {@linkcode MarkdownHooks}.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {Promise<ReactElement>}\n *   Promise to a React element.\n */\nasync function MarkdownAsync(options) {\n  const processor = createProcessor(options)\n  const file = createFile(options)\n  const tree = await processor.run(processor.parse(file), file)\n  return post(tree, options)\n}\n\n/**\n * Component to render markdown with support for async plugins through hooks.\n *\n * This uses `useEffect` and `useState` hooks.\n * Hooks run on the client and do not immediately render something.\n * For async support on the server,\n * see {@linkcode MarkdownAsync}.\n *\n * @param {Readonly<HooksOptions>} options\n *   Props.\n * @returns {ReactNode}\n *   React node.\n */\nfunction MarkdownHooks(options) {\n  const processor = createProcessor(options)\n  const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\n    /** @type {Error | undefined} */ (undefined)\n  )\n  const [tree, setTree] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(/** @type {Root | undefined} */ (undefined))\n\n  ;(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(\n    function () {\n      let cancelled = false\n      const file = createFile(options)\n\n      processor.run(processor.parse(file), file, function (error, tree) {\n        if (!cancelled) {\n          setError(error)\n          setTree(tree)\n        }\n      })\n\n      /**\n       * @returns {undefined}\n       *   Nothing.\n       */\n      return function () {\n        cancelled = true\n      }\n    },\n    [\n      options.children,\n      options.rehypePlugins,\n      options.remarkPlugins,\n      options.remarkRehypeOptions\n    ]\n  )\n\n  if (error) throw error\n\n  return tree ? post(tree, options) : options.fallback\n}\n\n/**\n * Set up the `unified` processor.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {Processor<MdastRoot, MdastRoot, Root, undefined, undefined>}\n *   Result.\n */\nfunction createProcessor(options) {\n  const rehypePlugins = options.rehypePlugins || emptyPlugins\n  const remarkPlugins = options.remarkPlugins || emptyPlugins\n  const remarkRehypeOptions = options.remarkRehypeOptions\n    ? {...options.remarkRehypeOptions, ...emptyRemarkRehypeOptions}\n    : emptyRemarkRehypeOptions\n\n  const processor = (0,unified__WEBPACK_IMPORTED_MODULE_2__.unified)()\n    .use(remark_parse__WEBPACK_IMPORTED_MODULE_3__[\"default\"])\n    .use(remarkPlugins)\n    .use(remark_rehype__WEBPACK_IMPORTED_MODULE_4__[\"default\"], remarkRehypeOptions)\n    .use(rehypePlugins)\n\n  return processor\n}\n\n/**\n * Set up the virtual file.\n *\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {VFile}\n *   Result.\n */\nfunction createFile(options) {\n  const children = options.children || ''\n  const file = new vfile__WEBPACK_IMPORTED_MODULE_5__.VFile()\n\n  if (typeof children === 'string') {\n    file.value = children\n  } else {\n    (0,devlop__WEBPACK_IMPORTED_MODULE_6__.unreachable)(\n      'Unexpected value `' +\n        children +\n        '` for `children` prop, expected `string`'\n    )\n  }\n\n  return file\n}\n\n/**\n * Process the result from unified some more.\n *\n * @param {Nodes} tree\n *   Tree.\n * @param {Readonly<Options>} options\n *   Props.\n * @returns {ReactElement}\n *   React element.\n */\nfunction post(tree, options) {\n  const allowedElements = options.allowedElements\n  const allowElement = options.allowElement\n  const components = options.components\n  const disallowedElements = options.disallowedElements\n  const skipHtml = options.skipHtml\n  const unwrapDisallowed = options.unwrapDisallowed\n  const urlTransform = options.urlTransform || defaultUrlTransform\n\n  for (const deprecation of deprecations) {\n    if (Object.hasOwn(options, deprecation.from)) {\n      (0,devlop__WEBPACK_IMPORTED_MODULE_6__.unreachable)(\n        'Unexpected `' +\n          deprecation.from +\n          '` prop, ' +\n          (deprecation.to\n            ? 'use `' + deprecation.to + '` instead'\n            : 'remove it') +\n          ' (see <' +\n          changelog +\n          '#' +\n          deprecation.id +\n          '> for more info)'\n      )\n    }\n  }\n\n  if (allowedElements && disallowedElements) {\n    (0,devlop__WEBPACK_IMPORTED_MODULE_6__.unreachable)(\n      'Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other'\n    )\n  }\n\n  (0,unist_util_visit__WEBPACK_IMPORTED_MODULE_7__.visit)(tree, transform)\n\n  return (0,hast_util_to_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.toJsxRuntime)(tree, {\n    Fragment: react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,\n    components,\n    ignoreInvalidStyle: true,\n    jsx: react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx,\n    jsxs: react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs,\n    passKeys: true,\n    passNode: true\n  })\n\n  /** @type {BuildVisitor<Root>} */\n  function transform(node, index, parent) {\n    if (node.type === 'raw' && parent && typeof index === 'number') {\n      if (skipHtml) {\n        parent.children.splice(index, 1)\n      } else {\n        parent.children[index] = {type: 'text', value: node.value}\n      }\n\n      return index\n    }\n\n    if (node.type === 'element') {\n      /** @type {string} */\n      let key\n\n      for (key in html_url_attributes__WEBPACK_IMPORTED_MODULE_9__.urlAttributes) {\n        if (\n          Object.hasOwn(html_url_attributes__WEBPACK_IMPORTED_MODULE_9__.urlAttributes, key) &&\n          Object.hasOwn(node.properties, key)\n        ) {\n          const value = node.properties[key]\n          const test = html_url_attributes__WEBPACK_IMPORTED_MODULE_9__.urlAttributes[key]\n          if (test === null || test.includes(node.tagName)) {\n            node.properties[key] = urlTransform(String(value || ''), key, node)\n          }\n        }\n      }\n    }\n\n    if (node.type === 'element') {\n      let remove = allowedElements\n        ? !allowedElements.includes(node.tagName)\n        : disallowedElements\n          ? disallowedElements.includes(node.tagName)\n          : false\n\n      if (!remove && allowElement && typeof index === 'number') {\n        remove = !allowElement(node, index, parent)\n      }\n\n      if (remove && parent && typeof index === 'number') {\n        if (unwrapDisallowed && node.children) {\n          parent.children.splice(index, 1, ...node.children)\n        } else {\n          parent.children.splice(index, 1)\n        }\n\n        return index\n      }\n    }\n  }\n}\n\n/**\n * Make a URL safe.\n *\n * @satisfies {UrlTransform}\n * @param {string} value\n *   URL.\n * @returns {string}\n *   Safe URL.\n */\nfunction defaultUrlTransform(value) {\n  // Same as:\n  // <https://github.com/micromark/micromark/blob/929275e/packages/micromark-util-sanitize-uri/dev/index.js#L34>\n  // But without the `encode` part.\n  const colon = value.indexOf(':')\n  const questionMark = value.indexOf('?')\n  const numberSign = value.indexOf('#')\n  const slash = value.indexOf('/')\n\n  if (\n    // If there is no protocol, its relative.\n    colon === -1 ||\n    // If the first colon is after a `?`, `#`, or `/`, its not a protocol.\n    (slash !== -1 && colon > slash) ||\n    (questionMark !== -1 && colon > questionMark) ||\n    (numberSign !== -1 && colon > numberSign) ||\n    // It is a protocol, it should be allowed.\n    safeProtocol.test(value.slice(0, colon))\n  ) {\n    return value\n  }\n\n  return ''\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3JlYWN0LW1hcmtkb3duL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsWUFBWSwrQkFBK0I7QUFDM0MsWUFBWSxtQkFBbUI7QUFDL0IsWUFBWSw2Q0FBNkM7QUFDekQsWUFBWSxnQ0FBZ0M7QUFDNUMsWUFBWSxjQUFjO0FBQzFCLFlBQVksMEJBQTBCO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsbUJBQW1CO0FBQzlCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CO0FBQ0EsV0FBVywrQkFBK0I7QUFDMUM7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFCQUFxQjtBQUNuQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsUUFBUTtBQUN0QjtBQUNBLGNBQWMsZUFBZTtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUNBQWlDO0FBQy9DO0FBQ0E7QUFDQSxjQUFjLDBDQUEwQztBQUN4RDtBQUNBO0FBQ0EsY0FBYywyQkFBMkI7QUFDekM7QUFDQSxjQUFjLCtCQUErQjtBQUM3QztBQUNBLGNBQWMsMENBQTBDO0FBQ3hEO0FBQ0E7QUFDQSxjQUFjLGtDQUFrQztBQUNoRDtBQUNBLGNBQWMsa0NBQWtDO0FBQ2hEO0FBQ0EsY0FBYyxrREFBa0Q7QUFDaEU7QUFDQSxjQUFjLDRCQUE0QjtBQUMxQztBQUNBLGNBQWMsNEJBQTRCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsaUNBQWlDO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFDQUFxQyx3QkFBd0I7QUFDN0QsY0FBYyw4QkFBOEI7QUFDNUM7QUFDQTs7QUFFQTtBQUNBLGFBQWEsNEJBQTRCO0FB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QUFDQSxJQUFJLG1EQUFXO0FBQ2Y7QUFDQTtBQUNBOztBQUVBLEVBQUUsdURBQUs7O0FBRVAsU0FBUyxzRUFBWTtBQUNyQixZQUFZO0FBQ1o7QUFDQTtBQUNBLE9BQU87QUFDUCxRQUFRO0FBQ1I7QUFDQTtBQUNBLEdBQUc7O0FBRUgsYUFBYSxvQkFBb0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1Isa0NBQWtDO0FBQ2xDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxpQkFBaUIsUUFBUTtBQUN6Qjs7QUFFQSxrQkFBa0IsOERBQWE7QUFDL0I7QUFDQSx3QkFBd0IsOERBQWE7QUFDckM7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhEQUFhO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3JlYWN0LW1hcmtkb3duL2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbXBvcnQge0VsZW1lbnQsIE5vZGVzLCBQYXJlbnRzLCBSb290fSBmcm9tICdoYXN0J1xuICogQGltcG9ydCB7Um9vdCBhcyBNZGFzdFJvb3R9IGZyb20gJ21kYXN0J1xuICogQGltcG9ydCB7Q29tcG9uZW50VHlwZSwgSlNYLCBSZWFjdEVsZW1lbnQsIFJlYWN0Tm9kZX0gZnJvbSAncmVhY3QnXG4gKiBAaW1wb3J0IHtPcHRpb25zIGFzIFJlbWFya1JlaHlwZU9wdGlvbnN9IGZyb20gJ3JlbWFyay1yZWh5cGUnXG4gKiBAaW1wb3J0IHtCdWlsZFZpc2l0b3J9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG4gKiBAaW1wb3J0IHtQbHVnZ2FibGVMaXN0LCBQcm9jZXNzb3J9IGZyb20gJ3VuaWZpZWQnXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgQWxsb3dFbGVtZW50XG4gKiAgIEZpbHRlciBlbGVtZW50cy5cbiAqIEBwYXJhbSB7UmVhZG9ubHk8RWxlbWVudD59IGVsZW1lbnRcbiAqICAgRWxlbWVudCB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICogICBJbmRleCBvZiBgZWxlbWVudGAgaW4gYHBhcmVudGAuXG4gKiBAcGFyYW0ge1JlYWRvbmx5PFBhcmVudHM+IHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAqICAgUGFyZW50IG9mIGBlbGVtZW50YC5cbiAqIEByZXR1cm5zIHtib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZH1cbiAqICAgV2hldGhlciB0byBhbGxvdyBgZWxlbWVudGAgKGRlZmF1bHQ6IGBmYWxzZWApLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgRXh0cmFQcm9wc1xuICogICBFeHRyYSBmaWVsZHMgd2UgcGFzcy5cbiAqIEBwcm9wZXJ0eSB7RWxlbWVudCB8IHVuZGVmaW5lZH0gW25vZGVdXG4gKiAgIHBhc3NlZCB3aGVuIGBwYXNzTm9kZWAgaXMgb24uXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7e1xuICogICBbS2V5IGluIGtleW9mIEpTWC5JbnRyaW5zaWNFbGVtZW50c10/OiBDb21wb25lbnRUeXBlPEpTWC5JbnRyaW5zaWNFbGVtZW50c1tLZXldICYgRXh0cmFQcm9wcz4gfCBrZXlvZiBKU1guSW50cmluc2ljRWxlbWVudHNcbiAqIH19IENvbXBvbmVudHNcbiAqICAgTWFwIHRhZyBuYW1lcyB0byBjb21wb25lbnRzLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgRGVwcmVjYXRpb25cbiAqICAgRGVwcmVjYXRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZnJvbVxuICogICBPbGQgZmllbGQuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gaWRcbiAqICAgSUQgaW4gcmVhZG1lLlxuICogQHByb3BlcnR5IHtrZXlvZiBPcHRpb25zfSBbdG9dXG4gKiAgIE5ldyBmaWVsZC5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIE9wdGlvbnNcbiAqICAgQ29uZmlndXJhdGlvbi5cbiAqIEBwcm9wZXJ0eSB7QWxsb3dFbGVtZW50IHwgbnVsbCB8IHVuZGVmaW5lZH0gW2FsbG93RWxlbWVudF1cbiAqICAgRmlsdGVyIGVsZW1lbnRzIChvcHRpb25hbCk7XG4gKiAgIGBhbGxvd2VkRWxlbWVudHNgIC8gYGRpc2FsbG93ZWRFbGVtZW50c2AgaXMgdXNlZCBmaXJzdC5cbiAqIEBwcm9wZXJ0eSB7UmVhZG9ubHlBcnJheTxzdHJpbmc+IHwgbnVsbCB8IHVuZGVmaW5lZH0gW2FsbG93ZWRFbGVtZW50c11cbiAqICAgVGFnIG5hbWVzIHRvIGFsbG93IChkZWZhdWx0OiBhbGwgdGFnIG5hbWVzKTtcbiAqICAgY2Fubm90IGNvbWJpbmUgdy8gYGRpc2FsbG93ZWRFbGVtZW50c2AuXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtjaGlsZHJlbl1cbiAqICAgTWFya2Rvd24uXG4gKiBAcHJvcGVydHkge0NvbXBvbmVudHMgfCBudWxsIHwgdW5kZWZpbmVkfSBbY29tcG9uZW50c11cbiAqICAgTWFwIHRhZyBuYW1lcyB0byBjb21wb25lbnRzLlxuICogQHByb3BlcnR5IHtSZWFkb25seUFycmF5PHN0cmluZz4gfCBudWxsIHwgdW5kZWZpbmVkfSBbZGlzYWxsb3dlZEVsZW1lbnRzXVxuICogICBUYWcgbmFtZXMgdG8gZGlzYWxsb3cgKGRlZmF1bHQ6IGBbXWApO1xuICogICBjYW5ub3QgY29tYmluZSB3LyBgYWxsb3dlZEVsZW1lbnRzYC5cbiAqIEBwcm9wZXJ0eSB7UGx1Z2dhYmxlTGlzdCB8IG51bGwgfCB1bmRlZmluZWR9IFtyZWh5cGVQbHVnaW5zXVxuICogICBMaXN0IG9mIHJlaHlwZSBwbHVnaW5zIHRvIHVzZS5cbiAqIEBwcm9wZXJ0eSB7UGx1Z2dhYmxlTGlzdCB8IG51bGwgfCB1bmRlZmluZWR9IFtyZW1hcmtQbHVnaW5zXVxuICogICBMaXN0IG9mIHJlbWFyayBwbHVnaW5zIHRvIHVzZS5cbiAqIEBwcm9wZXJ0eSB7UmVhZG9ubHk8UmVtYXJrUmVoeXBlT3B0aW9ucz4gfCBudWxsIHwgdW5kZWZpbmVkfSBbcmVtYXJrUmVoeXBlT3B0aW9uc11cbiAqICAgT3B0aW9ucyB0byBwYXNzIHRocm91Z2ggdG8gYHJlbWFyay1yZWh5cGVgLlxuICogQHByb3BlcnR5IHtib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZH0gW3NraXBIdG1sPWZhbHNlXVxuICogICBJZ25vcmUgSFRNTCBpbiBtYXJrZG93biBjb21wbGV0ZWx5IChkZWZhdWx0OiBgZmFsc2VgKS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWR9IFt1bndyYXBEaXNhbGxvd2VkPWZhbHNlXVxuICogICBFeHRyYWN0ICh1bndyYXApIHdoYXTigJlzIGluIGRpc2FsbG93ZWQgZWxlbWVudHMgKGRlZmF1bHQ6IGBmYWxzZWApO1xuICogICBub3JtYWxseSB3aGVuIHNheSBgc3Ryb25nYCBpcyBub3QgYWxsb3dlZCwgaXQgYW5kIGl04oCZcyBjaGlsZHJlbiBhcmUgZHJvcHBlZCxcbiAqICAgd2l0aCBgdW53cmFwRGlzYWxsb3dlZGAgdGhlIGVsZW1lbnQgaXRzZWxmIGlzIHJlcGxhY2VkIGJ5IGl0cyBjaGlsZHJlbi5cbiAqIEBwcm9wZXJ0eSB7VXJsVHJhbnNmb3JtIHwgbnVsbCB8IHVuZGVmaW5lZH0gW3VybFRyYW5zZm9ybV1cbiAqICAgQ2hhbmdlIFVSTHMgKGRlZmF1bHQ6IGBkZWZhdWx0VXJsVHJhbnNmb3JtYClcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIEhvb2tzT3B0aW9uc09ubHlcbiAqICAgQ29uZmlndXJhdGlvbiBzcGVjaWZpY2FsbHkgZm9yIHtAbGlua2NvZGUgTWFya2Rvd25Ib29rc30uXG4gKiBAcHJvcGVydHkge1JlYWN0Tm9kZSB8IG51bGwgfCB1bmRlZmluZWR9IFtmYWxsYmFja11cbiAqICAgQ29udGVudCB0byByZW5kZXIgd2hpbGUgdGhlIHByb2Nlc3NvciBwcm9jZXNzaW5nIHRoZSBtYXJrZG93biAob3B0aW9uYWwpLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09wdGlvbnMgJiBIb29rc09wdGlvbnNPbmx5fSBIb29rc09wdGlvbnNcbiAqICAgQ29uZmlndXJhdGlvbiBmb3Ige0BsaW5rY29kZSBNYXJrZG93bkhvb2tzfTtcbiAqICAgZXh0ZW5kcyB0aGUgcmVndWxhciB7QGxpbmtjb2RlIE9wdGlvbnN9IHdpdGggYSBgZmFsbGJhY2tgIHByb3AuXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgVXJsVHJhbnNmb3JtXG4gKiAgIFRyYW5zZm9ybSBhbGwgVVJMcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqICAgVVJMLlxuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICogICBQcm9wZXJ0eSBuYW1lIChleGFtcGxlOiBgJ2hyZWYnYCkuXG4gKiBAcGFyYW0ge1JlYWRvbmx5PEVsZW1lbnQ+fSBub2RlXG4gKiAgIE5vZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH1cbiAqICAgVHJhbnNmb3JtZWQgVVJMIChvcHRpb25hbCkuXG4gKi9cblxuaW1wb3J0IHt1bnJlYWNoYWJsZX0gZnJvbSAnZGV2bG9wJ1xuaW1wb3J0IHt0b0pzeFJ1bnRpbWV9IGZyb20gJ2hhc3QtdXRpbC10by1qc3gtcnVudGltZSdcbmltcG9ydCB7dXJsQXR0cmlidXRlc30gZnJvbSAnaHRtbC11cmwtYXR0cmlidXRlcydcbmltcG9ydCB7RnJhZ21lbnQsIGpzeCwganN4c30gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnXG5pbXBvcnQge3VzZUVmZmVjdCwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IHJlbWFya1BhcnNlIGZyb20gJ3JlbWFyay1wYXJzZSdcbmltcG9ydCByZW1hcmtSZWh5cGUgZnJvbSAncmVtYXJrLXJlaHlwZSdcbmltcG9ydCB7dW5pZmllZH0gZnJvbSAndW5pZmllZCdcbmltcG9ydCB7dmlzaXR9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQnXG5pbXBvcnQge1ZGaWxlfSBmcm9tICd2ZmlsZSdcblxuY29uc3QgY2hhbmdlbG9nID1cbiAgJ2h0dHBzOi8vZ2l0aHViLmNvbS9yZW1hcmtqcy9yZWFjdC1tYXJrZG93bi9ibG9iL21haW4vY2hhbmdlbG9nLm1kJ1xuXG4vKiogQHR5cGUge1BsdWdnYWJsZUxpc3R9ICovXG5jb25zdCBlbXB0eVBsdWdpbnMgPSBbXVxuLyoqIEB0eXBlIHtSZWFkb25seTxSZW1hcmtSZWh5cGVPcHRpb25zPn0gKi9cbmNvbnN0IGVtcHR5UmVtYXJrUmVoeXBlT3B0aW9ucyA9IHthbGxvd0Rhbmdlcm91c0h0bWw6IHRydWV9XG5jb25zdCBzYWZlUHJvdG9jb2wgPSAvXihodHRwcz98aXJjcz98bWFpbHRvfHhtcHApJC9pXG5cbi8vIE11dGFibGUgYmVjYXVzZSB3ZSBgZGVsZXRlYCBhbnkgdGltZSBpdOKAmXMgdXNlZCBhbmQgYSBtZXNzYWdlIGlzIHNlbnQuXG4vKiogQHR5cGUge1JlYWRvbmx5QXJyYXk8UmVhZG9ubHk8RGVwcmVjYXRpb24+Pn0gKi9cbmNvbnN0IGRlcHJlY2F0aW9ucyA9IFtcbiAge2Zyb206ICdhc3RQbHVnaW5zJywgaWQ6ICdyZW1vdmUtYnVnZ3ktaHRtbC1pbi1tYXJrZG93bi1wYXJzZXInfSxcbiAge2Zyb206ICdhbGxvd0Rhbmdlcm91c0h0bWwnLCBpZDogJ3JlbW92ZS1idWdneS1odG1sLWluLW1hcmtkb3duLXBhcnNlcid9LFxuICB7XG4gICAgZnJvbTogJ2FsbG93Tm9kZScsXG4gICAgaWQ6ICdyZXBsYWNlLWFsbG93bm9kZS1hbGxvd2VkdHlwZXMtYW5kLWRpc2FsbG93ZWR0eXBlcycsXG4gICAgdG86ICdhbGxvd0VsZW1lbnQnXG4gIH0sXG4gIHtcbiAgICBmcm9tOiAnYWxsb3dlZFR5cGVzJyxcbiAgICBpZDogJ3JlcGxhY2UtYWxsb3dub2RlLWFsbG93ZWR0eXBlcy1hbmQtZGlzYWxsb3dlZHR5cGVzJyxcbiAgICB0bzogJ2FsbG93ZWRFbGVtZW50cydcbiAgfSxcbiAge2Zyb206ICdjbGFzc05hbWUnLCBpZDogJ3JlbW92ZS1jbGFzc25hbWUnfSxcbiAge1xuICAgIGZyb206ICdkaXNhbGxvd2VkVHlwZXMnLFxuICAgIGlkOiAncmVwbGFjZS1hbGxvd25vZGUtYWxsb3dlZHR5cGVzLWFuZC1kaXNhbGxvd2VkdHlwZXMnLFxuICAgIHRvOiAnZGlzYWxsb3dlZEVsZW1lbnRzJ1xuICB9LFxuICB7ZnJvbTogJ2VzY2FwZUh0bWwnLCBpZDogJ3JlbW92ZS1idWdneS1odG1sLWluLW1hcmtkb3duLXBhcnNlcid9LFxuICB7ZnJvbTogJ2luY2x1ZGVFbGVtZW50SW5kZXgnLCBpZDogJyNyZW1vdmUtaW5jbHVkZWVsZW1lbnRpbmRleCd9LFxuICB7XG4gICAgZnJvbTogJ2luY2x1ZGVOb2RlSW5kZXgnLFxuICAgIGlkOiAnY2hhbmdlLWluY2x1ZGVub2RlaW5kZXgtdG8taW5jbHVkZWVsZW1lbnRpbmRleCdcbiAgfSxcbiAge2Zyb206ICdsaW5rVGFyZ2V0JywgaWQ6ICdyZW1vdmUtbGlua3RhcmdldCd9LFxuICB7ZnJvbTogJ3BsdWdpbnMnLCBpZDogJ2NoYW5nZS1wbHVnaW5zLXRvLXJlbWFya3BsdWdpbnMnLCB0bzogJ3JlbWFya1BsdWdpbnMnfSxcbiAge2Zyb206ICdyYXdTb3VyY2VQb3MnLCBpZDogJyNyZW1vdmUtcmF3c291cmNlcG9zJ30sXG4gIHtmcm9tOiAncmVuZGVyZXJzJywgaWQ6ICdjaGFuZ2UtcmVuZGVyZXJzLXRvLWNvbXBvbmVudHMnLCB0bzogJ2NvbXBvbmVudHMnfSxcbiAge2Zyb206ICdzb3VyY2UnLCBpZDogJ2NoYW5nZS1zb3VyY2UtdG8tY2hpbGRyZW4nLCB0bzogJ2NoaWxkcmVuJ30sXG4gIHtmcm9tOiAnc291cmNlUG9zJywgaWQ6ICcjcmVtb3ZlLXNvdXJjZXBvcyd9LFxuICB7ZnJvbTogJ3RyYW5zZm9ybUltYWdlVXJpJywgaWQ6ICcjYWRkLXVybHRyYW5zZm9ybScsIHRvOiAndXJsVHJhbnNmb3JtJ30sXG4gIHtmcm9tOiAndHJhbnNmb3JtTGlua1VyaScsIGlkOiAnI2FkZC11cmx0cmFuc2Zvcm0nLCB0bzogJ3VybFRyYW5zZm9ybSd9XG5dXG5cbi8qKlxuICogQ29tcG9uZW50IHRvIHJlbmRlciBtYXJrZG93bi5cbiAqXG4gKiBUaGlzIGlzIGEgc3luY2hyb25vdXMgY29tcG9uZW50LlxuICogV2hlbiB1c2luZyBhc3luYyBwbHVnaW5zLFxuICogc2VlIHtAbGlua2NvZGUgTWFya2Rvd25Bc3luY30gb3Ige0BsaW5rY29kZSBNYXJrZG93bkhvb2tzfS5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE9wdGlvbnM+fSBvcHRpb25zXG4gKiAgIFByb3BzLlxuICogQHJldHVybnMge1JlYWN0RWxlbWVudH1cbiAqICAgUmVhY3QgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1hcmtkb3duKG9wdGlvbnMpIHtcbiAgY29uc3QgcHJvY2Vzc29yID0gY3JlYXRlUHJvY2Vzc29yKG9wdGlvbnMpXG4gIGNvbnN0IGZpbGUgPSBjcmVhdGVGaWxlKG9wdGlvbnMpXG4gIHJldHVybiBwb3N0KHByb2Nlc3Nvci5ydW5TeW5jKHByb2Nlc3Nvci5wYXJzZShmaWxlKSwgZmlsZSksIG9wdGlvbnMpXG59XG5cbi8qKlxuICogQ29tcG9uZW50IHRvIHJlbmRlciBtYXJrZG93biB3aXRoIHN1cHBvcnQgZm9yIGFzeW5jIHBsdWdpbnNcbiAqIHRocm91Z2ggYXN5bmMvYXdhaXQuXG4gKlxuICogQ29tcG9uZW50cyByZXR1cm5pbmcgcHJvbWlzZXMgYXJlIHN1cHBvcnRlZCBvbiB0aGUgc2VydmVyLlxuICogRm9yIGFzeW5jIHN1cHBvcnQgb24gdGhlIGNsaWVudCxcbiAqIHNlZSB7QGxpbmtjb2RlIE1hcmtkb3duSG9va3N9LlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8T3B0aW9ucz59IG9wdGlvbnNcbiAqICAgUHJvcHMuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxSZWFjdEVsZW1lbnQ+fVxuICogICBQcm9taXNlIHRvIGEgUmVhY3QgZWxlbWVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIE1hcmtkb3duQXN5bmMob3B0aW9ucykge1xuICBjb25zdCBwcm9jZXNzb3IgPSBjcmVhdGVQcm9jZXNzb3Iob3B0aW9ucylcbiAgY29uc3QgZmlsZSA9IGNyZWF0ZUZpbGUob3B0aW9ucylcbiAgY29uc3QgdHJlZSA9IGF3YWl0IHByb2Nlc3Nvci5ydW4ocHJvY2Vzc29yLnBhcnNlKGZpbGUpLCBmaWxlKVxuICByZXR1cm4gcG9zdCh0cmVlLCBvcHRpb25zKVxufVxuXG4vKipcbiAqIENvbXBvbmVudCB0byByZW5kZXIgbWFya2Rvd24gd2l0aCBzdXBwb3J0IGZvciBhc3luYyBwbHVnaW5zIHRocm91Z2ggaG9va3MuXG4gKlxuICogVGhpcyB1c2VzIGB1c2VFZmZlY3RgIGFuZCBgdXNlU3RhdGVgIGhvb2tzLlxuICogSG9va3MgcnVuIG9uIHRoZSBjbGllbnQgYW5kIGRvIG5vdCBpbW1lZGlhdGVseSByZW5kZXIgc29tZXRoaW5nLlxuICogRm9yIGFzeW5jIHN1cHBvcnQgb24gdGhlIHNlcnZlcixcbiAqIHNlZSB7QGxpbmtjb2RlIE1hcmtkb3duQXN5bmN9LlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8SG9va3NPcHRpb25zPn0gb3B0aW9uc1xuICogICBQcm9wcy5cbiAqIEByZXR1cm5zIHtSZWFjdE5vZGV9XG4gKiAgIFJlYWN0IG5vZGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNYXJrZG93bkhvb2tzKG9wdGlvbnMpIHtcbiAgY29uc3QgcHJvY2Vzc29yID0gY3JlYXRlUHJvY2Vzc29yKG9wdGlvbnMpXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoXG4gICAgLyoqIEB0eXBlIHtFcnJvciB8IHVuZGVmaW5lZH0gKi8gKHVuZGVmaW5lZClcbiAgKVxuICBjb25zdCBbdHJlZSwgc2V0VHJlZV0gPSB1c2VTdGF0ZSgvKiogQHR5cGUge1Jvb3QgfCB1bmRlZmluZWR9ICovICh1bmRlZmluZWQpKVxuXG4gIHVzZUVmZmVjdChcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2VcbiAgICAgIGNvbnN0IGZpbGUgPSBjcmVhdGVGaWxlKG9wdGlvbnMpXG5cbiAgICAgIHByb2Nlc3Nvci5ydW4ocHJvY2Vzc29yLnBhcnNlKGZpbGUpLCBmaWxlLCBmdW5jdGlvbiAoZXJyb3IsIHRyZWUpIHtcbiAgICAgICAgaWYgKCFjYW5jZWxsZWQpIHtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvcilcbiAgICAgICAgICBzZXRUcmVlKHRyZWUpXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8qKlxuICAgICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgICAqICAgTm90aGluZy5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH0sXG4gICAgW1xuICAgICAgb3B0aW9ucy5jaGlsZHJlbixcbiAgICAgIG9wdGlvbnMucmVoeXBlUGx1Z2lucyxcbiAgICAgIG9wdGlvbnMucmVtYXJrUGx1Z2lucyxcbiAgICAgIG9wdGlvbnMucmVtYXJrUmVoeXBlT3B0aW9uc1xuICAgIF1cbiAgKVxuXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcblxuICByZXR1cm4gdHJlZSA/IHBvc3QodHJlZSwgb3B0aW9ucykgOiBvcHRpb25zLmZhbGxiYWNrXG59XG5cbi8qKlxuICogU2V0IHVwIHRoZSBgdW5pZmllZGAgcHJvY2Vzc29yLlxuICpcbiAqIEBwYXJhbSB7UmVhZG9ubHk8T3B0aW9ucz59IG9wdGlvbnNcbiAqICAgUHJvcHMuXG4gKiBAcmV0dXJucyB7UHJvY2Vzc29yPE1kYXN0Um9vdCwgTWRhc3RSb290LCBSb290LCB1bmRlZmluZWQsIHVuZGVmaW5lZD59XG4gKiAgIFJlc3VsdC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUHJvY2Vzc29yKG9wdGlvbnMpIHtcbiAgY29uc3QgcmVoeXBlUGx1Z2lucyA9IG9wdGlvbnMucmVoeXBlUGx1Z2lucyB8fCBlbXB0eVBsdWdpbnNcbiAgY29uc3QgcmVtYXJrUGx1Z2lucyA9IG9wdGlvbnMucmVtYXJrUGx1Z2lucyB8fCBlbXB0eVBsdWdpbnNcbiAgY29uc3QgcmVtYXJrUmVoeXBlT3B0aW9ucyA9IG9wdGlvbnMucmVtYXJrUmVoeXBlT3B0aW9uc1xuICAgID8gey4uLm9wdGlvbnMucmVtYXJrUmVoeXBlT3B0aW9ucywgLi4uZW1wdHlSZW1hcmtSZWh5cGVPcHRpb25zfVxuICAgIDogZW1wdHlSZW1hcmtSZWh5cGVPcHRpb25zXG5cbiAgY29uc3QgcHJvY2Vzc29yID0gdW5pZmllZCgpXG4gICAgLnVzZShyZW1hcmtQYXJzZSlcbiAgICAudXNlKHJlbWFya1BsdWdpbnMpXG4gICAgLnVzZShyZW1hcmtSZWh5cGUsIHJlbWFya1JlaHlwZU9wdGlvbnMpXG4gICAgLnVzZShyZWh5cGVQbHVnaW5zKVxuXG4gIHJldHVybiBwcm9jZXNzb3Jcbn1cblxuLyoqXG4gKiBTZXQgdXAgdGhlIHZpcnR1YWwgZmlsZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE9wdGlvbnM+fSBvcHRpb25zXG4gKiAgIFByb3BzLlxuICogQHJldHVybnMge1ZGaWxlfVxuICogICBSZXN1bHQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUZpbGUob3B0aW9ucykge1xuICBjb25zdCBjaGlsZHJlbiA9IG9wdGlvbnMuY2hpbGRyZW4gfHwgJydcbiAgY29uc3QgZmlsZSA9IG5ldyBWRmlsZSgpXG5cbiAgaWYgKHR5cGVvZiBjaGlsZHJlbiA9PT0gJ3N0cmluZycpIHtcbiAgICBmaWxlLnZhbHVlID0gY2hpbGRyZW5cbiAgfSBlbHNlIHtcbiAgICB1bnJlYWNoYWJsZShcbiAgICAgICdVbmV4cGVjdGVkIHZhbHVlIGAnICtcbiAgICAgICAgY2hpbGRyZW4gK1xuICAgICAgICAnYCBmb3IgYGNoaWxkcmVuYCBwcm9wLCBleHBlY3RlZCBgc3RyaW5nYCdcbiAgICApXG4gIH1cblxuICByZXR1cm4gZmlsZVxufVxuXG4vKipcbiAqIFByb2Nlc3MgdGhlIHJlc3VsdCBmcm9tIHVuaWZpZWQgc29tZSBtb3JlLlxuICpcbiAqIEBwYXJhbSB7Tm9kZXN9IHRyZWVcbiAqICAgVHJlZS5cbiAqIEBwYXJhbSB7UmVhZG9ubHk8T3B0aW9ucz59IG9wdGlvbnNcbiAqICAgUHJvcHMuXG4gKiBAcmV0dXJucyB7UmVhY3RFbGVtZW50fVxuICogICBSZWFjdCBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBwb3N0KHRyZWUsIG9wdGlvbnMpIHtcbiAgY29uc3QgYWxsb3dlZEVsZW1lbnRzID0gb3B0aW9ucy5hbGxvd2VkRWxlbWVudHNcbiAgY29uc3QgYWxsb3dFbGVtZW50ID0gb3B0aW9ucy5hbGxvd0VsZW1lbnRcbiAgY29uc3QgY29tcG9uZW50cyA9IG9wdGlvbnMuY29tcG9uZW50c1xuICBjb25zdCBkaXNhbGxvd2VkRWxlbWVudHMgPSBvcHRpb25zLmRpc2FsbG93ZWRFbGVtZW50c1xuICBjb25zdCBza2lwSHRtbCA9IG9wdGlvbnMuc2tpcEh0bWxcbiAgY29uc3QgdW53cmFwRGlzYWxsb3dlZCA9IG9wdGlvbnMudW53cmFwRGlzYWxsb3dlZFxuICBjb25zdCB1cmxUcmFuc2Zvcm0gPSBvcHRpb25zLnVybFRyYW5zZm9ybSB8fCBkZWZhdWx0VXJsVHJhbnNmb3JtXG5cbiAgZm9yIChjb25zdCBkZXByZWNhdGlvbiBvZiBkZXByZWNhdGlvbnMpIHtcbiAgICBpZiAoT2JqZWN0Lmhhc093bihvcHRpb25zLCBkZXByZWNhdGlvbi5mcm9tKSkge1xuICAgICAgdW5yZWFjaGFibGUoXG4gICAgICAgICdVbmV4cGVjdGVkIGAnICtcbiAgICAgICAgICBkZXByZWNhdGlvbi5mcm9tICtcbiAgICAgICAgICAnYCBwcm9wLCAnICtcbiAgICAgICAgICAoZGVwcmVjYXRpb24udG9cbiAgICAgICAgICAgID8gJ3VzZSBgJyArIGRlcHJlY2F0aW9uLnRvICsgJ2AgaW5zdGVhZCdcbiAgICAgICAgICAgIDogJ3JlbW92ZSBpdCcpICtcbiAgICAgICAgICAnIChzZWUgPCcgK1xuICAgICAgICAgIGNoYW5nZWxvZyArXG4gICAgICAgICAgJyMnICtcbiAgICAgICAgICBkZXByZWNhdGlvbi5pZCArXG4gICAgICAgICAgJz4gZm9yIG1vcmUgaW5mbyknXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93ZWRFbGVtZW50cyAmJiBkaXNhbGxvd2VkRWxlbWVudHMpIHtcbiAgICB1bnJlYWNoYWJsZShcbiAgICAgICdVbmV4cGVjdGVkIGNvbWJpbmVkIGBhbGxvd2VkRWxlbWVudHNgIGFuZCBgZGlzYWxsb3dlZEVsZW1lbnRzYCwgZXhwZWN0ZWQgb25lIG9yIHRoZSBvdGhlcidcbiAgICApXG4gIH1cblxuICB2aXNpdCh0cmVlLCB0cmFuc2Zvcm0pXG5cbiAgcmV0dXJuIHRvSnN4UnVudGltZSh0cmVlLCB7XG4gICAgRnJhZ21lbnQsXG4gICAgY29tcG9uZW50cyxcbiAgICBpZ25vcmVJbnZhbGlkU3R5bGU6IHRydWUsXG4gICAganN4LFxuICAgIGpzeHMsXG4gICAgcGFzc0tleXM6IHRydWUsXG4gICAgcGFzc05vZGU6IHRydWVcbiAgfSlcblxuICAvKiogQHR5cGUge0J1aWxkVmlzaXRvcjxSb290Pn0gKi9cbiAgZnVuY3Rpb24gdHJhbnNmb3JtKG5vZGUsIGluZGV4LCBwYXJlbnQpIHtcbiAgICBpZiAobm9kZS50eXBlID09PSAncmF3JyAmJiBwYXJlbnQgJiYgdHlwZW9mIGluZGV4ID09PSAnbnVtYmVyJykge1xuICAgICAgaWYgKHNraXBIdG1sKSB7XG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuY2hpbGRyZW5baW5kZXhdID0ge3R5cGU6ICd0ZXh0JywgdmFsdWU6IG5vZGUudmFsdWV9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbmRleFxuICAgIH1cblxuICAgIGlmIChub2RlLnR5cGUgPT09ICdlbGVtZW50Jykge1xuICAgICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgICBsZXQga2V5XG5cbiAgICAgIGZvciAoa2V5IGluIHVybEF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIE9iamVjdC5oYXNPd24odXJsQXR0cmlidXRlcywga2V5KSAmJlxuICAgICAgICAgIE9iamVjdC5oYXNPd24obm9kZS5wcm9wZXJ0aWVzLCBrZXkpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gbm9kZS5wcm9wZXJ0aWVzW2tleV1cbiAgICAgICAgICBjb25zdCB0ZXN0ID0gdXJsQXR0cmlidXRlc1trZXldXG4gICAgICAgICAgaWYgKHRlc3QgPT09IG51bGwgfHwgdGVzdC5pbmNsdWRlcyhub2RlLnRhZ05hbWUpKSB7XG4gICAgICAgICAgICBub2RlLnByb3BlcnRpZXNba2V5XSA9IHVybFRyYW5zZm9ybShTdHJpbmcodmFsdWUgfHwgJycpLCBrZXksIG5vZGUpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5vZGUudHlwZSA9PT0gJ2VsZW1lbnQnKSB7XG4gICAgICBsZXQgcmVtb3ZlID0gYWxsb3dlZEVsZW1lbnRzXG4gICAgICAgID8gIWFsbG93ZWRFbGVtZW50cy5pbmNsdWRlcyhub2RlLnRhZ05hbWUpXG4gICAgICAgIDogZGlzYWxsb3dlZEVsZW1lbnRzXG4gICAgICAgICAgPyBkaXNhbGxvd2VkRWxlbWVudHMuaW5jbHVkZXMobm9kZS50YWdOYW1lKVxuICAgICAgICAgIDogZmFsc2VcblxuICAgICAgaWYgKCFyZW1vdmUgJiYgYWxsb3dFbGVtZW50ICYmIHR5cGVvZiBpbmRleCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmVtb3ZlID0gIWFsbG93RWxlbWVudChub2RlLCBpbmRleCwgcGFyZW50KVxuICAgICAgfVxuXG4gICAgICBpZiAocmVtb3ZlICYmIHBhcmVudCAmJiB0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmICh1bndyYXBEaXNhbGxvd2VkICYmIG5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxLCAuLi5ub2RlLmNoaWxkcmVuKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXhcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBNYWtlIGEgVVJMIHNhZmUuXG4gKlxuICogQHNhdGlzZmllcyB7VXJsVHJhbnNmb3JtfVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiAgIFVSTC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiAgIFNhZmUgVVJMLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFVybFRyYW5zZm9ybSh2YWx1ZSkge1xuICAvLyBTYW1lIGFzOlxuICAvLyA8aHR0cHM6Ly9naXRodWIuY29tL21pY3JvbWFyay9taWNyb21hcmsvYmxvYi85MjkyNzVlL3BhY2thZ2VzL21pY3JvbWFyay11dGlsLXNhbml0aXplLXVyaS9kZXYvaW5kZXguanMjTDM0PlxuICAvLyBCdXQgd2l0aG91dCB0aGUgYGVuY29kZWAgcGFydC5cbiAgY29uc3QgY29sb24gPSB2YWx1ZS5pbmRleE9mKCc6JylcbiAgY29uc3QgcXVlc3Rpb25NYXJrID0gdmFsdWUuaW5kZXhPZignPycpXG4gIGNvbnN0IG51bWJlclNpZ24gPSB2YWx1ZS5pbmRleE9mKCcjJylcbiAgY29uc3Qgc2xhc2ggPSB2YWx1ZS5pbmRleE9mKCcvJylcblxuICBpZiAoXG4gICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJvdG9jb2wsIGl04oCZcyByZWxhdGl2ZS5cbiAgICBjb2xvbiA9PT0gLTEgfHxcbiAgICAvLyBJZiB0aGUgZmlyc3QgY29sb24gaXMgYWZ0ZXIgYSBgP2AsIGAjYCwgb3IgYC9gLCBpdOKAmXMgbm90IGEgcHJvdG9jb2wuXG4gICAgKHNsYXNoICE9PSAtMSAmJiBjb2xvbiA+IHNsYXNoKSB8fFxuICAgIChxdWVzdGlvbk1hcmsgIT09IC0xICYmIGNvbG9uID4gcXVlc3Rpb25NYXJrKSB8fFxuICAgIChudW1iZXJTaWduICE9PSAtMSAmJiBjb2xvbiA+IG51bWJlclNpZ24pIHx8XG4gICAgLy8gSXQgaXMgYSBwcm90b2NvbCwgaXQgc2hvdWxkIGJlIGFsbG93ZWQuXG4gICAgc2FmZVByb3RvY29sLnRlc3QodmFsdWUuc2xpY2UoMCwgY29sb24pKVxuICApIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIHJldHVybiAnJ1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/react-markdown/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/remark-parse/lib/index.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/remark-parse/lib/index.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ remarkParse)\n/* harmony export */ });\n/* harmony import */ var mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mdast-util-from-markdown */ \"(ssr)/./node_modules/mdast-util-from-markdown/dev/lib/index.js\");\n/**\n * @typedef {import('mdast').Root} Root\n * @typedef {import('mdast-util-from-markdown').Options} FromMarkdownOptions\n * @typedef {import('unified').Parser<Root>} Parser\n * @typedef {import('unified').Processor<Root>} Processor\n */\n\n/**\n * @typedef {Omit<FromMarkdownOptions, 'extensions' | 'mdastExtensions'>} Options\n */\n\n\n\n/**\n * Aadd support for parsing from markdown.\n *\n * @param {Readonly<Options> | null | undefined} [options]\n *   Configuration (optional).\n * @returns {undefined}\n *   Nothing.\n */\nfunction remarkParse(options) {\n  /** @type {Processor} */\n  // @ts-expect-error: TS in JSDoc generates wrong types if `this` is typed regularly.\n  const self = this\n\n  self.parser = parser\n\n  /**\n   * @type {Parser}\n   */\n  function parser(doc) {\n    return (0,mdast_util_from_markdown__WEBPACK_IMPORTED_MODULE_0__.fromMarkdown)(doc, {\n      ...self.data('settings'),\n      ...options,\n      // Note: these options are not in the readme.\n      // The goal is for them to be set by plugins on `data` instead of being\n      // passed by users.\n      extensions: self.data('micromarkExtensions') || [],\n      mdastExtensions: self.data('fromMarkdownExtensions') || []\n    })\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3JlbWFyay1wYXJzZS9saWIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBLGFBQWEsc0JBQXNCO0FBQ25DLGFBQWEsNENBQTRDO0FBQ3pELGFBQWEsZ0NBQWdDO0FBQzdDLGFBQWEsbUNBQW1DO0FBQ2hEOztBQUVBO0FBQ0EsYUFBYSw2REFBNkQ7QUFDMUU7O0FBRXFEOztBQUVyRDtBQUNBO0FBQ0E7QUFDQSxXQUFXLHNDQUFzQztBQUNqRDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ2U7QUFDZixhQUFhLFdBQVc7QUFDeEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsV0FBVyxzRUFBWTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9ub2RlX21vZHVsZXMvcmVtYXJrLXBhcnNlL2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ21kYXN0JykuUm9vdH0gUm9vdFxuICogQHR5cGVkZWYge2ltcG9ydCgnbWRhc3QtdXRpbC1mcm9tLW1hcmtkb3duJykuT3B0aW9uc30gRnJvbU1hcmtkb3duT3B0aW9uc1xuICogQHR5cGVkZWYge2ltcG9ydCgndW5pZmllZCcpLlBhcnNlcjxSb290Pn0gUGFyc2VyXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCd1bmlmaWVkJykuUHJvY2Vzc29yPFJvb3Q+fSBQcm9jZXNzb3JcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPbWl0PEZyb21NYXJrZG93bk9wdGlvbnMsICdleHRlbnNpb25zJyB8ICdtZGFzdEV4dGVuc2lvbnMnPn0gT3B0aW9uc1xuICovXG5cbmltcG9ydCB7ZnJvbU1hcmtkb3dufSBmcm9tICdtZGFzdC11dGlsLWZyb20tbWFya2Rvd24nXG5cbi8qKlxuICogQWFkZCBzdXBwb3J0IGZvciBwYXJzaW5nIGZyb20gbWFya2Rvd24uXG4gKlxuICogQHBhcmFtIHtSZWFkb25seTxPcHRpb25zPiB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRpb25zXVxuICogICBDb25maWd1cmF0aW9uIChvcHRpb25hbCkuXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogICBOb3RoaW5nLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1hcmtQYXJzZShvcHRpb25zKSB7XG4gIC8qKiBAdHlwZSB7UHJvY2Vzc29yfSAqL1xuICAvLyBAdHMtZXhwZWN0LWVycm9yOiBUUyBpbiBKU0RvYyBnZW5lcmF0ZXMgd3JvbmcgdHlwZXMgaWYgYHRoaXNgIGlzIHR5cGVkIHJlZ3VsYXJseS5cbiAgY29uc3Qgc2VsZiA9IHRoaXNcblxuICBzZWxmLnBhcnNlciA9IHBhcnNlclxuXG4gIC8qKlxuICAgKiBAdHlwZSB7UGFyc2VyfVxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VyKGRvYykge1xuICAgIHJldHVybiBmcm9tTWFya2Rvd24oZG9jLCB7XG4gICAgICAuLi5zZWxmLmRhdGEoJ3NldHRpbmdzJyksXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgLy8gTm90ZTogdGhlc2Ugb3B0aW9ucyBhcmUgbm90IGluIHRoZSByZWFkbWUuXG4gICAgICAvLyBUaGUgZ29hbCBpcyBmb3IgdGhlbSB0byBiZSBzZXQgYnkgcGx1Z2lucyBvbiBgZGF0YWAgaW5zdGVhZCBvZiBiZWluZ1xuICAgICAgLy8gcGFzc2VkIGJ5IHVzZXJzLlxuICAgICAgZXh0ZW5zaW9uczogc2VsZi5kYXRhKCdtaWNyb21hcmtFeHRlbnNpb25zJykgfHwgW10sXG4gICAgICBtZGFzdEV4dGVuc2lvbnM6IHNlbGYuZGF0YSgnZnJvbU1hcmtkb3duRXh0ZW5zaW9ucycpIHx8IFtdXG4gICAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/remark-parse/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/remark-rehype/lib/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/remark-rehype/lib/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ remarkRehype)\n/* harmony export */ });\n/* harmony import */ var mdast_util_to_hast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mdast-util-to-hast */ \"(ssr)/./node_modules/mdast-util-to-hast/lib/index.js\");\n/**\n * @import {Root as HastRoot} from 'hast'\n * @import {Root as MdastRoot} from 'mdast'\n * @import {Options as ToHastOptions} from 'mdast-util-to-hast'\n * @import {Processor} from 'unified'\n * @import {VFile} from 'vfile'\n */\n\n/**\n * @typedef {Omit<ToHastOptions, 'file'>} Options\n *\n * @callback TransformBridge\n *   Bridge-mode.\n *\n *   Runs the destination with the new hast tree.\n *   Discards result.\n * @param {MdastRoot} tree\n *   Tree.\n * @param {VFile} file\n *   File.\n * @returns {Promise<undefined>}\n *   Nothing.\n *\n * @callback TransformMutate\n *  Mutate-mode.\n *\n *  Further transformers run on the hast tree.\n * @param {MdastRoot} tree\n *   Tree.\n * @param {VFile} file\n *   File.\n * @returns {HastRoot}\n *   Tree (hast).\n */\n\n\n\n/**\n * Turn markdown into HTML.\n *\n * ##### Notes\n *\n * ###### Signature\n *\n * * if a processor is given,\n *   runs the (rehype) plugins used on it with a hast tree,\n *   then discards the result (*bridge mode*)\n * * otherwise,\n *   returns a hast tree,\n *   the plugins used after `remarkRehype` are rehype plugins (*mutate mode*)\n *\n * >  **Note**:\n * > Its highly unlikely that you want to pass a `processor`.\n *\n * ###### HTML\n *\n * Raw HTML is available in mdast as `html` nodes and can be embedded in hast\n * as semistandard `raw` nodes.\n * Most plugins ignore `raw` nodes but two notable ones dont:\n *\n * * `rehype-stringify` also has an option `allowDangerousHtml` which will\n *   output the raw HTML.\n *   This is typically discouraged as noted by the option name but is useful if\n *   you completely trust authors\n * * `rehype-raw` can handle the raw embedded HTML strings by parsing them\n *   into standard hast nodes (`element`, `text`, etc);\n *   this is a heavy task as it needs a full HTML parser,\n *   but it is the only way to support untrusted content\n *\n * ###### Footnotes\n *\n * Many options supported here relate to footnotes.\n * Footnotes are not specified by CommonMark,\n * which we follow by default.\n * They are supported by GitHub,\n * so footnotes can be enabled in markdown with `remark-gfm`.\n *\n * The options `footnoteBackLabel` and `footnoteLabel` define natural language\n * that explains footnotes,\n * which is hidden for sighted users but shown to assistive technology.\n * When your page is not in English,\n * you must define translated values.\n *\n * Back references use ARIA attributes,\n * but the section label itself uses a heading that is hidden with an\n * `sr-only` class.\n * To show it to sighted users,\n * define different attributes in `footnoteLabelProperties`.\n *\n * ###### Clobbering\n *\n * Footnotes introduces a problem,\n * as it links footnote calls to footnote definitions on the page through `id`\n * attributes generated from user content,\n * which results in DOM clobbering.\n *\n * DOM clobbering is this:\n *\n * ```html\n * <p id=x></p>\n * <script>alert(x) // `x` now refers to the DOM `p#x` element</script>\n * ```\n *\n * Elements by their ID are made available by browsers on the `window` object,\n * which is a security risk.\n * Using a prefix solves this problem.\n *\n * More information on how to handle clobbering and the prefix is explained in\n * *Example: headings (DOM clobbering)* in `rehype-sanitize`.\n *\n * ###### Unknown nodes\n *\n * Unknown nodes are nodes with a type that isnt in `handlers` or `passThrough`.\n * The default behavior for unknown nodes is:\n *\n * * when the node has a `value`\n *   (and doesnt have `data.hName`, `data.hProperties`, or `data.hChildren`,\n *   see later),\n *   create a hast `text` node\n * * otherwise,\n *   create a `<div>` element (which could be changed with `data.hName`),\n *   with its children mapped from mdast to hast as well\n *\n * This behavior can be changed by passing an `unknownHandler`.\n *\n * @overload\n * @param {Processor} processor\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformBridge}\n *\n * @overload\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformMutate}\n *\n * @overload\n * @param {Readonly<Options> | Processor | null | undefined} [destination]\n * @param {Readonly<Options> | null | undefined} [options]\n * @returns {TransformBridge | TransformMutate}\n *\n * @param {Readonly<Options> | Processor | null | undefined} [destination]\n *   Processor or configuration (optional).\n * @param {Readonly<Options> | null | undefined} [options]\n *   When a processor was given,\n *   configuration (optional).\n * @returns {TransformBridge | TransformMutate}\n *   Transform.\n */\nfunction remarkRehype(destination, options) {\n  if (destination && 'run' in destination) {\n    /**\n     * @type {TransformBridge}\n     */\n    return async function (tree, file) {\n      // Cast because root in -> root out.\n      const hastTree = /** @type {HastRoot} */ (\n        (0,mdast_util_to_hast__WEBPACK_IMPORTED_MODULE_0__.toHast)(tree, {file, ...options})\n      )\n      await destination.run(hastTree, file)\n    }\n  }\n\n  /**\n   * @type {TransformMutate}\n   */\n  return function (tree, file) {\n    // Cast because root in -> root out.\n    // To do: in the future, disallow ` || options` fallback.\n    // With `unified-engine`, `destination` can be `undefined` but\n    // `options` will be the file set.\n    // We should not pass that as `options`.\n    return /** @type {HastRoot} */ (\n      (0,mdast_util_to_hast__WEBPACK_IMPORTED_MODULE_0__.toHast)(tree, {file, ...(destination || options)})\n    )\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3JlbWFyay1yZWh5cGUvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSxZQUFZLGtCQUFrQjtBQUM5QixZQUFZLG1CQUFtQjtBQUMvQixZQUFZLDBCQUEwQjtBQUN0QyxZQUFZLFdBQVc7QUFDdkIsWUFBWSxPQUFPO0FBQ25COztBQUVBO0FBQ0EsYUFBYSw2QkFBNkI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUV5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLHNDQUFzQztBQUNqRCxhQUFhO0FBQ2I7QUFDQTtBQUNBLFdBQVcsc0NBQXNDO0FBQ2pELGFBQWE7QUFDYjtBQUNBO0FBQ0EsV0FBVyxrREFBa0Q7QUFDN0QsV0FBVyxzQ0FBc0M7QUFDakQsYUFBYTtBQUNiO0FBQ0EsV0FBVyxrREFBa0Q7QUFDN0Q7QUFDQSxXQUFXLHNDQUFzQztBQUNqRDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFVBQVU7QUFDNUMsUUFBUSwwREFBTSxRQUFRLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixVQUFVO0FBQ2hDLE1BQU0sMERBQU0sUUFBUSxrQ0FBa0M7QUFDdEQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9ub2RlX21vZHVsZXMvcmVtYXJrLXJlaHlwZS9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAaW1wb3J0IHtSb290IGFzIEhhc3RSb290fSBmcm9tICdoYXN0J1xuICogQGltcG9ydCB7Um9vdCBhcyBNZGFzdFJvb3R9IGZyb20gJ21kYXN0J1xuICogQGltcG9ydCB7T3B0aW9ucyBhcyBUb0hhc3RPcHRpb25zfSBmcm9tICdtZGFzdC11dGlsLXRvLWhhc3QnXG4gKiBAaW1wb3J0IHtQcm9jZXNzb3J9IGZyb20gJ3VuaWZpZWQnXG4gKiBAaW1wb3J0IHtWRmlsZX0gZnJvbSAndmZpbGUnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T21pdDxUb0hhc3RPcHRpb25zLCAnZmlsZSc+fSBPcHRpb25zXG4gKlxuICogQGNhbGxiYWNrIFRyYW5zZm9ybUJyaWRnZVxuICogICBCcmlkZ2UtbW9kZS5cbiAqXG4gKiAgIFJ1bnMgdGhlIGRlc3RpbmF0aW9uIHdpdGggdGhlIG5ldyBoYXN0IHRyZWUuXG4gKiAgIERpc2NhcmRzIHJlc3VsdC5cbiAqIEBwYXJhbSB7TWRhc3RSb290fSB0cmVlXG4gKiAgIFRyZWUuXG4gKiBAcGFyYW0ge1ZGaWxlfSBmaWxlXG4gKiAgIEZpbGUuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx1bmRlZmluZWQ+fVxuICogICBOb3RoaW5nLlxuICpcbiAqIEBjYWxsYmFjayBUcmFuc2Zvcm1NdXRhdGVcbiAqICBNdXRhdGUtbW9kZS5cbiAqXG4gKiAgRnVydGhlciB0cmFuc2Zvcm1lcnMgcnVuIG9uIHRoZSBoYXN0IHRyZWUuXG4gKiBAcGFyYW0ge01kYXN0Um9vdH0gdHJlZVxuICogICBUcmVlLlxuICogQHBhcmFtIHtWRmlsZX0gZmlsZVxuICogICBGaWxlLlxuICogQHJldHVybnMge0hhc3RSb290fVxuICogICBUcmVlIChoYXN0KS5cbiAqL1xuXG5pbXBvcnQge3RvSGFzdH0gZnJvbSAnbWRhc3QtdXRpbC10by1oYXN0J1xuXG4vKipcbiAqIFR1cm4gbWFya2Rvd24gaW50byBIVE1MLlxuICpcbiAqICMjIyMjIE5vdGVzXG4gKlxuICogIyMjIyMjIFNpZ25hdHVyZVxuICpcbiAqICogaWYgYSBwcm9jZXNzb3IgaXMgZ2l2ZW4sXG4gKiAgIHJ1bnMgdGhlIChyZWh5cGUpIHBsdWdpbnMgdXNlZCBvbiBpdCB3aXRoIGEgaGFzdCB0cmVlLFxuICogICB0aGVuIGRpc2NhcmRzIHRoZSByZXN1bHQgKCpicmlkZ2UgbW9kZSopXG4gKiAqIG90aGVyd2lzZSxcbiAqICAgcmV0dXJucyBhIGhhc3QgdHJlZSxcbiAqICAgdGhlIHBsdWdpbnMgdXNlZCBhZnRlciBgcmVtYXJrUmVoeXBlYCBhcmUgcmVoeXBlIHBsdWdpbnMgKCptdXRhdGUgbW9kZSopXG4gKlxuICogPiDwn5GJICoqTm90ZSoqOlxuICogPiBJdOKAmXMgaGlnaGx5IHVubGlrZWx5IHRoYXQgeW91IHdhbnQgdG8gcGFzcyBhIGBwcm9jZXNzb3JgLlxuICpcbiAqICMjIyMjIyBIVE1MXG4gKlxuICogUmF3IEhUTUwgaXMgYXZhaWxhYmxlIGluIG1kYXN0IGFzIGBodG1sYCBub2RlcyBhbmQgY2FuIGJlIGVtYmVkZGVkIGluIGhhc3RcbiAqIGFzIHNlbWlzdGFuZGFyZCBgcmF3YCBub2Rlcy5cbiAqIE1vc3QgcGx1Z2lucyBpZ25vcmUgYHJhd2Agbm9kZXMgYnV0IHR3byBub3RhYmxlIG9uZXMgZG9u4oCZdDpcbiAqXG4gKiAqIGByZWh5cGUtc3RyaW5naWZ5YCBhbHNvIGhhcyBhbiBvcHRpb24gYGFsbG93RGFuZ2Vyb3VzSHRtbGAgd2hpY2ggd2lsbFxuICogICBvdXRwdXQgdGhlIHJhdyBIVE1MLlxuICogICBUaGlzIGlzIHR5cGljYWxseSBkaXNjb3VyYWdlZCBhcyBub3RlZCBieSB0aGUgb3B0aW9uIG5hbWUgYnV0IGlzIHVzZWZ1bCBpZlxuICogICB5b3UgY29tcGxldGVseSB0cnVzdCBhdXRob3JzXG4gKiAqIGByZWh5cGUtcmF3YCBjYW4gaGFuZGxlIHRoZSByYXcgZW1iZWRkZWQgSFRNTCBzdHJpbmdzIGJ5IHBhcnNpbmcgdGhlbVxuICogICBpbnRvIHN0YW5kYXJkIGhhc3Qgbm9kZXMgKGBlbGVtZW50YCwgYHRleHRgLCBldGMpO1xuICogICB0aGlzIGlzIGEgaGVhdnkgdGFzayBhcyBpdCBuZWVkcyBhIGZ1bGwgSFRNTCBwYXJzZXIsXG4gKiAgIGJ1dCBpdCBpcyB0aGUgb25seSB3YXkgdG8gc3VwcG9ydCB1bnRydXN0ZWQgY29udGVudFxuICpcbiAqICMjIyMjIyBGb290bm90ZXNcbiAqXG4gKiBNYW55IG9wdGlvbnMgc3VwcG9ydGVkIGhlcmUgcmVsYXRlIHRvIGZvb3Rub3Rlcy5cbiAqIEZvb3Rub3RlcyBhcmUgbm90IHNwZWNpZmllZCBieSBDb21tb25NYXJrLFxuICogd2hpY2ggd2UgZm9sbG93IGJ5IGRlZmF1bHQuXG4gKiBUaGV5IGFyZSBzdXBwb3J0ZWQgYnkgR2l0SHViLFxuICogc28gZm9vdG5vdGVzIGNhbiBiZSBlbmFibGVkIGluIG1hcmtkb3duIHdpdGggYHJlbWFyay1nZm1gLlxuICpcbiAqIFRoZSBvcHRpb25zIGBmb290bm90ZUJhY2tMYWJlbGAgYW5kIGBmb290bm90ZUxhYmVsYCBkZWZpbmUgbmF0dXJhbCBsYW5ndWFnZVxuICogdGhhdCBleHBsYWlucyBmb290bm90ZXMsXG4gKiB3aGljaCBpcyBoaWRkZW4gZm9yIHNpZ2h0ZWQgdXNlcnMgYnV0IHNob3duIHRvIGFzc2lzdGl2ZSB0ZWNobm9sb2d5LlxuICogV2hlbiB5b3VyIHBhZ2UgaXMgbm90IGluIEVuZ2xpc2gsXG4gKiB5b3UgbXVzdCBkZWZpbmUgdHJhbnNsYXRlZCB2YWx1ZXMuXG4gKlxuICogQmFjayByZWZlcmVuY2VzIHVzZSBBUklBIGF0dHJpYnV0ZXMsXG4gKiBidXQgdGhlIHNlY3Rpb24gbGFiZWwgaXRzZWxmIHVzZXMgYSBoZWFkaW5nIHRoYXQgaXMgaGlkZGVuIHdpdGggYW5cbiAqIGBzci1vbmx5YCBjbGFzcy5cbiAqIFRvIHNob3cgaXQgdG8gc2lnaHRlZCB1c2VycyxcbiAqIGRlZmluZSBkaWZmZXJlbnQgYXR0cmlidXRlcyBpbiBgZm9vdG5vdGVMYWJlbFByb3BlcnRpZXNgLlxuICpcbiAqICMjIyMjIyBDbG9iYmVyaW5nXG4gKlxuICogRm9vdG5vdGVzIGludHJvZHVjZXMgYSBwcm9ibGVtLFxuICogYXMgaXQgbGlua3MgZm9vdG5vdGUgY2FsbHMgdG8gZm9vdG5vdGUgZGVmaW5pdGlvbnMgb24gdGhlIHBhZ2UgdGhyb3VnaCBgaWRgXG4gKiBhdHRyaWJ1dGVzIGdlbmVyYXRlZCBmcm9tIHVzZXIgY29udGVudCxcbiAqIHdoaWNoIHJlc3VsdHMgaW4gRE9NIGNsb2JiZXJpbmcuXG4gKlxuICogRE9NIGNsb2JiZXJpbmcgaXMgdGhpczpcbiAqXG4gKiBgYGBodG1sXG4gKiA8cCBpZD14PjwvcD5cbiAqIDxzY3JpcHQ+YWxlcnQoeCkgLy8gYHhgIG5vdyByZWZlcnMgdG8gdGhlIERPTSBgcCN4YCBlbGVtZW50PC9zY3JpcHQ+XG4gKiBgYGBcbiAqXG4gKiBFbGVtZW50cyBieSB0aGVpciBJRCBhcmUgbWFkZSBhdmFpbGFibGUgYnkgYnJvd3NlcnMgb24gdGhlIGB3aW5kb3dgIG9iamVjdCxcbiAqIHdoaWNoIGlzIGEgc2VjdXJpdHkgcmlzay5cbiAqIFVzaW5nIGEgcHJlZml4IHNvbHZlcyB0aGlzIHByb2JsZW0uXG4gKlxuICogTW9yZSBpbmZvcm1hdGlvbiBvbiBob3cgdG8gaGFuZGxlIGNsb2JiZXJpbmcgYW5kIHRoZSBwcmVmaXggaXMgZXhwbGFpbmVkIGluXG4gKiAqRXhhbXBsZTogaGVhZGluZ3MgKERPTSBjbG9iYmVyaW5nKSogaW4gYHJlaHlwZS1zYW5pdGl6ZWAuXG4gKlxuICogIyMjIyMjIFVua25vd24gbm9kZXNcbiAqXG4gKiBVbmtub3duIG5vZGVzIGFyZSBub2RlcyB3aXRoIGEgdHlwZSB0aGF0IGlzbuKAmXQgaW4gYGhhbmRsZXJzYCBvciBgcGFzc1Rocm91Z2hgLlxuICogVGhlIGRlZmF1bHQgYmVoYXZpb3IgZm9yIHVua25vd24gbm9kZXMgaXM6XG4gKlxuICogKiB3aGVuIHRoZSBub2RlIGhhcyBhIGB2YWx1ZWBcbiAqICAgKGFuZCBkb2VzbuKAmXQgaGF2ZSBgZGF0YS5oTmFtZWAsIGBkYXRhLmhQcm9wZXJ0aWVzYCwgb3IgYGRhdGEuaENoaWxkcmVuYCxcbiAqICAgc2VlIGxhdGVyKSxcbiAqICAgY3JlYXRlIGEgaGFzdCBgdGV4dGAgbm9kZVxuICogKiBvdGhlcndpc2UsXG4gKiAgIGNyZWF0ZSBhIGA8ZGl2PmAgZWxlbWVudCAod2hpY2ggY291bGQgYmUgY2hhbmdlZCB3aXRoIGBkYXRhLmhOYW1lYCksXG4gKiAgIHdpdGggaXRzIGNoaWxkcmVuIG1hcHBlZCBmcm9tIG1kYXN0IHRvIGhhc3QgYXMgd2VsbFxuICpcbiAqIFRoaXMgYmVoYXZpb3IgY2FuIGJlIGNoYW5nZWQgYnkgcGFzc2luZyBhbiBgdW5rbm93bkhhbmRsZXJgLlxuICpcbiAqIEBvdmVybG9hZFxuICogQHBhcmFtIHtQcm9jZXNzb3J9IHByb2Nlc3NvclxuICogQHBhcmFtIHtSZWFkb25seTxPcHRpb25zPiB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRpb25zXVxuICogQHJldHVybnMge1RyYW5zZm9ybUJyaWRnZX1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7UmVhZG9ubHk8T3B0aW9ucz4gfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHtUcmFuc2Zvcm1NdXRhdGV9XG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE9wdGlvbnM+IHwgUHJvY2Vzc29yIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2Rlc3RpbmF0aW9uXVxuICogQHBhcmFtIHtSZWFkb25seTxPcHRpb25zPiB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRpb25zXVxuICogQHJldHVybnMge1RyYW5zZm9ybUJyaWRnZSB8IFRyYW5zZm9ybU11dGF0ZX1cbiAqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PE9wdGlvbnM+IHwgUHJvY2Vzc29yIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2Rlc3RpbmF0aW9uXVxuICogICBQcm9jZXNzb3Igb3IgY29uZmlndXJhdGlvbiAob3B0aW9uYWwpLlxuICogQHBhcmFtIHtSZWFkb25seTxPcHRpb25zPiB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRpb25zXVxuICogICBXaGVuIGEgcHJvY2Vzc29yIHdhcyBnaXZlbixcbiAqICAgY29uZmlndXJhdGlvbiAob3B0aW9uYWwpLlxuICogQHJldHVybnMge1RyYW5zZm9ybUJyaWRnZSB8IFRyYW5zZm9ybU11dGF0ZX1cbiAqICAgVHJhbnNmb3JtLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZW1hcmtSZWh5cGUoZGVzdGluYXRpb24sIG9wdGlvbnMpIHtcbiAgaWYgKGRlc3RpbmF0aW9uICYmICdydW4nIGluIGRlc3RpbmF0aW9uKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge1RyYW5zZm9ybUJyaWRnZX1cbiAgICAgKi9cbiAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gKHRyZWUsIGZpbGUpIHtcbiAgICAgIC8vIENhc3QgYmVjYXVzZSByb290IGluIC0+IHJvb3Qgb3V0LlxuICAgICAgY29uc3QgaGFzdFRyZWUgPSAvKiogQHR5cGUge0hhc3RSb290fSAqLyAoXG4gICAgICAgIHRvSGFzdCh0cmVlLCB7ZmlsZSwgLi4ub3B0aW9uc30pXG4gICAgICApXG4gICAgICBhd2FpdCBkZXN0aW5hdGlvbi5ydW4oaGFzdFRyZWUsIGZpbGUpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtUcmFuc2Zvcm1NdXRhdGV9XG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gKHRyZWUsIGZpbGUpIHtcbiAgICAvLyBDYXN0IGJlY2F1c2Ugcm9vdCBpbiAtPiByb290IG91dC5cbiAgICAvLyBUbyBkbzogaW4gdGhlIGZ1dHVyZSwgZGlzYWxsb3cgYCB8fCBvcHRpb25zYCBmYWxsYmFjay5cbiAgICAvLyBXaXRoIGB1bmlmaWVkLWVuZ2luZWAsIGBkZXN0aW5hdGlvbmAgY2FuIGJlIGB1bmRlZmluZWRgIGJ1dFxuICAgIC8vIGBvcHRpb25zYCB3aWxsIGJlIHRoZSBmaWxlIHNldC5cbiAgICAvLyBXZSBzaG91bGQgbm90IHBhc3MgdGhhdCBhcyBgb3B0aW9uc2AuXG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7SGFzdFJvb3R9ICovIChcbiAgICAgIHRvSGFzdCh0cmVlLCB7ZmlsZSwgLi4uKGRlc3RpbmF0aW9uIHx8IG9wdGlvbnMpfSlcbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/remark-rehype/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unified/lib/callable-instance.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/unified/lib/callable-instance.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CallableInstance: () => (/* binding */ CallableInstance)\n/* harmony export */ });\nconst CallableInstance =\n  /**\n   * @type {new <Parameters extends Array<unknown>, Result>(property: string | symbol) => (...parameters: Parameters) => Result}\n   */\n  (\n    /** @type {unknown} */\n    (\n      /**\n       * @this {Function}\n       * @param {string | symbol} property\n       * @returns {(...parameters: Array<unknown>) => unknown}\n       */\n      function (property) {\n        const self = this\n        const constr = self.constructor\n        const proto = /** @type {Record<string | symbol, Function>} */ (\n          // Prototypes do exist.\n          // type-coverage:ignore-next-line\n          constr.prototype\n        )\n        const value = proto[property]\n        /** @type {(...parameters: Array<unknown>) => unknown} */\n        const apply = function () {\n          return value.apply(apply, arguments)\n        }\n\n        Object.setPrototypeOf(apply, proto)\n\n        // Not needed for us in `unified`: we only call this on the `copy`\n        // function,\n        // and we don't need to add its fields (`length`, `name`)\n        // over.\n        // See also: GH-246.\n        // const names = Object.getOwnPropertyNames(value)\n        //\n        // for (const p of names) {\n        //   const descriptor = Object.getOwnPropertyDescriptor(value, p)\n        //   if (descriptor) Object.defineProperty(apply, p, descriptor)\n        // }\n\n        return apply\n      }\n    )\n  )\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3VuaWZpZWQvbGliL2NhbGxhYmxlLWluc3RhbmNlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQixpQkFBaUIsaUJBQWlCO0FBQ2xDLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtQ0FBbUM7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw0Q0FBNEM7QUFDL0Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL25vZGVfbW9kdWxlcy91bmlmaWVkL2xpYi9jYWxsYWJsZS1pbnN0YW5jZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQ2FsbGFibGVJbnN0YW5jZSA9XG4gIC8qKlxuICAgKiBAdHlwZSB7bmV3IDxQYXJhbWV0ZXJzIGV4dGVuZHMgQXJyYXk8dW5rbm93bj4sIFJlc3VsdD4ocHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCkgPT4gKC4uLnBhcmFtZXRlcnM6IFBhcmFtZXRlcnMpID0+IFJlc3VsdH1cbiAgICovXG4gIChcbiAgICAvKiogQHR5cGUge3Vua25vd259ICovXG4gICAgKFxuICAgICAgLyoqXG4gICAgICAgKiBAdGhpcyB7RnVuY3Rpb259XG4gICAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHN5bWJvbH0gcHJvcGVydHlcbiAgICAgICAqIEByZXR1cm5zIHsoLi4ucGFyYW1ldGVyczogQXJyYXk8dW5rbm93bj4pID0+IHVua25vd259XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIChwcm9wZXJ0eSkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgICAgICBjb25zdCBjb25zdHIgPSBzZWxmLmNvbnN0cnVjdG9yXG4gICAgICAgIGNvbnN0IHByb3RvID0gLyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBGdW5jdGlvbj59ICovIChcbiAgICAgICAgICAvLyBQcm90b3R5cGVzIGRvIGV4aXN0LlxuICAgICAgICAgIC8vIHR5cGUtY292ZXJhZ2U6aWdub3JlLW5leHQtbGluZVxuICAgICAgICAgIGNvbnN0ci5wcm90b3R5cGVcbiAgICAgICAgKVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHByb3RvW3Byb3BlcnR5XVxuICAgICAgICAvKiogQHR5cGUgeyguLi5wYXJhbWV0ZXJzOiBBcnJheTx1bmtub3duPikgPT4gdW5rbm93bn0gKi9cbiAgICAgICAgY29uc3QgYXBwbHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLmFwcGx5KGFwcGx5LCBhcmd1bWVudHMpXG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoYXBwbHksIHByb3RvKVxuXG4gICAgICAgIC8vIE5vdCBuZWVkZWQgZm9yIHVzIGluIGB1bmlmaWVkYDogd2Ugb25seSBjYWxsIHRoaXMgb24gdGhlIGBjb3B5YFxuICAgICAgICAvLyBmdW5jdGlvbixcbiAgICAgICAgLy8gYW5kIHdlIGRvbid0IG5lZWQgdG8gYWRkIGl0cyBmaWVsZHMgKGBsZW5ndGhgLCBgbmFtZWApXG4gICAgICAgIC8vIG92ZXIuXG4gICAgICAgIC8vIFNlZSBhbHNvOiBHSC0yNDYuXG4gICAgICAgIC8vIGNvbnN0IG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGZvciAoY29uc3QgcCBvZiBuYW1lcykge1xuICAgICAgICAvLyAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBwKVxuICAgICAgICAvLyAgIGlmIChkZXNjcmlwdG9yKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoYXBwbHksIHAsIGRlc2NyaXB0b3IpXG4gICAgICAgIC8vIH1cblxuICAgICAgICByZXR1cm4gYXBwbHlcbiAgICAgIH1cbiAgICApXG4gIClcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unified/lib/callable-instance.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unified/lib/index.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/unified/lib/index.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Processor: () => (/* binding */ Processor),\n/* harmony export */   unified: () => (/* binding */ unified)\n/* harmony export */ });\n/* harmony import */ var bail__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bail */ \"(ssr)/./node_modules/bail/index.js\");\n/* harmony import */ var extend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! extend */ \"(ssr)/./node_modules/extend/index.js\");\n/* harmony import */ var devlop__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! devlop */ \"(ssr)/./node_modules/devlop/lib/development.js\");\n/* harmony import */ var is_plain_obj__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! is-plain-obj */ \"(ssr)/./node_modules/is-plain-obj/index.js\");\n/* harmony import */ var trough__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! trough */ \"(ssr)/./node_modules/trough/lib/index.js\");\n/* harmony import */ var vfile__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! vfile */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/index.js\");\n/* harmony import */ var _callable_instance_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./callable-instance.js */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unified/lib/callable-instance.js\");\n/**\n * @typedef {import('trough').Pipeline} Pipeline\n *\n * @typedef {import('unist').Node} Node\n *\n * @typedef {import('vfile').Compatible} Compatible\n * @typedef {import('vfile').Value} Value\n *\n * @typedef {import('../index.js').CompileResultMap} CompileResultMap\n * @typedef {import('../index.js').Data} Data\n * @typedef {import('../index.js').Settings} Settings\n */\n\n/**\n * @typedef {CompileResultMap[keyof CompileResultMap]} CompileResults\n *   Acceptable results from compilers.\n *\n *   To register custom results, add them to\n *   {@linkcode CompileResultMap}.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the compiler receives (default: `Node`).\n * @template {CompileResults} [Result=CompileResults]\n *   The thing that the compiler yields (default: `CompileResults`).\n * @callback Compiler\n *   A **compiler** handles the compiling of a syntax tree to something else\n *   (in most cases, text) (TypeScript type).\n *\n *   It is used in the stringify phase and called with a {@linkcode Node}\n *   and {@linkcode VFile} representation of the document to compile.\n *   It should return the textual representation of the given tree (typically\n *   `string`).\n *\n *   > **Note**: unified typically compiles by serializing: most compilers\n *   > return `string` (or `Uint8Array`).\n *   > Some compilers, such as the one configured with\n *   > [`rehype-react`][rehype-react], return other values (in this case, a\n *   > React tree).\n *   > If youre using a compiler that doesnt serialize, expect different\n *   > result values.\n *   >\n *   > To register custom results in TypeScript, add them to\n *   > {@linkcode CompileResultMap}.\n *\n *   [rehype-react]: https://github.com/rehypejs/rehype-react\n * @param {Tree} tree\n *   Tree to compile.\n * @param {VFile} file\n *   File associated with `tree`.\n * @returns {Result}\n *   New content: compiled text (`string` or `Uint8Array`, for `file.value`) or\n *   something else (for `file.result`).\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The node that the parser yields (default: `Node`)\n * @callback Parser\n *   A **parser** handles the parsing of text to a syntax tree.\n *\n *   It is used in the parse phase and is called with a `string` and\n *   {@linkcode VFile} of the document to parse.\n *   It must return the syntax tree representation of the given file\n *   ({@linkcode Node}).\n * @param {string} document\n *   Document to parse.\n * @param {VFile} file\n *   File associated with `document`.\n * @returns {Tree}\n *   Node representing the given file.\n */\n\n/**\n * @typedef {(\n *   Plugin<Array<any>, any, any> |\n *   PluginTuple<Array<any>, any, any> |\n *   Preset\n * )} Pluggable\n *   Union of the different ways to add plugins and settings.\n */\n\n/**\n * @typedef {Array<Pluggable>} PluggableList\n *   List of plugins and presets.\n */\n\n// Note: we cant use `callback` yet as it messes up `this`:\n//  <https://github.com/microsoft/TypeScript/issues/55197>.\n/**\n * @template {Array<unknown>} [PluginParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=Node]\n *   Value that is expected as input (default: `Node`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=Input]\n *   Value that is yielded as output (default: `Input`).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   (this: Processor, ...parameters: PluginParameters) =>\n *     Input extends string ? // Parser.\n *        Output extends Node | undefined ? undefined | void : never :\n *     Output extends CompileResults ? // Compiler.\n *        Input extends Node | undefined ? undefined | void : never :\n *     Transformer<\n *       Input extends Node ? Input : Node,\n *       Output extends Node ? Output : Node\n *     > | undefined | void\n * )} Plugin\n *   Single plugin.\n *\n *   Plugins configure the processors they are applied on in the following\n *   ways:\n *\n *   *   they change the processor, such as the parser, the compiler, or by\n *       configuring data\n *   *   they specify how to handle trees and files\n *\n *   In practice, they are functions that can receive options and configure the\n *   processor (`this`).\n *\n *   > **Note**: plugins are called when the processor is *frozen*, not when\n *   > they are applied.\n */\n\n/**\n * Tuple of a plugin and its configuration.\n *\n * The first item is a plugin, the rest are its parameters.\n *\n * @template {Array<unknown>} [TupleParameters=[]]\n *   Arguments passed to the plugin (default: `[]`, the empty tuple).\n * @template {Node | string | undefined} [Input=undefined]\n *   Value that is expected as input (optional).\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node it expects.\n *   *   If the plugin sets a {@linkcode Parser}, this should be\n *       `string`.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be the\n *       node it expects.\n * @template [Output=undefined] (optional).\n *   Value that is yielded as output.\n *\n *   *   If the plugin returns a {@linkcode Transformer}, this\n *       should be the node that that yields.\n *   *   If the plugin sets a {@linkcode Parser}, this should be the\n *       node that it yields.\n *   *   If the plugin sets a {@linkcode Compiler}, this should be\n *       result it yields.\n * @typedef {(\n *   [\n *     plugin: Plugin<TupleParameters, Input, Output>,\n *     ...parameters: TupleParameters\n *   ]\n * )} PluginTuple\n */\n\n/**\n * @typedef Preset\n *   Sharable configuration.\n *\n *   They can contain plugins and settings.\n * @property {PluggableList | undefined} [plugins]\n *   List of plugins and presets (optional).\n * @property {Settings | undefined} [settings]\n *   Shared settings for parsers and compilers (optional).\n */\n\n/**\n * @template {VFile} [File=VFile]\n *   The file that the callback receives (default: `VFile`).\n * @callback ProcessCallback\n *   Callback called when the process is done.\n *\n *   Called with either an error or a result.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {File | undefined} [file]\n *   Processed file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Tree=Node]\n *   The tree that the callback receives (default: `Node`).\n * @callback RunCallback\n *   Callback called when transformers are done.\n *\n *   Called with either an error or results.\n * @param {Error | undefined} [error]\n *   Fatal error (optional).\n * @param {Tree | undefined} [tree]\n *   Transformed tree (optional).\n * @param {VFile | undefined} [file]\n *   File (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Output=Node]\n *   Node type that the transformer yields (default: `Node`).\n * @callback TransformCallback\n *   Callback passed to transforms.\n *\n *   If the signature of a `transformer` accepts a third argument, the\n *   transformer may perform asynchronous operations, and must call it.\n * @param {Error | undefined} [error]\n *   Fatal error to stop the process (optional).\n * @param {Output | undefined} [tree]\n *   New, changed, tree (optional).\n * @param {VFile | undefined} [file]\n *   New, changed, file (optional).\n * @returns {undefined}\n *   Nothing.\n */\n\n/**\n * @template {Node} [Input=Node]\n *   Node type that the transformer expects (default: `Node`).\n * @template {Node} [Output=Input]\n *   Node type that the transformer yields (default: `Input`).\n * @callback Transformer\n *   Transformers handle syntax trees and files.\n *\n *   They are functions that are called each time a syntax tree and file are\n *   passed through the run phase.\n *   When an error occurs in them (either because its thrown, returned,\n *   rejected, or passed to `next`), the process stops.\n *\n *   The run phase is handled by [`trough`][trough], see its documentation for\n *   the exact semantics of these functions.\n *\n *   > **Note**: you should likely ignore `next`: dont accept it.\n *   > it supports callback-style async work.\n *   > But promises are likely easier to reason about.\n *\n *   [trough]: https://github.com/wooorm/trough#function-fninput-next\n * @param {Input} tree\n *   Tree to handle.\n * @param {VFile} file\n *   File to handle.\n * @param {TransformCallback<Output>} next\n *   Callback.\n * @returns {(\n *   Promise<Output | undefined | void> |\n *   Promise<never> | // For some reason this is needed separately.\n *   Output |\n *   Error |\n *   undefined |\n *   void\n * )}\n *   If you accept `next`, nothing.\n *   Otherwise:\n *\n *   *   `Error`  fatal error to stop the process\n *   *   `Promise<undefined>` or `undefined`  the next transformer keeps using\n *       same tree\n *   *   `Promise<Node>` or `Node`  new, changed, tree\n */\n\n/**\n * @template {Node | undefined} ParseTree\n *   Output of `parse`.\n * @template {Node | undefined} HeadTree\n *   Input for `run`.\n * @template {Node | undefined} TailTree\n *   Output for `run`.\n * @template {Node | undefined} CompileTree\n *   Input of `stringify`.\n * @template {CompileResults | undefined} CompileResult\n *   Output of `stringify`.\n * @template {Node | string | undefined} Input\n *   Input of plugin.\n * @template Output\n *   Output of plugin (optional).\n * @typedef {(\n *   Input extends string\n *     ? Output extends Node | undefined\n *       ? // Parser.\n *         Processor<\n *           Output extends undefined ? ParseTree : Output,\n *           HeadTree,\n *           TailTree,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Output extends CompileResults\n *     ? Input extends Node | undefined\n *       ? // Compiler.\n *         Processor<\n *           ParseTree,\n *           HeadTree,\n *           TailTree,\n *           Input extends undefined ? CompileTree : Input,\n *           Output extends undefined ? CompileResult : Output\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : Input extends Node | undefined\n *     ? Output extends Node | undefined\n *       ? // Transform.\n *         Processor<\n *           ParseTree,\n *           HeadTree extends undefined ? Input : HeadTree,\n *           Output extends undefined ? TailTree : Output,\n *           CompileTree,\n *           CompileResult\n *         >\n *       : // Unknown.\n *         Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n *     : // Unknown.\n *       Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>\n * )} UsePlugin\n *   Create a processor based on the input/output of a {@link Plugin plugin}.\n */\n\n/**\n * @template {CompileResults | undefined} Result\n *   Node type that the transformer yields.\n * @typedef {(\n *   Result extends Value | undefined ?\n *     VFile :\n *     VFile & {result: Result}\n *   )} VFileWithOutput\n *   Type to generate a {@linkcode VFile} corresponding to a compiler result.\n *\n *   If a result that is not acceptable on a `VFile` is used, that will\n *   be stored on the `result` field of {@linkcode VFile}.\n */\n\n\n\n\n\n\n\n\n\n// To do: next major: drop `Compiler`, `Parser`: prefer lowercase.\n\n// To do: we could start yielding `never` in TS when a parser is missing and\n// `parse` is called.\n// Currently, we allow directly setting `processor.parser`, which is untyped.\n\nconst own = {}.hasOwnProperty\n\n/**\n * @template {Node | undefined} [ParseTree=undefined]\n *   Output of `parse` (optional).\n * @template {Node | undefined} [HeadTree=undefined]\n *   Input for `run` (optional).\n * @template {Node | undefined} [TailTree=undefined]\n *   Output for `run` (optional).\n * @template {Node | undefined} [CompileTree=undefined]\n *   Input of `stringify` (optional).\n * @template {CompileResults | undefined} [CompileResult=undefined]\n *   Output of `stringify` (optional).\n * @extends {CallableInstance<[], Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>>}\n */\nclass Processor extends _callable_instance_js__WEBPACK_IMPORTED_MODULE_2__.CallableInstance {\n  /**\n   * Create a processor.\n   */\n  constructor() {\n    // If `Processor()` is called (w/o new), `copy` is called instead.\n    super('copy')\n\n    /**\n     * Compiler to use (deprecated).\n     *\n     * @deprecated\n     *   Use `compiler` instead.\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.Compiler = undefined\n\n    /**\n     * Parser to use (deprecated).\n     *\n     * @deprecated\n     *   Use `parser` instead.\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.Parser = undefined\n\n    // Note: the following fields are considered private.\n    // However, they are needed for tests, and TSC generates an untyped\n    // `private freezeIndex` field for, which trips `type-coverage` up.\n    // Instead, we use `@deprecated` to visualize that they shouldnt be used.\n    /**\n     * Internal list of configured plugins.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Array<PluginTuple<Array<unknown>>>}\n     */\n    this.attachers = []\n\n    /**\n     * Compiler to use.\n     *\n     * @type {(\n     *   Compiler<\n     *     CompileTree extends undefined ? Node : CompileTree,\n     *     CompileResult extends undefined ? CompileResults : CompileResult\n     *   > |\n     *   undefined\n     * )}\n     */\n    this.compiler = undefined\n\n    /**\n     * Internal state to track where we are while freezing.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {number}\n     */\n    this.freezeIndex = -1\n\n    /**\n     * Internal state to track whether were frozen.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {boolean | undefined}\n     */\n    this.frozen = undefined\n\n    /**\n     * Internal state.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Data}\n     */\n    this.namespace = {}\n\n    /**\n     * Parser to use.\n     *\n     * @type {(\n     *   Parser<ParseTree extends undefined ? Node : ParseTree> |\n     *   undefined\n     * )}\n     */\n    this.parser = undefined\n\n    /**\n     * Internal list of configured transformers.\n     *\n     * @deprecated\n     *   This is a private internal property and should not be used.\n     * @type {Pipeline}\n     */\n    this.transformers = (0,trough__WEBPACK_IMPORTED_MODULE_3__.trough)()\n  }\n\n  /**\n   * Copy a processor.\n   *\n   * @deprecated\n   *   This is a private internal method and should not be used.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   New *unfrozen* processor ({@linkcode Processor}) that is\n   *   configured to work the same as its ancestor.\n   *   When the descendant processor is configured in the future it does not\n   *   affect the ancestral processor.\n   */\n  copy() {\n    // Cast as the type parameters will be the same after attaching.\n    const destination =\n      /** @type {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>} */ (\n        new Processor()\n      )\n    let index = -1\n\n    while (++index < this.attachers.length) {\n      const attacher = this.attachers[index]\n      destination.use(...attacher)\n    }\n\n    destination.data(extend__WEBPACK_IMPORTED_MODULE_0__(true, {}, this.namespace))\n\n    return destination\n  }\n\n  /**\n   * Configure the processor with info available to all plugins.\n   * Information is stored in an object.\n   *\n   * Typically, options can be given to a specific plugin, but sometimes it\n   * makes sense to have information shared with several plugins.\n   * For example, a list of HTML elements that are self-closing, which is\n   * needed during all phases.\n   *\n   * > **Note**: setting information cannot occur on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * > **Note**: to register custom data in TypeScript, augment the\n   * > {@linkcode Data} interface.\n   *\n   * @example\n   *   This example show how to get and set info:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   const processor = unified().data('alpha', 'bravo')\n   *\n   *   processor.data('alpha') // => 'bravo'\n   *\n   *   processor.data() // => {alpha: 'bravo'}\n   *\n   *   processor.data({charlie: 'delta'})\n   *\n   *   processor.data() // => {charlie: 'delta'}\n   *   ```\n   *\n   * @template {keyof Data} Key\n   *\n   * @overload\n   * @returns {Data}\n   *\n   * @overload\n   * @param {Data} dataset\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Key} key\n   * @returns {Data[Key]}\n   *\n   * @overload\n   * @param {Key} key\n   * @param {Data[Key]} value\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @param {Data | Key} [key]\n   *   Key to get or set, or entire dataset to set, or nothing to get the\n   *   entire dataset (optional).\n   * @param {Data[Key]} [value]\n   *   Value to set (optional).\n   * @returns {unknown}\n   *   The current processor when setting, the value at `key` when getting, or\n   *   the entire dataset when getting without key.\n   */\n  data(key, value) {\n    if (typeof key === 'string') {\n      // Set `key`.\n      if (arguments.length === 2) {\n        assertUnfrozen('data', this.frozen)\n        this.namespace[key] = value\n        return this\n      }\n\n      // Get `key`.\n      return (own.call(this.namespace, key) && this.namespace[key]) || undefined\n    }\n\n    // Set space.\n    if (key) {\n      assertUnfrozen('data', this.frozen)\n      this.namespace = key\n      return this\n    }\n\n    // Get space.\n    return this.namespace\n  }\n\n  /**\n   * Freeze a processor.\n   *\n   * Frozen processors are meant to be extended and not to be configured\n   * directly.\n   *\n   * When a processor is frozen it cannot be unfrozen.\n   * New processors working the same way can be created by calling the\n   * processor.\n   *\n   * Its possible to freeze processors explicitly by calling `.freeze()`.\n   * Processors freeze automatically when `.parse()`, `.run()`, `.runSync()`,\n   * `.stringify()`, `.process()`, or `.processSync()` are called.\n   *\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   The current processor.\n   */\n  freeze() {\n    if (this.frozen) {\n      return this\n    }\n\n    // Cast so that we can type plugins easier.\n    // Plugins are supposed to be usable on different processors, not just on\n    // this exact processor.\n    const self = /** @type {Processor} */ (/** @type {unknown} */ (this))\n\n    while (++this.freezeIndex < this.attachers.length) {\n      const [attacher, ...options] = this.attachers[this.freezeIndex]\n\n      if (options[0] === false) {\n        continue\n      }\n\n      if (options[0] === true) {\n        options[0] = undefined\n      }\n\n      const transformer = attacher.call(self, ...options)\n\n      if (typeof transformer === 'function') {\n        this.transformers.use(transformer)\n      }\n    }\n\n    this.frozen = true\n    this.freezeIndex = Number.POSITIVE_INFINITY\n\n    return this\n  }\n\n  /**\n   * Parse text to a syntax tree.\n   *\n   * > **Note**: `parse` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `parse` performs the parse phase, not the run phase or other\n   * > phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   file to parse (optional); typically `string` or `VFile`; any value\n   *   accepted as `x` in `new VFile(x)`.\n   * @returns {ParseTree extends undefined ? Node : ParseTree}\n   *   Syntax tree representing `file`.\n   */\n  parse(file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const parser = this.parser || this.Parser\n    assertParser('parse', parser)\n    return parser(String(realFile), realFile)\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * > **Note**: `process` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `process` performs the parse, run, and stringify phases.\n   *\n   * @overload\n   * @param {Compatible | undefined} file\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<VFileWithOutput<CompileResult>>}\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`]; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @param {ProcessCallback<VFileWithOutput<CompileResult>> | undefined} [done]\n   *   Callback (optional).\n   * @returns {Promise<VFile> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise a promise, rejected with a fatal error or resolved with the\n   *   processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  process(file, done) {\n    const self = this\n\n    this.freeze()\n    assertParser('process', this.parser || this.Parser)\n    assertCompiler('process', this.compiler || this.Compiler)\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {((file: VFileWithOutput<CompileResult>) => undefined | void) | undefined} resolve\n     * @param {(error: Error | undefined) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      const realFile = vfile(file)\n      // Assume `ParseTree` (the result of the parser) matches `HeadTree` (the\n      // input of the first transform).\n      const parseTree =\n        /** @type {HeadTree extends undefined ? Node : HeadTree} */ (\n          /** @type {unknown} */ (self.parse(realFile))\n        )\n\n      self.run(parseTree, realFile, function (error, tree, file) {\n        if (error || !tree || !file) {\n          return realDone(error)\n        }\n\n        // Assume `TailTree` (the output of the last transform) matches\n        // `CompileTree` (the input of the compiler).\n        const compileTree =\n          /** @type {CompileTree extends undefined ? Node : CompileTree} */ (\n            /** @type {unknown} */ (tree)\n          )\n\n        const compileResult = self.stringify(compileTree, file)\n\n        if (looksLikeAValue(compileResult)) {\n          file.value = compileResult\n        } else {\n          file.result = compileResult\n        }\n\n        realDone(error, /** @type {VFileWithOutput<CompileResult>} */ (file))\n      })\n\n      /**\n       * @param {Error | undefined} error\n       * @param {VFileWithOutput<CompileResult> | undefined} [file]\n       * @returns {undefined}\n       */\n      function realDone(error, file) {\n        if (error || !file) {\n          reject(error)\n        } else if (resolve) {\n          resolve(file)\n        } else {\n          (0,devlop__WEBPACK_IMPORTED_MODULE_4__.ok)(done, '`done` is defined if `resolve` is not')\n          done(undefined, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Process the given file as configured on the processor.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `processSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `processSync` performs the parse, run, and stringify phases.\n   *\n   * @param {Compatible | undefined} [file]\n   *   File (optional); typically `string` or `VFile`; any value accepted as\n   *   `x` in `new VFile(x)`.\n   * @returns {VFileWithOutput<CompileResult>}\n   *   The processed file.\n   *\n   *   The parsed, transformed, and compiled value is available at\n   *   `file.value` (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most\n   *   > compilers return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  processSync(file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {VFileWithOutput<CompileResult> | undefined} */\n    let result\n\n    this.freeze()\n    assertParser('processSync', this.parser || this.Parser)\n    assertCompiler('processSync', this.compiler || this.Compiler)\n\n    this.process(file, realDone)\n    assertDone('processSync', 'process', complete)\n    ;(0,devlop__WEBPACK_IMPORTED_MODULE_4__.ok)(result, 'we either bailed on an error or have a tree')\n\n    return result\n\n    /**\n     * @type {ProcessCallback<VFileWithOutput<CompileResult>>}\n     */\n    function realDone(error, file) {\n      complete = true\n      ;(0,bail__WEBPACK_IMPORTED_MODULE_5__.bail)(error)\n      result = file\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * > **Note**: `run` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `run` performs the run phase, not other phases.\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} file\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} done\n   * @returns {undefined}\n   *\n   * @overload\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   * @param {Compatible | undefined} [file]\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree>}\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {(\n   *   RunCallback<TailTree extends undefined ? Node : TailTree> |\n   *   Compatible\n   * )} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @param {RunCallback<TailTree extends undefined ? Node : TailTree>} [done]\n   *   Callback (optional).\n   * @returns {Promise<TailTree extends undefined ? Node : TailTree> | undefined}\n   *   Nothing if `done` is given.\n   *   Otherwise, a promise rejected with a fatal error or resolved with the\n   *   transformed tree.\n   */\n  run(tree, file, done) {\n    assertNode(tree)\n    this.freeze()\n\n    const transformers = this.transformers\n\n    if (!done && typeof file === 'function') {\n      done = file\n      file = undefined\n    }\n\n    return done ? executor(undefined, done) : new Promise(executor)\n\n    // Note: `void`s needed for TS.\n    /**\n     * @param {(\n     *   ((tree: TailTree extends undefined ? Node : TailTree) => undefined | void) |\n     *   undefined\n     * )} resolve\n     * @param {(error: Error) => undefined | void} reject\n     * @returns {undefined}\n     */\n    function executor(resolve, reject) {\n      ;(0,devlop__WEBPACK_IMPORTED_MODULE_4__.ok)(\n        typeof file !== 'function',\n        '`file` cant be a `done` anymore, we checked'\n      )\n      const realFile = vfile(file)\n      transformers.run(tree, realFile, realDone)\n\n      /**\n       * @param {Error | undefined} error\n       * @param {Node} outputTree\n       * @param {VFile} file\n       * @returns {undefined}\n       */\n      function realDone(error, outputTree, file) {\n        const resultingTree =\n          /** @type {TailTree extends undefined ? Node : TailTree} */ (\n            outputTree || tree\n          )\n\n        if (error) {\n          reject(error)\n        } else if (resolve) {\n          resolve(resultingTree)\n        } else {\n          (0,devlop__WEBPACK_IMPORTED_MODULE_4__.ok)(done, '`done` is defined if `resolve` is not')\n          done(undefined, resultingTree, file)\n        }\n      }\n    }\n  }\n\n  /**\n   * Run *transformers* on a syntax tree.\n   *\n   * An error is thrown if asynchronous transforms are configured.\n   *\n   * > **Note**: `runSync` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `runSync` performs the run phase, not other phases.\n   *\n   * @param {HeadTree extends undefined ? Node : HeadTree} tree\n   *   Tree to transform and inspect.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {TailTree extends undefined ? Node : TailTree}\n   *   Transformed tree.\n   */\n  runSync(tree, file) {\n    /** @type {boolean} */\n    let complete = false\n    /** @type {(TailTree extends undefined ? Node : TailTree) | undefined} */\n    let result\n\n    this.run(tree, file, realDone)\n\n    assertDone('runSync', 'run', complete)\n    ;(0,devlop__WEBPACK_IMPORTED_MODULE_4__.ok)(result, 'we either bailed on an error or have a tree')\n    return result\n\n    /**\n     * @type {RunCallback<TailTree extends undefined ? Node : TailTree>}\n     */\n    function realDone(error, tree) {\n      ;(0,bail__WEBPACK_IMPORTED_MODULE_5__.bail)(error)\n      result = tree\n      complete = true\n    }\n  }\n\n  /**\n   * Compile a syntax tree.\n   *\n   * > **Note**: `stringify` freezes the processor if not already *frozen*.\n   *\n   * > **Note**: `stringify` performs the stringify phase, not the run phase\n   * > or other phases.\n   *\n   * @param {CompileTree extends undefined ? Node : CompileTree} tree\n   *   Tree to compile.\n   * @param {Compatible | undefined} [file]\n   *   File associated with `node` (optional); any value accepted as `x` in\n   *   `new VFile(x)`.\n   * @returns {CompileResult extends undefined ? Value : CompileResult}\n   *   Textual representation of the tree (see note).\n   *\n   *   > **Note**: unified typically compiles by serializing: most compilers\n   *   > return `string` (or `Uint8Array`).\n   *   > Some compilers, such as the one configured with\n   *   > [`rehype-react`][rehype-react], return other values (in this case, a\n   *   > React tree).\n   *   > If youre using a compiler that doesnt serialize, expect different\n   *   > result values.\n   *   >\n   *   > To register custom results in TypeScript, add them to\n   *   > {@linkcode CompileResultMap}.\n   *\n   *   [rehype-react]: https://github.com/rehypejs/rehype-react\n   */\n  stringify(tree, file) {\n    this.freeze()\n    const realFile = vfile(file)\n    const compiler = this.compiler || this.Compiler\n    assertCompiler('stringify', compiler)\n    assertNode(tree)\n\n    return compiler(tree, realFile)\n  }\n\n  /**\n   * Configure the processor to use a plugin, a list of usable values, or a\n   * preset.\n   *\n   * If the processor is already using a plugin, the previous plugin\n   * configuration is changed based on the options that are passed in.\n   * In other words, the plugin is not added a second time.\n   *\n   * > **Note**: `use` cannot be called on *frozen* processors.\n   * > Call the processor first to create a new unfrozen processor.\n   *\n   * @example\n   *   There are many ways to pass plugins to `.use()`.\n   *   This example gives an overview:\n   *\n   *   ```js\n   *   import {unified} from 'unified'\n   *\n   *   unified()\n   *     // Plugin with options:\n   *     .use(pluginA, {x: true, y: true})\n   *     // Passing the same plugin again merges configuration (to `{x: true, y: false, z: true}`):\n   *     .use(pluginA, {y: false, z: true})\n   *     // Plugins:\n   *     .use([pluginB, pluginC])\n   *     // Two plugins, the second with options:\n   *     .use([pluginD, [pluginE, {}]])\n   *     // Preset with plugins and settings:\n   *     .use({plugins: [pluginF, [pluginG, {}]], settings: {position: false}})\n   *     // Settings only:\n   *     .use({settings: {position: false}})\n   *   ```\n   *\n   * @template {Array<unknown>} [Parameters=[]]\n   * @template {Node | string | undefined} [Input=undefined]\n   * @template [Output=Input]\n   *\n   * @overload\n   * @param {Preset | null | undefined} [preset]\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {PluggableList} list\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *\n   * @overload\n   * @param {Plugin<Parameters, Input, Output>} plugin\n   * @param {...(Parameters | [boolean])} parameters\n   * @returns {UsePlugin<ParseTree, HeadTree, TailTree, CompileTree, CompileResult, Input, Output>}\n   *\n   * @param {PluggableList | Plugin | Preset | null | undefined} value\n   *   Usable value.\n   * @param {...unknown} parameters\n   *   Parameters, when a plugin is given as a usable value.\n   * @returns {Processor<ParseTree, HeadTree, TailTree, CompileTree, CompileResult>}\n   *   Current processor.\n   */\n  use(value, ...parameters) {\n    const attachers = this.attachers\n    const namespace = this.namespace\n\n    assertUnfrozen('use', this.frozen)\n\n    if (value === null || value === undefined) {\n      // Empty.\n    } else if (typeof value === 'function') {\n      addPlugin(value, parameters)\n    } else if (typeof value === 'object') {\n      if (Array.isArray(value)) {\n        addList(value)\n      } else {\n        addPreset(value)\n      }\n    } else {\n      throw new TypeError('Expected usable value, not `' + value + '`')\n    }\n\n    return this\n\n    /**\n     * @param {Pluggable} value\n     * @returns {undefined}\n     */\n    function add(value) {\n      if (typeof value === 'function') {\n        addPlugin(value, [])\n      } else if (typeof value === 'object') {\n        if (Array.isArray(value)) {\n          const [plugin, ...parameters] =\n            /** @type {PluginTuple<Array<unknown>>} */ (value)\n          addPlugin(plugin, parameters)\n        } else {\n          addPreset(value)\n        }\n      } else {\n        throw new TypeError('Expected usable value, not `' + value + '`')\n      }\n    }\n\n    /**\n     * @param {Preset} result\n     * @returns {undefined}\n     */\n    function addPreset(result) {\n      if (!('plugins' in result) && !('settings' in result)) {\n        throw new Error(\n          'Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither'\n        )\n      }\n\n      addList(result.plugins)\n\n      if (result.settings) {\n        namespace.settings = extend__WEBPACK_IMPORTED_MODULE_0__(true, namespace.settings, result.settings)\n      }\n    }\n\n    /**\n     * @param {PluggableList | null | undefined} plugins\n     * @returns {undefined}\n     */\n    function addList(plugins) {\n      let index = -1\n\n      if (plugins === null || plugins === undefined) {\n        // Empty.\n      } else if (Array.isArray(plugins)) {\n        while (++index < plugins.length) {\n          const thing = plugins[index]\n          add(thing)\n        }\n      } else {\n        throw new TypeError('Expected a list of plugins, not `' + plugins + '`')\n      }\n    }\n\n    /**\n     * @param {Plugin} plugin\n     * @param {Array<unknown>} parameters\n     * @returns {undefined}\n     */\n    function addPlugin(plugin, parameters) {\n      let index = -1\n      let entryIndex = -1\n\n      while (++index < attachers.length) {\n        if (attachers[index][0] === plugin) {\n          entryIndex = index\n          break\n        }\n      }\n\n      if (entryIndex === -1) {\n        attachers.push([plugin, ...parameters])\n      }\n      // Only set if there was at least a `primary` value, otherwise wed change\n      // `arguments.length`.\n      else if (parameters.length > 0) {\n        let [primary, ...rest] = parameters\n        const currentPrimary = attachers[entryIndex][1]\n        if ((0,is_plain_obj__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(currentPrimary) && (0,is_plain_obj__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(primary)) {\n          primary = extend__WEBPACK_IMPORTED_MODULE_0__(true, currentPrimary, primary)\n        }\n\n        attachers[entryIndex] = [plugin, primary, ...rest]\n      }\n    }\n  }\n}\n\n// Note: this returns a *callable* instance.\n// Thats why its documented as a function.\n/**\n * Create a new processor.\n *\n * @example\n *   This example shows how a new processor can be created (from `remark`) and linked\n *   to **stdin**(4) and **stdout**(4).\n *\n *   ```js\n *   import process from 'node:process'\n *   import concatStream from 'concat-stream'\n *   import {remark} from 'remark'\n *\n *   process.stdin.pipe(\n *     concatStream(function (buf) {\n *       process.stdout.write(String(remark().processSync(buf)))\n *     })\n *   )\n *   ```\n *\n * @returns\n *   New *unfrozen* processor (`processor`).\n *\n *   This processor is configured to work the same as its ancestor.\n *   When the descendant processor is configured in the future it does not\n *   affect the ancestral processor.\n */\nconst unified = new Processor().freeze()\n\n/**\n * Assert a parser is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Parser}\n */\nfunction assertParser(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `parser`')\n  }\n}\n\n/**\n * Assert a compiler is available.\n *\n * @param {string} name\n * @param {unknown} value\n * @returns {asserts value is Compiler}\n */\nfunction assertCompiler(name, value) {\n  if (typeof value !== 'function') {\n    throw new TypeError('Cannot `' + name + '` without `compiler`')\n  }\n}\n\n/**\n * Assert the processor is not frozen.\n *\n * @param {string} name\n * @param {unknown} frozen\n * @returns {asserts frozen is false}\n */\nfunction assertUnfrozen(name, frozen) {\n  if (frozen) {\n    throw new Error(\n      'Cannot call `' +\n        name +\n        '` on a frozen processor.\\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.'\n    )\n  }\n}\n\n/**\n * Assert `node` is a unist node.\n *\n * @param {unknown} node\n * @returns {asserts node is Node}\n */\nfunction assertNode(node) {\n  // `isPlainObj` unfortunately uses `any` instead of `unknown`.\n  // type-coverage:ignore-next-line\n  if (!(0,is_plain_obj__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(node) || typeof node.type !== 'string') {\n    throw new TypeError('Expected node, got `' + node + '`')\n    // Fine.\n  }\n}\n\n/**\n * Assert that `complete` is `true`.\n *\n * @param {string} name\n * @param {string} asyncName\n * @param {unknown} complete\n * @returns {asserts complete is true}\n */\nfunction assertDone(name, asyncName, complete) {\n  if (!complete) {\n    throw new Error(\n      '`' + name + '` finished async. Use `' + asyncName + '` instead'\n    )\n  }\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {VFile}\n */\nfunction vfile(value) {\n  return looksLikeAVFile(value) ? value : new vfile__WEBPACK_IMPORTED_MODULE_6__.VFile(value)\n}\n\n/**\n * @param {Compatible | undefined} [value]\n * @returns {value is VFile}\n */\nfunction looksLikeAVFile(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'message' in value &&\n      'messages' in value\n  )\n}\n\n/**\n * @param {unknown} [value]\n * @returns {value is Value}\n */\nfunction looksLikeAValue(value) {\n  return typeof value === 'string' || isUint8Array(value)\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3VuaWZpZWQvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQztBQUNBLGFBQWEsNEJBQTRCO0FBQ3pDLGFBQWEsdUJBQXVCO0FBQ3BDO0FBQ0EsYUFBYSx3Q0FBd0M7QUFDckQsYUFBYSw0QkFBNEI7QUFDekMsYUFBYSxnQ0FBZ0M7QUFDN0M7O0FBRUE7QUFDQSxhQUFhLDBDQUEwQztBQUN2RDtBQUNBO0FBQ0E7QUFDQSxNQUFNLDJCQUEyQjtBQUNqQzs7QUFFQTtBQUNBLGNBQWMsTUFBTTtBQUNwQjtBQUNBLGNBQWMsZ0JBQWdCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQsVUFBVSxpQkFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSwyQkFBMkI7QUFDbkM7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUJBQWlCO0FBQ3ZCO0FBQ0EsT0FBTyxlQUFlO0FBQ3RCLFdBQVcsUUFBUTtBQUNuQjtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGdCQUFnQjtBQUM5QjtBQUNBLGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0E7QUFDQSxrQ0FB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YUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9yZWFjdC11aS9ub2RlX21vZHVsZXMvdW5pZmllZC9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCd0cm91Z2gnKS5QaXBlbGluZX0gUGlwZWxpbmVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCd1bmlzdCcpLk5vZGV9IE5vZGVcbiAqXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCd2ZmlsZScpLkNvbXBhdGlibGV9IENvbXBhdGlibGVcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ3ZmaWxlJykuVmFsdWV9IFZhbHVlXG4gKlxuICogQHR5cGVkZWYge2ltcG9ydCgnLi4vaW5kZXguanMnKS5Db21waWxlUmVzdWx0TWFwfSBDb21waWxlUmVzdWx0TWFwXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCcuLi9pbmRleC5qcycpLkRhdGF9IERhdGFcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJy4uL2luZGV4LmpzJykuU2V0dGluZ3N9IFNldHRpbmdzXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7Q29tcGlsZVJlc3VsdE1hcFtrZXlvZiBDb21waWxlUmVzdWx0TWFwXX0gQ29tcGlsZVJlc3VsdHNcbiAqICAgQWNjZXB0YWJsZSByZXN1bHRzIGZyb20gY29tcGlsZXJzLlxuICpcbiAqICAgVG8gcmVnaXN0ZXIgY3VzdG9tIHJlc3VsdHMsIGFkZCB0aGVtIHRvXG4gKiAgIHtAbGlua2NvZGUgQ29tcGlsZVJlc3VsdE1hcH0uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IFtUcmVlPU5vZGVdXG4gKiAgIFRoZSBub2RlIHRoYXQgdGhlIGNvbXBpbGVyIHJlY2VpdmVzIChkZWZhdWx0OiBgTm9kZWApLlxuICogQHRlbXBsYXRlIHtDb21waWxlUmVzdWx0c30gW1Jlc3VsdD1Db21waWxlUmVzdWx0c11cbiAqICAgVGhlIHRoaW5nIHRoYXQgdGhlIGNvbXBpbGVyIHlpZWxkcyAoZGVmYXVsdDogYENvbXBpbGVSZXN1bHRzYCkuXG4gKiBAY2FsbGJhY2sgQ29tcGlsZXJcbiAqICAgQSAqKmNvbXBpbGVyKiogaGFuZGxlcyB0aGUgY29tcGlsaW5nIG9mIGEgc3ludGF4IHRyZWUgdG8gc29tZXRoaW5nIGVsc2VcbiAqICAgKGluIG1vc3QgY2FzZXMsIHRleHQpIChUeXBlU2NyaXB0IHR5cGUpLlxuICpcbiAqICAgSXQgaXMgdXNlZCBpbiB0aGUgc3RyaW5naWZ5IHBoYXNlIGFuZCBjYWxsZWQgd2l0aCBhIHtAbGlua2NvZGUgTm9kZX1cbiAqICAgYW5kIHtAbGlua2NvZGUgVkZpbGV9IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBkb2N1bWVudCB0byBjb21waWxlLlxuICogICBJdCBzaG91bGQgcmV0dXJuIHRoZSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiB0cmVlICh0eXBpY2FsbHlcbiAqICAgYHN0cmluZ2ApLlxuICpcbiAqICAgPiAqKk5vdGUqKjogdW5pZmllZCB0eXBpY2FsbHkgY29tcGlsZXMgYnkgc2VyaWFsaXppbmc6IG1vc3QgY29tcGlsZXJzXG4gKiAgID4gcmV0dXJuIGBzdHJpbmdgIChvciBgVWludDhBcnJheWApLlxuICogICA+IFNvbWUgY29tcGlsZXJzLCBzdWNoIGFzIHRoZSBvbmUgY29uZmlndXJlZCB3aXRoXG4gKiAgID4gW2ByZWh5cGUtcmVhY3RgXVtyZWh5cGUtcmVhY3RdLCByZXR1cm4gb3RoZXIgdmFsdWVzIChpbiB0aGlzIGNhc2UsIGFcbiAqICAgPiBSZWFjdCB0cmVlKS5cbiAqICAgPiBJZiB5b3XigJlyZSB1c2luZyBhIGNvbXBpbGVyIHRoYXQgZG9lc27igJl0IHNlcmlhbGl6ZSwgZXhwZWN0IGRpZmZlcmVudFxuICogICA+IHJlc3VsdCB2YWx1ZXMuXG4gKiAgID5cbiAqICAgPiBUbyByZWdpc3RlciBjdXN0b20gcmVzdWx0cyBpbiBUeXBlU2NyaXB0LCBhZGQgdGhlbSB0b1xuICogICA+IHtAbGlua2NvZGUgQ29tcGlsZVJlc3VsdE1hcH0uXG4gKlxuICogICBbcmVoeXBlLXJlYWN0XTogaHR0cHM6Ly9naXRodWIuY29tL3JlaHlwZWpzL3JlaHlwZS1yZWFjdFxuICogQHBhcmFtIHtUcmVlfSB0cmVlXG4gKiAgIFRyZWUgdG8gY29tcGlsZS5cbiAqIEBwYXJhbSB7VkZpbGV9IGZpbGVcbiAqICAgRmlsZSBhc3NvY2lhdGVkIHdpdGggYHRyZWVgLlxuICogQHJldHVybnMge1Jlc3VsdH1cbiAqICAgTmV3IGNvbnRlbnQ6IGNvbXBpbGVkIHRleHQgKGBzdHJpbmdgIG9yIGBVaW50OEFycmF5YCwgZm9yIGBmaWxlLnZhbHVlYCkgb3JcbiAqICAgc29tZXRoaW5nIGVsc2UgKGZvciBgZmlsZS5yZXN1bHRgKS5cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gW1RyZWU9Tm9kZV1cbiAqICAgVGhlIG5vZGUgdGhhdCB0aGUgcGFyc2VyIHlpZWxkcyAoZGVmYXVsdDogYE5vZGVgKVxuICogQGNhbGxiYWNrIFBhcnNlclxuICogICBBICoqcGFyc2VyKiogaGFuZGxlcyB0aGUgcGFyc2luZyBvZiB0ZXh0IHRvIGEgc3ludGF4IHRyZWUuXG4gKlxuICogICBJdCBpcyB1c2VkIGluIHRoZSBwYXJzZSBwaGFzZSBhbmQgaXMgY2FsbGVkIHdpdGggYSBgc3RyaW5nYCBhbmRcbiAqICAge0BsaW5rY29kZSBWRmlsZX0gb2YgdGhlIGRvY3VtZW50IHRvIHBhcnNlLlxuICogICBJdCBtdXN0IHJldHVybiB0aGUgc3ludGF4IHRyZWUgcmVwcmVzZW50YXRpb24gb2YgdGhlIGdpdmVuIGZpbGVcbiAqICAgKHtAbGlua2NvZGUgTm9kZX0pLlxuICogQHBhcmFtIHtzdHJpbmd9IGRvY3VtZW50XG4gKiAgIERvY3VtZW50IHRvIHBhcnNlLlxuICogQHBhcmFtIHtWRmlsZX0gZmlsZVxuICogICBGaWxlIGFzc29jaWF0ZWQgd2l0aCBgZG9jdW1lbnRgLlxuICogQHJldHVybnMge1RyZWV9XG4gKiAgIE5vZGUgcmVwcmVzZW50aW5nIHRoZSBnaXZlbiBmaWxlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyhcbiAqICAgUGx1Z2luPEFycmF5PGFueT4sIGFueSwgYW55PiB8XG4gKiAgIFBsdWdpblR1cGxlPEFycmF5PGFueT4sIGFueSwgYW55PiB8XG4gKiAgIFByZXNldFxuICogKX0gUGx1Z2dhYmxlXG4gKiAgIFVuaW9uIG9mIHRoZSBkaWZmZXJlbnQgd2F5cyB0byBhZGQgcGx1Z2lucyBhbmQgc2V0dGluZ3MuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7QXJyYXk8UGx1Z2dhYmxlPn0gUGx1Z2dhYmxlTGlzdFxuICogICBMaXN0IG9mIHBsdWdpbnMgYW5kIHByZXNldHMuXG4gKi9cblxuLy8gTm90ZTogd2UgY2Fu4oCZdCB1c2UgYGNhbGxiYWNrYCB5ZXQgYXMgaXQgbWVzc2VzIHVwIGB0aGlzYDpcbi8vICA8aHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy81NTE5Nz4uXG4vKipcbiAqIEB0ZW1wbGF0ZSB7QXJyYXk8dW5rbm93bj59IFtQbHVnaW5QYXJhbWV0ZXJzPVtdXVxuICogICBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBwbHVnaW4gKGRlZmF1bHQ6IGBbXWAsIHRoZSBlbXB0eSB0dXBsZSkuXG4gKiBAdGVtcGxhdGUge05vZGUgfCBzdHJpbmcgfCB1bmRlZmluZWR9IFtJbnB1dD1Ob2RlXVxuICogICBWYWx1ZSB0aGF0IGlzIGV4cGVjdGVkIGFzIGlucHV0IChkZWZhdWx0OiBgTm9kZWApLlxuICpcbiAqICAgKiAgIElmIHRoZSBwbHVnaW4gcmV0dXJucyBhIHtAbGlua2NvZGUgVHJhbnNmb3JtZXJ9LCB0aGlzXG4gKiAgICAgICBzaG91bGQgYmUgdGhlIG5vZGUgaXQgZXhwZWN0cy5cbiAqICAgKiAgIElmIHRoZSBwbHVnaW4gc2V0cyBhIHtAbGlua2NvZGUgUGFyc2VyfSwgdGhpcyBzaG91bGQgYmVcbiAqICAgICAgIGBzdHJpbmdgLlxuICogICAqICAgSWYgdGhlIHBsdWdpbiBzZXRzIGEge0BsaW5rY29kZSBDb21waWxlcn0sIHRoaXMgc2hvdWxkIGJlIHRoZVxuICogICAgICAgbm9kZSBpdCBleHBlY3RzLlxuICogQHRlbXBsYXRlIFtPdXRwdXQ9SW5wdXRdXG4gKiAgIFZhbHVlIHRoYXQgaXMgeWllbGRlZCBhcyBvdXRwdXQgKGRlZmF1bHQ6IGBJbnB1dGApLlxuICpcbiAqICAgKiAgIElmIHRoZSBwbHVnaW4gcmV0dXJucyBhIHtAbGlua2NvZGUgVHJhbnNmb3JtZXJ9LCB0aGlzXG4gKiAgICAgICBzaG91bGQgYmUgdGhlIG5vZGUgdGhhdCB0aGF0IHlpZWxkcy5cbiAqICAgKiAgIElmIHRoZSBwbHVnaW4gc2V0cyBhIHtAbGlua2NvZGUgUGFyc2VyfSwgdGhpcyBzaG91bGQgYmUgdGhlXG4gKiAgICAgICBub2RlIHRoYXQgaXQgeWllbGRzLlxuICogICAqICAgSWYgdGhlIHBsdWdpbiBzZXRzIGEge0BsaW5rY29kZSBDb21waWxlcn0sIHRoaXMgc2hvdWxkIGJlXG4gKiAgICAgICByZXN1bHQgaXQgeWllbGRzLlxuICogQHR5cGVkZWYgeyhcbiAqICAgKHRoaXM6IFByb2Nlc3NvciwgLi4ucGFyYW1ldGVyczogUGx1Z2luUGFyYW1ldGVycykgPT5cbiAqICAgICBJbnB1dCBleHRlbmRzIHN0cmluZyA/IC8vIFBhcnNlci5cbiAqICAgICAgICBPdXRwdXQgZXh0ZW5kcyBOb2RlIHwgdW5kZWZpbmVkID8gdW5kZWZpbmVkIHwgdm9pZCA6IG5ldmVyIDpcbiAqICAgICBPdXRwdXQgZXh0ZW5kcyBDb21waWxlUmVzdWx0cyA/IC8vIENvbXBpbGVyLlxuICogICAgICAgIElucHV0IGV4dGVuZHMgTm9kZSB8IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCB8IHZvaWQgOiBuZXZlciA6XG4gKiAgICAgVHJhbnNmb3JtZXI8XG4gKiAgICAgICBJbnB1dCBleHRlbmRzIE5vZGUgPyBJbnB1dCA6IE5vZGUsXG4gKiAgICAgICBPdXRwdXQgZXh0ZW5kcyBOb2RlID8gT3V0cHV0IDogTm9kZVxuICogICAgID4gfCB1bmRlZmluZWQgfCB2b2lkXG4gKiApfSBQbHVnaW5cbiAqICAgU2luZ2xlIHBsdWdpbi5cbiAqXG4gKiAgIFBsdWdpbnMgY29uZmlndXJlIHRoZSBwcm9jZXNzb3JzIHRoZXkgYXJlIGFwcGxpZWQgb24gaW4gdGhlIGZvbGxvd2luZ1xuICogICB3YXlzOlxuICpcbiAqICAgKiAgIHRoZXkgY2hhbmdlIHRoZSBwcm9jZXNzb3IsIHN1Y2ggYXMgdGhlIHBhcnNlciwgdGhlIGNvbXBpbGVyLCBvciBieVxuICogICAgICAgY29uZmlndXJpbmcgZGF0YVxuICogICAqICAgdGhleSBzcGVjaWZ5IGhvdyB0byBoYW5kbGUgdHJlZXMgYW5kIGZpbGVzXG4gKlxuICogICBJbiBwcmFjdGljZSwgdGhleSBhcmUgZnVuY3Rpb25zIHRoYXQgY2FuIHJlY2VpdmUgb3B0aW9ucyBhbmQgY29uZmlndXJlIHRoZVxuICogICBwcm9jZXNzb3IgKGB0aGlzYCkuXG4gKlxuICogICA+ICoqTm90ZSoqOiBwbHVnaW5zIGFyZSBjYWxsZWQgd2hlbiB0aGUgcHJvY2Vzc29yIGlzICpmcm96ZW4qLCBub3Qgd2hlblxuICogICA+IHRoZXkgYXJlIGFwcGxpZWQuXG4gKi9cblxuLyoqXG4gKiBUdXBsZSBvZiBhIHBsdWdpbiBhbmQgaXRzIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogVGhlIGZpcnN0IGl0ZW0gaXMgYSBwbHVnaW4sIHRoZSByZXN0IGFyZSBpdHMgcGFyYW1ldGVycy5cbiAqXG4gKiBAdGVtcGxhdGUge0FycmF5PHVua25vd24+fSBbVHVwbGVQYXJhbWV0ZXJzPVtdXVxuICogICBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBwbHVnaW4gKGRlZmF1bHQ6IGBbXWAsIHRoZSBlbXB0eSB0dXBsZSkuXG4gKiBAdGVtcGxhdGUge05vZGUgfCBzdHJpbmcgfCB1bmRlZmluZWR9IFtJbnB1dD11bmRlZmluZWRdXG4gKiAgIFZhbHVlIHRoYXQgaXMgZXhwZWN0ZWQgYXMgaW5wdXQgKG9wdGlvbmFsKS5cbiAqXG4gKiAgICogICBJZiB0aGUgcGx1Z2luIHJldHVybnMgYSB7QGxpbmtjb2RlIFRyYW5zZm9ybWVyfSwgdGhpc1xuICogICAgICAgc2hvdWxkIGJlIHRoZSBub2RlIGl0IGV4cGVjdHMuXG4gKiAgICogICBJZiB0aGUgcGx1Z2luIHNldHMgYSB7QGxpbmtjb2RlIFBhcnNlcn0sIHRoaXMgc2hvdWxkIGJlXG4gKiAgICAgICBgc3RyaW5nYC5cbiAqICAgKiAgIElmIHRoZSBwbHVnaW4gc2V0cyBhIHtAbGlua2NvZGUgQ29tcGlsZXJ9LCB0aGlzIHNob3VsZCBiZSB0aGVcbiAqICAgICAgIG5vZGUgaXQgZXhwZWN0cy5cbiAqIEB0ZW1wbGF0ZSBbT3V0cHV0PXVuZGVmaW5lZF0gKG9wdGlvbmFsKS5cbiAqICAgVmFsdWUgdGhhdCBpcyB5aWVsZGVkIGFzIG91dHB1dC5cbiAqXG4gKiAgICogICBJZiB0aGUgcGx1Z2luIHJldHVybnMgYSB7QGxpbmtjb2RlIFRyYW5zZm9ybWVyfSwgdGhpc1xuICogICAgICAgc2hvdWxkIGJlIHRoZSBub2RlIHRoYXQgdGhhdCB5aWVsZHMuXG4gKiAgICogICBJZiB0aGUgcGx1Z2luIHNldHMgYSB7QGxpbmtjb2RlIFBhcnNlcn0sIHRoaXMgc2hvdWxkIGJlIHRoZVxuICogICAgICAgbm9kZSB0aGF0IGl0IHlpZWxkcy5cbiAqICAgKiAgIElmIHRoZSBwbHVnaW4gc2V0cyBhIHtAbGlua2NvZGUgQ29tcGlsZXJ9LCB0aGlzIHNob3VsZCBiZVxuICogICAgICAgcmVzdWx0IGl0IHlpZWxkcy5cbiAqIEB0eXBlZGVmIHsoXG4gKiAgIFtcbiAqICAgICBwbHVnaW46IFBsdWdpbjxUdXBsZVBhcmFtZXRlcnMsIElucHV0LCBPdXRwdXQ+LFxuICogICAgIC4uLnBhcmFtZXRlcnM6IFR1cGxlUGFyYW1ldGVyc1xuICogICBdXG4gKiApfSBQbHVnaW5UdXBsZVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgUHJlc2V0XG4gKiAgIFNoYXJhYmxlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogICBUaGV5IGNhbiBjb250YWluIHBsdWdpbnMgYW5kIHNldHRpbmdzLlxuICogQHByb3BlcnR5IHtQbHVnZ2FibGVMaXN0IHwgdW5kZWZpbmVkfSBbcGx1Z2luc11cbiAqICAgTGlzdCBvZiBwbHVnaW5zIGFuZCBwcmVzZXRzIChvcHRpb25hbCkuXG4gKiBAcHJvcGVydHkge1NldHRpbmdzIHwgdW5kZWZpbmVkfSBbc2V0dGluZ3NdXG4gKiAgIFNoYXJlZCBzZXR0aW5ncyBmb3IgcGFyc2VycyBhbmQgY29tcGlsZXJzIChvcHRpb25hbCkuXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge1ZGaWxlfSBbRmlsZT1WRmlsZV1cbiAqICAgVGhlIGZpbGUgdGhhdCB0aGUgY2FsbGJhY2sgcmVjZWl2ZXMgKGRlZmF1bHQ6IGBWRmlsZWApLlxuICogQGNhbGxiYWNrIFByb2Nlc3NDYWxsYmFja1xuICogICBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgcHJvY2VzcyBpcyBkb25lLlxuICpcbiAqICAgQ2FsbGVkIHdpdGggZWl0aGVyIGFuIGVycm9yIG9yIGEgcmVzdWx0LlxuICogQHBhcmFtIHtFcnJvciB8IHVuZGVmaW5lZH0gW2Vycm9yXVxuICogICBGYXRhbCBlcnJvciAob3B0aW9uYWwpLlxuICogQHBhcmFtIHtGaWxlIHwgdW5kZWZpbmVkfSBbZmlsZV1cbiAqICAgUHJvY2Vzc2VkIGZpbGUgKG9wdGlvbmFsKS5cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiAgIE5vdGhpbmcuXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IFtUcmVlPU5vZGVdXG4gKiAgIFRoZSB0cmVlIHRoYXQgdGhlIGNhbGxiYWNrIHJlY2VpdmVzIChkZWZhdWx0OiBgTm9kZWApLlxuICogQGNhbGxiYWNrIFJ1bkNhbGxiYWNrXG4gKiAgIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRyYW5zZm9ybWVycyBhcmUgZG9uZS5cbiAqXG4gKiAgIENhbGxlZCB3aXRoIGVpdGhlciBhbiBlcnJvciBvciByZXN1bHRzLlxuICogQHBhcmFtIHtFcnJvciB8IHVuZGVmaW5lZH0gW2Vycm9yXVxuICogICBGYXRhbCBlcnJvciAob3B0aW9uYWwpLlxuICogQHBhcmFtIHtUcmVlIHwgdW5kZWZpbmVkfSBbdHJlZV1cbiAqICAgVHJhbnNmb3JtZWQgdHJlZSAob3B0aW9uYWwpLlxuICogQHBhcmFtIHtWRmlsZSB8IHVuZGVmaW5lZH0gW2ZpbGVdXG4gKiAgIEZpbGUgKG9wdGlvbmFsKS5cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiAgIE5vdGhpbmcuXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGV9IFtPdXRwdXQ9Tm9kZV1cbiAqICAgTm9kZSB0eXBlIHRoYXQgdGhlIHRyYW5zZm9ybWVyIHlpZWxkcyAoZGVmYXVsdDogYE5vZGVgKS5cbiAqIEBjYWxsYmFjayBUcmFuc2Zvcm1DYWxsYmFja1xuICogICBDYWxsYmFjayBwYXNzZWQgdG8gdHJhbnNmb3Jtcy5cbiAqXG4gKiAgIElmIHRoZSBzaWduYXR1cmUgb2YgYSBgdHJhbnNmb3JtZXJgIGFjY2VwdHMgYSB0aGlyZCBhcmd1bWVudCwgdGhlXG4gKiAgIHRyYW5zZm9ybWVyIG1heSBwZXJmb3JtIGFzeW5jaHJvbm91cyBvcGVyYXRpb25zLCBhbmQgbXVzdCBjYWxsIGl0LlxuICogQHBhcmFtIHtFcnJvciB8IHVuZGVmaW5lZH0gW2Vycm9yXVxuICogICBGYXRhbCBlcnJvciB0byBzdG9wIHRoZSBwcm9jZXNzIChvcHRpb25hbCkuXG4gKiBAcGFyYW0ge091dHB1dCB8IHVuZGVmaW5lZH0gW3RyZWVdXG4gKiAgIE5ldywgY2hhbmdlZCwgdHJlZSAob3B0aW9uYWwpLlxuICogQHBhcmFtIHtWRmlsZSB8IHVuZGVmaW5lZH0gW2ZpbGVdXG4gKiAgIE5ldywgY2hhbmdlZCwgZmlsZSAob3B0aW9uYWwpLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqICAgTm90aGluZy5cbiAqL1xuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Tm9kZX0gW0lucHV0PU5vZGVdXG4gKiAgIE5vZGUgdHlwZSB0aGF0IHRoZSB0cmFuc2Zvcm1lciBleHBlY3RzIChkZWZhdWx0OiBgTm9kZWApLlxuICogQHRlbXBsYXRlIHtOb2RlfSBbT3V0cHV0PUlucHV0XVxuICogICBOb2RlIHR5cGUgdGhhdCB0aGUgdHJhbnNmb3JtZXIgeWllbGRzIChkZWZhdWx0OiBgSW5wdXRgKS5cbiAqIEBjYWxsYmFjayBUcmFuc2Zvcm1lclxuICogICBUcmFuc2Zvcm1lcnMgaGFuZGxlIHN5bnRheCB0cmVlcyBhbmQgZmlsZXMuXG4gKlxuICogICBUaGV5IGFyZSBmdW5jdGlvbnMgdGhhdCBhcmUgY2FsbGVkIGVhY2ggdGltZSBhIHN5bnRheCB0cmVlIGFuZCBmaWxlIGFyZVxuICogICBwYXNzZWQgdGhyb3VnaCB0aGUgcnVuIHBoYXNlLlxuICogICBXaGVuIGFuIGVycm9yIG9jY3VycyBpbiB0aGVtIChlaXRoZXIgYmVjYXVzZSBpdOKAmXMgdGhyb3duLCByZXR1cm5lZCxcbiAqICAgcmVqZWN0ZWQsIG9yIHBhc3NlZCB0byBgbmV4dGApLCB0aGUgcHJvY2VzcyBzdG9wcy5cbiAqXG4gKiAgIFRoZSBydW4gcGhhc2UgaXMgaGFuZGxlZCBieSBbYHRyb3VnaGBdW3Ryb3VnaF0sIHNlZSBpdHMgZG9jdW1lbnRhdGlvbiBmb3JcbiAqICAgdGhlIGV4YWN0IHNlbWFudGljcyBvZiB0aGVzZSBmdW5jdGlvbnMuXG4gKlxuICogICA+ICoqTm90ZSoqOiB5b3Ugc2hvdWxkIGxpa2VseSBpZ25vcmUgYG5leHRgOiBkb27igJl0IGFjY2VwdCBpdC5cbiAqICAgPiBpdCBzdXBwb3J0cyBjYWxsYmFjay1zdHlsZSBhc3luYyB3b3JrLlxuICogICA+IEJ1dCBwcm9taXNlcyBhcmUgbGlrZWx5IGVhc2llciB0byByZWFzb24gYWJvdXQuXG4gKlxuICogICBbdHJvdWdoXTogaHR0cHM6Ly9naXRodWIuY29tL3dvb29ybS90cm91Z2gjZnVuY3Rpb24tZm5pbnB1dC1uZXh0XG4gKiBAcGFyYW0ge0lucHV0fSB0cmVlXG4gKiAgIFRyZWUgdG8gaGFuZGxlLlxuICogQHBhcmFtIHtWRmlsZX0gZmlsZVxuICogICBGaWxlIHRvIGhhbmRsZS5cbiAqIEBwYXJhbSB7VHJhbnNmb3JtQ2FsbGJhY2s8T3V0cHV0Pn0gbmV4dFxuICogICBDYWxsYmFjay5cbiAqIEByZXR1cm5zIHsoXG4gKiAgIFByb21pc2U8T3V0cHV0IHwgdW5kZWZpbmVkIHwgdm9pZD4gfFxuICogICBQcm9taXNlPG5ldmVyPiB8IC8vIEZvciBzb21lIHJlYXNvbiB0aGlzIGlzIG5lZWRlZCBzZXBhcmF0ZWx5LlxuICogICBPdXRwdXQgfFxuICogICBFcnJvciB8XG4gKiAgIHVuZGVmaW5lZCB8XG4gKiAgIHZvaWRcbiAqICl9XG4gKiAgIElmIHlvdSBhY2NlcHQgYG5leHRgLCBub3RoaW5nLlxuICogICBPdGhlcndpc2U6XG4gKlxuICogICAqICAgYEVycm9yYCDigJQgZmF0YWwgZXJyb3IgdG8gc3RvcCB0aGUgcHJvY2Vzc1xuICogICAqICAgYFByb21pc2U8dW5kZWZpbmVkPmAgb3IgYHVuZGVmaW5lZGAg4oCUIHRoZSBuZXh0IHRyYW5zZm9ybWVyIGtlZXBzIHVzaW5nXG4gKiAgICAgICBzYW1lIHRyZWVcbiAqICAgKiAgIGBQcm9taXNlPE5vZGU+YCBvciBgTm9kZWAg4oCUIG5ldywgY2hhbmdlZCwgdHJlZVxuICovXG5cbi8qKlxuICogQHRlbXBsYXRlIHtOb2RlIHwgdW5kZWZpbmVkfSBQYXJzZVRyZWVcbiAqICAgT3V0cHV0IG9mIGBwYXJzZWAuXG4gKiBAdGVtcGxhdGUge05vZGUgfCB1bmRlZmluZWR9IEhlYWRUcmVlXG4gKiAgIElucHV0IGZvciBgcnVuYC5cbiAqIEB0ZW1wbGF0ZSB7Tm9kZSB8IHVuZGVmaW5lZH0gVGFpbFRyZWVcbiAqICAgT3V0cHV0IGZvciBgcnVuYC5cbiAqIEB0ZW1wbGF0ZSB7Tm9kZSB8IHVuZGVmaW5lZH0gQ29tcGlsZVRyZWVcbiAqICAgSW5wdXQgb2YgYHN0cmluZ2lmeWAuXG4gKiBAdGVtcGxhdGUge0NvbXBpbGVSZXN1bHRzIHwgdW5kZWZpbmVkfSBDb21waWxlUmVzdWx0XG4gKiAgIE91dHB1dCBvZiBgc3RyaW5naWZ5YC5cbiAqIEB0ZW1wbGF0ZSB7Tm9kZSB8IHN0cmluZyB8IHVuZGVmaW5lZH0gSW5wdXRcbiAqICAgSW5wdXQgb2YgcGx1Z2luLlxuICogQHRlbXBsYXRlIE91dHB1dFxuICogICBPdXRwdXQgb2YgcGx1Z2luIChvcHRpb25hbCkuXG4gKiBAdHlwZWRlZiB7KFxuICogICBJbnB1dCBleHRlbmRzIHN0cmluZ1xuICogICAgID8gT3V0cHV0IGV4dGVuZHMgTm9kZSB8IHVuZGVmaW5lZFxuICogICAgICAgPyAvLyBQYXJzZXIuXG4gKiAgICAgICAgIFByb2Nlc3NvcjxcbiAqICAgICAgICAgICBPdXRwdXQgZXh0ZW5kcyB1bmRlZmluZWQgPyBQYXJzZVRyZWUgOiBPdXRwdXQsXG4gKiAgICAgICAgICAgSGVhZFRyZWUsXG4gKiAgICAgICAgICAgVGFpbFRyZWUsXG4gKiAgICAgICAgICAgQ29tcGlsZVRyZWUsXG4gKiAgICAgICAgICAgQ29tcGlsZVJlc3VsdFxuICogICAgICAgICA+XG4gKiAgICAgICA6IC8vIFVua25vd24uXG4gKiAgICAgICAgIFByb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+XG4gKiAgICAgOiBPdXRwdXQgZXh0ZW5kcyBDb21waWxlUmVzdWx0c1xuICogICAgID8gSW5wdXQgZXh0ZW5kcyBOb2RlIHwgdW5kZWZpbmVkXG4gKiAgICAgICA/IC8vIENvbXBpbGVyLlxuICogICAgICAgICBQcm9jZXNzb3I8XG4gKiAgICAgICAgICAgUGFyc2VUcmVlLFxuICogICAgICAgICAgIEhlYWRUcmVlLFxuICogICAgICAgICAgIFRhaWxUcmVlLFxuICogICAgICAgICAgIElucHV0IGV4dGVuZHMgdW5kZWZpbmVkID8gQ29tcGlsZVRyZWUgOiBJbnB1dCxcbiAqICAgICAgICAgICBPdXRwdXQgZXh0ZW5kcyB1bmRlZmluZWQgPyBDb21waWxlUmVzdWx0IDogT3V0cHV0XG4gKiAgICAgICAgID5cbiAqICAgICAgIDogLy8gVW5rbm93bi5cbiAqICAgICAgICAgUHJvY2Vzc29yPFBhcnNlVHJlZSwgSGVhZFRyZWUsIFRhaWxUcmVlLCBDb21waWxlVHJlZSwgQ29tcGlsZVJlc3VsdD5cbiAqICAgICA6IElucHV0IGV4dGVuZHMgTm9kZSB8IHVuZGVmaW5lZFxuICogICAgID8gT3V0cHV0IGV4dGVuZHMgTm9kZSB8IHVuZGVmaW5lZFxuICogICAgICAgPyAvLyBUcmFuc2Zvcm0uXG4gKiAgICAgICAgIFByb2Nlc3NvcjxcbiAqICAgICAgICAgICBQYXJzZVRyZWUsXG4gKiAgICAgICAgICAgSGVhZFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBJbnB1dCA6IEhlYWRUcmVlLFxuICogICAgICAgICAgIE91dHB1dCBleHRlbmRzIHVuZGVmaW5lZCA/IFRhaWxUcmVlIDogT3V0cHV0LFxuICogICAgICAgICAgIENvbXBpbGVUcmVlLFxuICogICAgICAgICAgIENvbXBpbGVSZXN1bHRcbiAqICAgICAgICAgPlxuICogICAgICAgOiAvLyBVbmtub3duLlxuICogICAgICAgICBQcm9jZXNzb3I8UGFyc2VUcmVlLCBIZWFkVHJlZSwgVGFpbFRyZWUsIENvbXBpbGVUcmVlLCBDb21waWxlUmVzdWx0PlxuICogICAgIDogLy8gVW5rbm93bi5cbiAqICAgICAgIFByb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+XG4gKiApfSBVc2VQbHVnaW5cbiAqICAgQ3JlYXRlIGEgcHJvY2Vzc29yIGJhc2VkIG9uIHRoZSBpbnB1dC9vdXRwdXQgb2YgYSB7QGxpbmsgUGx1Z2luIHBsdWdpbn0uXG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge0NvbXBpbGVSZXN1bHRzIHwgdW5kZWZpbmVkfSBSZXN1bHRcbiAqICAgTm9kZSB0eXBlIHRoYXQgdGhlIHRyYW5zZm9ybWVyIHlpZWxkcy5cbiAqIEB0eXBlZGVmIHsoXG4gKiAgIFJlc3VsdCBleHRlbmRzIFZhbHVlIHwgdW5kZWZpbmVkID9cbiAqICAgICBWRmlsZSA6XG4gKiAgICAgVkZpbGUgJiB7cmVzdWx0OiBSZXN1bHR9XG4gKiAgICl9IFZGaWxlV2l0aE91dHB1dFxuICogICBUeXBlIHRvIGdlbmVyYXRlIGEge0BsaW5rY29kZSBWRmlsZX0gY29ycmVzcG9uZGluZyB0byBhIGNvbXBpbGVyIHJlc3VsdC5cbiAqXG4gKiAgIElmIGEgcmVzdWx0IHRoYXQgaXMgbm90IGFjY2VwdGFibGUgb24gYSBgVkZpbGVgIGlzIHVzZWQsIHRoYXQgd2lsbFxuICogICBiZSBzdG9yZWQgb24gdGhlIGByZXN1bHRgIGZpZWxkIG9mIHtAbGlua2NvZGUgVkZpbGV9LlxuICovXG5cbmltcG9ydCB7YmFpbH0gZnJvbSAnYmFpbCdcbmltcG9ydCBleHRlbmQgZnJvbSAnZXh0ZW5kJ1xuaW1wb3J0IHtvayBhcyBhc3NlcnR9IGZyb20gJ2RldmxvcCdcbmltcG9ydCBpc1BsYWluT2JqIGZyb20gJ2lzLXBsYWluLW9iaidcbmltcG9ydCB7dHJvdWdofSBmcm9tICd0cm91Z2gnXG5pbXBvcnQge1ZGaWxlfSBmcm9tICd2ZmlsZSdcbmltcG9ydCB7Q2FsbGFibGVJbnN0YW5jZX0gZnJvbSAnLi9jYWxsYWJsZS1pbnN0YW5jZS5qcydcblxuLy8gVG8gZG86IG5leHQgbWFqb3I6IGRyb3AgYENvbXBpbGVyYCwgYFBhcnNlcmA6IHByZWZlciBsb3dlcmNhc2UuXG5cbi8vIFRvIGRvOiB3ZSBjb3VsZCBzdGFydCB5aWVsZGluZyBgbmV2ZXJgIGluIFRTIHdoZW4gYSBwYXJzZXIgaXMgbWlzc2luZyBhbmRcbi8vIGBwYXJzZWAgaXMgY2FsbGVkLlxuLy8gQ3VycmVudGx5LCB3ZSBhbGxvdyBkaXJlY3RseSBzZXR0aW5nIGBwcm9jZXNzb3IucGFyc2VyYCwgd2hpY2ggaXMgdW50eXBlZC5cblxuY29uc3Qgb3duID0ge30uaGFzT3duUHJvcGVydHlcblxuLyoqXG4gKiBAdGVtcGxhdGUge05vZGUgfCB1bmRlZmluZWR9IFtQYXJzZVRyZWU9dW5kZWZpbmVkXVxuICogICBPdXRwdXQgb2YgYHBhcnNlYCAob3B0aW9uYWwpLlxuICogQHRlbXBsYXRlIHtOb2RlIHwgdW5kZWZpbmVkfSBbSGVhZFRyZWU9dW5kZWZpbmVkXVxuICogICBJbnB1dCBmb3IgYHJ1bmAgKG9wdGlvbmFsKS5cbiAqIEB0ZW1wbGF0ZSB7Tm9kZSB8IHVuZGVmaW5lZH0gW1RhaWxUcmVlPXVuZGVmaW5lZF1cbiAqICAgT3V0cHV0IGZvciBgcnVuYCAob3B0aW9uYWwpLlxuICogQHRlbXBsYXRlIHtOb2RlIHwgdW5kZWZpbmVkfSBbQ29tcGlsZVRyZWU9dW5kZWZpbmVkXVxuICogICBJbnB1dCBvZiBgc3RyaW5naWZ5YCAob3B0aW9uYWwpLlxuICogQHRlbXBsYXRlIHtDb21waWxlUmVzdWx0cyB8IHVuZGVmaW5lZH0gW0NvbXBpbGVSZXN1bHQ9dW5kZWZpbmVkXVxuICogICBPdXRwdXQgb2YgYHN0cmluZ2lmeWAgKG9wdGlvbmFsKS5cbiAqIEBleHRlbmRzIHtDYWxsYWJsZUluc3RhbmNlPFtdLCBQcm9jZXNzb3I8UGFyc2VUcmVlLCBIZWFkVHJlZSwgVGFpbFRyZWUsIENvbXBpbGVUcmVlLCBDb21waWxlUmVzdWx0Pj59XG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9jZXNzb3IgZXh0ZW5kcyBDYWxsYWJsZUluc3RhbmNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIHByb2Nlc3Nvci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIElmIGBQcm9jZXNzb3IoKWAgaXMgY2FsbGVkICh3L28gbmV3KSwgYGNvcHlgIGlzIGNhbGxlZCBpbnN0ZWFkLlxuICAgIHN1cGVyKCdjb3B5JylcblxuICAgIC8qKlxuICAgICAqIENvbXBpbGVyIHRvIHVzZSAoZGVwcmVjYXRlZCkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqICAgVXNlIGBjb21waWxlcmAgaW5zdGVhZC5cbiAgICAgKiBAdHlwZSB7KFxuICAgICAqICAgQ29tcGlsZXI8XG4gICAgICogICAgIENvbXBpbGVUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IENvbXBpbGVUcmVlLFxuICAgICAqICAgICBDb21waWxlUmVzdWx0IGV4dGVuZHMgdW5kZWZpbmVkID8gQ29tcGlsZVJlc3VsdHMgOiBDb21waWxlUmVzdWx0XG4gICAgICogICA+IHxcbiAgICAgKiAgIHVuZGVmaW5lZFxuICAgICAqICl9XG4gICAgICovXG4gICAgdGhpcy5Db21waWxlciA9IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHRvIHVzZSAoZGVwcmVjYXRlZCkuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqICAgVXNlIGBwYXJzZXJgIGluc3RlYWQuXG4gICAgICogQHR5cGUgeyhcbiAgICAgKiAgIFBhcnNlcjxQYXJzZVRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogUGFyc2VUcmVlPiB8XG4gICAgICogICB1bmRlZmluZWRcbiAgICAgKiApfVxuICAgICAqL1xuICAgIHRoaXMuUGFyc2VyID0gdW5kZWZpbmVkXG5cbiAgICAvLyBOb3RlOiB0aGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgY29uc2lkZXJlZCBwcml2YXRlLlxuICAgIC8vIEhvd2V2ZXIsIHRoZXkgYXJlIG5lZWRlZCBmb3IgdGVzdHMsIGFuZCBUU0MgZ2VuZXJhdGVzIGFuIHVudHlwZWRcbiAgICAvLyBgcHJpdmF0ZSBmcmVlemVJbmRleGAgZmllbGQgZm9yLCB3aGljaCB0cmlwcyBgdHlwZS1jb3ZlcmFnZWAgdXAuXG4gICAgLy8gSW5zdGVhZCwgd2UgdXNlIGBAZGVwcmVjYXRlZGAgdG8gdmlzdWFsaXplIHRoYXQgdGhleSBzaG91bGRu4oCZdCBiZSB1c2VkLlxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGxpc3Qgb2YgY29uZmlndXJlZCBwbHVnaW5zLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiAgIFRoaXMgaXMgYSBwcml2YXRlIGludGVybmFsIHByb3BlcnR5IGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICogQHR5cGUge0FycmF5PFBsdWdpblR1cGxlPEFycmF5PHVua25vd24+Pj59XG4gICAgICovXG4gICAgdGhpcy5hdHRhY2hlcnMgPSBbXVxuXG4gICAgLyoqXG4gICAgICogQ29tcGlsZXIgdG8gdXNlLlxuICAgICAqXG4gICAgICogQHR5cGUgeyhcbiAgICAgKiAgIENvbXBpbGVyPFxuICAgICAqICAgICBDb21waWxlVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBDb21waWxlVHJlZSxcbiAgICAgKiAgICAgQ29tcGlsZVJlc3VsdCBleHRlbmRzIHVuZGVmaW5lZCA/IENvbXBpbGVSZXN1bHRzIDogQ29tcGlsZVJlc3VsdFxuICAgICAqICAgPiB8XG4gICAgICogICB1bmRlZmluZWRcbiAgICAgKiApfVxuICAgICAqL1xuICAgIHRoaXMuY29tcGlsZXIgPSB1bmRlZmluZWRcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHN0YXRlIHRvIHRyYWNrIHdoZXJlIHdlIGFyZSB3aGlsZSBmcmVlemluZy5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogICBUaGlzIGlzIGEgcHJpdmF0ZSBpbnRlcm5hbCBwcm9wZXJ0eSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5mcmVlemVJbmRleCA9IC0xXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzdGF0ZSB0byB0cmFjayB3aGV0aGVyIHdl4oCZcmUgZnJvemVuLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiAgIFRoaXMgaXMgYSBwcml2YXRlIGludGVybmFsIHByb3BlcnR5IGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW4gfCB1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5mcm96ZW4gPSB1bmRlZmluZWRcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHN0YXRlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiAgIFRoaXMgaXMgYSBwcml2YXRlIGludGVybmFsIHByb3BlcnR5IGFuZCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICogQHR5cGUge0RhdGF9XG4gICAgICovXG4gICAgdGhpcy5uYW1lc3BhY2UgPSB7fVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VyIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHsoXG4gICAgICogICBQYXJzZXI8UGFyc2VUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IFBhcnNlVHJlZT4gfFxuICAgICAqICAgdW5kZWZpbmVkXG4gICAgICogKX1cbiAgICAgKi9cbiAgICB0aGlzLnBhcnNlciA9IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbGlzdCBvZiBjb25maWd1cmVkIHRyYW5zZm9ybWVycy5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogICBUaGlzIGlzIGEgcHJpdmF0ZSBpbnRlcm5hbCBwcm9wZXJ0eSBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLlxuICAgICAqIEB0eXBlIHtQaXBlbGluZX1cbiAgICAgKi9cbiAgICB0aGlzLnRyYW5zZm9ybWVycyA9IHRyb3VnaCgpXG4gIH1cblxuICAvKipcbiAgICogQ29weSBhIHByb2Nlc3Nvci5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogICBUaGlzIGlzIGEgcHJpdmF0ZSBpbnRlcm5hbCBtZXRob2QgYW5kIHNob3VsZCBub3QgYmUgdXNlZC5cbiAgICogQHJldHVybnMge1Byb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+fVxuICAgKiAgIE5ldyAqdW5mcm96ZW4qIHByb2Nlc3NvciAoe0BsaW5rY29kZSBQcm9jZXNzb3J9KSB0aGF0IGlzXG4gICAqICAgY29uZmlndXJlZCB0byB3b3JrIHRoZSBzYW1lIGFzIGl0cyBhbmNlc3Rvci5cbiAgICogICBXaGVuIHRoZSBkZXNjZW5kYW50IHByb2Nlc3NvciBpcyBjb25maWd1cmVkIGluIHRoZSBmdXR1cmUgaXQgZG9lcyBub3RcbiAgICogICBhZmZlY3QgdGhlIGFuY2VzdHJhbCBwcm9jZXNzb3IuXG4gICAqL1xuICBjb3B5KCkge1xuICAgIC8vIENhc3QgYXMgdGhlIHR5cGUgcGFyYW1ldGVycyB3aWxsIGJlIHRoZSBzYW1lIGFmdGVyIGF0dGFjaGluZy5cbiAgICBjb25zdCBkZXN0aW5hdGlvbiA9XG4gICAgICAvKiogQHR5cGUge1Byb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+fSAqLyAoXG4gICAgICAgIG5ldyBQcm9jZXNzb3IoKVxuICAgICAgKVxuICAgIGxldCBpbmRleCA9IC0xXG5cbiAgICB3aGlsZSAoKytpbmRleCA8IHRoaXMuYXR0YWNoZXJzLmxlbmd0aCkge1xuICAgICAgY29uc3QgYXR0YWNoZXIgPSB0aGlzLmF0dGFjaGVyc1tpbmRleF1cbiAgICAgIGRlc3RpbmF0aW9uLnVzZSguLi5hdHRhY2hlcilcbiAgICB9XG5cbiAgICBkZXN0aW5hdGlvbi5kYXRhKGV4dGVuZCh0cnVlLCB7fSwgdGhpcy5uYW1lc3BhY2UpKVxuXG4gICAgcmV0dXJuIGRlc3RpbmF0aW9uXG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIHRoZSBwcm9jZXNzb3Igd2l0aCBpbmZvIGF2YWlsYWJsZSB0byBhbGwgcGx1Z2lucy5cbiAgICogSW5mb3JtYXRpb24gaXMgc3RvcmVkIGluIGFuIG9iamVjdC5cbiAgICpcbiAgICogVHlwaWNhbGx5LCBvcHRpb25zIGNhbiBiZSBnaXZlbiB0byBhIHNwZWNpZmljIHBsdWdpbiwgYnV0IHNvbWV0aW1lcyBpdFxuICAgKiBtYWtlcyBzZW5zZSB0byBoYXZlIGluZm9ybWF0aW9uIHNoYXJlZCB3aXRoIHNldmVyYWwgcGx1Z2lucy5cbiAgICogRm9yIGV4YW1wbGUsIGEgbGlzdCBvZiBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIHNlbGYtY2xvc2luZywgd2hpY2ggaXNcbiAgICogbmVlZGVkIGR1cmluZyBhbGwgcGhhc2VzLlxuICAgKlxuICAgKiA+ICoqTm90ZSoqOiBzZXR0aW5nIGluZm9ybWF0aW9uIGNhbm5vdCBvY2N1ciBvbiAqZnJvemVuKiBwcm9jZXNzb3JzLlxuICAgKiA+IENhbGwgdGhlIHByb2Nlc3NvciBmaXJzdCB0byBjcmVhdGUgYSBuZXcgdW5mcm96ZW4gcHJvY2Vzc29yLlxuICAgKlxuICAgKiA+ICoqTm90ZSoqOiB0byByZWdpc3RlciBjdXN0b20gZGF0YSBpbiBUeXBlU2NyaXB0LCBhdWdtZW50IHRoZVxuICAgKiA+IHtAbGlua2NvZGUgRGF0YX0gaW50ZXJmYWNlLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIFRoaXMgZXhhbXBsZSBzaG93IGhvdyB0byBnZXQgYW5kIHNldCBpbmZvOlxuICAgKlxuICAgKiAgIGBgYGpzXG4gICAqICAgaW1wb3J0IHt1bmlmaWVkfSBmcm9tICd1bmlmaWVkJ1xuICAgKlxuICAgKiAgIGNvbnN0IHByb2Nlc3NvciA9IHVuaWZpZWQoKS5kYXRhKCdhbHBoYScsICdicmF2bycpXG4gICAqXG4gICAqICAgcHJvY2Vzc29yLmRhdGEoJ2FscGhhJykgLy8gPT4gJ2JyYXZvJ1xuICAgKlxuICAgKiAgIHByb2Nlc3Nvci5kYXRhKCkgLy8gPT4ge2FscGhhOiAnYnJhdm8nfVxuICAgKlxuICAgKiAgIHByb2Nlc3Nvci5kYXRhKHtjaGFybGllOiAnZGVsdGEnfSlcbiAgICpcbiAgICogICBwcm9jZXNzb3IuZGF0YSgpIC8vID0+IHtjaGFybGllOiAnZGVsdGEnfVxuICAgKiAgIGBgYFxuICAgKlxuICAgKiBAdGVtcGxhdGUge2tleW9mIERhdGF9IEtleVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHJldHVybnMge0RhdGF9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0RhdGF9IGRhdGFzZXRcbiAgICogQHJldHVybnMge1Byb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+fVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtLZXl9IGtleVxuICAgKiBAcmV0dXJucyB7RGF0YVtLZXldfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtLZXl9IGtleVxuICAgKiBAcGFyYW0ge0RhdGFbS2V5XX0gdmFsdWVcbiAgICogQHJldHVybnMge1Byb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+fVxuICAgKlxuICAgKiBAcGFyYW0ge0RhdGEgfCBLZXl9IFtrZXldXG4gICAqICAgS2V5IHRvIGdldCBvciBzZXQsIG9yIGVudGlyZSBkYXRhc2V0IHRvIHNldCwgb3Igbm90aGluZyB0byBnZXQgdGhlXG4gICAqICAgZW50aXJlIGRhdGFzZXQgKG9wdGlvbmFsKS5cbiAgICogQHBhcmFtIHtEYXRhW0tleV19IFt2YWx1ZV1cbiAgICogICBWYWx1ZSB0byBzZXQgKG9wdGlvbmFsKS5cbiAgICogQHJldHVybnMge3Vua25vd259XG4gICAqICAgVGhlIGN1cnJlbnQgcHJvY2Vzc29yIHdoZW4gc2V0dGluZywgdGhlIHZhbHVlIGF0IGBrZXlgIHdoZW4gZ2V0dGluZywgb3JcbiAgICogICB0aGUgZW50aXJlIGRhdGFzZXQgd2hlbiBnZXR0aW5nIHdpdGhvdXQga2V5LlxuICAgKi9cbiAgZGF0YShrZXksIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBTZXQgYGtleWAuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBhc3NlcnRVbmZyb3plbignZGF0YScsIHRoaXMuZnJvemVuKVxuICAgICAgICB0aGlzLm5hbWVzcGFjZVtrZXldID0gdmFsdWVcbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IGBrZXlgLlxuICAgICAgcmV0dXJuIChvd24uY2FsbCh0aGlzLm5hbWVzcGFjZSwga2V5KSAmJiB0aGlzLm5hbWVzcGFjZVtrZXldKSB8fCB1bmRlZmluZWRcbiAgICB9XG5cbiAgICAvLyBTZXQgc3BhY2UuXG4gICAgaWYgKGtleSkge1xuICAgICAgYXNzZXJ0VW5mcm96ZW4oJ2RhdGEnLCB0aGlzLmZyb3plbilcbiAgICAgIHRoaXMubmFtZXNwYWNlID0ga2V5XG4gICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8vIEdldCBzcGFjZS5cbiAgICByZXR1cm4gdGhpcy5uYW1lc3BhY2VcbiAgfVxuXG4gIC8qKlxuICAgKiBGcmVlemUgYSBwcm9jZXNzb3IuXG4gICAqXG4gICAqIEZyb3plbiBwcm9jZXNzb3JzIGFyZSBtZWFudCB0byBiZSBleHRlbmRlZCBhbmQgbm90IHRvIGJlIGNvbmZpZ3VyZWRcbiAgICogZGlyZWN0bHkuXG4gICAqXG4gICAqIFdoZW4gYSBwcm9jZXNzb3IgaXMgZnJvemVuIGl0IGNhbm5vdCBiZSB1bmZyb3plbi5cbiAgICogTmV3IHByb2Nlc3NvcnMgd29ya2luZyB0aGUgc2FtZSB3YXkgY2FuIGJlIGNyZWF0ZWQgYnkgY2FsbGluZyB0aGVcbiAgICogcHJvY2Vzc29yLlxuICAgKlxuICAgKiBJdOKAmXMgcG9zc2libGUgdG8gZnJlZXplIHByb2Nlc3NvcnMgZXhwbGljaXRseSBieSBjYWxsaW5nIGAuZnJlZXplKClgLlxuICAgKiBQcm9jZXNzb3JzIGZyZWV6ZSBhdXRvbWF0aWNhbGx5IHdoZW4gYC5wYXJzZSgpYCwgYC5ydW4oKWAsIGAucnVuU3luYygpYCxcbiAgICogYC5zdHJpbmdpZnkoKWAsIGAucHJvY2VzcygpYCwgb3IgYC5wcm9jZXNzU3luYygpYCBhcmUgY2FsbGVkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvY2Vzc29yPFBhcnNlVHJlZSwgSGVhZFRyZWUsIFRhaWxUcmVlLCBDb21waWxlVHJlZSwgQ29tcGlsZVJlc3VsdD59XG4gICAqICAgVGhlIGN1cnJlbnQgcHJvY2Vzc29yLlxuICAgKi9cbiAgZnJlZXplKCkge1xuICAgIGlmICh0aGlzLmZyb3plbikge1xuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvLyBDYXN0IHNvIHRoYXQgd2UgY2FuIHR5cGUgcGx1Z2lucyBlYXNpZXIuXG4gICAgLy8gUGx1Z2lucyBhcmUgc3VwcG9zZWQgdG8gYmUgdXNhYmxlIG9uIGRpZmZlcmVudCBwcm9jZXNzb3JzLCBub3QganVzdCBvblxuICAgIC8vIHRoaXMgZXhhY3QgcHJvY2Vzc29yLlxuICAgIGNvbnN0IHNlbGYgPSAvKiogQHR5cGUge1Byb2Nlc3Nvcn0gKi8gKC8qKiBAdHlwZSB7dW5rbm93bn0gKi8gKHRoaXMpKVxuXG4gICAgd2hpbGUgKCsrdGhpcy5mcmVlemVJbmRleCA8IHRoaXMuYXR0YWNoZXJzLmxlbmd0aCkge1xuICAgICAgY29uc3QgW2F0dGFjaGVyLCAuLi5vcHRpb25zXSA9IHRoaXMuYXR0YWNoZXJzW3RoaXMuZnJlZXplSW5kZXhdXG5cbiAgICAgIGlmIChvcHRpb25zWzBdID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9uc1swXSA9PT0gdHJ1ZSkge1xuICAgICAgICBvcHRpb25zWzBdID0gdW5kZWZpbmVkXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVyID0gYXR0YWNoZXIuY2FsbChzZWxmLCAuLi5vcHRpb25zKVxuXG4gICAgICBpZiAodHlwZW9mIHRyYW5zZm9ybWVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtZXJzLnVzZSh0cmFuc2Zvcm1lcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmZyb3plbiA9IHRydWVcbiAgICB0aGlzLmZyZWV6ZUluZGV4ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRleHQgdG8gYSBzeW50YXggdHJlZS5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHBhcnNlYCBmcmVlemVzIHRoZSBwcm9jZXNzb3IgaWYgbm90IGFscmVhZHkgKmZyb3plbiouXG4gICAqXG4gICAqID4gKipOb3RlKio6IGBwYXJzZWAgcGVyZm9ybXMgdGhlIHBhcnNlIHBoYXNlLCBub3QgdGhlIHJ1biBwaGFzZSBvciBvdGhlclxuICAgKiA+IHBoYXNlcy5cbiAgICpcbiAgICogQHBhcmFtIHtDb21wYXRpYmxlIHwgdW5kZWZpbmVkfSBbZmlsZV1cbiAgICogICBmaWxlIHRvIHBhcnNlIChvcHRpb25hbCk7IHR5cGljYWxseSBgc3RyaW5nYCBvciBgVkZpbGVgOyBhbnkgdmFsdWVcbiAgICogICBhY2NlcHRlZCBhcyBgeGAgaW4gYG5ldyBWRmlsZSh4KWAuXG4gICAqIEByZXR1cm5zIHtQYXJzZVRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogUGFyc2VUcmVlfVxuICAgKiAgIFN5bnRheCB0cmVlIHJlcHJlc2VudGluZyBgZmlsZWAuXG4gICAqL1xuICBwYXJzZShmaWxlKSB7XG4gICAgdGhpcy5mcmVlemUoKVxuICAgIGNvbnN0IHJlYWxGaWxlID0gdmZpbGUoZmlsZSlcbiAgICBjb25zdCBwYXJzZXIgPSB0aGlzLnBhcnNlciB8fCB0aGlzLlBhcnNlclxuICAgIGFzc2VydFBhcnNlcigncGFyc2UnLCBwYXJzZXIpXG4gICAgcmV0dXJuIHBhcnNlcihTdHJpbmcocmVhbEZpbGUpLCByZWFsRmlsZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm9jZXNzIHRoZSBnaXZlbiBmaWxlIGFzIGNvbmZpZ3VyZWQgb24gdGhlIHByb2Nlc3Nvci5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHByb2Nlc3NgIGZyZWV6ZXMgdGhlIHByb2Nlc3NvciBpZiBub3QgYWxyZWFkeSAqZnJvemVuKi5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHByb2Nlc3NgIHBlcmZvcm1zIHRoZSBwYXJzZSwgcnVuLCBhbmQgc3RyaW5naWZ5IHBoYXNlcy5cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7Q29tcGF0aWJsZSB8IHVuZGVmaW5lZH0gZmlsZVxuICAgKiBAcGFyYW0ge1Byb2Nlc3NDYWxsYmFjazxWRmlsZVdpdGhPdXRwdXQ8Q29tcGlsZVJlc3VsdD4+fSBkb25lXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0NvbXBhdGlibGUgfCB1bmRlZmluZWR9IFtmaWxlXVxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxWRmlsZVdpdGhPdXRwdXQ8Q29tcGlsZVJlc3VsdD4+fVxuICAgKlxuICAgKiBAcGFyYW0ge0NvbXBhdGlibGUgfCB1bmRlZmluZWR9IFtmaWxlXVxuICAgKiAgIEZpbGUgKG9wdGlvbmFsKTsgdHlwaWNhbGx5IGBzdHJpbmdgIG9yIGBWRmlsZWBdOyBhbnkgdmFsdWUgYWNjZXB0ZWQgYXNcbiAgICogICBgeGAgaW4gYG5ldyBWRmlsZSh4KWAuXG4gICAqIEBwYXJhbSB7UHJvY2Vzc0NhbGxiYWNrPFZGaWxlV2l0aE91dHB1dDxDb21waWxlUmVzdWx0Pj4gfCB1bmRlZmluZWR9IFtkb25lXVxuICAgKiAgIENhbGxiYWNrIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFZGaWxlPiB8IHVuZGVmaW5lZH1cbiAgICogICBOb3RoaW5nIGlmIGBkb25lYCBpcyBnaXZlbi5cbiAgICogICBPdGhlcndpc2UgYSBwcm9taXNlLCByZWplY3RlZCB3aXRoIGEgZmF0YWwgZXJyb3Igb3IgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgICogICBwcm9jZXNzZWQgZmlsZS5cbiAgICpcbiAgICogICBUaGUgcGFyc2VkLCB0cmFuc2Zvcm1lZCwgYW5kIGNvbXBpbGVkIHZhbHVlIGlzIGF2YWlsYWJsZSBhdFxuICAgKiAgIGBmaWxlLnZhbHVlYCAoc2VlIG5vdGUpLlxuICAgKlxuICAgKiAgID4gKipOb3RlKio6IHVuaWZpZWQgdHlwaWNhbGx5IGNvbXBpbGVzIGJ5IHNlcmlhbGl6aW5nOiBtb3N0XG4gICAqICAgPiBjb21waWxlcnMgcmV0dXJuIGBzdHJpbmdgIChvciBgVWludDhBcnJheWApLlxuICAgKiAgID4gU29tZSBjb21waWxlcnMsIHN1Y2ggYXMgdGhlIG9uZSBjb25maWd1cmVkIHdpdGhcbiAgICogICA+IFtgcmVoeXBlLXJlYWN0YF1bcmVoeXBlLXJlYWN0XSwgcmV0dXJuIG90aGVyIHZhbHVlcyAoaW4gdGhpcyBjYXNlLCBhXG4gICAqICAgPiBSZWFjdCB0cmVlKS5cbiAgICogICA+IElmIHlvdeKAmXJlIHVzaW5nIGEgY29tcGlsZXIgdGhhdCBkb2VzbuKAmXQgc2VyaWFsaXplLCBleHBlY3QgZGlmZmVyZW50XG4gICAqICAgPiByZXN1bHQgdmFsdWVzLlxuICAgKiAgID5cbiAgICogICA+IFRvIHJlZ2lzdGVyIGN1c3RvbSByZXN1bHRzIGluIFR5cGVTY3JpcHQsIGFkZCB0aGVtIHRvXG4gICAqICAgPiB7QGxpbmtjb2RlIENvbXBpbGVSZXN1bHRNYXB9LlxuICAgKlxuICAgKiAgIFtyZWh5cGUtcmVhY3RdOiBodHRwczovL2dpdGh1Yi5jb20vcmVoeXBlanMvcmVoeXBlLXJlYWN0XG4gICAqL1xuICBwcm9jZXNzKGZpbGUsIGRvbmUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpc1xuXG4gICAgdGhpcy5mcmVlemUoKVxuICAgIGFzc2VydFBhcnNlcigncHJvY2VzcycsIHRoaXMucGFyc2VyIHx8IHRoaXMuUGFyc2VyKVxuICAgIGFzc2VydENvbXBpbGVyKCdwcm9jZXNzJywgdGhpcy5jb21waWxlciB8fCB0aGlzLkNvbXBpbGVyKVxuXG4gICAgcmV0dXJuIGRvbmUgPyBleGVjdXRvcih1bmRlZmluZWQsIGRvbmUpIDogbmV3IFByb21pc2UoZXhlY3V0b3IpXG5cbiAgICAvLyBOb3RlOiBgdm9pZGBzIG5lZWRlZCBmb3IgVFMuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHsoKGZpbGU6IFZGaWxlV2l0aE91dHB1dDxDb21waWxlUmVzdWx0PikgPT4gdW5kZWZpbmVkIHwgdm9pZCkgfCB1bmRlZmluZWR9IHJlc29sdmVcbiAgICAgKiBAcGFyYW0geyhlcnJvcjogRXJyb3IgfCB1bmRlZmluZWQpID0+IHVuZGVmaW5lZCB8IHZvaWR9IHJlamVjdFxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBjb25zdCByZWFsRmlsZSA9IHZmaWxlKGZpbGUpXG4gICAgICAvLyBBc3N1bWUgYFBhcnNlVHJlZWAgKHRoZSByZXN1bHQgb2YgdGhlIHBhcnNlcikgbWF0Y2hlcyBgSGVhZFRyZWVgICh0aGVcbiAgICAgIC8vIGlucHV0IG9mIHRoZSBmaXJzdCB0cmFuc2Zvcm0pLlxuICAgICAgY29uc3QgcGFyc2VUcmVlID1cbiAgICAgICAgLyoqIEB0eXBlIHtIZWFkVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBIZWFkVHJlZX0gKi8gKFxuICAgICAgICAgIC8qKiBAdHlwZSB7dW5rbm93bn0gKi8gKHNlbGYucGFyc2UocmVhbEZpbGUpKVxuICAgICAgICApXG5cbiAgICAgIHNlbGYucnVuKHBhcnNlVHJlZSwgcmVhbEZpbGUsIGZ1bmN0aW9uIChlcnJvciwgdHJlZSwgZmlsZSkge1xuICAgICAgICBpZiAoZXJyb3IgfHwgIXRyZWUgfHwgIWZpbGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVhbERvbmUoZXJyb3IpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBc3N1bWUgYFRhaWxUcmVlYCAodGhlIG91dHB1dCBvZiB0aGUgbGFzdCB0cmFuc2Zvcm0pIG1hdGNoZXNcbiAgICAgICAgLy8gYENvbXBpbGVUcmVlYCAodGhlIGlucHV0IG9mIHRoZSBjb21waWxlcikuXG4gICAgICAgIGNvbnN0IGNvbXBpbGVUcmVlID1cbiAgICAgICAgICAvKiogQHR5cGUge0NvbXBpbGVUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IENvbXBpbGVUcmVlfSAqLyAoXG4gICAgICAgICAgICAvKiogQHR5cGUge3Vua25vd259ICovICh0cmVlKVxuICAgICAgICAgIClcblxuICAgICAgICBjb25zdCBjb21waWxlUmVzdWx0ID0gc2VsZi5zdHJpbmdpZnkoY29tcGlsZVRyZWUsIGZpbGUpXG5cbiAgICAgICAgaWYgKGxvb2tzTGlrZUFWYWx1ZShjb21waWxlUmVzdWx0KSkge1xuICAgICAgICAgIGZpbGUudmFsdWUgPSBjb21waWxlUmVzdWx0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmlsZS5yZXN1bHQgPSBjb21waWxlUmVzdWx0XG4gICAgICAgIH1cblxuICAgICAgICByZWFsRG9uZShlcnJvciwgLyoqIEB0eXBlIHtWRmlsZVdpdGhPdXRwdXQ8Q29tcGlsZVJlc3VsdD59ICovIChmaWxlKSlcbiAgICAgIH0pXG5cbiAgICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtFcnJvciB8IHVuZGVmaW5lZH0gZXJyb3JcbiAgICAgICAqIEBwYXJhbSB7VkZpbGVXaXRoT3V0cHV0PENvbXBpbGVSZXN1bHQ+IHwgdW5kZWZpbmVkfSBbZmlsZV1cbiAgICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlYWxEb25lKGVycm9yLCBmaWxlKSB7XG4gICAgICAgIGlmIChlcnJvciB8fCAhZmlsZSkge1xuICAgICAgICAgIHJlamVjdChlcnJvcilcbiAgICAgICAgfSBlbHNlIGlmIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVzb2x2ZShmaWxlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFzc2VydChkb25lLCAnYGRvbmVgIGlzIGRlZmluZWQgaWYgYHJlc29sdmVgIGlzIG5vdCcpXG4gICAgICAgICAgZG9uZSh1bmRlZmluZWQsIGZpbGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyB0aGUgZ2l2ZW4gZmlsZSBhcyBjb25maWd1cmVkIG9uIHRoZSBwcm9jZXNzb3IuXG4gICAqXG4gICAqIEFuIGVycm9yIGlzIHRocm93biBpZiBhc3luY2hyb25vdXMgdHJhbnNmb3JtcyBhcmUgY29uZmlndXJlZC5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHByb2Nlc3NTeW5jYCBmcmVlemVzIHRoZSBwcm9jZXNzb3IgaWYgbm90IGFscmVhZHkgKmZyb3plbiouXG4gICAqXG4gICAqID4gKipOb3RlKio6IGBwcm9jZXNzU3luY2AgcGVyZm9ybXMgdGhlIHBhcnNlLCBydW4sIGFuZCBzdHJpbmdpZnkgcGhhc2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge0NvbXBhdGlibGUgfCB1bmRlZmluZWR9IFtmaWxlXVxuICAgKiAgIEZpbGUgKG9wdGlvbmFsKTsgdHlwaWNhbGx5IGBzdHJpbmdgIG9yIGBWRmlsZWA7IGFueSB2YWx1ZSBhY2NlcHRlZCBhc1xuICAgKiAgIGB4YCBpbiBgbmV3IFZGaWxlKHgpYC5cbiAgICogQHJldHVybnMge1ZGaWxlV2l0aE91dHB1dDxDb21waWxlUmVzdWx0Pn1cbiAgICogICBUaGUgcHJvY2Vzc2VkIGZpbGUuXG4gICAqXG4gICAqICAgVGhlIHBhcnNlZCwgdHJhbnNmb3JtZWQsIGFuZCBjb21waWxlZCB2YWx1ZSBpcyBhdmFpbGFibGUgYXRcbiAgICogICBgZmlsZS52YWx1ZWAgKHNlZSBub3RlKS5cbiAgICpcbiAgICogICA+ICoqTm90ZSoqOiB1bmlmaWVkIHR5cGljYWxseSBjb21waWxlcyBieSBzZXJpYWxpemluZzogbW9zdFxuICAgKiAgID4gY29tcGlsZXJzIHJldHVybiBgc3RyaW5nYCAob3IgYFVpbnQ4QXJyYXlgKS5cbiAgICogICA+IFNvbWUgY29tcGlsZXJzLCBzdWNoIGFzIHRoZSBvbmUgY29uZmlndXJlZCB3aXRoXG4gICAqICAgPiBbYHJlaHlwZS1yZWFjdGBdW3JlaHlwZS1yZWFjdF0sIHJldHVybiBvdGhlciB2YWx1ZXMgKGluIHRoaXMgY2FzZSwgYVxuICAgKiAgID4gUmVhY3QgdHJlZSkuXG4gICAqICAgPiBJZiB5b3XigJlyZSB1c2luZyBhIGNvbXBpbGVyIHRoYXQgZG9lc27igJl0IHNlcmlhbGl6ZSwgZXhwZWN0IGRpZmZlcmVudFxuICAgKiAgID4gcmVzdWx0IHZhbHVlcy5cbiAgICogICA+XG4gICAqICAgPiBUbyByZWdpc3RlciBjdXN0b20gcmVzdWx0cyBpbiBUeXBlU2NyaXB0LCBhZGQgdGhlbSB0b1xuICAgKiAgID4ge0BsaW5rY29kZSBDb21waWxlUmVzdWx0TWFwfS5cbiAgICpcbiAgICogICBbcmVoeXBlLXJlYWN0XTogaHR0cHM6Ly9naXRodWIuY29tL3JlaHlwZWpzL3JlaHlwZS1yZWFjdFxuICAgKi9cbiAgcHJvY2Vzc1N5bmMoZmlsZSkge1xuICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICBsZXQgY29tcGxldGUgPSBmYWxzZVxuICAgIC8qKiBAdHlwZSB7VkZpbGVXaXRoT3V0cHV0PENvbXBpbGVSZXN1bHQ+IHwgdW5kZWZpbmVkfSAqL1xuICAgIGxldCByZXN1bHRcblxuICAgIHRoaXMuZnJlZXplKClcbiAgICBhc3NlcnRQYXJzZXIoJ3Byb2Nlc3NTeW5jJywgdGhpcy5wYXJzZXIgfHwgdGhpcy5QYXJzZXIpXG4gICAgYXNzZXJ0Q29tcGlsZXIoJ3Byb2Nlc3NTeW5jJywgdGhpcy5jb21waWxlciB8fCB0aGlzLkNvbXBpbGVyKVxuXG4gICAgdGhpcy5wcm9jZXNzKGZpbGUsIHJlYWxEb25lKVxuICAgIGFzc2VydERvbmUoJ3Byb2Nlc3NTeW5jJywgJ3Byb2Nlc3MnLCBjb21wbGV0ZSlcbiAgICBhc3NlcnQocmVzdWx0LCAnd2UgZWl0aGVyIGJhaWxlZCBvbiBhbiBlcnJvciBvciBoYXZlIGEgdHJlZScpXG5cbiAgICByZXR1cm4gcmVzdWx0XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UHJvY2Vzc0NhbGxiYWNrPFZGaWxlV2l0aE91dHB1dDxDb21waWxlUmVzdWx0Pj59XG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVhbERvbmUoZXJyb3IsIGZpbGUpIHtcbiAgICAgIGNvbXBsZXRlID0gdHJ1ZVxuICAgICAgYmFpbChlcnJvcilcbiAgICAgIHJlc3VsdCA9IGZpbGVcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUnVuICp0cmFuc2Zvcm1lcnMqIG9uIGEgc3ludGF4IHRyZWUuXG4gICAqXG4gICAqID4gKipOb3RlKio6IGBydW5gIGZyZWV6ZXMgdGhlIHByb2Nlc3NvciBpZiBub3QgYWxyZWFkeSAqZnJvemVuKi5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHJ1bmAgcGVyZm9ybXMgdGhlIHJ1biBwaGFzZSwgbm90IG90aGVyIHBoYXNlcy5cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7SGVhZFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogSGVhZFRyZWV9IHRyZWVcbiAgICogQHBhcmFtIHtSdW5DYWxsYmFjazxUYWlsVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBUYWlsVHJlZT59IGRvbmVcbiAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7SGVhZFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogSGVhZFRyZWV9IHRyZWVcbiAgICogQHBhcmFtIHtDb21wYXRpYmxlIHwgdW5kZWZpbmVkfSBmaWxlXG4gICAqIEBwYXJhbSB7UnVuQ2FsbGJhY2s8VGFpbFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogVGFpbFRyZWU+fSBkb25lXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0hlYWRUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IEhlYWRUcmVlfSB0cmVlXG4gICAqIEBwYXJhbSB7Q29tcGF0aWJsZSB8IHVuZGVmaW5lZH0gW2ZpbGVdXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFRhaWxUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IFRhaWxUcmVlPn1cbiAgICpcbiAgICogQHBhcmFtIHtIZWFkVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBIZWFkVHJlZX0gdHJlZVxuICAgKiAgIFRyZWUgdG8gdHJhbnNmb3JtIGFuZCBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyhcbiAgICogICBSdW5DYWxsYmFjazxUYWlsVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBUYWlsVHJlZT4gfFxuICAgKiAgIENvbXBhdGlibGVcbiAgICogKX0gW2ZpbGVdXG4gICAqICAgRmlsZSBhc3NvY2lhdGVkIHdpdGggYG5vZGVgIChvcHRpb25hbCk7IGFueSB2YWx1ZSBhY2NlcHRlZCBhcyBgeGAgaW5cbiAgICogICBgbmV3IFZGaWxlKHgpYC5cbiAgICogQHBhcmFtIHtSdW5DYWxsYmFjazxUYWlsVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBUYWlsVHJlZT59IFtkb25lXVxuICAgKiAgIENhbGxiYWNrIChvcHRpb25hbCkuXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFRhaWxUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IFRhaWxUcmVlPiB8IHVuZGVmaW5lZH1cbiAgICogICBOb3RoaW5nIGlmIGBkb25lYCBpcyBnaXZlbi5cbiAgICogICBPdGhlcndpc2UsIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIGEgZmF0YWwgZXJyb3Igb3IgcmVzb2x2ZWQgd2l0aCB0aGVcbiAgICogICB0cmFuc2Zvcm1lZCB0cmVlLlxuICAgKi9cbiAgcnVuKHRyZWUsIGZpbGUsIGRvbmUpIHtcbiAgICBhc3NlcnROb2RlKHRyZWUpXG4gICAgdGhpcy5mcmVlemUoKVxuXG4gICAgY29uc3QgdHJhbnNmb3JtZXJzID0gdGhpcy50cmFuc2Zvcm1lcnNcblxuICAgIGlmICghZG9uZSAmJiB0eXBlb2YgZmlsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZG9uZSA9IGZpbGVcbiAgICAgIGZpbGUgPSB1bmRlZmluZWRcbiAgICB9XG5cbiAgICByZXR1cm4gZG9uZSA/IGV4ZWN1dG9yKHVuZGVmaW5lZCwgZG9uZSkgOiBuZXcgUHJvbWlzZShleGVjdXRvcilcblxuICAgIC8vIE5vdGU6IGB2b2lkYHMgbmVlZGVkIGZvciBUUy5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyhcbiAgICAgKiAgICgodHJlZTogVGFpbFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogVGFpbFRyZWUpID0+IHVuZGVmaW5lZCB8IHZvaWQpIHxcbiAgICAgKiAgIHVuZGVmaW5lZFxuICAgICAqICl9IHJlc29sdmVcbiAgICAgKiBAcGFyYW0geyhlcnJvcjogRXJyb3IpID0+IHVuZGVmaW5lZCB8IHZvaWR9IHJlamVjdFxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBhc3NlcnQoXG4gICAgICAgIHR5cGVvZiBmaWxlICE9PSAnZnVuY3Rpb24nLFxuICAgICAgICAnYGZpbGVgIGNhbuKAmXQgYmUgYSBgZG9uZWAgYW55bW9yZSwgd2UgY2hlY2tlZCdcbiAgICAgIClcbiAgICAgIGNvbnN0IHJlYWxGaWxlID0gdmZpbGUoZmlsZSlcbiAgICAgIHRyYW5zZm9ybWVycy5ydW4odHJlZSwgcmVhbEZpbGUsIHJlYWxEb25lKVxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7RXJyb3IgfCB1bmRlZmluZWR9IGVycm9yXG4gICAgICAgKiBAcGFyYW0ge05vZGV9IG91dHB1dFRyZWVcbiAgICAgICAqIEBwYXJhbSB7VkZpbGV9IGZpbGVcbiAgICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICAgKi9cbiAgICAgIGZ1bmN0aW9uIHJlYWxEb25lKGVycm9yLCBvdXRwdXRUcmVlLCBmaWxlKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdGluZ1RyZWUgPVxuICAgICAgICAgIC8qKiBAdHlwZSB7VGFpbFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogVGFpbFRyZWV9ICovIChcbiAgICAgICAgICAgIG91dHB1dFRyZWUgfHwgdHJlZVxuICAgICAgICAgIClcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZWplY3QoZXJyb3IpXG4gICAgICAgIH0gZWxzZSBpZiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0aW5nVHJlZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhc3NlcnQoZG9uZSwgJ2Bkb25lYCBpcyBkZWZpbmVkIGlmIGByZXNvbHZlYCBpcyBub3QnKVxuICAgICAgICAgIGRvbmUodW5kZWZpbmVkLCByZXN1bHRpbmdUcmVlLCBmaWxlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJ1biAqdHJhbnNmb3JtZXJzKiBvbiBhIHN5bnRheCB0cmVlLlxuICAgKlxuICAgKiBBbiBlcnJvciBpcyB0aHJvd24gaWYgYXN5bmNocm9ub3VzIHRyYW5zZm9ybXMgYXJlIGNvbmZpZ3VyZWQuXG4gICAqXG4gICAqID4gKipOb3RlKio6IGBydW5TeW5jYCBmcmVlemVzIHRoZSBwcm9jZXNzb3IgaWYgbm90IGFscmVhZHkgKmZyb3plbiouXG4gICAqXG4gICAqID4gKipOb3RlKio6IGBydW5TeW5jYCBwZXJmb3JtcyB0aGUgcnVuIHBoYXNlLCBub3Qgb3RoZXIgcGhhc2VzLlxuICAgKlxuICAgKiBAcGFyYW0ge0hlYWRUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IEhlYWRUcmVlfSB0cmVlXG4gICAqICAgVHJlZSB0byB0cmFuc2Zvcm0gYW5kIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Q29tcGF0aWJsZSB8IHVuZGVmaW5lZH0gW2ZpbGVdXG4gICAqICAgRmlsZSBhc3NvY2lhdGVkIHdpdGggYG5vZGVgIChvcHRpb25hbCk7IGFueSB2YWx1ZSBhY2NlcHRlZCBhcyBgeGAgaW5cbiAgICogICBgbmV3IFZGaWxlKHgpYC5cbiAgICogQHJldHVybnMge1RhaWxUcmVlIGV4dGVuZHMgdW5kZWZpbmVkID8gTm9kZSA6IFRhaWxUcmVlfVxuICAgKiAgIFRyYW5zZm9ybWVkIHRyZWUuXG4gICAqL1xuICBydW5TeW5jKHRyZWUsIGZpbGUpIHtcbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgbGV0IGNvbXBsZXRlID0gZmFsc2VcbiAgICAvKiogQHR5cGUgeyhUYWlsVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBUYWlsVHJlZSkgfCB1bmRlZmluZWR9ICovXG4gICAgbGV0IHJlc3VsdFxuXG4gICAgdGhpcy5ydW4odHJlZSwgZmlsZSwgcmVhbERvbmUpXG5cbiAgICBhc3NlcnREb25lKCdydW5TeW5jJywgJ3J1bicsIGNvbXBsZXRlKVxuICAgIGFzc2VydChyZXN1bHQsICd3ZSBlaXRoZXIgYmFpbGVkIG9uIGFuIGVycm9yIG9yIGhhdmUgYSB0cmVlJylcbiAgICByZXR1cm4gcmVzdWx0XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7UnVuQ2FsbGJhY2s8VGFpbFRyZWUgZXh0ZW5kcyB1bmRlZmluZWQgPyBOb2RlIDogVGFpbFRyZWU+fVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlYWxEb25lKGVycm9yLCB0cmVlKSB7XG4gICAgICBiYWlsKGVycm9yKVxuICAgICAgcmVzdWx0ID0gdHJlZVxuICAgICAgY29tcGxldGUgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbXBpbGUgYSBzeW50YXggdHJlZS5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHN0cmluZ2lmeWAgZnJlZXplcyB0aGUgcHJvY2Vzc29yIGlmIG5vdCBhbHJlYWR5ICpmcm96ZW4qLlxuICAgKlxuICAgKiA+ICoqTm90ZSoqOiBgc3RyaW5naWZ5YCBwZXJmb3JtcyB0aGUgc3RyaW5naWZ5IHBoYXNlLCBub3QgdGhlIHJ1biBwaGFzZVxuICAgKiA+IG9yIG90aGVyIHBoYXNlcy5cbiAgICpcbiAgICogQHBhcmFtIHtDb21waWxlVHJlZSBleHRlbmRzIHVuZGVmaW5lZCA/IE5vZGUgOiBDb21waWxlVHJlZX0gdHJlZVxuICAgKiAgIFRyZWUgdG8gY29tcGlsZS5cbiAgICogQHBhcmFtIHtDb21wYXRpYmxlIHwgdW5kZWZpbmVkfSBbZmlsZV1cbiAgICogICBGaWxlIGFzc29jaWF0ZWQgd2l0aCBgbm9kZWAgKG9wdGlvbmFsKTsgYW55IHZhbHVlIGFjY2VwdGVkIGFzIGB4YCBpblxuICAgKiAgIGBuZXcgVkZpbGUoeClgLlxuICAgKiBAcmV0dXJucyB7Q29tcGlsZVJlc3VsdCBleHRlbmRzIHVuZGVmaW5lZCA/IFZhbHVlIDogQ29tcGlsZVJlc3VsdH1cbiAgICogICBUZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmVlIChzZWUgbm90ZSkuXG4gICAqXG4gICAqICAgPiAqKk5vdGUqKjogdW5pZmllZCB0eXBpY2FsbHkgY29tcGlsZXMgYnkgc2VyaWFsaXppbmc6IG1vc3QgY29tcGlsZXJzXG4gICAqICAgPiByZXR1cm4gYHN0cmluZ2AgKG9yIGBVaW50OEFycmF5YCkuXG4gICAqICAgPiBTb21lIGNvbXBpbGVycywgc3VjaCBhcyB0aGUgb25lIGNvbmZpZ3VyZWQgd2l0aFxuICAgKiAgID4gW2ByZWh5cGUtcmVhY3RgXVtyZWh5cGUtcmVhY3RdLCByZXR1cm4gb3RoZXIgdmFsdWVzIChpbiB0aGlzIGNhc2UsIGFcbiAgICogICA+IFJlYWN0IHRyZWUpLlxuICAgKiAgID4gSWYgeW914oCZcmUgdXNpbmcgYSBjb21waWxlciB0aGF0IGRvZXNu4oCZdCBzZXJpYWxpemUsIGV4cGVjdCBkaWZmZXJlbnRcbiAgICogICA+IHJlc3VsdCB2YWx1ZXMuXG4gICAqICAgPlxuICAgKiAgID4gVG8gcmVnaXN0ZXIgY3VzdG9tIHJlc3VsdHMgaW4gVHlwZVNjcmlwdCwgYWRkIHRoZW0gdG9cbiAgICogICA+IHtAbGlua2NvZGUgQ29tcGlsZVJlc3VsdE1hcH0uXG4gICAqXG4gICAqICAgW3JlaHlwZS1yZWFjdF06IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWh5cGVqcy9yZWh5cGUtcmVhY3RcbiAgICovXG4gIHN0cmluZ2lmeSh0cmVlLCBmaWxlKSB7XG4gICAgdGhpcy5mcmVlemUoKVxuICAgIGNvbnN0IHJlYWxGaWxlID0gdmZpbGUoZmlsZSlcbiAgICBjb25zdCBjb21waWxlciA9IHRoaXMuY29tcGlsZXIgfHwgdGhpcy5Db21waWxlclxuICAgIGFzc2VydENvbXBpbGVyKCdzdHJpbmdpZnknLCBjb21waWxlcilcbiAgICBhc3NlcnROb2RlKHRyZWUpXG5cbiAgICByZXR1cm4gY29tcGlsZXIodHJlZSwgcmVhbEZpbGUpXG4gIH1cblxuICAvKipcbiAgICogQ29uZmlndXJlIHRoZSBwcm9jZXNzb3IgdG8gdXNlIGEgcGx1Z2luLCBhIGxpc3Qgb2YgdXNhYmxlIHZhbHVlcywgb3IgYVxuICAgKiBwcmVzZXQuXG4gICAqXG4gICAqIElmIHRoZSBwcm9jZXNzb3IgaXMgYWxyZWFkeSB1c2luZyBhIHBsdWdpbiwgdGhlIHByZXZpb3VzIHBsdWdpblxuICAgKiBjb25maWd1cmF0aW9uIGlzIGNoYW5nZWQgYmFzZWQgb24gdGhlIG9wdGlvbnMgdGhhdCBhcmUgcGFzc2VkIGluLlxuICAgKiBJbiBvdGhlciB3b3JkcywgdGhlIHBsdWdpbiBpcyBub3QgYWRkZWQgYSBzZWNvbmQgdGltZS5cbiAgICpcbiAgICogPiAqKk5vdGUqKjogYHVzZWAgY2Fubm90IGJlIGNhbGxlZCBvbiAqZnJvemVuKiBwcm9jZXNzb3JzLlxuICAgKiA+IENhbGwgdGhlIHByb2Nlc3NvciBmaXJzdCB0byBjcmVhdGUgYSBuZXcgdW5mcm96ZW4gcHJvY2Vzc29yLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiAgIFRoZXJlIGFyZSBtYW55IHdheXMgdG8gcGFzcyBwbHVnaW5zIHRvIGAudXNlKClgLlxuICAgKiAgIFRoaXMgZXhhbXBsZSBnaXZlcyBhbiBvdmVydmlldzpcbiAgICpcbiAgICogICBgYGBqc1xuICAgKiAgIGltcG9ydCB7dW5pZmllZH0gZnJvbSAndW5pZmllZCdcbiAgICpcbiAgICogICB1bmlmaWVkKClcbiAgICogICAgIC8vIFBsdWdpbiB3aXRoIG9wdGlvbnM6XG4gICAqICAgICAudXNlKHBsdWdpbkEsIHt4OiB0cnVlLCB5OiB0cnVlfSlcbiAgICogICAgIC8vIFBhc3NpbmcgdGhlIHNhbWUgcGx1Z2luIGFnYWluIG1lcmdlcyBjb25maWd1cmF0aW9uICh0byBge3g6IHRydWUsIHk6IGZhbHNlLCB6OiB0cnVlfWApOlxuICAgKiAgICAgLnVzZShwbHVnaW5BLCB7eTogZmFsc2UsIHo6IHRydWV9KVxuICAgKiAgICAgLy8gUGx1Z2luczpcbiAgICogICAgIC51c2UoW3BsdWdpbkIsIHBsdWdpbkNdKVxuICAgKiAgICAgLy8gVHdvIHBsdWdpbnMsIHRoZSBzZWNvbmQgd2l0aCBvcHRpb25zOlxuICAgKiAgICAgLnVzZShbcGx1Z2luRCwgW3BsdWdpbkUsIHt9XV0pXG4gICAqICAgICAvLyBQcmVzZXQgd2l0aCBwbHVnaW5zIGFuZCBzZXR0aW5nczpcbiAgICogICAgIC51c2Uoe3BsdWdpbnM6IFtwbHVnaW5GLCBbcGx1Z2luRywge31dXSwgc2V0dGluZ3M6IHtwb3NpdGlvbjogZmFsc2V9fSlcbiAgICogICAgIC8vIFNldHRpbmdzIG9ubHk6XG4gICAqICAgICAudXNlKHtzZXR0aW5nczoge3Bvc2l0aW9uOiBmYWxzZX19KVxuICAgKiAgIGBgYFxuICAgKlxuICAgKiBAdGVtcGxhdGUge0FycmF5PHVua25vd24+fSBbUGFyYW1ldGVycz1bXV1cbiAgICogQHRlbXBsYXRlIHtOb2RlIHwgc3RyaW5nIHwgdW5kZWZpbmVkfSBbSW5wdXQ9dW5kZWZpbmVkXVxuICAgKiBAdGVtcGxhdGUgW091dHB1dD1JbnB1dF1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7UHJlc2V0IHwgbnVsbCB8IHVuZGVmaW5lZH0gW3ByZXNldF1cbiAgICogQHJldHVybnMge1Byb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+fVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtQbHVnZ2FibGVMaXN0fSBsaXN0XG4gICAqIEByZXR1cm5zIHtQcm9jZXNzb3I8UGFyc2VUcmVlLCBIZWFkVHJlZSwgVGFpbFRyZWUsIENvbXBpbGVUcmVlLCBDb21waWxlUmVzdWx0Pn1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7UGx1Z2luPFBhcmFtZXRlcnMsIElucHV0LCBPdXRwdXQ+fSBwbHVnaW5cbiAgICogQHBhcmFtIHsuLi4oUGFyYW1ldGVycyB8IFtib29sZWFuXSl9IHBhcmFtZXRlcnNcbiAgICogQHJldHVybnMge1VzZVBsdWdpbjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQsIElucHV0LCBPdXRwdXQ+fVxuICAgKlxuICAgKiBAcGFyYW0ge1BsdWdnYWJsZUxpc3QgfCBQbHVnaW4gfCBQcmVzZXQgfCBudWxsIHwgdW5kZWZpbmVkfSB2YWx1ZVxuICAgKiAgIFVzYWJsZSB2YWx1ZS5cbiAgICogQHBhcmFtIHsuLi51bmtub3dufSBwYXJhbWV0ZXJzXG4gICAqICAgUGFyYW1ldGVycywgd2hlbiBhIHBsdWdpbiBpcyBnaXZlbiBhcyBhIHVzYWJsZSB2YWx1ZS5cbiAgICogQHJldHVybnMge1Byb2Nlc3NvcjxQYXJzZVRyZWUsIEhlYWRUcmVlLCBUYWlsVHJlZSwgQ29tcGlsZVRyZWUsIENvbXBpbGVSZXN1bHQ+fVxuICAgKiAgIEN1cnJlbnQgcHJvY2Vzc29yLlxuICAgKi9cbiAgdXNlKHZhbHVlLCAuLi5wYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgYXR0YWNoZXJzID0gdGhpcy5hdHRhY2hlcnNcbiAgICBjb25zdCBuYW1lc3BhY2UgPSB0aGlzLm5hbWVzcGFjZVxuXG4gICAgYXNzZXJ0VW5mcm96ZW4oJ3VzZScsIHRoaXMuZnJvemVuKVxuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEVtcHR5LlxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhZGRQbHVnaW4odmFsdWUsIHBhcmFtZXRlcnMpXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgYWRkTGlzdCh2YWx1ZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZFByZXNldCh2YWx1ZSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdXNhYmxlIHZhbHVlLCBub3QgYCcgKyB2YWx1ZSArICdgJylcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpc1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQbHVnZ2FibGV9IHZhbHVlXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgYWRkUGx1Z2luKHZhbHVlLCBbXSlcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBjb25zdCBbcGx1Z2luLCAuLi5wYXJhbWV0ZXJzXSA9XG4gICAgICAgICAgICAvKiogQHR5cGUge1BsdWdpblR1cGxlPEFycmF5PHVua25vd24+Pn0gKi8gKHZhbHVlKVxuICAgICAgICAgIGFkZFBsdWdpbihwbHVnaW4sIHBhcmFtZXRlcnMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkUHJlc2V0KHZhbHVlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFeHBlY3RlZCB1c2FibGUgdmFsdWUsIG5vdCBgJyArIHZhbHVlICsgJ2AnKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UHJlc2V0fSByZXN1bHRcbiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFkZFByZXNldChyZXN1bHQpIHtcbiAgICAgIGlmICghKCdwbHVnaW5zJyBpbiByZXN1bHQpICYmICEoJ3NldHRpbmdzJyBpbiByZXN1bHQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnRXhwZWN0ZWQgdXNhYmxlIHZhbHVlIGJ1dCByZWNlaXZlZCBhbiBlbXB0eSBwcmVzZXQsIHdoaWNoIGlzIHByb2JhYmx5IGEgbWlzdGFrZTogcHJlc2V0cyB0eXBpY2FsbHkgY29tZSB3aXRoIGBwbHVnaW5zYCBhbmQgc29tZXRpbWVzIHdpdGggYHNldHRpbmdzYCwgYnV0IHRoaXMgaGFzIG5laXRoZXInXG4gICAgICAgIClcbiAgICAgIH1cblxuICAgICAgYWRkTGlzdChyZXN1bHQucGx1Z2lucylcblxuICAgICAgaWYgKHJlc3VsdC5zZXR0aW5ncykge1xuICAgICAgICBuYW1lc3BhY2Uuc2V0dGluZ3MgPSBleHRlbmQodHJ1ZSwgbmFtZXNwYWNlLnNldHRpbmdzLCByZXN1bHQuc2V0dGluZ3MpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtQbHVnZ2FibGVMaXN0IHwgbnVsbCB8IHVuZGVmaW5lZH0gcGx1Z2luc1xuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkTGlzdChwbHVnaW5zKSB7XG4gICAgICBsZXQgaW5kZXggPSAtMVxuXG4gICAgICBpZiAocGx1Z2lucyA9PT0gbnVsbCB8fCBwbHVnaW5zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gRW1wdHkuXG4gICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkocGx1Z2lucykpIHtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBwbHVnaW5zLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IHRoaW5nID0gcGx1Z2luc1tpbmRleF1cbiAgICAgICAgICBhZGQodGhpbmcpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGEgbGlzdCBvZiBwbHVnaW5zLCBub3QgYCcgKyBwbHVnaW5zICsgJ2AnKVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UGx1Z2lufSBwbHVnaW5cbiAgICAgKiBAcGFyYW0ge0FycmF5PHVua25vd24+fSBwYXJhbWV0ZXJzXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRQbHVnaW4ocGx1Z2luLCBwYXJhbWV0ZXJzKSB7XG4gICAgICBsZXQgaW5kZXggPSAtMVxuICAgICAgbGV0IGVudHJ5SW5kZXggPSAtMVxuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGF0dGFjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGF0dGFjaGVyc1tpbmRleF1bMF0gPT09IHBsdWdpbikge1xuICAgICAgICAgIGVudHJ5SW5kZXggPSBpbmRleFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVudHJ5SW5kZXggPT09IC0xKSB7XG4gICAgICAgIGF0dGFjaGVycy5wdXNoKFtwbHVnaW4sIC4uLnBhcmFtZXRlcnNdKVxuICAgICAgfVxuICAgICAgLy8gT25seSBzZXQgaWYgdGhlcmUgd2FzIGF0IGxlYXN0IGEgYHByaW1hcnlgIHZhbHVlLCBvdGhlcndpc2Ugd2XigJlkIGNoYW5nZVxuICAgICAgLy8gYGFyZ3VtZW50cy5sZW5ndGhgLlxuICAgICAgZWxzZSBpZiAocGFyYW1ldGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBbcHJpbWFyeSwgLi4ucmVzdF0gPSBwYXJhbWV0ZXJzXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQcmltYXJ5ID0gYXR0YWNoZXJzW2VudHJ5SW5kZXhdWzFdXG4gICAgICAgIGlmIChpc1BsYWluT2JqKGN1cnJlbnRQcmltYXJ5KSAmJiBpc1BsYWluT2JqKHByaW1hcnkpKSB7XG4gICAgICAgICAgcHJpbWFyeSA9IGV4dGVuZCh0cnVlLCBjdXJyZW50UHJpbWFyeSwgcHJpbWFyeSlcbiAgICAgICAgfVxuXG4gICAgICAgIGF0dGFjaGVyc1tlbnRyeUluZGV4XSA9IFtwbHVnaW4sIHByaW1hcnksIC4uLnJlc3RdXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIE5vdGU6IHRoaXMgcmV0dXJucyBhICpjYWxsYWJsZSogaW5zdGFuY2UuXG4vLyBUaGF04oCZcyB3aHkgaXTigJlzIGRvY3VtZW50ZWQgYXMgYSBmdW5jdGlvbi5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IHByb2Nlc3Nvci5cbiAqXG4gKiBAZXhhbXBsZVxuICogICBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IGEgbmV3IHByb2Nlc3NvciBjYW4gYmUgY3JlYXRlZCAoZnJvbSBgcmVtYXJrYCkgYW5kIGxpbmtlZFxuICogICB0byAqKnN0ZGluKiooNCkgYW5kICoqc3Rkb3V0KiooNCkuXG4gKlxuICogICBgYGBqc1xuICogICBpbXBvcnQgcHJvY2VzcyBmcm9tICdub2RlOnByb2Nlc3MnXG4gKiAgIGltcG9ydCBjb25jYXRTdHJlYW0gZnJvbSAnY29uY2F0LXN0cmVhbSdcbiAqICAgaW1wb3J0IHtyZW1hcmt9IGZyb20gJ3JlbWFyaydcbiAqXG4gKiAgIHByb2Nlc3Muc3RkaW4ucGlwZShcbiAqICAgICBjb25jYXRTdHJlYW0oZnVuY3Rpb24gKGJ1Zikge1xuICogICAgICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoU3RyaW5nKHJlbWFyaygpLnByb2Nlc3NTeW5jKGJ1ZikpKVxuICogICAgIH0pXG4gKiAgIClcbiAqICAgYGBgXG4gKlxuICogQHJldHVybnNcbiAqICAgTmV3ICp1bmZyb3plbiogcHJvY2Vzc29yIChgcHJvY2Vzc29yYCkuXG4gKlxuICogICBUaGlzIHByb2Nlc3NvciBpcyBjb25maWd1cmVkIHRvIHdvcmsgdGhlIHNhbWUgYXMgaXRzIGFuY2VzdG9yLlxuICogICBXaGVuIHRoZSBkZXNjZW5kYW50IHByb2Nlc3NvciBpcyBjb25maWd1cmVkIGluIHRoZSBmdXR1cmUgaXQgZG9lcyBub3RcbiAqICAgYWZmZWN0IHRoZSBhbmNlc3RyYWwgcHJvY2Vzc29yLlxuICovXG5leHBvcnQgY29uc3QgdW5pZmllZCA9IG5ldyBQcm9jZXNzb3IoKS5mcmVlemUoKVxuXG4vKipcbiAqIEFzc2VydCBhIHBhcnNlciBpcyBhdmFpbGFibGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7dW5rbm93bn0gdmFsdWVcbiAqIEByZXR1cm5zIHthc3NlcnRzIHZhbHVlIGlzIFBhcnNlcn1cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0UGFyc2VyKG5hbWUsIHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgYCcgKyBuYW1lICsgJ2Agd2l0aG91dCBgcGFyc2VyYCcpXG4gIH1cbn1cblxuLyoqXG4gKiBBc3NlcnQgYSBjb21waWxlciBpcyBhdmFpbGFibGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7dW5rbm93bn0gdmFsdWVcbiAqIEByZXR1cm5zIHthc3NlcnRzIHZhbHVlIGlzIENvbXBpbGVyfVxuICovXG5mdW5jdGlvbiBhc3NlcnRDb21waWxlcihuYW1lLCB2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGAnICsgbmFtZSArICdgIHdpdGhvdXQgYGNvbXBpbGVyYCcpXG4gIH1cbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhlIHByb2Nlc3NvciBpcyBub3QgZnJvemVuLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3Vua25vd259IGZyb3plblxuICogQHJldHVybnMge2Fzc2VydHMgZnJvemVuIGlzIGZhbHNlfVxuICovXG5mdW5jdGlvbiBhc3NlcnRVbmZyb3plbihuYW1lLCBmcm96ZW4pIHtcbiAgaWYgKGZyb3plbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdDYW5ub3QgY2FsbCBgJyArXG4gICAgICAgIG5hbWUgK1xuICAgICAgICAnYCBvbiBhIGZyb3plbiBwcm9jZXNzb3IuXFxuQ3JlYXRlIGEgbmV3IHByb2Nlc3NvciBmaXJzdCwgYnkgY2FsbGluZyBpdDogdXNlIGBwcm9jZXNzb3IoKWAgaW5zdGVhZCBvZiBgcHJvY2Vzc29yYC4nXG4gICAgKVxuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IGBub2RlYCBpcyBhIHVuaXN0IG5vZGUuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSBub2RlXG4gKiBAcmV0dXJucyB7YXNzZXJ0cyBub2RlIGlzIE5vZGV9XG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vZGUobm9kZSkge1xuICAvLyBgaXNQbGFpbk9iamAgdW5mb3J0dW5hdGVseSB1c2VzIGBhbnlgIGluc3RlYWQgb2YgYHVua25vd25gLlxuICAvLyB0eXBlLWNvdmVyYWdlOmlnbm9yZS1uZXh0LWxpbmVcbiAgaWYgKCFpc1BsYWluT2JqKG5vZGUpIHx8IHR5cGVvZiBub2RlLnR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgbm9kZSwgZ290IGAnICsgbm9kZSArICdgJylcbiAgICAvLyBGaW5lLlxuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgYGNvbXBsZXRlYCBpcyBgdHJ1ZWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBhc3luY05hbWVcbiAqIEBwYXJhbSB7dW5rbm93bn0gY29tcGxldGVcbiAqIEByZXR1cm5zIHthc3NlcnRzIGNvbXBsZXRlIGlzIHRydWV9XG4gKi9cbmZ1bmN0aW9uIGFzc2VydERvbmUobmFtZSwgYXN5bmNOYW1lLCBjb21wbGV0ZSkge1xuICBpZiAoIWNvbXBsZXRlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2AnICsgbmFtZSArICdgIGZpbmlzaGVkIGFzeW5jLiBVc2UgYCcgKyBhc3luY05hbWUgKyAnYCBpbnN0ZWFkJ1xuICAgIClcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29tcGF0aWJsZSB8IHVuZGVmaW5lZH0gW3ZhbHVlXVxuICogQHJldHVybnMge1ZGaWxlfVxuICovXG5mdW5jdGlvbiB2ZmlsZSh2YWx1ZSkge1xuICByZXR1cm4gbG9va3NMaWtlQVZGaWxlKHZhbHVlKSA/IHZhbHVlIDogbmV3IFZGaWxlKHZhbHVlKVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Q29tcGF0aWJsZSB8IHVuZGVmaW5lZH0gW3ZhbHVlXVxuICogQHJldHVybnMge3ZhbHVlIGlzIFZGaWxlfVxuICovXG5mdW5jdGlvbiBsb29rc0xpa2VBVkZpbGUodmFsdWUpIHtcbiAgcmV0dXJuIEJvb2xlYW4oXG4gICAgdmFsdWUgJiZcbiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdtZXNzYWdlJyBpbiB2YWx1ZSAmJlxuICAgICAgJ21lc3NhZ2VzJyBpbiB2YWx1ZVxuICApXG59XG5cbi8qKlxuICogQHBhcmFtIHt1bmtub3dufSBbdmFsdWVdXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgVmFsdWV9XG4gKi9cbmZ1bmN0aW9uIGxvb2tzTGlrZUFWYWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCBpc1VpbnQ4QXJyYXkodmFsdWUpXG59XG5cbi8qKlxuICogQXNzZXJ0IGB2YWx1ZWAgaXMgYW4gYFVpbnQ4QXJyYXlgLlxuICpcbiAqIEBwYXJhbSB7dW5rbm93bn0gdmFsdWVcbiAqICAgdGhpbmcuXG4gKiBAcmV0dXJucyB7dmFsdWUgaXMgVWludDhBcnJheX1cbiAqICAgV2hldGhlciBgdmFsdWVgIGlzIGFuIGBVaW50OEFycmF5YC5cbiAqL1xuZnVuY3Rpb24gaXNVaW50OEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBCb29sZWFuKFxuICAgIHZhbHVlICYmXG4gICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAnYnl0ZUxlbmd0aCcgaW4gdmFsdWUgJiZcbiAgICAgICdieXRlT2Zmc2V0JyBpbiB2YWx1ZVxuICApXG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unified/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unist-util-visit/lib/index.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/unist-util-visit/lib/index.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CONTINUE: () => (/* reexport safe */ unist_util_visit_parents__WEBPACK_IMPORTED_MODULE_0__.CONTINUE),\n/* harmony export */   EXIT: () => (/* reexport safe */ unist_util_visit_parents__WEBPACK_IMPORTED_MODULE_0__.EXIT),\n/* harmony export */   SKIP: () => (/* reexport safe */ unist_util_visit_parents__WEBPACK_IMPORTED_MODULE_0__.SKIP),\n/* harmony export */   visit: () => (/* binding */ visit)\n/* harmony export */ });\n/* harmony import */ var unist_util_visit_parents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unist-util-visit-parents */ \"(ssr)/./node_modules/unist-util-visit-parents/lib/index.js\");\n/**\n * @typedef {import('unist').Node} UnistNode\n * @typedef {import('unist').Parent} UnistParent\n * @typedef {import('unist-util-visit-parents').VisitorResult} VisitorResult\n */\n\n/**\n * @typedef {Exclude<import('unist-util-is').Test, undefined> | undefined} Test\n *   Test from `unist-util-is`.\n *\n *   Note: we have remove and add `undefined`, because otherwise when generating\n *   automatic `.d.ts` files, TS tries to flatten paths from a local perspective,\n *   which doesnt work when publishing on npm.\n */\n\n// To do: use types from `unist-util-visit-parents` when its released.\n\n/**\n * @typedef {(\n *   Fn extends (value: any) => value is infer Thing\n *   ? Thing\n *   : Fallback\n * )} Predicate\n *   Get the value of a type guard `Fn`.\n * @template Fn\n *   Value; typically function that is a type guard (such as `(x): x is Y`).\n * @template Fallback\n *   Value to yield if `Fn` is not a type guard.\n */\n\n/**\n * @typedef {(\n *   Check extends null | undefined // No test.\n *   ? Value\n *   : Value extends {type: Check} // String (type) test.\n *   ? Value\n *   : Value extends Check // Partial test.\n *   ? Value\n *   : Check extends Function // Function test.\n *   ? Predicate<Check, Value> extends Value\n *     ? Predicate<Check, Value>\n *     : never\n *   : never // Some other test?\n * )} MatchesOne\n *   Check whether a node matches a primitive check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test, but not arrays.\n */\n\n/**\n * @typedef {(\n *   Check extends Array<any>\n *   ? MatchesOne<Value, Check[keyof Check]>\n *   : MatchesOne<Value, Check>\n * )} Matches\n *   Check whether a node matches a check in the type system.\n * @template Value\n *   Value; typically unist `Node`.\n * @template Check\n *   Value; typically `unist-util-is`-compatible test.\n */\n\n/**\n * @typedef {0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10} Uint\n *   Number; capped reasonably.\n */\n\n/**\n * @typedef {I extends 0 ? 1 : I extends 1 ? 2 : I extends 2 ? 3 : I extends 3 ? 4 : I extends 4 ? 5 : I extends 5 ? 6 : I extends 6 ? 7 : I extends 7 ? 8 : I extends 8 ? 9 : 10} Increment\n *   Increment a number in the type system.\n * @template {Uint} [I=0]\n *   Index.\n */\n\n/**\n * @typedef {(\n *   Node extends UnistParent\n *   ? Node extends {children: Array<infer Children>}\n *     ? Child extends Children ? Node : never\n *     : never\n *   : never\n * )} InternalParent\n *   Collect nodes that can be parents of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {InternalParent<InclusiveDescendant<Tree>, Child>} Parent\n *   Collect nodes in `Tree` that can be parents of `Child`.\n * @template {UnistNode} Tree\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n */\n\n/**\n * @typedef {(\n *   Depth extends Max\n *   ? never\n *   :\n *     | InternalParent<Node, Child>\n *     | InternalAncestor<Node, InternalParent<Node, Child>, Max, Increment<Depth>>\n * )} InternalAncestor\n *   Collect nodes in `Tree` that can be ancestors of `Child`.\n * @template {UnistNode} Node\n *   All node types in a tree.\n * @template {UnistNode} Child\n *   Node to search for.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @typedef {(\n *   Tree extends UnistParent\n *     ? Depth extends Max\n *       ? Tree\n *       : Tree | InclusiveDescendant<Tree['children'][number], Max, Increment<Depth>>\n *     : Tree\n * )} InclusiveDescendant\n *   Collect all (inclusive) descendants of `Tree`.\n *\n *   >  **Note**: for performance reasons, this seems to be the fastest way to\n *   > recurse without actually running into an infinite loop, which the\n *   > previous version did.\n *   >\n *   > Practically, a max of `2` is typically enough assuming a `Root` is\n *   > passed, but it doesnt improve performance.\n *   > It gets higher with `List > ListItem > Table > TableRow > TableCell`.\n *   > Using up to `10` doesnt hurt or help either.\n * @template {UnistNode} Tree\n *   Tree type.\n * @template {Uint} [Max=10]\n *   Max; searches up to this depth.\n * @template {Uint} [Depth=0]\n *   Current depth.\n */\n\n/**\n * @callback Visitor\n *   Handle a node (matching `test`, if given).\n *\n *   Visitors are free to transform `node`.\n *   They can also transform `parent`.\n *\n *   Replacing `node` itself, if `SKIP` is not returned, still causes its\n *   descendants to be walked (which is a bug).\n *\n *   When adding or removing previous siblings of `node` (or next siblings, in\n *   case of reverse), the `Visitor` should return a new `Index` to specify the\n *   sibling to traverse after `node` is traversed.\n *   Adding or removing next siblings of `node` (or previous siblings, in case\n *   of reverse) is handled as expected without needing to return a new `Index`.\n *\n *   Removing the children property of `parent` still results in them being\n *   traversed.\n * @param {Visited} node\n *   Found node.\n * @param {Visited extends UnistNode ? number | undefined : never} index\n *   Index of `node` in `parent`.\n * @param {Ancestor extends UnistParent ? Ancestor | undefined : never} parent\n *   Parent of `node`.\n * @returns {VisitorResult}\n *   What to do next.\n *\n *   An `Index` is treated as a tuple of `[CONTINUE, Index]`.\n *   An `Action` is treated as a tuple of `[Action]`.\n *\n *   Passing a tuple back only makes sense if the `Action` is `SKIP`.\n *   When the `Action` is `EXIT`, that action can be returned.\n *   When the `Action` is `CONTINUE`, `Index` can be returned.\n * @template {UnistNode} [Visited=UnistNode]\n *   Visited node type.\n * @template {UnistParent} [Ancestor=UnistParent]\n *   Ancestor type.\n */\n\n/**\n * @typedef {Visitor<Visited, Parent<Ancestor, Visited>>} BuildVisitorFromMatch\n *   Build a typed `Visitor` function from a node and all possible parents.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Visited\n *   Node type.\n * @template {UnistParent} Ancestor\n *   Parent type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromMatch<\n *     Matches<Descendant, Check>,\n *     Extract<Descendant, UnistParent>\n *   >\n * )} BuildVisitorFromDescendants\n *   Build a typed `Visitor` function from a list of descendants and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} Descendant\n *   Node type.\n * @template {Test} Check\n *   Test type.\n */\n\n/**\n * @typedef {(\n *   BuildVisitorFromDescendants<\n *     InclusiveDescendant<Tree>,\n *     Check\n *   >\n * )} BuildVisitor\n *   Build a typed `Visitor` function from a tree and a test.\n *\n *   It will infer which values are passed as `node` and which as `parent`.\n * @template {UnistNode} [Tree=UnistNode]\n *   Node type.\n * @template {Test} [Check=Test]\n *   Test type.\n */\n\n\n\n\n\n/**\n * Visit nodes.\n *\n * This algorithm performs *depth-first* *tree traversal* in *preorder*\n * (**NLR**) or if `reverse` is given, in *reverse preorder* (**NRL**).\n *\n * You can choose for which nodes `visitor` is called by passing a `test`.\n * For complex tests, you should test yourself in `visitor`, as it will be\n * faster and will have improved type information.\n *\n * Walking the tree is an intensive task.\n * Make use of the return values of the visitor when possible.\n * Instead of walking a tree multiple times, walk it once, use `unist-util-is`\n * to check if a node matches, and then perform different operations.\n *\n * You can change the tree.\n * See `Visitor` for more info.\n *\n * @overload\n * @param {Tree} tree\n * @param {Check} check\n * @param {BuildVisitor<Tree, Check>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @overload\n * @param {Tree} tree\n * @param {BuildVisitor<Tree>} visitor\n * @param {boolean | null | undefined} [reverse]\n * @returns {undefined}\n *\n * @param {UnistNode} tree\n *   Tree to traverse.\n * @param {Visitor | Test} testOrVisitor\n *   `unist-util-is`-compatible test (optional, omit to pass a visitor).\n * @param {Visitor | boolean | null | undefined} [visitorOrReverse]\n *   Handle each node (when test is omitted, pass `reverse`).\n * @param {boolean | null | undefined} [maybeReverse=false]\n *   Traverse in reverse preorder (NRL) instead of the default preorder (NLR).\n * @returns {undefined}\n *   Nothing.\n *\n * @template {UnistNode} Tree\n *   Node type.\n * @template {Test} Check\n *   `unist-util-is`-compatible test.\n */\nfunction visit(tree, testOrVisitor, visitorOrReverse, maybeReverse) {\n  /** @type {boolean | null | undefined} */\n  let reverse\n  /** @type {Test} */\n  let test\n  /** @type {Visitor} */\n  let visitor\n\n  if (\n    typeof testOrVisitor === 'function' &&\n    typeof visitorOrReverse !== 'function'\n  ) {\n    test = undefined\n    visitor = testOrVisitor\n    reverse = visitorOrReverse\n  } else {\n    // @ts-expect-error: assume the overload with test was given.\n    test = testOrVisitor\n    // @ts-expect-error: assume the overload with test was given.\n    visitor = visitorOrReverse\n    reverse = maybeReverse\n  }\n\n  (0,unist_util_visit_parents__WEBPACK_IMPORTED_MODULE_0__.visitParents)(tree, test, overload, reverse)\n\n  /**\n   * @param {UnistNode} node\n   * @param {Array<UnistParent>} parents\n   */\n  function overload(node, parents) {\n    const parent = parents[parents.length - 1]\n    const index = parent ? parent.children.indexOf(node) : undefined\n    return visitor(node, index, parent)\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3VuaXN0LXV0aWwtdmlzaXQvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQSxhQUFhLHNCQUFzQjtBQUNuQyxhQUFhLHdCQUF3QjtBQUNyQyxhQUFhLGtEQUFrRDtBQUMvRDs7QUFFQTtBQUNBLGFBQWEsOERBQThEO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHNCQUFzQixhQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBLGFBQWEsNENBQTRDO0FBQ3pELGFBQWE7QUFDYjs7QUFFQTtBQUNBLGFBQWEsc0tBQXNLO0FBQ25MO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLGtEQUFrRDtBQUMvRDtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxjQUFjLFdBQVc7QUFDekI7QUFDQSxjQUFjLFdBQVc7QUFDekI7QUFDQSxjQUFjLE1BQU07QUFDcEIsVUFBVTtBQUNWLGNBQWMsTUFBTTtBQUNwQjtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFdBQVc7QUFDekI7QUFDQSxjQUFjLE1BQU07QUFDcEIsVUFBVTtBQUNWLGNBQWMsTUFBTTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLFdBQVcsd0RBQXdEO0FBQ25FO0FBQ0EsV0FBVyw2REFBNkQ7QUFDeEU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBLGNBQWMsYUFBYTtBQUMzQjtBQUNBOztBQUVBO0FBQ0EsYUFBYSw2Q0FBNkM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0EsY0FBYyxhQUFhO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsY0FBYyxXQUFXO0FBQ3pCO0FBQ0EsY0FBYyxNQUFNO0FBQ3BCO0FBQ0E7O0FBRXFEOztBQUVROztBQUU3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsTUFBTTtBQUNqQixXQUFXLE9BQU87QUFDbEIsV0FBVywyQkFBMkI7QUFDdEMsV0FBVyw0QkFBNEI7QUFDdkMsYUFBYTtBQUNiO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakIsV0FBVyxvQkFBb0I7QUFDL0IsV0FBVyw0QkFBNEI7QUFDdkMsYUFBYTtBQUNiO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCO0FBQ0EsV0FBVyxnQkFBZ0I7QUFDM0I7QUFDQSxXQUFXLHNDQUFzQztBQUNqRDtBQUNBLFdBQVcsNEJBQTRCO0FBQ3ZDO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxjQUFjLFdBQVc7QUFDekI7QUFDQSxjQUFjLE1BQU07QUFDcEI7QUFDQTtBQUNPO0FBQ1AsYUFBYSw0QkFBNEI7QUFDekM7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQSxhQUFhLFNBQVM7QUFDdEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsc0VBQVk7O0FBRWQ7QUFDQSxhQUFhLFdBQVc7QUFDeEIsYUFBYSxvQkFBb0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL25vZGVfbW9kdWxlcy91bmlzdC11dGlsLXZpc2l0L2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ3VuaXN0JykuTm9kZX0gVW5pc3ROb2RlXG4gKiBAdHlwZWRlZiB7aW1wb3J0KCd1bmlzdCcpLlBhcmVudH0gVW5pc3RQYXJlbnRcbiAqIEB0eXBlZGVmIHtpbXBvcnQoJ3VuaXN0LXV0aWwtdmlzaXQtcGFyZW50cycpLlZpc2l0b3JSZXN1bHR9IFZpc2l0b3JSZXN1bHRcbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtFeGNsdWRlPGltcG9ydCgndW5pc3QtdXRpbC1pcycpLlRlc3QsIHVuZGVmaW5lZD4gfCB1bmRlZmluZWR9IFRlc3RcbiAqICAgVGVzdCBmcm9tIGB1bmlzdC11dGlsLWlzYC5cbiAqXG4gKiAgIE5vdGU6IHdlIGhhdmUgcmVtb3ZlIGFuZCBhZGQgYHVuZGVmaW5lZGAsIGJlY2F1c2Ugb3RoZXJ3aXNlIHdoZW4gZ2VuZXJhdGluZ1xuICogICBhdXRvbWF0aWMgYC5kLnRzYCBmaWxlcywgVFMgdHJpZXMgdG8gZmxhdHRlbiBwYXRocyBmcm9tIGEgbG9jYWwgcGVyc3BlY3RpdmUsXG4gKiAgIHdoaWNoIGRvZXNu4oCZdCB3b3JrIHdoZW4gcHVibGlzaGluZyBvbiBucG0uXG4gKi9cblxuLy8gVG8gZG86IHVzZSB0eXBlcyBmcm9tIGB1bmlzdC11dGlsLXZpc2l0LXBhcmVudHNgIHdoZW4gaXTigJlzIHJlbGVhc2VkLlxuXG4vKipcbiAqIEB0eXBlZGVmIHsoXG4gKiAgIEZuIGV4dGVuZHMgKHZhbHVlOiBhbnkpID0+IHZhbHVlIGlzIGluZmVyIFRoaW5nXG4gKiAgID8gVGhpbmdcbiAqICAgOiBGYWxsYmFja1xuICogKX0gUHJlZGljYXRlXG4gKiAgIEdldCB0aGUgdmFsdWUgb2YgYSB0eXBlIGd1YXJkIGBGbmAuXG4gKiBAdGVtcGxhdGUgRm5cbiAqICAgVmFsdWU7IHR5cGljYWxseSBmdW5jdGlvbiB0aGF0IGlzIGEgdHlwZSBndWFyZCAoc3VjaCBhcyBgKHgpOiB4IGlzIFlgKS5cbiAqIEB0ZW1wbGF0ZSBGYWxsYmFja1xuICogICBWYWx1ZSB0byB5aWVsZCBpZiBgRm5gIGlzIG5vdCBhIHR5cGUgZ3VhcmQuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KFxuICogICBDaGVjayBleHRlbmRzIG51bGwgfCB1bmRlZmluZWQgLy8gTm8gdGVzdC5cbiAqICAgPyBWYWx1ZVxuICogICA6IFZhbHVlIGV4dGVuZHMge3R5cGU6IENoZWNrfSAvLyBTdHJpbmcgKHR5cGUpIHRlc3QuXG4gKiAgID8gVmFsdWVcbiAqICAgOiBWYWx1ZSBleHRlbmRzIENoZWNrIC8vIFBhcnRpYWwgdGVzdC5cbiAqICAgPyBWYWx1ZVxuICogICA6IENoZWNrIGV4dGVuZHMgRnVuY3Rpb24gLy8gRnVuY3Rpb24gdGVzdC5cbiAqICAgPyBQcmVkaWNhdGU8Q2hlY2ssIFZhbHVlPiBleHRlbmRzIFZhbHVlXG4gKiAgICAgPyBQcmVkaWNhdGU8Q2hlY2ssIFZhbHVlPlxuICogICAgIDogbmV2ZXJcbiAqICAgOiBuZXZlciAvLyBTb21lIG90aGVyIHRlc3Q/XG4gKiApfSBNYXRjaGVzT25lXG4gKiAgIENoZWNrIHdoZXRoZXIgYSBub2RlIG1hdGNoZXMgYSBwcmltaXRpdmUgY2hlY2sgaW4gdGhlIHR5cGUgc3lzdGVtLlxuICogQHRlbXBsYXRlIFZhbHVlXG4gKiAgIFZhbHVlOyB0eXBpY2FsbHkgdW5pc3QgYE5vZGVgLlxuICogQHRlbXBsYXRlIENoZWNrXG4gKiAgIFZhbHVlOyB0eXBpY2FsbHkgYHVuaXN0LXV0aWwtaXNgLWNvbXBhdGlibGUgdGVzdCwgYnV0IG5vdCBhcnJheXMuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KFxuICogICBDaGVjayBleHRlbmRzIEFycmF5PGFueT5cbiAqICAgPyBNYXRjaGVzT25lPFZhbHVlLCBDaGVja1trZXlvZiBDaGVja10+XG4gKiAgIDogTWF0Y2hlc09uZTxWYWx1ZSwgQ2hlY2s+XG4gKiApfSBNYXRjaGVzXG4gKiAgIENoZWNrIHdoZXRoZXIgYSBub2RlIG1hdGNoZXMgYSBjaGVjayBpbiB0aGUgdHlwZSBzeXN0ZW0uXG4gKiBAdGVtcGxhdGUgVmFsdWVcbiAqICAgVmFsdWU7IHR5cGljYWxseSB1bmlzdCBgTm9kZWAuXG4gKiBAdGVtcGxhdGUgQ2hlY2tcbiAqICAgVmFsdWU7IHR5cGljYWxseSBgdW5pc3QtdXRpbC1pc2AtY29tcGF0aWJsZSB0ZXN0LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgezAgfCAxIHwgMiB8IDMgfCA0IHwgNSB8IDYgfCA3IHwgOCB8IDkgfCAxMH0gVWludFxuICogICBOdW1iZXI7IGNhcHBlZCByZWFzb25hYmx5LlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0kgZXh0ZW5kcyAwID8gMSA6IEkgZXh0ZW5kcyAxID8gMiA6IEkgZXh0ZW5kcyAyID8gMyA6IEkgZXh0ZW5kcyAzID8gNCA6IEkgZXh0ZW5kcyA0ID8gNSA6IEkgZXh0ZW5kcyA1ID8gNiA6IEkgZXh0ZW5kcyA2ID8gNyA6IEkgZXh0ZW5kcyA3ID8gOCA6IEkgZXh0ZW5kcyA4ID8gOSA6IDEwfSBJbmNyZW1lbnRcbiAqICAgSW5jcmVtZW50IGEgbnVtYmVyIGluIHRoZSB0eXBlIHN5c3RlbS5cbiAqIEB0ZW1wbGF0ZSB7VWludH0gW0k9MF1cbiAqICAgSW5kZXguXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KFxuICogICBOb2RlIGV4dGVuZHMgVW5pc3RQYXJlbnRcbiAqICAgPyBOb2RlIGV4dGVuZHMge2NoaWxkcmVuOiBBcnJheTxpbmZlciBDaGlsZHJlbj59XG4gKiAgICAgPyBDaGlsZCBleHRlbmRzIENoaWxkcmVuID8gTm9kZSA6IG5ldmVyXG4gKiAgICAgOiBuZXZlclxuICogICA6IG5ldmVyXG4gKiApfSBJbnRlcm5hbFBhcmVudFxuICogICBDb2xsZWN0IG5vZGVzIHRoYXQgY2FuIGJlIHBhcmVudHMgb2YgYENoaWxkYC5cbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBOb2RlXG4gKiAgIEFsbCBub2RlIHR5cGVzIGluIGEgdHJlZS5cbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBDaGlsZFxuICogICBOb2RlIHRvIHNlYXJjaCBmb3IuXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7SW50ZXJuYWxQYXJlbnQ8SW5jbHVzaXZlRGVzY2VuZGFudDxUcmVlPiwgQ2hpbGQ+fSBQYXJlbnRcbiAqICAgQ29sbGVjdCBub2RlcyBpbiBgVHJlZWAgdGhhdCBjYW4gYmUgcGFyZW50cyBvZiBgQ2hpbGRgLlxuICogQHRlbXBsYXRlIHtVbmlzdE5vZGV9IFRyZWVcbiAqICAgQWxsIG5vZGUgdHlwZXMgaW4gYSB0cmVlLlxuICogQHRlbXBsYXRlIHtVbmlzdE5vZGV9IENoaWxkXG4gKiAgIE5vZGUgdG8gc2VhcmNoIGZvci5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoXG4gKiAgIERlcHRoIGV4dGVuZHMgTWF4XG4gKiAgID8gbmV2ZXJcbiAqICAgOlxuICogICAgIHwgSW50ZXJuYWxQYXJlbnQ8Tm9kZSwgQ2hpbGQ+XG4gKiAgICAgfCBJbnRlcm5hbEFuY2VzdG9yPE5vZGUsIEludGVybmFsUGFyZW50PE5vZGUsIENoaWxkPiwgTWF4LCBJbmNyZW1lbnQ8RGVwdGg+PlxuICogKX0gSW50ZXJuYWxBbmNlc3RvclxuICogICBDb2xsZWN0IG5vZGVzIGluIGBUcmVlYCB0aGF0IGNhbiBiZSBhbmNlc3RvcnMgb2YgYENoaWxkYC5cbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBOb2RlXG4gKiAgIEFsbCBub2RlIHR5cGVzIGluIGEgdHJlZS5cbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBDaGlsZFxuICogICBOb2RlIHRvIHNlYXJjaCBmb3IuXG4gKiBAdGVtcGxhdGUge1VpbnR9IFtNYXg9MTBdXG4gKiAgIE1heDsgc2VhcmNoZXMgdXAgdG8gdGhpcyBkZXB0aC5cbiAqIEB0ZW1wbGF0ZSB7VWludH0gW0RlcHRoPTBdXG4gKiAgIEN1cnJlbnQgZGVwdGguXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7KFxuICogICBUcmVlIGV4dGVuZHMgVW5pc3RQYXJlbnRcbiAqICAgICA/IERlcHRoIGV4dGVuZHMgTWF4XG4gKiAgICAgICA/IFRyZWVcbiAqICAgICAgIDogVHJlZSB8IEluY2x1c2l2ZURlc2NlbmRhbnQ8VHJlZVsnY2hpbGRyZW4nXVtudW1iZXJdLCBNYXgsIEluY3JlbWVudDxEZXB0aD4+XG4gKiAgICAgOiBUcmVlXG4gKiApfSBJbmNsdXNpdmVEZXNjZW5kYW50XG4gKiAgIENvbGxlY3QgYWxsIChpbmNsdXNpdmUpIGRlc2NlbmRhbnRzIG9mIGBUcmVlYC5cbiAqXG4gKiAgID4g8J+RiSAqKk5vdGUqKjogZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMsIHRoaXMgc2VlbXMgdG8gYmUgdGhlIGZhc3Rlc3Qgd2F5IHRvXG4gKiAgID4gcmVjdXJzZSB3aXRob3V0IGFjdHVhbGx5IHJ1bm5pbmcgaW50byBhbiBpbmZpbml0ZSBsb29wLCB3aGljaCB0aGVcbiAqICAgPiBwcmV2aW91cyB2ZXJzaW9uIGRpZC5cbiAqICAgPlxuICogICA+IFByYWN0aWNhbGx5LCBhIG1heCBvZiBgMmAgaXMgdHlwaWNhbGx5IGVub3VnaCBhc3N1bWluZyBhIGBSb290YCBpc1xuICogICA+IHBhc3NlZCwgYnV0IGl0IGRvZXNu4oCZdCBpbXByb3ZlIHBlcmZvcm1hbmNlLlxuICogICA+IEl0IGdldHMgaGlnaGVyIHdpdGggYExpc3QgPiBMaXN0SXRlbSA+IFRhYmxlID4gVGFibGVSb3cgPiBUYWJsZUNlbGxgLlxuICogICA+IFVzaW5nIHVwIHRvIGAxMGAgZG9lc27igJl0IGh1cnQgb3IgaGVscCBlaXRoZXIuXG4gKiBAdGVtcGxhdGUge1VuaXN0Tm9kZX0gVHJlZVxuICogICBUcmVlIHR5cGUuXG4gKiBAdGVtcGxhdGUge1VpbnR9IFtNYXg9MTBdXG4gKiAgIE1heDsgc2VhcmNoZXMgdXAgdG8gdGhpcyBkZXB0aC5cbiAqIEB0ZW1wbGF0ZSB7VWludH0gW0RlcHRoPTBdXG4gKiAgIEN1cnJlbnQgZGVwdGguXG4gKi9cblxuLyoqXG4gKiBAY2FsbGJhY2sgVmlzaXRvclxuICogICBIYW5kbGUgYSBub2RlIChtYXRjaGluZyBgdGVzdGAsIGlmIGdpdmVuKS5cbiAqXG4gKiAgIFZpc2l0b3JzIGFyZSBmcmVlIHRvIHRyYW5zZm9ybSBgbm9kZWAuXG4gKiAgIFRoZXkgY2FuIGFsc28gdHJhbnNmb3JtIGBwYXJlbnRgLlxuICpcbiAqICAgUmVwbGFjaW5nIGBub2RlYCBpdHNlbGYsIGlmIGBTS0lQYCBpcyBub3QgcmV0dXJuZWQsIHN0aWxsIGNhdXNlcyBpdHNcbiAqICAgZGVzY2VuZGFudHMgdG8gYmUgd2Fsa2VkICh3aGljaCBpcyBhIGJ1ZykuXG4gKlxuICogICBXaGVuIGFkZGluZyBvciByZW1vdmluZyBwcmV2aW91cyBzaWJsaW5ncyBvZiBgbm9kZWAgKG9yIG5leHQgc2libGluZ3MsIGluXG4gKiAgIGNhc2Ugb2YgcmV2ZXJzZSksIHRoZSBgVmlzaXRvcmAgc2hvdWxkIHJldHVybiBhIG5ldyBgSW5kZXhgIHRvIHNwZWNpZnkgdGhlXG4gKiAgIHNpYmxpbmcgdG8gdHJhdmVyc2UgYWZ0ZXIgYG5vZGVgIGlzIHRyYXZlcnNlZC5cbiAqICAgQWRkaW5nIG9yIHJlbW92aW5nIG5leHQgc2libGluZ3Mgb2YgYG5vZGVgIChvciBwcmV2aW91cyBzaWJsaW5ncywgaW4gY2FzZVxuICogICBvZiByZXZlcnNlKSBpcyBoYW5kbGVkIGFzIGV4cGVjdGVkIHdpdGhvdXQgbmVlZGluZyB0byByZXR1cm4gYSBuZXcgYEluZGV4YC5cbiAqXG4gKiAgIFJlbW92aW5nIHRoZSBjaGlsZHJlbiBwcm9wZXJ0eSBvZiBgcGFyZW50YCBzdGlsbCByZXN1bHRzIGluIHRoZW0gYmVpbmdcbiAqICAgdHJhdmVyc2VkLlxuICogQHBhcmFtIHtWaXNpdGVkfSBub2RlXG4gKiAgIEZvdW5kIG5vZGUuXG4gKiBAcGFyYW0ge1Zpc2l0ZWQgZXh0ZW5kcyBVbmlzdE5vZGUgPyBudW1iZXIgfCB1bmRlZmluZWQgOiBuZXZlcn0gaW5kZXhcbiAqICAgSW5kZXggb2YgYG5vZGVgIGluIGBwYXJlbnRgLlxuICogQHBhcmFtIHtBbmNlc3RvciBleHRlbmRzIFVuaXN0UGFyZW50ID8gQW5jZXN0b3IgfCB1bmRlZmluZWQgOiBuZXZlcn0gcGFyZW50XG4gKiAgIFBhcmVudCBvZiBgbm9kZWAuXG4gKiBAcmV0dXJucyB7VmlzaXRvclJlc3VsdH1cbiAqICAgV2hhdCB0byBkbyBuZXh0LlxuICpcbiAqICAgQW4gYEluZGV4YCBpcyB0cmVhdGVkIGFzIGEgdHVwbGUgb2YgYFtDT05USU5VRSwgSW5kZXhdYC5cbiAqICAgQW4gYEFjdGlvbmAgaXMgdHJlYXRlZCBhcyBhIHR1cGxlIG9mIGBbQWN0aW9uXWAuXG4gKlxuICogICBQYXNzaW5nIGEgdHVwbGUgYmFjayBvbmx5IG1ha2VzIHNlbnNlIGlmIHRoZSBgQWN0aW9uYCBpcyBgU0tJUGAuXG4gKiAgIFdoZW4gdGhlIGBBY3Rpb25gIGlzIGBFWElUYCwgdGhhdCBhY3Rpb24gY2FuIGJlIHJldHVybmVkLlxuICogICBXaGVuIHRoZSBgQWN0aW9uYCBpcyBgQ09OVElOVUVgLCBgSW5kZXhgIGNhbiBiZSByZXR1cm5lZC5cbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBbVmlzaXRlZD1VbmlzdE5vZGVdXG4gKiAgIFZpc2l0ZWQgbm9kZSB0eXBlLlxuICogQHRlbXBsYXRlIHtVbmlzdFBhcmVudH0gW0FuY2VzdG9yPVVuaXN0UGFyZW50XVxuICogICBBbmNlc3RvciB0eXBlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge1Zpc2l0b3I8VmlzaXRlZCwgUGFyZW50PEFuY2VzdG9yLCBWaXNpdGVkPj59IEJ1aWxkVmlzaXRvckZyb21NYXRjaFxuICogICBCdWlsZCBhIHR5cGVkIGBWaXNpdG9yYCBmdW5jdGlvbiBmcm9tIGEgbm9kZSBhbmQgYWxsIHBvc3NpYmxlIHBhcmVudHMuXG4gKlxuICogICBJdCB3aWxsIGluZmVyIHdoaWNoIHZhbHVlcyBhcmUgcGFzc2VkIGFzIGBub2RlYCBhbmQgd2hpY2ggYXMgYHBhcmVudGAuXG4gKiBAdGVtcGxhdGUge1VuaXN0Tm9kZX0gVmlzaXRlZFxuICogICBOb2RlIHR5cGUuXG4gKiBAdGVtcGxhdGUge1VuaXN0UGFyZW50fSBBbmNlc3RvclxuICogICBQYXJlbnQgdHlwZS5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHsoXG4gKiAgIEJ1aWxkVmlzaXRvckZyb21NYXRjaDxcbiAqICAgICBNYXRjaGVzPERlc2NlbmRhbnQsIENoZWNrPixcbiAqICAgICBFeHRyYWN0PERlc2NlbmRhbnQsIFVuaXN0UGFyZW50PlxuICogICA+XG4gKiApfSBCdWlsZFZpc2l0b3JGcm9tRGVzY2VuZGFudHNcbiAqICAgQnVpbGQgYSB0eXBlZCBgVmlzaXRvcmAgZnVuY3Rpb24gZnJvbSBhIGxpc3Qgb2YgZGVzY2VuZGFudHMgYW5kIGEgdGVzdC5cbiAqXG4gKiAgIEl0IHdpbGwgaW5mZXIgd2hpY2ggdmFsdWVzIGFyZSBwYXNzZWQgYXMgYG5vZGVgIGFuZCB3aGljaCBhcyBgcGFyZW50YC5cbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBEZXNjZW5kYW50XG4gKiAgIE5vZGUgdHlwZS5cbiAqIEB0ZW1wbGF0ZSB7VGVzdH0gQ2hlY2tcbiAqICAgVGVzdCB0eXBlLlxuICovXG5cbi8qKlxuICogQHR5cGVkZWYgeyhcbiAqICAgQnVpbGRWaXNpdG9yRnJvbURlc2NlbmRhbnRzPFxuICogICAgIEluY2x1c2l2ZURlc2NlbmRhbnQ8VHJlZT4sXG4gKiAgICAgQ2hlY2tcbiAqICAgPlxuICogKX0gQnVpbGRWaXNpdG9yXG4gKiAgIEJ1aWxkIGEgdHlwZWQgYFZpc2l0b3JgIGZ1bmN0aW9uIGZyb20gYSB0cmVlIGFuZCBhIHRlc3QuXG4gKlxuICogICBJdCB3aWxsIGluZmVyIHdoaWNoIHZhbHVlcyBhcmUgcGFzc2VkIGFzIGBub2RlYCBhbmQgd2hpY2ggYXMgYHBhcmVudGAuXG4gKiBAdGVtcGxhdGUge1VuaXN0Tm9kZX0gW1RyZWU9VW5pc3ROb2RlXVxuICogICBOb2RlIHR5cGUuXG4gKiBAdGVtcGxhdGUge1Rlc3R9IFtDaGVjaz1UZXN0XVxuICogICBUZXN0IHR5cGUuXG4gKi9cblxuaW1wb3J0IHt2aXNpdFBhcmVudHN9IGZyb20gJ3VuaXN0LXV0aWwtdmlzaXQtcGFyZW50cydcblxuZXhwb3J0IHtDT05USU5VRSwgRVhJVCwgU0tJUH0gZnJvbSAndW5pc3QtdXRpbC12aXNpdC1wYXJlbnRzJ1xuXG4vKipcbiAqIFZpc2l0IG5vZGVzLlxuICpcbiAqIFRoaXMgYWxnb3JpdGhtIHBlcmZvcm1zICpkZXB0aC1maXJzdCogKnRyZWUgdHJhdmVyc2FsKiBpbiAqcHJlb3JkZXIqXG4gKiAoKipOTFIqKikgb3IgaWYgYHJldmVyc2VgIGlzIGdpdmVuLCBpbiAqcmV2ZXJzZSBwcmVvcmRlciogKCoqTlJMKiopLlxuICpcbiAqIFlvdSBjYW4gY2hvb3NlIGZvciB3aGljaCBub2RlcyBgdmlzaXRvcmAgaXMgY2FsbGVkIGJ5IHBhc3NpbmcgYSBgdGVzdGAuXG4gKiBGb3IgY29tcGxleCB0ZXN0cywgeW91IHNob3VsZCB0ZXN0IHlvdXJzZWxmIGluIGB2aXNpdG9yYCwgYXMgaXQgd2lsbCBiZVxuICogZmFzdGVyIGFuZCB3aWxsIGhhdmUgaW1wcm92ZWQgdHlwZSBpbmZvcm1hdGlvbi5cbiAqXG4gKiBXYWxraW5nIHRoZSB0cmVlIGlzIGFuIGludGVuc2l2ZSB0YXNrLlxuICogTWFrZSB1c2Ugb2YgdGhlIHJldHVybiB2YWx1ZXMgb2YgdGhlIHZpc2l0b3Igd2hlbiBwb3NzaWJsZS5cbiAqIEluc3RlYWQgb2Ygd2Fsa2luZyBhIHRyZWUgbXVsdGlwbGUgdGltZXMsIHdhbGsgaXQgb25jZSwgdXNlIGB1bmlzdC11dGlsLWlzYFxuICogdG8gY2hlY2sgaWYgYSBub2RlIG1hdGNoZXMsIGFuZCB0aGVuIHBlcmZvcm0gZGlmZmVyZW50IG9wZXJhdGlvbnMuXG4gKlxuICogWW91IGNhbiBjaGFuZ2UgdGhlIHRyZWUuXG4gKiBTZWUgYFZpc2l0b3JgIGZvciBtb3JlIGluZm8uXG4gKlxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1RyZWV9IHRyZWVcbiAqIEBwYXJhbSB7Q2hlY2t9IGNoZWNrXG4gKiBAcGFyYW0ge0J1aWxkVmlzaXRvcjxUcmVlLCBDaGVjaz59IHZpc2l0b3JcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWR9IFtyZXZlcnNlXVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7VHJlZX0gdHJlZVxuICogQHBhcmFtIHtCdWlsZFZpc2l0b3I8VHJlZT59IHZpc2l0b3JcbiAqIEBwYXJhbSB7Ym9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWR9IFtyZXZlcnNlXVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqXG4gKiBAcGFyYW0ge1VuaXN0Tm9kZX0gdHJlZVxuICogICBUcmVlIHRvIHRyYXZlcnNlLlxuICogQHBhcmFtIHtWaXNpdG9yIHwgVGVzdH0gdGVzdE9yVmlzaXRvclxuICogICBgdW5pc3QtdXRpbC1pc2AtY29tcGF0aWJsZSB0ZXN0IChvcHRpb25hbCwgb21pdCB0byBwYXNzIGEgdmlzaXRvcikuXG4gKiBAcGFyYW0ge1Zpc2l0b3IgfCBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZH0gW3Zpc2l0b3JPclJldmVyc2VdXG4gKiAgIEhhbmRsZSBlYWNoIG5vZGUgKHdoZW4gdGVzdCBpcyBvbWl0dGVkLCBwYXNzIGByZXZlcnNlYCkuXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkfSBbbWF5YmVSZXZlcnNlPWZhbHNlXVxuICogICBUcmF2ZXJzZSBpbiByZXZlcnNlIHByZW9yZGVyIChOUkwpIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgcHJlb3JkZXIgKE5MUikuXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogICBOb3RoaW5nLlxuICpcbiAqIEB0ZW1wbGF0ZSB7VW5pc3ROb2RlfSBUcmVlXG4gKiAgIE5vZGUgdHlwZS5cbiAqIEB0ZW1wbGF0ZSB7VGVzdH0gQ2hlY2tcbiAqICAgYHVuaXN0LXV0aWwtaXNgLWNvbXBhdGlibGUgdGVzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZpc2l0KHRyZWUsIHRlc3RPclZpc2l0b3IsIHZpc2l0b3JPclJldmVyc2UsIG1heWJlUmV2ZXJzZSkge1xuICAvKiogQHR5cGUge2Jvb2xlYW4gfCBudWxsIHwgdW5kZWZpbmVkfSAqL1xuICBsZXQgcmV2ZXJzZVxuICAvKiogQHR5cGUge1Rlc3R9ICovXG4gIGxldCB0ZXN0XG4gIC8qKiBAdHlwZSB7VmlzaXRvcn0gKi9cbiAgbGV0IHZpc2l0b3JcblxuICBpZiAoXG4gICAgdHlwZW9mIHRlc3RPclZpc2l0b3IgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2YgdmlzaXRvck9yUmV2ZXJzZSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICB0ZXN0ID0gdW5kZWZpbmVkXG4gICAgdmlzaXRvciA9IHRlc3RPclZpc2l0b3JcbiAgICByZXZlcnNlID0gdmlzaXRvck9yUmV2ZXJzZVxuICB9IGVsc2Uge1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGFzc3VtZSB0aGUgb3ZlcmxvYWQgd2l0aCB0ZXN0IHdhcyBnaXZlbi5cbiAgICB0ZXN0ID0gdGVzdE9yVmlzaXRvclxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3I6IGFzc3VtZSB0aGUgb3ZlcmxvYWQgd2l0aCB0ZXN0IHdhcyBnaXZlbi5cbiAgICB2aXNpdG9yID0gdmlzaXRvck9yUmV2ZXJzZVxuICAgIHJldmVyc2UgPSBtYXliZVJldmVyc2VcbiAgfVxuXG4gIHZpc2l0UGFyZW50cyh0cmVlLCB0ZXN0LCBvdmVybG9hZCwgcmV2ZXJzZSlcblxuICAvKipcbiAgICogQHBhcmFtIHtVbmlzdE5vZGV9IG5vZGVcbiAgICogQHBhcmFtIHtBcnJheTxVbmlzdFBhcmVudD59IHBhcmVudHNcbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJsb2FkKG5vZGUsIHBhcmVudHMpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBwYXJlbnRzW3BhcmVudHMubGVuZ3RoIC0gMV1cbiAgICBjb25zdCBpbmRleCA9IHBhcmVudCA/IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpIDogdW5kZWZpbmVkXG4gICAgcmV0dXJuIHZpc2l0b3Iobm9kZSwgaW5kZXgsIHBhcmVudClcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/unist-util-visit/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile-message/lib/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/vfile-message/lib/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VFileMessage: () => (/* binding */ VFileMessage)\n/* harmony export */ });\n/* harmony import */ var unist_util_stringify_position__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! unist-util-stringify-position */ \"(ssr)/./node_modules/unist-util-stringify-position/lib/index.js\");\n/**\n * @import {Node, Point, Position} from 'unist'\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n *\n * @typedef Options\n *   Configuration.\n * @property {Array<Node> | null | undefined} [ancestors]\n *   Stack of (inclusive) ancestor nodes surrounding the message (optional).\n * @property {Error | null | undefined} [cause]\n *   Original error cause of the message (optional).\n * @property {Point | Position | null | undefined} [place]\n *   Place of message (optional).\n * @property {string | null | undefined} [ruleId]\n *   Category of message (optional, example: `'my-rule'`).\n * @property {string | null | undefined} [source]\n *   Namespace of who sent the message (optional, example: `'my-package'`).\n */\n\n\n\n/**\n * Message.\n */\nclass VFileMessage extends Error {\n  /**\n   * Create a message for `reason`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Options | null | undefined} [options]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | Options | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns\n   *   Instance of `VFileMessage`.\n   */\n  // eslint-disable-next-line complexity\n  constructor(causeOrReason, optionsOrParentOrPlace, origin) {\n    super()\n\n    if (typeof optionsOrParentOrPlace === 'string') {\n      origin = optionsOrParentOrPlace\n      optionsOrParentOrPlace = undefined\n    }\n\n    /** @type {string} */\n    let reason = ''\n    /** @type {Options} */\n    let options = {}\n    let legacyCause = false\n\n    if (optionsOrParentOrPlace) {\n      // Point.\n      if (\n        'line' in optionsOrParentOrPlace &&\n        'column' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Position.\n      else if (\n        'start' in optionsOrParentOrPlace &&\n        'end' in optionsOrParentOrPlace\n      ) {\n        options = {place: optionsOrParentOrPlace}\n      }\n      // Node.\n      else if ('type' in optionsOrParentOrPlace) {\n        options = {\n          ancestors: [optionsOrParentOrPlace],\n          place: optionsOrParentOrPlace.position\n        }\n      }\n      // Options.\n      else {\n        options = {...optionsOrParentOrPlace}\n      }\n    }\n\n    if (typeof causeOrReason === 'string') {\n      reason = causeOrReason\n    }\n    // Error.\n    else if (!options.cause && causeOrReason) {\n      legacyCause = true\n      reason = causeOrReason.message\n      options.cause = causeOrReason\n    }\n\n    if (!options.ruleId && !options.source && typeof origin === 'string') {\n      const index = origin.indexOf(':')\n\n      if (index === -1) {\n        options.ruleId = origin\n      } else {\n        options.source = origin.slice(0, index)\n        options.ruleId = origin.slice(index + 1)\n      }\n    }\n\n    if (!options.place && options.ancestors && options.ancestors) {\n      const parent = options.ancestors[options.ancestors.length - 1]\n\n      if (parent) {\n        options.place = parent.position\n      }\n    }\n\n    const start =\n      options.place && 'start' in options.place\n        ? options.place.start\n        : options.place\n\n    /**\n     * Stack of ancestor nodes surrounding the message.\n     *\n     * @type {Array<Node> | undefined}\n     */\n    this.ancestors = options.ancestors || undefined\n\n    /**\n     * Original error cause of the message.\n     *\n     * @type {Error | undefined}\n     */\n    this.cause = options.cause || undefined\n\n    /**\n     * Starting column of message.\n     *\n     * @type {number | undefined}\n     */\n    this.column = start ? start.column : undefined\n\n    /**\n     * State of problem.\n     *\n     * * `true`  error, file not usable\n     * * `false`  warning, change may be needed\n     * * `undefined`  change likely not needed\n     *\n     * @type {boolean | null | undefined}\n     */\n    this.fatal = undefined\n\n    /**\n     * Path of a file (used throughout the `VFile` ecosystem).\n     *\n     * @type {string | undefined}\n     */\n    this.file = ''\n\n    // Field from `Error`.\n    /**\n     * Reason for message.\n     *\n     * @type {string}\n     */\n    this.message = reason\n\n    /**\n     * Starting line of error.\n     *\n     * @type {number | undefined}\n     */\n    this.line = start ? start.line : undefined\n\n    // Field from `Error`.\n    /**\n     * Serialized positional info of message.\n     *\n     * On normal errors, this would be something like `ParseError`, buit in\n     * `VFile` messages we use this space to show where an error happened.\n     */\n    this.name = (0,unist_util_stringify_position__WEBPACK_IMPORTED_MODULE_0__.stringifyPosition)(options.place) || '1:1'\n\n    /**\n     * Place of message.\n     *\n     * @type {Point | Position | undefined}\n     */\n    this.place = options.place || undefined\n\n    /**\n     * Reason for message, should use markdown.\n     *\n     * @type {string}\n     */\n    this.reason = this.message\n\n    /**\n     * Category of message (example: `'my-rule'`).\n     *\n     * @type {string | undefined}\n     */\n    this.ruleId = options.ruleId || undefined\n\n    /**\n     * Namespace of message (example: `'my-package'`).\n     *\n     * @type {string | undefined}\n     */\n    this.source = options.source || undefined\n\n    // Field from `Error`.\n    /**\n     * Stack of message.\n     *\n     * This is used by normal errors to show where something happened in\n     * programming code, irrelevant for `VFile` messages,\n     *\n     * @type {string}\n     */\n    this.stack =\n      legacyCause && options.cause && typeof options.cause.stack === 'string'\n        ? options.cause.stack\n        : ''\n\n    // The following fields are well known.\n    // Not standard.\n    // Feel free to add other non-standard fields to your messages.\n\n    /**\n     * Specify the source value thats being reported, which is deemed\n     * incorrect.\n     *\n     * @type {string | undefined}\n     */\n    this.actual = undefined\n\n    /**\n     * Suggest acceptable values that can be used instead of `actual`.\n     *\n     * @type {Array<string> | undefined}\n     */\n    this.expected = undefined\n\n    /**\n     * Long form description of the message (you should use markdown).\n     *\n     * @type {string | undefined}\n     */\n    this.note = undefined\n\n    /**\n     * Link to docs for the message.\n     *\n     * >  **Note**: this must be an absolute URL that can be passed as `x`\n     * > to `new URL(x)`.\n     *\n     * @type {string | undefined}\n     */\n    this.url = undefined\n  }\n}\n\nVFileMessage.prototype.file = ''\nVFileMessage.prototype.name = ''\nVFileMessage.prototype.reason = ''\nVFileMessage.prototype.message = ''\nVFileMessage.prototype.stack = ''\nVFileMessage.prototype.column = undefined\nVFileMessage.prototype.line = undefined\nVFileMessage.prototype.ancestors = undefined\nVFileMessage.prototype.cause = undefined\nVFileMessage.prototype.fatal = undefined\nVFileMessage.prototype.place = undefined\nVFileMessage.prototype.ruleId = undefined\nVFileMessage.prototype.source = undefined\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3ZmaWxlLW1lc3NhZ2UvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQSxZQUFZLHVCQUF1QjtBQUNuQzs7QUFFQTtBQUNBLGFBQWEsVUFBVSxnREFBZ0Q7QUFDdkU7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQ0FBZ0M7QUFDOUM7QUFDQSxjQUFjLDBCQUEwQjtBQUN4QztBQUNBLGNBQWMscUNBQXFDO0FBQ25EO0FBQ0EsY0FBYywyQkFBMkI7QUFDekM7QUFDQSxjQUFjLDJCQUEyQjtBQUN6QztBQUNBOztBQUUrRDs7QUFFL0Q7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSw0QkFBNEI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxRQUFRO0FBQ3JCLGFBQWEsb0NBQW9DO0FBQ2pELGFBQWEsMkJBQTJCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQixhQUFhLHFDQUFxQztBQUNsRCxhQUFhLDJCQUEyQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxhQUFhLFFBQVE7QUFDckIsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsYUFBYSxvQ0FBb0M7QUFDakQsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsYUFBYSxxQ0FBcUM7QUFDbEQsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzQkFBc0I7QUFDbkMsYUFBYSwyQkFBMkI7QUFDeEM7QUFDQTtBQUNBLGFBQWEsK0JBQStCO0FBQzVDO0FBQ0EsYUFBYSwwRUFBMEU7QUFDdkY7QUFDQSxhQUFhLDJCQUEyQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGVBQWUsUUFBUTtBQUN2QjtBQUNBLGVBQWUsU0FBUztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdGQUFpQjs7QUFFakM7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL25vZGVfbW9kdWxlcy92ZmlsZS1tZXNzYWdlL2xpYi9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpbXBvcnQge05vZGUsIFBvaW50LCBQb3NpdGlvbn0gZnJvbSAndW5pc3QnXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0ICYge3R5cGU6IHN0cmluZywgcG9zaXRpb24/OiBQb3NpdGlvbiB8IHVuZGVmaW5lZH19IE5vZGVMaWtlXG4gKlxuICogQHR5cGVkZWYgT3B0aW9uc1xuICogICBDb25maWd1cmF0aW9uLlxuICogQHByb3BlcnR5IHtBcnJheTxOb2RlPiB8IG51bGwgfCB1bmRlZmluZWR9IFthbmNlc3RvcnNdXG4gKiAgIFN0YWNrIG9mIChpbmNsdXNpdmUpIGFuY2VzdG9yIG5vZGVzIHN1cnJvdW5kaW5nIHRoZSBtZXNzYWdlIChvcHRpb25hbCkuXG4gKiBAcHJvcGVydHkge0Vycm9yIHwgbnVsbCB8IHVuZGVmaW5lZH0gW2NhdXNlXVxuICogICBPcmlnaW5hbCBlcnJvciBjYXVzZSBvZiB0aGUgbWVzc2FnZSAob3B0aW9uYWwpLlxuICogQHByb3BlcnR5IHtQb2ludCB8IFBvc2l0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZH0gW3BsYWNlXVxuICogICBQbGFjZSBvZiBtZXNzYWdlIChvcHRpb25hbCkuXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtydWxlSWRdXG4gKiAgIENhdGVnb3J5IG9mIG1lc3NhZ2UgKG9wdGlvbmFsLCBleGFtcGxlOiBgJ215LXJ1bGUnYCkuXG4gKiBAcHJvcGVydHkge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtzb3VyY2VdXG4gKiAgIE5hbWVzcGFjZSBvZiB3aG8gc2VudCB0aGUgbWVzc2FnZSAob3B0aW9uYWwsIGV4YW1wbGU6IGAnbXktcGFja2FnZSdgKS5cbiAqL1xuXG5pbXBvcnQge3N0cmluZ2lmeVBvc2l0aW9ufSBmcm9tICd1bmlzdC11dGlsLXN0cmluZ2lmeS1wb3NpdGlvbidcblxuLyoqXG4gKiBNZXNzYWdlLlxuICovXG5leHBvcnQgY2xhc3MgVkZpbGVNZXNzYWdlIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogQ3JlYXRlIGEgbWVzc2FnZSBmb3IgYHJlYXNvbmAuXG4gICAqXG4gICAqID4g8J+qpiAqKk5vdGUqKjogYWxzbyBoYXMgb2Jzb2xldGUgc2lnbmF0dXJlcy5cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAgICogQHBhcmFtIHtPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gICAqIEBwYXJhbSB7Tm9kZSB8IE5vZGVMaWtlIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGFyZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnNcbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAgICogQHBhcmFtIHtQb2ludCB8IFBvc2l0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGxhY2VcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3JpZ2luXVxuICAgKiBAcmV0dXJuc1xuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge05vZGUgfCBOb2RlTGlrZSB8IG51bGwgfCB1bmRlZmluZWR9IHBhcmVudFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge1BvaW50IHwgUG9zaXRpb24gfCBudWxsIHwgdW5kZWZpbmVkfSBwbGFjZVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zXG4gICAqXG4gICAqIEBwYXJhbSB7RXJyb3IgfCBWRmlsZU1lc3NhZ2UgfCBzdHJpbmd9IGNhdXNlT3JSZWFzb25cbiAgICogICBSZWFzb24gZm9yIG1lc3NhZ2UsIHNob3VsZCB1c2UgbWFya2Rvd24uXG4gICAqIEBwYXJhbSB7Tm9kZSB8IE5vZGVMaWtlIHwgT3B0aW9ucyB8IFBvaW50IHwgUG9zaXRpb24gfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0aW9uc09yUGFyZW50T3JQbGFjZV1cbiAgICogICBDb25maWd1cmF0aW9uIChvcHRpb25hbCkuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogICBQbGFjZSBpbiBjb2RlIHdoZXJlIHRoZSBtZXNzYWdlIG9yaWdpbmF0ZXMgKGV4YW1wbGU6XG4gICAqICAgYCdteS1wYWNrYWdlOm15LXJ1bGUnYCBvciBgJ215LXJ1bGUnYCkuXG4gICAqIEByZXR1cm5zXG4gICAqICAgSW5zdGFuY2Ugb2YgYFZGaWxlTWVzc2FnZWAuXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICBjb25zdHJ1Y3RvcihjYXVzZU9yUmVhc29uLCBvcHRpb25zT3JQYXJlbnRPclBsYWNlLCBvcmlnaW4pIHtcbiAgICBzdXBlcigpXG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnNPclBhcmVudE9yUGxhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcmlnaW4gPSBvcHRpb25zT3JQYXJlbnRPclBsYWNlXG4gICAgICBvcHRpb25zT3JQYXJlbnRPclBsYWNlID0gdW5kZWZpbmVkXG4gICAgfVxuXG4gICAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gICAgbGV0IHJlYXNvbiA9ICcnXG4gICAgLyoqIEB0eXBlIHtPcHRpb25zfSAqL1xuICAgIGxldCBvcHRpb25zID0ge31cbiAgICBsZXQgbGVnYWN5Q2F1c2UgPSBmYWxzZVxuXG4gICAgaWYgKG9wdGlvbnNPclBhcmVudE9yUGxhY2UpIHtcbiAgICAgIC8vIFBvaW50LlxuICAgICAgaWYgKFxuICAgICAgICAnbGluZScgaW4gb3B0aW9uc09yUGFyZW50T3JQbGFjZSAmJlxuICAgICAgICAnY29sdW1uJyBpbiBvcHRpb25zT3JQYXJlbnRPclBsYWNlXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucyA9IHtwbGFjZTogb3B0aW9uc09yUGFyZW50T3JQbGFjZX1cbiAgICAgIH1cbiAgICAgIC8vIFBvc2l0aW9uLlxuICAgICAgZWxzZSBpZiAoXG4gICAgICAgICdzdGFydCcgaW4gb3B0aW9uc09yUGFyZW50T3JQbGFjZSAmJlxuICAgICAgICAnZW5kJyBpbiBvcHRpb25zT3JQYXJlbnRPclBsYWNlXG4gICAgICApIHtcbiAgICAgICAgb3B0aW9ucyA9IHtwbGFjZTogb3B0aW9uc09yUGFyZW50T3JQbGFjZX1cbiAgICAgIH1cbiAgICAgIC8vIE5vZGUuXG4gICAgICBlbHNlIGlmICgndHlwZScgaW4gb3B0aW9uc09yUGFyZW50T3JQbGFjZSkge1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIGFuY2VzdG9yczogW29wdGlvbnNPclBhcmVudE9yUGxhY2VdLFxuICAgICAgICAgIHBsYWNlOiBvcHRpb25zT3JQYXJlbnRPclBsYWNlLnBvc2l0aW9uXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIE9wdGlvbnMuXG4gICAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IHsuLi5vcHRpb25zT3JQYXJlbnRPclBsYWNlfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgY2F1c2VPclJlYXNvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJlYXNvbiA9IGNhdXNlT3JSZWFzb25cbiAgICB9XG4gICAgLy8gRXJyb3IuXG4gICAgZWxzZSBpZiAoIW9wdGlvbnMuY2F1c2UgJiYgY2F1c2VPclJlYXNvbikge1xuICAgICAgbGVnYWN5Q2F1c2UgPSB0cnVlXG4gICAgICByZWFzb24gPSBjYXVzZU9yUmVhc29uLm1lc3NhZ2VcbiAgICAgIG9wdGlvbnMuY2F1c2UgPSBjYXVzZU9yUmVhc29uXG4gICAgfVxuXG4gICAgaWYgKCFvcHRpb25zLnJ1bGVJZCAmJiAhb3B0aW9ucy5zb3VyY2UgJiYgdHlwZW9mIG9yaWdpbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gb3JpZ2luLmluZGV4T2YoJzonKVxuXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XG4gICAgICAgIG9wdGlvbnMucnVsZUlkID0gb3JpZ2luXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcHRpb25zLnNvdXJjZSA9IG9yaWdpbi5zbGljZSgwLCBpbmRleClcbiAgICAgICAgb3B0aW9ucy5ydWxlSWQgPSBvcmlnaW4uc2xpY2UoaW5kZXggKyAxKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghb3B0aW9ucy5wbGFjZSAmJiBvcHRpb25zLmFuY2VzdG9ycyAmJiBvcHRpb25zLmFuY2VzdG9ycykge1xuICAgICAgY29uc3QgcGFyZW50ID0gb3B0aW9ucy5hbmNlc3RvcnNbb3B0aW9ucy5hbmNlc3RvcnMubGVuZ3RoIC0gMV1cblxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBvcHRpb25zLnBsYWNlID0gcGFyZW50LnBvc2l0aW9uXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPVxuICAgICAgb3B0aW9ucy5wbGFjZSAmJiAnc3RhcnQnIGluIG9wdGlvbnMucGxhY2VcbiAgICAgICAgPyBvcHRpb25zLnBsYWNlLnN0YXJ0XG4gICAgICAgIDogb3B0aW9ucy5wbGFjZVxuXG4gICAgLyoqXG4gICAgICogU3RhY2sgb2YgYW5jZXN0b3Igbm9kZXMgc3Vycm91bmRpbmcgdGhlIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7QXJyYXk8Tm9kZT4gfCB1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hbmNlc3RvcnMgPSBvcHRpb25zLmFuY2VzdG9ycyB8fCB1bmRlZmluZWRcblxuICAgIC8qKlxuICAgICAqIE9yaWdpbmFsIGVycm9yIGNhdXNlIG9mIHRoZSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHR5cGUge0Vycm9yIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuY2F1c2UgPSBvcHRpb25zLmNhdXNlIHx8IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogU3RhcnRpbmcgY29sdW1uIG9mIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuY29sdW1uID0gc3RhcnQgPyBzdGFydC5jb2x1bW4gOiB1bmRlZmluZWRcblxuICAgIC8qKlxuICAgICAqIFN0YXRlIG9mIHByb2JsZW0uXG4gICAgICpcbiAgICAgKiAqIGB0cnVlYCDigJQgZXJyb3IsIGZpbGUgbm90IHVzYWJsZVxuICAgICAqICogYGZhbHNlYCDigJQgd2FybmluZywgY2hhbmdlIG1heSBiZSBuZWVkZWRcbiAgICAgKiAqIGB1bmRlZmluZWRgIOKAlCBjaGFuZ2UgbGlrZWx5IG5vdCBuZWVkZWRcbiAgICAgKlxuICAgICAqIEB0eXBlIHtib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLmZhdGFsID0gdW5kZWZpbmVkXG5cbiAgICAvKipcbiAgICAgKiBQYXRoIG9mIGEgZmlsZSAodXNlZCB0aHJvdWdob3V0IHRoZSBgVkZpbGVgIGVjb3N5c3RlbSkuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuZmlsZSA9ICcnXG5cbiAgICAvLyBGaWVsZCBmcm9tIGBFcnJvcmAuXG4gICAgLyoqXG4gICAgICogUmVhc29uIGZvciBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLm1lc3NhZ2UgPSByZWFzb25cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0aW5nIGxpbmUgb2YgZXJyb3IuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7bnVtYmVyIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubGluZSA9IHN0YXJ0ID8gc3RhcnQubGluZSA6IHVuZGVmaW5lZFxuXG4gICAgLy8gRmllbGQgZnJvbSBgRXJyb3JgLlxuICAgIC8qKlxuICAgICAqIFNlcmlhbGl6ZWQgcG9zaXRpb25hbCBpbmZvIG9mIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBPbiBub3JtYWwgZXJyb3JzLCB0aGlzIHdvdWxkIGJlIHNvbWV0aGluZyBsaWtlIGBQYXJzZUVycm9yYCwgYnVpdCBpblxuICAgICAqIGBWRmlsZWAgbWVzc2FnZXMgd2UgdXNlIHRoaXMgc3BhY2UgdG8gc2hvdyB3aGVyZSBhbiBlcnJvciBoYXBwZW5lZC5cbiAgICAgKi9cbiAgICB0aGlzLm5hbWUgPSBzdHJpbmdpZnlQb3NpdGlvbihvcHRpb25zLnBsYWNlKSB8fCAnMToxJ1xuXG4gICAgLyoqXG4gICAgICogUGxhY2Ugb2YgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtQb2ludCB8IFBvc2l0aW9uIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucGxhY2UgPSBvcHRpb25zLnBsYWNlIHx8IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogUmVhc29uIGZvciBtZXNzYWdlLCBzaG91bGQgdXNlIG1hcmtkb3duLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnJlYXNvbiA9IHRoaXMubWVzc2FnZVxuXG4gICAgLyoqXG4gICAgICogQ2F0ZWdvcnkgb2YgbWVzc2FnZSAoZXhhbXBsZTogYCdteS1ydWxlJ2ApLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZyB8IHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLnJ1bGVJZCA9IG9wdGlvbnMucnVsZUlkIHx8IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogTmFtZXNwYWNlIG9mIG1lc3NhZ2UgKGV4YW1wbGU6IGAnbXktcGFja2FnZSdgKS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmcgfCB1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5zb3VyY2UgPSBvcHRpb25zLnNvdXJjZSB8fCB1bmRlZmluZWRcblxuICAgIC8vIEZpZWxkIGZyb20gYEVycm9yYC5cbiAgICAvKipcbiAgICAgKiBTdGFjayBvZiBtZXNzYWdlLlxuICAgICAqXG4gICAgICogVGhpcyBpcyB1c2VkIGJ5IG5vcm1hbCBlcnJvcnMgdG8gc2hvdyB3aGVyZSBzb21ldGhpbmcgaGFwcGVuZWQgaW5cbiAgICAgKiBwcm9ncmFtbWluZyBjb2RlLCBpcnJlbGV2YW50IGZvciBgVkZpbGVgIG1lc3NhZ2VzLFxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLnN0YWNrID1cbiAgICAgIGxlZ2FjeUNhdXNlICYmIG9wdGlvbnMuY2F1c2UgJiYgdHlwZW9mIG9wdGlvbnMuY2F1c2Uuc3RhY2sgPT09ICdzdHJpbmcnXG4gICAgICAgID8gb3B0aW9ucy5jYXVzZS5zdGFja1xuICAgICAgICA6ICcnXG5cbiAgICAvLyBUaGUgZm9sbG93aW5nIGZpZWxkcyBhcmUg4oCcd2VsbCBrbm93buKAnS5cbiAgICAvLyBOb3Qgc3RhbmRhcmQuXG4gICAgLy8gRmVlbCBmcmVlIHRvIGFkZCBvdGhlciBub24tc3RhbmRhcmQgZmllbGRzIHRvIHlvdXIgbWVzc2FnZXMuXG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZ5IHRoZSBzb3VyY2UgdmFsdWUgdGhhdOKAmXMgYmVpbmcgcmVwb3J0ZWQsIHdoaWNoIGlzIGRlZW1lZFxuICAgICAqIGluY29ycmVjdC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmcgfCB1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5hY3R1YWwgPSB1bmRlZmluZWRcblxuICAgIC8qKlxuICAgICAqIFN1Z2dlc3QgYWNjZXB0YWJsZSB2YWx1ZXMgdGhhdCBjYW4gYmUgdXNlZCBpbnN0ZWFkIG9mIGBhY3R1YWxgLlxuICAgICAqXG4gICAgICogQHR5cGUge0FycmF5PHN0cmluZz4gfCB1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5leHBlY3RlZCA9IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogTG9uZyBmb3JtIGRlc2NyaXB0aW9uIG9mIHRoZSBtZXNzYWdlICh5b3Ugc2hvdWxkIHVzZSBtYXJrZG93bikuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubm90ZSA9IHVuZGVmaW5lZFxuXG4gICAgLyoqXG4gICAgICogTGluayB0byBkb2NzIGZvciB0aGUgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqID4g8J+RiSAqKk5vdGUqKjogdGhpcyBtdXN0IGJlIGFuIGFic29sdXRlIFVSTCB0aGF0IGNhbiBiZSBwYXNzZWQgYXMgYHhgXG4gICAgICogPiB0byBgbmV3IFVSTCh4KWAuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudXJsID0gdW5kZWZpbmVkXG4gIH1cbn1cblxuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5maWxlID0gJydcblZGaWxlTWVzc2FnZS5wcm90b3R5cGUubmFtZSA9ICcnXG5WRmlsZU1lc3NhZ2UucHJvdG90eXBlLnJlYXNvbiA9ICcnXG5WRmlsZU1lc3NhZ2UucHJvdG90eXBlLm1lc3NhZ2UgPSAnJ1xuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5zdGFjayA9ICcnXG5WRmlsZU1lc3NhZ2UucHJvdG90eXBlLmNvbHVtbiA9IHVuZGVmaW5lZFxuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5saW5lID0gdW5kZWZpbmVkXG5WRmlsZU1lc3NhZ2UucHJvdG90eXBlLmFuY2VzdG9ycyA9IHVuZGVmaW5lZFxuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5jYXVzZSA9IHVuZGVmaW5lZFxuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5mYXRhbCA9IHVuZGVmaW5lZFxuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5wbGFjZSA9IHVuZGVmaW5lZFxuVkZpbGVNZXNzYWdlLnByb3RvdHlwZS5ydWxlSWQgPSB1bmRlZmluZWRcblZGaWxlTWVzc2FnZS5wcm90b3R5cGUuc291cmNlID0gdW5kZWZpbmVkXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile-message/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VFile: () => (/* binding */ VFile)\n/* harmony export */ });\n/* harmony import */ var vfile_message__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! vfile-message */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile-message/lib/index.js\");\n/* harmony import */ var _minpath__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! #minpath */ \"node:path\");\n/* harmony import */ var _minproc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! #minproc */ \"node:process\");\n/* harmony import */ var _minurl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! #minurl */ \"(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/minurl.shared.js\");\n/* harmony import */ var _minurl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! #minurl */ \"node:url\");\n/**\n * @import {Node, Point, Position} from 'unist'\n * @import {Options as MessageOptions} from 'vfile-message'\n * @import {Compatible, Data, Map, Options, Value} from 'vfile'\n */\n\n/**\n * @typedef {object & {type: string, position?: Position | undefined}} NodeLike\n */\n\n\n\n\n\n\n/**\n * Order of setting (least specific to most), we need this because otherwise\n * `{stem: 'a', path: '~/b.js'}` would throw, as a path is needed before a\n * stem can be set.\n */\nconst order = /** @type {const} */ ([\n  'history',\n  'path',\n  'basename',\n  'stem',\n  'extname',\n  'dirname'\n])\n\nclass VFile {\n  /**\n   * Create a new virtual file.\n   *\n   * `options` is treated as:\n   *\n   * *   `string` or `Uint8Array`  `{value: options}`\n   * *   `URL`  `{path: options}`\n   * *   `VFile`  shallow copies its data over to the new file\n   * *   `object`  all fields are shallow copied over to the new file\n   *\n   * Path related fields are set in the following order (least specific to\n   * most specific): `history`, `path`, `basename`, `stem`, `extname`,\n   * `dirname`.\n   *\n   * You cannot set `dirname` or `extname` without setting either `history`,\n   * `path`, `basename`, or `stem` too.\n   *\n   * @param {Compatible | null | undefined} [value]\n   *   File value.\n   * @returns\n   *   New instance.\n   */\n  constructor(value) {\n    /** @type {Options | VFile} */\n    let options\n\n    if (!value) {\n      options = {}\n    } else if ((0,_minurl__WEBPACK_IMPORTED_MODULE_0__.isUrl)(value)) {\n      options = {path: value}\n    } else if (typeof value === 'string' || isUint8Array(value)) {\n      options = {value}\n    } else {\n      options = value\n    }\n\n    /* eslint-disable no-unused-expressions */\n\n    /**\n     * Base of `path` (default: `process.cwd()` or `'/'` in browsers).\n     *\n     * @type {string}\n     */\n    // Prevent calling `cwd` (which could be expensive) if its not needed;\n    // the empty string will be overridden in the next block.\n    this.cwd = 'cwd' in options ? '' : _minproc__WEBPACK_IMPORTED_MODULE_1__.cwd()\n\n    /**\n     * Place to store custom info (default: `{}`).\n     *\n     * Its OK to store custom data directly on the file but moving it to\n     * `data` is recommended.\n     *\n     * @type {Data}\n     */\n    this.data = {}\n\n    /**\n     * List of file paths the file moved between.\n     *\n     * The first is the original path and the last is the current path.\n     *\n     * @type {Array<string>}\n     */\n    this.history = []\n\n    /**\n     * List of messages associated with the file.\n     *\n     * @type {Array<VFileMessage>}\n     */\n    this.messages = []\n\n    /**\n     * Raw value.\n     *\n     * @type {Value}\n     */\n    this.value\n\n    // The below are non-standard, they are well-known.\n    // As in, used in several tools.\n    /**\n     * Source map.\n     *\n     * This type is equivalent to the `RawSourceMap` type from the `source-map`\n     * module.\n     *\n     * @type {Map | null | undefined}\n     */\n    this.map\n\n    /**\n     * Custom, non-string, compiled, representation.\n     *\n     * This is used by unified to store non-string results.\n     * One example is when turning markdown into React nodes.\n     *\n     * @type {unknown}\n     */\n    this.result\n\n    /**\n     * Whether a file was saved to disk.\n     *\n     * This is used by vfile reporters.\n     *\n     * @type {boolean}\n     */\n    this.stored\n    /* eslint-enable no-unused-expressions */\n\n    // Set path related properties in the correct order.\n    let index = -1\n\n    while (++index < order.length) {\n      const field = order[index]\n\n      // Note: we specifically use `in` instead of `hasOwnProperty` to accept\n      // `vfile`s too.\n      if (\n        field in options &&\n        options[field] !== undefined &&\n        options[field] !== null\n      ) {\n        // @ts-expect-error: TS doesnt understand basic reality.\n        this[field] = field === 'history' ? [...options[field]] : options[field]\n      }\n    }\n\n    /** @type {string} */\n    let field\n\n    // Set non-path related properties.\n    for (field in options) {\n      // @ts-expect-error: fine to set other things.\n      if (!order.includes(field)) {\n        // @ts-expect-error: fine to set other things.\n        this[field] = options[field]\n      }\n    }\n  }\n\n  /**\n   * Get the basename (including extname) (example: `'index.min.js'`).\n   *\n   * @returns {string | undefined}\n   *   Basename.\n   */\n  get basename() {\n    return typeof this.path === 'string'\n      ? _minpath__WEBPACK_IMPORTED_MODULE_2__.basename(this.path)\n      : undefined\n  }\n\n  /**\n   * Set basename (including extname) (`'index.min.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} basename\n   *   Basename.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set basename(basename) {\n    assertNonEmpty(basename, 'basename')\n    assertPart(basename, 'basename')\n    this.path = _minpath__WEBPACK_IMPORTED_MODULE_2__.join(this.dirname || '', basename)\n  }\n\n  /**\n   * Get the parent path (example: `'~'`).\n   *\n   * @returns {string | undefined}\n   *   Dirname.\n   */\n  get dirname() {\n    return typeof this.path === 'string'\n      ? _minpath__WEBPACK_IMPORTED_MODULE_2__.dirname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the parent path (example: `'~'`).\n   *\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} dirname\n   *   Dirname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set dirname(dirname) {\n    assertPath(this.basename, 'dirname')\n    this.path = _minpath__WEBPACK_IMPORTED_MODULE_2__.join(dirname || '', this.basename)\n  }\n\n  /**\n   * Get the extname (including dot) (example: `'.js'`).\n   *\n   * @returns {string | undefined}\n   *   Extname.\n   */\n  get extname() {\n    return typeof this.path === 'string'\n      ? _minpath__WEBPACK_IMPORTED_MODULE_2__.extname(this.path)\n      : undefined\n  }\n\n  /**\n   * Set the extname (including dot) (example: `'.js'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be set if theres no `path` yet.\n   *\n   * @param {string | undefined} extname\n   *   Extname.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set extname(extname) {\n    assertPart(extname, 'extname')\n    assertPath(this.dirname, 'extname')\n\n    if (extname) {\n      if (extname.codePointAt(0) !== 46 /* `.` */) {\n        throw new Error('`extname` must start with `.`')\n      }\n\n      if (extname.includes('.', 1)) {\n        throw new Error('`extname` cannot contain multiple dots')\n      }\n    }\n\n    this.path = _minpath__WEBPACK_IMPORTED_MODULE_2__.join(this.dirname, this.stem + (extname || ''))\n  }\n\n  /**\n   * Get the full path (example: `'~/index.min.js'`).\n   *\n   * @returns {string}\n   *   Path.\n   */\n  get path() {\n    return this.history[this.history.length - 1]\n  }\n\n  /**\n   * Set the full path (example: `'~/index.min.js'`).\n   *\n   * Cannot be nullified.\n   * You can set a file URL (a `URL` object with a `file:` protocol) which will\n   * be turned into a path with `url.fileURLToPath`.\n   *\n   * @param {URL | string} path\n   *   Path.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set path(path) {\n    if ((0,_minurl__WEBPACK_IMPORTED_MODULE_0__.isUrl)(path)) {\n      path = (0,_minurl__WEBPACK_IMPORTED_MODULE_3__.fileURLToPath)(path)\n    }\n\n    assertNonEmpty(path, 'path')\n\n    if (this.path !== path) {\n      this.history.push(path)\n    }\n  }\n\n  /**\n   * Get the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * @returns {string | undefined}\n   *   Stem.\n   */\n  get stem() {\n    return typeof this.path === 'string'\n      ? _minpath__WEBPACK_IMPORTED_MODULE_2__.basename(this.path, this.extname)\n      : undefined\n  }\n\n  /**\n   * Set the stem (basename w/o extname) (example: `'index.min'`).\n   *\n   * Cannot contain path separators (`'/'` on unix, macOS, and browsers, `'\\'`\n   * on windows).\n   * Cannot be nullified (use `file.path = file.dirname` instead).\n   *\n   * @param {string} stem\n   *   Stem.\n   * @returns {undefined}\n   *   Nothing.\n   */\n  set stem(stem) {\n    assertNonEmpty(stem, 'stem')\n    assertPart(stem, 'stem')\n    this.path = _minpath__WEBPACK_IMPORTED_MODULE_2__.join(this.dirname || '', stem + (this.extname || ''))\n  }\n\n  // Normal prototypal methods.\n  /**\n   * Create a fatal message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `true` (error; file not usable)\n   * and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {never}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {never}\n   *   Never.\n   * @throws {VFileMessage}\n   *   Message.\n   */\n  fail(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = true\n\n    throw message\n  }\n\n  /**\n   * Create an info message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `undefined` (info; change\n   * likely not needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  info(causeOrReason, optionsOrParentOrPlace, origin) {\n    // @ts-expect-error: the overloads are fine.\n    const message = this.message(causeOrReason, optionsOrParentOrPlace, origin)\n\n    message.fatal = undefined\n\n    return message\n  }\n\n  /**\n   * Create a message for `reason` associated with the file.\n   *\n   * The `fatal` field of the message is set to `false` (warning; change may be\n   * needed) and the `file` field is set to the current file path.\n   * The message is added to the `messages` field on `file`.\n   *\n   * >  **Note**: also has obsolete signatures.\n   *\n   * @overload\n   * @param {string} reason\n   * @param {MessageOptions | null | undefined} [options]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {string} reason\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Node | NodeLike | null | undefined} parent\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {Point | Position | null | undefined} place\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @overload\n   * @param {Error | VFileMessage} cause\n   * @param {string | null | undefined} [origin]\n   * @returns {VFileMessage}\n   *\n   * @param {Error | VFileMessage | string} causeOrReason\n   *   Reason for message, should use markdown.\n   * @param {Node | NodeLike | MessageOptions | Point | Position | string | null | undefined} [optionsOrParentOrPlace]\n   *   Configuration (optional).\n   * @param {string | null | undefined} [origin]\n   *   Place in code where the message originates (example:\n   *   `'my-package:my-rule'` or `'my-rule'`).\n   * @returns {VFileMessage}\n   *   Message.\n   */\n  message(causeOrReason, optionsOrParentOrPlace, origin) {\n    const message = new vfile_message__WEBPACK_IMPORTED_MODULE_4__.VFileMessage(\n      // @ts-expect-error: the overloads are fine.\n      causeOrReason,\n      optionsOrParentOrPlace,\n      origin\n    )\n\n    if (this.path) {\n      message.name = this.path + ':' + message.name\n      message.file = this.path\n    }\n\n    message.fatal = false\n\n    this.messages.push(message)\n\n    return message\n  }\n\n  /**\n   * Serialize the file.\n   *\n   * > **Note**: which encodings are supported depends on the engine.\n   * > For info on Node.js, see:\n   * > <https://nodejs.org/api/util.html#whatwg-supported-encodings>.\n   *\n   * @param {string | null | undefined} [encoding='utf8']\n   *   Character encoding to understand `value` as when its a `Uint8Array`\n   *   (default: `'utf-8'`).\n   * @returns {string}\n   *   Serialized file.\n   */\n  toString(encoding) {\n    if (this.value === undefined) {\n      return ''\n    }\n\n    if (typeof this.value === 'string') {\n      return this.value\n    }\n\n    const decoder = new TextDecoder(encoding || undefined)\n    return decoder.decode(this.value)\n  }\n}\n\n/**\n * Assert that `part` is not a path (as in, does not contain `path.sep`).\n *\n * @param {string | null | undefined} part\n *   File path part.\n * @param {string} name\n *   Part name.\n * @returns {undefined}\n *   Nothing.\n */\nfunction assertPart(part, name) {\n  if (part && part.includes(_minpath__WEBPACK_IMPORTED_MODULE_2__.sep)) {\n    throw new Error(\n      '`' + name + '` cannot be a path: did not expect `' + _minpath__WEBPACK_IMPORTED_MODULE_2__.sep + '`'\n    )\n  }\n}\n\n/**\n * Assert that `part` is not empty.\n *\n * @param {string | undefined} part\n *   Thing.\n * @param {string} name\n *   Part name.\n * @returns {asserts part is string}\n *   Nothing.\n */\nfunction assertNonEmpty(part, name) {\n  if (!part) {\n    throw new Error('`' + name + '` cannot be empty')\n  }\n}\n\n/**\n * Assert `path` exists.\n *\n * @param {string | undefined} path\n *   Path.\n * @param {string} name\n *   Dependency name.\n * @returns {asserts path is string}\n *   Nothing.\n */\nfunction assertPath(path, name) {\n  if (!path) {\n    throw new Error('Setting `' + name + '` requires `path` to be set too')\n  }\n}\n\n/**\n * Assert `value` is an `Uint8Array`.\n *\n * @param {unknown} value\n *   thing.\n * @returns {value is Uint8Array}\n *   Whether `value` is an `Uint8Array`.\n */\nfunction isUint8Array(value) {\n  return Boolean(\n    value &&\n      typeof value === 'object' &&\n      'byteLength' in value &&\n      'byteOffset' in value\n  )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3ZmaWxlL2xpYi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBLFlBQVksdUJBQXVCO0FBQ25DLFlBQVksMkJBQTJCO0FBQ3ZDLFlBQVksdUNBQXVDO0FBQ25EOztBQUVBO0FBQ0EsYUFBYSxVQUFVLGdEQUFnRDtBQUN2RTs7QUFFMEM7QUFDVjtBQUNBO0FBQ1E7O0FBRXhDO0FBQ0E7QUFDQSxLQUFLLDBCQUEwQjtBQUMvQjtBQUNBO0FBQ0EseUJBQXlCLE9BQU87QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGVBQWU7QUFDckQsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtCQUErQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpQkFBaUI7QUFDaEM7O0FBRUE7QUFDQTtBQUNBLE1BQU0sU0FBUyw4Q0FBSztBQUNwQixpQkFBaUI7QUFDakIsTUFBTTtBQUNOLGlCQUFpQjtBQUNqQixNQUFNO0FBQ047QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHlDQUFXOztBQUVsRDtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNk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QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQjtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL25vZGVfbW9kdWxlcy92ZmlsZS9saWIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAaW1wb3J0IHtOb2RlLCBQb2ludCwgUG9zaXRpb259IGZyb20gJ3VuaXN0J1xuICogQGltcG9ydCB7T3B0aW9ucyBhcyBNZXNzYWdlT3B0aW9uc30gZnJvbSAndmZpbGUtbWVzc2FnZSdcbiAqIEBpbXBvcnQge0NvbXBhdGlibGUsIERhdGEsIE1hcCwgT3B0aW9ucywgVmFsdWV9IGZyb20gJ3ZmaWxlJ1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge29iamVjdCAmIHt0eXBlOiBzdHJpbmcsIHBvc2l0aW9uPzogUG9zaXRpb24gfCB1bmRlZmluZWR9fSBOb2RlTGlrZVxuICovXG5cbmltcG9ydCB7VkZpbGVNZXNzYWdlfSBmcm9tICd2ZmlsZS1tZXNzYWdlJ1xuaW1wb3J0IHttaW5wYXRofSBmcm9tICcjbWlucGF0aCdcbmltcG9ydCB7bWlucHJvY30gZnJvbSAnI21pbnByb2MnXG5pbXBvcnQge3VybFRvUGF0aCwgaXNVcmx9IGZyb20gJyNtaW51cmwnXG5cbi8qKlxuICogT3JkZXIgb2Ygc2V0dGluZyAobGVhc3Qgc3BlY2lmaWMgdG8gbW9zdCksIHdlIG5lZWQgdGhpcyBiZWNhdXNlIG90aGVyd2lzZVxuICogYHtzdGVtOiAnYScsIHBhdGg6ICd+L2IuanMnfWAgd291bGQgdGhyb3csIGFzIGEgcGF0aCBpcyBuZWVkZWQgYmVmb3JlIGFcbiAqIHN0ZW0gY2FuIGJlIHNldC5cbiAqL1xuY29uc3Qgb3JkZXIgPSAvKiogQHR5cGUge2NvbnN0fSAqLyAoW1xuICAnaGlzdG9yeScsXG4gICdwYXRoJyxcbiAgJ2Jhc2VuYW1lJyxcbiAgJ3N0ZW0nLFxuICAnZXh0bmFtZScsXG4gICdkaXJuYW1lJ1xuXSlcblxuZXhwb3J0IGNsYXNzIFZGaWxlIHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB2aXJ0dWFsIGZpbGUuXG4gICAqXG4gICAqIGBvcHRpb25zYCBpcyB0cmVhdGVkIGFzOlxuICAgKlxuICAgKiAqICAgYHN0cmluZ2Agb3IgYFVpbnQ4QXJyYXlgIOKAlCBge3ZhbHVlOiBvcHRpb25zfWBcbiAgICogKiAgIGBVUkxgIOKAlCBge3BhdGg6IG9wdGlvbnN9YFxuICAgKiAqICAgYFZGaWxlYCDigJQgc2hhbGxvdyBjb3BpZXMgaXRzIGRhdGEgb3ZlciB0byB0aGUgbmV3IGZpbGVcbiAgICogKiAgIGBvYmplY3RgIOKAlCBhbGwgZmllbGRzIGFyZSBzaGFsbG93IGNvcGllZCBvdmVyIHRvIHRoZSBuZXcgZmlsZVxuICAgKlxuICAgKiBQYXRoIHJlbGF0ZWQgZmllbGRzIGFyZSBzZXQgaW4gdGhlIGZvbGxvd2luZyBvcmRlciAobGVhc3Qgc3BlY2lmaWMgdG9cbiAgICogbW9zdCBzcGVjaWZpYyk6IGBoaXN0b3J5YCwgYHBhdGhgLCBgYmFzZW5hbWVgLCBgc3RlbWAsIGBleHRuYW1lYCxcbiAgICogYGRpcm5hbWVgLlxuICAgKlxuICAgKiBZb3UgY2Fubm90IHNldCBgZGlybmFtZWAgb3IgYGV4dG5hbWVgIHdpdGhvdXQgc2V0dGluZyBlaXRoZXIgYGhpc3RvcnlgLFxuICAgKiBgcGF0aGAsIGBiYXNlbmFtZWAsIG9yIGBzdGVtYCB0b28uXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tcGF0aWJsZSB8IG51bGwgfCB1bmRlZmluZWR9IFt2YWx1ZV1cbiAgICogICBGaWxlIHZhbHVlLlxuICAgKiBAcmV0dXJuc1xuICAgKiAgIE5ldyBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgLyoqIEB0eXBlIHtPcHRpb25zIHwgVkZpbGV9ICovXG4gICAgbGV0IG9wdGlvbnNcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH0gZWxzZSBpZiAoaXNVcmwodmFsdWUpKSB7XG4gICAgICBvcHRpb25zID0ge3BhdGg6IHZhbHVlfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCBpc1VpbnQ4QXJyYXkodmFsdWUpKSB7XG4gICAgICBvcHRpb25zID0ge3ZhbHVlfVxuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0gdmFsdWVcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtZXhwcmVzc2lvbnMgKi9cblxuICAgIC8qKlxuICAgICAqIEJhc2Ugb2YgYHBhdGhgIChkZWZhdWx0OiBgcHJvY2Vzcy5jd2QoKWAgb3IgYCcvJ2AgaW4gYnJvd3NlcnMpLlxuICAgICAqXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICAvLyBQcmV2ZW50IGNhbGxpbmcgYGN3ZGAgKHdoaWNoIGNvdWxkIGJlIGV4cGVuc2l2ZSkgaWYgaXTigJlzIG5vdCBuZWVkZWQ7XG4gICAgLy8gdGhlIGVtcHR5IHN0cmluZyB3aWxsIGJlIG92ZXJyaWRkZW4gaW4gdGhlIG5leHQgYmxvY2suXG4gICAgdGhpcy5jd2QgPSAnY3dkJyBpbiBvcHRpb25zID8gJycgOiBtaW5wcm9jLmN3ZCgpXG5cbiAgICAvKipcbiAgICAgKiBQbGFjZSB0byBzdG9yZSBjdXN0b20gaW5mbyAoZGVmYXVsdDogYHt9YCkuXG4gICAgICpcbiAgICAgKiBJdOKAmXMgT0sgdG8gc3RvcmUgY3VzdG9tIGRhdGEgZGlyZWN0bHkgb24gdGhlIGZpbGUgYnV0IG1vdmluZyBpdCB0b1xuICAgICAqIGBkYXRhYCBpcyByZWNvbW1lbmRlZC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtEYXRhfVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IHt9XG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIGZpbGUgcGF0aHMgdGhlIGZpbGUgbW92ZWQgYmV0d2Vlbi5cbiAgICAgKlxuICAgICAqIFRoZSBmaXJzdCBpcyB0aGUgb3JpZ2luYWwgcGF0aCBhbmQgdGhlIGxhc3QgaXMgdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgICAqL1xuICAgIHRoaXMuaGlzdG9yeSA9IFtdXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIG1lc3NhZ2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlsZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtBcnJheTxWRmlsZU1lc3NhZ2U+fVxuICAgICAqL1xuICAgIHRoaXMubWVzc2FnZXMgPSBbXVxuXG4gICAgLyoqXG4gICAgICogUmF3IHZhbHVlLlxuICAgICAqXG4gICAgICogQHR5cGUge1ZhbHVlfVxuICAgICAqL1xuICAgIHRoaXMudmFsdWVcblxuICAgIC8vIFRoZSBiZWxvdyBhcmUgbm9uLXN0YW5kYXJkLCB0aGV5IGFyZSDigJx3ZWxsLWtub3du4oCdLlxuICAgIC8vIEFzIGluLCB1c2VkIGluIHNldmVyYWwgdG9vbHMuXG4gICAgLyoqXG4gICAgICogU291cmNlIG1hcC5cbiAgICAgKlxuICAgICAqIFRoaXMgdHlwZSBpcyBlcXVpdmFsZW50IHRvIHRoZSBgUmF3U291cmNlTWFwYCB0eXBlIGZyb20gdGhlIGBzb3VyY2UtbWFwYFxuICAgICAqIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtNYXAgfCBudWxsIHwgdW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMubWFwXG5cbiAgICAvKipcbiAgICAgKiBDdXN0b20sIG5vbi1zdHJpbmcsIGNvbXBpbGVkLCByZXByZXNlbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCBieSB1bmlmaWVkIHRvIHN0b3JlIG5vbi1zdHJpbmcgcmVzdWx0cy5cbiAgICAgKiBPbmUgZXhhbXBsZSBpcyB3aGVuIHR1cm5pbmcgbWFya2Rvd24gaW50byBSZWFjdCBub2Rlcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHt1bmtub3dufVxuICAgICAqL1xuICAgIHRoaXMucmVzdWx0XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGEgZmlsZSB3YXMgc2F2ZWQgdG8gZGlzay5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCBieSB2ZmlsZSByZXBvcnRlcnMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnN0b3JlZFxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLWV4cHJlc3Npb25zICovXG5cbiAgICAvLyBTZXQgcGF0aCByZWxhdGVkIHByb3BlcnRpZXMgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuXG4gICAgbGV0IGluZGV4ID0gLTFcblxuICAgIHdoaWxlICgrK2luZGV4IDwgb3JkZXIubGVuZ3RoKSB7XG4gICAgICBjb25zdCBmaWVsZCA9IG9yZGVyW2luZGV4XVxuXG4gICAgICAvLyBOb3RlOiB3ZSBzcGVjaWZpY2FsbHkgdXNlIGBpbmAgaW5zdGVhZCBvZiBgaGFzT3duUHJvcGVydHlgIHRvIGFjY2VwdFxuICAgICAgLy8gYHZmaWxlYHMgdG9vLlxuICAgICAgaWYgKFxuICAgICAgICBmaWVsZCBpbiBvcHRpb25zICYmXG4gICAgICAgIG9wdGlvbnNbZmllbGRdICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgb3B0aW9uc1tmaWVsZF0gIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBUUyBkb2VzbuKAmXQgdW5kZXJzdGFuZCBiYXNpYyByZWFsaXR5LlxuICAgICAgICB0aGlzW2ZpZWxkXSA9IGZpZWxkID09PSAnaGlzdG9yeScgPyBbLi4ub3B0aW9uc1tmaWVsZF1dIDogb3B0aW9uc1tmaWVsZF1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICBsZXQgZmllbGRcblxuICAgIC8vIFNldCBub24tcGF0aCByZWxhdGVkIHByb3BlcnRpZXMuXG4gICAgZm9yIChmaWVsZCBpbiBvcHRpb25zKSB7XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBmaW5lIHRvIHNldCBvdGhlciB0aGluZ3MuXG4gICAgICBpZiAoIW9yZGVyLmluY2x1ZGVzKGZpZWxkKSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yOiBmaW5lIHRvIHNldCBvdGhlciB0aGluZ3MuXG4gICAgICAgIHRoaXNbZmllbGRdID0gb3B0aW9uc1tmaWVsZF1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBiYXNlbmFtZSAoaW5jbHVkaW5nIGV4dG5hbWUpIChleGFtcGxlOiBgJ2luZGV4Lm1pbi5qcydgKS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZyB8IHVuZGVmaW5lZH1cbiAgICogICBCYXNlbmFtZS5cbiAgICovXG4gIGdldCBiYXNlbmFtZSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucGF0aCA9PT0gJ3N0cmluZydcbiAgICAgID8gbWlucGF0aC5iYXNlbmFtZSh0aGlzLnBhdGgpXG4gICAgICA6IHVuZGVmaW5lZFxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBiYXNlbmFtZSAoaW5jbHVkaW5nIGV4dG5hbWUpIChgJ2luZGV4Lm1pbi5qcydgKS5cbiAgICpcbiAgICogQ2Fubm90IGNvbnRhaW4gcGF0aCBzZXBhcmF0b3JzIChgJy8nYCBvbiB1bml4LCBtYWNPUywgYW5kIGJyb3dzZXJzLCBgJ1xcJ2BcbiAgICogb24gd2luZG93cykuXG4gICAqIENhbm5vdCBiZSBudWxsaWZpZWQgKHVzZSBgZmlsZS5wYXRoID0gZmlsZS5kaXJuYW1lYCBpbnN0ZWFkKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VuYW1lXG4gICAqICAgQmFzZW5hbWUuXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqICAgTm90aGluZy5cbiAgICovXG4gIHNldCBiYXNlbmFtZShiYXNlbmFtZSkge1xuICAgIGFzc2VydE5vbkVtcHR5KGJhc2VuYW1lLCAnYmFzZW5hbWUnKVxuICAgIGFzc2VydFBhcnQoYmFzZW5hbWUsICdiYXNlbmFtZScpXG4gICAgdGhpcy5wYXRoID0gbWlucGF0aC5qb2luKHRoaXMuZGlybmFtZSB8fCAnJywgYmFzZW5hbWUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYXJlbnQgcGF0aCAoZXhhbXBsZTogYCd+J2ApLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICAgKiAgIERpcm5hbWUuXG4gICAqL1xuICBnZXQgZGlybmFtZSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucGF0aCA9PT0gJ3N0cmluZydcbiAgICAgID8gbWlucGF0aC5kaXJuYW1lKHRoaXMucGF0aClcbiAgICAgIDogdW5kZWZpbmVkXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBwYXJlbnQgcGF0aCAoZXhhbXBsZTogYCd+J2ApLlxuICAgKlxuICAgKiBDYW5ub3QgYmUgc2V0IGlmIHRoZXJl4oCZcyBubyBgcGF0aGAgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gZGlybmFtZVxuICAgKiAgIERpcm5hbWUuXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqICAgTm90aGluZy5cbiAgICovXG4gIHNldCBkaXJuYW1lKGRpcm5hbWUpIHtcbiAgICBhc3NlcnRQYXRoKHRoaXMuYmFzZW5hbWUsICdkaXJuYW1lJylcbiAgICB0aGlzLnBhdGggPSBtaW5wYXRoLmpvaW4oZGlybmFtZSB8fCAnJywgdGhpcy5iYXNlbmFtZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGV4dG5hbWUgKGluY2x1ZGluZyBkb3QpIChleGFtcGxlOiBgJy5qcydgKS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZyB8IHVuZGVmaW5lZH1cbiAgICogICBFeHRuYW1lLlxuICAgKi9cbiAgZ2V0IGV4dG5hbWUoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnBhdGggPT09ICdzdHJpbmcnXG4gICAgICA/IG1pbnBhdGguZXh0bmFtZSh0aGlzLnBhdGgpXG4gICAgICA6IHVuZGVmaW5lZFxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgZXh0bmFtZSAoaW5jbHVkaW5nIGRvdCkgKGV4YW1wbGU6IGAnLmpzJ2ApLlxuICAgKlxuICAgKiBDYW5ub3QgY29udGFpbiBwYXRoIHNlcGFyYXRvcnMgKGAnLydgIG9uIHVuaXgsIG1hY09TLCBhbmQgYnJvd3NlcnMsIGAnXFwnYFxuICAgKiBvbiB3aW5kb3dzKS5cbiAgICogQ2Fubm90IGJlIHNldCBpZiB0aGVyZeKAmXMgbm8gYHBhdGhgIHlldC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IGV4dG5hbWVcbiAgICogICBFeHRuYW1lLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKiAgIE5vdGhpbmcuXG4gICAqL1xuICBzZXQgZXh0bmFtZShleHRuYW1lKSB7XG4gICAgYXNzZXJ0UGFydChleHRuYW1lLCAnZXh0bmFtZScpXG4gICAgYXNzZXJ0UGF0aCh0aGlzLmRpcm5hbWUsICdleHRuYW1lJylcblxuICAgIGlmIChleHRuYW1lKSB7XG4gICAgICBpZiAoZXh0bmFtZS5jb2RlUG9pbnRBdCgwKSAhPT0gNDYgLyogYC5gICovKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYGV4dG5hbWVgIG11c3Qgc3RhcnQgd2l0aCBgLmAnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZXh0bmFtZS5pbmNsdWRlcygnLicsIDEpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYGV4dG5hbWVgIGNhbm5vdCBjb250YWluIG11bHRpcGxlIGRvdHMnKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGF0aCA9IG1pbnBhdGguam9pbih0aGlzLmRpcm5hbWUsIHRoaXMuc3RlbSArIChleHRuYW1lIHx8ICcnKSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGZ1bGwgcGF0aCAoZXhhbXBsZTogYCd+L2luZGV4Lm1pbi5qcydgKS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogICBQYXRoLlxuICAgKi9cbiAgZ2V0IHBhdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeVt0aGlzLmhpc3RvcnkubGVuZ3RoIC0gMV1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGZ1bGwgcGF0aCAoZXhhbXBsZTogYCd+L2luZGV4Lm1pbi5qcydgKS5cbiAgICpcbiAgICogQ2Fubm90IGJlIG51bGxpZmllZC5cbiAgICogWW91IGNhbiBzZXQgYSBmaWxlIFVSTCAoYSBgVVJMYCBvYmplY3Qgd2l0aCBhIGBmaWxlOmAgcHJvdG9jb2wpIHdoaWNoIHdpbGxcbiAgICogYmUgdHVybmVkIGludG8gYSBwYXRoIHdpdGggYHVybC5maWxlVVJMVG9QYXRoYC5cbiAgICpcbiAgICogQHBhcmFtIHtVUkwgfCBzdHJpbmd9IHBhdGhcbiAgICogICBQYXRoLlxuICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICAgKiAgIE5vdGhpbmcuXG4gICAqL1xuICBzZXQgcGF0aChwYXRoKSB7XG4gICAgaWYgKGlzVXJsKHBhdGgpKSB7XG4gICAgICBwYXRoID0gdXJsVG9QYXRoKHBhdGgpXG4gICAgfVxuXG4gICAgYXNzZXJ0Tm9uRW1wdHkocGF0aCwgJ3BhdGgnKVxuXG4gICAgaWYgKHRoaXMucGF0aCAhPT0gcGF0aCkge1xuICAgICAgdGhpcy5oaXN0b3J5LnB1c2gocGF0aClcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBzdGVtIChiYXNlbmFtZSB3L28gZXh0bmFtZSkgKGV4YW1wbGU6IGAnaW5kZXgubWluJ2ApLlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nIHwgdW5kZWZpbmVkfVxuICAgKiAgIFN0ZW0uXG4gICAqL1xuICBnZXQgc3RlbSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaXMucGF0aCA9PT0gJ3N0cmluZydcbiAgICAgID8gbWlucGF0aC5iYXNlbmFtZSh0aGlzLnBhdGgsIHRoaXMuZXh0bmFtZSlcbiAgICAgIDogdW5kZWZpbmVkXG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdGVtIChiYXNlbmFtZSB3L28gZXh0bmFtZSkgKGV4YW1wbGU6IGAnaW5kZXgubWluJ2ApLlxuICAgKlxuICAgKiBDYW5ub3QgY29udGFpbiBwYXRoIHNlcGFyYXRvcnMgKGAnLydgIG9uIHVuaXgsIG1hY09TLCBhbmQgYnJvd3NlcnMsIGAnXFwnYFxuICAgKiBvbiB3aW5kb3dzKS5cbiAgICogQ2Fubm90IGJlIG51bGxpZmllZCAodXNlIGBmaWxlLnBhdGggPSBmaWxlLmRpcm5hbWVgIGluc3RlYWQpLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RlbVxuICAgKiAgIFN0ZW0uXG4gICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAqICAgTm90aGluZy5cbiAgICovXG4gIHNldCBzdGVtKHN0ZW0pIHtcbiAgICBhc3NlcnROb25FbXB0eShzdGVtLCAnc3RlbScpXG4gICAgYXNzZXJ0UGFydChzdGVtLCAnc3RlbScpXG4gICAgdGhpcy5wYXRoID0gbWlucGF0aC5qb2luKHRoaXMuZGlybmFtZSB8fCAnJywgc3RlbSArICh0aGlzLmV4dG5hbWUgfHwgJycpKVxuICB9XG5cbiAgLy8gTm9ybWFsIHByb3RvdHlwYWwgbWV0aG9kcy5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIGZhdGFsIG1lc3NhZ2UgZm9yIGByZWFzb25gIGFzc29jaWF0ZWQgd2l0aCB0aGUgZmlsZS5cbiAgICpcbiAgICogVGhlIGBmYXRhbGAgZmllbGQgb2YgdGhlIG1lc3NhZ2UgaXMgc2V0IHRvIGB0cnVlYCAoZXJyb3I7IGZpbGUgbm90IHVzYWJsZSlcbiAgICogYW5kIHRoZSBgZmlsZWAgZmllbGQgaXMgc2V0IHRvIHRoZSBjdXJyZW50IGZpbGUgcGF0aC5cbiAgICogVGhlIG1lc3NhZ2UgaXMgYWRkZWQgdG8gdGhlIGBtZXNzYWdlc2AgZmllbGQgb24gYGZpbGVgLlxuICAgKlxuICAgKiA+IPCfqqYgKipOb3RlKio6IGFsc28gaGFzIG9ic29sZXRlIHNpZ25hdHVyZXMuXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gICAqIEBwYXJhbSB7TWVzc2FnZU9wdGlvbnMgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0aW9uc11cbiAgICogQHJldHVybnMge25ldmVyfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICAgKiBAcGFyYW0ge05vZGUgfCBOb2RlTGlrZSB8IG51bGwgfCB1bmRlZmluZWR9IHBhcmVudFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtuZXZlcn1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAgICogQHBhcmFtIHtQb2ludCB8IFBvc2l0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGxhY2VcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3JpZ2luXVxuICAgKiBAcmV0dXJucyB7bmV2ZXJ9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge25ldmVyfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtFcnJvciB8IFZGaWxlTWVzc2FnZX0gY2F1c2VcbiAgICogQHBhcmFtIHtOb2RlIHwgTm9kZUxpa2UgfCBudWxsIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3JpZ2luXVxuICAgKiBAcmV0dXJucyB7bmV2ZXJ9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge1BvaW50IHwgUG9zaXRpb24gfCBudWxsIHwgdW5kZWZpbmVkfSBwbGFjZVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtuZXZlcn1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7RXJyb3IgfCBWRmlsZU1lc3NhZ2V9IGNhdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge25ldmVyfVxuICAgKlxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlIHwgc3RyaW5nfSBjYXVzZU9yUmVhc29uXG4gICAqICAgUmVhc29uIGZvciBtZXNzYWdlLCBzaG91bGQgdXNlIG1hcmtkb3duLlxuICAgKiBAcGFyYW0ge05vZGUgfCBOb2RlTGlrZSB8IE1lc3NhZ2VPcHRpb25zIHwgUG9pbnQgfCBQb3NpdGlvbiB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRpb25zT3JQYXJlbnRPclBsYWNlXVxuICAgKiAgIENvbmZpZ3VyYXRpb24gKG9wdGlvbmFsKS5cbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3JpZ2luXVxuICAgKiAgIFBsYWNlIGluIGNvZGUgd2hlcmUgdGhlIG1lc3NhZ2Ugb3JpZ2luYXRlcyAoZXhhbXBsZTpcbiAgICogICBgJ215LXBhY2thZ2U6bXktcnVsZSdgIG9yIGAnbXktcnVsZSdgKS5cbiAgICogQHJldHVybnMge25ldmVyfVxuICAgKiAgIE5ldmVyLlxuICAgKiBAdGhyb3dzIHtWRmlsZU1lc3NhZ2V9XG4gICAqICAgTWVzc2FnZS5cbiAgICovXG4gIGZhaWwoY2F1c2VPclJlYXNvbiwgb3B0aW9uc09yUGFyZW50T3JQbGFjZSwgb3JpZ2luKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIG92ZXJsb2FkcyBhcmUgZmluZS5cbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlKGNhdXNlT3JSZWFzb24sIG9wdGlvbnNPclBhcmVudE9yUGxhY2UsIG9yaWdpbilcblxuICAgIG1lc3NhZ2UuZmF0YWwgPSB0cnVlXG5cbiAgICB0aHJvdyBtZXNzYWdlXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuIGluZm8gbWVzc2FnZSBmb3IgYHJlYXNvbmAgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaWxlLlxuICAgKlxuICAgKiBUaGUgYGZhdGFsYCBmaWVsZCBvZiB0aGUgbWVzc2FnZSBpcyBzZXQgdG8gYHVuZGVmaW5lZGAgKGluZm87IGNoYW5nZVxuICAgKiBsaWtlbHkgbm90IG5lZWRlZCkgYW5kIHRoZSBgZmlsZWAgZmllbGQgaXMgc2V0IHRvIHRoZSBjdXJyZW50IGZpbGUgcGF0aC5cbiAgICogVGhlIG1lc3NhZ2UgaXMgYWRkZWQgdG8gdGhlIGBtZXNzYWdlc2AgZmllbGQgb24gYGZpbGVgLlxuICAgKlxuICAgKiA+IPCfqqYgKipOb3RlKio6IGFsc28gaGFzIG9ic29sZXRlIHNpZ25hdHVyZXMuXG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gICAqIEBwYXJhbSB7TWVzc2FnZU9wdGlvbnMgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0aW9uc11cbiAgICogQHJldHVybnMge1ZGaWxlTWVzc2FnZX1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAgICogQHBhcmFtIHtOb2RlIHwgTm9kZUxpa2UgfCBudWxsIHwgdW5kZWZpbmVkfSBwYXJlbnRcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3JpZ2luXVxuICAgKiBAcmV0dXJucyB7VkZpbGVNZXNzYWdlfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICAgKiBAcGFyYW0ge1BvaW50IHwgUG9zaXRpb24gfCBudWxsIHwgdW5kZWZpbmVkfSBwbGFjZVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge1ZGaWxlTWVzc2FnZX1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7RXJyb3IgfCBWRmlsZU1lc3NhZ2V9IGNhdXNlXG4gICAqIEBwYXJhbSB7Tm9kZSB8IE5vZGVMaWtlIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGFyZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge1ZGaWxlTWVzc2FnZX1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7RXJyb3IgfCBWRmlsZU1lc3NhZ2V9IGNhdXNlXG4gICAqIEBwYXJhbSB7UG9pbnQgfCBQb3NpdGlvbiB8IG51bGwgfCB1bmRlZmluZWR9IHBsYWNlXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge1ZGaWxlTWVzc2FnZX1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7RXJyb3IgfCBWRmlsZU1lc3NhZ2V9IGNhdXNlXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge1ZGaWxlTWVzc2FnZX1cbiAgICpcbiAgICogQHBhcmFtIHtFcnJvciB8IFZGaWxlTWVzc2FnZSB8IHN0cmluZ30gY2F1c2VPclJlYXNvblxuICAgKiAgIFJlYXNvbiBmb3IgbWVzc2FnZSwgc2hvdWxkIHVzZSBtYXJrZG93bi5cbiAgICogQHBhcmFtIHtOb2RlIHwgTm9kZUxpa2UgfCBNZXNzYWdlT3B0aW9ucyB8IFBvaW50IHwgUG9zaXRpb24gfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0aW9uc09yUGFyZW50T3JQbGFjZV1cbiAgICogICBDb25maWd1cmF0aW9uIChvcHRpb25hbCkuXG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogICBQbGFjZSBpbiBjb2RlIHdoZXJlIHRoZSBtZXNzYWdlIG9yaWdpbmF0ZXMgKGV4YW1wbGU6XG4gICAqICAgYCdteS1wYWNrYWdlOm15LXJ1bGUnYCBvciBgJ215LXJ1bGUnYCkuXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqICAgTWVzc2FnZS5cbiAgICovXG4gIGluZm8oY2F1c2VPclJlYXNvbiwgb3B0aW9uc09yUGFyZW50T3JQbGFjZSwgb3JpZ2luKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIG92ZXJsb2FkcyBhcmUgZmluZS5cbiAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5tZXNzYWdlKGNhdXNlT3JSZWFzb24sIG9wdGlvbnNPclBhcmVudE9yUGxhY2UsIG9yaWdpbilcblxuICAgIG1lc3NhZ2UuZmF0YWwgPSB1bmRlZmluZWRcblxuICAgIHJldHVybiBtZXNzYWdlXG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbWVzc2FnZSBmb3IgYHJlYXNvbmAgYXNzb2NpYXRlZCB3aXRoIHRoZSBmaWxlLlxuICAgKlxuICAgKiBUaGUgYGZhdGFsYCBmaWVsZCBvZiB0aGUgbWVzc2FnZSBpcyBzZXQgdG8gYGZhbHNlYCAod2FybmluZzsgY2hhbmdlIG1heSBiZVxuICAgKiBuZWVkZWQpIGFuZCB0aGUgYGZpbGVgIGZpZWxkIGlzIHNldCB0byB0aGUgY3VycmVudCBmaWxlIHBhdGguXG4gICAqIFRoZSBtZXNzYWdlIGlzIGFkZGVkIHRvIHRoZSBgbWVzc2FnZXNgIGZpZWxkIG9uIGBmaWxlYC5cbiAgICpcbiAgICogPiDwn6qmICoqTm90ZSoqOiBhbHNvIGhhcyBvYnNvbGV0ZSBzaWduYXR1cmVzLlxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICAgKiBAcGFyYW0ge01lc3NhZ2VPcHRpb25zIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdGlvbnNdXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVhc29uXG4gICAqIEBwYXJhbSB7Tm9kZSB8IE5vZGVMaWtlIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGFyZW50XG4gICAqIEBwYXJhbSB7c3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29yaWdpbl1cbiAgICogQHJldHVybnMge1ZGaWxlTWVzc2FnZX1cbiAgICpcbiAgICogQG92ZXJsb2FkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZWFzb25cbiAgICogQHBhcmFtIHtQb2ludCB8IFBvc2l0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZH0gcGxhY2VcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3JpZ2luXVxuICAgKiBAcmV0dXJucyB7VkZpbGVNZXNzYWdlfVxuICAgKlxuICAgKiBAb3ZlcmxvYWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHJlYXNvblxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge05vZGUgfCBOb2RlTGlrZSB8IG51bGwgfCB1bmRlZmluZWR9IHBhcmVudFxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge1BvaW50IHwgUG9zaXRpb24gfCBudWxsIHwgdW5kZWZpbmVkfSBwbGFjZVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqXG4gICAqIEBvdmVybG9hZFxuICAgKiBAcGFyYW0ge0Vycm9yIHwgVkZpbGVNZXNzYWdlfSBjYXVzZVxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqIEByZXR1cm5zIHtWRmlsZU1lc3NhZ2V9XG4gICAqXG4gICAqIEBwYXJhbSB7RXJyb3IgfCBWRmlsZU1lc3NhZ2UgfCBzdHJpbmd9IGNhdXNlT3JSZWFzb25cbiAgICogICBSZWFzb24gZm9yIG1lc3NhZ2UsIHNob3VsZCB1c2UgbWFya2Rvd24uXG4gICAqIEBwYXJhbSB7Tm9kZSB8IE5vZGVMaWtlIHwgTWVzc2FnZU9wdGlvbnMgfCBQb2ludCB8IFBvc2l0aW9uIHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZH0gW29wdGlvbnNPclBhcmVudE9yUGxhY2VdXG4gICAqICAgQ29uZmlndXJhdGlvbiAob3B0aW9uYWwpLlxuICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcmlnaW5dXG4gICAqICAgUGxhY2UgaW4gY29kZSB3aGVyZSB0aGUgbWVzc2FnZSBvcmlnaW5hdGVzIChleGFtcGxlOlxuICAgKiAgIGAnbXktcGFja2FnZTpteS1ydWxlJ2Agb3IgYCdteS1ydWxlJ2ApLlxuICAgKiBAcmV0dXJucyB7VkZpbGVNZXNzYWdlfVxuICAgKiAgIE1lc3NhZ2UuXG4gICAqL1xuICBtZXNzYWdlKGNhdXNlT3JSZWFzb24sIG9wdGlvbnNPclBhcmVudE9yUGxhY2UsIG9yaWdpbikge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBuZXcgVkZpbGVNZXNzYWdlKFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogdGhlIG92ZXJsb2FkcyBhcmUgZmluZS5cbiAgICAgIGNhdXNlT3JSZWFzb24sXG4gICAgICBvcHRpb25zT3JQYXJlbnRPclBsYWNlLFxuICAgICAgb3JpZ2luXG4gICAgKVxuXG4gICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgbWVzc2FnZS5uYW1lID0gdGhpcy5wYXRoICsgJzonICsgbWVzc2FnZS5uYW1lXG4gICAgICBtZXNzYWdlLmZpbGUgPSB0aGlzLnBhdGhcbiAgICB9XG5cbiAgICBtZXNzYWdlLmZhdGFsID0gZmFsc2VcblxuICAgIHRoaXMubWVzc2FnZXMucHVzaChtZXNzYWdlKVxuXG4gICAgcmV0dXJuIG1lc3NhZ2VcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXJpYWxpemUgdGhlIGZpbGUuXG4gICAqXG4gICAqID4gKipOb3RlKio6IHdoaWNoIGVuY29kaW5ncyBhcmUgc3VwcG9ydGVkIGRlcGVuZHMgb24gdGhlIGVuZ2luZS5cbiAgICogPiBGb3IgaW5mbyBvbiBOb2RlLmpzLCBzZWU6XG4gICAqID4gPGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdXRpbC5odG1sI3doYXR3Zy1zdXBwb3J0ZWQtZW5jb2RpbmdzPi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbZW5jb2Rpbmc9J3V0ZjgnXVxuICAgKiAgIENoYXJhY3RlciBlbmNvZGluZyB0byB1bmRlcnN0YW5kIGB2YWx1ZWAgYXMgd2hlbiBpdOKAmXMgYSBgVWludDhBcnJheWBcbiAgICogICAoZGVmYXVsdDogYCd1dGYtOCdgKS5cbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICogICBTZXJpYWxpemVkIGZpbGUuXG4gICAqL1xuICB0b1N0cmluZyhlbmNvZGluZykge1xuICAgIGlmICh0aGlzLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAnJ1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlXG4gICAgfVxuXG4gICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcihlbmNvZGluZyB8fCB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKHRoaXMudmFsdWUpXG4gIH1cbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCBgcGFydGAgaXMgbm90IGEgcGF0aCAoYXMgaW4sIGRvZXMgbm90IGNvbnRhaW4gYHBhdGguc2VwYCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBwYXJ0XG4gKiAgIEZpbGUgcGF0aCBwYXJ0LlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqICAgUGFydCBuYW1lLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqICAgTm90aGluZy5cbiAqL1xuZnVuY3Rpb24gYXNzZXJ0UGFydChwYXJ0LCBuYW1lKSB7XG4gIGlmIChwYXJ0ICYmIHBhcnQuaW5jbHVkZXMobWlucGF0aC5zZXApKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ2AnICsgbmFtZSArICdgIGNhbm5vdCBiZSBhIHBhdGg6IGRpZCBub3QgZXhwZWN0IGAnICsgbWlucGF0aC5zZXAgKyAnYCdcbiAgICApXG4gIH1cbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCBgcGFydGAgaXMgbm90IGVtcHR5LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkfSBwYXJ0XG4gKiAgIFRoaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqICAgUGFydCBuYW1lLlxuICogQHJldHVybnMge2Fzc2VydHMgcGFydCBpcyBzdHJpbmd9XG4gKiAgIE5vdGhpbmcuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydE5vbkVtcHR5KHBhcnQsIG5hbWUpIHtcbiAgaWYgKCFwYXJ0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdgJyArIG5hbWUgKyAnYCBjYW5ub3QgYmUgZW1wdHknKVxuICB9XG59XG5cbi8qKlxuICogQXNzZXJ0IGBwYXRoYCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCB1bmRlZmluZWR9IHBhdGhcbiAqICAgUGF0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiAgIERlcGVuZGVuY3kgbmFtZS5cbiAqIEByZXR1cm5zIHthc3NlcnRzIHBhdGggaXMgc3RyaW5nfVxuICogICBOb3RoaW5nLlxuICovXG5mdW5jdGlvbiBhc3NlcnRQYXRoKHBhdGgsIG5hbWUpIHtcbiAgaWYgKCFwYXRoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZXR0aW5nIGAnICsgbmFtZSArICdgIHJlcXVpcmVzIGBwYXRoYCB0byBiZSBzZXQgdG9vJylcbiAgfVxufVxuXG4vKipcbiAqIEFzc2VydCBgdmFsdWVgIGlzIGFuIGBVaW50OEFycmF5YC5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHZhbHVlXG4gKiAgIHRoaW5nLlxuICogQHJldHVybnMge3ZhbHVlIGlzIFVpbnQ4QXJyYXl9XG4gKiAgIFdoZXRoZXIgYHZhbHVlYCBpcyBhbiBgVWludDhBcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGlzVWludDhBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gQm9vbGVhbihcbiAgICB2YWx1ZSAmJlxuICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgJ2J5dGVMZW5ndGgnIGluIHZhbHVlICYmXG4gICAgICAnYnl0ZU9mZnNldCcgaW4gdmFsdWVcbiAgKVxufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/minurl.shared.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/minurl.shared.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isUrl: () => (/* binding */ isUrl)\n/* harmony export */ });\n/**\n * Checks if a value has the shape of a WHATWG URL object.\n *\n * Using a symbol or instanceof would not be able to recognize URL objects\n * coming from other implementations (e.g. in Electron), so instead we are\n * checking some well known properties for a lack of a better test.\n *\n * We use `href` and `protocol` as they are the only properties that are\n * easy to retrieve and calculate due to the lazy nature of the getters.\n *\n * We check for auth attribute to distinguish legacy url instance with\n * WHATWG URL instance.\n *\n * @param {unknown} fileUrlOrPath\n *   File path or URL.\n * @returns {fileUrlOrPath is URL}\n *   Whether its a URL.\n */\n// From: <https://github.com/nodejs/node/blob/6a3403c/lib/internal/url.js#L720>\nfunction isUrl(fileUrlOrPath) {\n  return Boolean(\n    fileUrlOrPath !== null &&\n      typeof fileUrlOrPath === 'object' &&\n      'href' in fileUrlOrPath &&\n      fileUrlOrPath.href &&\n      'protocol' in fileUrlOrPath &&\n      fileUrlOrPath.protocol &&\n      // @ts-expect-error: indexing is fine.\n      fileUrlOrPath.auth === undefined\n  )\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcmVhY3QtdWkvbm9kZV9tb2R1bGVzL3ZmaWxlL2xpYi9taW51cmwuc2hhcmVkLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3JlYWN0LXVpL25vZGVfbW9kdWxlcy92ZmlsZS9saWIvbWludXJsLnNoYXJlZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBhIHZhbHVlIGhhcyB0aGUgc2hhcGUgb2YgYSBXSEFUV0cgVVJMIG9iamVjdC5cbiAqXG4gKiBVc2luZyBhIHN5bWJvbCBvciBpbnN0YW5jZW9mIHdvdWxkIG5vdCBiZSBhYmxlIHRvIHJlY29nbml6ZSBVUkwgb2JqZWN0c1xuICogY29taW5nIGZyb20gb3RoZXIgaW1wbGVtZW50YXRpb25zIChlLmcuIGluIEVsZWN0cm9uKSwgc28gaW5zdGVhZCB3ZSBhcmVcbiAqIGNoZWNraW5nIHNvbWUgd2VsbCBrbm93biBwcm9wZXJ0aWVzIGZvciBhIGxhY2sgb2YgYSBiZXR0ZXIgdGVzdC5cbiAqXG4gKiBXZSB1c2UgYGhyZWZgIGFuZCBgcHJvdG9jb2xgIGFzIHRoZXkgYXJlIHRoZSBvbmx5IHByb3BlcnRpZXMgdGhhdCBhcmVcbiAqIGVhc3kgdG8gcmV0cmlldmUgYW5kIGNhbGN1bGF0ZSBkdWUgdG8gdGhlIGxhenkgbmF0dXJlIG9mIHRoZSBnZXR0ZXJzLlxuICpcbiAqIFdlIGNoZWNrIGZvciBhdXRoIGF0dHJpYnV0ZSB0byBkaXN0aW5ndWlzaCBsZWdhY3kgdXJsIGluc3RhbmNlIHdpdGhcbiAqIFdIQVRXRyBVUkwgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSBmaWxlVXJsT3JQYXRoXG4gKiAgIEZpbGUgcGF0aCBvciBVUkwuXG4gKiBAcmV0dXJucyB7ZmlsZVVybE9yUGF0aCBpcyBVUkx9XG4gKiAgIFdoZXRoZXIgaXTigJlzIGEgVVJMLlxuICovXG4vLyBGcm9tOiA8aHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvNmEzNDAzYy9saWIvaW50ZXJuYWwvdXJsLmpzI0w3MjA+XG5leHBvcnQgZnVuY3Rpb24gaXNVcmwoZmlsZVVybE9yUGF0aCkge1xuICByZXR1cm4gQm9vbGVhbihcbiAgICBmaWxlVXJsT3JQYXRoICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgZmlsZVVybE9yUGF0aCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICdocmVmJyBpbiBmaWxlVXJsT3JQYXRoICYmXG4gICAgICBmaWxlVXJsT3JQYXRoLmhyZWYgJiZcbiAgICAgICdwcm90b2NvbCcgaW4gZmlsZVVybE9yUGF0aCAmJlxuICAgICAgZmlsZVVybE9yUGF0aC5wcm90b2NvbCAmJlxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvcjogaW5kZXhpbmcgaXMgZmluZS5cbiAgICAgIGZpbGVVcmxPclBhdGguYXV0aCA9PT0gdW5kZWZpbmVkXG4gIClcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/react-ui/node_modules/vfile/lib/minurl.shared.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-4KTMZMM2.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-4KTMZMM2.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   graphql: () => (/* binding */ graphql)\n/* harmony export */ });\n/* harmony import */ var _chunk_WM3ARNBD_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-WM3ARNBD.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\");\n\n\n// src/graphql/@generated/gql.ts\nvar documents = {\n  \"\\n  mutation generateCopilotResponse($data: GenerateCopilotResponseInput!, $properties: JSONObject) {\\n    generateCopilotResponse(data: $data, properties: $properties) {\\n      threadId\\n      runId\\n      extensions {\\n        openaiAssistantAPI {\\n          runId\\n          threadId\\n        }\\n      }\\n      ... on CopilotResponse @defer {\\n        status {\\n          ... on BaseResponseStatus {\\n            code\\n          }\\n          ... on FailedResponseStatus {\\n            reason\\n            details\\n          }\\n        }\\n      }\\n      messages @stream {\\n        __typename\\n        ... on BaseMessageOutput {\\n          id\\n          createdAt\\n        }\\n        ... on BaseMessageOutput @defer {\\n          status {\\n            ... on SuccessMessageStatus {\\n              code\\n            }\\n            ... on FailedMessageStatus {\\n              code\\n              reason\\n            }\\n            ... on PendingMessageStatus {\\n              code\\n            }\\n          }\\n        }\\n        ... on TextMessageOutput {\\n          content @stream\\n          role\\n          parentMessageId\\n        }\\n        ... on ImageMessageOutput {\\n          format\\n          bytes\\n          role\\n          parentMessageId\\n        }\\n        ... on ActionExecutionMessageOutput {\\n          name\\n          arguments @stream\\n          parentMessageId\\n        }\\n        ... on ResultMessageOutput {\\n          result\\n          actionExecutionId\\n          actionName\\n        }\\n        ... on AgentStateMessageOutput {\\n          threadId\\n          state\\n          running\\n          agentName\\n          nodeName\\n          runId\\n          active\\n          role\\n        }\\n      }\\n      metaEvents @stream {\\n        ... on LangGraphInterruptEvent {\\n          type\\n          name\\n          value\\n        }\\n\\n        ... on CopilotKitLangGraphInterruptEvent {\\n          type\\n          name\\n          data {\\n            messages {\\n              __typename\\n              ... on BaseMessageOutput {\\n                id\\n                createdAt\\n              }\\n              ... on BaseMessageOutput @defer {\\n                status {\\n                  ... on SuccessMessageStatus {\\n                    code\\n                  }\\n                  ... on FailedMessageStatus {\\n                    code\\n                    reason\\n                  }\\n                  ... on PendingMessageStatus {\\n                    code\\n                  }\\n                }\\n              }\\n              ... on TextMessageOutput {\\n                content\\n                role\\n                parentMessageId\\n              }\\n              ... on ActionExecutionMessageOutput {\\n                name\\n                arguments\\n                parentMessageId\\n              }\\n              ... on ResultMessageOutput {\\n                result\\n                actionExecutionId\\n                actionName\\n              }\\n            }\\n            value\\n          }\\n        }\\n      }\\n    }\\n  }\\n\": _chunk_WM3ARNBD_mjs__WEBPACK_IMPORTED_MODULE_0__.GenerateCopilotResponseDocument,\n  \"\\n  query availableAgents {\\n    availableAgents {\\n      agents {\\n        name\\n        id\\n        description\\n      }\\n    }\\n  }\\n\": _chunk_WM3ARNBD_mjs__WEBPACK_IMPORTED_MODULE_0__.AvailableAgentsDocument,\n  \"\\n  query loadAgentState($data: LoadAgentStateInput!) {\\n    loadAgentState(data: $data) {\\n      threadId\\n      threadExists\\n      state\\n      messages\\n    }\\n  }\\n\": _chunk_WM3ARNBD_mjs__WEBPACK_IMPORTED_MODULE_0__.LoadAgentStateDocument\n};\nfunction graphql(source) {\n  return documents[source] ?? {};\n}\n\n\n//# sourceMappingURL=chunk-4KTMZMM2.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstNEtUTVpNTTIubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBSThCOztBQUU5QjtBQUNBO0FBQ0Esd0dBQXdHLHFFQUFxRSxpREFBaUQsOEJBQThCLGdEQUFnRCxTQUFTLHVDQUF1QyxrQkFBa0IsdUNBQXVDLCtCQUErQix5Q0FBeUMsc0RBQXNELFdBQVcsU0FBUywwQkFBMEIsd0RBQXdELDhDQUE4QywyQ0FBMkMsb0JBQW9CLDJDQUEyQyxtQ0FBbUMsMENBQTBDLHlEQUF5RCwyQ0FBMkMsbUNBQW1DLGFBQWEsV0FBVyxvQ0FBb0MsaUZBQWlGLHFDQUFxQyx5RkFBeUYsK0NBQStDLG1GQUFtRixzQ0FBc0MsZ0ZBQWdGLDBDQUEwQywrSkFBK0osU0FBUyw0QkFBNEIsMENBQTBDLDREQUE0RCxzREFBc0Qsa0RBQWtELHdCQUF3QixvRUFBb0UsZ0VBQWdFLGlEQUFpRCwwQkFBMEIsaURBQWlELCtDQUErQyxnREFBZ0QsMkVBQTJFLGlEQUFpRCwrQ0FBK0MsbUJBQW1CLGlCQUFpQiwwQ0FBMEMsaUdBQWlHLHFEQUFxRCxtR0FBbUcsNENBQTRDLHdHQUF3RyxlQUFlLGdDQUFnQyxXQUFXLFNBQVMsT0FBTyxLQUFLLEtBQUssZ0ZBQStCO0FBQ3BoRyw4QkFBOEIsdUJBQXVCLGdCQUFnQix3REFBd0QsT0FBTyxLQUFLLEtBQUssd0VBQXVCO0FBQ3JLLDBEQUEwRCxtQ0FBbUMsd0VBQXdFLEtBQUssS0FBSyx1RUFBc0I7QUFDck07QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstNEtUTVpNTTIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEF2YWlsYWJsZUFnZW50c0RvY3VtZW50LFxuICBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZURvY3VtZW50LFxuICBMb2FkQWdlbnRTdGF0ZURvY3VtZW50XG59IGZyb20gXCIuL2NodW5rLVdNM0FSTkJELm1qc1wiO1xuXG4vLyBzcmMvZ3JhcGhxbC9AZ2VuZXJhdGVkL2dxbC50c1xudmFyIGRvY3VtZW50cyA9IHtcbiAgXCJcXG4gIG11dGF0aW9uIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKCRkYXRhOiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZUlucHV0ISwgJHByb3BlcnRpZXM6IEpTT05PYmplY3QpIHtcXG4gICAgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UoZGF0YTogJGRhdGEsIHByb3BlcnRpZXM6ICRwcm9wZXJ0aWVzKSB7XFxuICAgICAgdGhyZWFkSWRcXG4gICAgICBydW5JZFxcbiAgICAgIGV4dGVuc2lvbnMge1xcbiAgICAgICAgb3BlbmFpQXNzaXN0YW50QVBJIHtcXG4gICAgICAgICAgcnVuSWRcXG4gICAgICAgICAgdGhyZWFkSWRcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgLi4uIG9uIENvcGlsb3RSZXNwb25zZSBAZGVmZXIge1xcbiAgICAgICAgc3RhdHVzIHtcXG4gICAgICAgICAgLi4uIG9uIEJhc2VSZXNwb25zZVN0YXR1cyB7XFxuICAgICAgICAgICAgY29kZVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIC4uLiBvbiBGYWlsZWRSZXNwb25zZVN0YXR1cyB7XFxuICAgICAgICAgICAgcmVhc29uXFxuICAgICAgICAgICAgZGV0YWlsc1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICAgIG1lc3NhZ2VzIEBzdHJlYW0ge1xcbiAgICAgICAgX190eXBlbmFtZVxcbiAgICAgICAgLi4uIG9uIEJhc2VNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgaWRcXG4gICAgICAgICAgY3JlYXRlZEF0XFxuICAgICAgICB9XFxuICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQgQGRlZmVyIHtcXG4gICAgICAgICAgc3RhdHVzIHtcXG4gICAgICAgICAgICAuLi4gb24gU3VjY2Vzc01lc3NhZ2VTdGF0dXMge1xcbiAgICAgICAgICAgICAgY29kZVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAuLi4gb24gRmFpbGVkTWVzc2FnZVN0YXR1cyB7XFxuICAgICAgICAgICAgICBjb2RlXFxuICAgICAgICAgICAgICByZWFzb25cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLi4uIG9uIFBlbmRpbmdNZXNzYWdlU3RhdHVzIHtcXG4gICAgICAgICAgICAgIGNvZGVcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIC4uLiBvbiBUZXh0TWVzc2FnZU91dHB1dCB7XFxuICAgICAgICAgIGNvbnRlbnQgQHN0cmVhbVxcbiAgICAgICAgICByb2xlXFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIEltYWdlTWVzc2FnZU91dHB1dCB7XFxuICAgICAgICAgIGZvcm1hdFxcbiAgICAgICAgICBieXRlc1xcbiAgICAgICAgICByb2xlXFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICBuYW1lXFxuICAgICAgICAgIGFyZ3VtZW50cyBAc3RyZWFtXFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIFJlc3VsdE1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICByZXN1bHRcXG4gICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWRcXG4gICAgICAgICAgYWN0aW9uTmFtZVxcbiAgICAgICAgfVxcbiAgICAgICAgLi4uIG9uIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgdGhyZWFkSWRcXG4gICAgICAgICAgc3RhdGVcXG4gICAgICAgICAgcnVubmluZ1xcbiAgICAgICAgICBhZ2VudE5hbWVcXG4gICAgICAgICAgbm9kZU5hbWVcXG4gICAgICAgICAgcnVuSWRcXG4gICAgICAgICAgYWN0aXZlXFxuICAgICAgICAgIHJvbGVcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgbWV0YUV2ZW50cyBAc3RyZWFtIHtcXG4gICAgICAgIC4uLiBvbiBMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCB7XFxuICAgICAgICAgIHR5cGVcXG4gICAgICAgICAgbmFtZVxcbiAgICAgICAgICB2YWx1ZVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgLi4uIG9uIENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCB7XFxuICAgICAgICAgIHR5cGVcXG4gICAgICAgICAgbmFtZVxcbiAgICAgICAgICBkYXRhIHtcXG4gICAgICAgICAgICBtZXNzYWdlcyB7XFxuICAgICAgICAgICAgICBfX3R5cGVuYW1lXFxuICAgICAgICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICAgICAgICBpZFxcbiAgICAgICAgICAgICAgICBjcmVhdGVkQXRcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIC4uLiBvbiBCYXNlTWVzc2FnZU91dHB1dCBAZGVmZXIge1xcbiAgICAgICAgICAgICAgICBzdGF0dXMge1xcbiAgICAgICAgICAgICAgICAgIC4uLiBvbiBTdWNjZXNzTWVzc2FnZVN0YXR1cyB7XFxuICAgICAgICAgICAgICAgICAgICBjb2RlXFxuICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgIC4uLiBvbiBGYWlsZWRNZXNzYWdlU3RhdHVzIHtcXG4gICAgICAgICAgICAgICAgICAgIGNvZGVcXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvblxcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAuLi4gb24gUGVuZGluZ01lc3NhZ2VTdGF0dXMge1xcbiAgICAgICAgICAgICAgICAgICAgY29kZVxcbiAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgLi4uIG9uIFRleHRNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgICAgICAgY29udGVudFxcbiAgICAgICAgICAgICAgICByb2xlXFxuICAgICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgLi4uIG9uIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXQge1xcbiAgICAgICAgICAgICAgICBuYW1lXFxuICAgICAgICAgICAgICAgIGFyZ3VtZW50c1xcbiAgICAgICAgICAgICAgICBwYXJlbnRNZXNzYWdlSWRcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIC4uLiBvbiBSZXN1bHRNZXNzYWdlT3V0cHV0IHtcXG4gICAgICAgICAgICAgICAgcmVzdWx0XFxuICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkXFxuICAgICAgICAgICAgICAgIGFjdGlvbk5hbWVcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgdmFsdWVcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgfVxcbiAgfVxcblwiOiBHZW5lcmF0ZUNvcGlsb3RSZXNwb25zZURvY3VtZW50LFxuICBcIlxcbiAgcXVlcnkgYXZhaWxhYmxlQWdlbnRzIHtcXG4gICAgYXZhaWxhYmxlQWdlbnRzIHtcXG4gICAgICBhZ2VudHMge1xcbiAgICAgICAgbmFtZVxcbiAgICAgICAgaWRcXG4gICAgICAgIGRlc2NyaXB0aW9uXFxuICAgICAgfVxcbiAgICB9XFxuICB9XFxuXCI6IEF2YWlsYWJsZUFnZW50c0RvY3VtZW50LFxuICBcIlxcbiAgcXVlcnkgbG9hZEFnZW50U3RhdGUoJGRhdGE6IExvYWRBZ2VudFN0YXRlSW5wdXQhKSB7XFxuICAgIGxvYWRBZ2VudFN0YXRlKGRhdGE6ICRkYXRhKSB7XFxuICAgICAgdGhyZWFkSWRcXG4gICAgICB0aHJlYWRFeGlzdHNcXG4gICAgICBzdGF0ZVxcbiAgICAgIG1lc3NhZ2VzXFxuICAgIH1cXG4gIH1cXG5cIjogTG9hZEFnZW50U3RhdGVEb2N1bWVudFxufTtcbmZ1bmN0aW9uIGdyYXBocWwoc291cmNlKSB7XG4gIHJldHVybiBkb2N1bWVudHNbc291cmNlXSA/PyB7fTtcbn1cblxuZXhwb3J0IHtcbiAgZ3JhcGhxbFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTRLVE1aTU0yLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-4KTMZMM2.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-FXYV7IUL.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-FXYV7IUL.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CopilotRuntimeClient: () => (/* binding */ CopilotRuntimeClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_X2UAP3QY_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-X2UAP3QY.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-X2UAP3QY.mjs\");\n/* harmony import */ var _chunk_HEODM5TW_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-HEODM5TW.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-HEODM5TW.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @urql/core */ \"(ssr)/./node_modules/@urql/core/dist/urql-core.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n\n\n\n// src/client/CopilotRuntimeClient.ts\n\n\n// package.json\nvar version = \"1.10.4\";\n\n// src/client/CopilotRuntimeClient.ts\n\nvar createFetchFn = (signal, handleGQLWarning) => async (...args) => {\n  var _a, _b;\n  const publicApiKey = (_b = (_a = args[1]) == null ? void 0 : _a.headers) == null ? void 0 : _b[\"x-copilotcloud-public-api-key\"];\n  try {\n    const result = await fetch(args[0], { ...args[1] ?? {}, signal });\n    const mismatch = publicApiKey ? null : await (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.getPossibleVersionMismatch)({\n      runtimeVersion: result.headers.get(\"X-CopilotKit-Runtime-Version\"),\n      runtimeClientGqlVersion: version\n    });\n    if (result.status !== 200) {\n      if (result.status >= 400 && result.status <= 500) {\n        if (mismatch) {\n          throw new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.CopilotKitVersionMismatchError(mismatch);\n        }\n        throw new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.ResolvedCopilotKitError({ status: result.status });\n      }\n    }\n    if (mismatch && handleGQLWarning) {\n      handleGQLWarning(mismatch.message);\n    }\n    return result;\n  } catch (error) {\n    if (error.message.includes(\"BodyStreamBuffer was aborted\") || error.message.includes(\"signal is aborted without reason\")) {\n      throw error;\n    }\n    if (error instanceof _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.CopilotKitError) {\n      throw error;\n    }\n    throw new _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.CopilotKitLowLevelError({ error, url: args[0] });\n  }\n};\nvar CopilotRuntimeClient = class {\n  constructor(options) {\n    const headers = {};\n    this.handleGQLErrors = options.handleGQLErrors;\n    this.handleGQLWarning = options.handleGQLWarning;\n    if (options.headers) {\n      Object.assign(headers, options.headers);\n    }\n    if (options.publicApiKey) {\n      headers[\"x-copilotcloud-public-api-key\"] = options.publicApiKey;\n    }\n    this.client = new _urql_core__WEBPACK_IMPORTED_MODULE_1__.Client({\n      url: options.url,\n      exchanges: [_urql_core__WEBPACK_IMPORTED_MODULE_1__.cacheExchange, _urql_core__WEBPACK_IMPORTED_MODULE_1__.fetchExchange],\n      fetchOptions: {\n        headers: {\n          ...headers,\n          \"X-CopilotKit-Runtime-Client-GQL-Version\": version\n        },\n        ...options.credentials ? { credentials: options.credentials } : {}\n      }\n    });\n  }\n  generateCopilotResponse({\n    data,\n    properties,\n    signal\n  }) {\n    const fetchFn = createFetchFn(signal, this.handleGQLWarning);\n    const result = this.client.mutation(_chunk_HEODM5TW_mjs__WEBPACK_IMPORTED_MODULE_2__.generateCopilotResponseMutation, { data, properties }, { fetch: fetchFn });\n    result.subscribe(({ error }) => {\n      if (error && this.handleGQLErrors) {\n        this.handleGQLErrors(error);\n      }\n    });\n    return result;\n  }\n  asStream(source) {\n    const handleGQLErrors = this.handleGQLErrors;\n    return new ReadableStream({\n      start(controller) {\n        source.subscribe(({ data, hasNext, error }) => {\n          var _a;\n          if (error) {\n            if (error.message.includes(\"BodyStreamBuffer was aborted\") || error.message.includes(\"signal is aborted without reason\")) {\n              if (!hasNext)\n                controller.close();\n              console.warn(\"Abort error suppressed\");\n              return;\n            }\n            if ((_a = error.extensions) == null ? void 0 : _a.visibility) {\n              const syntheticError = {\n                ...error,\n                graphQLErrors: [\n                  {\n                    message: error.message,\n                    extensions: error.extensions\n                  }\n                ]\n              };\n              if (handleGQLErrors) {\n                handleGQLErrors(syntheticError);\n              }\n              return;\n            }\n            controller.error(error);\n            if (handleGQLErrors) {\n              handleGQLErrors(error);\n            }\n          } else {\n            controller.enqueue(data);\n            if (!hasNext) {\n              controller.close();\n            }\n          }\n        });\n      }\n    });\n  }\n  availableAgents() {\n    const fetchFn = createFetchFn();\n    return this.client.query(_chunk_X2UAP3QY_mjs__WEBPACK_IMPORTED_MODULE_3__.getAvailableAgentsQuery, {}, { fetch: fetchFn });\n  }\n  loadAgentState(data) {\n    const fetchFn = createFetchFn();\n    const result = this.client.query(\n      _chunk_X2UAP3QY_mjs__WEBPACK_IMPORTED_MODULE_3__.loadAgentStateQuery,\n      { data },\n      { fetch: fetchFn }\n    );\n    result.toPromise().then(({ error }) => {\n      if (error && this.handleGQLErrors) {\n        this.handleGQLErrors(error);\n      }\n    }).catch(() => {\n    });\n    return result;\n  }\n  static removeGraphQLTypename(data) {\n    if (Array.isArray(data)) {\n      data.forEach((item) => CopilotRuntimeClient.removeGraphQLTypename(item));\n    } else if (typeof data === \"object\" && data !== null) {\n      delete data.__typename;\n      Object.keys(data).forEach((key) => {\n        if (typeof data[key] === \"object\" && data[key] !== null) {\n          CopilotRuntimeClient.removeGraphQLTypename(data[key]);\n        }\n      });\n    }\n    return data;\n  }\n};\n\n\n//# sourceMappingURL=chunk-FXYV7IUL.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstRlhZVjdJVUwubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRzhCO0FBR0E7O0FBRTlCO0FBQ2tFOztBQUVsRTtBQUNBOztBQUVBO0FBTzRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLGdCQUFnQixVQUFVO0FBQ3BFLGlEQUFpRCw4RUFBMEI7QUFDM0U7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOEVBQThCO0FBQ2xEO0FBQ0Esa0JBQWtCLHVFQUF1QixHQUFHLHVCQUF1QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLCtEQUFlO0FBQ3hDO0FBQ0E7QUFDQSxjQUFjLHVFQUF1QixHQUFHLHFCQUFxQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw4Q0FBTTtBQUM1QjtBQUNBLGtCQUFrQixxREFBYSxFQUFFLHFEQUFhO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULG1DQUFtQyxtQ0FBbUM7QUFDdEU7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHdDQUF3QyxnRkFBK0IsSUFBSSxrQkFBa0IsSUFBSSxnQkFBZ0I7QUFDakgsd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzQkFBc0I7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHdFQUF1QixJQUFJLElBQUksZ0JBQWdCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxvRUFBbUI7QUFDekIsUUFBUSxNQUFNO0FBQ2QsUUFBUTtBQUNSO0FBQ0EsK0JBQStCLE9BQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBSUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstRlhZVjdJVUwubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGdldEF2YWlsYWJsZUFnZW50c1F1ZXJ5LFxuICBsb2FkQWdlbnRTdGF0ZVF1ZXJ5XG59IGZyb20gXCIuL2NodW5rLVgyVUFQM1FZLm1qc1wiO1xuaW1wb3J0IHtcbiAgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNdXRhdGlvblxufSBmcm9tIFwiLi9jaHVuay1IRU9ETTVUVy5tanNcIjtcblxuLy8gc3JjL2NsaWVudC9Db3BpbG90UnVudGltZUNsaWVudC50c1xuaW1wb3J0IHsgQ2xpZW50LCBjYWNoZUV4Y2hhbmdlLCBmZXRjaEV4Y2hhbmdlIH0gZnJvbSBcIkB1cnFsL2NvcmVcIjtcblxuLy8gcGFja2FnZS5qc29uXG52YXIgdmVyc2lvbiA9IFwiMS4xMC40XCI7XG5cbi8vIHNyYy9jbGllbnQvQ29waWxvdFJ1bnRpbWVDbGllbnQudHNcbmltcG9ydCB7XG4gIFJlc29sdmVkQ29waWxvdEtpdEVycm9yLFxuICBDb3BpbG90S2l0TG93TGV2ZWxFcnJvcixcbiAgQ29waWxvdEtpdEVycm9yLFxuICBDb3BpbG90S2l0VmVyc2lvbk1pc21hdGNoRXJyb3IsXG4gIGdldFBvc3NpYmxlVmVyc2lvbk1pc21hdGNoXG59IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbnZhciBjcmVhdGVGZXRjaEZuID0gKHNpZ25hbCwgaGFuZGxlR1FMV2FybmluZykgPT4gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgcHVibGljQXBpS2V5ID0gKF9iID0gKF9hID0gYXJnc1sxXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmhlYWRlcnMpID09IG51bGwgPyB2b2lkIDAgOiBfYltcIngtY29waWxvdGNsb3VkLXB1YmxpYy1hcGkta2V5XCJdO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGFyZ3NbMF0sIHsgLi4uYXJnc1sxXSA/PyB7fSwgc2lnbmFsIH0pO1xuICAgIGNvbnN0IG1pc21hdGNoID0gcHVibGljQXBpS2V5ID8gbnVsbCA6IGF3YWl0IGdldFBvc3NpYmxlVmVyc2lvbk1pc21hdGNoKHtcbiAgICAgIHJ1bnRpbWVWZXJzaW9uOiByZXN1bHQuaGVhZGVycy5nZXQoXCJYLUNvcGlsb3RLaXQtUnVudGltZS1WZXJzaW9uXCIpLFxuICAgICAgcnVudGltZUNsaWVudEdxbFZlcnNpb246IHZlcnNpb25cbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gMjAwKSB7XG4gICAgICBpZiAocmVzdWx0LnN0YXR1cyA+PSA0MDAgJiYgcmVzdWx0LnN0YXR1cyA8PSA1MDApIHtcbiAgICAgICAgaWYgKG1pc21hdGNoKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IENvcGlsb3RLaXRWZXJzaW9uTWlzbWF0Y2hFcnJvcihtaXNtYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJlc29sdmVkQ29waWxvdEtpdEVycm9yKHsgc3RhdHVzOiByZXN1bHQuc3RhdHVzIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobWlzbWF0Y2ggJiYgaGFuZGxlR1FMV2FybmluZykge1xuICAgICAgaGFuZGxlR1FMV2FybmluZyhtaXNtYXRjaC5tZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIkJvZHlTdHJlYW1CdWZmZXIgd2FzIGFib3J0ZWRcIikgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcInNpZ25hbCBpcyBhYm9ydGVkIHdpdGhvdXQgcmVhc29uXCIpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQ29waWxvdEtpdEVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgdGhyb3cgbmV3IENvcGlsb3RLaXRMb3dMZXZlbEVycm9yKHsgZXJyb3IsIHVybDogYXJnc1swXSB9KTtcbiAgfVxufTtcbnZhciBDb3BpbG90UnVudGltZUNsaWVudCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICB0aGlzLmhhbmRsZUdRTEVycm9ycyA9IG9wdGlvbnMuaGFuZGxlR1FMRXJyb3JzO1xuICAgIHRoaXMuaGFuZGxlR1FMV2FybmluZyA9IG9wdGlvbnMuaGFuZGxlR1FMV2FybmluZztcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICBPYmplY3QuYXNzaWduKGhlYWRlcnMsIG9wdGlvbnMuaGVhZGVycyk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnB1YmxpY0FwaUtleSkge1xuICAgICAgaGVhZGVyc1tcIngtY29waWxvdGNsb3VkLXB1YmxpYy1hcGkta2V5XCJdID0gb3B0aW9ucy5wdWJsaWNBcGlLZXk7XG4gICAgfVxuICAgIHRoaXMuY2xpZW50ID0gbmV3IENsaWVudCh7XG4gICAgICB1cmw6IG9wdGlvbnMudXJsLFxuICAgICAgZXhjaGFuZ2VzOiBbY2FjaGVFeGNoYW5nZSwgZmV0Y2hFeGNoYW5nZV0sXG4gICAgICBmZXRjaE9wdGlvbnM6IHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIC4uLmhlYWRlcnMsXG4gICAgICAgICAgXCJYLUNvcGlsb3RLaXQtUnVudGltZS1DbGllbnQtR1FMLVZlcnNpb25cIjogdmVyc2lvblxuICAgICAgICB9LFxuICAgICAgICAuLi5vcHRpb25zLmNyZWRlbnRpYWxzID8geyBjcmVkZW50aWFsczogb3B0aW9ucy5jcmVkZW50aWFscyB9IDoge31cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZSh7XG4gICAgZGF0YSxcbiAgICBwcm9wZXJ0aWVzLFxuICAgIHNpZ25hbFxuICB9KSB7XG4gICAgY29uc3QgZmV0Y2hGbiA9IGNyZWF0ZUZldGNoRm4oc2lnbmFsLCB0aGlzLmhhbmRsZUdRTFdhcm5pbmcpO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2xpZW50Lm11dGF0aW9uKGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlTXV0YXRpb24sIHsgZGF0YSwgcHJvcGVydGllcyB9LCB7IGZldGNoOiBmZXRjaEZuIH0pO1xuICAgIHJlc3VsdC5zdWJzY3JpYmUoKHsgZXJyb3IgfSkgPT4ge1xuICAgICAgaWYgKGVycm9yICYmIHRoaXMuaGFuZGxlR1FMRXJyb3JzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlR1FMRXJyb3JzKGVycm9yKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGFzU3RyZWFtKHNvdXJjZSkge1xuICAgIGNvbnN0IGhhbmRsZUdRTEVycm9ycyA9IHRoaXMuaGFuZGxlR1FMRXJyb3JzO1xuICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKCh7IGRhdGEsIGhhc05leHQsIGVycm9yIH0pID0+IHtcbiAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIkJvZHlTdHJlYW1CdWZmZXIgd2FzIGFib3J0ZWRcIikgfHwgZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcInNpZ25hbCBpcyBhYm9ydGVkIHdpdGhvdXQgcmVhc29uXCIpKSB7XG4gICAgICAgICAgICAgIGlmICghaGFzTmV4dClcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFib3J0IGVycm9yIHN1cHByZXNzZWRcIik7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoX2EgPSBlcnJvci5leHRlbnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgICBjb25zdCBzeW50aGV0aWNFcnJvciA9IHtcbiAgICAgICAgICAgICAgICAuLi5lcnJvcixcbiAgICAgICAgICAgICAgICBncmFwaFFMRXJyb3JzOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbnM6IGVycm9yLmV4dGVuc2lvbnNcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGlmIChoYW5kbGVHUUxFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVHUUxFcnJvcnMoc3ludGhldGljRXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZUdRTEVycm9ycykge1xuICAgICAgICAgICAgICBoYW5kbGVHUUxFcnJvcnMoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWhhc05leHQpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYXZhaWxhYmxlQWdlbnRzKCkge1xuICAgIGNvbnN0IGZldGNoRm4gPSBjcmVhdGVGZXRjaEZuKCk7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LnF1ZXJ5KGdldEF2YWlsYWJsZUFnZW50c1F1ZXJ5LCB7fSwgeyBmZXRjaDogZmV0Y2hGbiB9KTtcbiAgfVxuICBsb2FkQWdlbnRTdGF0ZShkYXRhKSB7XG4gICAgY29uc3QgZmV0Y2hGbiA9IGNyZWF0ZUZldGNoRm4oKTtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLmNsaWVudC5xdWVyeShcbiAgICAgIGxvYWRBZ2VudFN0YXRlUXVlcnksXG4gICAgICB7IGRhdGEgfSxcbiAgICAgIHsgZmV0Y2g6IGZldGNoRm4gfVxuICAgICk7XG4gICAgcmVzdWx0LnRvUHJvbWlzZSgpLnRoZW4oKHsgZXJyb3IgfSkgPT4ge1xuICAgICAgaWYgKGVycm9yICYmIHRoaXMuaGFuZGxlR1FMRXJyb3JzKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlR1FMRXJyb3JzKGVycm9yKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBzdGF0aWMgcmVtb3ZlR3JhcGhRTFR5cGVuYW1lKGRhdGEpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiBDb3BpbG90UnVudGltZUNsaWVudC5yZW1vdmVHcmFwaFFMVHlwZW5hbWUoaXRlbSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgZGF0YSAhPT0gbnVsbCkge1xuICAgICAgZGVsZXRlIGRhdGEuX190eXBlbmFtZTtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGFba2V5XSA9PT0gXCJvYmplY3RcIiAmJiBkYXRhW2tleV0gIT09IG51bGwpIHtcbiAgICAgICAgICBDb3BpbG90UnVudGltZUNsaWVudC5yZW1vdmVHcmFwaFFMVHlwZW5hbWUoZGF0YVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XG59O1xuXG5leHBvcnQge1xuICBDb3BpbG90UnVudGltZUNsaWVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUZYWVY3SVVMLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-FXYV7IUL.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-HEODM5TW.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-HEODM5TW.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateCopilotResponseMutation: () => (/* binding */ generateCopilotResponseMutation)\n/* harmony export */ });\n/* harmony import */ var _chunk_4KTMZMM2_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-4KTMZMM2.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-4KTMZMM2.mjs\");\n\n\n// src/graphql/definitions/mutations.ts\nvar generateCopilotResponseMutation = (0,_chunk_4KTMZMM2_mjs__WEBPACK_IMPORTED_MODULE_0__.graphql)(\n  /** GraphQL **/\n  `\n  mutation generateCopilotResponse($data: GenerateCopilotResponseInput!, $properties: JSONObject) {\n    generateCopilotResponse(data: $data, properties: $properties) {\n      threadId\n      runId\n      extensions {\n        openaiAssistantAPI {\n          runId\n          threadId\n        }\n      }\n      ... on CopilotResponse @defer {\n        status {\n          ... on BaseResponseStatus {\n            code\n          }\n          ... on FailedResponseStatus {\n            reason\n            details\n          }\n        }\n      }\n      messages @stream {\n        __typename\n        ... on BaseMessageOutput {\n          id\n          createdAt\n        }\n        ... on BaseMessageOutput @defer {\n          status {\n            ... on SuccessMessageStatus {\n              code\n            }\n            ... on FailedMessageStatus {\n              code\n              reason\n            }\n            ... on PendingMessageStatus {\n              code\n            }\n          }\n        }\n        ... on TextMessageOutput {\n          content @stream\n          role\n          parentMessageId\n        }\n        ... on ImageMessageOutput {\n          format\n          bytes\n          role\n          parentMessageId\n        }\n        ... on ActionExecutionMessageOutput {\n          name\n          arguments @stream\n          parentMessageId\n        }\n        ... on ResultMessageOutput {\n          result\n          actionExecutionId\n          actionName\n        }\n        ... on AgentStateMessageOutput {\n          threadId\n          state\n          running\n          agentName\n          nodeName\n          runId\n          active\n          role\n        }\n      }\n      metaEvents @stream {\n        ... on LangGraphInterruptEvent {\n          type\n          name\n          value\n        }\n\n        ... on CopilotKitLangGraphInterruptEvent {\n          type\n          name\n          data {\n            messages {\n              __typename\n              ... on BaseMessageOutput {\n                id\n                createdAt\n              }\n              ... on BaseMessageOutput @defer {\n                status {\n                  ... on SuccessMessageStatus {\n                    code\n                  }\n                  ... on FailedMessageStatus {\n                    code\n                    reason\n                  }\n                  ... on PendingMessageStatus {\n                    code\n                  }\n                }\n              }\n              ... on TextMessageOutput {\n                content\n                role\n                parentMessageId\n              }\n              ... on ActionExecutionMessageOutput {\n                name\n                arguments\n                parentMessageId\n              }\n              ... on ResultMessageOutput {\n                result\n                actionExecutionId\n                actionName\n              }\n            }\n            value\n          }\n        }\n      }\n    }\n  }\n`\n);\n\n\n//# sourceMappingURL=chunk-HEODM5TW.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstSEVPRE01VFcubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBRThCOztBQUU5QjtBQUNBLHNDQUFzQyw0REFBTztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUlFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLUhFT0RNNVRXLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBncmFwaHFsXG59IGZyb20gXCIuL2NodW5rLTRLVE1aTU0yLm1qc1wiO1xuXG4vLyBzcmMvZ3JhcGhxbC9kZWZpbml0aW9ucy9tdXRhdGlvbnMudHNcbnZhciBnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZU11dGF0aW9uID0gZ3JhcGhxbChcbiAgLyoqIEdyYXBoUUwgKiovXG4gIGBcbiAgbXV0YXRpb24gZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2UoJGRhdGE6IEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXQhLCAkcHJvcGVydGllczogSlNPTk9iamVjdCkge1xuICAgIGdlbmVyYXRlQ29waWxvdFJlc3BvbnNlKGRhdGE6ICRkYXRhLCBwcm9wZXJ0aWVzOiAkcHJvcGVydGllcykge1xuICAgICAgdGhyZWFkSWRcbiAgICAgIHJ1bklkXG4gICAgICBleHRlbnNpb25zIHtcbiAgICAgICAgb3BlbmFpQXNzaXN0YW50QVBJIHtcbiAgICAgICAgICBydW5JZFxuICAgICAgICAgIHRocmVhZElkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC4uLiBvbiBDb3BpbG90UmVzcG9uc2UgQGRlZmVyIHtcbiAgICAgICAgc3RhdHVzIHtcbiAgICAgICAgICAuLi4gb24gQmFzZVJlc3BvbnNlU3RhdHVzIHtcbiAgICAgICAgICAgIGNvZGVcbiAgICAgICAgICB9XG4gICAgICAgICAgLi4uIG9uIEZhaWxlZFJlc3BvbnNlU3RhdHVzIHtcbiAgICAgICAgICAgIHJlYXNvblxuICAgICAgICAgICAgZGV0YWlsc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWVzc2FnZXMgQHN0cmVhbSB7XG4gICAgICAgIF9fdHlwZW5hbWVcbiAgICAgICAgLi4uIG9uIEJhc2VNZXNzYWdlT3V0cHV0IHtcbiAgICAgICAgICBpZFxuICAgICAgICAgIGNyZWF0ZWRBdFxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBCYXNlTWVzc2FnZU91dHB1dCBAZGVmZXIge1xuICAgICAgICAgIHN0YXR1cyB7XG4gICAgICAgICAgICAuLi4gb24gU3VjY2Vzc01lc3NhZ2VTdGF0dXMge1xuICAgICAgICAgICAgICBjb2RlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuLi4gb24gRmFpbGVkTWVzc2FnZVN0YXR1cyB7XG4gICAgICAgICAgICAgIGNvZGVcbiAgICAgICAgICAgICAgcmVhc29uXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuLi4gb24gUGVuZGluZ01lc3NhZ2VTdGF0dXMge1xuICAgICAgICAgICAgICBjb2RlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBUZXh0TWVzc2FnZU91dHB1dCB7XG4gICAgICAgICAgY29udGVudCBAc3RyZWFtXG4gICAgICAgICAgcm9sZVxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBJbWFnZU1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgIGZvcm1hdFxuICAgICAgICAgIGJ5dGVzXG4gICAgICAgICAgcm9sZVxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxuICAgICAgICB9XG4gICAgICAgIC4uLiBvbiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0IHtcbiAgICAgICAgICBuYW1lXG4gICAgICAgICAgYXJndW1lbnRzIEBzdHJlYW1cbiAgICAgICAgICBwYXJlbnRNZXNzYWdlSWRcbiAgICAgICAgfVxuICAgICAgICAuLi4gb24gUmVzdWx0TWVzc2FnZU91dHB1dCB7XG4gICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgYWN0aW9uRXhlY3V0aW9uSWRcbiAgICAgICAgICBhY3Rpb25OYW1lXG4gICAgICAgIH1cbiAgICAgICAgLi4uIG9uIEFnZW50U3RhdGVNZXNzYWdlT3V0cHV0IHtcbiAgICAgICAgICB0aHJlYWRJZFxuICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgcnVubmluZ1xuICAgICAgICAgIGFnZW50TmFtZVxuICAgICAgICAgIG5vZGVOYW1lXG4gICAgICAgICAgcnVuSWRcbiAgICAgICAgICBhY3RpdmVcbiAgICAgICAgICByb2xlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1ldGFFdmVudHMgQHN0cmVhbSB7XG4gICAgICAgIC4uLiBvbiBMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCB7XG4gICAgICAgICAgdHlwZVxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICB2YWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgLi4uIG9uIENvcGlsb3RLaXRMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudCB7XG4gICAgICAgICAgdHlwZVxuICAgICAgICAgIG5hbWVcbiAgICAgICAgICBkYXRhIHtcbiAgICAgICAgICAgIG1lc3NhZ2VzIHtcbiAgICAgICAgICAgICAgX190eXBlbmFtZVxuICAgICAgICAgICAgICAuLi4gb24gQmFzZU1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgICAgICAgIGlkXG4gICAgICAgICAgICAgICAgY3JlYXRlZEF0XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLi4uIG9uIEJhc2VNZXNzYWdlT3V0cHV0IEBkZWZlciB7XG4gICAgICAgICAgICAgICAgc3RhdHVzIHtcbiAgICAgICAgICAgICAgICAgIC4uLiBvbiBTdWNjZXNzTWVzc2FnZVN0YXR1cyB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC4uLiBvbiBGYWlsZWRNZXNzYWdlU3RhdHVzIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZVxuICAgICAgICAgICAgICAgICAgICByZWFzb25cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIC4uLiBvbiBQZW5kaW5nTWVzc2FnZVN0YXR1cyB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGVcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLi4uIG9uIFRleHRNZXNzYWdlT3V0cHV0IHtcbiAgICAgICAgICAgICAgICBjb250ZW50XG4gICAgICAgICAgICAgICAgcm9sZVxuICAgICAgICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC4uLiBvbiBBY3Rpb25FeGVjdXRpb25NZXNzYWdlT3V0cHV0IHtcbiAgICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAgICAgYXJndW1lbnRzXG4gICAgICAgICAgICAgICAgcGFyZW50TWVzc2FnZUlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLi4uIG9uIFJlc3VsdE1lc3NhZ2VPdXRwdXQge1xuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgIGFjdGlvbkV4ZWN1dGlvbklkXG4gICAgICAgICAgICAgICAgYWN0aW9uTmFtZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuYFxuKTtcblxuZXhwb3J0IHtcbiAgZ2VuZXJhdGVDb3BpbG90UmVzcG9uc2VNdXRhdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUhFT0RNNVRXLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-HEODM5TW.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertGqlOutputToMessages: () => (/* binding */ convertGqlOutputToMessages),\n/* harmony export */   convertMessagesToGqlInput: () => (/* binding */ convertMessagesToGqlInput),\n/* harmony export */   filterAdjacentAgentStateMessages: () => (/* binding */ filterAdjacentAgentStateMessages),\n/* harmony export */   filterAgentStateMessages: () => (/* binding */ filterAgentStateMessages),\n/* harmony export */   loadMessagesFromJsonRepresentation: () => (/* binding */ loadMessagesFromJsonRepresentation)\n/* harmony export */ });\n/* harmony import */ var _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ROUIRR4B.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n/* harmony import */ var untruncate_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! untruncate-json */ \"(ssr)/./node_modules/untruncate-json/dist/esm/index.js\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n\n\n// src/client/conversion.ts\n\n\nfunction filterAgentStateMessages(messages) {\n  return messages.filter((message) => !message.isAgentStateMessage());\n}\nfunction convertMessagesToGqlInput(messages) {\n  return messages.map((message) => {\n    if (message.isTextMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        textMessage: {\n          content: message.content,\n          role: message.role,\n          parentMessageId: message.parentMessageId\n        }\n      };\n    } else if (message.isActionExecutionMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        actionExecutionMessage: {\n          name: message.name,\n          arguments: JSON.stringify(message.arguments),\n          parentMessageId: message.parentMessageId\n        }\n      };\n    } else if (message.isResultMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        resultMessage: {\n          result: message.result,\n          actionExecutionId: message.actionExecutionId,\n          actionName: message.actionName\n        }\n      };\n    } else if (message.isAgentStateMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        agentStateMessage: {\n          threadId: message.threadId,\n          role: message.role,\n          agentName: message.agentName,\n          nodeName: message.nodeName,\n          runId: message.runId,\n          active: message.active,\n          running: message.running,\n          state: JSON.stringify(message.state)\n        }\n      };\n    } else if (message.isImageMessage()) {\n      return {\n        id: message.id,\n        createdAt: message.createdAt,\n        imageMessage: {\n          format: message.format,\n          bytes: message.bytes,\n          role: message.role,\n          parentMessageId: message.parentMessageId\n        }\n      };\n    } else {\n      throw new Error(\"Unknown message type\");\n    }\n  });\n}\nfunction filterAdjacentAgentStateMessages(messages) {\n  const filteredMessages = [];\n  messages.forEach((message, i) => {\n    if (message.__typename !== \"AgentStateMessageOutput\") {\n      filteredMessages.push(message);\n    } else {\n      const prevAgentStateMessageIndex = filteredMessages.findIndex(\n        // TODO: also check runId\n        (m) => m.__typename === \"AgentStateMessageOutput\" && m.agentName === message.agentName\n      );\n      if (prevAgentStateMessageIndex === -1) {\n        filteredMessages.push(message);\n      } else {\n        filteredMessages[prevAgentStateMessageIndex] = message;\n      }\n    }\n  });\n  return filteredMessages;\n}\nfunction convertGqlOutputToMessages(messages) {\n  return messages.map((message) => {\n    if (message.__typename === \"TextMessageOutput\") {\n      return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage({\n        id: message.id,\n        role: message.role,\n        content: message.content.join(\"\"),\n        parentMessageId: message.parentMessageId,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"ActionExecutionMessageOutput\") {\n      return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage({\n        id: message.id,\n        name: message.name,\n        arguments: getPartialArguments(message.arguments),\n        parentMessageId: message.parentMessageId,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"ResultMessageOutput\") {\n      return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage({\n        id: message.id,\n        result: message.result,\n        actionExecutionId: message.actionExecutionId,\n        actionName: message.actionName,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    } else if (message.__typename === \"AgentStateMessageOutput\") {\n      return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n        id: message.id,\n        threadId: message.threadId,\n        role: message.role,\n        agentName: message.agentName,\n        nodeName: message.nodeName,\n        runId: message.runId,\n        active: message.active,\n        running: message.running,\n        state: (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_1__.parseJson)(message.state, {}),\n        createdAt: /* @__PURE__ */ new Date()\n      });\n    } else if (message.__typename === \"ImageMessageOutput\") {\n      return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ImageMessage({\n        id: message.id,\n        format: message.format,\n        bytes: message.bytes,\n        role: message.role,\n        parentMessageId: message.parentMessageId,\n        createdAt: /* @__PURE__ */ new Date(),\n        status: message.status || { code: \"Pending\" /* Pending */ }\n      });\n    }\n    throw new Error(\"Unknown message type\");\n  });\n}\nfunction loadMessagesFromJsonRepresentation(json) {\n  const result = [];\n  for (const item of json) {\n    if (\"content\" in item) {\n      result.push(\n        new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage({\n          id: item.id,\n          role: item.role,\n          content: item.content,\n          parentMessageId: item.parentMessageId,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    } else if (\"arguments\" in item) {\n      result.push(\n        new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage({\n          id: item.id,\n          name: item.name,\n          arguments: item.arguments,\n          parentMessageId: item.parentMessageId,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    } else if (\"result\" in item) {\n      result.push(\n        new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage({\n          id: item.id,\n          result: item.result,\n          actionExecutionId: item.actionExecutionId,\n          actionName: item.actionName,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    } else if (\"state\" in item) {\n      result.push(\n        new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n          id: item.id,\n          threadId: item.threadId,\n          role: item.role,\n          agentName: item.agentName,\n          nodeName: item.nodeName,\n          runId: item.runId,\n          active: item.active,\n          running: item.running,\n          state: item.state,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date()\n        })\n      );\n    } else if (\"format\" in item && \"bytes\" in item) {\n      result.push(\n        new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ImageMessage({\n          id: item.id,\n          format: item.format,\n          bytes: item.bytes,\n          role: item.role,\n          parentMessageId: item.parentMessageId,\n          createdAt: item.createdAt || /* @__PURE__ */ new Date(),\n          status: item.status || { code: \"Success\" /* Success */ }\n        })\n      );\n    }\n  }\n  return result;\n}\nfunction getPartialArguments(args) {\n  try {\n    if (!args.length)\n      return {};\n    return JSON.parse((0,untruncate_json__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(args.join(\"\")));\n  } catch (e) {\n    return {};\n  }\n}\n\n\n//# sourceMappingURL=chunk-P2AUSQOK.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstUDJBVVNRT0subWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBTThCOztBQUU5QjtBQUM2QztBQUNFO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDREQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsT0FBTztBQUNQLE1BQU07QUFDTixpQkFBaUIsdUVBQXNCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsT0FBTztBQUNQLE1BQU07QUFDTixpQkFBaUIsOERBQWE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQyxPQUFPO0FBQ1AsTUFBTTtBQUNOLGlCQUFpQixrRUFBaUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQVMsa0JBQWtCO0FBQzFDO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTixpQkFBaUIsNkRBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQSxZQUFZLHVFQUFzQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBLFlBQVksOERBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQSxZQUFZLGtFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBLFlBQVksNkRBQVk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkRBQWM7QUFDcEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFRRTtBQUNGIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1QMkFVU1FPSy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSxcbiAgQWdlbnRTdGF0ZU1lc3NhZ2UsXG4gIEltYWdlTWVzc2FnZSxcbiAgUmVzdWx0TWVzc2FnZSxcbiAgVGV4dE1lc3NhZ2Vcbn0gZnJvbSBcIi4vY2h1bmstUk9VSVJSNEIubWpzXCI7XG5cbi8vIHNyYy9jbGllbnQvY29udmVyc2lvbi50c1xuaW1wb3J0IHVudHJ1bmNhdGVKc29uIGZyb20gXCJ1bnRydW5jYXRlLWpzb25cIjtcbmltcG9ydCB7IHBhcnNlSnNvbiB9IGZyb20gXCJAY29waWxvdGtpdC9zaGFyZWRcIjtcbmZ1bmN0aW9uIGZpbHRlckFnZW50U3RhdGVNZXNzYWdlcyhtZXNzYWdlcykge1xuICByZXR1cm4gbWVzc2FnZXMuZmlsdGVyKChtZXNzYWdlKSA9PiAhbWVzc2FnZS5pc0FnZW50U3RhdGVNZXNzYWdlKCkpO1xufVxuZnVuY3Rpb24gY29udmVydE1lc3NhZ2VzVG9HcWxJbnB1dChtZXNzYWdlcykge1xuICByZXR1cm4gbWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2UuaXNUZXh0TWVzc2FnZSgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgdGV4dE1lc3NhZ2U6IHtcbiAgICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQsXG4gICAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNBY3Rpb25FeGVjdXRpb25NZXNzYWdlKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25NZXNzYWdlOiB7XG4gICAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICAgIGFyZ3VtZW50czogSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5hcmd1bWVudHMpLFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNSZXN1bHRNZXNzYWdlKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICByZXN1bHRNZXNzYWdlOiB7XG4gICAgICAgICAgcmVzdWx0OiBtZXNzYWdlLnJlc3VsdCxcbiAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogbWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgICBhY3Rpb25OYW1lOiBtZXNzYWdlLmFjdGlvbk5hbWVcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNBZ2VudFN0YXRlTWVzc2FnZSgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgY3JlYXRlZEF0OiBtZXNzYWdlLmNyZWF0ZWRBdCxcbiAgICAgICAgYWdlbnRTdGF0ZU1lc3NhZ2U6IHtcbiAgICAgICAgICB0aHJlYWRJZDogbWVzc2FnZS50aHJlYWRJZCxcbiAgICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgICAgYWdlbnROYW1lOiBtZXNzYWdlLmFnZW50TmFtZSxcbiAgICAgICAgICBub2RlTmFtZTogbWVzc2FnZS5ub2RlTmFtZSxcbiAgICAgICAgICBydW5JZDogbWVzc2FnZS5ydW5JZCxcbiAgICAgICAgICBhY3RpdmU6IG1lc3NhZ2UuYWN0aXZlLFxuICAgICAgICAgIHJ1bm5pbmc6IG1lc3NhZ2UucnVubmluZyxcbiAgICAgICAgICBzdGF0ZTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZS5zdGF0ZSlcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNJbWFnZU1lc3NhZ2UoKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGNyZWF0ZWRBdDogbWVzc2FnZS5jcmVhdGVkQXQsXG4gICAgICAgIGltYWdlTWVzc2FnZToge1xuICAgICAgICAgIGZvcm1hdDogbWVzc2FnZS5mb3JtYXQsXG4gICAgICAgICAgYnl0ZXM6IG1lc3NhZ2UuYnl0ZXMsXG4gICAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBtZXNzYWdlIHR5cGVcIik7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGZpbHRlckFkamFjZW50QWdlbnRTdGF0ZU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gIGNvbnN0IGZpbHRlcmVkTWVzc2FnZXMgPSBbXTtcbiAgbWVzc2FnZXMuZm9yRWFjaCgobWVzc2FnZSwgaSkgPT4ge1xuICAgIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgIT09IFwiQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXRcIikge1xuICAgICAgZmlsdGVyZWRNZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmV2QWdlbnRTdGF0ZU1lc3NhZ2VJbmRleCA9IGZpbHRlcmVkTWVzc2FnZXMuZmluZEluZGV4KFxuICAgICAgICAvLyBUT0RPOiBhbHNvIGNoZWNrIHJ1bklkXG4gICAgICAgIChtKSA9PiBtLl9fdHlwZW5hbWUgPT09IFwiQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXRcIiAmJiBtLmFnZW50TmFtZSA9PT0gbWVzc2FnZS5hZ2VudE5hbWVcbiAgICAgICk7XG4gICAgICBpZiAocHJldkFnZW50U3RhdGVNZXNzYWdlSW5kZXggPT09IC0xKSB7XG4gICAgICAgIGZpbHRlcmVkTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpbHRlcmVkTWVzc2FnZXNbcHJldkFnZW50U3RhdGVNZXNzYWdlSW5kZXhdID0gbWVzc2FnZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZmlsdGVyZWRNZXNzYWdlcztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRHcWxPdXRwdXRUb01lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gIHJldHVybiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IHtcbiAgICBpZiAobWVzc2FnZS5fX3R5cGVuYW1lID09PSBcIlRleHRNZXNzYWdlT3V0cHV0XCIpIHtcbiAgICAgIHJldHVybiBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgcm9sZTogbWVzc2FnZS5yb2xlLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQuam9pbihcIlwiKSxcbiAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBtZXNzYWdlLnBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgc3RhdHVzOiBtZXNzYWdlLnN0YXR1cyB8fCB7IGNvZGU6IFwiUGVuZGluZ1wiIC8qIFBlbmRpbmcgKi8gfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgPT09IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dFwiKSB7XG4gICAgICByZXR1cm4gbmV3IEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2Uoe1xuICAgICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgICAgbmFtZTogbWVzc2FnZS5uYW1lLFxuICAgICAgICBhcmd1bWVudHM6IGdldFBhcnRpYWxBcmd1bWVudHMobWVzc2FnZS5hcmd1bWVudHMpLFxuICAgICAgICBwYXJlbnRNZXNzYWdlSWQ6IG1lc3NhZ2UucGFyZW50TWVzc2FnZUlkLFxuICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICBzdGF0dXM6IG1lc3NhZ2Uuc3RhdHVzIHx8IHsgY29kZTogXCJQZW5kaW5nXCIgLyogUGVuZGluZyAqLyB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuX190eXBlbmFtZSA9PT0gXCJSZXN1bHRNZXNzYWdlT3V0cHV0XCIpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzdWx0TWVzc2FnZSh7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICByZXN1bHQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogbWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgYWN0aW9uTmFtZTogbWVzc2FnZS5hY3Rpb25OYW1lLFxuICAgICAgICBjcmVhdGVkQXQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICBzdGF0dXM6IG1lc3NhZ2Uuc3RhdHVzIHx8IHsgY29kZTogXCJQZW5kaW5nXCIgLyogUGVuZGluZyAqLyB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuX190eXBlbmFtZSA9PT0gXCJBZ2VudFN0YXRlTWVzc2FnZU91dHB1dFwiKSB7XG4gICAgICByZXR1cm4gbmV3IEFnZW50U3RhdGVNZXNzYWdlKHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHRocmVhZElkOiBtZXNzYWdlLnRocmVhZElkLFxuICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgIGFnZW50TmFtZTogbWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICAgIG5vZGVOYW1lOiBtZXNzYWdlLm5vZGVOYW1lLFxuICAgICAgICBydW5JZDogbWVzc2FnZS5ydW5JZCxcbiAgICAgICAgYWN0aXZlOiBtZXNzYWdlLmFjdGl2ZSxcbiAgICAgICAgcnVubmluZzogbWVzc2FnZS5ydW5uaW5nLFxuICAgICAgICBzdGF0ZTogcGFyc2VKc29uKG1lc3NhZ2Uuc3RhdGUsIHt9KSxcbiAgICAgICAgY3JlYXRlZEF0OiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLl9fdHlwZW5hbWUgPT09IFwiSW1hZ2VNZXNzYWdlT3V0cHV0XCIpIHtcbiAgICAgIHJldHVybiBuZXcgSW1hZ2VNZXNzYWdlKHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIGZvcm1hdDogbWVzc2FnZS5mb3JtYXQsXG4gICAgICAgIGJ5dGVzOiBtZXNzYWdlLmJ5dGVzLFxuICAgICAgICByb2xlOiBtZXNzYWdlLnJvbGUsXG4gICAgICAgIHBhcmVudE1lc3NhZ2VJZDogbWVzc2FnZS5wYXJlbnRNZXNzYWdlSWQsXG4gICAgICAgIGNyZWF0ZWRBdDogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgIHN0YXR1czogbWVzc2FnZS5zdGF0dXMgfHwgeyBjb2RlOiBcIlBlbmRpbmdcIiAvKiBQZW5kaW5nICovIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1lc3NhZ2UgdHlwZVwiKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBsb2FkTWVzc2FnZXNGcm9tSnNvblJlcHJlc2VudGF0aW9uKGpzb24pIHtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAoY29uc3QgaXRlbSBvZiBqc29uKSB7XG4gICAgaWYgKFwiY29udGVudFwiIGluIGl0ZW0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICBuZXcgVGV4dE1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIHJvbGU6IGl0ZW0ucm9sZSxcbiAgICAgICAgICBjb250ZW50OiBpdGVtLmNvbnRlbnQsXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBpdGVtLnBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IGl0ZW0uY3JlYXRlZEF0IHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHN0YXR1czogaXRlbS5zdGF0dXMgfHwgeyBjb2RlOiBcIlN1Y2Nlc3NcIiAvKiBTdWNjZXNzICovIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChcImFyZ3VtZW50c1wiIGluIGl0ZW0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICBuZXcgQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSh7XG4gICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxuICAgICAgICAgIGFyZ3VtZW50czogaXRlbS5hcmd1bWVudHMsXG4gICAgICAgICAgcGFyZW50TWVzc2FnZUlkOiBpdGVtLnBhcmVudE1lc3NhZ2VJZCxcbiAgICAgICAgICBjcmVhdGVkQXQ6IGl0ZW0uY3JlYXRlZEF0IHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpLFxuICAgICAgICAgIHN0YXR1czogaXRlbS5zdGF0dXMgfHwgeyBjb2RlOiBcIlN1Y2Nlc3NcIiAvKiBTdWNjZXNzICovIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChcInJlc3VsdFwiIGluIGl0ZW0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICBuZXcgUmVzdWx0TWVzc2FnZSh7XG4gICAgICAgICAgaWQ6IGl0ZW0uaWQsXG4gICAgICAgICAgcmVzdWx0OiBpdGVtLnJlc3VsdCxcbiAgICAgICAgICBhY3Rpb25FeGVjdXRpb25JZDogaXRlbS5hY3Rpb25FeGVjdXRpb25JZCxcbiAgICAgICAgICBhY3Rpb25OYW1lOiBpdGVtLmFjdGlvbk5hbWUsXG4gICAgICAgICAgY3JlYXRlZEF0OiBpdGVtLmNyZWF0ZWRBdCB8fCAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICAgICAgICBzdGF0dXM6IGl0ZW0uc3RhdHVzIHx8IHsgY29kZTogXCJTdWNjZXNzXCIgLyogU3VjY2VzcyAqLyB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXCJzdGF0ZVwiIGluIGl0ZW0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICBuZXcgQWdlbnRTdGF0ZU1lc3NhZ2Uoe1xuICAgICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgICAgIHRocmVhZElkOiBpdGVtLnRocmVhZElkLFxuICAgICAgICAgIHJvbGU6IGl0ZW0ucm9sZSxcbiAgICAgICAgICBhZ2VudE5hbWU6IGl0ZW0uYWdlbnROYW1lLFxuICAgICAgICAgIG5vZGVOYW1lOiBpdGVtLm5vZGVOYW1lLFxuICAgICAgICAgIHJ1bklkOiBpdGVtLnJ1bklkLFxuICAgICAgICAgIGFjdGl2ZTogaXRlbS5hY3RpdmUsXG4gICAgICAgICAgcnVubmluZzogaXRlbS5ydW5uaW5nLFxuICAgICAgICAgIHN0YXRlOiBpdGVtLnN0YXRlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogaXRlbS5jcmVhdGVkQXQgfHwgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChcImZvcm1hdFwiIGluIGl0ZW0gJiYgXCJieXRlc1wiIGluIGl0ZW0pIHtcbiAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICBuZXcgSW1hZ2VNZXNzYWdlKHtcbiAgICAgICAgICBpZDogaXRlbS5pZCxcbiAgICAgICAgICBmb3JtYXQ6IGl0ZW0uZm9ybWF0LFxuICAgICAgICAgIGJ5dGVzOiBpdGVtLmJ5dGVzLFxuICAgICAgICAgIHJvbGU6IGl0ZW0ucm9sZSxcbiAgICAgICAgICBwYXJlbnRNZXNzYWdlSWQ6IGl0ZW0ucGFyZW50TWVzc2FnZUlkLFxuICAgICAgICAgIGNyZWF0ZWRBdDogaXRlbS5jcmVhdGVkQXQgfHwgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cyB8fCB7IGNvZGU6IFwiU3VjY2Vzc1wiIC8qIFN1Y2Nlc3MgKi8gfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldFBhcnRpYWxBcmd1bWVudHMoYXJncykge1xuICB0cnkge1xuICAgIGlmICghYXJncy5sZW5ndGgpXG4gICAgICByZXR1cm4ge307XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodW50cnVuY2F0ZUpzb24oYXJncy5qb2luKFwiXCIpKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cblxuZXhwb3J0IHtcbiAgZmlsdGVyQWdlbnRTdGF0ZU1lc3NhZ2VzLFxuICBjb252ZXJ0TWVzc2FnZXNUb0dxbElucHV0LFxuICBmaWx0ZXJBZGphY2VudEFnZW50U3RhdGVNZXNzYWdlcyxcbiAgY29udmVydEdxbE91dHB1dFRvTWVzc2FnZXMsXG4gIGxvYWRNZXNzYWdlc0Zyb21Kc29uUmVwcmVzZW50YXRpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1QMkFVU1FPSy5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-P2AUSQOK.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionExecutionMessage: () => (/* binding */ ActionExecutionMessage),\n/* harmony export */   AgentStateMessage: () => (/* binding */ AgentStateMessage),\n/* harmony export */   ImageMessage: () => (/* binding */ ImageMessage),\n/* harmony export */   Message: () => (/* binding */ Message),\n/* harmony export */   ResultMessage: () => (/* binding */ ResultMessage),\n/* harmony export */   Role: () => (/* binding */ Role),\n/* harmony export */   TextMessage: () => (/* binding */ TextMessage),\n/* harmony export */   langGraphInterruptEvent: () => (/* binding */ langGraphInterruptEvent)\n/* harmony export */ });\n/* harmony import */ var _chunk_WM3ARNBD_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-WM3ARNBD.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\");\n/* harmony import */ var _copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @copilotkit/shared */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\");\n\n\n// src/client/types.ts\n\n\nvar Message = class {\n  constructor(props) {\n    props.id ?? (props.id = (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_0__.randomId)());\n    props.status ?? (props.status = { code: \"Success\" /* Success */ });\n    props.createdAt ?? (props.createdAt = /* @__PURE__ */ new Date());\n    Object.assign(this, props);\n  }\n  isTextMessage() {\n    return this.type === \"TextMessage\";\n  }\n  isActionExecutionMessage() {\n    return this.type === \"ActionExecutionMessage\";\n  }\n  isResultMessage() {\n    return this.type === \"ResultMessage\";\n  }\n  isAgentStateMessage() {\n    return this.type === \"AgentStateMessage\";\n  }\n  isImageMessage() {\n    return this.type === \"ImageMessage\";\n  }\n};\nvar Role = _chunk_WM3ARNBD_mjs__WEBPACK_IMPORTED_MODULE_1__.MessageRole;\nvar TextMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"TextMessage\";\n  }\n};\nvar ActionExecutionMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"ActionExecutionMessage\";\n  }\n};\nvar ResultMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"ResultMessage\";\n  }\n  static decodeResult(result) {\n    return (0,_copilotkit_shared__WEBPACK_IMPORTED_MODULE_2__.parseJson)(result, result);\n  }\n  static encodeResult(result) {\n    if (result === void 0) {\n      return \"\";\n    } else if (typeof result === \"string\") {\n      return result;\n    } else {\n      return JSON.stringify(result);\n    }\n  }\n};\nvar AgentStateMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"AgentStateMessage\";\n  }\n};\nvar ImageMessage = class extends Message {\n  constructor(props) {\n    super(props);\n    this.type = \"ImageMessage\";\n  }\n};\nfunction langGraphInterruptEvent(eventProps) {\n  return { ...eventProps, name: \"LangGraphInterruptEvent\" /* LangGraphInterruptEvent */, type: \"MetaEvent\" };\n}\n\n\n//# sourceMappingURL=chunk-ROUIRR4B.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstUk9VSVJSNEIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBRThCOztBQUU5QjtBQUM4QztBQUNDO0FBQy9DO0FBQ0E7QUFDQSw0QkFBNEIsNERBQVE7QUFDcEMsc0NBQXNDLCtCQUErQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsNERBQVc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw2REFBUztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQVdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLVJPVUlSUjRCLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBNZXNzYWdlUm9sZVxufSBmcm9tIFwiLi9jaHVuay1XTTNBUk5CRC5tanNcIjtcblxuLy8gc3JjL2NsaWVudC90eXBlcy50c1xuaW1wb3J0IHsgcmFuZG9tSWQgfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG5pbXBvcnQgeyBwYXJzZUpzb24gfSBmcm9tIFwiQGNvcGlsb3RraXQvc2hhcmVkXCI7XG52YXIgTWVzc2FnZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBwcm9wcy5pZCA/PyAocHJvcHMuaWQgPSByYW5kb21JZCgpKTtcbiAgICBwcm9wcy5zdGF0dXMgPz8gKHByb3BzLnN0YXR1cyA9IHsgY29kZTogXCJTdWNjZXNzXCIgLyogU3VjY2VzcyAqLyB9KTtcbiAgICBwcm9wcy5jcmVhdGVkQXQgPz8gKHByb3BzLmNyZWF0ZWRBdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKTtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxuICBpc1RleHRNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiVGV4dE1lc3NhZ2VcIjtcbiAgfVxuICBpc0FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gXCJBY3Rpb25FeGVjdXRpb25NZXNzYWdlXCI7XG4gIH1cbiAgaXNSZXN1bHRNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiUmVzdWx0TWVzc2FnZVwiO1xuICB9XG4gIGlzQWdlbnRTdGF0ZU1lc3NhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gXCJBZ2VudFN0YXRlTWVzc2FnZVwiO1xuICB9XG4gIGlzSW1hZ2VNZXNzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT09IFwiSW1hZ2VNZXNzYWdlXCI7XG4gIH1cbn07XG52YXIgUm9sZSA9IE1lc3NhZ2VSb2xlO1xudmFyIFRleHRNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy50eXBlID0gXCJUZXh0TWVzc2FnZVwiO1xuICB9XG59O1xudmFyIEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIE1lc3NhZ2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnR5cGUgPSBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VcIjtcbiAgfVxufTtcbnZhciBSZXN1bHRNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy50eXBlID0gXCJSZXN1bHRNZXNzYWdlXCI7XG4gIH1cbiAgc3RhdGljIGRlY29kZVJlc3VsdChyZXN1bHQpIHtcbiAgICByZXR1cm4gcGFyc2VKc29uKHJlc3VsdCwgcmVzdWx0KTtcbiAgfVxuICBzdGF0aWMgZW5jb2RlUmVzdWx0KHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzdWx0KTtcbiAgICB9XG4gIH1cbn07XG52YXIgQWdlbnRTdGF0ZU1lc3NhZ2UgPSBjbGFzcyBleHRlbmRzIE1lc3NhZ2Uge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnR5cGUgPSBcIkFnZW50U3RhdGVNZXNzYWdlXCI7XG4gIH1cbn07XG52YXIgSW1hZ2VNZXNzYWdlID0gY2xhc3MgZXh0ZW5kcyBNZXNzYWdlIHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy50eXBlID0gXCJJbWFnZU1lc3NhZ2VcIjtcbiAgfVxufTtcbmZ1bmN0aW9uIGxhbmdHcmFwaEludGVycnVwdEV2ZW50KGV2ZW50UHJvcHMpIHtcbiAgcmV0dXJuIHsgLi4uZXZlbnRQcm9wcywgbmFtZTogXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiIC8qIExhbmdHcmFwaEludGVycnVwdEV2ZW50ICovLCB0eXBlOiBcIk1ldGFFdmVudFwiIH07XG59XG5cbmV4cG9ydCB7XG4gIE1lc3NhZ2UsXG4gIFJvbGUsXG4gIFRleHRNZXNzYWdlLFxuICBBY3Rpb25FeGVjdXRpb25NZXNzYWdlLFxuICBSZXN1bHRNZXNzYWdlLFxuICBBZ2VudFN0YXRlTWVzc2FnZSxcbiAgSW1hZ2VNZXNzYWdlLFxuICBsYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVJPVUlSUjRCLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-SCACOKQX.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-SCACOKQX.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   aguiMessageWithImageToGQLMessage: () => (/* binding */ aguiMessageWithImageToGQLMessage),\n/* harmony export */   aguiMessageWithRenderToGQL: () => (/* binding */ aguiMessageWithRenderToGQL),\n/* harmony export */   aguiTextMessageToGQLMessage: () => (/* binding */ aguiTextMessageToGQLMessage),\n/* harmony export */   aguiToGQL: () => (/* binding */ aguiToGQL),\n/* harmony export */   aguiToolCallToGQLActionExecution: () => (/* binding */ aguiToolCallToGQLActionExecution),\n/* harmony export */   aguiToolMessageToGQLResultMessage: () => (/* binding */ aguiToolMessageToGQLResultMessage)\n/* harmony export */ });\n/* harmony import */ var _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ROUIRR4B.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n\n\n// src/message-conversion/agui-to-gql.ts\nfunction extractAgentName(message) {\n  if (message.role !== \"assistant\") {\n    throw new Error(`Cannot extract agent name from message with role ${message.role}`);\n  }\n  return message.agentName || \"unknown\";\n}\nfunction isAgentStateMessage(message) {\n  return message.role === \"assistant\" && \"agentName\" in message && \"state\" in message;\n}\nfunction hasImageProperty(message) {\n  const canContainImage = message.role === \"assistant\" || message.role === \"user\";\n  if (!canContainImage || message.image === void 0) {\n    return false;\n  }\n  const isMalformed = message.image.format === void 0 || message.image.bytes === void 0;\n  if (isMalformed) {\n    return false;\n  }\n  return true;\n}\nfunction aguiToGQL(messages, actions, coAgentStateRenders) {\n  const gqlMessages = [];\n  messages = Array.isArray(messages) ? messages : [messages];\n  const toolCallNames = {};\n  for (const message of messages) {\n    if (isAgentStateMessage(message)) {\n      const agentName = extractAgentName(message);\n      const state = \"state\" in message && message.state ? message.state : {};\n      gqlMessages.push(\n        new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n          id: message.id,\n          agentName,\n          state,\n          role: _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Assistant\n        })\n      );\n      if (\"generativeUI\" in message && message.generativeUI && coAgentStateRenders) {\n        coAgentStateRenders[agentName] = {\n          name: agentName,\n          render: message.generativeUI\n        };\n      }\n      continue;\n    }\n    if (hasImageProperty(message)) {\n      gqlMessages.push(aguiMessageWithImageToGQLMessage(message));\n      continue;\n    }\n    if (message.role === \"assistant\" && message.toolCalls) {\n      gqlMessages.push(aguiTextMessageToGQLMessage(message));\n      for (const toolCall of message.toolCalls) {\n        toolCallNames[toolCall.id] = toolCall.function.name;\n        const actionExecMsg = aguiToolCallToGQLActionExecution(toolCall, message.id);\n        if (\"generativeUI\" in message && message.generativeUI && actions) {\n          const actionName = toolCall.function.name;\n          const specificAction = Object.values(actions).find(\n            (action) => action.name === actionName\n          );\n          const wildcardAction = Object.values(actions).find((action) => action.name === \"*\");\n          if (specificAction) {\n            specificAction.render = message.generativeUI;\n          } else if (wildcardAction) {\n            wildcardAction.render = message.generativeUI;\n          }\n        }\n        gqlMessages.push(actionExecMsg);\n      }\n      continue;\n    }\n    if (message.role === \"developer\" || message.role === \"system\" || message.role === \"assistant\" || message.role === \"user\") {\n      gqlMessages.push(aguiTextMessageToGQLMessage(message));\n      continue;\n    }\n    if (message.role === \"tool\") {\n      gqlMessages.push(aguiToolMessageToGQLResultMessage(message, toolCallNames));\n      continue;\n    }\n    throw new Error(\n      `Unknown message role: \"${message.role}\" in message with id: ${message.id}`\n    );\n  }\n  return gqlMessages;\n}\nfunction aguiTextMessageToGQLMessage(message) {\n  if (message.role !== \"developer\" && message.role !== \"system\" && message.role !== \"assistant\" && message.role !== \"user\") {\n    throw new Error(`Cannot convert message with role ${message.role} to TextMessage`);\n  }\n  let roleValue;\n  if (message.role === \"developer\") {\n    roleValue = _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Developer;\n  } else if (message.role === \"system\") {\n    roleValue = _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.System;\n  } else if (message.role === \"assistant\") {\n    roleValue = _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Assistant;\n  } else {\n    roleValue = _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.User;\n  }\n  return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.TextMessage({\n    id: message.id,\n    content: message.content || \"\",\n    role: roleValue\n  });\n}\nfunction aguiToolCallToGQLActionExecution(toolCall, parentMessageId) {\n  if (toolCall.type !== \"function\") {\n    throw new Error(`Unsupported tool call type: ${toolCall.type}`);\n  }\n  let argumentsObj;\n  if (typeof toolCall.function.arguments === \"string\") {\n    try {\n      argumentsObj = JSON.parse(toolCall.function.arguments);\n    } catch (error) {\n      console.warn(`Failed to parse tool call arguments for ${toolCall.function.name}:`, error);\n      argumentsObj = {};\n    }\n  } else if (typeof toolCall.function.arguments === \"object\" && toolCall.function.arguments !== null) {\n    argumentsObj = toolCall.function.arguments;\n  } else {\n    console.warn(\n      `Invalid tool call arguments type for ${toolCall.function.name}:`,\n      typeof toolCall.function.arguments\n    );\n    argumentsObj = {};\n  }\n  return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionExecutionMessage({\n    id: toolCall.id,\n    name: toolCall.function.name,\n    arguments: argumentsObj,\n    parentMessageId\n  });\n}\nfunction aguiToolMessageToGQLResultMessage(message, toolCallNames) {\n  if (message.role !== \"tool\") {\n    throw new Error(`Cannot convert message with role ${message.role} to ResultMessage`);\n  }\n  if (!message.toolCallId) {\n    throw new Error(\"Tool message must have a toolCallId\");\n  }\n  const actionName = toolCallNames[message.toolCallId] || \"unknown\";\n  let resultContent;\n  const messageContent = message.content || \"\";\n  if (typeof messageContent === \"string\") {\n    resultContent = messageContent;\n  } else if (typeof messageContent === \"object\" && messageContent !== null) {\n    try {\n      resultContent = JSON.stringify(messageContent);\n    } catch (error) {\n      console.warn(`Failed to stringify tool result for ${actionName}:`, error);\n      resultContent = String(messageContent);\n    }\n  } else {\n    resultContent = String(messageContent);\n  }\n  return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ResultMessage({\n    id: message.id,\n    result: resultContent,\n    actionExecutionId: message.toolCallId,\n    actionName: message.toolName || actionName\n  });\n}\nfunction aguiMessageWithRenderToGQL(message, actions, coAgentStateRenders) {\n  if (message.role === \"assistant\" && \"generativeUI\" in message && message.generativeUI && !message.toolCalls) {\n    const gqlMessages = [];\n    gqlMessages.push(\n      new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.AgentStateMessage({\n        id: message.id,\n        agentName: \"unknown\",\n        state: {},\n        role: _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Assistant\n      })\n    );\n    if (coAgentStateRenders) {\n      coAgentStateRenders.unknown = {\n        name: \"unknown\",\n        render: message.generativeUI\n      };\n    }\n    return gqlMessages;\n  }\n  return aguiToGQL([message], actions, coAgentStateRenders);\n}\nfunction aguiMessageWithImageToGQLMessage(message) {\n  if (!hasImageProperty(message)) {\n    throw new Error(`Cannot convert message to ImageMessage: missing format or bytes`);\n  }\n  let roleValue;\n  if (message.role === \"assistant\") {\n    roleValue = _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Assistant;\n  } else {\n    roleValue = _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.User;\n  }\n  if (message.role !== \"assistant\" && message.role !== \"user\") {\n    throw new Error(`Cannot convert message with role ${message.role} to ImageMessage`);\n  }\n  return new _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.ImageMessage({\n    id: message.id,\n    format: message.image.format,\n    bytes: message.image.bytes,\n    role: roleValue\n  });\n}\n\n\n//# sourceMappingURL=chunk-SCACOKQX.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstU0NBQ09LUVgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFPOEI7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxhQUFhO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFpQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEIsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYSx3QkFBd0IsV0FBVztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEIsSUFBSTtBQUNKLGdCQUFnQixxREFBSTtBQUNwQixJQUFJO0FBQ0osZ0JBQWdCLHFEQUFJO0FBQ3BCLElBQUk7QUFDSixnQkFBZ0IscURBQUk7QUFDcEI7QUFDQSxhQUFhLDREQUFXO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsY0FBYztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDhEQUE4RCx1QkFBdUI7QUFDckY7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBLDhDQUE4Qyx1QkFBdUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVFQUFzQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTiwwREFBMEQsV0FBVztBQUNyRTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxhQUFhLDhEQUFhO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtFQUFpQjtBQUMzQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWMscURBQUk7QUFDbEIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IscURBQUk7QUFDcEIsSUFBSTtBQUNKLGdCQUFnQixxREFBSTtBQUNwQjtBQUNBO0FBQ0Esd0RBQXdELGNBQWM7QUFDdEU7QUFDQSxhQUFhLDZEQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQVNFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLVNDQUNPS1FYLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBY3Rpb25FeGVjdXRpb25NZXNzYWdlLFxuICBBZ2VudFN0YXRlTWVzc2FnZSxcbiAgSW1hZ2VNZXNzYWdlLFxuICBSZXN1bHRNZXNzYWdlLFxuICBSb2xlLFxuICBUZXh0TWVzc2FnZVxufSBmcm9tIFwiLi9jaHVuay1ST1VJUlI0Qi5tanNcIjtcblxuLy8gc3JjL21lc3NhZ2UtY29udmVyc2lvbi9hZ3VpLXRvLWdxbC50c1xuZnVuY3Rpb24gZXh0cmFjdEFnZW50TmFtZShtZXNzYWdlKSB7XG4gIGlmIChtZXNzYWdlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBleHRyYWN0IGFnZW50IG5hbWUgZnJvbSBtZXNzYWdlIHdpdGggcm9sZSAke21lc3NhZ2Uucm9sZX1gKTtcbiAgfVxuICByZXR1cm4gbWVzc2FnZS5hZ2VudE5hbWUgfHwgXCJ1bmtub3duXCI7XG59XG5mdW5jdGlvbiBpc0FnZW50U3RhdGVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgcmV0dXJuIG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiAmJiBcImFnZW50TmFtZVwiIGluIG1lc3NhZ2UgJiYgXCJzdGF0ZVwiIGluIG1lc3NhZ2U7XG59XG5mdW5jdGlvbiBoYXNJbWFnZVByb3BlcnR5KG1lc3NhZ2UpIHtcbiAgY29uc3QgY2FuQ29udGFpbkltYWdlID0gbWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiIHx8IG1lc3NhZ2Uucm9sZSA9PT0gXCJ1c2VyXCI7XG4gIGlmICghY2FuQ29udGFpbkltYWdlIHx8IG1lc3NhZ2UuaW1hZ2UgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBpc01hbGZvcm1lZCA9IG1lc3NhZ2UuaW1hZ2UuZm9ybWF0ID09PSB2b2lkIDAgfHwgbWVzc2FnZS5pbWFnZS5ieXRlcyA9PT0gdm9pZCAwO1xuICBpZiAoaXNNYWxmb3JtZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBhZ3VpVG9HUUwobWVzc2FnZXMsIGFjdGlvbnMsIGNvQWdlbnRTdGF0ZVJlbmRlcnMpIHtcbiAgY29uc3QgZ3FsTWVzc2FnZXMgPSBbXTtcbiAgbWVzc2FnZXMgPSBBcnJheS5pc0FycmF5KG1lc3NhZ2VzKSA/IG1lc3NhZ2VzIDogW21lc3NhZ2VzXTtcbiAgY29uc3QgdG9vbENhbGxOYW1lcyA9IHt9O1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAoaXNBZ2VudFN0YXRlTWVzc2FnZShtZXNzYWdlKSkge1xuICAgICAgY29uc3QgYWdlbnROYW1lID0gZXh0cmFjdEFnZW50TmFtZShtZXNzYWdlKTtcbiAgICAgIGNvbnN0IHN0YXRlID0gXCJzdGF0ZVwiIGluIG1lc3NhZ2UgJiYgbWVzc2FnZS5zdGF0ZSA/IG1lc3NhZ2Uuc3RhdGUgOiB7fTtcbiAgICAgIGdxbE1lc3NhZ2VzLnB1c2goXG4gICAgICAgIG5ldyBBZ2VudFN0YXRlTWVzc2FnZSh7XG4gICAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgICAgYWdlbnROYW1lLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHJvbGU6IFJvbGUuQXNzaXN0YW50XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgaWYgKFwiZ2VuZXJhdGl2ZVVJXCIgaW4gbWVzc2FnZSAmJiBtZXNzYWdlLmdlbmVyYXRpdmVVSSAmJiBjb0FnZW50U3RhdGVSZW5kZXJzKSB7XG4gICAgICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnNbYWdlbnROYW1lXSA9IHtcbiAgICAgICAgICBuYW1lOiBhZ2VudE5hbWUsXG4gICAgICAgICAgcmVuZGVyOiBtZXNzYWdlLmdlbmVyYXRpdmVVSVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChoYXNJbWFnZVByb3BlcnR5KG1lc3NhZ2UpKSB7XG4gICAgICBncWxNZXNzYWdlcy5wdXNoKGFndWlNZXNzYWdlV2l0aEltYWdlVG9HUUxNZXNzYWdlKG1lc3NhZ2UpKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiICYmIG1lc3NhZ2UudG9vbENhbGxzKSB7XG4gICAgICBncWxNZXNzYWdlcy5wdXNoKGFndWlUZXh0TWVzc2FnZVRvR1FMTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgICBmb3IgKGNvbnN0IHRvb2xDYWxsIG9mIG1lc3NhZ2UudG9vbENhbGxzKSB7XG4gICAgICAgIHRvb2xDYWxsTmFtZXNbdG9vbENhbGwuaWRdID0gdG9vbENhbGwuZnVuY3Rpb24ubmFtZTtcbiAgICAgICAgY29uc3QgYWN0aW9uRXhlY01zZyA9IGFndWlUb29sQ2FsbFRvR1FMQWN0aW9uRXhlY3V0aW9uKHRvb2xDYWxsLCBtZXNzYWdlLmlkKTtcbiAgICAgICAgaWYgKFwiZ2VuZXJhdGl2ZVVJXCIgaW4gbWVzc2FnZSAmJiBtZXNzYWdlLmdlbmVyYXRpdmVVSSAmJiBhY3Rpb25zKSB7XG4gICAgICAgICAgY29uc3QgYWN0aW9uTmFtZSA9IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWU7XG4gICAgICAgICAgY29uc3Qgc3BlY2lmaWNBY3Rpb24gPSBPYmplY3QudmFsdWVzKGFjdGlvbnMpLmZpbmQoXG4gICAgICAgICAgICAoYWN0aW9uKSA9PiBhY3Rpb24ubmFtZSA9PT0gYWN0aW9uTmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgd2lsZGNhcmRBY3Rpb24gPSBPYmplY3QudmFsdWVzKGFjdGlvbnMpLmZpbmQoKGFjdGlvbikgPT4gYWN0aW9uLm5hbWUgPT09IFwiKlwiKTtcbiAgICAgICAgICBpZiAoc3BlY2lmaWNBY3Rpb24pIHtcbiAgICAgICAgICAgIHNwZWNpZmljQWN0aW9uLnJlbmRlciA9IG1lc3NhZ2UuZ2VuZXJhdGl2ZVVJO1xuICAgICAgICAgIH0gZWxzZSBpZiAod2lsZGNhcmRBY3Rpb24pIHtcbiAgICAgICAgICAgIHdpbGRjYXJkQWN0aW9uLnJlbmRlciA9IG1lc3NhZ2UuZ2VuZXJhdGl2ZVVJO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBncWxNZXNzYWdlcy5wdXNoKGFjdGlvbkV4ZWNNc2cpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiZGV2ZWxvcGVyXCIgfHwgbWVzc2FnZS5yb2xlID09PSBcInN5c3RlbVwiIHx8IG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIiB8fCBtZXNzYWdlLnJvbGUgPT09IFwidXNlclwiKSB7XG4gICAgICBncWxNZXNzYWdlcy5wdXNoKGFndWlUZXh0TWVzc2FnZVRvR1FMTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJ0b29sXCIpIHtcbiAgICAgIGdxbE1lc3NhZ2VzLnB1c2goYWd1aVRvb2xNZXNzYWdlVG9HUUxSZXN1bHRNZXNzYWdlKG1lc3NhZ2UsIHRvb2xDYWxsTmFtZXMpKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgVW5rbm93biBtZXNzYWdlIHJvbGU6IFwiJHttZXNzYWdlLnJvbGV9XCIgaW4gbWVzc2FnZSB3aXRoIGlkOiAke21lc3NhZ2UuaWR9YFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGdxbE1lc3NhZ2VzO1xufVxuZnVuY3Rpb24gYWd1aVRleHRNZXNzYWdlVG9HUUxNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJkZXZlbG9wZXJcIiAmJiBtZXNzYWdlLnJvbGUgIT09IFwic3lzdGVtXCIgJiYgbWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IG1lc3NhZ2Ugd2l0aCByb2xlICR7bWVzc2FnZS5yb2xlfSB0byBUZXh0TWVzc2FnZWApO1xuICB9XG4gIGxldCByb2xlVmFsdWU7XG4gIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiZGV2ZWxvcGVyXCIpIHtcbiAgICByb2xlVmFsdWUgPSBSb2xlLkRldmVsb3BlcjtcbiAgfSBlbHNlIGlmIChtZXNzYWdlLnJvbGUgPT09IFwic3lzdGVtXCIpIHtcbiAgICByb2xlVmFsdWUgPSBSb2xlLlN5c3RlbTtcbiAgfSBlbHNlIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICByb2xlVmFsdWUgPSBSb2xlLkFzc2lzdGFudDtcbiAgfSBlbHNlIHtcbiAgICByb2xlVmFsdWUgPSBSb2xlLlVzZXI7XG4gIH1cbiAgcmV0dXJuIG5ldyBUZXh0TWVzc2FnZSh7XG4gICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgY29udGVudDogbWVzc2FnZS5jb250ZW50IHx8IFwiXCIsXG4gICAgcm9sZTogcm9sZVZhbHVlXG4gIH0pO1xufVxuZnVuY3Rpb24gYWd1aVRvb2xDYWxsVG9HUUxBY3Rpb25FeGVjdXRpb24odG9vbENhbGwsIHBhcmVudE1lc3NhZ2VJZCkge1xuICBpZiAodG9vbENhbGwudHlwZSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0b29sIGNhbGwgdHlwZTogJHt0b29sQ2FsbC50eXBlfWApO1xuICB9XG4gIGxldCBhcmd1bWVudHNPYmo7XG4gIGlmICh0eXBlb2YgdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzID09PSBcInN0cmluZ1wiKSB7XG4gICAgdHJ5IHtcbiAgICAgIGFyZ3VtZW50c09iaiA9IEpTT04ucGFyc2UodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gcGFyc2UgdG9vbCBjYWxsIGFyZ3VtZW50cyBmb3IgJHt0b29sQ2FsbC5mdW5jdGlvbi5uYW1lfTpgLCBlcnJvcik7XG4gICAgICBhcmd1bWVudHNPYmogPSB7fTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyA9PT0gXCJvYmplY3RcIiAmJiB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHMgIT09IG51bGwpIHtcbiAgICBhcmd1bWVudHNPYmogPSB0b29sQ2FsbC5mdW5jdGlvbi5hcmd1bWVudHM7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYEludmFsaWQgdG9vbCBjYWxsIGFyZ3VtZW50cyB0eXBlIGZvciAke3Rvb2xDYWxsLmZ1bmN0aW9uLm5hbWV9OmAsXG4gICAgICB0eXBlb2YgdG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzXG4gICAgKTtcbiAgICBhcmd1bWVudHNPYmogPSB7fTtcbiAgfVxuICByZXR1cm4gbmV3IEFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2Uoe1xuICAgIGlkOiB0b29sQ2FsbC5pZCxcbiAgICBuYW1lOiB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lLFxuICAgIGFyZ3VtZW50czogYXJndW1lbnRzT2JqLFxuICAgIHBhcmVudE1lc3NhZ2VJZFxuICB9KTtcbn1cbmZ1bmN0aW9uIGFndWlUb29sTWVzc2FnZVRvR1FMUmVzdWx0TWVzc2FnZShtZXNzYWdlLCB0b29sQ2FsbE5hbWVzKSB7XG4gIGlmIChtZXNzYWdlLnJvbGUgIT09IFwidG9vbFwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgY29udmVydCBtZXNzYWdlIHdpdGggcm9sZSAke21lc3NhZ2Uucm9sZX0gdG8gUmVzdWx0TWVzc2FnZWApO1xuICB9XG4gIGlmICghbWVzc2FnZS50b29sQ2FsbElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVG9vbCBtZXNzYWdlIG11c3QgaGF2ZSBhIHRvb2xDYWxsSWRcIik7XG4gIH1cbiAgY29uc3QgYWN0aW9uTmFtZSA9IHRvb2xDYWxsTmFtZXNbbWVzc2FnZS50b29sQ2FsbElkXSB8fCBcInVua25vd25cIjtcbiAgbGV0IHJlc3VsdENvbnRlbnQ7XG4gIGNvbnN0IG1lc3NhZ2VDb250ZW50ID0gbWVzc2FnZS5jb250ZW50IHx8IFwiXCI7XG4gIGlmICh0eXBlb2YgbWVzc2FnZUNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXN1bHRDb250ZW50ID0gbWVzc2FnZUNvbnRlbnQ7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2VDb250ZW50ID09PSBcIm9iamVjdFwiICYmIG1lc3NhZ2VDb250ZW50ICE9PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdENvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShtZXNzYWdlQ29udGVudCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihgRmFpbGVkIHRvIHN0cmluZ2lmeSB0b29sIHJlc3VsdCBmb3IgJHthY3Rpb25OYW1lfTpgLCBlcnJvcik7XG4gICAgICByZXN1bHRDb250ZW50ID0gU3RyaW5nKG1lc3NhZ2VDb250ZW50KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0Q29udGVudCA9IFN0cmluZyhtZXNzYWdlQ29udGVudCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXN1bHRNZXNzYWdlKHtcbiAgICBpZDogbWVzc2FnZS5pZCxcbiAgICByZXN1bHQ6IHJlc3VsdENvbnRlbnQsXG4gICAgYWN0aW9uRXhlY3V0aW9uSWQ6IG1lc3NhZ2UudG9vbENhbGxJZCxcbiAgICBhY3Rpb25OYW1lOiBtZXNzYWdlLnRvb2xOYW1lIHx8IGFjdGlvbk5hbWVcbiAgfSk7XG59XG5mdW5jdGlvbiBhZ3VpTWVzc2FnZVdpdGhSZW5kZXJUb0dRTChtZXNzYWdlLCBhY3Rpb25zLCBjb0FnZW50U3RhdGVSZW5kZXJzKSB7XG4gIGlmIChtZXNzYWdlLnJvbGUgPT09IFwiYXNzaXN0YW50XCIgJiYgXCJnZW5lcmF0aXZlVUlcIiBpbiBtZXNzYWdlICYmIG1lc3NhZ2UuZ2VuZXJhdGl2ZVVJICYmICFtZXNzYWdlLnRvb2xDYWxscykge1xuICAgIGNvbnN0IGdxbE1lc3NhZ2VzID0gW107XG4gICAgZ3FsTWVzc2FnZXMucHVzaChcbiAgICAgIG5ldyBBZ2VudFN0YXRlTWVzc2FnZSh7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICBhZ2VudE5hbWU6IFwidW5rbm93blwiLFxuICAgICAgICBzdGF0ZToge30sXG4gICAgICAgIHJvbGU6IFJvbGUuQXNzaXN0YW50XG4gICAgICB9KVxuICAgICk7XG4gICAgaWYgKGNvQWdlbnRTdGF0ZVJlbmRlcnMpIHtcbiAgICAgIGNvQWdlbnRTdGF0ZVJlbmRlcnMudW5rbm93biA9IHtcbiAgICAgICAgbmFtZTogXCJ1bmtub3duXCIsXG4gICAgICAgIHJlbmRlcjogbWVzc2FnZS5nZW5lcmF0aXZlVUlcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBncWxNZXNzYWdlcztcbiAgfVxuICByZXR1cm4gYWd1aVRvR1FMKFttZXNzYWdlXSwgYWN0aW9ucywgY29BZ2VudFN0YXRlUmVuZGVycyk7XG59XG5mdW5jdGlvbiBhZ3VpTWVzc2FnZVdpdGhJbWFnZVRvR1FMTWVzc2FnZShtZXNzYWdlKSB7XG4gIGlmICghaGFzSW1hZ2VQcm9wZXJ0eShtZXNzYWdlKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IGNvbnZlcnQgbWVzc2FnZSB0byBJbWFnZU1lc3NhZ2U6IG1pc3NpbmcgZm9ybWF0IG9yIGJ5dGVzYCk7XG4gIH1cbiAgbGV0IHJvbGVWYWx1ZTtcbiAgaWYgKG1lc3NhZ2Uucm9sZSA9PT0gXCJhc3Npc3RhbnRcIikge1xuICAgIHJvbGVWYWx1ZSA9IFJvbGUuQXNzaXN0YW50O1xuICB9IGVsc2Uge1xuICAgIHJvbGVWYWx1ZSA9IFJvbGUuVXNlcjtcbiAgfVxuICBpZiAobWVzc2FnZS5yb2xlICE9PSBcImFzc2lzdGFudFwiICYmIG1lc3NhZ2Uucm9sZSAhPT0gXCJ1c2VyXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBjb252ZXJ0IG1lc3NhZ2Ugd2l0aCByb2xlICR7bWVzc2FnZS5yb2xlfSB0byBJbWFnZU1lc3NhZ2VgKTtcbiAgfVxuICByZXR1cm4gbmV3IEltYWdlTWVzc2FnZSh7XG4gICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgZm9ybWF0OiBtZXNzYWdlLmltYWdlLmZvcm1hdCxcbiAgICBieXRlczogbWVzc2FnZS5pbWFnZS5ieXRlcyxcbiAgICByb2xlOiByb2xlVmFsdWVcbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIGFndWlUb0dRTCxcbiAgYWd1aVRleHRNZXNzYWdlVG9HUUxNZXNzYWdlLFxuICBhZ3VpVG9vbENhbGxUb0dRTEFjdGlvbkV4ZWN1dGlvbixcbiAgYWd1aVRvb2xNZXNzYWdlVG9HUUxSZXN1bHRNZXNzYWdlLFxuICBhZ3VpTWVzc2FnZVdpdGhSZW5kZXJUb0dRTCxcbiAgYWd1aU1lc3NhZ2VXaXRoSW1hZ2VUb0dRTE1lc3NhZ2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1TQ0FDT0tRWC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-SCACOKQX.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionInputAvailability: () => (/* binding */ ActionInputAvailability),\n/* harmony export */   AvailableAgentsDocument: () => (/* binding */ AvailableAgentsDocument),\n/* harmony export */   CopilotRequestType: () => (/* binding */ CopilotRequestType),\n/* harmony export */   FailedResponseStatusReason: () => (/* binding */ FailedResponseStatusReason),\n/* harmony export */   GenerateCopilotResponseDocument: () => (/* binding */ GenerateCopilotResponseDocument),\n/* harmony export */   LoadAgentStateDocument: () => (/* binding */ LoadAgentStateDocument),\n/* harmony export */   MessageRole: () => (/* binding */ MessageRole),\n/* harmony export */   MessageStatusCode: () => (/* binding */ MessageStatusCode),\n/* harmony export */   MetaEventName: () => (/* binding */ MetaEventName),\n/* harmony export */   ResponseStatusCode: () => (/* binding */ ResponseStatusCode)\n/* harmony export */ });\n// src/graphql/@generated/graphql.ts\nvar ActionInputAvailability = /* @__PURE__ */ ((ActionInputAvailability2) => {\n  ActionInputAvailability2[\"Disabled\"] = \"disabled\";\n  ActionInputAvailability2[\"Enabled\"] = \"enabled\";\n  ActionInputAvailability2[\"Remote\"] = \"remote\";\n  return ActionInputAvailability2;\n})(ActionInputAvailability || {});\nvar CopilotRequestType = /* @__PURE__ */ ((CopilotRequestType2) => {\n  CopilotRequestType2[\"Chat\"] = \"Chat\";\n  CopilotRequestType2[\"Suggestion\"] = \"Suggestion\";\n  CopilotRequestType2[\"Task\"] = \"Task\";\n  CopilotRequestType2[\"TextareaCompletion\"] = \"TextareaCompletion\";\n  CopilotRequestType2[\"TextareaPopover\"] = \"TextareaPopover\";\n  return CopilotRequestType2;\n})(CopilotRequestType || {});\nvar FailedResponseStatusReason = /* @__PURE__ */ ((FailedResponseStatusReason2) => {\n  FailedResponseStatusReason2[\"GuardrailsValidationFailed\"] = \"GUARDRAILS_VALIDATION_FAILED\";\n  FailedResponseStatusReason2[\"MessageStreamInterrupted\"] = \"MESSAGE_STREAM_INTERRUPTED\";\n  FailedResponseStatusReason2[\"UnknownError\"] = \"UNKNOWN_ERROR\";\n  return FailedResponseStatusReason2;\n})(FailedResponseStatusReason || {});\nvar MessageRole = /* @__PURE__ */ ((MessageRole2) => {\n  MessageRole2[\"Assistant\"] = \"assistant\";\n  MessageRole2[\"Developer\"] = \"developer\";\n  MessageRole2[\"System\"] = \"system\";\n  MessageRole2[\"Tool\"] = \"tool\";\n  MessageRole2[\"User\"] = \"user\";\n  return MessageRole2;\n})(MessageRole || {});\nvar MessageStatusCode = /* @__PURE__ */ ((MessageStatusCode2) => {\n  MessageStatusCode2[\"Failed\"] = \"Failed\";\n  MessageStatusCode2[\"Pending\"] = \"Pending\";\n  MessageStatusCode2[\"Success\"] = \"Success\";\n  return MessageStatusCode2;\n})(MessageStatusCode || {});\nvar MetaEventName = /* @__PURE__ */ ((MetaEventName2) => {\n  MetaEventName2[\"CopilotKitLangGraphInterruptEvent\"] = \"CopilotKitLangGraphInterruptEvent\";\n  MetaEventName2[\"LangGraphInterruptEvent\"] = \"LangGraphInterruptEvent\";\n  return MetaEventName2;\n})(MetaEventName || {});\nvar ResponseStatusCode = /* @__PURE__ */ ((ResponseStatusCode2) => {\n  ResponseStatusCode2[\"Failed\"] = \"Failed\";\n  ResponseStatusCode2[\"Pending\"] = \"Pending\";\n  ResponseStatusCode2[\"Success\"] = \"Success\";\n  return ResponseStatusCode2;\n})(ResponseStatusCode || {});\nvar GenerateCopilotResponseDocument = { \"kind\": \"Document\", \"definitions\": [{ \"kind\": \"OperationDefinition\", \"operation\": \"mutation\", \"name\": { \"kind\": \"Name\", \"value\": \"generateCopilotResponse\" }, \"variableDefinitions\": [{ \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } }, \"type\": { \"kind\": \"NonNullType\", \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"GenerateCopilotResponseInput\" } } } }, { \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" } }, \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"JSONObject\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"generateCopilotResponse\" }, \"arguments\": [{ \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } } }, { \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"properties\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"extensions\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"openaiAssistantAPI\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }] } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"CopilotResponse\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseResponseStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedResponseStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"details\" } }] } }] } }] } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"messages\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"__typename\" } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"id\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"createdAt\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"SuccessMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"PendingMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }] } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"TextMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"content\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }] }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ImageMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"format\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"bytes\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ActionExecutionMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"arguments\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }] }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ResultMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"result\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionExecutionId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionName\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"AgentStateMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"state\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"running\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"agentName\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"nodeName\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"runId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"active\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }] } }] } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"metaEvents\" }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"stream\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"LangGraphInterruptEvent\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"type\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"value\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"CopilotKitLangGraphInterruptEvent\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"type\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"messages\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"__typename\" } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"id\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"createdAt\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"BaseMessageOutput\" } }, \"directives\": [{ \"kind\": \"Directive\", \"name\": { \"kind\": \"Name\", \"value\": \"defer\" } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"status\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"SuccessMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"FailedMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"reason\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"PendingMessageStatus\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"code\" } }] } }] } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"TextMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"content\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"role\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ActionExecutionMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"arguments\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"parentMessageId\" } }] } }, { \"kind\": \"InlineFragment\", \"typeCondition\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"ResultMessageOutput\" } }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"result\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionExecutionId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"actionName\" } }] } }] } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"value\" } }] } }] } }] } }] } }] } }] };\nvar AvailableAgentsDocument = { \"kind\": \"Document\", \"definitions\": [{ \"kind\": \"OperationDefinition\", \"operation\": \"query\", \"name\": { \"kind\": \"Name\", \"value\": \"availableAgents\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"availableAgents\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"agents\" }, \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"name\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"id\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"description\" } }] } }] } }] } }] };\nvar LoadAgentStateDocument = { \"kind\": \"Document\", \"definitions\": [{ \"kind\": \"OperationDefinition\", \"operation\": \"query\", \"name\": { \"kind\": \"Name\", \"value\": \"loadAgentState\" }, \"variableDefinitions\": [{ \"kind\": \"VariableDefinition\", \"variable\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } }, \"type\": { \"kind\": \"NonNullType\", \"type\": { \"kind\": \"NamedType\", \"name\": { \"kind\": \"Name\", \"value\": \"LoadAgentStateInput\" } } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"loadAgentState\" }, \"arguments\": [{ \"kind\": \"Argument\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" }, \"value\": { \"kind\": \"Variable\", \"name\": { \"kind\": \"Name\", \"value\": \"data\" } } }], \"selectionSet\": { \"kind\": \"SelectionSet\", \"selections\": [{ \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadId\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"threadExists\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"state\" } }, { \"kind\": \"Field\", \"name\": { \"kind\": \"Name\", \"value\": \"messages\" } }] } }] } }] };\n\n\n//# sourceMappingURL=chunk-WM3ARNBD.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstV00zQVJOQkQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLCtCQUErQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUJBQW1CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCQUF5QjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMscUJBQXFCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBCQUEwQjtBQUMzQix3Q0FBd0Msc0NBQXNDLGtFQUFrRSxvREFBb0QsNEJBQTRCLDRDQUE0Qyw4QkFBOEIsbUNBQW1DLFlBQVksaUNBQWlDLCtCQUErQiwrREFBK0QsSUFBSSw0Q0FBNEMsOEJBQThCLHlDQUF5QyxZQUFZLCtCQUErQiwyQ0FBMkMscUJBQXFCLHlDQUF5QywyQkFBMkIsb0RBQW9ELGtCQUFrQiw4QkFBOEIsaUNBQWlDLGFBQWEsOEJBQThCLHFDQUFxQyxJQUFJLDhCQUE4Qix1Q0FBdUMsYUFBYSw4QkFBOEIsMkNBQTJDLHFCQUFxQix5Q0FBeUMsMkJBQTJCLHVDQUF1QyxJQUFJLDJCQUEyQixvQ0FBb0MsSUFBSSwyQkFBMkIsdUNBQXVDLG9CQUFvQix5Q0FBeUMsMkJBQTJCLCtDQUErQyxvQkFBb0IseUNBQXlDLDJCQUEyQixvQ0FBb0MsSUFBSSwyQkFBMkIsdUNBQXVDLEtBQUssS0FBSyxJQUFJLDZDQUE2QywrQkFBK0IsOENBQThDLG1CQUFtQiwrQkFBK0Isb0NBQW9DLHFCQUFxQix5Q0FBeUMsMkJBQTJC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cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWwvZGlzdC9jaHVuay1XTTNBUk5CRC5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2dyYXBocWwvQGdlbmVyYXRlZC9ncmFwaHFsLnRzXG52YXIgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkgPSAvKiBAX19QVVJFX18gKi8gKChBY3Rpb25JbnB1dEF2YWlsYWJpbGl0eTIpID0+IHtcbiAgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkyW1wiRGlzYWJsZWRcIl0gPSBcImRpc2FibGVkXCI7XG4gIEFjdGlvbklucHV0QXZhaWxhYmlsaXR5MltcIkVuYWJsZWRcIl0gPSBcImVuYWJsZWRcIjtcbiAgQWN0aW9uSW5wdXRBdmFpbGFiaWxpdHkyW1wiUmVtb3RlXCJdID0gXCJyZW1vdGVcIjtcbiAgcmV0dXJuIEFjdGlvbklucHV0QXZhaWxhYmlsaXR5Mjtcbn0pKEFjdGlvbklucHV0QXZhaWxhYmlsaXR5IHx8IHt9KTtcbnZhciBDb3BpbG90UmVxdWVzdFR5cGUgPSAvKiBAX19QVVJFX18gKi8gKChDb3BpbG90UmVxdWVzdFR5cGUyKSA9PiB7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJDaGF0XCJdID0gXCJDaGF0XCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJTdWdnZXN0aW9uXCJdID0gXCJTdWdnZXN0aW9uXCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUYXNrXCJdID0gXCJUYXNrXCI7XG4gIENvcGlsb3RSZXF1ZXN0VHlwZTJbXCJUZXh0YXJlYUNvbXBsZXRpb25cIl0gPSBcIlRleHRhcmVhQ29tcGxldGlvblwiO1xuICBDb3BpbG90UmVxdWVzdFR5cGUyW1wiVGV4dGFyZWFQb3BvdmVyXCJdID0gXCJUZXh0YXJlYVBvcG92ZXJcIjtcbiAgcmV0dXJuIENvcGlsb3RSZXF1ZXN0VHlwZTI7XG59KShDb3BpbG90UmVxdWVzdFR5cGUgfHwge30pO1xudmFyIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uID0gLyogQF9fUFVSRV9fICovICgoRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yKSA9PiB7XG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMltcIkd1YXJkcmFpbHNWYWxpZGF0aW9uRmFpbGVkXCJdID0gXCJHVUFSRFJBSUxTX1ZBTElEQVRJT05fRkFJTEVEXCI7XG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uMltcIk1lc3NhZ2VTdHJlYW1JbnRlcnJ1cHRlZFwiXSA9IFwiTUVTU0FHRV9TVFJFQU1fSU5URVJSVVBURURcIjtcbiAgRmFpbGVkUmVzcG9uc2VTdGF0dXNSZWFzb24yW1wiVW5rbm93bkVycm9yXCJdID0gXCJVTktOT1dOX0VSUk9SXCI7XG4gIHJldHVybiBGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbjI7XG59KShGYWlsZWRSZXNwb25zZVN0YXR1c1JlYXNvbiB8fCB7fSk7XG52YXIgTWVzc2FnZVJvbGUgPSAvKiBAX19QVVJFX18gKi8gKChNZXNzYWdlUm9sZTIpID0+IHtcbiAgTWVzc2FnZVJvbGUyW1wiQXNzaXN0YW50XCJdID0gXCJhc3Npc3RhbnRcIjtcbiAgTWVzc2FnZVJvbGUyW1wiRGV2ZWxvcGVyXCJdID0gXCJkZXZlbG9wZXJcIjtcbiAgTWVzc2FnZVJvbGUyW1wiU3lzdGVtXCJdID0gXCJzeXN0ZW1cIjtcbiAgTWVzc2FnZVJvbGUyW1wiVG9vbFwiXSA9IFwidG9vbFwiO1xuICBNZXNzYWdlUm9sZTJbXCJVc2VyXCJdID0gXCJ1c2VyXCI7XG4gIHJldHVybiBNZXNzYWdlUm9sZTI7XG59KShNZXNzYWdlUm9sZSB8fCB7fSk7XG52YXIgTWVzc2FnZVN0YXR1c0NvZGUgPSAvKiBAX19QVVJFX18gKi8gKChNZXNzYWdlU3RhdHVzQ29kZTIpID0+IHtcbiAgTWVzc2FnZVN0YXR1c0NvZGUyW1wiRmFpbGVkXCJdID0gXCJGYWlsZWRcIjtcbiAgTWVzc2FnZVN0YXR1c0NvZGUyW1wiUGVuZGluZ1wiXSA9IFwiUGVuZGluZ1wiO1xuICBNZXNzYWdlU3RhdHVzQ29kZTJbXCJTdWNjZXNzXCJdID0gXCJTdWNjZXNzXCI7XG4gIHJldHVybiBNZXNzYWdlU3RhdHVzQ29kZTI7XG59KShNZXNzYWdlU3RhdHVzQ29kZSB8fCB7fSk7XG52YXIgTWV0YUV2ZW50TmFtZSA9IC8qIEBfX1BVUkVfXyAqLyAoKE1ldGFFdmVudE5hbWUyKSA9PiB7XG4gIE1ldGFFdmVudE5hbWUyW1wiQ29waWxvdEtpdExhbmdHcmFwaEludGVycnVwdEV2ZW50XCJdID0gXCJDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIjtcbiAgTWV0YUV2ZW50TmFtZTJbXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiXSA9IFwiTGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIjtcbiAgcmV0dXJuIE1ldGFFdmVudE5hbWUyO1xufSkoTWV0YUV2ZW50TmFtZSB8fCB7fSk7XG52YXIgUmVzcG9uc2VTdGF0dXNDb2RlID0gLyogQF9fUFVSRV9fICovICgoUmVzcG9uc2VTdGF0dXNDb2RlMikgPT4ge1xuICBSZXNwb25zZVN0YXR1c0NvZGUyW1wiRmFpbGVkXCJdID0gXCJGYWlsZWRcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlBlbmRpbmdcIl0gPSBcIlBlbmRpbmdcIjtcbiAgUmVzcG9uc2VTdGF0dXNDb2RlMltcIlN1Y2Nlc3NcIl0gPSBcIlN1Y2Nlc3NcIjtcbiAgcmV0dXJuIFJlc3BvbnNlU3RhdHVzQ29kZTI7XG59KShSZXNwb25zZVN0YXR1c0NvZGUgfHwge30pO1xudmFyIEdlbmVyYXRlQ29waWxvdFJlc3BvbnNlRG9jdW1lbnQgPSB7IFwia2luZFwiOiBcIkRvY3VtZW50XCIsIFwiZGVmaW5pdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiT3BlcmF0aW9uRGVmaW5pdGlvblwiLCBcIm9wZXJhdGlvblwiOiBcIm11dGF0aW9uXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImdlbmVyYXRlQ29waWxvdFJlc3BvbnNlXCIgfSwgXCJ2YXJpYWJsZURlZmluaXRpb25zXCI6IFt7IFwia2luZFwiOiBcIlZhcmlhYmxlRGVmaW5pdGlvblwiLCBcInZhcmlhYmxlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0gfSwgXCJ0eXBlXCI6IHsgXCJraW5kXCI6IFwiTm9uTnVsbFR5cGVcIiwgXCJ0eXBlXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkdlbmVyYXRlQ29waWxvdFJlc3BvbnNlSW5wdXRcIiB9IH0gfSB9LCB7IFwia2luZFwiOiBcIlZhcmlhYmxlRGVmaW5pdGlvblwiLCBcInZhcmlhYmxlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicHJvcGVydGllc1wiIH0gfSwgXCJ0eXBlXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkpTT05PYmplY3RcIiB9IH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJnZW5lcmF0ZUNvcGlsb3RSZXNwb25zZVwiIH0sIFwiYXJndW1lbnRzXCI6IFt7IFwia2luZFwiOiBcIkFyZ3VtZW50XCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRhdGFcIiB9LCBcInZhbHVlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0gfSB9LCB7IFwia2luZFwiOiBcIkFyZ3VtZW50XCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInByb3BlcnRpZXNcIiB9LCBcInZhbHVlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicHJvcGVydGllc1wiIH0gfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInRocmVhZElkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJ1bklkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImV4dGVuc2lvbnNcIiB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwib3BlbmFpQXNzaXN0YW50QVBJXCIgfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJ1bklkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInRocmVhZElkXCIgfSB9XSB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQ29waWxvdFJlc3BvbnNlXCIgfSB9LCBcImRpcmVjdGl2ZXNcIjogW3sgXCJraW5kXCI6IFwiRGlyZWN0aXZlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRlZmVyXCIgfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInN0YXR1c1wiIH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQmFzZVJlc3BvbnNlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29kZVwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJGYWlsZWRSZXNwb25zZVN0YXR1c1wiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJlYXNvblwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkZXRhaWxzXCIgfSB9XSB9IH1dIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIm1lc3NhZ2VzXCIgfSwgXCJkaXJlY3RpdmVzXCI6IFt7IFwia2luZFwiOiBcIkRpcmVjdGl2ZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdHJlYW1cIiB9IH1dLCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiX190eXBlbmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQmFzZU1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJpZFwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjcmVhdGVkQXRcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQmFzZU1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGVmZXJcIiB9IH1dLCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RhdHVzXCIgfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJTdWNjZXNzTWVzc2FnZVN0YXR1c1wiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNvZGVcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiRmFpbGVkTWVzc2FnZVN0YXR1c1wiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNvZGVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicmVhc29uXCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIlBlbmRpbmdNZXNzYWdlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29kZVwiIH0gfV0gfSB9XSB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiVGV4dE1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjb250ZW50XCIgfSwgXCJkaXJlY3RpdmVzXCI6IFt7IFwia2luZFwiOiBcIkRpcmVjdGl2ZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdHJlYW1cIiB9IH1dIH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicm9sZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJwYXJlbnRNZXNzYWdlSWRcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiSW1hZ2VNZXNzYWdlT3V0cHV0XCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZm9ybWF0XCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImJ5dGVzXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInJvbGVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicGFyZW50TWVzc2FnZUlkXCIgfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIkFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJuYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFyZ3VtZW50c1wiIH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RyZWFtXCIgfSB9XSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInBhcmVudE1lc3NhZ2VJZFwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJSZXN1bHRNZXNzYWdlT3V0cHV0XCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicmVzdWx0XCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGlvbkV4ZWN1dGlvbklkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGlvbk5hbWVcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQWdlbnRTdGF0ZU1lc3NhZ2VPdXRwdXRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJ0aHJlYWRJZFwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdGF0ZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJydW5uaW5nXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFnZW50TmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJub2RlTmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJydW5JZFwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJhY3RpdmVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicm9sZVwiIH0gfV0gfSB9XSB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwibWV0YUV2ZW50c1wiIH0sIFwiZGlyZWN0aXZlc1wiOiBbeyBcImtpbmRcIjogXCJEaXJlY3RpdmVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwic3RyZWFtXCIgfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJMYW5nR3JhcGhJbnRlcnJ1cHRFdmVudFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInR5cGVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwibmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJ2YWx1ZVwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJDb3BpbG90S2l0TGFuZ0dyYXBoSW50ZXJydXB0RXZlbnRcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJ0eXBlXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIm5hbWVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJtZXNzYWdlc1wiIH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJfX3R5cGVuYW1lXCIgfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJCYXNlTWVzc2FnZU91dHB1dFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImlkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNyZWF0ZWRBdFwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJCYXNlTWVzc2FnZU91dHB1dFwiIH0gfSwgXCJkaXJlY3RpdmVzXCI6IFt7IFwia2luZFwiOiBcIkRpcmVjdGl2ZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkZWZlclwiIH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdGF0dXNcIiB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiSW5saW5lRnJhZ21lbnRcIiwgXCJ0eXBlQ29uZGl0aW9uXCI6IHsgXCJraW5kXCI6IFwiTmFtZWRUeXBlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIlN1Y2Nlc3NNZXNzYWdlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29kZVwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJGYWlsZWRNZXNzYWdlU3RhdHVzXCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiY29kZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJyZWFzb25cIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiUGVuZGluZ01lc3NhZ2VTdGF0dXNcIiB9IH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJjb2RlXCIgfSB9XSB9IH1dIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJUZXh0TWVzc2FnZU91dHB1dFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImNvbnRlbnRcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicm9sZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJwYXJlbnRNZXNzYWdlSWRcIiB9IH1dIH0gfSwgeyBcImtpbmRcIjogXCJJbmxpbmVGcmFnbWVudFwiLCBcInR5cGVDb25kaXRpb25cIjogeyBcImtpbmRcIjogXCJOYW1lZFR5cGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiQWN0aW9uRXhlY3V0aW9uTWVzc2FnZU91dHB1dFwiIH0gfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcIm5hbWVcIiB9IH0sIHsgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiYXJndW1lbnRzXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInBhcmVudE1lc3NhZ2VJZFwiIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIklubGluZUZyYWdtZW50XCIsIFwidHlwZUNvbmRpdGlvblwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJSZXN1bHRNZXNzYWdlT3V0cHV0XCIgfSB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwicmVzdWx0XCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGlvbkV4ZWN1dGlvbklkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImFjdGlvbk5hbWVcIiB9IH1dIH0gfV0gfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInZhbHVlXCIgfSB9XSB9IH1dIH0gfV0gfSB9XSB9IH1dIH0gfV0gfTtcbnZhciBBdmFpbGFibGVBZ2VudHNEb2N1bWVudCA9IHsgXCJraW5kXCI6IFwiRG9jdW1lbnRcIiwgXCJkZWZpbml0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJPcGVyYXRpb25EZWZpbml0aW9uXCIsIFwib3BlcmF0aW9uXCI6IFwicXVlcnlcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiYXZhaWxhYmxlQWdlbnRzXCIgfSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImF2YWlsYWJsZUFnZW50c1wiIH0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJhZ2VudHNcIiB9LCBcInNlbGVjdGlvblNldFwiOiB7IFwia2luZFwiOiBcIlNlbGVjdGlvblNldFwiLCBcInNlbGVjdGlvbnNcIjogW3sgXCJraW5kXCI6IFwiRmllbGRcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwibmFtZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJpZFwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJkZXNjcmlwdGlvblwiIH0gfV0gfSB9XSB9IH1dIH0gfV0gfTtcbnZhciBMb2FkQWdlbnRTdGF0ZURvY3VtZW50ID0geyBcImtpbmRcIjogXCJEb2N1bWVudFwiLCBcImRlZmluaXRpb25zXCI6IFt7IFwia2luZFwiOiBcIk9wZXJhdGlvbkRlZmluaXRpb25cIiwgXCJvcGVyYXRpb25cIjogXCJxdWVyeVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJsb2FkQWdlbnRTdGF0ZVwiIH0sIFwidmFyaWFibGVEZWZpbml0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJWYXJpYWJsZURlZmluaXRpb25cIiwgXCJ2YXJpYWJsZVwiOiB7IFwia2luZFwiOiBcIlZhcmlhYmxlXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRhdGFcIiB9IH0sIFwidHlwZVwiOiB7IFwia2luZFwiOiBcIk5vbk51bGxUeXBlXCIsIFwidHlwZVwiOiB7IFwia2luZFwiOiBcIk5hbWVkVHlwZVwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJMb2FkQWdlbnRTdGF0ZUlucHV0XCIgfSB9IH0gfV0sIFwic2VsZWN0aW9uU2V0XCI6IHsgXCJraW5kXCI6IFwiU2VsZWN0aW9uU2V0XCIsIFwic2VsZWN0aW9uc1wiOiBbeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJsb2FkQWdlbnRTdGF0ZVwiIH0sIFwiYXJndW1lbnRzXCI6IFt7IFwia2luZFwiOiBcIkFyZ3VtZW50XCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcImRhdGFcIiB9LCBcInZhbHVlXCI6IHsgXCJraW5kXCI6IFwiVmFyaWFibGVcIiwgXCJuYW1lXCI6IHsgXCJraW5kXCI6IFwiTmFtZVwiLCBcInZhbHVlXCI6IFwiZGF0YVwiIH0gfSB9XSwgXCJzZWxlY3Rpb25TZXRcIjogeyBcImtpbmRcIjogXCJTZWxlY3Rpb25TZXRcIiwgXCJzZWxlY3Rpb25zXCI6IFt7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInRocmVhZElkXCIgfSB9LCB7IFwia2luZFwiOiBcIkZpZWxkXCIsIFwibmFtZVwiOiB7IFwia2luZFwiOiBcIk5hbWVcIiwgXCJ2YWx1ZVwiOiBcInRocmVhZEV4aXN0c1wiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJzdGF0ZVwiIH0gfSwgeyBcImtpbmRcIjogXCJGaWVsZFwiLCBcIm5hbWVcIjogeyBcImtpbmRcIjogXCJOYW1lXCIsIFwidmFsdWVcIjogXCJtZXNzYWdlc1wiIH0gfV0gfSB9XSB9IH1dIH07XG5cbmV4cG9ydCB7XG4gIEFjdGlvbklucHV0QXZhaWxhYmlsaXR5LFxuICBDb3BpbG90UmVxdWVzdFR5cGUsXG4gIEZhaWxlZFJlc3BvbnNlU3RhdHVzUmVhc29uLFxuICBNZXNzYWdlUm9sZSxcbiAgTWVzc2FnZVN0YXR1c0NvZGUsXG4gIE1ldGFFdmVudE5hbWUsXG4gIFJlc3BvbnNlU3RhdHVzQ29kZSxcbiAgR2VuZXJhdGVDb3BpbG90UmVzcG9uc2VEb2N1bWVudCxcbiAgQXZhaWxhYmxlQWdlbnRzRG9jdW1lbnQsXG4gIExvYWRBZ2VudFN0YXRlRG9jdW1lbnRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1XTTNBUk5CRC5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WM3ARNBD.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WXA3UP7I.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WXA3UP7I.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gqlActionExecutionMessageToAGUIMessage: () => (/* binding */ gqlActionExecutionMessageToAGUIMessage),\n/* harmony export */   gqlImageMessageToAGUIMessage: () => (/* binding */ gqlImageMessageToAGUIMessage),\n/* harmony export */   gqlResultMessageToAGUIMessage: () => (/* binding */ gqlResultMessageToAGUIMessage),\n/* harmony export */   gqlTextMessageToAGUIMessage: () => (/* binding */ gqlTextMessageToAGUIMessage),\n/* harmony export */   gqlToAGUI: () => (/* binding */ gqlToAGUI)\n/* harmony export */ });\n/* harmony import */ var _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-ROUIRR4B.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-ROUIRR4B.mjs\");\n\n\n// src/message-conversion/gql-to-agui.ts\nvar VALID_IMAGE_FORMATS = [\"jpeg\", \"png\", \"webp\", \"gif\"];\nfunction validateImageFormat(format) {\n  return VALID_IMAGE_FORMATS.includes(format);\n}\nfunction gqlToAGUI(messages, actions, coAgentStateRenders) {\n  let aguiMessages = [];\n  messages = Array.isArray(messages) ? messages : [messages];\n  const actionResults = /* @__PURE__ */ new Map();\n  for (const message of messages) {\n    if (message.isResultMessage()) {\n      actionResults.set(message.actionExecutionId, message.result);\n    }\n  }\n  for (const message of messages) {\n    if (message.isTextMessage()) {\n      aguiMessages.push(gqlTextMessageToAGUIMessage(message));\n    } else if (message.isResultMessage()) {\n      aguiMessages.push(gqlResultMessageToAGUIMessage(message));\n    } else if (message.isActionExecutionMessage()) {\n      aguiMessages.push(gqlActionExecutionMessageToAGUIMessage(message, actions, actionResults));\n    } else if (message.isAgentStateMessage()) {\n      aguiMessages.push(gqlAgentStateMessageToAGUIMessage(message, coAgentStateRenders));\n    } else if (message.isImageMessage()) {\n      aguiMessages.push(gqlImageMessageToAGUIMessage(message));\n    } else {\n      throw new Error(\"Unknown message type\");\n    }\n  }\n  return aguiMessages;\n}\nfunction gqlActionExecutionMessageToAGUIMessage(message, actions, actionResults) {\n  const hasSpecificAction = actions && Object.values(actions).some((action2) => action2.name === message.name);\n  const hasWildcardAction = actions && Object.values(actions).some((action2) => action2.name === \"*\");\n  if (!actions || !hasSpecificAction && !hasWildcardAction) {\n    return {\n      id: message.id,\n      role: \"assistant\",\n      toolCalls: [actionExecutionMessageToAGUIMessage(message)],\n      name: message.name\n    };\n  }\n  const action = Object.values(actions).find((action2) => action2.name === message.name) || Object.values(actions).find((action2) => action2.name === \"*\");\n  const createRenderWrapper = (originalRender) => {\n    if (!originalRender)\n      return void 0;\n    return (props) => {\n      var _a;\n      let actionResult = actionResults == null ? void 0 : actionResults.get(message.id);\n      let status = \"inProgress\";\n      if (actionResult !== void 0) {\n        status = \"complete\";\n      } else if (((_a = message.status) == null ? void 0 : _a.code) !== \"Pending\" /* Pending */) {\n        status = \"executing\";\n      }\n      if (typeof (props == null ? void 0 : props.result) === \"string\") {\n        try {\n          props.result = JSON.parse(props.result);\n        } catch (e) {\n        }\n      }\n      if (typeof actionResult === \"string\") {\n        try {\n          actionResult = JSON.parse(actionResult);\n        } catch (e) {\n        }\n      }\n      const baseProps = {\n        status: (props == null ? void 0 : props.status) || status,\n        args: message.arguments || {},\n        result: (props == null ? void 0 : props.result) || actionResult || void 0,\n        messageId: message.id\n      };\n      if (action.name === \"*\") {\n        return originalRender({\n          ...baseProps,\n          ...props,\n          name: message.name\n        });\n      } else {\n        const respond = (props == null ? void 0 : props.respond) ?? (() => {\n        });\n        return originalRender({\n          ...baseProps,\n          ...props,\n          respond\n        });\n      }\n    };\n  };\n  return {\n    id: message.id,\n    role: \"assistant\",\n    content: \"\",\n    toolCalls: [actionExecutionMessageToAGUIMessage(message)],\n    generativeUI: createRenderWrapper(action.render),\n    name: message.name\n  };\n}\nfunction gqlAgentStateMessageToAGUIMessage(message, coAgentStateRenders) {\n  if (coAgentStateRenders && Object.values(coAgentStateRenders).some((render) => render.name === message.agentName)) {\n    const render = Object.values(coAgentStateRenders).find(\n      (render2) => render2.name === message.agentName\n    );\n    const createRenderWrapper = (originalRender) => {\n      if (!originalRender)\n        return void 0;\n      return (props) => {\n        const state = message.state;\n        const renderProps = {\n          state\n        };\n        return originalRender(renderProps);\n      };\n    };\n    return {\n      id: message.id,\n      role: \"assistant\",\n      generativeUI: createRenderWrapper(render.render),\n      agentName: message.agentName,\n      state: message.state\n    };\n  }\n  return {\n    id: message.id,\n    role: \"assistant\",\n    agentName: message.agentName,\n    state: message.state\n  };\n}\nfunction actionExecutionMessageToAGUIMessage(actionExecutionMessage) {\n  return {\n    id: actionExecutionMessage.id,\n    function: {\n      name: actionExecutionMessage.name,\n      arguments: JSON.stringify(actionExecutionMessage.arguments)\n    },\n    type: \"function\"\n  };\n}\nfunction gqlTextMessageToAGUIMessage(message) {\n  switch (message.role) {\n    case _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Developer:\n      return {\n        id: message.id,\n        role: \"developer\",\n        content: message.content\n      };\n    case _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.System:\n      return {\n        id: message.id,\n        role: \"system\",\n        content: message.content\n      };\n    case _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Assistant:\n      return {\n        id: message.id,\n        role: \"assistant\",\n        content: message.content\n      };\n    case _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.User:\n      return {\n        id: message.id,\n        role: \"user\",\n        content: message.content\n      };\n    default:\n      throw new Error(\"Unknown message role\");\n  }\n}\nfunction gqlResultMessageToAGUIMessage(message) {\n  return {\n    id: message.id,\n    role: \"tool\",\n    content: message.result,\n    toolCallId: message.actionExecutionId,\n    toolName: message.actionName\n  };\n}\nfunction gqlImageMessageToAGUIMessage(message) {\n  if (!validateImageFormat(message.format)) {\n    throw new Error(\n      `Invalid image format: ${message.format}. Supported formats are: ${VALID_IMAGE_FORMATS.join(\", \")}`\n    );\n  }\n  if (!message.bytes || typeof message.bytes !== \"string\" || message.bytes.trim() === \"\") {\n    throw new Error(\"Image bytes must be a non-empty string\");\n  }\n  const role = message.role === _chunk_ROUIRR4B_mjs__WEBPACK_IMPORTED_MODULE_0__.Role.Assistant ? \"assistant\" : \"user\";\n  const imageMessage = {\n    id: message.id,\n    role,\n    content: \"\",\n    image: {\n      format: message.format,\n      bytes: message.bytes\n    }\n  };\n  return imageMessage;\n}\n\n\n//# sourceMappingURL=chunk-WXA3UP7I.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstV1hBM1VQN0kubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxREFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLHFEQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMscURBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxxREFBSTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixlQUFlLDJCQUEyQiwrQkFBK0I7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxxREFBSTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVFFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLVdYQTNVUDdJLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBSb2xlXG59IGZyb20gXCIuL2NodW5rLVJPVUlSUjRCLm1qc1wiO1xuXG4vLyBzcmMvbWVzc2FnZS1jb252ZXJzaW9uL2dxbC10by1hZ3VpLnRzXG52YXIgVkFMSURfSU1BR0VfRk9STUFUUyA9IFtcImpwZWdcIiwgXCJwbmdcIiwgXCJ3ZWJwXCIsIFwiZ2lmXCJdO1xuZnVuY3Rpb24gdmFsaWRhdGVJbWFnZUZvcm1hdChmb3JtYXQpIHtcbiAgcmV0dXJuIFZBTElEX0lNQUdFX0ZPUk1BVFMuaW5jbHVkZXMoZm9ybWF0KTtcbn1cbmZ1bmN0aW9uIGdxbFRvQUdVSShtZXNzYWdlcywgYWN0aW9ucywgY29BZ2VudFN0YXRlUmVuZGVycykge1xuICBsZXQgYWd1aU1lc3NhZ2VzID0gW107XG4gIG1lc3NhZ2VzID0gQXJyYXkuaXNBcnJheShtZXNzYWdlcykgPyBtZXNzYWdlcyA6IFttZXNzYWdlc107XG4gIGNvbnN0IGFjdGlvblJlc3VsdHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS5pc1Jlc3VsdE1lc3NhZ2UoKSkge1xuICAgICAgYWN0aW9uUmVzdWx0cy5zZXQobWVzc2FnZS5hY3Rpb25FeGVjdXRpb25JZCwgbWVzc2FnZS5yZXN1bHQpO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICBpZiAobWVzc2FnZS5pc1RleHRNZXNzYWdlKCkpIHtcbiAgICAgIGFndWlNZXNzYWdlcy5wdXNoKGdxbFRleHRNZXNzYWdlVG9BR1VJTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLmlzUmVzdWx0TWVzc2FnZSgpKSB7XG4gICAgICBhZ3VpTWVzc2FnZXMucHVzaChncWxSZXN1bHRNZXNzYWdlVG9BR1VJTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLmlzQWN0aW9uRXhlY3V0aW9uTWVzc2FnZSgpKSB7XG4gICAgICBhZ3VpTWVzc2FnZXMucHVzaChncWxBY3Rpb25FeGVjdXRpb25NZXNzYWdlVG9BR1VJTWVzc2FnZShtZXNzYWdlLCBhY3Rpb25zLCBhY3Rpb25SZXN1bHRzKSk7XG4gICAgfSBlbHNlIGlmIChtZXNzYWdlLmlzQWdlbnRTdGF0ZU1lc3NhZ2UoKSkge1xuICAgICAgYWd1aU1lc3NhZ2VzLnB1c2goZ3FsQWdlbnRTdGF0ZU1lc3NhZ2VUb0FHVUlNZXNzYWdlKG1lc3NhZ2UsIGNvQWdlbnRTdGF0ZVJlbmRlcnMpKTtcbiAgICB9IGVsc2UgaWYgKG1lc3NhZ2UuaXNJbWFnZU1lc3NhZ2UoKSkge1xuICAgICAgYWd1aU1lc3NhZ2VzLnB1c2goZ3FsSW1hZ2VNZXNzYWdlVG9BR1VJTWVzc2FnZShtZXNzYWdlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbWVzc2FnZSB0eXBlXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYWd1aU1lc3NhZ2VzO1xufVxuZnVuY3Rpb24gZ3FsQWN0aW9uRXhlY3V0aW9uTWVzc2FnZVRvQUdVSU1lc3NhZ2UobWVzc2FnZSwgYWN0aW9ucywgYWN0aW9uUmVzdWx0cykge1xuICBjb25zdCBoYXNTcGVjaWZpY0FjdGlvbiA9IGFjdGlvbnMgJiYgT2JqZWN0LnZhbHVlcyhhY3Rpb25zKS5zb21lKChhY3Rpb24yKSA9PiBhY3Rpb24yLm5hbWUgPT09IG1lc3NhZ2UubmFtZSk7XG4gIGNvbnN0IGhhc1dpbGRjYXJkQWN0aW9uID0gYWN0aW9ucyAmJiBPYmplY3QudmFsdWVzKGFjdGlvbnMpLnNvbWUoKGFjdGlvbjIpID0+IGFjdGlvbjIubmFtZSA9PT0gXCIqXCIpO1xuICBpZiAoIWFjdGlvbnMgfHwgIWhhc1NwZWNpZmljQWN0aW9uICYmICFoYXNXaWxkY2FyZEFjdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogbWVzc2FnZS5pZCxcbiAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICB0b29sQ2FsbHM6IFthY3Rpb25FeGVjdXRpb25NZXNzYWdlVG9BR1VJTWVzc2FnZShtZXNzYWdlKV0sXG4gICAgICBuYW1lOiBtZXNzYWdlLm5hbWVcbiAgICB9O1xuICB9XG4gIGNvbnN0IGFjdGlvbiA9IE9iamVjdC52YWx1ZXMoYWN0aW9ucykuZmluZCgoYWN0aW9uMikgPT4gYWN0aW9uMi5uYW1lID09PSBtZXNzYWdlLm5hbWUpIHx8IE9iamVjdC52YWx1ZXMoYWN0aW9ucykuZmluZCgoYWN0aW9uMikgPT4gYWN0aW9uMi5uYW1lID09PSBcIipcIik7XG4gIGNvbnN0IGNyZWF0ZVJlbmRlcldyYXBwZXIgPSAob3JpZ2luYWxSZW5kZXIpID0+IHtcbiAgICBpZiAoIW9yaWdpbmFsUmVuZGVyKVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICByZXR1cm4gKHByb3BzKSA9PiB7XG4gICAgICB2YXIgX2E7XG4gICAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0cyA9PSBudWxsID8gdm9pZCAwIDogYWN0aW9uUmVzdWx0cy5nZXQobWVzc2FnZS5pZCk7XG4gICAgICBsZXQgc3RhdHVzID0gXCJpblByb2dyZXNzXCI7XG4gICAgICBpZiAoYWN0aW9uUmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgc3RhdHVzID0gXCJjb21wbGV0ZVwiO1xuICAgICAgfSBlbHNlIGlmICgoKF9hID0gbWVzc2FnZS5zdGF0dXMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb2RlKSAhPT0gXCJQZW5kaW5nXCIgLyogUGVuZGluZyAqLykge1xuICAgICAgICBzdGF0dXMgPSBcImV4ZWN1dGluZ1wiO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiAocHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLnJlc3VsdCkgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwcm9wcy5yZXN1bHQgPSBKU09OLnBhcnNlKHByb3BzLnJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBhY3Rpb25SZXN1bHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhY3Rpb25SZXN1bHQgPSBKU09OLnBhcnNlKGFjdGlvblJlc3VsdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgYmFzZVByb3BzID0ge1xuICAgICAgICBzdGF0dXM6IChwcm9wcyA9PSBudWxsID8gdm9pZCAwIDogcHJvcHMuc3RhdHVzKSB8fCBzdGF0dXMsXG4gICAgICAgIGFyZ3M6IG1lc3NhZ2UuYXJndW1lbnRzIHx8IHt9LFxuICAgICAgICByZXN1bHQ6IChwcm9wcyA9PSBudWxsID8gdm9pZCAwIDogcHJvcHMucmVzdWx0KSB8fCBhY3Rpb25SZXN1bHQgfHwgdm9pZCAwLFxuICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2UuaWRcbiAgICAgIH07XG4gICAgICBpZiAoYWN0aW9uLm5hbWUgPT09IFwiKlwiKSB7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFJlbmRlcih7XG4gICAgICAgICAgLi4uYmFzZVByb3BzLFxuICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgIG5hbWU6IG1lc3NhZ2UubmFtZVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbmQgPSAocHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLnJlc3BvbmQpID8/ICgoKSA9PiB7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxSZW5kZXIoe1xuICAgICAgICAgIC4uLmJhc2VQcm9wcyxcbiAgICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgICByZXNwb25kXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiB7XG4gICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICBjb250ZW50OiBcIlwiLFxuICAgIHRvb2xDYWxsczogW2FjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VUb0FHVUlNZXNzYWdlKG1lc3NhZ2UpXSxcbiAgICBnZW5lcmF0aXZlVUk6IGNyZWF0ZVJlbmRlcldyYXBwZXIoYWN0aW9uLnJlbmRlciksXG4gICAgbmFtZTogbWVzc2FnZS5uYW1lXG4gIH07XG59XG5mdW5jdGlvbiBncWxBZ2VudFN0YXRlTWVzc2FnZVRvQUdVSU1lc3NhZ2UobWVzc2FnZSwgY29BZ2VudFN0YXRlUmVuZGVycykge1xuICBpZiAoY29BZ2VudFN0YXRlUmVuZGVycyAmJiBPYmplY3QudmFsdWVzKGNvQWdlbnRTdGF0ZVJlbmRlcnMpLnNvbWUoKHJlbmRlcikgPT4gcmVuZGVyLm5hbWUgPT09IG1lc3NhZ2UuYWdlbnROYW1lKSkge1xuICAgIGNvbnN0IHJlbmRlciA9IE9iamVjdC52YWx1ZXMoY29BZ2VudFN0YXRlUmVuZGVycykuZmluZChcbiAgICAgIChyZW5kZXIyKSA9PiByZW5kZXIyLm5hbWUgPT09IG1lc3NhZ2UuYWdlbnROYW1lXG4gICAgKTtcbiAgICBjb25zdCBjcmVhdGVSZW5kZXJXcmFwcGVyID0gKG9yaWdpbmFsUmVuZGVyKSA9PiB7XG4gICAgICBpZiAoIW9yaWdpbmFsUmVuZGVyKVxuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgcmV0dXJuIChwcm9wcykgPT4ge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG1lc3NhZ2Uuc3RhdGU7XG4gICAgICAgIGNvbnN0IHJlbmRlclByb3BzID0ge1xuICAgICAgICAgIHN0YXRlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFJlbmRlcihyZW5kZXJQcm9wcyk7XG4gICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgIGdlbmVyYXRpdmVVSTogY3JlYXRlUmVuZGVyV3JhcHBlcihyZW5kZXIucmVuZGVyKSxcbiAgICAgIGFnZW50TmFtZTogbWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgICBzdGF0ZTogbWVzc2FnZS5zdGF0ZVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBpZDogbWVzc2FnZS5pZCxcbiAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgIGFnZW50TmFtZTogbWVzc2FnZS5hZ2VudE5hbWUsXG4gICAgc3RhdGU6IG1lc3NhZ2Uuc3RhdGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2VUb0FHVUlNZXNzYWdlKGFjdGlvbkV4ZWN1dGlvbk1lc3NhZ2UpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5pZCxcbiAgICBmdW5jdGlvbjoge1xuICAgICAgbmFtZTogYWN0aW9uRXhlY3V0aW9uTWVzc2FnZS5uYW1lLFxuICAgICAgYXJndW1lbnRzOiBKU09OLnN0cmluZ2lmeShhY3Rpb25FeGVjdXRpb25NZXNzYWdlLmFyZ3VtZW50cylcbiAgICB9LFxuICAgIHR5cGU6IFwiZnVuY3Rpb25cIlxuICB9O1xufVxuZnVuY3Rpb24gZ3FsVGV4dE1lc3NhZ2VUb0FHVUlNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgc3dpdGNoIChtZXNzYWdlLnJvbGUpIHtcbiAgICBjYXNlIFJvbGUuRGV2ZWxvcGVyOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHJvbGU6IFwiZGV2ZWxvcGVyXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgfTtcbiAgICBjYXNlIFJvbGUuU3lzdGVtOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgfTtcbiAgICBjYXNlIFJvbGUuQXNzaXN0YW50OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IG1lc3NhZ2UuaWQsXG4gICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudFxuICAgICAgfTtcbiAgICBjYXNlIFJvbGUuVXNlcjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50XG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG1lc3NhZ2Ugcm9sZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gZ3FsUmVzdWx0TWVzc2FnZVRvQUdVSU1lc3NhZ2UobWVzc2FnZSkge1xuICByZXR1cm4ge1xuICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgIHJvbGU6IFwidG9vbFwiLFxuICAgIGNvbnRlbnQ6IG1lc3NhZ2UucmVzdWx0LFxuICAgIHRvb2xDYWxsSWQ6IG1lc3NhZ2UuYWN0aW9uRXhlY3V0aW9uSWQsXG4gICAgdG9vbE5hbWU6IG1lc3NhZ2UuYWN0aW9uTmFtZVxuICB9O1xufVxuZnVuY3Rpb24gZ3FsSW1hZ2VNZXNzYWdlVG9BR1VJTWVzc2FnZShtZXNzYWdlKSB7XG4gIGlmICghdmFsaWRhdGVJbWFnZUZvcm1hdChtZXNzYWdlLmZvcm1hdCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgSW52YWxpZCBpbWFnZSBmb3JtYXQ6ICR7bWVzc2FnZS5mb3JtYXR9LiBTdXBwb3J0ZWQgZm9ybWF0cyBhcmU6ICR7VkFMSURfSU1BR0VfRk9STUFUUy5qb2luKFwiLCBcIil9YFxuICAgICk7XG4gIH1cbiAgaWYgKCFtZXNzYWdlLmJ5dGVzIHx8IHR5cGVvZiBtZXNzYWdlLmJ5dGVzICE9PSBcInN0cmluZ1wiIHx8IG1lc3NhZ2UuYnl0ZXMudHJpbSgpID09PSBcIlwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW1hZ2UgYnl0ZXMgbXVzdCBiZSBhIG5vbi1lbXB0eSBzdHJpbmdcIik7XG4gIH1cbiAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZSA9PT0gUm9sZS5Bc3Npc3RhbnQgPyBcImFzc2lzdGFudFwiIDogXCJ1c2VyXCI7XG4gIGNvbnN0IGltYWdlTWVzc2FnZSA9IHtcbiAgICBpZDogbWVzc2FnZS5pZCxcbiAgICByb2xlLFxuICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgaW1hZ2U6IHtcbiAgICAgIGZvcm1hdDogbWVzc2FnZS5mb3JtYXQsXG4gICAgICBieXRlczogbWVzc2FnZS5ieXRlc1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGltYWdlTWVzc2FnZTtcbn1cblxuZXhwb3J0IHtcbiAgZ3FsVG9BR1VJLFxuICBncWxBY3Rpb25FeGVjdXRpb25NZXNzYWdlVG9BR1VJTWVzc2FnZSxcbiAgZ3FsVGV4dE1lc3NhZ2VUb0FHVUlNZXNzYWdlLFxuICBncWxSZXN1bHRNZXNzYWdlVG9BR1VJTWVzc2FnZSxcbiAgZ3FsSW1hZ2VNZXNzYWdlVG9BR1VJTWVzc2FnZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVdYQTNVUDdJLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-WXA3UP7I.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-X2UAP3QY.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@copilotkit/runtime-client-gql/dist/chunk-X2UAP3QY.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAvailableAgentsQuery: () => (/* binding */ getAvailableAgentsQuery),\n/* harmony export */   loadAgentStateQuery: () => (/* binding */ loadAgentStateQuery)\n/* harmony export */ });\n/* harmony import */ var _chunk_4KTMZMM2_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-4KTMZMM2.mjs */ \"(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-4KTMZMM2.mjs\");\n\n\n// src/graphql/definitions/queries.ts\nvar getAvailableAgentsQuery = (0,_chunk_4KTMZMM2_mjs__WEBPACK_IMPORTED_MODULE_0__.graphql)(\n  /** GraphQL **/\n  `\n  query availableAgents {\n    availableAgents {\n      agents {\n        name\n        id\n        description\n      }\n    }\n  }\n`\n);\nvar loadAgentStateQuery = (0,_chunk_4KTMZMM2_mjs__WEBPACK_IMPORTED_MODULE_0__.graphql)(\n  /** GraphQL **/\n  `\n  query loadAgentState($data: LoadAgentStateInput!) {\n    loadAgentState(data: $data) {\n      threadId\n      threadExists\n      state\n      messages\n    }\n  }\n`\n);\n\n\n//# sourceMappingURL=chunk-X2UAP3QY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvcnVudGltZS1jbGllbnQtZ3FsL2Rpc3QvY2h1bmstWDJVQVAzUVkubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDQSw4QkFBOEIsNERBQU87QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNERBQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUtFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3J1bnRpbWUtY2xpZW50LWdxbC9kaXN0L2NodW5rLVgyVUFQM1FZLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBncmFwaHFsXG59IGZyb20gXCIuL2NodW5rLTRLVE1aTU0yLm1qc1wiO1xuXG4vLyBzcmMvZ3JhcGhxbC9kZWZpbml0aW9ucy9xdWVyaWVzLnRzXG52YXIgZ2V0QXZhaWxhYmxlQWdlbnRzUXVlcnkgPSBncmFwaHFsKFxuICAvKiogR3JhcGhRTCAqKi9cbiAgYFxuICBxdWVyeSBhdmFpbGFibGVBZ2VudHMge1xuICAgIGF2YWlsYWJsZUFnZW50cyB7XG4gICAgICBhZ2VudHMge1xuICAgICAgICBuYW1lXG4gICAgICAgIGlkXG4gICAgICAgIGRlc2NyaXB0aW9uXG4gICAgICB9XG4gICAgfVxuICB9XG5gXG4pO1xudmFyIGxvYWRBZ2VudFN0YXRlUXVlcnkgPSBncmFwaHFsKFxuICAvKiogR3JhcGhRTCAqKi9cbiAgYFxuICBxdWVyeSBsb2FkQWdlbnRTdGF0ZSgkZGF0YTogTG9hZEFnZW50U3RhdGVJbnB1dCEpIHtcbiAgICBsb2FkQWdlbnRTdGF0ZShkYXRhOiAkZGF0YSkge1xuICAgICAgdGhyZWFkSWRcbiAgICAgIHRocmVhZEV4aXN0c1xuICAgICAgc3RhdGVcbiAgICAgIG1lc3NhZ2VzXG4gICAgfVxuICB9XG5gXG4pO1xuXG5leHBvcnQge1xuICBnZXRBdmFpbGFibGVBZ2VudHNRdWVyeSxcbiAgbG9hZEFnZW50U3RhdGVRdWVyeVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVgyVUFQM1FZLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/runtime-client-gql/dist/chunk-X2UAP3QY.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-2KQ6HEWZ.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-2KQ6HEWZ.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionParametersToJsonSchema: () => (/* binding */ actionParametersToJsonSchema),\n/* harmony export */   convertJsonSchemaToZodSchema: () => (/* binding */ convertJsonSchemaToZodSchema),\n/* harmony export */   jsonSchemaToActionParameters: () => (/* binding */ jsonSchemaToActionParameters)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(ssr)/./node_modules/zod/v3/types.js\");\n// src/utils/json-schema.ts\n\nfunction actionParametersToJsonSchema(actionParameters) {\n  let parameters = {};\n  for (let parameter of actionParameters || []) {\n    parameters[parameter.name] = convertAttribute(parameter);\n  }\n  let requiredParameterNames = [];\n  for (let arg of actionParameters || []) {\n    if (arg.required !== false) {\n      requiredParameterNames.push(arg.name);\n    }\n  }\n  return {\n    type: \"object\",\n    properties: parameters,\n    required: requiredParameterNames\n  };\n}\nfunction jsonSchemaToActionParameters(jsonSchema) {\n  if (jsonSchema.type !== \"object\" || !jsonSchema.properties) {\n    return [];\n  }\n  const parameters = [];\n  const requiredFields = jsonSchema.required || [];\n  for (const [name, schema] of Object.entries(jsonSchema.properties)) {\n    const parameter = convertJsonSchemaToParameter(name, schema, requiredFields.includes(name));\n    parameters.push(parameter);\n  }\n  return parameters;\n}\nfunction convertJsonSchemaToParameter(name, schema, isRequired) {\n  const baseParameter = {\n    name,\n    description: schema.description\n  };\n  if (!isRequired) {\n    baseParameter.required = false;\n  }\n  switch (schema.type) {\n    case \"string\":\n      return {\n        ...baseParameter,\n        type: \"string\",\n        ...schema.enum && { enum: schema.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        ...baseParameter,\n        type: schema.type\n      };\n    case \"object\":\n      if (schema.properties) {\n        const attributes = [];\n        const requiredFields = schema.required || [];\n        for (const [propName, propSchema] of Object.entries(schema.properties)) {\n          attributes.push(\n            convertJsonSchemaToParameter(propName, propSchema, requiredFields.includes(propName))\n          );\n        }\n        return {\n          ...baseParameter,\n          type: \"object\",\n          attributes\n        };\n      }\n      return {\n        ...baseParameter,\n        type: \"object\"\n      };\n    case \"array\":\n      if (schema.items.type === \"object\" && \"properties\" in schema.items) {\n        const attributes = [];\n        const requiredFields = schema.items.required || [];\n        for (const [propName, propSchema] of Object.entries(schema.items.properties || {})) {\n          attributes.push(\n            convertJsonSchemaToParameter(propName, propSchema, requiredFields.includes(propName))\n          );\n        }\n        return {\n          ...baseParameter,\n          type: \"object[]\",\n          attributes\n        };\n      } else if (schema.items.type === \"array\") {\n        throw new Error(\"Nested arrays are not supported\");\n      } else {\n        return {\n          ...baseParameter,\n          type: `${schema.items.type}[]`\n        };\n      }\n    default:\n      return {\n        ...baseParameter,\n        type: \"string\"\n      };\n  }\n}\nfunction convertAttribute(attribute) {\n  var _a, _b, _c;\n  switch (attribute.type) {\n    case \"string\":\n      return {\n        type: \"string\",\n        description: attribute.description,\n        ...attribute.enum && { enum: attribute.enum }\n      };\n    case \"number\":\n    case \"boolean\":\n      return {\n        type: attribute.type,\n        description: attribute.description\n      };\n    case \"object\":\n    case \"object[]\":\n      const properties = (_a = attribute.attributes) == null ? void 0 : _a.reduce(\n        (acc, attr) => {\n          acc[attr.name] = convertAttribute(attr);\n          return acc;\n        },\n        {}\n      );\n      const required = (_b = attribute.attributes) == null ? void 0 : _b.filter((attr) => attr.required !== false).map((attr) => attr.name);\n      if (attribute.type === \"object[]\") {\n        return {\n          type: \"array\",\n          items: {\n            type: \"object\",\n            ...properties && { properties },\n            ...required && required.length > 0 && { required }\n          },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"object\",\n        description: attribute.description,\n        ...properties && { properties },\n        ...required && required.length > 0 && { required }\n      };\n    default:\n      if ((_c = attribute.type) == null ? void 0 : _c.endsWith(\"[]\")) {\n        const itemType = attribute.type.slice(0, -2);\n        return {\n          type: \"array\",\n          items: { type: itemType },\n          description: attribute.description\n        };\n      }\n      return {\n        type: \"string\",\n        description: attribute.description\n      };\n  }\n}\nfunction convertJsonSchemaToZodSchema(jsonSchema, required) {\n  if (jsonSchema.type === \"object\") {\n    const spec = {};\n    if (!jsonSchema.properties || !Object.keys(jsonSchema.properties).length) {\n      return !required ? zod__WEBPACK_IMPORTED_MODULE_0__.object(spec).optional() : zod__WEBPACK_IMPORTED_MODULE_0__.object(spec);\n    }\n    for (const [key, value] of Object.entries(jsonSchema.properties)) {\n      spec[key] = convertJsonSchemaToZodSchema(\n        value,\n        jsonSchema.required ? jsonSchema.required.includes(key) : false\n      );\n    }\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.object(spec).describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"string\") {\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.string().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"number\") {\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.number().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"boolean\") {\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.boolean().describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  } else if (jsonSchema.type === \"array\") {\n    let itemSchema = convertJsonSchemaToZodSchema(jsonSchema.items, true);\n    let schema = zod__WEBPACK_IMPORTED_MODULE_0__.array(itemSchema).describe(jsonSchema.description);\n    return required ? schema : schema.optional();\n  }\n  throw new Error(\"Invalid JSON schema\");\n}\n\n\n//# sourceMappingURL=chunk-2KQ6HEWZ.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstMktRNkhFV1oubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUN3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsbUJBQW1CLGtCQUFrQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFlBQVk7QUFDM0Msb0RBQW9EO0FBQ3BELFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsWUFBWTtBQUN2QyxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1Q0FBUSxvQkFBb0IsdUNBQVE7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdUNBQVE7QUFDekI7QUFDQSxJQUFJO0FBQ0osaUJBQWlCLHVDQUFRO0FBQ3pCO0FBQ0EsSUFBSTtBQUNKLGlCQUFpQix1Q0FBUTtBQUN6QjtBQUNBLElBQUk7QUFDSixpQkFBaUIsd0NBQVM7QUFDMUI7QUFDQSxJQUFJO0FBQ0o7QUFDQSxpQkFBaUIsc0NBQU87QUFDeEI7QUFDQTtBQUNBO0FBQ0E7O0FBTUU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstMktRNkhFV1oubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9qc29uLXNjaGVtYS50c1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmZ1bmN0aW9uIGFjdGlvblBhcmFtZXRlcnNUb0pzb25TY2hlbWEoYWN0aW9uUGFyYW1ldGVycykge1xuICBsZXQgcGFyYW1ldGVycyA9IHt9O1xuICBmb3IgKGxldCBwYXJhbWV0ZXIgb2YgYWN0aW9uUGFyYW1ldGVycyB8fCBbXSkge1xuICAgIHBhcmFtZXRlcnNbcGFyYW1ldGVyLm5hbWVdID0gY29udmVydEF0dHJpYnV0ZShwYXJhbWV0ZXIpO1xuICB9XG4gIGxldCByZXF1aXJlZFBhcmFtZXRlck5hbWVzID0gW107XG4gIGZvciAobGV0IGFyZyBvZiBhY3Rpb25QYXJhbWV0ZXJzIHx8IFtdKSB7XG4gICAgaWYgKGFyZy5yZXF1aXJlZCAhPT0gZmFsc2UpIHtcbiAgICAgIHJlcXVpcmVkUGFyYW1ldGVyTmFtZXMucHVzaChhcmcubmFtZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJvYmplY3RcIixcbiAgICBwcm9wZXJ0aWVzOiBwYXJhbWV0ZXJzLFxuICAgIHJlcXVpcmVkOiByZXF1aXJlZFBhcmFtZXRlck5hbWVzXG4gIH07XG59XG5mdW5jdGlvbiBqc29uU2NoZW1hVG9BY3Rpb25QYXJhbWV0ZXJzKGpzb25TY2hlbWEpIHtcbiAgaWYgKGpzb25TY2hlbWEudHlwZSAhPT0gXCJvYmplY3RcIiB8fCAhanNvblNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHBhcmFtZXRlcnMgPSBbXTtcbiAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBqc29uU2NoZW1hLnJlcXVpcmVkIHx8IFtdO1xuICBmb3IgKGNvbnN0IFtuYW1lLCBzY2hlbWFdIG9mIE9iamVjdC5lbnRyaWVzKGpzb25TY2hlbWEucHJvcGVydGllcykpIHtcbiAgICBjb25zdCBwYXJhbWV0ZXIgPSBjb252ZXJ0SnNvblNjaGVtYVRvUGFyYW1ldGVyKG5hbWUsIHNjaGVtYSwgcmVxdWlyZWRGaWVsZHMuaW5jbHVkZXMobmFtZSkpO1xuICAgIHBhcmFtZXRlcnMucHVzaChwYXJhbWV0ZXIpO1xuICB9XG4gIHJldHVybiBwYXJhbWV0ZXJzO1xufVxuZnVuY3Rpb24gY29udmVydEpzb25TY2hlbWFUb1BhcmFtZXRlcihuYW1lLCBzY2hlbWEsIGlzUmVxdWlyZWQpIHtcbiAgY29uc3QgYmFzZVBhcmFtZXRlciA9IHtcbiAgICBuYW1lLFxuICAgIGRlc2NyaXB0aW9uOiBzY2hlbWEuZGVzY3JpcHRpb25cbiAgfTtcbiAgaWYgKCFpc1JlcXVpcmVkKSB7XG4gICAgYmFzZVBhcmFtZXRlci5yZXF1aXJlZCA9IGZhbHNlO1xuICB9XG4gIHN3aXRjaCAoc2NoZW1hLnR5cGUpIHtcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlUGFyYW1ldGVyLFxuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAuLi5zY2hlbWEuZW51bSAmJiB7IGVudW06IHNjaGVtYS5lbnVtIH1cbiAgICAgIH07XG4gICAgY2FzZSBcIm51bWJlclwiOlxuICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlUGFyYW1ldGVyLFxuICAgICAgICB0eXBlOiBzY2hlbWEudHlwZVxuICAgICAgfTtcbiAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICBpZiAoc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IFtdO1xuICAgICAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IHNjaGVtYS5yZXF1aXJlZCB8fCBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbcHJvcE5hbWUsIHByb3BTY2hlbWFdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYS5wcm9wZXJ0aWVzKSkge1xuICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChcbiAgICAgICAgICAgIGNvbnZlcnRKc29uU2NoZW1hVG9QYXJhbWV0ZXIocHJvcE5hbWUsIHByb3BTY2hlbWEsIHJlcXVpcmVkRmllbGRzLmluY2x1ZGVzKHByb3BOYW1lKSlcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYmFzZVBhcmFtZXRlcixcbiAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgIGF0dHJpYnV0ZXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJhc2VQYXJhbWV0ZXIsXG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCJcbiAgICAgIH07XG4gICAgY2FzZSBcImFycmF5XCI6XG4gICAgICBpZiAoc2NoZW1hLml0ZW1zLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9wZXJ0aWVzXCIgaW4gc2NoZW1hLml0ZW1zKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBzY2hlbWEuaXRlbXMucmVxdWlyZWQgfHwgW107XG4gICAgICAgIGZvciAoY29uc3QgW3Byb3BOYW1lLCBwcm9wU2NoZW1hXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEuaXRlbXMucHJvcGVydGllcyB8fCB7fSkpIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goXG4gICAgICAgICAgICBjb252ZXJ0SnNvblNjaGVtYVRvUGFyYW1ldGVyKHByb3BOYW1lLCBwcm9wU2NoZW1hLCByZXF1aXJlZEZpZWxkcy5pbmNsdWRlcyhwcm9wTmFtZSkpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmJhc2VQYXJhbWV0ZXIsXG4gICAgICAgICAgdHlwZTogXCJvYmplY3RbXVwiLFxuICAgICAgICAgIGF0dHJpYnV0ZXNcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoc2NoZW1hLml0ZW1zLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXN0ZWQgYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5iYXNlUGFyYW1ldGVyLFxuICAgICAgICAgIHR5cGU6IGAke3NjaGVtYS5pdGVtcy50eXBlfVtdYFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5iYXNlUGFyYW1ldGVyLFxuICAgICAgICB0eXBlOiBcInN0cmluZ1wiXG4gICAgICB9O1xuICB9XG59XG5mdW5jdGlvbiBjb252ZXJ0QXR0cmlidXRlKGF0dHJpYnV0ZSkge1xuICB2YXIgX2EsIF9iLCBfYztcbiAgc3dpdGNoIChhdHRyaWJ1dGUudHlwZSkge1xuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBhdHRyaWJ1dGUuZGVzY3JpcHRpb24sXG4gICAgICAgIC4uLmF0dHJpYnV0ZS5lbnVtICYmIHsgZW51bTogYXR0cmlidXRlLmVudW0gfVxuICAgICAgfTtcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IGF0dHJpYnV0ZS50eXBlLFxuICAgICAgICBkZXNjcmlwdGlvbjogYXR0cmlidXRlLmRlc2NyaXB0aW9uXG4gICAgICB9O1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICBjYXNlIFwib2JqZWN0W11cIjpcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSAoX2EgPSBhdHRyaWJ1dGUuYXR0cmlidXRlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlZHVjZShcbiAgICAgICAgKGFjYywgYXR0cikgPT4ge1xuICAgICAgICAgIGFjY1thdHRyLm5hbWVdID0gY29udmVydEF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LFxuICAgICAgICB7fVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlcXVpcmVkID0gKF9iID0gYXR0cmlidXRlLmF0dHJpYnV0ZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5maWx0ZXIoKGF0dHIpID0+IGF0dHIucmVxdWlyZWQgIT09IGZhbHNlKS5tYXAoKGF0dHIpID0+IGF0dHIubmFtZSk7XG4gICAgICBpZiAoYXR0cmlidXRlLnR5cGUgPT09IFwib2JqZWN0W11cIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXMgJiYgeyBwcm9wZXJ0aWVzIH0sXG4gICAgICAgICAgICAuLi5yZXF1aXJlZCAmJiByZXF1aXJlZC5sZW5ndGggPiAwICYmIHsgcmVxdWlyZWQgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgLi4ucHJvcGVydGllcyAmJiB7IHByb3BlcnRpZXMgfSxcbiAgICAgICAgLi4ucmVxdWlyZWQgJiYgcmVxdWlyZWQubGVuZ3RoID4gMCAmJiB7IHJlcXVpcmVkIH1cbiAgICAgIH07XG4gICAgZGVmYXVsdDpcbiAgICAgIGlmICgoX2MgPSBhdHRyaWJ1dGUudHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmVuZHNXaXRoKFwiW11cIikpIHtcbiAgICAgICAgY29uc3QgaXRlbVR5cGUgPSBhdHRyaWJ1dGUudHlwZS5zbGljZSgwLCAtMik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgIGl0ZW1zOiB7IHR5cGU6IGl0ZW1UeXBlIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZGVzY3JpcHRpb246IGF0dHJpYnV0ZS5kZXNjcmlwdGlvblxuICAgICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gY29udmVydEpzb25TY2hlbWFUb1pvZFNjaGVtYShqc29uU2NoZW1hLCByZXF1aXJlZCkge1xuICBpZiAoanNvblNjaGVtYS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgY29uc3Qgc3BlYyA9IHt9O1xuICAgIGlmICghanNvblNjaGVtYS5wcm9wZXJ0aWVzIHx8ICFPYmplY3Qua2V5cyhqc29uU2NoZW1hLnByb3BlcnRpZXMpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICFyZXF1aXJlZCA/IHoub2JqZWN0KHNwZWMpLm9wdGlvbmFsKCkgOiB6Lm9iamVjdChzcGVjKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoanNvblNjaGVtYS5wcm9wZXJ0aWVzKSkge1xuICAgICAgc3BlY1trZXldID0gY29udmVydEpzb25TY2hlbWFUb1pvZFNjaGVtYShcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGpzb25TY2hlbWEucmVxdWlyZWQgPyBqc29uU2NoZW1hLnJlcXVpcmVkLmluY2x1ZGVzKGtleSkgOiBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHNjaGVtYSA9IHoub2JqZWN0KHNwZWMpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9IGVsc2UgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxldCBzY2hlbWEgPSB6LnN0cmluZygpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9IGVsc2UgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJudW1iZXJcIikge1xuICAgIGxldCBzY2hlbWEgPSB6Lm51bWJlcigpLmRlc2NyaWJlKGpzb25TY2hlbWEuZGVzY3JpcHRpb24pO1xuICAgIHJldHVybiByZXF1aXJlZCA/IHNjaGVtYSA6IHNjaGVtYS5vcHRpb25hbCgpO1xuICB9IGVsc2UgaWYgKGpzb25TY2hlbWEudHlwZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICBsZXQgc2NoZW1hID0gei5ib29sZWFuKCkuZGVzY3JpYmUoanNvblNjaGVtYS5kZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHJlcXVpcmVkID8gc2NoZW1hIDogc2NoZW1hLm9wdGlvbmFsKCk7XG4gIH0gZWxzZSBpZiAoanNvblNjaGVtYS50eXBlID09PSBcImFycmF5XCIpIHtcbiAgICBsZXQgaXRlbVNjaGVtYSA9IGNvbnZlcnRKc29uU2NoZW1hVG9ab2RTY2hlbWEoanNvblNjaGVtYS5pdGVtcywgdHJ1ZSk7XG4gICAgbGV0IHNjaGVtYSA9IHouYXJyYXkoaXRlbVNjaGVtYSkuZGVzY3JpYmUoanNvblNjaGVtYS5kZXNjcmlwdGlvbik7XG4gICAgcmV0dXJuIHJlcXVpcmVkID8gc2NoZW1hIDogc2NoZW1hLm9wdGlvbmFsKCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBKU09OIHNjaGVtYVwiKTtcbn1cblxuZXhwb3J0IHtcbiAgYWN0aW9uUGFyYW1ldGVyc1RvSnNvblNjaGVtYSxcbiAganNvblNjaGVtYVRvQWN0aW9uUGFyYW1ldGVycyxcbiAgY29udmVydEpzb25TY2hlbWFUb1pvZFNjaGVtYVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTJLUTZIRVdaLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-2KQ6HEWZ.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6W2UEO2M.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-6W2UEO2M.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ConsoleColors: () => (/* binding */ ConsoleColors),\n/* harmony export */   ConsoleStyles: () => (/* binding */ ConsoleStyles),\n/* harmony export */   logCopilotKitPlatformMessage: () => (/* binding */ logCopilotKitPlatformMessage),\n/* harmony export */   logStyled: () => (/* binding */ logStyled),\n/* harmony export */   publicApiKeyRequired: () => (/* binding */ publicApiKeyRequired),\n/* harmony export */   styledConsole: () => (/* binding */ styledConsole)\n/* harmony export */ });\n// src/utils/console-styling.ts\nvar ConsoleColors = {\n  /** Primary brand blue - for titles and links */\n  primary: \"#007acc\",\n  /** Success green - for positive messaging */\n  success: \"#22c55e\",\n  /** Purple - for feature highlights */\n  feature: \"#a855f7\",\n  /** Red - for calls-to-action */\n  cta: \"#ef4444\",\n  /** Cyan - for closing statements */\n  info: \"#06b6d4\",\n  /** Inherit console default - for body text */\n  inherit: \"inherit\",\n  /** Warning style */\n  warning: \"#f59e0b\"\n};\nvar ConsoleStyles = {\n  /** Large header style */\n  header: `color: ${ConsoleColors.warning}; font-weight: bold; font-size: 16px;`,\n  /** Section header style */\n  section: `color: ${ConsoleColors.success}; font-weight: bold;`,\n  /** Feature highlight style */\n  highlight: `color: ${ConsoleColors.feature}; font-weight: bold;`,\n  /** Call-to-action style */\n  cta: `color: ${ConsoleColors.success}; font-weight: bold;`,\n  /** Info style */\n  info: `color: ${ConsoleColors.info}; font-weight: bold;`,\n  /** Link style */\n  link: `color: ${ConsoleColors.primary}; text-decoration: underline;`,\n  /** Body text - inherits console theme */\n  body: `color: ${ConsoleColors.inherit};`,\n  /** Warning style */\n  warning: `color: ${ConsoleColors.cta}; font-weight: bold;`\n};\nfunction logCopilotKitPlatformMessage() {\n  console.log(\n    `%cCopilotKit Warning%c\n\nuseCopilotChatHeadless_c provides full compatibility with CopilotKit's newly released Headless UI feature set. To enable this premium feature, add your public license key, available for free at:\n\n%chttps://cloud.copilotkit.ai%c\n\nAlternatively, useCopilotChat is available for basic programmatic control, and does not require an API key.\n\nTo learn more about premium features, read the documentation here:\n\n%chttps://docs.copilotkit.ai/premium%c`,\n    ConsoleStyles.header,\n    ConsoleStyles.body,\n    ConsoleStyles.cta,\n    ConsoleStyles.body,\n    ConsoleStyles.link,\n    ConsoleStyles.body\n  );\n}\nfunction publicApiKeyRequired(feature) {\n  console.log(\n    `\n%cCopilotKit Warning%c \n\nIn order to use ${feature}, you need to add your CopilotKit API key, available for free at https://cloud.copilotkit.ai.\n    `.trim(),\n    ConsoleStyles.header,\n    ConsoleStyles.body\n  );\n}\nfunction logStyled(template, styles) {\n  console.log(template, ...styles);\n}\nvar styledConsole = {\n  /** Log a success message */\n  success: (message) => logStyled(`%c\\u2705 ${message}`, [ConsoleStyles.section]),\n  /** Log an info message */\n  info: (message) => logStyled(`%c\\u2139\\uFE0F ${message}`, [ConsoleStyles.info]),\n  /** Log a feature highlight */\n  feature: (message) => logStyled(`%c\\u2728 ${message}`, [ConsoleStyles.highlight]),\n  /** Log a call-to-action */\n  cta: (message) => logStyled(`%c\\u{1F680} ${message}`, [ConsoleStyles.cta]),\n  /** Log the CopilotKit platform promotion */\n  logCopilotKitPlatformMessage,\n  /** Log a `publicApiKeyRequired` warning */\n  publicApiKeyRequired\n};\n\n\n//# sourceMappingURL=chunk-6W2UEO2M.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstNlcyVUVPMk0ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHdCQUF3QixtQkFBbUIsZ0JBQWdCO0FBQy9FO0FBQ0EscUJBQXFCLHdCQUF3QixrQkFBa0I7QUFDL0Q7QUFDQSx1QkFBdUIsd0JBQXdCLGtCQUFrQjtBQUNqRTtBQUNBLGlCQUFpQix3QkFBd0Isa0JBQWtCO0FBQzNEO0FBQ0Esa0JBQWtCLHFCQUFxQixrQkFBa0I7QUFDekQ7QUFDQSxrQkFBa0Isd0JBQXdCLDJCQUEyQjtBQUNyRTtBQUNBLGtCQUFrQix1QkFBdUI7QUFDekM7QUFDQSxxQkFBcUIsb0JBQW9CLGtCQUFrQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsUUFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxRQUFRO0FBQ3REO0FBQ0EsaURBQWlELFFBQVE7QUFDekQ7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBLG9DQUFvQyxPQUFPLEVBQUUsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVNFO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLTZXMlVFTzJNLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbHMvY29uc29sZS1zdHlsaW5nLnRzXG52YXIgQ29uc29sZUNvbG9ycyA9IHtcbiAgLyoqIFByaW1hcnkgYnJhbmQgYmx1ZSAtIGZvciB0aXRsZXMgYW5kIGxpbmtzICovXG4gIHByaW1hcnk6IFwiIzAwN2FjY1wiLFxuICAvKiogU3VjY2VzcyBncmVlbiAtIGZvciBwb3NpdGl2ZSBtZXNzYWdpbmcgKi9cbiAgc3VjY2VzczogXCIjMjJjNTVlXCIsXG4gIC8qKiBQdXJwbGUgLSBmb3IgZmVhdHVyZSBoaWdobGlnaHRzICovXG4gIGZlYXR1cmU6IFwiI2E4NTVmN1wiLFxuICAvKiogUmVkIC0gZm9yIGNhbGxzLXRvLWFjdGlvbiAqL1xuICBjdGE6IFwiI2VmNDQ0NFwiLFxuICAvKiogQ3lhbiAtIGZvciBjbG9zaW5nIHN0YXRlbWVudHMgKi9cbiAgaW5mbzogXCIjMDZiNmQ0XCIsXG4gIC8qKiBJbmhlcml0IGNvbnNvbGUgZGVmYXVsdCAtIGZvciBib2R5IHRleHQgKi9cbiAgaW5oZXJpdDogXCJpbmhlcml0XCIsXG4gIC8qKiBXYXJuaW5nIHN0eWxlICovXG4gIHdhcm5pbmc6IFwiI2Y1OWUwYlwiXG59O1xudmFyIENvbnNvbGVTdHlsZXMgPSB7XG4gIC8qKiBMYXJnZSBoZWFkZXIgc3R5bGUgKi9cbiAgaGVhZGVyOiBgY29sb3I6ICR7Q29uc29sZUNvbG9ycy53YXJuaW5nfTsgZm9udC13ZWlnaHQ6IGJvbGQ7IGZvbnQtc2l6ZTogMTZweDtgLFxuICAvKiogU2VjdGlvbiBoZWFkZXIgc3R5bGUgKi9cbiAgc2VjdGlvbjogYGNvbG9yOiAke0NvbnNvbGVDb2xvcnMuc3VjY2Vzc307IGZvbnQtd2VpZ2h0OiBib2xkO2AsXG4gIC8qKiBGZWF0dXJlIGhpZ2hsaWdodCBzdHlsZSAqL1xuICBoaWdobGlnaHQ6IGBjb2xvcjogJHtDb25zb2xlQ29sb3JzLmZlYXR1cmV9OyBmb250LXdlaWdodDogYm9sZDtgLFxuICAvKiogQ2FsbC10by1hY3Rpb24gc3R5bGUgKi9cbiAgY3RhOiBgY29sb3I6ICR7Q29uc29sZUNvbG9ycy5zdWNjZXNzfTsgZm9udC13ZWlnaHQ6IGJvbGQ7YCxcbiAgLyoqIEluZm8gc3R5bGUgKi9cbiAgaW5mbzogYGNvbG9yOiAke0NvbnNvbGVDb2xvcnMuaW5mb307IGZvbnQtd2VpZ2h0OiBib2xkO2AsXG4gIC8qKiBMaW5rIHN0eWxlICovXG4gIGxpbms6IGBjb2xvcjogJHtDb25zb2xlQ29sb3JzLnByaW1hcnl9OyB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtgLFxuICAvKiogQm9keSB0ZXh0IC0gaW5oZXJpdHMgY29uc29sZSB0aGVtZSAqL1xuICBib2R5OiBgY29sb3I6ICR7Q29uc29sZUNvbG9ycy5pbmhlcml0fTtgLFxuICAvKiogV2FybmluZyBzdHlsZSAqL1xuICB3YXJuaW5nOiBgY29sb3I6ICR7Q29uc29sZUNvbG9ycy5jdGF9OyBmb250LXdlaWdodDogYm9sZDtgXG59O1xuZnVuY3Rpb24gbG9nQ29waWxvdEtpdFBsYXRmb3JtTWVzc2FnZSgpIHtcbiAgY29uc29sZS5sb2coXG4gICAgYCVjQ29waWxvdEtpdCBXYXJuaW5nJWNcblxudXNlQ29waWxvdENoYXRIZWFkbGVzc19jIHByb3ZpZGVzIGZ1bGwgY29tcGF0aWJpbGl0eSB3aXRoIENvcGlsb3RLaXQncyBuZXdseSByZWxlYXNlZCBIZWFkbGVzcyBVSSBmZWF0dXJlIHNldC4gVG8gZW5hYmxlIHRoaXMgcHJlbWl1bSBmZWF0dXJlLCBhZGQgeW91ciBwdWJsaWMgbGljZW5zZSBrZXksIGF2YWlsYWJsZSBmb3IgZnJlZSBhdDpcblxuJWNodHRwczovL2Nsb3VkLmNvcGlsb3RraXQuYWklY1xuXG5BbHRlcm5hdGl2ZWx5LCB1c2VDb3BpbG90Q2hhdCBpcyBhdmFpbGFibGUgZm9yIGJhc2ljIHByb2dyYW1tYXRpYyBjb250cm9sLCBhbmQgZG9lcyBub3QgcmVxdWlyZSBhbiBBUEkga2V5LlxuXG5UbyBsZWFybiBtb3JlIGFib3V0IHByZW1pdW0gZmVhdHVyZXMsIHJlYWQgdGhlIGRvY3VtZW50YXRpb24gaGVyZTpcblxuJWNodHRwczovL2RvY3MuY29waWxvdGtpdC5haS9wcmVtaXVtJWNgLFxuICAgIENvbnNvbGVTdHlsZXMuaGVhZGVyLFxuICAgIENvbnNvbGVTdHlsZXMuYm9keSxcbiAgICBDb25zb2xlU3R5bGVzLmN0YSxcbiAgICBDb25zb2xlU3R5bGVzLmJvZHksXG4gICAgQ29uc29sZVN0eWxlcy5saW5rLFxuICAgIENvbnNvbGVTdHlsZXMuYm9keVxuICApO1xufVxuZnVuY3Rpb24gcHVibGljQXBpS2V5UmVxdWlyZWQoZmVhdHVyZSkge1xuICBjb25zb2xlLmxvZyhcbiAgICBgXG4lY0NvcGlsb3RLaXQgV2FybmluZyVjIFxuXG5JbiBvcmRlciB0byB1c2UgJHtmZWF0dXJlfSwgeW91IG5lZWQgdG8gYWRkIHlvdXIgQ29waWxvdEtpdCBBUEkga2V5LCBhdmFpbGFibGUgZm9yIGZyZWUgYXQgaHR0cHM6Ly9jbG91ZC5jb3BpbG90a2l0LmFpLlxuICAgIGAudHJpbSgpLFxuICAgIENvbnNvbGVTdHlsZXMuaGVhZGVyLFxuICAgIENvbnNvbGVTdHlsZXMuYm9keVxuICApO1xufVxuZnVuY3Rpb24gbG9nU3R5bGVkKHRlbXBsYXRlLCBzdHlsZXMpIHtcbiAgY29uc29sZS5sb2codGVtcGxhdGUsIC4uLnN0eWxlcyk7XG59XG52YXIgc3R5bGVkQ29uc29sZSA9IHtcbiAgLyoqIExvZyBhIHN1Y2Nlc3MgbWVzc2FnZSAqL1xuICBzdWNjZXNzOiAobWVzc2FnZSkgPT4gbG9nU3R5bGVkKGAlY1xcdTI3MDUgJHttZXNzYWdlfWAsIFtDb25zb2xlU3R5bGVzLnNlY3Rpb25dKSxcbiAgLyoqIExvZyBhbiBpbmZvIG1lc3NhZ2UgKi9cbiAgaW5mbzogKG1lc3NhZ2UpID0+IGxvZ1N0eWxlZChgJWNcXHUyMTM5XFx1RkUwRiAke21lc3NhZ2V9YCwgW0NvbnNvbGVTdHlsZXMuaW5mb10pLFxuICAvKiogTG9nIGEgZmVhdHVyZSBoaWdobGlnaHQgKi9cbiAgZmVhdHVyZTogKG1lc3NhZ2UpID0+IGxvZ1N0eWxlZChgJWNcXHUyNzI4ICR7bWVzc2FnZX1gLCBbQ29uc29sZVN0eWxlcy5oaWdobGlnaHRdKSxcbiAgLyoqIExvZyBhIGNhbGwtdG8tYWN0aW9uICovXG4gIGN0YTogKG1lc3NhZ2UpID0+IGxvZ1N0eWxlZChgJWNcXHV7MUY2ODB9ICR7bWVzc2FnZX1gLCBbQ29uc29sZVN0eWxlcy5jdGFdKSxcbiAgLyoqIExvZyB0aGUgQ29waWxvdEtpdCBwbGF0Zm9ybSBwcm9tb3Rpb24gKi9cbiAgbG9nQ29waWxvdEtpdFBsYXRmb3JtTWVzc2FnZSxcbiAgLyoqIExvZyBhIGBwdWJsaWNBcGlLZXlSZXF1aXJlZGAgd2FybmluZyAqL1xuICBwdWJsaWNBcGlLZXlSZXF1aXJlZFxufTtcblxuZXhwb3J0IHtcbiAgQ29uc29sZUNvbG9ycyxcbiAgQ29uc29sZVN0eWxlcyxcbiAgbG9nQ29waWxvdEtpdFBsYXRmb3JtTWVzc2FnZSxcbiAgcHVibGljQXBpS2V5UmVxdWlyZWQsXG4gIGxvZ1N0eWxlZCxcbiAgc3R5bGVkQ29uc29sZVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLTZXMlVFTzJNLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-6W2UEO2M.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPILOT_CLOUD_API_URL: () => (/* binding */ COPILOT_CLOUD_API_URL),\n/* harmony export */   COPILOT_CLOUD_CHAT_URL: () => (/* binding */ COPILOT_CLOUD_CHAT_URL),\n/* harmony export */   COPILOT_CLOUD_PUBLIC_API_KEY_HEADER: () => (/* binding */ COPILOT_CLOUD_PUBLIC_API_KEY_HEADER),\n/* harmony export */   COPILOT_CLOUD_VERSION: () => (/* binding */ COPILOT_CLOUD_VERSION)\n/* harmony export */ });\n// src/constants/index.ts\nvar COPILOT_CLOUD_API_URL = \"https://api.cloud.copilotkit.ai\";\nvar COPILOT_CLOUD_VERSION = \"v1\";\nvar COPILOT_CLOUD_CHAT_URL = `${COPILOT_CLOUD_API_URL}/copilotkit/${COPILOT_CLOUD_VERSION}`;\nvar COPILOT_CLOUD_PUBLIC_API_KEY_HEADER = \"X-CopilotCloud-Public-Api-Key\";\n\n\n//# sourceMappingURL=chunk-GYZIHHE6.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstR1laSUhIRTYubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0JBQXNCLGNBQWMsc0JBQXNCO0FBQzFGOztBQU9FO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9kaXN0L2NodW5rLUdZWklISEU2Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29uc3RhbnRzL2luZGV4LnRzXG52YXIgQ09QSUxPVF9DTE9VRF9BUElfVVJMID0gXCJodHRwczovL2FwaS5jbG91ZC5jb3BpbG90a2l0LmFpXCI7XG52YXIgQ09QSUxPVF9DTE9VRF9WRVJTSU9OID0gXCJ2MVwiO1xudmFyIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwgPSBgJHtDT1BJTE9UX0NMT1VEX0FQSV9VUkx9L2NvcGlsb3RraXQvJHtDT1BJTE9UX0NMT1VEX1ZFUlNJT059YDtcbnZhciBDT1BJTE9UX0NMT1VEX1BVQkxJQ19BUElfS0VZX0hFQURFUiA9IFwiWC1Db3BpbG90Q2xvdWQtUHVibGljLUFwaS1LZXlcIjtcblxuZXhwb3J0IHtcbiAgQ09QSUxPVF9DTE9VRF9BUElfVVJMLFxuICBDT1BJTE9UX0NMT1VEX1ZFUlNJT04sXG4gIENPUElMT1RfQ0xPVURfQ0hBVF9VUkwsXG4gIENPUElMT1RfQ0xPVURfUFVCTElDX0FQSV9LRVlfSEVBREVSXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstR1laSUhIRTYubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-GYZIHHE6.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BANNER_ERROR_NAMES: () => (/* binding */ BANNER_ERROR_NAMES),\n/* harmony export */   COPILOTKIT_VERSION: () => (/* binding */ COPILOTKIT_VERSION),\n/* harmony export */   COPILOT_CLOUD_ERROR_NAMES: () => (/* binding */ COPILOT_CLOUD_ERROR_NAMES),\n/* harmony export */   ConfigurationError: () => (/* binding */ ConfigurationError),\n/* harmony export */   CopilotKitAgentDiscoveryError: () => (/* binding */ CopilotKitAgentDiscoveryError),\n/* harmony export */   CopilotKitApiDiscoveryError: () => (/* binding */ CopilotKitApiDiscoveryError),\n/* harmony export */   CopilotKitError: () => (/* binding */ CopilotKitError),\n/* harmony export */   CopilotKitErrorCode: () => (/* binding */ CopilotKitErrorCode),\n/* harmony export */   CopilotKitLowLevelError: () => (/* binding */ CopilotKitLowLevelError),\n/* harmony export */   CopilotKitMisuseError: () => (/* binding */ CopilotKitMisuseError),\n/* harmony export */   CopilotKitRemoteEndpointDiscoveryError: () => (/* binding */ CopilotKitRemoteEndpointDiscoveryError),\n/* harmony export */   CopilotKitVersionMismatchError: () => (/* binding */ CopilotKitVersionMismatchError),\n/* harmony export */   ERROR_CONFIG: () => (/* binding */ ERROR_CONFIG),\n/* harmony export */   ERROR_NAMES: () => (/* binding */ ERROR_NAMES),\n/* harmony export */   ErrorVisibility: () => (/* binding */ ErrorVisibility),\n/* harmony export */   MissingPublicApiKeyError: () => (/* binding */ MissingPublicApiKeyError),\n/* harmony export */   ResolvedCopilotKitError: () => (/* binding */ ResolvedCopilotKitError),\n/* harmony export */   Severity: () => (/* binding */ Severity),\n/* harmony export */   UpgradeRequiredError: () => (/* binding */ UpgradeRequiredError),\n/* harmony export */   ensureStructuredError: () => (/* binding */ ensureStructuredError),\n/* harmony export */   getPossibleVersionMismatch: () => (/* binding */ getPossibleVersionMismatch),\n/* harmony export */   isMacOS: () => (/* binding */ isMacOS),\n/* harmony export */   isStructuredCopilotKitError: () => (/* binding */ isStructuredCopilotKitError),\n/* harmony export */   parseJson: () => (/* binding */ parseJson),\n/* harmony export */   tryMap: () => (/* binding */ tryMap)\n/* harmony export */ });\n/* harmony import */ var _chunk_PCHCWQ57_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-PCHCWQ57.mjs */ \"(ssr)/./node_modules/@copilotkit/shared/dist/chunk-PCHCWQ57.mjs\");\n/* harmony import */ var graphql__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! graphql */ \"(ssr)/./node_modules/graphql/error/GraphQLError.mjs\");\n\n\n// src/utils/errors.ts\n\n\n// src/utils/index.ts\nfunction parseJson(json, fallback = \"unset\") {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    return fallback === \"unset\" ? null : fallback;\n  }\n}\nfunction tryMap(items, callback) {\n  return items.reduce((acc, item, index, array) => {\n    try {\n      acc.push(callback(item, index, array));\n    } catch (error) {\n      console.error(error);\n    }\n    return acc;\n  }, []);\n}\nfunction isMacOS() {\n  return /Mac|iMac|Macintosh/i.test(navigator.userAgent);\n}\n\n// src/index.ts\nvar COPILOTKIT_VERSION = _chunk_PCHCWQ57_mjs__WEBPACK_IMPORTED_MODULE_0__.version;\n\n// src/utils/errors.ts\nvar Severity = /* @__PURE__ */ ((Severity2) => {\n  Severity2[\"CRITICAL\"] = \"critical\";\n  Severity2[\"WARNING\"] = \"warning\";\n  Severity2[\"INFO\"] = \"info\";\n  return Severity2;\n})(Severity || {});\nvar ErrorVisibility = /* @__PURE__ */ ((ErrorVisibility2) => {\n  ErrorVisibility2[\"BANNER\"] = \"banner\";\n  ErrorVisibility2[\"TOAST\"] = \"toast\";\n  ErrorVisibility2[\"SILENT\"] = \"silent\";\n  ErrorVisibility2[\"DEV_ONLY\"] = \"dev_only\";\n  return ErrorVisibility2;\n})(ErrorVisibility || {});\nvar ERROR_NAMES = {\n  COPILOT_ERROR: \"CopilotError\",\n  COPILOT_API_DISCOVERY_ERROR: \"CopilotApiDiscoveryError\",\n  COPILOT_REMOTE_ENDPOINT_DISCOVERY_ERROR: \"CopilotKitRemoteEndpointDiscoveryError\",\n  COPILOT_KIT_AGENT_DISCOVERY_ERROR: \"CopilotKitAgentDiscoveryError\",\n  COPILOT_KIT_LOW_LEVEL_ERROR: \"CopilotKitLowLevelError\",\n  COPILOT_KIT_VERSION_MISMATCH_ERROR: \"CopilotKitVersionMismatchError\",\n  RESOLVED_COPILOT_KIT_ERROR: \"ResolvedCopilotKitError\",\n  CONFIGURATION_ERROR: \"ConfigurationError\",\n  MISSING_PUBLIC_API_KEY_ERROR: \"MissingPublicApiKeyError\",\n  UPGRADE_REQUIRED_ERROR: \"UpgradeRequiredError\"\n};\nvar BANNER_ERROR_NAMES = [\n  ERROR_NAMES.CONFIGURATION_ERROR,\n  ERROR_NAMES.MISSING_PUBLIC_API_KEY_ERROR,\n  ERROR_NAMES.UPGRADE_REQUIRED_ERROR,\n  ERROR_NAMES.COPILOT_API_DISCOVERY_ERROR,\n  ERROR_NAMES.COPILOT_REMOTE_ENDPOINT_DISCOVERY_ERROR,\n  ERROR_NAMES.COPILOT_KIT_AGENT_DISCOVERY_ERROR\n];\nvar COPILOT_CLOUD_ERROR_NAMES = BANNER_ERROR_NAMES;\nvar CopilotKitErrorCode = /* @__PURE__ */ ((CopilotKitErrorCode2) => {\n  CopilotKitErrorCode2[\"NETWORK_ERROR\"] = \"NETWORK_ERROR\";\n  CopilotKitErrorCode2[\"NOT_FOUND\"] = \"NOT_FOUND\";\n  CopilotKitErrorCode2[\"AGENT_NOT_FOUND\"] = \"AGENT_NOT_FOUND\";\n  CopilotKitErrorCode2[\"API_NOT_FOUND\"] = \"API_NOT_FOUND\";\n  CopilotKitErrorCode2[\"REMOTE_ENDPOINT_NOT_FOUND\"] = \"REMOTE_ENDPOINT_NOT_FOUND\";\n  CopilotKitErrorCode2[\"AUTHENTICATION_ERROR\"] = \"AUTHENTICATION_ERROR\";\n  CopilotKitErrorCode2[\"MISUSE\"] = \"MISUSE\";\n  CopilotKitErrorCode2[\"UNKNOWN\"] = \"UNKNOWN\";\n  CopilotKitErrorCode2[\"VERSION_MISMATCH\"] = \"VERSION_MISMATCH\";\n  CopilotKitErrorCode2[\"CONFIGURATION_ERROR\"] = \"CONFIGURATION_ERROR\";\n  CopilotKitErrorCode2[\"MISSING_PUBLIC_API_KEY_ERROR\"] = \"MISSING_PUBLIC_API_KEY_ERROR\";\n  CopilotKitErrorCode2[\"UPGRADE_REQUIRED_ERROR\"] = \"UPGRADE_REQUIRED_ERROR\";\n  return CopilotKitErrorCode2;\n})(CopilotKitErrorCode || {});\nvar BASE_URL = \"https://docs.copilotkit.ai\";\nvar getSeeMoreMarkdown = (link) => `See more: [${link}](${link})`;\nvar ERROR_CONFIG = {\n  [\"NETWORK_ERROR\" /* NETWORK_ERROR */]: {\n    statusCode: 503,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-a-network-errors--api-not-found`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"NOT_FOUND\" /* NOT_FOUND */]: {\n    statusCode: 404,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-a-network-errors--api-not-found`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"AGENT_NOT_FOUND\" /* AGENT_NOT_FOUND */]: {\n    statusCode: 500,\n    troubleshootingUrl: `${BASE_URL}/coagents/troubleshooting/common-issues#i-am-getting-agent-not-found-error`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"API_NOT_FOUND\" /* API_NOT_FOUND */]: {\n    statusCode: 404,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-a-network-errors--api-not-found`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"REMOTE_ENDPOINT_NOT_FOUND\" /* REMOTE_ENDPOINT_NOT_FOUND */]: {\n    statusCode: 404,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#i-am-getting-copilotkits-remote-endpoint-not-found-error`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"AUTHENTICATION_ERROR\" /* AUTHENTICATION_ERROR */]: {\n    statusCode: 401,\n    troubleshootingUrl: `${BASE_URL}/troubleshooting/common-issues#authentication-errors`,\n    visibility: \"banner\" /* BANNER */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"MISUSE\" /* MISUSE */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    visibility: \"dev_only\" /* DEV_ONLY */,\n    severity: \"warning\" /* WARNING */\n  },\n  [\"UNKNOWN\" /* UNKNOWN */]: {\n    statusCode: 500,\n    visibility: \"toast\" /* TOAST */,\n    severity: \"critical\" /* CRITICAL */\n  },\n  [\"CONFIGURATION_ERROR\" /* CONFIGURATION_ERROR */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    severity: \"warning\" /* WARNING */,\n    visibility: \"banner\" /* BANNER */\n  },\n  [\"MISSING_PUBLIC_API_KEY_ERROR\" /* MISSING_PUBLIC_API_KEY_ERROR */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    severity: \"critical\" /* CRITICAL */,\n    visibility: \"banner\" /* BANNER */\n  },\n  [\"UPGRADE_REQUIRED_ERROR\" /* UPGRADE_REQUIRED_ERROR */]: {\n    statusCode: 402,\n    troubleshootingUrl: null,\n    severity: \"warning\" /* WARNING */,\n    visibility: \"banner\" /* BANNER */\n  },\n  [\"VERSION_MISMATCH\" /* VERSION_MISMATCH */]: {\n    statusCode: 400,\n    troubleshootingUrl: null,\n    visibility: \"dev_only\" /* DEV_ONLY */,\n    severity: \"info\" /* INFO */\n  }\n};\nvar CopilotKitError = class extends graphql__WEBPACK_IMPORTED_MODULE_1__.GraphQLError {\n  constructor({\n    message = \"Unknown error occurred\",\n    code,\n    severity,\n    visibility\n  }) {\n    const name = ERROR_NAMES.COPILOT_ERROR;\n    const config = ERROR_CONFIG[code];\n    const { statusCode } = config;\n    const resolvedVisibility = visibility ?? config.visibility ?? \"toast\" /* TOAST */;\n    const resolvedSeverity = severity ?? (\"severity\" in config ? config.severity : void 0);\n    super(message, {\n      extensions: {\n        name,\n        statusCode,\n        code,\n        visibility: resolvedVisibility,\n        severity: resolvedSeverity,\n        troubleshootingUrl: \"troubleshootingUrl\" in config ? config.troubleshootingUrl : null,\n        originalError: {\n          message,\n          stack: new Error().stack\n        }\n      }\n    });\n    this.code = code;\n    this.name = name;\n    this.statusCode = statusCode;\n    this.severity = resolvedSeverity;\n    this.visibility = resolvedVisibility;\n  }\n};\nvar CopilotKitMisuseError = class extends CopilotKitError {\n  constructor({\n    message,\n    code = \"MISUSE\" /* MISUSE */\n  }) {\n    const docsLink = \"troubleshootingUrl\" in ERROR_CONFIG[code] && ERROR_CONFIG[code].troubleshootingUrl ? getSeeMoreMarkdown(ERROR_CONFIG[code].troubleshootingUrl) : null;\n    const finalMessage = docsLink ? `${message}.\n\n${docsLink}` : message;\n    super({ message: finalMessage, code });\n    this.name = ERROR_NAMES.COPILOT_API_DISCOVERY_ERROR;\n  }\n};\nvar getVersionMismatchErrorMessage = ({\n  reactCoreVersion,\n  runtimeVersion,\n  runtimeClientGqlVersion\n}) => `Version mismatch detected: @copilotkit/runtime@${runtimeVersion ?? \"\"} is not compatible with @copilotkit/react-core@${reactCoreVersion} and @copilotkit/runtime-client-gql@${runtimeClientGqlVersion}. Please ensure all installed copilotkit packages are on the same version.`;\nvar CopilotKitVersionMismatchError = class extends CopilotKitError {\n  constructor({\n    reactCoreVersion,\n    runtimeVersion,\n    runtimeClientGqlVersion\n  }) {\n    const code = \"VERSION_MISMATCH\" /* VERSION_MISMATCH */;\n    super({\n      message: getVersionMismatchErrorMessage({\n        reactCoreVersion,\n        runtimeVersion,\n        runtimeClientGqlVersion\n      }),\n      code\n    });\n    this.name = ERROR_NAMES.COPILOT_KIT_VERSION_MISMATCH_ERROR;\n  }\n};\nvar CopilotKitApiDiscoveryError = class extends CopilotKitError {\n  constructor(params = {}) {\n    const url = params.url ?? \"\";\n    let operationSuffix = \"\";\n    if (url == null ? void 0 : url.includes(\"/info\"))\n      operationSuffix = `when fetching CopilotKit info`;\n    else if (url.includes(\"/actions/execute\"))\n      operationSuffix = `when attempting to execute actions.`;\n    else if (url.includes(\"/agents/state\"))\n      operationSuffix = `when attempting to get agent state.`;\n    else if (url.includes(\"/agents/execute\"))\n      operationSuffix = `when attempting to execute agent(s).`;\n    const message = params.message ?? (params.url ? `Failed to find CopilotKit API endpoint at url ${params.url} ${operationSuffix}` : `Failed to find CopilotKit API endpoint.`);\n    const code = params.code ?? \"API_NOT_FOUND\" /* API_NOT_FOUND */;\n    const errorMessage = `${message}.\n\n${getSeeMoreMarkdown(ERROR_CONFIG[code].troubleshootingUrl)}`;\n    super({ message: errorMessage, code });\n    this.name = ERROR_NAMES.COPILOT_API_DISCOVERY_ERROR;\n  }\n};\nvar CopilotKitRemoteEndpointDiscoveryError = class extends CopilotKitApiDiscoveryError {\n  constructor(params) {\n    const message = (params == null ? void 0 : params.message) ?? ((params == null ? void 0 : params.url) ? `Failed to find or contact remote endpoint at url ${params.url}` : \"Failed to find or contact remote endpoint\");\n    const code = \"REMOTE_ENDPOINT_NOT_FOUND\" /* REMOTE_ENDPOINT_NOT_FOUND */;\n    super({ message, code });\n    this.name = ERROR_NAMES.COPILOT_REMOTE_ENDPOINT_DISCOVERY_ERROR;\n  }\n};\nvar CopilotKitAgentDiscoveryError = class extends CopilotKitError {\n  constructor(params) {\n    const { agentName, availableAgents } = params;\n    const code = \"AGENT_NOT_FOUND\" /* AGENT_NOT_FOUND */;\n    const seeMore = getSeeMoreMarkdown(ERROR_CONFIG[code].troubleshootingUrl);\n    let message;\n    if (availableAgents.length) {\n      const agentList = availableAgents.map((agent) => agent.name).join(\", \");\n      if (agentName) {\n        message = `Agent '${agentName}' was not found. Available agents are: ${agentList}. Please verify the agent name in your configuration and ensure it matches one of the available agents.\n\n${seeMore}`;\n      } else {\n        message = `The requested agent was not found. Available agents are: ${agentList}. Please verify the agent name in your configuration and ensure it matches one of the available agents.\n\n${seeMore}`;\n      }\n    } else {\n      message = `${agentName ? `Agent '${agentName}'` : \"The requested agent\"} was not found. Please set up at least one agent before proceeding. ${seeMore}`;\n    }\n    super({ message, code });\n    this.name = ERROR_NAMES.COPILOT_KIT_AGENT_DISCOVERY_ERROR;\n  }\n};\nvar CopilotKitLowLevelError = class extends CopilotKitError {\n  constructor({ error, url, message }) {\n    let code = \"NETWORK_ERROR\" /* NETWORK_ERROR */;\n    const errorCode = error.code;\n    const errorMessage = message ?? resolveLowLevelErrorMessage({ errorCode, url });\n    super({ message: errorMessage, code });\n    this.name = ERROR_NAMES.COPILOT_KIT_LOW_LEVEL_ERROR;\n  }\n};\nvar ResolvedCopilotKitError = class extends CopilotKitError {\n  constructor({\n    status,\n    message,\n    code,\n    isRemoteEndpoint,\n    url\n  }) {\n    let resolvedCode = code;\n    if (!resolvedCode) {\n      switch (status) {\n        case 400:\n          throw new CopilotKitApiDiscoveryError({ message, url });\n        case 404:\n          throw isRemoteEndpoint ? new CopilotKitRemoteEndpointDiscoveryError({ message, url }) : new CopilotKitApiDiscoveryError({ message, url });\n        default:\n          resolvedCode = \"UNKNOWN\" /* UNKNOWN */;\n          break;\n      }\n    }\n    super({ message, code: resolvedCode });\n    this.name = ERROR_NAMES.RESOLVED_COPILOT_KIT_ERROR;\n  }\n};\nvar ConfigurationError = class extends CopilotKitError {\n  constructor(message) {\n    super({ message, code: \"CONFIGURATION_ERROR\" /* CONFIGURATION_ERROR */ });\n    this.name = ERROR_NAMES.CONFIGURATION_ERROR;\n    this.severity = \"warning\" /* WARNING */;\n  }\n};\nvar MissingPublicApiKeyError = class extends ConfigurationError {\n  constructor(message) {\n    super(message);\n    this.name = ERROR_NAMES.MISSING_PUBLIC_API_KEY_ERROR;\n    this.severity = \"critical\" /* CRITICAL */;\n  }\n};\nvar UpgradeRequiredError = class extends ConfigurationError {\n  constructor(message) {\n    super(message);\n    this.name = ERROR_NAMES.UPGRADE_REQUIRED_ERROR;\n    this.severity = \"warning\" /* WARNING */;\n  }\n};\nfunction isStructuredCopilotKitError(error) {\n  var _a;\n  return error instanceof CopilotKitError || error instanceof CopilotKitLowLevelError || (error == null ? void 0 : error.name) && error.name.includes(\"CopilotKit\") || ((_a = error == null ? void 0 : error.extensions) == null ? void 0 : _a.code) !== void 0;\n}\nfunction ensureStructuredError(error, converter) {\n  return isStructuredCopilotKitError(error) ? error : converter(error);\n}\nasync function getPossibleVersionMismatch({\n  runtimeVersion,\n  runtimeClientGqlVersion\n}) {\n  if (!runtimeVersion || runtimeVersion === \"\" || !runtimeClientGqlVersion)\n    return;\n  if (COPILOTKIT_VERSION !== runtimeVersion || COPILOTKIT_VERSION !== runtimeClientGqlVersion || runtimeVersion !== runtimeClientGqlVersion) {\n    return {\n      runtimeVersion,\n      runtimeClientGqlVersion,\n      reactCoreVersion: COPILOTKIT_VERSION,\n      message: getVersionMismatchErrorMessage({\n        runtimeVersion,\n        runtimeClientGqlVersion,\n        reactCoreVersion: COPILOTKIT_VERSION\n      })\n    };\n  }\n  return;\n}\nvar resolveLowLevelErrorMessage = ({ errorCode, url }) => {\n  const troubleshootingLink = ERROR_CONFIG[\"NETWORK_ERROR\" /* NETWORK_ERROR */].troubleshootingUrl;\n  const genericMessage = (description = `Failed to fetch from url ${url}.`) => `${description}.\n\nPossible reasons:\n- -The server may have an error preventing it from returning a response (Check the server logs for more info).\n- -The server might be down or unreachable\n- -There might be a network issue (e.g., DNS failure, connection timeout) \n- -The URL might be incorrect\n- -The server is not running on the specified port\n\n${getSeeMoreMarkdown(troubleshootingLink)}`;\n  if (url.includes(\"/info\"))\n    return genericMessage(`Failed to fetch CopilotKit agents/action information from url ${url}.`);\n  if (url.includes(\"/actions/execute\"))\n    return genericMessage(`Fetch call to ${url} to execute actions failed.`);\n  if (url.includes(\"/agents/state\"))\n    return genericMessage(`Fetch call to ${url} to get agent state failed.`);\n  if (url.includes(\"/agents/execute\"))\n    return genericMessage(`Fetch call to ${url} to execute agent(s) failed.`);\n  switch (errorCode) {\n    case \"ECONNREFUSED\":\n      return `Connection to ${url} was refused. Ensure the server is running and accessible.\n\n${getSeeMoreMarkdown(troubleshootingLink)}`;\n    case \"ENOTFOUND\":\n      return `The server on ${url} could not be found. Check the URL or your network configuration.\n\n${getSeeMoreMarkdown(ERROR_CONFIG[\"NOT_FOUND\" /* NOT_FOUND */].troubleshootingUrl)}`;\n    case \"ETIMEDOUT\":\n      return `The connection to ${url} timed out. The server might be overloaded or taking too long to respond.\n\n${getSeeMoreMarkdown(troubleshootingLink)}`;\n    default:\n      return;\n  }\n};\n\n\n//# sourceMappingURL=chunk-JLO7NRLY.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstSkxPN05STFkubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU4Qjs7QUFFOUI7QUFDdUM7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5Qix3REFBTzs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQkFBZ0I7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx1QkFBdUI7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsMkJBQTJCO0FBQzVCO0FBQ0EsaURBQWlELEtBQUssSUFBSSxLQUFLO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpREFBWTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZLGFBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSx1Q0FBdUMsUUFBUTs7QUFFL0MsRUFBRSxTQUFTO0FBQ1gsWUFBWSw2QkFBNkI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHVEQUF1RCxzQkFBc0IsZ0RBQWdELGtCQUFrQixxQ0FBcUMsd0JBQXdCO0FBQzdNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUdBQXFHLFlBQVksRUFBRSxnQkFBZ0I7QUFDbkk7QUFDQSw0QkFBNEIsUUFBUTs7QUFFcEMsRUFBRSwwREFBMEQ7QUFDNUQsWUFBWSw2QkFBNkI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdLQUFnSyxXQUFXO0FBQzNLO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZCQUE2QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSx5Q0FBeUMsVUFBVTs7QUFFekYsRUFBRSxRQUFRO0FBQ1YsUUFBUTtBQUNSLDhFQUE4RSxVQUFVOztBQUV4RixFQUFFLFFBQVE7QUFDVjtBQUNBLE1BQU07QUFDTixtQkFBbUIsc0JBQXNCLFVBQVUsNEJBQTRCLHFFQUFxRSxRQUFRO0FBQzVKO0FBQ0EsWUFBWSxlQUFlO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHFCQUFxQjtBQUNyQztBQUNBO0FBQ0Esa0VBQWtFLGdCQUFnQjtBQUNsRixZQUFZLDZCQUE2QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxjQUFjO0FBQ2hFO0FBQ0EsZ0ZBQWdGLGNBQWMsc0NBQXNDLGNBQWM7QUFDbEo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkJBQTZCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdFQUFnRTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGdCQUFnQjtBQUNyRDtBQUNBLG9FQUFvRSxJQUFJLFVBQVUsWUFBWTs7QUFFOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEVBQUUsd0NBQXdDO0FBQzFDO0FBQ0EsMkZBQTJGLElBQUk7QUFDL0Y7QUFDQSwyQ0FBMkMsS0FBSztBQUNoRDtBQUNBLDJDQUEyQyxLQUFLO0FBQ2hEO0FBQ0EsMkNBQTJDLEtBQUs7QUFDaEQ7QUFDQTtBQUNBLDhCQUE4QixLQUFLOztBQUVuQyxFQUFFLHdDQUF3QztBQUMxQztBQUNBLDhCQUE4QixLQUFLOztBQUVuQyxFQUFFLGlGQUFpRjtBQUNuRjtBQUNBLGtDQUFrQyxLQUFLOztBQUV2QyxFQUFFLHdDQUF3QztBQUMxQztBQUNBO0FBQ0E7QUFDQTs7QUE0QkU7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstSkxPN05STFkubWpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHZlcnNpb25cbn0gZnJvbSBcIi4vY2h1bmstUENIQ1dRNTcubWpzXCI7XG5cbi8vIHNyYy91dGlscy9lcnJvcnMudHNcbmltcG9ydCB7IEdyYXBoUUxFcnJvciB9IGZyb20gXCJncmFwaHFsXCI7XG5cbi8vIHNyYy91dGlscy9pbmRleC50c1xuZnVuY3Rpb24gcGFyc2VKc29uKGpzb24sIGZhbGxiYWNrID0gXCJ1bnNldFwiKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsbGJhY2sgPT09IFwidW5zZXRcIiA/IG51bGwgOiBmYWxsYmFjaztcbiAgfVxufVxuZnVuY3Rpb24gdHJ5TWFwKGl0ZW1zLCBjYWxsYmFjaykge1xuICByZXR1cm4gaXRlbXMucmVkdWNlKChhY2MsIGl0ZW0sIGluZGV4LCBhcnJheSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhY2MucHVzaChjYWxsYmFjayhpdGVtLCBpbmRleCwgYXJyYXkpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIFtdKTtcbn1cbmZ1bmN0aW9uIGlzTWFjT1MoKSB7XG4gIHJldHVybiAvTWFjfGlNYWN8TWFjaW50b3NoL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbn1cblxuLy8gc3JjL2luZGV4LnRzXG52YXIgQ09QSUxPVEtJVF9WRVJTSU9OID0gdmVyc2lvbjtcblxuLy8gc3JjL3V0aWxzL2Vycm9ycy50c1xudmFyIFNldmVyaXR5ID0gLyogQF9fUFVSRV9fICovICgoU2V2ZXJpdHkyKSA9PiB7XG4gIFNldmVyaXR5MltcIkNSSVRJQ0FMXCJdID0gXCJjcml0aWNhbFwiO1xuICBTZXZlcml0eTJbXCJXQVJOSU5HXCJdID0gXCJ3YXJuaW5nXCI7XG4gIFNldmVyaXR5MltcIklORk9cIl0gPSBcImluZm9cIjtcbiAgcmV0dXJuIFNldmVyaXR5Mjtcbn0pKFNldmVyaXR5IHx8IHt9KTtcbnZhciBFcnJvclZpc2liaWxpdHkgPSAvKiBAX19QVVJFX18gKi8gKChFcnJvclZpc2liaWxpdHkyKSA9PiB7XG4gIEVycm9yVmlzaWJpbGl0eTJbXCJCQU5ORVJcIl0gPSBcImJhbm5lclwiO1xuICBFcnJvclZpc2liaWxpdHkyW1wiVE9BU1RcIl0gPSBcInRvYXN0XCI7XG4gIEVycm9yVmlzaWJpbGl0eTJbXCJTSUxFTlRcIl0gPSBcInNpbGVudFwiO1xuICBFcnJvclZpc2liaWxpdHkyW1wiREVWX09OTFlcIl0gPSBcImRldl9vbmx5XCI7XG4gIHJldHVybiBFcnJvclZpc2liaWxpdHkyO1xufSkoRXJyb3JWaXNpYmlsaXR5IHx8IHt9KTtcbnZhciBFUlJPUl9OQU1FUyA9IHtcbiAgQ09QSUxPVF9FUlJPUjogXCJDb3BpbG90RXJyb3JcIixcbiAgQ09QSUxPVF9BUElfRElTQ09WRVJZX0VSUk9SOiBcIkNvcGlsb3RBcGlEaXNjb3ZlcnlFcnJvclwiLFxuICBDT1BJTE9UX1JFTU9URV9FTkRQT0lOVF9ESVNDT1ZFUllfRVJST1I6IFwiQ29waWxvdEtpdFJlbW90ZUVuZHBvaW50RGlzY292ZXJ5RXJyb3JcIixcbiAgQ09QSUxPVF9LSVRfQUdFTlRfRElTQ09WRVJZX0VSUk9SOiBcIkNvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yXCIsXG4gIENPUElMT1RfS0lUX0xPV19MRVZFTF9FUlJPUjogXCJDb3BpbG90S2l0TG93TGV2ZWxFcnJvclwiLFxuICBDT1BJTE9UX0tJVF9WRVJTSU9OX01JU01BVENIX0VSUk9SOiBcIkNvcGlsb3RLaXRWZXJzaW9uTWlzbWF0Y2hFcnJvclwiLFxuICBSRVNPTFZFRF9DT1BJTE9UX0tJVF9FUlJPUjogXCJSZXNvbHZlZENvcGlsb3RLaXRFcnJvclwiLFxuICBDT05GSUdVUkFUSU9OX0VSUk9SOiBcIkNvbmZpZ3VyYXRpb25FcnJvclwiLFxuICBNSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SOiBcIk1pc3NpbmdQdWJsaWNBcGlLZXlFcnJvclwiLFxuICBVUEdSQURFX1JFUVVJUkVEX0VSUk9SOiBcIlVwZ3JhZGVSZXF1aXJlZEVycm9yXCJcbn07XG52YXIgQkFOTkVSX0VSUk9SX05BTUVTID0gW1xuICBFUlJPUl9OQU1FUy5DT05GSUdVUkFUSU9OX0VSUk9SLFxuICBFUlJPUl9OQU1FUy5NSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SLFxuICBFUlJPUl9OQU1FUy5VUEdSQURFX1JFUVVJUkVEX0VSUk9SLFxuICBFUlJPUl9OQU1FUy5DT1BJTE9UX0FQSV9ESVNDT1ZFUllfRVJST1IsXG4gIEVSUk9SX05BTUVTLkNPUElMT1RfUkVNT1RFX0VORFBPSU5UX0RJU0NPVkVSWV9FUlJPUixcbiAgRVJST1JfTkFNRVMuQ09QSUxPVF9LSVRfQUdFTlRfRElTQ09WRVJZX0VSUk9SXG5dO1xudmFyIENPUElMT1RfQ0xPVURfRVJST1JfTkFNRVMgPSBCQU5ORVJfRVJST1JfTkFNRVM7XG52YXIgQ29waWxvdEtpdEVycm9yQ29kZSA9IC8qIEBfX1BVUkVfXyAqLyAoKENvcGlsb3RLaXRFcnJvckNvZGUyKSA9PiB7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiTkVUV09SS19FUlJPUlwiXSA9IFwiTkVUV09SS19FUlJPUlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIk5PVF9GT1VORFwiXSA9IFwiTk9UX0ZPVU5EXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiQUdFTlRfTk9UX0ZPVU5EXCJdID0gXCJBR0VOVF9OT1RfRk9VTkRcIjtcbiAgQ29waWxvdEtpdEVycm9yQ29kZTJbXCJBUElfTk9UX0ZPVU5EXCJdID0gXCJBUElfTk9UX0ZPVU5EXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORFwiXSA9IFwiUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORFwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIkFVVEhFTlRJQ0FUSU9OX0VSUk9SXCJdID0gXCJBVVRIRU5USUNBVElPTl9FUlJPUlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIk1JU1VTRVwiXSA9IFwiTUlTVVNFXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiVU5LTk9XTlwiXSA9IFwiVU5LTk9XTlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIlZFUlNJT05fTUlTTUFUQ0hcIl0gPSBcIlZFUlNJT05fTUlTTUFUQ0hcIjtcbiAgQ29waWxvdEtpdEVycm9yQ29kZTJbXCJDT05GSUdVUkFUSU9OX0VSUk9SXCJdID0gXCJDT05GSUdVUkFUSU9OX0VSUk9SXCI7XG4gIENvcGlsb3RLaXRFcnJvckNvZGUyW1wiTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUlwiXSA9IFwiTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUlwiO1xuICBDb3BpbG90S2l0RXJyb3JDb2RlMltcIlVQR1JBREVfUkVRVUlSRURfRVJST1JcIl0gPSBcIlVQR1JBREVfUkVRVUlSRURfRVJST1JcIjtcbiAgcmV0dXJuIENvcGlsb3RLaXRFcnJvckNvZGUyO1xufSkoQ29waWxvdEtpdEVycm9yQ29kZSB8fCB7fSk7XG52YXIgQkFTRV9VUkwgPSBcImh0dHBzOi8vZG9jcy5jb3BpbG90a2l0LmFpXCI7XG52YXIgZ2V0U2VlTW9yZU1hcmtkb3duID0gKGxpbmspID0+IGBTZWUgbW9yZTogWyR7bGlua31dKCR7bGlua30pYDtcbnZhciBFUlJPUl9DT05GSUcgPSB7XG4gIFtcIk5FVFdPUktfRVJST1JcIiAvKiBORVRXT1JLX0VSUk9SICovXToge1xuICAgIHN0YXR1c0NvZGU6IDUwMyxcbiAgICB0cm91Ymxlc2hvb3RpbmdVcmw6IGAke0JBU0VfVVJMfS90cm91Ymxlc2hvb3RpbmcvY29tbW9uLWlzc3VlcyNpLWFtLWdldHRpbmctYS1uZXR3b3JrLWVycm9ycy0tYXBpLW5vdC1mb3VuZGAsXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi8sXG4gICAgc2V2ZXJpdHk6IFwiY3JpdGljYWxcIiAvKiBDUklUSUNBTCAqL1xuICB9LFxuICBbXCJOT1RfRk9VTkRcIiAvKiBOT1RfRk9VTkQgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDA0LFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogYCR7QkFTRV9VUkx9L3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzI2ktYW0tZ2V0dGluZy1hLW5ldHdvcmstZXJyb3JzLS1hcGktbm90LWZvdW5kYCxcbiAgICB2aXNpYmlsaXR5OiBcImJhbm5lclwiIC8qIEJBTk5FUiAqLyxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovXG4gIH0sXG4gIFtcIkFHRU5UX05PVF9GT1VORFwiIC8qIEFHRU5UX05PVF9GT1VORCAqL106IHtcbiAgICBzdGF0dXNDb2RlOiA1MDAsXG4gICAgdHJvdWJsZXNob290aW5nVXJsOiBgJHtCQVNFX1VSTH0vY29hZ2VudHMvdHJvdWJsZXNob290aW5nL2NvbW1vbi1pc3N1ZXMjaS1hbS1nZXR0aW5nLWFnZW50LW5vdC1mb3VuZC1lcnJvcmAsXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi8sXG4gICAgc2V2ZXJpdHk6IFwiY3JpdGljYWxcIiAvKiBDUklUSUNBTCAqL1xuICB9LFxuICBbXCJBUElfTk9UX0ZPVU5EXCIgLyogQVBJX05PVF9GT1VORCAqL106IHtcbiAgICBzdGF0dXNDb2RlOiA0MDQsXG4gICAgdHJvdWJsZXNob290aW5nVXJsOiBgJHtCQVNFX1VSTH0vdHJvdWJsZXNob290aW5nL2NvbW1vbi1pc3N1ZXMjaS1hbS1nZXR0aW5nLWEtbmV0d29yay1lcnJvcnMtLWFwaS1ub3QtZm91bmRgLFxuICAgIHZpc2liaWxpdHk6IFwiYmFubmVyXCIgLyogQkFOTkVSICovLFxuICAgIHNldmVyaXR5OiBcImNyaXRpY2FsXCIgLyogQ1JJVElDQUwgKi9cbiAgfSxcbiAgW1wiUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORFwiIC8qIFJFTU9URV9FTkRQT0lOVF9OT1RfRk9VTkQgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDA0LFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogYCR7QkFTRV9VUkx9L3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzI2ktYW0tZ2V0dGluZy1jb3BpbG90a2l0cy1yZW1vdGUtZW5kcG9pbnQtbm90LWZvdW5kLWVycm9yYCxcbiAgICB2aXNpYmlsaXR5OiBcImJhbm5lclwiIC8qIEJBTk5FUiAqLyxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovXG4gIH0sXG4gIFtcIkFVVEhFTlRJQ0FUSU9OX0VSUk9SXCIgLyogQVVUSEVOVElDQVRJT05fRVJST1IgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAxLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogYCR7QkFTRV9VUkx9L3Ryb3VibGVzaG9vdGluZy9jb21tb24taXNzdWVzI2F1dGhlbnRpY2F0aW9uLWVycm9yc2AsXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi8sXG4gICAgc2V2ZXJpdHk6IFwiY3JpdGljYWxcIiAvKiBDUklUSUNBTCAqL1xuICB9LFxuICBbXCJNSVNVU0VcIiAvKiBNSVNVU0UgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAwLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogbnVsbCxcbiAgICB2aXNpYmlsaXR5OiBcImRldl9vbmx5XCIgLyogREVWX09OTFkgKi8sXG4gICAgc2V2ZXJpdHk6IFwid2FybmluZ1wiIC8qIFdBUk5JTkcgKi9cbiAgfSxcbiAgW1wiVU5LTk9XTlwiIC8qIFVOS05PV04gKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNTAwLFxuICAgIHZpc2liaWxpdHk6IFwidG9hc3RcIiAvKiBUT0FTVCAqLyxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovXG4gIH0sXG4gIFtcIkNPTkZJR1VSQVRJT05fRVJST1JcIiAvKiBDT05GSUdVUkFUSU9OX0VSUk9SICovXToge1xuICAgIHN0YXR1c0NvZGU6IDQwMCxcbiAgICB0cm91Ymxlc2hvb3RpbmdVcmw6IG51bGwsXG4gICAgc2V2ZXJpdHk6IFwid2FybmluZ1wiIC8qIFdBUk5JTkcgKi8sXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi9cbiAgfSxcbiAgW1wiTUlTU0lOR19QVUJMSUNfQVBJX0tFWV9FUlJPUlwiIC8qIE1JU1NJTkdfUFVCTElDX0FQSV9LRVlfRVJST1IgKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAwLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogbnVsbCxcbiAgICBzZXZlcml0eTogXCJjcml0aWNhbFwiIC8qIENSSVRJQ0FMICovLFxuICAgIHZpc2liaWxpdHk6IFwiYmFubmVyXCIgLyogQkFOTkVSICovXG4gIH0sXG4gIFtcIlVQR1JBREVfUkVRVUlSRURfRVJST1JcIiAvKiBVUEdSQURFX1JFUVVJUkVEX0VSUk9SICovXToge1xuICAgIHN0YXR1c0NvZGU6IDQwMixcbiAgICB0cm91Ymxlc2hvb3RpbmdVcmw6IG51bGwsXG4gICAgc2V2ZXJpdHk6IFwid2FybmluZ1wiIC8qIFdBUk5JTkcgKi8sXG4gICAgdmlzaWJpbGl0eTogXCJiYW5uZXJcIiAvKiBCQU5ORVIgKi9cbiAgfSxcbiAgW1wiVkVSU0lPTl9NSVNNQVRDSFwiIC8qIFZFUlNJT05fTUlTTUFUQ0ggKi9dOiB7XG4gICAgc3RhdHVzQ29kZTogNDAwLFxuICAgIHRyb3VibGVzaG9vdGluZ1VybDogbnVsbCxcbiAgICB2aXNpYmlsaXR5OiBcImRldl9vbmx5XCIgLyogREVWX09OTFkgKi8sXG4gICAgc2V2ZXJpdHk6IFwiaW5mb1wiIC8qIElORk8gKi9cbiAgfVxufTtcbnZhciBDb3BpbG90S2l0RXJyb3IgPSBjbGFzcyBleHRlbmRzIEdyYXBoUUxFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gXCJVbmtub3duIGVycm9yIG9jY3VycmVkXCIsXG4gICAgY29kZSxcbiAgICBzZXZlcml0eSxcbiAgICB2aXNpYmlsaXR5XG4gIH0pIHtcbiAgICBjb25zdCBuYW1lID0gRVJST1JfTkFNRVMuQ09QSUxPVF9FUlJPUjtcbiAgICBjb25zdCBjb25maWcgPSBFUlJPUl9DT05GSUdbY29kZV07XG4gICAgY29uc3QgeyBzdGF0dXNDb2RlIH0gPSBjb25maWc7XG4gICAgY29uc3QgcmVzb2x2ZWRWaXNpYmlsaXR5ID0gdmlzaWJpbGl0eSA/PyBjb25maWcudmlzaWJpbGl0eSA/PyBcInRvYXN0XCIgLyogVE9BU1QgKi87XG4gICAgY29uc3QgcmVzb2x2ZWRTZXZlcml0eSA9IHNldmVyaXR5ID8/IChcInNldmVyaXR5XCIgaW4gY29uZmlnID8gY29uZmlnLnNldmVyaXR5IDogdm9pZCAwKTtcbiAgICBzdXBlcihtZXNzYWdlLCB7XG4gICAgICBleHRlbnNpb25zOiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHN0YXR1c0NvZGUsXG4gICAgICAgIGNvZGUsXG4gICAgICAgIHZpc2liaWxpdHk6IHJlc29sdmVkVmlzaWJpbGl0eSxcbiAgICAgICAgc2V2ZXJpdHk6IHJlc29sdmVkU2V2ZXJpdHksXG4gICAgICAgIHRyb3VibGVzaG9vdGluZ1VybDogXCJ0cm91Ymxlc2hvb3RpbmdVcmxcIiBpbiBjb25maWcgPyBjb25maWcudHJvdWJsZXNob290aW5nVXJsIDogbnVsbCxcbiAgICAgICAgb3JpZ2luYWxFcnJvcjoge1xuICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgc3RhY2s6IG5ldyBFcnJvcigpLnN0YWNrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnNldmVyaXR5ID0gcmVzb2x2ZWRTZXZlcml0eTtcbiAgICB0aGlzLnZpc2liaWxpdHkgPSByZXNvbHZlZFZpc2liaWxpdHk7XG4gIH1cbn07XG52YXIgQ29waWxvdEtpdE1pc3VzZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBDb3BpbG90S2l0RXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICBjb2RlID0gXCJNSVNVU0VcIiAvKiBNSVNVU0UgKi9cbiAgfSkge1xuICAgIGNvbnN0IGRvY3NMaW5rID0gXCJ0cm91Ymxlc2hvb3RpbmdVcmxcIiBpbiBFUlJPUl9DT05GSUdbY29kZV0gJiYgRVJST1JfQ09ORklHW2NvZGVdLnRyb3VibGVzaG9vdGluZ1VybCA/IGdldFNlZU1vcmVNYXJrZG93bihFUlJPUl9DT05GSUdbY29kZV0udHJvdWJsZXNob290aW5nVXJsKSA6IG51bGw7XG4gICAgY29uc3QgZmluYWxNZXNzYWdlID0gZG9jc0xpbmsgPyBgJHttZXNzYWdlfS5cblxuJHtkb2NzTGlua31gIDogbWVzc2FnZTtcbiAgICBzdXBlcih7IG1lc3NhZ2U6IGZpbmFsTWVzc2FnZSwgY29kZSB9KTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5DT1BJTE9UX0FQSV9ESVNDT1ZFUllfRVJST1I7XG4gIH1cbn07XG52YXIgZ2V0VmVyc2lvbk1pc21hdGNoRXJyb3JNZXNzYWdlID0gKHtcbiAgcmVhY3RDb3JlVmVyc2lvbixcbiAgcnVudGltZVZlcnNpb24sXG4gIHJ1bnRpbWVDbGllbnRHcWxWZXJzaW9uXG59KSA9PiBgVmVyc2lvbiBtaXNtYXRjaCBkZXRlY3RlZDogQGNvcGlsb3RraXQvcnVudGltZUAke3J1bnRpbWVWZXJzaW9uID8/IFwiXCJ9IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggQGNvcGlsb3RraXQvcmVhY3QtY29yZUAke3JlYWN0Q29yZVZlcnNpb259IGFuZCBAY29waWxvdGtpdC9ydW50aW1lLWNsaWVudC1ncWxAJHtydW50aW1lQ2xpZW50R3FsVmVyc2lvbn0uIFBsZWFzZSBlbnN1cmUgYWxsIGluc3RhbGxlZCBjb3BpbG90a2l0IHBhY2thZ2VzIGFyZSBvbiB0aGUgc2FtZSB2ZXJzaW9uLmA7XG52YXIgQ29waWxvdEtpdFZlcnNpb25NaXNtYXRjaEVycm9yID0gY2xhc3MgZXh0ZW5kcyBDb3BpbG90S2l0RXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcmVhY3RDb3JlVmVyc2lvbixcbiAgICBydW50aW1lVmVyc2lvbixcbiAgICBydW50aW1lQ2xpZW50R3FsVmVyc2lvblxuICB9KSB7XG4gICAgY29uc3QgY29kZSA9IFwiVkVSU0lPTl9NSVNNQVRDSFwiIC8qIFZFUlNJT05fTUlTTUFUQ0ggKi87XG4gICAgc3VwZXIoe1xuICAgICAgbWVzc2FnZTogZ2V0VmVyc2lvbk1pc21hdGNoRXJyb3JNZXNzYWdlKHtcbiAgICAgICAgcmVhY3RDb3JlVmVyc2lvbixcbiAgICAgICAgcnVudGltZVZlcnNpb24sXG4gICAgICAgIHJ1bnRpbWVDbGllbnRHcWxWZXJzaW9uXG4gICAgICB9KSxcbiAgICAgIGNvZGVcbiAgICB9KTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5DT1BJTE9UX0tJVF9WRVJTSU9OX01JU01BVENIX0VSUk9SO1xuICB9XG59O1xudmFyIENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEVycm9yIHtcbiAgY29uc3RydWN0b3IocGFyYW1zID0ge30pIHtcbiAgICBjb25zdCB1cmwgPSBwYXJhbXMudXJsID8/IFwiXCI7XG4gICAgbGV0IG9wZXJhdGlvblN1ZmZpeCA9IFwiXCI7XG4gICAgaWYgKHVybCA9PSBudWxsID8gdm9pZCAwIDogdXJsLmluY2x1ZGVzKFwiL2luZm9cIikpXG4gICAgICBvcGVyYXRpb25TdWZmaXggPSBgd2hlbiBmZXRjaGluZyBDb3BpbG90S2l0IGluZm9gO1xuICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcyhcIi9hY3Rpb25zL2V4ZWN1dGVcIikpXG4gICAgICBvcGVyYXRpb25TdWZmaXggPSBgd2hlbiBhdHRlbXB0aW5nIHRvIGV4ZWN1dGUgYWN0aW9ucy5gO1xuICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcyhcIi9hZ2VudHMvc3RhdGVcIikpXG4gICAgICBvcGVyYXRpb25TdWZmaXggPSBgd2hlbiBhdHRlbXB0aW5nIHRvIGdldCBhZ2VudCBzdGF0ZS5gO1xuICAgIGVsc2UgaWYgKHVybC5pbmNsdWRlcyhcIi9hZ2VudHMvZXhlY3V0ZVwiKSlcbiAgICAgIG9wZXJhdGlvblN1ZmZpeCA9IGB3aGVuIGF0dGVtcHRpbmcgdG8gZXhlY3V0ZSBhZ2VudChzKS5gO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBwYXJhbXMubWVzc2FnZSA/PyAocGFyYW1zLnVybCA/IGBGYWlsZWQgdG8gZmluZCBDb3BpbG90S2l0IEFQSSBlbmRwb2ludCBhdCB1cmwgJHtwYXJhbXMudXJsfSAke29wZXJhdGlvblN1ZmZpeH1gIDogYEZhaWxlZCB0byBmaW5kIENvcGlsb3RLaXQgQVBJIGVuZHBvaW50LmApO1xuICAgIGNvbnN0IGNvZGUgPSBwYXJhbXMuY29kZSA/PyBcIkFQSV9OT1RfRk9VTkRcIiAvKiBBUElfTk9UX0ZPVU5EICovO1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGAke21lc3NhZ2V9LlxuXG4ke2dldFNlZU1vcmVNYXJrZG93bihFUlJPUl9DT05GSUdbY29kZV0udHJvdWJsZXNob290aW5nVXJsKX1gO1xuICAgIHN1cGVyKHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCBjb2RlIH0pO1xuICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUVTLkNPUElMT1RfQVBJX0RJU0NPVkVSWV9FUlJPUjtcbiAgfVxufTtcbnZhciBDb3BpbG90S2l0UmVtb3RlRW5kcG9pbnREaXNjb3ZlcnlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEFwaURpc2NvdmVyeUVycm9yIHtcbiAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IChwYXJhbXMgPT0gbnVsbCA/IHZvaWQgMCA6IHBhcmFtcy5tZXNzYWdlKSA/PyAoKHBhcmFtcyA9PSBudWxsID8gdm9pZCAwIDogcGFyYW1zLnVybCkgPyBgRmFpbGVkIHRvIGZpbmQgb3IgY29udGFjdCByZW1vdGUgZW5kcG9pbnQgYXQgdXJsICR7cGFyYW1zLnVybH1gIDogXCJGYWlsZWQgdG8gZmluZCBvciBjb250YWN0IHJlbW90ZSBlbmRwb2ludFwiKTtcbiAgICBjb25zdCBjb2RlID0gXCJSRU1PVEVfRU5EUE9JTlRfTk9UX0ZPVU5EXCIgLyogUkVNT1RFX0VORFBPSU5UX05PVF9GT1VORCAqLztcbiAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGUgfSk7XG4gICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRVMuQ09QSUxPVF9SRU1PVEVfRU5EUE9JTlRfRElTQ09WRVJZX0VSUk9SO1xuICB9XG59O1xudmFyIENvcGlsb3RLaXRBZ2VudERpc2NvdmVyeUVycm9yID0gY2xhc3MgZXh0ZW5kcyBDb3BpbG90S2l0RXJyb3Ige1xuICBjb25zdHJ1Y3RvcihwYXJhbXMpIHtcbiAgICBjb25zdCB7IGFnZW50TmFtZSwgYXZhaWxhYmxlQWdlbnRzIH0gPSBwYXJhbXM7XG4gICAgY29uc3QgY29kZSA9IFwiQUdFTlRfTk9UX0ZPVU5EXCIgLyogQUdFTlRfTk9UX0ZPVU5EICovO1xuICAgIGNvbnN0IHNlZU1vcmUgPSBnZXRTZWVNb3JlTWFya2Rvd24oRVJST1JfQ09ORklHW2NvZGVdLnRyb3VibGVzaG9vdGluZ1VybCk7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKGF2YWlsYWJsZUFnZW50cy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGFnZW50TGlzdCA9IGF2YWlsYWJsZUFnZW50cy5tYXAoKGFnZW50KSA9PiBhZ2VudC5uYW1lKS5qb2luKFwiLCBcIik7XG4gICAgICBpZiAoYWdlbnROYW1lKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgQWdlbnQgJyR7YWdlbnROYW1lfScgd2FzIG5vdCBmb3VuZC4gQXZhaWxhYmxlIGFnZW50cyBhcmU6ICR7YWdlbnRMaXN0fS4gUGxlYXNlIHZlcmlmeSB0aGUgYWdlbnQgbmFtZSBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gYW5kIGVuc3VyZSBpdCBtYXRjaGVzIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGFnZW50cy5cblxuJHtzZWVNb3JlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXNzYWdlID0gYFRoZSByZXF1ZXN0ZWQgYWdlbnQgd2FzIG5vdCBmb3VuZC4gQXZhaWxhYmxlIGFnZW50cyBhcmU6ICR7YWdlbnRMaXN0fS4gUGxlYXNlIHZlcmlmeSB0aGUgYWdlbnQgbmFtZSBpbiB5b3VyIGNvbmZpZ3VyYXRpb24gYW5kIGVuc3VyZSBpdCBtYXRjaGVzIG9uZSBvZiB0aGUgYXZhaWxhYmxlIGFnZW50cy5cblxuJHtzZWVNb3JlfWA7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1lc3NhZ2UgPSBgJHthZ2VudE5hbWUgPyBgQWdlbnQgJyR7YWdlbnROYW1lfSdgIDogXCJUaGUgcmVxdWVzdGVkIGFnZW50XCJ9IHdhcyBub3QgZm91bmQuIFBsZWFzZSBzZXQgdXAgYXQgbGVhc3Qgb25lIGFnZW50IGJlZm9yZSBwcm9jZWVkaW5nLiAke3NlZU1vcmV9YDtcbiAgICB9XG4gICAgc3VwZXIoeyBtZXNzYWdlLCBjb2RlIH0pO1xuICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUVTLkNPUElMT1RfS0lUX0FHRU5UX0RJU0NPVkVSWV9FUlJPUjtcbiAgfVxufTtcbnZhciBDb3BpbG90S2l0TG93TGV2ZWxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEVycm9yIHtcbiAgY29uc3RydWN0b3IoeyBlcnJvciwgdXJsLCBtZXNzYWdlIH0pIHtcbiAgICBsZXQgY29kZSA9IFwiTkVUV09SS19FUlJPUlwiIC8qIE5FVFdPUktfRVJST1IgKi87XG4gICAgY29uc3QgZXJyb3JDb2RlID0gZXJyb3IuY29kZTtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBtZXNzYWdlID8/IHJlc29sdmVMb3dMZXZlbEVycm9yTWVzc2FnZSh7IGVycm9yQ29kZSwgdXJsIH0pO1xuICAgIHN1cGVyKHsgbWVzc2FnZTogZXJyb3JNZXNzYWdlLCBjb2RlIH0pO1xuICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUVTLkNPUElMT1RfS0lUX0xPV19MRVZFTF9FUlJPUjtcbiAgfVxufTtcbnZhciBSZXNvbHZlZENvcGlsb3RLaXRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQ29waWxvdEtpdEVycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHN0YXR1cyxcbiAgICBtZXNzYWdlLFxuICAgIGNvZGUsXG4gICAgaXNSZW1vdGVFbmRwb2ludCxcbiAgICB1cmxcbiAgfSkge1xuICAgIGxldCByZXNvbHZlZENvZGUgPSBjb2RlO1xuICAgIGlmICghcmVzb2x2ZWRDb2RlKSB7XG4gICAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgICBjYXNlIDQwMDpcbiAgICAgICAgICB0aHJvdyBuZXcgQ29waWxvdEtpdEFwaURpc2NvdmVyeUVycm9yKHsgbWVzc2FnZSwgdXJsIH0pO1xuICAgICAgICBjYXNlIDQwNDpcbiAgICAgICAgICB0aHJvdyBpc1JlbW90ZUVuZHBvaW50ID8gbmV3IENvcGlsb3RLaXRSZW1vdGVFbmRwb2ludERpc2NvdmVyeUVycm9yKHsgbWVzc2FnZSwgdXJsIH0pIDogbmV3IENvcGlsb3RLaXRBcGlEaXNjb3ZlcnlFcnJvcih7IG1lc3NhZ2UsIHVybCB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXNvbHZlZENvZGUgPSBcIlVOS05PV05cIiAvKiBVTktOT1dOICovO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IHJlc29sdmVkQ29kZSB9KTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5SRVNPTFZFRF9DT1BJTE9UX0tJVF9FUlJPUjtcbiAgfVxufTtcbnZhciBDb25maWd1cmF0aW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIENvcGlsb3RLaXRFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcih7IG1lc3NhZ2UsIGNvZGU6IFwiQ09ORklHVVJBVElPTl9FUlJPUlwiIC8qIENPTkZJR1VSQVRJT05fRVJST1IgKi8gfSk7XG4gICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRVMuQ09ORklHVVJBVElPTl9FUlJPUjtcbiAgICB0aGlzLnNldmVyaXR5ID0gXCJ3YXJuaW5nXCIgLyogV0FSTklORyAqLztcbiAgfVxufTtcbnZhciBNaXNzaW5nUHVibGljQXBpS2V5RXJyb3IgPSBjbGFzcyBleHRlbmRzIENvbmZpZ3VyYXRpb25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5NSVNTSU5HX1BVQkxJQ19BUElfS0VZX0VSUk9SO1xuICAgIHRoaXMuc2V2ZXJpdHkgPSBcImNyaXRpY2FsXCIgLyogQ1JJVElDQUwgKi87XG4gIH1cbn07XG52YXIgVXBncmFkZVJlcXVpcmVkRXJyb3IgPSBjbGFzcyBleHRlbmRzIENvbmZpZ3VyYXRpb25FcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB0aGlzLm5hbWUgPSBFUlJPUl9OQU1FUy5VUEdSQURFX1JFUVVJUkVEX0VSUk9SO1xuICAgIHRoaXMuc2V2ZXJpdHkgPSBcIndhcm5pbmdcIiAvKiBXQVJOSU5HICovO1xuICB9XG59O1xuZnVuY3Rpb24gaXNTdHJ1Y3R1cmVkQ29waWxvdEtpdEVycm9yKGVycm9yKSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgQ29waWxvdEtpdEVycm9yIHx8IGVycm9yIGluc3RhbmNlb2YgQ29waWxvdEtpdExvd0xldmVsRXJyb3IgfHwgKGVycm9yID09IG51bGwgPyB2b2lkIDAgOiBlcnJvci5uYW1lKSAmJiBlcnJvci5uYW1lLmluY2x1ZGVzKFwiQ29waWxvdEtpdFwiKSB8fCAoKF9hID0gZXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IGVycm9yLmV4dGVuc2lvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb2RlKSAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gZW5zdXJlU3RydWN0dXJlZEVycm9yKGVycm9yLCBjb252ZXJ0ZXIpIHtcbiAgcmV0dXJuIGlzU3RydWN0dXJlZENvcGlsb3RLaXRFcnJvcihlcnJvcikgPyBlcnJvciA6IGNvbnZlcnRlcihlcnJvcik7XG59XG5hc3luYyBmdW5jdGlvbiBnZXRQb3NzaWJsZVZlcnNpb25NaXNtYXRjaCh7XG4gIHJ1bnRpbWVWZXJzaW9uLFxuICBydW50aW1lQ2xpZW50R3FsVmVyc2lvblxufSkge1xuICBpZiAoIXJ1bnRpbWVWZXJzaW9uIHx8IHJ1bnRpbWVWZXJzaW9uID09PSBcIlwiIHx8ICFydW50aW1lQ2xpZW50R3FsVmVyc2lvbilcbiAgICByZXR1cm47XG4gIGlmIChDT1BJTE9US0lUX1ZFUlNJT04gIT09IHJ1bnRpbWVWZXJzaW9uIHx8IENPUElMT1RLSVRfVkVSU0lPTiAhPT0gcnVudGltZUNsaWVudEdxbFZlcnNpb24gfHwgcnVudGltZVZlcnNpb24gIT09IHJ1bnRpbWVDbGllbnRHcWxWZXJzaW9uKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJ1bnRpbWVWZXJzaW9uLFxuICAgICAgcnVudGltZUNsaWVudEdxbFZlcnNpb24sXG4gICAgICByZWFjdENvcmVWZXJzaW9uOiBDT1BJTE9US0lUX1ZFUlNJT04sXG4gICAgICBtZXNzYWdlOiBnZXRWZXJzaW9uTWlzbWF0Y2hFcnJvck1lc3NhZ2Uoe1xuICAgICAgICBydW50aW1lVmVyc2lvbixcbiAgICAgICAgcnVudGltZUNsaWVudEdxbFZlcnNpb24sXG4gICAgICAgIHJlYWN0Q29yZVZlcnNpb246IENPUElMT1RLSVRfVkVSU0lPTlxuICAgICAgfSlcbiAgICB9O1xuICB9XG4gIHJldHVybjtcbn1cbnZhciByZXNvbHZlTG93TGV2ZWxFcnJvck1lc3NhZ2UgPSAoeyBlcnJvckNvZGUsIHVybCB9KSA9PiB7XG4gIGNvbnN0IHRyb3VibGVzaG9vdGluZ0xpbmsgPSBFUlJPUl9DT05GSUdbXCJORVRXT1JLX0VSUk9SXCIgLyogTkVUV09SS19FUlJPUiAqL10udHJvdWJsZXNob290aW5nVXJsO1xuICBjb25zdCBnZW5lcmljTWVzc2FnZSA9IChkZXNjcmlwdGlvbiA9IGBGYWlsZWQgdG8gZmV0Y2ggZnJvbSB1cmwgJHt1cmx9LmApID0+IGAke2Rlc2NyaXB0aW9ufS5cblxuUG9zc2libGUgcmVhc29uczpcbi0gLVRoZSBzZXJ2ZXIgbWF5IGhhdmUgYW4gZXJyb3IgcHJldmVudGluZyBpdCBmcm9tIHJldHVybmluZyBhIHJlc3BvbnNlIChDaGVjayB0aGUgc2VydmVyIGxvZ3MgZm9yIG1vcmUgaW5mbykuXG4tIC1UaGUgc2VydmVyIG1pZ2h0IGJlIGRvd24gb3IgdW5yZWFjaGFibGVcbi0gLVRoZXJlIG1pZ2h0IGJlIGEgbmV0d29yayBpc3N1ZSAoZS5nLiwgRE5TIGZhaWx1cmUsIGNvbm5lY3Rpb24gdGltZW91dCkgXG4tIC1UaGUgVVJMIG1pZ2h0IGJlIGluY29ycmVjdFxuLSAtVGhlIHNlcnZlciBpcyBub3QgcnVubmluZyBvbiB0aGUgc3BlY2lmaWVkIHBvcnRcblxuJHtnZXRTZWVNb3JlTWFya2Rvd24odHJvdWJsZXNob290aW5nTGluayl9YDtcbiAgaWYgKHVybC5pbmNsdWRlcyhcIi9pbmZvXCIpKVxuICAgIHJldHVybiBnZW5lcmljTWVzc2FnZShgRmFpbGVkIHRvIGZldGNoIENvcGlsb3RLaXQgYWdlbnRzL2FjdGlvbiBpbmZvcm1hdGlvbiBmcm9tIHVybCAke3VybH0uYCk7XG4gIGlmICh1cmwuaW5jbHVkZXMoXCIvYWN0aW9ucy9leGVjdXRlXCIpKVxuICAgIHJldHVybiBnZW5lcmljTWVzc2FnZShgRmV0Y2ggY2FsbCB0byAke3VybH0gdG8gZXhlY3V0ZSBhY3Rpb25zIGZhaWxlZC5gKTtcbiAgaWYgKHVybC5pbmNsdWRlcyhcIi9hZ2VudHMvc3RhdGVcIikpXG4gICAgcmV0dXJuIGdlbmVyaWNNZXNzYWdlKGBGZXRjaCBjYWxsIHRvICR7dXJsfSB0byBnZXQgYWdlbnQgc3RhdGUgZmFpbGVkLmApO1xuICBpZiAodXJsLmluY2x1ZGVzKFwiL2FnZW50cy9leGVjdXRlXCIpKVxuICAgIHJldHVybiBnZW5lcmljTWVzc2FnZShgRmV0Y2ggY2FsbCB0byAke3VybH0gdG8gZXhlY3V0ZSBhZ2VudChzKSBmYWlsZWQuYCk7XG4gIHN3aXRjaCAoZXJyb3JDb2RlKSB7XG4gICAgY2FzZSBcIkVDT05OUkVGVVNFRFwiOlxuICAgICAgcmV0dXJuIGBDb25uZWN0aW9uIHRvICR7dXJsfSB3YXMgcmVmdXNlZC4gRW5zdXJlIHRoZSBzZXJ2ZXIgaXMgcnVubmluZyBhbmQgYWNjZXNzaWJsZS5cblxuJHtnZXRTZWVNb3JlTWFya2Rvd24odHJvdWJsZXNob290aW5nTGluayl9YDtcbiAgICBjYXNlIFwiRU5PVEZPVU5EXCI6XG4gICAgICByZXR1cm4gYFRoZSBzZXJ2ZXIgb24gJHt1cmx9IGNvdWxkIG5vdCBiZSBmb3VuZC4gQ2hlY2sgdGhlIFVSTCBvciB5b3VyIG5ldHdvcmsgY29uZmlndXJhdGlvbi5cblxuJHtnZXRTZWVNb3JlTWFya2Rvd24oRVJST1JfQ09ORklHW1wiTk9UX0ZPVU5EXCIgLyogTk9UX0ZPVU5EICovXS50cm91Ymxlc2hvb3RpbmdVcmwpfWA7XG4gICAgY2FzZSBcIkVUSU1FRE9VVFwiOlxuICAgICAgcmV0dXJuIGBUaGUgY29ubmVjdGlvbiB0byAke3VybH0gdGltZWQgb3V0LiBUaGUgc2VydmVyIG1pZ2h0IGJlIG92ZXJsb2FkZWQgb3IgdGFraW5nIHRvbyBsb25nIHRvIHJlc3BvbmQuXG5cbiR7Z2V0U2VlTW9yZU1hcmtkb3duKHRyb3VibGVzaG9vdGluZ0xpbmspfWA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybjtcbiAgfVxufTtcblxuZXhwb3J0IHtcbiAgU2V2ZXJpdHksXG4gIEVycm9yVmlzaWJpbGl0eSxcbiAgRVJST1JfTkFNRVMsXG4gIEJBTk5FUl9FUlJPUl9OQU1FUyxcbiAgQ09QSUxPVF9DTE9VRF9FUlJPUl9OQU1FUyxcbiAgQ29waWxvdEtpdEVycm9yQ29kZSxcbiAgRVJST1JfQ09ORklHLFxuICBDb3BpbG90S2l0RXJyb3IsXG4gIENvcGlsb3RLaXRNaXN1c2VFcnJvcixcbiAgQ29waWxvdEtpdFZlcnNpb25NaXNtYXRjaEVycm9yLFxuICBDb3BpbG90S2l0QXBpRGlzY292ZXJ5RXJyb3IsXG4gIENvcGlsb3RLaXRSZW1vdGVFbmRwb2ludERpc2NvdmVyeUVycm9yLFxuICBDb3BpbG90S2l0QWdlbnREaXNjb3ZlcnlFcnJvcixcbiAgQ29waWxvdEtpdExvd0xldmVsRXJyb3IsXG4gIFJlc29sdmVkQ29waWxvdEtpdEVycm9yLFxuICBDb25maWd1cmF0aW9uRXJyb3IsXG4gIE1pc3NpbmdQdWJsaWNBcGlLZXlFcnJvcixcbiAgVXBncmFkZVJlcXVpcmVkRXJyb3IsXG4gIGlzU3RydWN0dXJlZENvcGlsb3RLaXRFcnJvcixcbiAgZW5zdXJlU3RydWN0dXJlZEVycm9yLFxuICBnZXRQb3NzaWJsZVZlcnNpb25NaXNtYXRjaCxcbiAgcGFyc2VKc29uLFxuICB0cnlNYXAsXG4gIGlzTWFjT1MsXG4gIENPUElMT1RLSVRfVkVSU0lPTlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUpMTzdOUkxZLm1qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-JLO7NRLY.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-PCHCWQ57.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-PCHCWQ57.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scarf_client_default: () => (/* binding */ scarf_client_default),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n// package.json\nvar version = \"1.10.4\";\n\n// src/telemetry/scarf-client.ts\nvar SCARF_BASE_URL = `https://copilotkit.gateway.scarf.sh/${version}`;\nvar ScarfClient = class {\n  constructor() {\n  }\n  async logEvent(properties) {\n    try {\n      const controller = new AbortController();\n      const timeoutId = setTimeout(() => controller.abort(), 3e3);\n      const queryParams = new URLSearchParams();\n      Object.entries(properties).forEach(([key, value]) => {\n        if (value !== null && value !== void 0) {\n          queryParams.append(key, String(value));\n        }\n      });\n      const url = `${SCARF_BASE_URL}?${queryParams.toString()}`;\n      const response = await fetch(url, {\n        method: \"GET\",\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n    } catch {\n    }\n  }\n};\nvar scarf_client_default = new ScarfClient();\n\n\n//# sourceMappingURL=chunk-PCHCWQ57.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstUENIQ1dRNTcubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTs7QUFFQTtBQUNBLDREQUE0RCxRQUFRO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxxQkFBcUIsZUFBZSxHQUFHLHVCQUF1QjtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLCtDQUErQyxnQkFBZ0I7QUFDL0Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBS0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstUENIQ1dRNTcubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhY2thZ2UuanNvblxudmFyIHZlcnNpb24gPSBcIjEuMTAuNFwiO1xuXG4vLyBzcmMvdGVsZW1ldHJ5L3NjYXJmLWNsaWVudC50c1xudmFyIFNDQVJGX0JBU0VfVVJMID0gYGh0dHBzOi8vY29waWxvdGtpdC5nYXRld2F5LnNjYXJmLnNoLyR7dmVyc2lvbn1gO1xudmFyIFNjYXJmQ2xpZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgfVxuICBhc3luYyBsb2dFdmVudChwcm9wZXJ0aWVzKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgM2UzKTtcbiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgcXVlcnlQYXJhbXMuYXBwZW5kKGtleSwgU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgdXJsID0gYCR7U0NBUkZfQkFTRV9VUkx9PyR7cXVlcnlQYXJhbXMudG9TdHJpbmcoKX1gO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXG4gICAgICB9KTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgZXJyb3IhIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICB9XG59O1xudmFyIHNjYXJmX2NsaWVudF9kZWZhdWx0ID0gbmV3IFNjYXJmQ2xpZW50KCk7XG5cbmV4cG9ydCB7XG4gIHZlcnNpb24sXG4gIHNjYXJmX2NsaWVudF9kZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2h1bmstUENIQ1dRNTcubWpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-PCHCWQ57.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dataToUUID: () => (/* binding */ dataToUUID),\n/* harmony export */   isValidUUID: () => (/* binding */ isValidUUID),\n/* harmony export */   randomId: () => (/* binding */ randomId),\n/* harmony export */   randomUUID: () => (/* binding */ randomUUID)\n/* harmony export */ });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n// src/utils/random-id.ts\n\nfunction randomId() {\n  return \"ck-\" + (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\nfunction randomUUID() {\n  return (0,uuid__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n}\nfunction dataToUUID(input, namespace) {\n  const BASE_NAMESPACE = \"e4b01160-ff74-4c6e-9b27-d53cd930fe8e\";\n  const boundNamespace = namespace ? (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(namespace, BASE_NAMESPACE) : BASE_NAMESPACE;\n  return (0,uuid__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(input, boundNamespace);\n}\nfunction isValidUUID(uuid) {\n  return (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(uuid);\n}\n\n\n//# sourceMappingURL=chunk-VNNKZIFB.mjs.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstVk5OS1pJRkIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUM0RDtBQUM1RDtBQUNBLGlCQUFpQixnREFBTTtBQUN2QjtBQUNBO0FBQ0EsU0FBUyxnREFBTTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxnREFBTTtBQUMzQyxTQUFTLGdEQUFNO0FBQ2Y7QUFDQTtBQUNBLFNBQVMsZ0RBQVE7QUFDakI7O0FBT0U7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL2Rpc3QvY2h1bmstVk5OS1pJRkIubWpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy91dGlscy9yYW5kb20taWQudHNcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCwgdmFsaWRhdGUsIHY1IGFzIHV1aWR2NSB9IGZyb20gXCJ1dWlkXCI7XG5mdW5jdGlvbiByYW5kb21JZCgpIHtcbiAgcmV0dXJuIFwiY2stXCIgKyB1dWlkdjQoKTtcbn1cbmZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gIHJldHVybiB1dWlkdjQoKTtcbn1cbmZ1bmN0aW9uIGRhdGFUb1VVSUQoaW5wdXQsIG5hbWVzcGFjZSkge1xuICBjb25zdCBCQVNFX05BTUVTUEFDRSA9IFwiZTRiMDExNjAtZmY3NC00YzZlLTliMjctZDUzY2Q5MzBmZThlXCI7XG4gIGNvbnN0IGJvdW5kTmFtZXNwYWNlID0gbmFtZXNwYWNlID8gdXVpZHY1KG5hbWVzcGFjZSwgQkFTRV9OQU1FU1BBQ0UpIDogQkFTRV9OQU1FU1BBQ0U7XG4gIHJldHVybiB1dWlkdjUoaW5wdXQsIGJvdW5kTmFtZXNwYWNlKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRVVUlEKHV1aWQpIHtcbiAgcmV0dXJuIHZhbGlkYXRlKHV1aWQpO1xufVxuXG5leHBvcnQge1xuICByYW5kb21JZCxcbiAgcmFuZG9tVVVJRCxcbiAgZGF0YVRvVVVJRCxcbiAgaXNWYWxpZFVVSURcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay1WTk5LWklGQi5tanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/dist/chunk-VNNKZIFB.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID: (node_crypto__WEBPACK_IMPORTED_MODULE_0___default().randomUUID)\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvbmF0aXZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQyxpRUFBZTtBQUNmLGNBQWMsK0RBQWlCO0FBQy9CLENBQUMiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL25hdGl2ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ25vZGU6Y3J5cHRvJztcbmV4cG9ydCBkZWZhdWx0IHtcbiAgcmFuZG9tVVVJRDogY3J5cHRvLnJhbmRvbVVVSURcbn07Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n\nfunction parse(uuid) {\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n  let v;\n  const arr = new Uint8Array(16);\n\n  // Parse ########-....-....-....-............\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff;\n\n  // Parse ........-####-....-....-............\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff;\n\n  // Parse ........-....-####-....-............\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff;\n\n  // Parse ........-....-....-####-............\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff;\n\n  // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parse);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcGFyc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7QUFDckM7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLEtBQUsiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3BhcnNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cbiAgbGV0IHY7XG4gIGNvbnN0IGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTtcblxuICAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7XG5cbiAgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmO1xuXG4gIC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7XG5cbiAgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjtcblxuICAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcmVnZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWMsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLFVBQVUsR0FBRyw4RUFBOEUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JlZ2V4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtOF1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwfGZmZmZmZmZmLWZmZmYtZmZmZi1mZmZmLWZmZmZmZmZmZmZmZikkL2k7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst rnds8Pool = new Uint8Array(256); // # of random values to pre-allocate\nlet poolPtr = rnds8Pool.length;\nfunction rng() {\n  if (poolPtr > rnds8Pool.length - 16) {\n    node_crypto__WEBPACK_IMPORTED_MODULE_0___default().randomFillSync(rnds8Pool);\n    poolPtr = 0;\n  }\n  return rnds8Pool.slice(poolPtr, poolPtr += 16);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvcm5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQyx1Q0FBdUM7QUFDdkM7QUFDZTtBQUNmO0FBQ0EsSUFBSSxpRUFBcUI7QUFDekI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3JuZy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY3J5cHRvIGZyb20gJ25vZGU6Y3J5cHRvJztcbmNvbnN0IHJuZHM4UG9vbCA9IG5ldyBVaW50OEFycmF5KDI1Nik7IC8vICMgb2YgcmFuZG9tIHZhbHVlcyB0byBwcmUtYWxsb2NhdGVcbmxldCBwb29sUHRyID0gcm5kczhQb29sLmxlbmd0aDtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgaWYgKHBvb2xQdHIgPiBybmRzOFBvb2wubGVuZ3RoIC0gMTYpIHtcbiAgICBjcnlwdG8ucmFuZG9tRmlsbFN5bmMocm5kczhQb29sKTtcbiAgICBwb29sUHRyID0gMDtcbiAgfVxuICByZXR1cm4gcm5kczhQb29sLnNsaWNlKHBvb2xQdHIsIHBvb2xQdHIgKz0gMTYpO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:crypto */ \"node:crypto\");\n/* harmony import */ var node_crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction sha1(bytes) {\n  if (Array.isArray(bytes)) {\n    bytes = Buffer.from(bytes);\n  } else if (typeof bytes === 'string') {\n    bytes = Buffer.from(bytes, 'utf8');\n  }\n  return node_crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash('sha1').update(bytes).digest();\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (sha1);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc2hhMS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxTQUFTLDZEQUFpQjtBQUMxQjtBQUNBLGlFQUFlLElBQUkiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3NoYTEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tICdub2RlOmNyeXB0byc7XG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICBieXRlcyA9IEJ1ZmZlci5mcm9tKGJ5dGVzLCAndXRmOCcpO1xuICB9XG4gIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5leHBvcnQgZGVmYXVsdCBzaGExOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   unsafeStringify: () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\");\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvc3RyaW5naWZ5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQzs7QUFFckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLHdEQUFRO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxTQUFTIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS9zdHJpbmdpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbmNvbnN0IGJ5dGVUb0hleCA9IFtdO1xuZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc2xpY2UoMSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIC8vXG4gIC8vIE5vdGUgdG8gZnV0dXJlLXNlbGY6IE5vLCB5b3UgY2FuJ3QgcmVtb3ZlIHRoZSBgdG9Mb3dlckNhc2UoKWAgY2FsbC5cbiAgLy8gUkVGOiBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC82NzcjaXNzdWVjb21tZW50LTE3NTczNTEzNTFcbiAgcmV0dXJuIChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTtcbn1cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIsIG9mZnNldCA9IDApIHtcbiAgY29uc3QgdXVpZCA9IHVuc2FmZVN0cmluZ2lmeShhcnIsIG9mZnNldCk7XG4gIC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cbiAgcmV0dXJuIHV1aWQ7XG59XG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DNS: () => (/* binding */ DNS),\n/* harmony export */   URL: () => (/* binding */ URL),\n/* harmony export */   \"default\": () => (/* binding */ v35)\n/* harmony export */ });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./parse.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/parse.js\");\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n  return bytes;\n}\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n    if (typeof namespace === 'string') {\n      namespace = (0,_parse_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(namespace);\n    }\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    }\n\n    // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n    if (buf) {\n      offset = offset || 0;\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n      return buf;\n    }\n    return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_1__.unsafeStringify)(bytes);\n  }\n\n  // Function#name is not settable on some platforms (#270)\n  try {\n    generateUUID.name = name;\n  } catch (err) {}\n\n  // For CommonJS default export support\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjM1LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWlEO0FBQ2xCO0FBQy9CO0FBQ0EsMkNBQTJDOztBQUUzQztBQUNBLGtCQUFrQixnQkFBZ0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1E7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQUs7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixRQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyw4REFBZTtBQUMxQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3YzNS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgY29uc3QgYnl0ZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5leHBvcnQgY29uc3QgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgY29uc3QgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB2MzUobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgdmFyIF9uYW1lc3BhY2U7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG4gICAgaWYgKCgoX25hbWVzcGFjZSA9IG5hbWVzcGFjZSkgPT09IG51bGwgfHwgX25hbWVzcGFjZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX25hbWVzcGFjZS5sZW5ndGgpICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcbiAgICBsZXQgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShieXRlcyk7XG4gIH1cblxuICAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7XG4gIH0gY2F0Y2ggKGVycikge31cblxuICAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  const rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFpQztBQUNOO0FBQ3NCO0FBQ2pEO0FBQ0EsTUFBTSxrREFBTTtBQUNaLFdBQVcsa0RBQU07QUFDakI7QUFDQTtBQUNBLGlEQUFpRCwrQ0FBRzs7QUFFcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4REFBZTtBQUN4QjtBQUNBLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBuYXRpdmUgZnJvbSAnLi9uYXRpdmUuanMnO1xuaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgeyB1bnNhZmVTdHJpbmdpZnkgfSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5mdW5jdGlvbiB2NChvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICBpZiAobmF0aXZlLnJhbmRvbVVVSUQgJiYgIWJ1ZiAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuYXRpdmUucmFuZG9tVVVJRCgpO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBjb25zdCBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAvLyBQZXIgNC40LCBzZXQgYml0cyBmb3IgdmVyc2lvbiBhbmQgYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH1cbiAgcmV0dXJuIHVuc2FmZVN0cmluZ2lmeShybmRzKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHY0OyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v4.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/sha1.js\");\n\n\nconst v5 = (0,_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v5);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdjUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJCO0FBQ0U7QUFDN0IsV0FBVyxtREFBRyxhQUFhLGdEQUFJO0FBQy9CLGlFQUFlLEVBQUUiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0Bjb3BpbG90a2l0L3NoYXJlZC9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1ub2RlL3Y1LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbmNvbnN0IHY1ID0gdjM1KCd2NScsIDB4NTAsIHNoYTEpO1xuZXhwb3J0IGRlZmF1bHQgdjU7Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/v5.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvcGlsb3RraXQvc2hhcmVkL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLW5vZGUvdmFsaWRhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBK0I7QUFDL0I7QUFDQSxxQ0FBcUMsaURBQUs7QUFDMUM7QUFDQSxpRUFBZSxRQUFRIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9AY29waWxvdGtpdC9zaGFyZWQvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tbm9kZS92YWxpZGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@copilotkit/shared/node_modules/uuid/dist/esm-node/validate.js\n");

/***/ })

};
;