/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@whatwg-node";
exports.ids = ["vendor-chunks/@whatwg-node"];
exports.modules = {

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillAsyncDisposableStack = void 0;\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst SupressedError_js_1 = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\");\nconst symbols_js_1 = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js\");\nconst SuppressedError = globalThis.SuppressedError || SupressedError_js_1.PonyfillSuppressedError;\nclass PonyfillAsyncDisposableStack {\n    callbacks = [];\n    get disposed() {\n        return this.callbacks.length === 0;\n    }\n    use(value) {\n        if ((0, utils_js_1.isAsyncDisposable)(value)) {\n            this.callbacks.push(() => value[symbols_js_1.DisposableSymbols.asyncDispose]());\n        }\n        else if ((0, utils_js_1.isSyncDisposable)(value)) {\n            this.callbacks.push(() => value[symbols_js_1.DisposableSymbols.dispose]());\n        }\n        return value;\n    }\n    adopt(value, onDisposeAsync) {\n        if (onDisposeAsync) {\n            this.callbacks.push(() => onDisposeAsync(value));\n        }\n        return value;\n    }\n    defer(onDisposeAsync) {\n        if (onDisposeAsync) {\n            this.callbacks.push(onDisposeAsync);\n        }\n    }\n    move() {\n        const stack = new PonyfillAsyncDisposableStack();\n        stack.callbacks = this.callbacks;\n        this.callbacks = [];\n        return stack;\n    }\n    disposeAsync() {\n        return this[symbols_js_1.DisposableSymbols.asyncDispose]();\n    }\n    _error;\n    _iterateCallbacks() {\n        const cb = this.callbacks.pop();\n        if (cb) {\n            return (0, promise_helpers_1.handleMaybePromise)(cb, () => this._iterateCallbacks(), error => {\n                this._error = this._error ? new SuppressedError(error, this._error) : error;\n                return this._iterateCallbacks();\n            });\n        }\n    }\n    [symbols_js_1.DisposableSymbols.asyncDispose]() {\n        const res$ = this._iterateCallbacks();\n        if (res$?.then) {\n            return res$.then(() => {\n                if (this._error) {\n                    const error = this._error;\n                    this._error = undefined;\n                    throw error;\n                }\n            });\n        }\n        if (this._error) {\n            const error = this._error;\n            this._error = undefined;\n            throw error;\n        }\n        return undefined;\n    }\n    [Symbol.toStringTag] = 'AsyncDisposableStack';\n}\nexports.PonyfillAsyncDisposableStack = PonyfillAsyncDisposableStack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvQXN5bmNEaXNwb3NhYmxlU3RhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DO0FBQ3BDLDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSw0QkFBNEIsbUJBQU8sQ0FBQyxvR0FBcUI7QUFDekQscUJBQXFCLG1CQUFPLENBQUMsc0ZBQWM7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsa0ZBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2svY2pzL0FzeW5jRGlzcG9zYWJsZVN0YWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbEFzeW5jRGlzcG9zYWJsZVN0YWNrID0gdm9pZCAwO1xuY29uc3QgcHJvbWlzZV9oZWxwZXJzXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVyc1wiKTtcbmNvbnN0IFN1cHJlc3NlZEVycm9yX2pzXzEgPSByZXF1aXJlKFwiLi9TdXByZXNzZWRFcnJvci5qc1wiKTtcbmNvbnN0IHN5bWJvbHNfanNfMSA9IHJlcXVpcmUoXCIuL3N5bWJvbHMuanNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCBTdXBwcmVzc2VkRXJyb3IgPSBnbG9iYWxUaGlzLlN1cHByZXNzZWRFcnJvciB8fCBTdXByZXNzZWRFcnJvcl9qc18xLlBvbnlmaWxsU3VwcHJlc3NlZEVycm9yO1xuY2xhc3MgUG9ueWZpbGxBc3luY0Rpc3Bvc2FibGVTdGFjayB7XG4gICAgY2FsbGJhY2tzID0gW107XG4gICAgZ2V0IGRpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja3MubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICB1c2UodmFsdWUpIHtcbiAgICAgICAgaWYgKCgwLCB1dGlsc19qc18xLmlzQXN5bmNEaXNwb3NhYmxlKSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKCkgPT4gdmFsdWVbc3ltYm9sc19qc18xLkRpc3Bvc2FibGVTeW1ib2xzLmFzeW5jRGlzcG9zZV0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKDAsIHV0aWxzX2pzXzEuaXNTeW5jRGlzcG9zYWJsZSkodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKCgpID0+IHZhbHVlW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGFkb3B0KHZhbHVlLCBvbkRpc3Bvc2VBc3luYykge1xuICAgICAgICBpZiAob25EaXNwb3NlQXN5bmMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKCkgPT4gb25EaXNwb3NlQXN5bmModmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGRlZmVyKG9uRGlzcG9zZUFzeW5jKSB7XG4gICAgICAgIGlmIChvbkRpc3Bvc2VBc3luYykge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaChvbkRpc3Bvc2VBc3luYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW92ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgUG9ueWZpbGxBc3luY0Rpc3Bvc2FibGVTdGFjaygpO1xuICAgICAgICBzdGFjay5jYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH1cbiAgICBkaXNwb3NlQXN5bmMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5hc3luY0Rpc3Bvc2VdKCk7XG4gICAgfVxuICAgIF9lcnJvcjtcbiAgICBfaXRlcmF0ZUNhbGxiYWNrcygpIHtcbiAgICAgICAgY29uc3QgY2IgPSB0aGlzLmNhbGxiYWNrcy5wb3AoKTtcbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoY2IsICgpID0+IHRoaXMuX2l0ZXJhdGVDYWxsYmFja3MoKSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gdGhpcy5fZXJyb3IgPyBuZXcgU3VwcHJlc3NlZEVycm9yKGVycm9yLCB0aGlzLl9lcnJvcikgOiBlcnJvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlcmF0ZUNhbGxiYWNrcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5hc3luY0Rpc3Bvc2VdKCkge1xuICAgICAgICBjb25zdCByZXMkID0gdGhpcy5faXRlcmF0ZUNhbGxiYWNrcygpO1xuICAgICAgICBpZiAocmVzJD8udGhlbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcyQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0FzeW5jRGlzcG9zYWJsZVN0YWNrJztcbn1cbmV4cG9ydHMuUG9ueWZpbGxBc3luY0Rpc3Bvc2FibGVTdGFjayA9IFBvbnlmaWxsQXN5bmNEaXNwb3NhYmxlU3RhY2s7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillDisposableStack = void 0;\nconst SupressedError_js_1 = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\");\nconst symbols_js_1 = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js\");\nconst SuppressedError = globalThis.SuppressedError || SupressedError_js_1.PonyfillSuppressedError;\nclass PonyfillDisposableStack {\n    callbacks = [];\n    get disposed() {\n        return this.callbacks.length === 0;\n    }\n    use(value) {\n        if ((0, utils_js_1.isSyncDisposable)(value)) {\n            this.callbacks.push(() => value[symbols_js_1.DisposableSymbols.dispose]());\n        }\n        return value;\n    }\n    adopt(value, onDispose) {\n        if (onDispose) {\n            this.callbacks.push(() => onDispose(value));\n        }\n        return value;\n    }\n    defer(onDispose) {\n        if (onDispose) {\n            this.callbacks.push(onDispose);\n        }\n    }\n    move() {\n        const stack = new PonyfillDisposableStack();\n        stack.callbacks = this.callbacks;\n        this.callbacks = [];\n        return stack;\n    }\n    dispose() {\n        return this[symbols_js_1.DisposableSymbols.dispose]();\n    }\n    _error;\n    _iterateCallbacks() {\n        const cb = this.callbacks.pop();\n        if (cb) {\n            try {\n                cb();\n            }\n            catch (error) {\n                this._error = this._error ? new SuppressedError(error, this._error) : error;\n            }\n            return this._iterateCallbacks();\n        }\n    }\n    [symbols_js_1.DisposableSymbols.dispose]() {\n        this._iterateCallbacks();\n        if (this._error) {\n            const error = this._error;\n            this._error = undefined;\n            throw error;\n        }\n    }\n    [Symbol.toStringTag] = 'DisposableStack';\n}\nexports.PonyfillDisposableStack = PonyfillDisposableStack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvRGlzcG9zYWJsZVN0YWNrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQjtBQUMvQiw0QkFBNEIsbUJBQU8sQ0FBQyxvR0FBcUI7QUFDekQscUJBQXFCLG1CQUFPLENBQUMsc0ZBQWM7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsa0ZBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2svY2pzL0Rpc3Bvc2FibGVTdGFjay5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxEaXNwb3NhYmxlU3RhY2sgPSB2b2lkIDA7XG5jb25zdCBTdXByZXNzZWRFcnJvcl9qc18xID0gcmVxdWlyZShcIi4vU3VwcmVzc2VkRXJyb3IuanNcIik7XG5jb25zdCBzeW1ib2xzX2pzXzEgPSByZXF1aXJlKFwiLi9zeW1ib2xzLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY29uc3QgU3VwcHJlc3NlZEVycm9yID0gZ2xvYmFsVGhpcy5TdXBwcmVzc2VkRXJyb3IgfHwgU3VwcmVzc2VkRXJyb3JfanNfMS5Qb255ZmlsbFN1cHByZXNzZWRFcnJvcjtcbmNsYXNzIFBvbnlmaWxsRGlzcG9zYWJsZVN0YWNrIHtcbiAgICBjYWxsYmFja3MgPSBbXTtcbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIHVzZSh2YWx1ZSkge1xuICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNTeW5jRGlzcG9zYWJsZSkodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKCgpID0+IHZhbHVlW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGFkb3B0KHZhbHVlLCBvbkRpc3Bvc2UpIHtcbiAgICAgICAgaWYgKG9uRGlzcG9zZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCgoKSA9PiBvbkRpc3Bvc2UodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGRlZmVyKG9uRGlzcG9zZSkge1xuICAgICAgICBpZiAob25EaXNwb3NlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKG9uRGlzcG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW92ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgUG9ueWZpbGxEaXNwb3NhYmxlU3RhY2soKTtcbiAgICAgICAgc3RhY2suY2FsbGJhY2tzID0gdGhpcy5jYWxsYmFja3M7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzID0gW107XG4gICAgICAgIHJldHVybiBzdGFjaztcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbc3ltYm9sc19qc18xLkRpc3Bvc2FibGVTeW1ib2xzLmRpc3Bvc2VdKCk7XG4gICAgfVxuICAgIF9lcnJvcjtcbiAgICBfaXRlcmF0ZUNhbGxiYWNrcygpIHtcbiAgICAgICAgY29uc3QgY2IgPSB0aGlzLmNhbGxiYWNrcy5wb3AoKTtcbiAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IHRoaXMuX2Vycm9yID8gbmV3IFN1cHByZXNzZWRFcnJvcihlcnJvciwgdGhpcy5fZXJyb3IpIDogZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlcmF0ZUNhbGxiYWNrcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFtzeW1ib2xzX2pzXzEuRGlzcG9zYWJsZVN5bWJvbHMuZGlzcG9zZV0oKSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhdGVDYWxsYmFja3MoKTtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEaXNwb3NhYmxlU3RhY2snO1xufVxuZXhwb3J0cy5Qb255ZmlsbERpc3Bvc2FibGVTdGFjayA9IFBvbnlmaWxsRGlzcG9zYWJsZVN0YWNrO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillSuppressedError = void 0;\nclass PonyfillSuppressedError extends Error {\n    error;\n    suppressed;\n    // eslint-disable-next-line n/handle-callback-err\n    constructor(error, suppressed, message) {\n        super(message);\n        this.error = error;\n        this.suppressed = suppressed;\n        this.name = 'SuppressedError';\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\nexports.PonyfillSuppressedError = PonyfillSuppressedError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvU3VwcmVzc2VkRXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvU3VwcmVzc2VkRXJyb3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsU3VwcHJlc3NlZEVycm9yID0gdm9pZCAwO1xuY2xhc3MgUG9ueWZpbGxTdXBwcmVzc2VkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZXJyb3I7XG4gICAgc3VwcHJlc3NlZDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9oYW5kbGUtY2FsbGJhY2stZXJyXG4gICAgY29uc3RydWN0b3IoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZDtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1N1cHByZXNzZWRFcnJvcic7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxTdXBwcmVzc2VkRXJyb3IgPSBQb255ZmlsbFN1cHByZXNzZWRFcnJvcjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SuppressedError = exports.AsyncDisposableStack = exports.DisposableStack = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst AsyncDisposableStack_js_1 = __webpack_require__(/*! ./AsyncDisposableStack.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js\");\nconst DisposableStack_js_1 = __webpack_require__(/*! ./DisposableStack.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js\");\nconst SupressedError_js_1 = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\");\nexports.DisposableStack = globalThis.DisposableStack || DisposableStack_js_1.PonyfillDisposableStack;\nexports.AsyncDisposableStack = globalThis.AsyncDisposableStack || AsyncDisposableStack_js_1.PonyfillAsyncDisposableStack;\nexports.SuppressedError = globalThis.SuppressedError || SupressedError_js_1.PonyfillSuppressedError;\ntslib_1.__exportStar(__webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCO0FBQ2hGLGdCQUFnQixtQkFBTyxDQUFDLHVEQUFPO0FBQy9CLGtDQUFrQyxtQkFBTyxDQUFDLGdIQUEyQjtBQUNyRSw2QkFBNkIsbUJBQU8sQ0FBQyxzR0FBc0I7QUFDM0QsNEJBQTRCLG1CQUFPLENBQUMsb0dBQXFCO0FBQ3pELHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIsdUJBQXVCO0FBQ3ZCLHFCQUFxQixtQkFBTyxDQUFDLHNGQUFjIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2Nqcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3VwcHJlc3NlZEVycm9yID0gZXhwb3J0cy5Bc3luY0Rpc3Bvc2FibGVTdGFjayA9IGV4cG9ydHMuRGlzcG9zYWJsZVN0YWNrID0gdm9pZCAwO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbmNvbnN0IEFzeW5jRGlzcG9zYWJsZVN0YWNrX2pzXzEgPSByZXF1aXJlKFwiLi9Bc3luY0Rpc3Bvc2FibGVTdGFjay5qc1wiKTtcbmNvbnN0IERpc3Bvc2FibGVTdGFja19qc18xID0gcmVxdWlyZShcIi4vRGlzcG9zYWJsZVN0YWNrLmpzXCIpO1xuY29uc3QgU3VwcmVzc2VkRXJyb3JfanNfMSA9IHJlcXVpcmUoXCIuL1N1cHJlc3NlZEVycm9yLmpzXCIpO1xuZXhwb3J0cy5EaXNwb3NhYmxlU3RhY2sgPSBnbG9iYWxUaGlzLkRpc3Bvc2FibGVTdGFjayB8fCBEaXNwb3NhYmxlU3RhY2tfanNfMS5Qb255ZmlsbERpc3Bvc2FibGVTdGFjaztcbmV4cG9ydHMuQXN5bmNEaXNwb3NhYmxlU3RhY2sgPSBnbG9iYWxUaGlzLkFzeW5jRGlzcG9zYWJsZVN0YWNrIHx8IEFzeW5jRGlzcG9zYWJsZVN0YWNrX2pzXzEuUG9ueWZpbGxBc3luY0Rpc3Bvc2FibGVTdGFjaztcbmV4cG9ydHMuU3VwcHJlc3NlZEVycm9yID0gZ2xvYmFsVGhpcy5TdXBwcmVzc2VkRXJyb3IgfHwgU3VwcmVzc2VkRXJyb3JfanNfMS5Qb255ZmlsbFN1cHByZXNzZWRFcnJvcjtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3N5bWJvbHMuanNcIiksIGV4cG9ydHMpO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js":
/*!******************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/symbols.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DisposableSymbols = void 0;\nexports.patchSymbols = patchSymbols;\nexports.DisposableSymbols = {\n    get dispose() {\n        return Symbol.dispose || Symbol.for('dispose');\n    },\n    get asyncDispose() {\n        return Symbol.asyncDispose || Symbol.for('asyncDispose');\n    },\n};\nfunction patchSymbols() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - we ponyfill these symbols\n    Symbol.dispose ||= Symbol.for('dispose');\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - we ponyfill these symbols\n    Symbol.asyncDispose ||= Symbol.for('asyncDispose');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvc3ltYm9scy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2Nqcy9zeW1ib2xzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EaXNwb3NhYmxlU3ltYm9scyA9IHZvaWQgMDtcbmV4cG9ydHMucGF0Y2hTeW1ib2xzID0gcGF0Y2hTeW1ib2xzO1xuZXhwb3J0cy5EaXNwb3NhYmxlU3ltYm9scyA9IHtcbiAgICBnZXQgZGlzcG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIFN5bWJvbC5kaXNwb3NlIHx8IFN5bWJvbC5mb3IoJ2Rpc3Bvc2UnKTtcbiAgICB9LFxuICAgIGdldCBhc3luY0Rpc3Bvc2UoKSB7XG4gICAgICAgIHJldHVybiBTeW1ib2wuYXN5bmNEaXNwb3NlIHx8IFN5bWJvbC5mb3IoJ2FzeW5jRGlzcG9zZScpO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcGF0Y2hTeW1ib2xzKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlIC0gd2UgcG9ueWZpbGwgdGhlc2Ugc3ltYm9sc1xuICAgIFN5bWJvbC5kaXNwb3NlIHx8PSBTeW1ib2wuZm9yKCdkaXNwb3NlJyk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmUgLSB3ZSBwb255ZmlsbCB0aGVzZSBzeW1ib2xzXG4gICAgU3ltYm9sLmFzeW5jRGlzcG9zZSB8fD0gU3ltYm9sLmZvcignYXN5bmNEaXNwb3NlJyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/utils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isSyncDisposable = isSyncDisposable;\nexports.isAsyncDisposable = isAsyncDisposable;\nconst symbols_js_1 = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\");\nfunction isSyncDisposable(obj) {\n    return obj?.[symbols_js_1.DisposableSymbols.dispose] != null;\n}\nfunction isAsyncDisposable(obj) {\n    return obj?.[symbols_js_1.DisposableSymbols.asyncDispose] != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLHlCQUF5QjtBQUN6QixxQkFBcUIsbUJBQU8sQ0FBQyxzRkFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2svY2pzL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc1N5bmNEaXNwb3NhYmxlID0gaXNTeW5jRGlzcG9zYWJsZTtcbmV4cG9ydHMuaXNBc3luY0Rpc3Bvc2FibGUgPSBpc0FzeW5jRGlzcG9zYWJsZTtcbmNvbnN0IHN5bWJvbHNfanNfMSA9IHJlcXVpcmUoXCIuL3N5bWJvbHMuanNcIik7XG5mdW5jdGlvbiBpc1N5bmNEaXNwb3NhYmxlKG9iaikge1xuICAgIHJldHVybiBvYmo/LltzeW1ib2xzX2pzXzEuRGlzcG9zYWJsZVN5bWJvbHMuZGlzcG9zZV0gIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQXN5bmNEaXNwb3NhYmxlKG9iaikge1xuICAgIHJldHVybiBvYmo/LltzeW1ib2xzX2pzXzEuRGlzcG9zYWJsZVN5bWJvbHMuYXN5bmNEaXNwb3NlXSAhPSBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/events/cjs/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@whatwg-node/events/cjs/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CustomEvent = void 0;\nexports.CustomEvent = globalThis.CustomEvent ||\n    class PonyfillCustomEvent extends Event {\n        detail = null;\n        constructor(type, eventInitDict) {\n            super(type, eventInitDict);\n            if (eventInitDict?.detail != null) {\n                this.detail = eventInitDict.detail;\n            }\n        }\n        initCustomEvent(type, bubbles, cancelable, detail) {\n            this.initEvent(type, bubbles, cancelable);\n            if (detail != null) {\n                this.detail = detail;\n            }\n        }\n    };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2V2ZW50cy9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ldmVudHMvY2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DdXN0b21FdmVudCA9IHZvaWQgMDtcbmV4cG9ydHMuQ3VzdG9tRXZlbnQgPSBnbG9iYWxUaGlzLkN1c3RvbUV2ZW50IHx8XG4gICAgY2xhc3MgUG9ueWZpbGxDdXN0b21FdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgICAgICAgZGV0YWlsID0gbnVsbDtcbiAgICAgICAgY29uc3RydWN0b3IodHlwZSwgZXZlbnRJbml0RGljdCkge1xuICAgICAgICAgICAgc3VwZXIodHlwZSwgZXZlbnRJbml0RGljdCk7XG4gICAgICAgICAgICBpZiAoZXZlbnRJbml0RGljdD8uZGV0YWlsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbCA9IGV2ZW50SW5pdERpY3QuZGV0YWlsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluaXRDdXN0b21FdmVudCh0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlLCBkZXRhaWwpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEV2ZW50KHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpO1xuICAgICAgICAgICAgaWYgKGRldGFpbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhaWwgPSBkZXRhaWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/events/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const shouldSkipPonyfill = __webpack_require__(/*! ./shouldSkipPonyfill */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js\");\nlet newNodeFetch;\n\nmodule.exports = function createNodePonyfill(opts = {}) {\n  const ponyfills = {};\n  \n  ponyfills.URLPattern = globalThis.URLPattern;\n\n  // We call this previously to patch `Bun`\n  if (!ponyfills.URLPattern) {\n    const urlPatternModule = __webpack_require__(/*! urlpattern-polyfill */ \"(rsc)/./node_modules/urlpattern-polyfill/index.cjs\");\n    ponyfills.URLPattern = urlPatternModule.URLPattern;\n  }\n\n  if (opts.skipPonyfill || shouldSkipPonyfill()) {\n    return {\n      fetch: globalThis.fetch,\n      Headers: globalThis.Headers,\n      Request: globalThis.Request,\n      Response: globalThis.Response,\n      FormData: globalThis.FormData,\n      ReadableStream: globalThis.ReadableStream,\n      WritableStream: globalThis.WritableStream,\n      TransformStream: globalThis.TransformStream,\n      CompressionStream: globalThis.CompressionStream,\n      DecompressionStream: globalThis.DecompressionStream,\n      TextDecoderStream: globalThis.TextDecoderStream,\n      TextEncoderStream: globalThis.TextEncoderStream,\n      Blob: globalThis.Blob,\n      File: globalThis.File,\n      crypto: globalThis.crypto,\n      btoa: globalThis.btoa,\n      TextEncoder: globalThis.TextEncoder,\n      TextDecoder: globalThis.TextDecoder,\n      URLPattern: ponyfills.URLPattern,\n      URL: globalThis.URL,\n      URLSearchParams: globalThis.URLSearchParams\n    };\n  }\n\n  newNodeFetch ||= __webpack_require__(/*! @whatwg-node/node-fetch */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/index.js\");\n\n  ponyfills.fetch = newNodeFetch.fetch;\n  ponyfills.Request = newNodeFetch.Request;\n  ponyfills.Response = newNodeFetch.Response;\n  ponyfills.Headers = newNodeFetch.Headers;\n  ponyfills.FormData = newNodeFetch.FormData;\n  ponyfills.ReadableStream = newNodeFetch.ReadableStream;\n\n  ponyfills.URL = newNodeFetch.URL;\n  ponyfills.URLSearchParams = newNodeFetch.URLSearchParams;\n\n  ponyfills.WritableStream = newNodeFetch.WritableStream;\n  ponyfills.TransformStream = newNodeFetch.TransformStream;\n  ponyfills.CompressionStream = newNodeFetch.CompressionStream;\n  ponyfills.DecompressionStream = newNodeFetch.DecompressionStream;\n  ponyfills.TextDecoderStream = newNodeFetch.TextDecoderStream;\n  ponyfills.TextEncoderStream = newNodeFetch.TextEncoderStream;\n\n  ponyfills.Blob = newNodeFetch.Blob;\n  ponyfills.File = newNodeFetch.File;\n  ponyfills.crypto = globalThis.crypto;\n  ponyfills.btoa = newNodeFetch.btoa;\n  ponyfills.TextEncoder = newNodeFetch.TextEncoder;\n  ponyfills.TextDecoder = newNodeFetch.TextDecoder;\n\n  if (opts.formDataLimits) {\n    ponyfills.Body = class Body extends newNodeFetch.Body {\n      constructor(body, userOpts) {\n        super(body, {\n          formDataLimits: opts.formDataLimits,\n          ...userOpts,\n        });\n      }\n    }\n    ponyfills.Request = class Request extends newNodeFetch.Request {\n      constructor(input, userOpts) {\n        super(input, {\n          formDataLimits: opts.formDataLimits,\n          ...userOpts,\n        });\n      }\n    }\n    ponyfills.Response = class Response extends newNodeFetch.Response {\n      constructor(body, userOpts) {\n        super(body, {\n          formDataLimits: opts.formDataLimits,\n          ...userOpts,\n        });\n      }\n    }\n  }\n\n  if (!ponyfills.crypto) {\n    const cryptoModule = __webpack_require__(/*! crypto */ \"crypto\");\n    ponyfills.crypto = cryptoModule.webcrypto;\n  }\n\n  return ponyfills;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2ZldGNoL2Rpc3QvY3JlYXRlLW5vZGUtcG9ueWZpbGwuanMiLCJtYXBwaW5ncyI6IkFBQUEsMkJBQTJCLG1CQUFPLENBQUMsZ0dBQXNCO0FBQ3pEOztBQUVBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QixtQkFBTyxDQUFDLCtFQUFxQjtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixtQkFBTyxDQUFDLDBGQUF5Qjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsc0JBQVE7QUFDekM7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZmV0Y2gvZGlzdC9jcmVhdGUtbm9kZS1wb255ZmlsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzaG91bGRTa2lwUG9ueWZpbGwgPSByZXF1aXJlKCcuL3Nob3VsZFNraXBQb255ZmlsbCcpO1xubGV0IG5ld05vZGVGZXRjaDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVOb2RlUG9ueWZpbGwob3B0cyA9IHt9KSB7XG4gIGNvbnN0IHBvbnlmaWxscyA9IHt9O1xuICBcbiAgcG9ueWZpbGxzLlVSTFBhdHRlcm4gPSBnbG9iYWxUaGlzLlVSTFBhdHRlcm47XG5cbiAgLy8gV2UgY2FsbCB0aGlzIHByZXZpb3VzbHkgdG8gcGF0Y2ggYEJ1bmBcbiAgaWYgKCFwb255ZmlsbHMuVVJMUGF0dGVybikge1xuICAgIGNvbnN0IHVybFBhdHRlcm5Nb2R1bGUgPSByZXF1aXJlKCd1cmxwYXR0ZXJuLXBvbHlmaWxsJyk7XG4gICAgcG9ueWZpbGxzLlVSTFBhdHRlcm4gPSB1cmxQYXR0ZXJuTW9kdWxlLlVSTFBhdHRlcm47XG4gIH1cblxuICBpZiAob3B0cy5za2lwUG9ueWZpbGwgfHwgc2hvdWxkU2tpcFBvbnlmaWxsKCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmV0Y2g6IGdsb2JhbFRoaXMuZmV0Y2gsXG4gICAgICBIZWFkZXJzOiBnbG9iYWxUaGlzLkhlYWRlcnMsXG4gICAgICBSZXF1ZXN0OiBnbG9iYWxUaGlzLlJlcXVlc3QsXG4gICAgICBSZXNwb25zZTogZ2xvYmFsVGhpcy5SZXNwb25zZSxcbiAgICAgIEZvcm1EYXRhOiBnbG9iYWxUaGlzLkZvcm1EYXRhLFxuICAgICAgUmVhZGFibGVTdHJlYW06IGdsb2JhbFRoaXMuUmVhZGFibGVTdHJlYW0sXG4gICAgICBXcml0YWJsZVN0cmVhbTogZ2xvYmFsVGhpcy5Xcml0YWJsZVN0cmVhbSxcbiAgICAgIFRyYW5zZm9ybVN0cmVhbTogZ2xvYmFsVGhpcy5UcmFuc2Zvcm1TdHJlYW0sXG4gICAgICBDb21wcmVzc2lvblN0cmVhbTogZ2xvYmFsVGhpcy5Db21wcmVzc2lvblN0cmVhbSxcbiAgICAgIERlY29tcHJlc3Npb25TdHJlYW06IGdsb2JhbFRoaXMuRGVjb21wcmVzc2lvblN0cmVhbSxcbiAgICAgIFRleHREZWNvZGVyU3RyZWFtOiBnbG9iYWxUaGlzLlRleHREZWNvZGVyU3RyZWFtLFxuICAgICAgVGV4dEVuY29kZXJTdHJlYW06IGdsb2JhbFRoaXMuVGV4dEVuY29kZXJTdHJlYW0sXG4gICAgICBCbG9iOiBnbG9iYWxUaGlzLkJsb2IsXG4gICAgICBGaWxlOiBnbG9iYWxUaGlzLkZpbGUsXG4gICAgICBjcnlwdG86IGdsb2JhbFRoaXMuY3J5cHRvLFxuICAgICAgYnRvYTogZ2xvYmFsVGhpcy5idG9hLFxuICAgICAgVGV4dEVuY29kZXI6IGdsb2JhbFRoaXMuVGV4dEVuY29kZXIsXG4gICAgICBUZXh0RGVjb2RlcjogZ2xvYmFsVGhpcy5UZXh0RGVjb2RlcixcbiAgICAgIFVSTFBhdHRlcm46IHBvbnlmaWxscy5VUkxQYXR0ZXJuLFxuICAgICAgVVJMOiBnbG9iYWxUaGlzLlVSTCxcbiAgICAgIFVSTFNlYXJjaFBhcmFtczogZ2xvYmFsVGhpcy5VUkxTZWFyY2hQYXJhbXNcbiAgICB9O1xuICB9XG5cbiAgbmV3Tm9kZUZldGNoIHx8PSByZXF1aXJlKCdAd2hhdHdnLW5vZGUvbm9kZS1mZXRjaCcpO1xuXG4gIHBvbnlmaWxscy5mZXRjaCA9IG5ld05vZGVGZXRjaC5mZXRjaDtcbiAgcG9ueWZpbGxzLlJlcXVlc3QgPSBuZXdOb2RlRmV0Y2guUmVxdWVzdDtcbiAgcG9ueWZpbGxzLlJlc3BvbnNlID0gbmV3Tm9kZUZldGNoLlJlc3BvbnNlO1xuICBwb255ZmlsbHMuSGVhZGVycyA9IG5ld05vZGVGZXRjaC5IZWFkZXJzO1xuICBwb255ZmlsbHMuRm9ybURhdGEgPSBuZXdOb2RlRmV0Y2guRm9ybURhdGE7XG4gIHBvbnlmaWxscy5SZWFkYWJsZVN0cmVhbSA9IG5ld05vZGVGZXRjaC5SZWFkYWJsZVN0cmVhbTtcblxuICBwb255ZmlsbHMuVVJMID0gbmV3Tm9kZUZldGNoLlVSTDtcbiAgcG9ueWZpbGxzLlVSTFNlYXJjaFBhcmFtcyA9IG5ld05vZGVGZXRjaC5VUkxTZWFyY2hQYXJhbXM7XG5cbiAgcG9ueWZpbGxzLldyaXRhYmxlU3RyZWFtID0gbmV3Tm9kZUZldGNoLldyaXRhYmxlU3RyZWFtO1xuICBwb255ZmlsbHMuVHJhbnNmb3JtU3RyZWFtID0gbmV3Tm9kZUZldGNoLlRyYW5zZm9ybVN0cmVhbTtcbiAgcG9ueWZpbGxzLkNvbXByZXNzaW9uU3RyZWFtID0gbmV3Tm9kZUZldGNoLkNvbXByZXNzaW9uU3RyZWFtO1xuICBwb255ZmlsbHMuRGVjb21wcmVzc2lvblN0cmVhbSA9IG5ld05vZGVGZXRjaC5EZWNvbXByZXNzaW9uU3RyZWFtO1xuICBwb255ZmlsbHMuVGV4dERlY29kZXJTdHJlYW0gPSBuZXdOb2RlRmV0Y2guVGV4dERlY29kZXJTdHJlYW07XG4gIHBvbnlmaWxscy5UZXh0RW5jb2RlclN0cmVhbSA9IG5ld05vZGVGZXRjaC5UZXh0RW5jb2RlclN0cmVhbTtcblxuICBwb255ZmlsbHMuQmxvYiA9IG5ld05vZGVGZXRjaC5CbG9iO1xuICBwb255ZmlsbHMuRmlsZSA9IG5ld05vZGVGZXRjaC5GaWxlO1xuICBwb255ZmlsbHMuY3J5cHRvID0gZ2xvYmFsVGhpcy5jcnlwdG87XG4gIHBvbnlmaWxscy5idG9hID0gbmV3Tm9kZUZldGNoLmJ0b2E7XG4gIHBvbnlmaWxscy5UZXh0RW5jb2RlciA9IG5ld05vZGVGZXRjaC5UZXh0RW5jb2RlcjtcbiAgcG9ueWZpbGxzLlRleHREZWNvZGVyID0gbmV3Tm9kZUZldGNoLlRleHREZWNvZGVyO1xuXG4gIGlmIChvcHRzLmZvcm1EYXRhTGltaXRzKSB7XG4gICAgcG9ueWZpbGxzLkJvZHkgPSBjbGFzcyBCb2R5IGV4dGVuZHMgbmV3Tm9kZUZldGNoLkJvZHkge1xuICAgICAgY29uc3RydWN0b3IoYm9keSwgdXNlck9wdHMpIHtcbiAgICAgICAgc3VwZXIoYm9keSwge1xuICAgICAgICAgIGZvcm1EYXRhTGltaXRzOiBvcHRzLmZvcm1EYXRhTGltaXRzLFxuICAgICAgICAgIC4uLnVzZXJPcHRzLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9ueWZpbGxzLlJlcXVlc3QgPSBjbGFzcyBSZXF1ZXN0IGV4dGVuZHMgbmV3Tm9kZUZldGNoLlJlcXVlc3Qge1xuICAgICAgY29uc3RydWN0b3IoaW5wdXQsIHVzZXJPcHRzKSB7XG4gICAgICAgIHN1cGVyKGlucHV0LCB7XG4gICAgICAgICAgZm9ybURhdGFMaW1pdHM6IG9wdHMuZm9ybURhdGFMaW1pdHMsXG4gICAgICAgICAgLi4udXNlck9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBwb255ZmlsbHMuUmVzcG9uc2UgPSBjbGFzcyBSZXNwb25zZSBleHRlbmRzIG5ld05vZGVGZXRjaC5SZXNwb25zZSB7XG4gICAgICBjb25zdHJ1Y3Rvcihib2R5LCB1c2VyT3B0cykge1xuICAgICAgICBzdXBlcihib2R5LCB7XG4gICAgICAgICAgZm9ybURhdGFMaW1pdHM6IG9wdHMuZm9ybURhdGFMaW1pdHMsXG4gICAgICAgICAgLi4udXNlck9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICghcG9ueWZpbGxzLmNyeXB0bykge1xuICAgIGNvbnN0IGNyeXB0b01vZHVsZSA9IHJlcXVpcmUoXCJjcnlwdG9cIik7XG4gICAgcG9ueWZpbGxzLmNyeXB0byA9IGNyeXB0b01vZHVsZS53ZWJjcnlwdG87XG4gIH1cblxuICByZXR1cm4gcG9ueWZpbGxzO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js":
/*!***************************************************************!*\
  !*** ./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js ***!
  \***************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("\nconst createNodePonyfill = __webpack_require__(/*! ./create-node-ponyfill */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js\");\nconst shouldSkipPonyfill = __webpack_require__(/*! ./shouldSkipPonyfill */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js\");\nconst ponyfills = createNodePonyfill();\n\nif (!shouldSkipPonyfill()) {\n  try {\n    const nodelibcurlName = 'node-libcurl'\n    globalThis.libcurl = globalThis.libcurl || __webpack_require__(\"(rsc)/./node_modules/@whatwg-node/fetch/dist sync recursive\")(nodelibcurlName);\n  } catch (e) { }\n}\n\nmodule.exports.fetch = ponyfills.fetch;\nmodule.exports.Headers = ponyfills.Headers;\nmodule.exports.Request = ponyfills.Request;\nmodule.exports.Response = ponyfills.Response;\nmodule.exports.FormData = ponyfills.FormData;\nmodule.exports.ReadableStream = ponyfills.ReadableStream;\nmodule.exports.WritableStream = ponyfills.WritableStream;\nmodule.exports.TransformStream = ponyfills.TransformStream;\nmodule.exports.CompressionStream = ponyfills.CompressionStream;\nmodule.exports.DecompressionStream = ponyfills.DecompressionStream;\nmodule.exports.TextDecoderStream = ponyfills.TextDecoderStream;\nmodule.exports.TextEncoderStream = ponyfills.TextEncoderStream;\nmodule.exports.Blob = ponyfills.Blob;\nmodule.exports.File = ponyfills.File;\nmodule.exports.crypto = ponyfills.crypto;\nmodule.exports.btoa = ponyfills.btoa;\nmodule.exports.TextEncoder = ponyfills.TextEncoder;\nmodule.exports.TextDecoder = ponyfills.TextDecoder;\nmodule.exports.URLPattern = ponyfills.URLPattern;\nmodule.exports.URL = ponyfills.URL;\nmodule.exports.URLSearchParams = ponyfills.URLSearchParams;\n\nexports.createFetch = createNodePonyfill;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2ZldGNoL2Rpc3Qvbm9kZS1wb255ZmlsbC5qcyIsIm1hcHBpbmdzIjoiO0FBQ0EsMkJBQTJCLG1CQUFPLENBQUMsb0dBQXdCO0FBQzNELDJCQUEyQixtQkFBTyxDQUFDLGdHQUFzQjtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUZBQVEsZUFBZSxDQUFDO0FBQ3ZFLElBQUk7QUFDSjs7QUFFQSxvQkFBb0I7QUFDcEIsc0JBQXNCO0FBQ3RCLHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsOEJBQThCO0FBQzlCLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixtQkFBbUI7QUFDbkIsMEJBQTBCO0FBQzFCLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsa0JBQWtCO0FBQ2xCLDhCQUE4Qjs7QUFFOUIsbUJBQW1CIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZmV0Y2gvZGlzdC9ub2RlLXBvbnlmaWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgY3JlYXRlTm9kZVBvbnlmaWxsID0gcmVxdWlyZSgnLi9jcmVhdGUtbm9kZS1wb255ZmlsbCcpO1xuY29uc3Qgc2hvdWxkU2tpcFBvbnlmaWxsID0gcmVxdWlyZSgnLi9zaG91bGRTa2lwUG9ueWZpbGwnKTtcbmNvbnN0IHBvbnlmaWxscyA9IGNyZWF0ZU5vZGVQb255ZmlsbCgpO1xuXG5pZiAoIXNob3VsZFNraXBQb255ZmlsbCgpKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm9kZWxpYmN1cmxOYW1lID0gJ25vZGUtbGliY3VybCdcbiAgICBnbG9iYWxUaGlzLmxpYmN1cmwgPSBnbG9iYWxUaGlzLmxpYmN1cmwgfHwgcmVxdWlyZShub2RlbGliY3VybE5hbWUpO1xuICB9IGNhdGNoIChlKSB7IH1cbn1cblxubW9kdWxlLmV4cG9ydHMuZmV0Y2ggPSBwb255ZmlsbHMuZmV0Y2g7XG5tb2R1bGUuZXhwb3J0cy5IZWFkZXJzID0gcG9ueWZpbGxzLkhlYWRlcnM7XG5tb2R1bGUuZXhwb3J0cy5SZXF1ZXN0ID0gcG9ueWZpbGxzLlJlcXVlc3Q7XG5tb2R1bGUuZXhwb3J0cy5SZXNwb25zZSA9IHBvbnlmaWxscy5SZXNwb25zZTtcbm1vZHVsZS5leHBvcnRzLkZvcm1EYXRhID0gcG9ueWZpbGxzLkZvcm1EYXRhO1xubW9kdWxlLmV4cG9ydHMuUmVhZGFibGVTdHJlYW0gPSBwb255ZmlsbHMuUmVhZGFibGVTdHJlYW07XG5tb2R1bGUuZXhwb3J0cy5Xcml0YWJsZVN0cmVhbSA9IHBvbnlmaWxscy5Xcml0YWJsZVN0cmVhbTtcbm1vZHVsZS5leHBvcnRzLlRyYW5zZm9ybVN0cmVhbSA9IHBvbnlmaWxscy5UcmFuc2Zvcm1TdHJlYW07XG5tb2R1bGUuZXhwb3J0cy5Db21wcmVzc2lvblN0cmVhbSA9IHBvbnlmaWxscy5Db21wcmVzc2lvblN0cmVhbTtcbm1vZHVsZS5leHBvcnRzLkRlY29tcHJlc3Npb25TdHJlYW0gPSBwb255ZmlsbHMuRGVjb21wcmVzc2lvblN0cmVhbTtcbm1vZHVsZS5leHBvcnRzLlRleHREZWNvZGVyU3RyZWFtID0gcG9ueWZpbGxzLlRleHREZWNvZGVyU3RyZWFtO1xubW9kdWxlLmV4cG9ydHMuVGV4dEVuY29kZXJTdHJlYW0gPSBwb255ZmlsbHMuVGV4dEVuY29kZXJTdHJlYW07XG5tb2R1bGUuZXhwb3J0cy5CbG9iID0gcG9ueWZpbGxzLkJsb2I7XG5tb2R1bGUuZXhwb3J0cy5GaWxlID0gcG9ueWZpbGxzLkZpbGU7XG5tb2R1bGUuZXhwb3J0cy5jcnlwdG8gPSBwb255ZmlsbHMuY3J5cHRvO1xubW9kdWxlLmV4cG9ydHMuYnRvYSA9IHBvbnlmaWxscy5idG9hO1xubW9kdWxlLmV4cG9ydHMuVGV4dEVuY29kZXIgPSBwb255ZmlsbHMuVGV4dEVuY29kZXI7XG5tb2R1bGUuZXhwb3J0cy5UZXh0RGVjb2RlciA9IHBvbnlmaWxscy5UZXh0RGVjb2Rlcjtcbm1vZHVsZS5leHBvcnRzLlVSTFBhdHRlcm4gPSBwb255ZmlsbHMuVVJMUGF0dGVybjtcbm1vZHVsZS5leHBvcnRzLlVSTCA9IHBvbnlmaWxscy5VUkw7XG5tb2R1bGUuZXhwb3J0cy5VUkxTZWFyY2hQYXJhbXMgPSBwb255ZmlsbHMuVVJMU2VhcmNoUGFyYW1zO1xuXG5leHBvcnRzLmNyZWF0ZUZldGNoID0gY3JlYXRlTm9kZVBvbnlmaWxsO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\nfunction isNextJs() {\n  return Object.keys(globalThis).some(key => key.startsWith('__NEXT'))\n}\n\nmodule.exports = function shouldSkipPonyfill() {\n  if (globalThis.Deno) {\n    return true\n  }\n  if (globalThis.Bun) {\n    return true\n  }\n  if (isNextJs()) {\n    return true\n  }\n  return false\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2ZldGNoL2Rpc3Qvc2hvdWxkU2tpcFBvbnlmaWxsLmpzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZmV0Y2gvZGlzdC9zaG91bGRTa2lwUG9ueWZpbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5mdW5jdGlvbiBpc05leHRKcygpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGdsb2JhbFRoaXMpLnNvbWUoa2V5ID0+IGtleS5zdGFydHNXaXRoKCdfX05FWFQnKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaG91bGRTa2lwUG9ueWZpbGwoKSB7XG4gIGlmIChnbG9iYWxUaGlzLkRlbm8pIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIGlmIChnbG9iYWxUaGlzLkJ1bikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKGlzTmV4dEpzKCkpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufSJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js":
/*!**********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Blob.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillBlob = void 0;\nexports.hasBufferMethod = hasBufferMethod;\nexports.hasArrayBufferMethod = hasArrayBufferMethod;\nexports.hasBytesMethod = hasBytesMethod;\nexports.hasTextMethod = hasTextMethod;\nexports.hasSizeProperty = hasSizeProperty;\nexports.hasStreamMethod = hasStreamMethod;\nexports.hasBlobSignature = hasBlobSignature;\nexports.isArrayBuffer = isArrayBuffer;\n/* eslint-disable @typescript-eslint/no-unsafe-declaration-merging */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction getBlobPartAsBuffer(blobPart) {\n    if (typeof blobPart === 'string') {\n        return node_buffer_1.Buffer.from(blobPart);\n    }\n    else if (node_buffer_1.Buffer.isBuffer(blobPart)) {\n        return blobPart;\n    }\n    else if ((0, utils_js_1.isArrayBufferView)(blobPart)) {\n        return node_buffer_1.Buffer.from(blobPart.buffer, blobPart.byteOffset, blobPart.byteLength);\n    }\n    else {\n        return node_buffer_1.Buffer.from(blobPart);\n    }\n}\nfunction hasBufferMethod(obj) {\n    return obj != null && obj.buffer != null && typeof obj.buffer === 'function';\n}\nfunction hasArrayBufferMethod(obj) {\n    return obj != null && obj.arrayBuffer != null && typeof obj.arrayBuffer === 'function';\n}\nfunction hasBytesMethod(obj) {\n    return obj != null && obj.bytes != null && typeof obj.bytes === 'function';\n}\nfunction hasTextMethod(obj) {\n    return obj != null && obj.text != null && typeof obj.text === 'function';\n}\nfunction hasSizeProperty(obj) {\n    return obj != null && typeof obj.size === 'number';\n}\nfunction hasStreamMethod(obj) {\n    return obj != null && obj.stream != null && typeof obj.stream === 'function';\n}\nfunction hasBlobSignature(obj) {\n    return obj != null && obj[Symbol.toStringTag] === 'Blob';\n}\nfunction isArrayBuffer(obj) {\n    return obj != null && obj.byteLength != null && obj.slice != null;\n}\n// Will be removed after v14 reaches EOL\n// Needed because v14 doesn't have .stream() implemented\nclass PonyfillBlob {\n    blobParts;\n    type;\n    encoding;\n    _size = null;\n    constructor(blobParts = [], options) {\n        this.blobParts = blobParts;\n        this.type = options?.type || 'application/octet-stream';\n        this.encoding = options?.encoding || 'utf8';\n        this._size = options?.size || null;\n        if (blobParts.length === 1 && hasBlobSignature(blobParts[0])) {\n            return blobParts[0];\n        }\n    }\n    _buffer = null;\n    buffer() {\n        if (this._buffer) {\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.blobParts.length === 1) {\n            const blobPart = this.blobParts[0];\n            if (hasBufferMethod(blobPart)) {\n                return blobPart.buffer().then(buf => {\n                    this._buffer = buf;\n                    return this._buffer;\n                });\n            }\n            if (hasBytesMethod(blobPart)) {\n                return blobPart.bytes().then(bytes => {\n                    this._buffer = node_buffer_1.Buffer.from(bytes);\n                    return this._buffer;\n                });\n            }\n            if (hasArrayBufferMethod(blobPart)) {\n                return blobPart.arrayBuffer().then(arrayBuf => {\n                    this._buffer = node_buffer_1.Buffer.from(arrayBuf, undefined, blobPart.size);\n                    return this._buffer;\n                });\n            }\n            this._buffer = getBlobPartAsBuffer(blobPart);\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        const jobs = [];\n        const bufferChunks = this.blobParts.map((blobPart, i) => {\n            if (hasBufferMethod(blobPart)) {\n                jobs.push(blobPart.buffer().then(buf => {\n                    bufferChunks[i] = buf;\n                }));\n                return undefined;\n            }\n            else if (hasArrayBufferMethod(blobPart)) {\n                jobs.push(blobPart.arrayBuffer().then(arrayBuf => {\n                    bufferChunks[i] = node_buffer_1.Buffer.from(arrayBuf, undefined, blobPart.size);\n                }));\n                return undefined;\n            }\n            else if (hasBytesMethod(blobPart)) {\n                jobs.push(blobPart.bytes().then(bytes => {\n                    bufferChunks[i] = node_buffer_1.Buffer.from(bytes);\n                }));\n                return undefined;\n            }\n            else {\n                return getBlobPartAsBuffer(blobPart);\n            }\n        });\n        if (jobs.length > 0) {\n            return Promise.all(jobs).then(() => node_buffer_1.Buffer.concat(bufferChunks, this._size || undefined));\n        }\n        return (0, utils_js_1.fakePromise)(node_buffer_1.Buffer.concat(bufferChunks, this._size || undefined));\n    }\n    arrayBuffer() {\n        if (this._buffer) {\n            // @ts-ignore - Mismatch between Buffer and ArrayBuffer\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.blobParts.length === 1) {\n            if (isArrayBuffer(this.blobParts[0])) {\n                return (0, utils_js_1.fakePromise)(this.blobParts[0]);\n            }\n            if (hasArrayBufferMethod(this.blobParts[0])) {\n                return this.blobParts[0].arrayBuffer();\n            }\n        }\n        // @ts-ignore - Mismatch between Buffer and ArrayBuffer\n        return this.buffer();\n    }\n    bytes() {\n        if (this._buffer) {\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.blobParts.length === 1) {\n            if (node_buffer_1.Buffer.isBuffer(this.blobParts[0])) {\n                this._buffer = this.blobParts[0];\n                return (0, utils_js_1.fakePromise)(this._buffer);\n            }\n            if (this.blobParts[0] instanceof Uint8Array) {\n                this._buffer = node_buffer_1.Buffer.from(this.blobParts[0]);\n                return (0, utils_js_1.fakePromise)(this._buffer);\n            }\n            if (hasBytesMethod(this.blobParts[0])) {\n                return this.blobParts[0].bytes();\n            }\n            if (hasBufferMethod(this.blobParts[0])) {\n                return this.blobParts[0].buffer();\n            }\n        }\n        return this.buffer();\n    }\n    _text = null;\n    text() {\n        if (this._text) {\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        if (this.blobParts.length === 1) {\n            const blobPart = this.blobParts[0];\n            if (typeof blobPart === 'string') {\n                this._text = blobPart;\n                return (0, utils_js_1.fakePromise)(this._text);\n            }\n            if (hasTextMethod(blobPart)) {\n                return blobPart.text().then(text => {\n                    this._text = text;\n                    return this._text;\n                });\n            }\n            const buf = getBlobPartAsBuffer(blobPart);\n            this._text = buf.toString(this.encoding);\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        return this.buffer().then(buf => {\n            this._text = buf.toString(this.encoding);\n            return this._text;\n        });\n    }\n    _json = null;\n    json() {\n        if (this._json) {\n            return (0, utils_js_1.fakePromise)(this._json);\n        }\n        return this.text().then(text => {\n            this._json = JSON.parse(text);\n            return this._json;\n        });\n    }\n    _formData = null;\n    formData() {\n        if (this._formData) {\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        throw new Error('Not implemented');\n    }\n    get size() {\n        if (this._size == null) {\n            this._size = 0;\n            for (const blobPart of this.blobParts) {\n                if (typeof blobPart === 'string') {\n                    this._size += node_buffer_1.Buffer.byteLength(blobPart);\n                }\n                else if (hasSizeProperty(blobPart)) {\n                    this._size += blobPart.size;\n                }\n                else if ((0, utils_js_1.isArrayBufferView)(blobPart)) {\n                    this._size += blobPart.byteLength;\n                }\n            }\n        }\n        return this._size;\n    }\n    stream() {\n        if (this.blobParts.length === 1) {\n            const blobPart = this.blobParts[0];\n            if (hasStreamMethod(blobPart)) {\n                return blobPart.stream();\n            }\n            const buf = getBlobPartAsBuffer(blobPart);\n            return new ReadableStream_js_1.PonyfillReadableStream({\n                start: controller => {\n                    controller.enqueue(buf);\n                    controller.close();\n                },\n            });\n        }\n        if (this._buffer != null) {\n            return new ReadableStream_js_1.PonyfillReadableStream({\n                start: controller => {\n                    controller.enqueue(this._buffer);\n                    controller.close();\n                },\n            });\n        }\n        let blobPartIterator;\n        return new ReadableStream_js_1.PonyfillReadableStream({\n            start: controller => {\n                if (this.blobParts.length === 0) {\n                    controller.close();\n                    return;\n                }\n                blobPartIterator = this.blobParts[Symbol.iterator]();\n            },\n            pull: controller => {\n                const { value: blobPart, done } = blobPartIterator.next();\n                if (done) {\n                    controller.close();\n                    return;\n                }\n                if (blobPart) {\n                    if (hasBufferMethod(blobPart)) {\n                        return blobPart.buffer().then(buf => {\n                            controller.enqueue(buf);\n                        });\n                    }\n                    if (hasBytesMethod(blobPart)) {\n                        return blobPart.bytes().then(bytes => {\n                            const buf = node_buffer_1.Buffer.from(bytes);\n                            controller.enqueue(buf);\n                        });\n                    }\n                    if (hasArrayBufferMethod(blobPart)) {\n                        return blobPart.arrayBuffer().then(arrayBuffer => {\n                            const buf = node_buffer_1.Buffer.from(arrayBuffer, undefined, blobPart.size);\n                            controller.enqueue(buf);\n                        });\n                    }\n                    const buf = getBlobPartAsBuffer(blobPart);\n                    controller.enqueue(buf);\n                }\n            },\n        });\n    }\n    slice() {\n        throw new Error('Not implemented');\n    }\n}\nexports.PonyfillBlob = PonyfillBlob;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0Jsb2IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIsc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHNCQUFzQixtQkFBTyxDQUFDLGdDQUFhO0FBQzNDLDRCQUE0QixtQkFBTyxDQUFDLCtGQUFxQjtBQUN6RCxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9CbG9iLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbEJsb2IgPSB2b2lkIDA7XG5leHBvcnRzLmhhc0J1ZmZlck1ldGhvZCA9IGhhc0J1ZmZlck1ldGhvZDtcbmV4cG9ydHMuaGFzQXJyYXlCdWZmZXJNZXRob2QgPSBoYXNBcnJheUJ1ZmZlck1ldGhvZDtcbmV4cG9ydHMuaGFzQnl0ZXNNZXRob2QgPSBoYXNCeXRlc01ldGhvZDtcbmV4cG9ydHMuaGFzVGV4dE1ldGhvZCA9IGhhc1RleHRNZXRob2Q7XG5leHBvcnRzLmhhc1NpemVQcm9wZXJ0eSA9IGhhc1NpemVQcm9wZXJ0eTtcbmV4cG9ydHMuaGFzU3RyZWFtTWV0aG9kID0gaGFzU3RyZWFtTWV0aG9kO1xuZXhwb3J0cy5oYXNCbG9iU2lnbmF0dXJlID0gaGFzQmxvYlNpZ25hdHVyZTtcbmV4cG9ydHMuaXNBcnJheUJ1ZmZlciA9IGlzQXJyYXlCdWZmZXI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWRlY2xhcmF0aW9uLW1lcmdpbmcgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuY29uc3Qgbm9kZV9idWZmZXJfMSA9IHJlcXVpcmUoXCJub2RlOmJ1ZmZlclwiKTtcbmNvbnN0IFJlYWRhYmxlU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9SZWFkYWJsZVN0cmVhbS5qc1wiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbmZ1bmN0aW9uIGdldEJsb2JQYXJ0QXNCdWZmZXIoYmxvYlBhcnQpIHtcbiAgICBpZiAodHlwZW9mIGJsb2JQYXJ0ID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShibG9iUGFydCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmlzQnVmZmVyKGJsb2JQYXJ0KSkge1xuICAgICAgICByZXR1cm4gYmxvYlBhcnQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKCgwLCB1dGlsc19qc18xLmlzQXJyYXlCdWZmZXJWaWV3KShibG9iUGFydCkpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYmxvYlBhcnQuYnVmZmVyLCBibG9iUGFydC5ieXRlT2Zmc2V0LCBibG9iUGFydC5ieXRlTGVuZ3RoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJsb2JQYXJ0KTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYXNCdWZmZXJNZXRob2Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5idWZmZXIgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqLmJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGhhc0FycmF5QnVmZmVyTWV0aG9kKG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmouYXJyYXlCdWZmZXIgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqLmFycmF5QnVmZmVyID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaGFzQnl0ZXNNZXRob2Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5ieXRlcyAhPSBudWxsICYmIHR5cGVvZiBvYmouYnl0ZXMgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBoYXNUZXh0TWV0aG9kKG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmoudGV4dCAhPSBudWxsICYmIHR5cGVvZiBvYmoudGV4dCA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGhhc1NpemVQcm9wZXJ0eShvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgdHlwZW9mIG9iai5zaXplID09PSAnbnVtYmVyJztcbn1cbmZ1bmN0aW9uIGhhc1N0cmVhbU1ldGhvZChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLnN0cmVhbSAhPSBudWxsICYmIHR5cGVvZiBvYmouc3RyZWFtID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaGFzQmxvYlNpZ25hdHVyZShvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdCbG9iJztcbn1cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5ieXRlTGVuZ3RoICE9IG51bGwgJiYgb2JqLnNsaWNlICE9IG51bGw7XG59XG4vLyBXaWxsIGJlIHJlbW92ZWQgYWZ0ZXIgdjE0IHJlYWNoZXMgRU9MXG4vLyBOZWVkZWQgYmVjYXVzZSB2MTQgZG9lc24ndCBoYXZlIC5zdHJlYW0oKSBpbXBsZW1lbnRlZFxuY2xhc3MgUG9ueWZpbGxCbG9iIHtcbiAgICBibG9iUGFydHM7XG4gICAgdHlwZTtcbiAgICBlbmNvZGluZztcbiAgICBfc2l6ZSA9IG51bGw7XG4gICAgY29uc3RydWN0b3IoYmxvYlBhcnRzID0gW10sIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5ibG9iUGFydHMgPSBibG9iUGFydHM7XG4gICAgICAgIHRoaXMudHlwZSA9IG9wdGlvbnM/LnR5cGUgfHwgJ2FwcGxpY2F0aW9uL29jdGV0LXN0cmVhbSc7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBvcHRpb25zPy5lbmNvZGluZyB8fCAndXRmOCc7XG4gICAgICAgIHRoaXMuX3NpemUgPSBvcHRpb25zPy5zaXplIHx8IG51bGw7XG4gICAgICAgIGlmIChibG9iUGFydHMubGVuZ3RoID09PSAxICYmIGhhc0Jsb2JTaWduYXR1cmUoYmxvYlBhcnRzWzBdKSkge1xuICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0c1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYnVmZmVyID0gbnVsbDtcbiAgICBidWZmZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ibG9iUGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBibG9iUGFydCA9IHRoaXMuYmxvYlBhcnRzWzBdO1xuICAgICAgICAgICAgaWYgKGhhc0J1ZmZlck1ldGhvZChibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxvYlBhcnQuYnVmZmVyKCkudGhlbihidWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBidWY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQnl0ZXNNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0LmJ5dGVzKCkudGhlbihieXRlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYnl0ZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0FycmF5QnVmZmVyTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9iUGFydC5hcnJheUJ1ZmZlcigpLnRoZW4oYXJyYXlCdWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGFycmF5QnVmLCB1bmRlZmluZWQsIGJsb2JQYXJ0LnNpemUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gZ2V0QmxvYlBhcnRBc0J1ZmZlcihibG9iUGFydCk7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2J1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgam9icyA9IFtdO1xuICAgICAgICBjb25zdCBidWZmZXJDaHVua3MgPSB0aGlzLmJsb2JQYXJ0cy5tYXAoKGJsb2JQYXJ0LCBpKSA9PiB7XG4gICAgICAgICAgICBpZiAoaGFzQnVmZmVyTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgIGpvYnMucHVzaChibG9iUGFydC5idWZmZXIoKS50aGVuKGJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckNodW5rc1tpXSA9IGJ1ZjtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc0FycmF5QnVmZmVyTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgIGpvYnMucHVzaChibG9iUGFydC5hcnJheUJ1ZmZlcigpLnRoZW4oYXJyYXlCdWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXJDaHVua3NbaV0gPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGFycmF5QnVmLCB1bmRlZmluZWQsIGJsb2JQYXJ0LnNpemUpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQnl0ZXNNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgam9icy5wdXNoKGJsb2JQYXJ0LmJ5dGVzKCkudGhlbihieXRlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckNodW5rc1tpXSA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYnl0ZXMpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEJsb2JQYXJ0QXNCdWZmZXIoYmxvYlBhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGpvYnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGpvYnMpLnRoZW4oKCkgPT4gbm9kZV9idWZmZXJfMS5CdWZmZXIuY29uY2F0KGJ1ZmZlckNodW5rcywgdGhpcy5fc2l6ZSB8fCB1bmRlZmluZWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmNvbmNhdChidWZmZXJDaHVua3MsIHRoaXMuX3NpemUgfHwgdW5kZWZpbmVkKSk7XG4gICAgfVxuICAgIGFycmF5QnVmZmVyKCkge1xuICAgICAgICBpZiAodGhpcy5fYnVmZmVyKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gTWlzbWF0Y2ggYmV0d2VlbiBCdWZmZXIgYW5kIEFycmF5QnVmZmVyXG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2J1ZmZlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmxvYlBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgaWYgKGlzQXJyYXlCdWZmZXIodGhpcy5ibG9iUGFydHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLmJsb2JQYXJ0c1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQXJyYXlCdWZmZXJNZXRob2QodGhpcy5ibG9iUGFydHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYlBhcnRzWzBdLmFycmF5QnVmZmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIE1pc21hdGNoIGJldHdlZW4gQnVmZmVyIGFuZCBBcnJheUJ1ZmZlclxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIoKTtcbiAgICB9XG4gICAgYnl0ZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ibG9iUGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAobm9kZV9idWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIodGhpcy5ibG9iUGFydHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gdGhpcy5ibG9iUGFydHNbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9idWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYmxvYlBhcnRzWzBdIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20odGhpcy5ibG9iUGFydHNbMF0pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNCeXRlc01ldGhvZCh0aGlzLmJsb2JQYXJ0c1swXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iUGFydHNbMF0uYnl0ZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNCdWZmZXJNZXRob2QodGhpcy5ibG9iUGFydHNbMF0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYmxvYlBhcnRzWzBdLmJ1ZmZlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcigpO1xuICAgIH1cbiAgICBfdGV4dCA9IG51bGw7XG4gICAgdGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYmxvYlBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgYmxvYlBhcnQgPSB0aGlzLmJsb2JQYXJ0c1swXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvYlBhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dCA9IGJsb2JQYXJ0O1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fdGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzVGV4dE1ldGhvZChibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxvYlBhcnQudGV4dCgpLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IGdldEJsb2JQYXJ0QXNCdWZmZXIoYmxvYlBhcnQpO1xuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyKCkudGhlbihidWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2pzb24gPSBudWxsO1xuICAgIGpzb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9qc29uKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2pzb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKHRleHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5fanNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fanNvbjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9mb3JtRGF0YSA9IG51bGw7XG4gICAgZm9ybURhdGEoKSB7XG4gICAgICAgIGlmICh0aGlzLl9mb3JtRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9mb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zaXplID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCBibG9iUGFydCBvZiB0aGlzLmJsb2JQYXJ0cykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvYlBhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpemUgKz0gbm9kZV9idWZmZXJfMS5CdWZmZXIuYnl0ZUxlbmd0aChibG9iUGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhhc1NpemVQcm9wZXJ0eShibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSArPSBibG9iUGFydC5zaXplO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICgoMCwgdXRpbHNfanNfMS5pc0FycmF5QnVmZmVyVmlldykoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NpemUgKz0gYmxvYlBhcnQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuICAgIHN0cmVhbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuYmxvYlBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3QgYmxvYlBhcnQgPSB0aGlzLmJsb2JQYXJ0c1swXTtcbiAgICAgICAgICAgIGlmIChoYXNTdHJlYW1NZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0LnN0cmVhbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnVmID0gZ2V0QmxvYlBhcnRBc0J1ZmZlcihibG9iUGFydCk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGNvbnRyb2xsZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYnVmKTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYnVmZmVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgICAgICBzdGFydDogY29udHJvbGxlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0aGlzLl9idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBibG9iUGFydEl0ZXJhdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBzdGFydDogY29udHJvbGxlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYmxvYlBhcnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYmxvYlBhcnRJdGVyYXRvciA9IHRoaXMuYmxvYlBhcnRzW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwdWxsOiBjb250cm9sbGVyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBibG9iUGFydCwgZG9uZSB9ID0gYmxvYlBhcnRJdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChibG9iUGFydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQnVmZmVyTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0LmJ1ZmZlcigpLnRoZW4oYnVmID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYnVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNCeXRlc01ldGhvZChibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBibG9iUGFydC5ieXRlcygpLnRoZW4oYnl0ZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYnl0ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShidWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0FycmF5QnVmZmVyTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0LmFycmF5QnVmZmVyKCkudGhlbihhcnJheUJ1ZmZlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShhcnJheUJ1ZmZlciwgdW5kZWZpbmVkLCBibG9iUGFydC5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYnVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IGdldEJsb2JQYXJ0QXNCdWZmZXIoYmxvYlBhcnQpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoYnVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2xpY2UoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbEJsb2IgPSBQb255ZmlsbEJsb2I7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js":
/*!**********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Body.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillBody = void 0;\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst busboy_1 = __webpack_require__(/*! @fastify/busboy */ \"(rsc)/./node_modules/@fastify/busboy/lib/main.js\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst Blob_js_1 = __webpack_require__(/*! ./Blob.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\");\nconst File_js_1 = __webpack_require__(/*! ./File.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js\");\nconst FormData_js_1 = __webpack_require__(/*! ./FormData.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nvar BodyInitType;\n(function (BodyInitType) {\n    BodyInitType[\"ReadableStream\"] = \"ReadableStream\";\n    BodyInitType[\"Blob\"] = \"Blob\";\n    BodyInitType[\"FormData\"] = \"FormData\";\n    BodyInitType[\"String\"] = \"String\";\n    BodyInitType[\"Readable\"] = \"Readable\";\n    BodyInitType[\"Buffer\"] = \"Buffer\";\n    BodyInitType[\"AsyncIterable\"] = \"AsyncIterable\";\n})(BodyInitType || (BodyInitType = {}));\nclass PonyfillBody {\n    bodyInit;\n    options;\n    bodyUsed = false;\n    contentType = null;\n    contentLength = null;\n    constructor(bodyInit, options = {}) {\n        this.bodyInit = bodyInit;\n        this.options = options;\n        const { bodyFactory, contentType, contentLength, bodyType, buffer } = processBodyInit(bodyInit);\n        this._bodyFactory = bodyFactory;\n        this.contentType = contentType;\n        this.contentLength = contentLength;\n        this.bodyType = bodyType;\n        this._buffer = buffer;\n        this._signal = options.signal;\n    }\n    bodyType;\n    _bodyFactory = () => null;\n    _generatedBody = null;\n    _buffer;\n    _signal;\n    generateBody() {\n        if (this._generatedBody?.readable?.destroyed && this._buffer) {\n            this._generatedBody.readable = node_stream_1.Readable.from(this._buffer);\n        }\n        if (this._generatedBody) {\n            return this._generatedBody;\n        }\n        const body = this._bodyFactory();\n        this._generatedBody = body;\n        return body;\n    }\n    handleContentLengthHeader(forceSet = false) {\n        const contentTypeInHeaders = this.headers.get('content-type');\n        if (!contentTypeInHeaders) {\n            if (this.contentType) {\n                this.headers.set('content-type', this.contentType);\n            }\n        }\n        else {\n            this.contentType = contentTypeInHeaders;\n        }\n        const contentLengthInHeaders = this.headers.get('content-length');\n        if (forceSet && this.bodyInit == null && !contentLengthInHeaders) {\n            this.contentLength = 0;\n            this.headers.set('content-length', '0');\n        }\n        if (!contentLengthInHeaders) {\n            if (this.contentLength) {\n                this.headers.set('content-length', this.contentLength.toString());\n            }\n        }\n        else {\n            this.contentLength = parseInt(contentLengthInHeaders, 10);\n        }\n    }\n    get body() {\n        const _body = this.generateBody();\n        if (_body != null) {\n            const ponyfillReadableStream = _body;\n            const readable = _body.readable;\n            return new Proxy(_body.readable, {\n                get(_, prop) {\n                    if (prop in ponyfillReadableStream) {\n                        const ponyfillReadableStreamProp = ponyfillReadableStream[prop];\n                        if (typeof ponyfillReadableStreamProp === 'function') {\n                            return ponyfillReadableStreamProp.bind(ponyfillReadableStream);\n                        }\n                        return ponyfillReadableStreamProp;\n                    }\n                    if (prop in readable) {\n                        const readableProp = readable[prop];\n                        if (typeof readableProp === 'function') {\n                            return readableProp.bind(readable);\n                        }\n                        return readableProp;\n                    }\n                },\n            });\n        }\n        return null;\n    }\n    _chunks = null;\n    _doCollectChunksFromReadableJob() {\n        if (this.bodyType === BodyInitType.AsyncIterable) {\n            if (Array.fromAsync) {\n                return (0, promise_helpers_1.handleMaybePromise)(() => Array.fromAsync(this.bodyInit), chunks => {\n                    this._chunks = chunks;\n                    return this._chunks;\n                });\n            }\n            const iterator = this.bodyInit[Symbol.asyncIterator]();\n            const chunks = [];\n            const collectValue = () => (0, promise_helpers_1.handleMaybePromise)(() => iterator.next(), ({ value, done }) => {\n                if (value) {\n                    chunks.push(value);\n                }\n                if (!done) {\n                    return collectValue();\n                }\n                this._chunks = chunks;\n                return this._chunks;\n            });\n            return collectValue();\n        }\n        const _body = this.generateBody();\n        if (!_body) {\n            this._chunks = [];\n            return (0, utils_js_1.fakePromise)(this._chunks);\n        }\n        if (_body.readable.destroyed) {\n            return (0, utils_js_1.fakePromise)((this._chunks = []));\n        }\n        const chunks = [];\n        return new Promise((resolve, reject) => {\n            _body.readable.on('data', chunk => {\n                chunks.push(chunk);\n            });\n            _body.readable.once('error', reject);\n            _body.readable.once('end', () => {\n                resolve((this._chunks = chunks));\n            });\n        });\n    }\n    _collectChunksFromReadable() {\n        if (this._chunks) {\n            return (0, utils_js_1.fakePromise)(this._chunks);\n        }\n        this._chunks ||= this._doCollectChunksFromReadableJob();\n        return this._chunks;\n    }\n    _blob = null;\n    blob() {\n        if (this._blob) {\n            return (0, utils_js_1.fakePromise)(this._blob);\n        }\n        if (this.bodyType === BodyInitType.String) {\n            this._text = this.bodyInit;\n            this._blob = new Blob_js_1.PonyfillBlob([this._text], {\n                type: this.contentType || 'text/plain;charset=UTF-8',\n                size: this.contentLength,\n            });\n        }\n        if (this.bodyType === BodyInitType.Blob) {\n            this._blob = this.bodyInit;\n            return (0, utils_js_1.fakePromise)(this._blob);\n        }\n        if (this._buffer) {\n            this._blob = new Blob_js_1.PonyfillBlob([this._buffer], {\n                type: this.contentType || '',\n                size: this.contentLength,\n            });\n            return (0, utils_js_1.fakePromise)(this._blob);\n        }\n        return (0, utils_js_1.fakePromise)((0, promise_helpers_1.handleMaybePromise)(() => this._collectChunksFromReadable(), chunks => {\n            this._blob = new Blob_js_1.PonyfillBlob(chunks, {\n                type: this.contentType || '',\n                size: this.contentLength,\n            });\n            return this._blob;\n        }));\n    }\n    _formData = null;\n    formData(opts) {\n        if (this._formData) {\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        if (this.bodyType === BodyInitType.FormData) {\n            this._formData = this.bodyInit;\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        this._formData = new FormData_js_1.PonyfillFormData();\n        const _body = this.generateBody();\n        if (_body == null) {\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        const formDataLimits = {\n            ...this.options.formDataLimits,\n            ...opts?.formDataLimits,\n        };\n        return new Promise((resolve, reject) => {\n            const stream = this.body?.readable;\n            if (!stream) {\n                return reject(new Error('No stream available'));\n            }\n            // form data file that is currently being processed, it's\n            // important to keep track of it in case the stream ends early\n            let currFile = null;\n            const bb = new busboy_1.Busboy({\n                headers: {\n                    'content-length': typeof this.contentLength === 'number'\n                        ? this.contentLength.toString()\n                        : this.contentLength || '',\n                    'content-type': this.contentType || '',\n                },\n                limits: formDataLimits,\n                defCharset: 'utf-8',\n            });\n            if (this._signal) {\n                (0, node_stream_1.addAbortSignal)(this._signal, bb);\n            }\n            let completed = false;\n            const complete = (err) => {\n                if (completed)\n                    return;\n                completed = true;\n                stream.unpipe(bb);\n                bb.destroy();\n                if (currFile) {\n                    currFile.destroy();\n                    currFile = null;\n                }\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    // no error occured, this is a successful end/complete/finish\n                    resolve(this._formData);\n                }\n            };\n            // we dont need to listen to the stream close event because bb will close or error when necessary\n            // stream.on('close', complete);\n            // stream can be aborted, for example\n            stream.on('error', complete);\n            bb.on('field', (name, value, fieldnameTruncated, valueTruncated) => {\n                if (fieldnameTruncated) {\n                    return complete(new Error(`Field name size exceeded: ${formDataLimits?.fieldNameSize} bytes`));\n                }\n                if (valueTruncated) {\n                    return complete(new Error(`Field value size exceeded: ${formDataLimits?.fieldSize} bytes`));\n                }\n                this._formData.set(name, value);\n            });\n            bb.on('file', (name, fileStream, filename, _transferEncoding, mimeType) => {\n                currFile = fileStream;\n                const chunks = [];\n                fileStream.on('data', chunk => {\n                    chunks.push(chunk);\n                });\n                fileStream.on('error', complete);\n                fileStream.on('limit', () => {\n                    complete(new Error(`File size limit exceeded: ${formDataLimits?.fileSize} bytes`));\n                });\n                fileStream.on('close', () => {\n                    if (fileStream.truncated) {\n                        complete(new Error(`File size limit exceeded: ${formDataLimits?.fileSize} bytes`));\n                    }\n                    currFile = null;\n                    const file = new File_js_1.PonyfillFile(chunks, filename, { type: mimeType });\n                    this._formData.set(name, file);\n                });\n            });\n            bb.on('fieldsLimit', () => {\n                complete(new Error(`Fields limit exceeded: ${formDataLimits?.fields}`));\n            });\n            bb.on('filesLimit', () => {\n                complete(new Error(`Files limit exceeded: ${formDataLimits?.files}`));\n            });\n            bb.on('partsLimit', () => {\n                complete(new Error(`Parts limit exceeded: ${formDataLimits?.parts}`));\n            });\n            bb.on('end', complete);\n            bb.on('finish', complete);\n            bb.on('close', complete);\n            bb.on('error', complete);\n            stream.pipe(bb);\n        });\n    }\n    buffer() {\n        if (this._buffer) {\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this._text) {\n            this._buffer = node_buffer_1.Buffer.from(this._text, 'utf-8');\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.bodyType === BodyInitType.String) {\n            return this.text().then(text => {\n                this._text = text;\n                this._buffer = node_buffer_1.Buffer.from(text, 'utf-8');\n                return this._buffer;\n            });\n        }\n        if (this.bodyType === BodyInitType.Blob) {\n            if ((0, Blob_js_1.hasBufferMethod)(this.bodyInit)) {\n                return this.bodyInit.buffer().then(buf => {\n                    this._buffer = buf;\n                    return this._buffer;\n                });\n            }\n            if ((0, Blob_js_1.hasBytesMethod)(this.bodyInit)) {\n                return this.bodyInit.bytes().then(bytes => {\n                    this._buffer = node_buffer_1.Buffer.from(bytes);\n                    return this._buffer;\n                });\n            }\n            if ((0, Blob_js_1.hasArrayBufferMethod)(this.bodyInit)) {\n                return this.bodyInit.arrayBuffer().then(buf => {\n                    this._buffer = node_buffer_1.Buffer.from(buf, undefined, buf.byteLength);\n                    return this._buffer;\n                });\n            }\n        }\n        return (0, utils_js_1.fakePromise)((0, promise_helpers_1.handleMaybePromise)(() => this._collectChunksFromReadable(), chunks => {\n            if (chunks.length === 1) {\n                this._buffer = chunks[0];\n                return this._buffer;\n            }\n            this._buffer = node_buffer_1.Buffer.concat(chunks);\n            return this._buffer;\n        }));\n    }\n    bytes() {\n        return this.buffer();\n    }\n    arrayBuffer() {\n        // @ts-ignore - Mismatch between Buffer and ArrayBuffer\n        return this.buffer();\n    }\n    _json = null;\n    json() {\n        if (this._json) {\n            return (0, utils_js_1.fakePromise)(this._json);\n        }\n        return this.text().then(text => {\n            try {\n                this._json = JSON.parse(text);\n            }\n            catch (e) {\n                if (e instanceof SyntaxError) {\n                    e.message += `, \"${text}\" is not valid JSON`;\n                }\n                throw e;\n            }\n            return this._json;\n        });\n    }\n    _text = null;\n    text() {\n        if (this._text) {\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        if (this.bodyType === BodyInitType.String) {\n            this._text = this.bodyInit;\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        return this.buffer().then(buffer => {\n            this._text = buffer.toString('utf-8');\n            return this._text;\n        });\n    }\n}\nexports.PonyfillBody = PonyfillBody;\nfunction processBodyInit(bodyInit) {\n    if (bodyInit == null) {\n        return {\n            bodyFactory: () => null,\n            contentType: null,\n            contentLength: null,\n        };\n    }\n    if (typeof bodyInit === 'string') {\n        const contentLength = node_buffer_1.Buffer.byteLength(bodyInit);\n        return {\n            bodyType: BodyInitType.String,\n            contentType: 'text/plain;charset=UTF-8',\n            contentLength,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(node_buffer_1.Buffer.from(bodyInit, 'utf-8'));\n                return new ReadableStream_js_1.PonyfillReadableStream(readable);\n            },\n        };\n    }\n    if (node_buffer_1.Buffer.isBuffer(bodyInit)) {\n        const buffer = bodyInit;\n        return {\n            bodyType: BodyInitType.Buffer,\n            contentType: null,\n            contentLength: bodyInit.length,\n            buffer: bodyInit,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(buffer);\n                const body = new ReadableStream_js_1.PonyfillReadableStream(readable);\n                return body;\n            },\n        };\n    }\n    if ((0, utils_js_1.isArrayBufferView)(bodyInit)) {\n        const buffer = node_buffer_1.Buffer.from(bodyInit.buffer, bodyInit.byteOffset, bodyInit.byteLength);\n        return {\n            bodyType: BodyInitType.Buffer,\n            contentLength: bodyInit.byteLength,\n            contentType: null,\n            buffer,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(buffer);\n                const body = new ReadableStream_js_1.PonyfillReadableStream(readable);\n                return body;\n            },\n        };\n    }\n    if (bodyInit instanceof ReadableStream_js_1.PonyfillReadableStream && bodyInit.readable != null) {\n        const readableStream = bodyInit;\n        return {\n            bodyType: BodyInitType.ReadableStream,\n            bodyFactory: () => readableStream,\n            contentType: null,\n            contentLength: null,\n        };\n    }\n    if (isBlob(bodyInit)) {\n        const blob = bodyInit;\n        return {\n            bodyType: BodyInitType.Blob,\n            contentType: bodyInit.type,\n            contentLength: bodyInit.size,\n            bodyFactory() {\n                return blob.stream();\n            },\n        };\n    }\n    if (bodyInit instanceof ArrayBuffer) {\n        const contentLength = bodyInit.byteLength;\n        const buffer = node_buffer_1.Buffer.from(bodyInit, undefined, bodyInit.byteLength);\n        return {\n            bodyType: BodyInitType.Buffer,\n            contentType: null,\n            contentLength,\n            buffer,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(buffer);\n                const body = new ReadableStream_js_1.PonyfillReadableStream(readable);\n                return body;\n            },\n        };\n    }\n    if (bodyInit instanceof node_stream_1.Readable) {\n        return {\n            bodyType: BodyInitType.Readable,\n            contentType: null,\n            contentLength: null,\n            bodyFactory() {\n                const body = new ReadableStream_js_1.PonyfillReadableStream(bodyInit);\n                return body;\n            },\n        };\n    }\n    if (isURLSearchParams(bodyInit)) {\n        const contentType = 'application/x-www-form-urlencoded;charset=UTF-8';\n        return {\n            bodyType: BodyInitType.String,\n            contentType,\n            contentLength: null,\n            bodyFactory() {\n                const body = new ReadableStream_js_1.PonyfillReadableStream(node_stream_1.Readable.from(bodyInit.toString()));\n                return body;\n            },\n        };\n    }\n    if (isFormData(bodyInit)) {\n        const boundary = Math.random().toString(36).substr(2);\n        const contentType = `multipart/form-data; boundary=${boundary}`;\n        return {\n            bodyType: BodyInitType.FormData,\n            contentType,\n            contentLength: null,\n            bodyFactory() {\n                return (0, FormData_js_1.getStreamFromFormData)(bodyInit, boundary);\n            },\n        };\n    }\n    if (isReadableStream(bodyInit)) {\n        return {\n            contentType: null,\n            contentLength: null,\n            bodyFactory() {\n                return new ReadableStream_js_1.PonyfillReadableStream(bodyInit);\n            },\n        };\n    }\n    if (bodyInit[Symbol.iterator] || bodyInit[Symbol.asyncIterator]) {\n        return {\n            contentType: null,\n            contentLength: null,\n            bodyType: BodyInitType.AsyncIterable,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(bodyInit);\n                return new ReadableStream_js_1.PonyfillReadableStream(readable);\n            },\n        };\n    }\n    throw new Error('Unknown body type');\n}\nfunction isFormData(value) {\n    return value?.forEach != null;\n}\nfunction isBlob(value) {\n    return value?.stream != null && typeof value.stream === 'function';\n}\nfunction isURLSearchParams(value) {\n    return value?.sort != null;\n}\nfunction isReadableStream(value) {\n    return value?.getReader != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0JvZHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCO0FBQ0Esc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0Msc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsaUJBQWlCLG1CQUFPLENBQUMseUVBQWlCO0FBQzFDLDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBVztBQUNyQyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBVztBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUM3Qyw0QkFBNEIsbUJBQU8sQ0FBQywrRkFBcUI7QUFDekQsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQTREO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyxhQUFhO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsK0JBQStCO0FBQzFHO0FBQ0E7QUFDQSw0RUFBNEUsMkJBQTJCO0FBQ3ZHO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esb0VBQW9FLDBCQUEwQjtBQUM5RixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHdFQUF3RSwwQkFBMEI7QUFDbEc7QUFDQTtBQUNBLGdGQUFnRixnQkFBZ0I7QUFDaEc7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsNkRBQTZELHVCQUF1QjtBQUNwRixhQUFhO0FBQ2I7QUFDQSw0REFBNEQsc0JBQXNCO0FBQ2xGLGFBQWE7QUFDYjtBQUNBLDREQUE0RCxzQkFBc0I7QUFDbEYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxLQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVcsU0FBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0JvZHkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsQm9keSA9IHZvaWQgMDtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCAqL1xuY29uc3Qgbm9kZV9idWZmZXJfMSA9IHJlcXVpcmUoXCJub2RlOmJ1ZmZlclwiKTtcbmNvbnN0IG5vZGVfc3RyZWFtXzEgPSByZXF1aXJlKFwibm9kZTpzdHJlYW1cIik7XG5jb25zdCBidXNib3lfMSA9IHJlcXVpcmUoXCJAZmFzdGlmeS9idXNib3lcIik7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuY29uc3QgQmxvYl9qc18xID0gcmVxdWlyZShcIi4vQmxvYi5qc1wiKTtcbmNvbnN0IEZpbGVfanNfMSA9IHJlcXVpcmUoXCIuL0ZpbGUuanNcIik7XG5jb25zdCBGb3JtRGF0YV9qc18xID0gcmVxdWlyZShcIi4vRm9ybURhdGEuanNcIik7XG5jb25zdCBSZWFkYWJsZVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vUmVhZGFibGVTdHJlYW0uanNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG52YXIgQm9keUluaXRUeXBlO1xuKGZ1bmN0aW9uIChCb2R5SW5pdFR5cGUpIHtcbiAgICBCb2R5SW5pdFR5cGVbXCJSZWFkYWJsZVN0cmVhbVwiXSA9IFwiUmVhZGFibGVTdHJlYW1cIjtcbiAgICBCb2R5SW5pdFR5cGVbXCJCbG9iXCJdID0gXCJCbG9iXCI7XG4gICAgQm9keUluaXRUeXBlW1wiRm9ybURhdGFcIl0gPSBcIkZvcm1EYXRhXCI7XG4gICAgQm9keUluaXRUeXBlW1wiU3RyaW5nXCJdID0gXCJTdHJpbmdcIjtcbiAgICBCb2R5SW5pdFR5cGVbXCJSZWFkYWJsZVwiXSA9IFwiUmVhZGFibGVcIjtcbiAgICBCb2R5SW5pdFR5cGVbXCJCdWZmZXJcIl0gPSBcIkJ1ZmZlclwiO1xuICAgIEJvZHlJbml0VHlwZVtcIkFzeW5jSXRlcmFibGVcIl0gPSBcIkFzeW5jSXRlcmFibGVcIjtcbn0pKEJvZHlJbml0VHlwZSB8fCAoQm9keUluaXRUeXBlID0ge30pKTtcbmNsYXNzIFBvbnlmaWxsQm9keSB7XG4gICAgYm9keUluaXQ7XG4gICAgb3B0aW9ucztcbiAgICBib2R5VXNlZCA9IGZhbHNlO1xuICAgIGNvbnRlbnRUeXBlID0gbnVsbDtcbiAgICBjb250ZW50TGVuZ3RoID0gbnVsbDtcbiAgICBjb25zdHJ1Y3Rvcihib2R5SW5pdCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuYm9keUluaXQgPSBib2R5SW5pdDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgeyBib2R5RmFjdG9yeSwgY29udGVudFR5cGUsIGNvbnRlbnRMZW5ndGgsIGJvZHlUeXBlLCBidWZmZXIgfSA9IHByb2Nlc3NCb2R5SW5pdChib2R5SW5pdCk7XG4gICAgICAgIHRoaXMuX2JvZHlGYWN0b3J5ID0gYm9keUZhY3Rvcnk7XG4gICAgICAgIHRoaXMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcbiAgICAgICAgdGhpcy5jb250ZW50TGVuZ3RoID0gY29udGVudExlbmd0aDtcbiAgICAgICAgdGhpcy5ib2R5VHlwZSA9IGJvZHlUeXBlO1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBidWZmZXI7XG4gICAgICAgIHRoaXMuX3NpZ25hbCA9IG9wdGlvbnMuc2lnbmFsO1xuICAgIH1cbiAgICBib2R5VHlwZTtcbiAgICBfYm9keUZhY3RvcnkgPSAoKSA9PiBudWxsO1xuICAgIF9nZW5lcmF0ZWRCb2R5ID0gbnVsbDtcbiAgICBfYnVmZmVyO1xuICAgIF9zaWduYWw7XG4gICAgZ2VuZXJhdGVCb2R5KCkge1xuICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGVkQm9keT8ucmVhZGFibGU/LmRlc3Ryb3llZCAmJiB0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlZEJvZHkucmVhZGFibGUgPSBub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20odGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZ2VuZXJhdGVkQm9keSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dlbmVyYXRlZEJvZHk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuX2JvZHlGYWN0b3J5KCk7XG4gICAgICAgIHRoaXMuX2dlbmVyYXRlZEJvZHkgPSBib2R5O1xuICAgICAgICByZXR1cm4gYm9keTtcbiAgICB9XG4gICAgaGFuZGxlQ29udGVudExlbmd0aEhlYWRlcihmb3JjZVNldCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSW5IZWFkZXJzID0gdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICAgIGlmICghY29udGVudFR5cGVJbkhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgdGhpcy5jb250ZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGVJbkhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudExlbmd0aEluSGVhZGVycyA9IHRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJyk7XG4gICAgICAgIGlmIChmb3JjZVNldCAmJiB0aGlzLmJvZHlJbml0ID09IG51bGwgJiYgIWNvbnRlbnRMZW5ndGhJbkhlYWRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LWxlbmd0aCcsICcwJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250ZW50TGVuZ3RoSW5IZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC1sZW5ndGgnLCB0aGlzLmNvbnRlbnRMZW5ndGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRMZW5ndGggPSBwYXJzZUludChjb250ZW50TGVuZ3RoSW5IZWFkZXJzLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGJvZHkoKSB7XG4gICAgICAgIGNvbnN0IF9ib2R5ID0gdGhpcy5nZW5lcmF0ZUJvZHkoKTtcbiAgICAgICAgaWYgKF9ib2R5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbnlmaWxsUmVhZGFibGVTdHJlYW0gPSBfYm9keTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlID0gX2JvZHkucmVhZGFibGU7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KF9ib2R5LnJlYWRhYmxlLCB7XG4gICAgICAgICAgICAgICAgZ2V0KF8sIHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgaW4gcG9ueWZpbGxSZWFkYWJsZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9ueWZpbGxSZWFkYWJsZVN0cmVhbVByb3AgPSBwb255ZmlsbFJlYWRhYmxlU3RyZWFtW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwb255ZmlsbFJlYWRhYmxlU3RyZWFtUHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb255ZmlsbFJlYWRhYmxlU3RyZWFtUHJvcC5iaW5kKHBvbnlmaWxsUmVhZGFibGVTdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvbnlmaWxsUmVhZGFibGVTdHJlYW1Qcm9wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wIGluIHJlYWRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWFkYWJsZVByb3AgPSByZWFkYWJsZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVhZGFibGVQcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRhYmxlUHJvcC5iaW5kKHJlYWRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkYWJsZVByb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIF9jaHVua3MgPSBudWxsO1xuICAgIF9kb0NvbGxlY3RDaHVua3NGcm9tUmVhZGFibGVKb2IoKSB7XG4gICAgICAgIGlmICh0aGlzLmJvZHlUeXBlID09PSBCb2R5SW5pdFR5cGUuQXN5bmNJdGVyYWJsZSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmZyb21Bc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBBcnJheS5mcm9tQXN5bmModGhpcy5ib2R5SW5pdCksIGNodW5rcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NodW5rcyA9IGNodW5rcztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NodW5rcztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5ib2R5SW5pdFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgY29sbGVjdFZhbHVlID0gKCkgPT4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gaXRlcmF0b3IubmV4dCgpLCAoeyB2YWx1ZSwgZG9uZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0VmFsdWUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtzID0gY2h1bmtzO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jaHVua3M7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBjb2xsZWN0VmFsdWUoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBfYm9keSA9IHRoaXMuZ2VuZXJhdGVCb2R5KCk7XG4gICAgICAgIGlmICghX2JvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuX2NodW5rcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9jaHVua3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfYm9keS5yZWFkYWJsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkoKHRoaXMuX2NodW5rcyA9IFtdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfYm9keS5yZWFkYWJsZS5vbignZGF0YScsIGNodW5rID0+IHtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF9ib2R5LnJlYWRhYmxlLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICAgIF9ib2R5LnJlYWRhYmxlLm9uY2UoJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCh0aGlzLl9jaHVua3MgPSBjaHVua3MpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2NvbGxlY3RDaHVua3NGcm9tUmVhZGFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaHVua3MpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fY2h1bmtzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jaHVua3MgfHw9IHRoaXMuX2RvQ29sbGVjdENodW5rc0Zyb21SZWFkYWJsZUpvYigpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2h1bmtzO1xuICAgIH1cbiAgICBfYmxvYiA9IG51bGw7XG4gICAgYmxvYigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Jsb2IpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYmxvYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9keVR5cGUgPT09IEJvZHlJbml0VHlwZS5TdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLmJvZHlJbml0O1xuICAgICAgICAgICAgdGhpcy5fYmxvYiA9IG5ldyBCbG9iX2pzXzEuUG9ueWZpbGxCbG9iKFt0aGlzLl90ZXh0XSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMuY29udGVudFR5cGUgfHwgJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5jb250ZW50TGVuZ3RoLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9keVR5cGUgPT09IEJvZHlJbml0VHlwZS5CbG9iKSB7XG4gICAgICAgICAgICB0aGlzLl9ibG9iID0gdGhpcy5ib2R5SW5pdDtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYmxvYik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fYmxvYiA9IG5ldyBCbG9iX2pzXzEuUG9ueWZpbGxCbG9iKFt0aGlzLl9idWZmZXJdLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy5jb250ZW50VHlwZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLmNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYmxvYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSgoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiB0aGlzLl9jb2xsZWN0Q2h1bmtzRnJvbVJlYWRhYmxlKCksIGNodW5rcyA9PiB7XG4gICAgICAgICAgICB0aGlzLl9ibG9iID0gbmV3IEJsb2JfanNfMS5Qb255ZmlsbEJsb2IoY2h1bmtzLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy5jb250ZW50VHlwZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLmNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ibG9iO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIF9mb3JtRGF0YSA9IG51bGw7XG4gICAgZm9ybURhdGEob3B0cykge1xuICAgICAgICBpZiAodGhpcy5fZm9ybURhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJvZHlUeXBlID09PSBCb2R5SW5pdFR5cGUuRm9ybURhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm1EYXRhID0gdGhpcy5ib2R5SW5pdDtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Zvcm1EYXRhID0gbmV3IEZvcm1EYXRhX2pzXzEuUG9ueWZpbGxGb3JtRGF0YSgpO1xuICAgICAgICBjb25zdCBfYm9keSA9IHRoaXMuZ2VuZXJhdGVCb2R5KCk7XG4gICAgICAgIGlmIChfYm9keSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2Zvcm1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3JtRGF0YUxpbWl0cyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucy5mb3JtRGF0YUxpbWl0cyxcbiAgICAgICAgICAgIC4uLm9wdHM/LmZvcm1EYXRhTGltaXRzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy5ib2R5Py5yZWFkYWJsZTtcbiAgICAgICAgICAgIGlmICghc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChuZXcgRXJyb3IoJ05vIHN0cmVhbSBhdmFpbGFibGUnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBmb3JtIGRhdGEgZmlsZSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWQsIGl0J3NcbiAgICAgICAgICAgIC8vIGltcG9ydGFudCB0byBrZWVwIHRyYWNrIG9mIGl0IGluIGNhc2UgdGhlIHN0cmVhbSBlbmRzIGVhcmx5XG4gICAgICAgICAgICBsZXQgY3VyckZpbGUgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgYmIgPSBuZXcgYnVzYm95XzEuQnVzYm95KHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LWxlbmd0aCc6IHR5cGVvZiB0aGlzLmNvbnRlbnRMZW5ndGggPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY29udGVudExlbmd0aC50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29udGVudExlbmd0aCB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IHRoaXMuY29udGVudFR5cGUgfHwgJycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsaW1pdHM6IGZvcm1EYXRhTGltaXRzLFxuICAgICAgICAgICAgICAgIGRlZkNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zaWduYWwpIHtcbiAgICAgICAgICAgICAgICAoMCwgbm9kZV9zdHJlYW1fMS5hZGRBYm9ydFNpZ25hbCkodGhpcy5fc2lnbmFsLCBiYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZSA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0udW5waXBlKGJiKTtcbiAgICAgICAgICAgICAgICBiYi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJGaWxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgY3VyckZpbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gZXJyb3Igb2NjdXJlZCwgdGhpcyBpcyBhIHN1Y2Nlc3NmdWwgZW5kL2NvbXBsZXRlL2ZpbmlzaFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuX2Zvcm1EYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gd2UgZG9udCBuZWVkIHRvIGxpc3RlbiB0byB0aGUgc3RyZWFtIGNsb3NlIGV2ZW50IGJlY2F1c2UgYmIgd2lsbCBjbG9zZSBvciBlcnJvciB3aGVuIG5lY2Vzc2FyeVxuICAgICAgICAgICAgLy8gc3RyZWFtLm9uKCdjbG9zZScsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIC8vIHN0cmVhbSBjYW4gYmUgYWJvcnRlZCwgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgIHN0cmVhbS5vbignZXJyb3InLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICBiYi5vbignZmllbGQnLCAobmFtZSwgdmFsdWUsIGZpZWxkbmFtZVRydW5jYXRlZCwgdmFsdWVUcnVuY2F0ZWQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGRuYW1lVHJ1bmNhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZShuZXcgRXJyb3IoYEZpZWxkIG5hbWUgc2l6ZSBleGNlZWRlZDogJHtmb3JtRGF0YUxpbWl0cz8uZmllbGROYW1lU2l6ZX0gYnl0ZXNgKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZVRydW5jYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGUobmV3IEVycm9yKGBGaWVsZCB2YWx1ZSBzaXplIGV4Y2VlZGVkOiAke2Zvcm1EYXRhTGltaXRzPy5maWVsZFNpemV9IGJ5dGVzYCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9mb3JtRGF0YS5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYi5vbignZmlsZScsIChuYW1lLCBmaWxlU3RyZWFtLCBmaWxlbmFtZSwgX3RyYW5zZmVyRW5jb2RpbmcsIG1pbWVUeXBlKSA9PiB7XG4gICAgICAgICAgICAgICAgY3VyckZpbGUgPSBmaWxlU3RyZWFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rcyA9IFtdO1xuICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2RhdGEnLCBjaHVuayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmaWxlU3RyZWFtLm9uKCdlcnJvcicsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBmaWxlU3RyZWFtLm9uKCdsaW1pdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUobmV3IEVycm9yKGBGaWxlIHNpemUgbGltaXQgZXhjZWVkZWQ6ICR7Zm9ybURhdGFMaW1pdHM/LmZpbGVTaXplfSBieXRlc2ApKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmaWxlU3RyZWFtLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVTdHJlYW0udHJ1bmNhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShuZXcgRXJyb3IoYEZpbGUgc2l6ZSBsaW1pdCBleGNlZWRlZDogJHtmb3JtRGF0YUxpbWl0cz8uZmlsZVNpemV9IGJ5dGVzYCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJGaWxlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlX2pzXzEuUG9ueWZpbGxGaWxlKGNodW5rcywgZmlsZW5hbWUsIHsgdHlwZTogbWltZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zvcm1EYXRhLnNldChuYW1lLCBmaWxlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmIub24oJ2ZpZWxkc0xpbWl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKG5ldyBFcnJvcihgRmllbGRzIGxpbWl0IGV4Y2VlZGVkOiAke2Zvcm1EYXRhTGltaXRzPy5maWVsZHN9YCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYi5vbignZmlsZXNMaW1pdCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZShuZXcgRXJyb3IoYEZpbGVzIGxpbWl0IGV4Y2VlZGVkOiAke2Zvcm1EYXRhTGltaXRzPy5maWxlc31gKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJiLm9uKCdwYXJ0c0xpbWl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKG5ldyBFcnJvcihgUGFydHMgbGltaXQgZXhjZWVkZWQ6ICR7Zm9ybURhdGFMaW1pdHM/LnBhcnRzfWApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmIub24oJ2VuZCcsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGJiLm9uKCdmaW5pc2gnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICBiYi5vbignY2xvc2UnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICBiYi5vbignZXJyb3InLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICBzdHJlYW0ucGlwZShiYik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBidWZmZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdGV4dCkge1xuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbSh0aGlzLl90ZXh0LCAndXRmLTgnKTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib2R5VHlwZSA9PT0gQm9keUluaXRUeXBlLlN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbSh0ZXh0LCAndXRmLTgnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9keVR5cGUgPT09IEJvZHlJbml0VHlwZS5CbG9iKSB7XG4gICAgICAgICAgICBpZiAoKDAsIEJsb2JfanNfMS5oYXNCdWZmZXJNZXRob2QpKHRoaXMuYm9keUluaXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9keUluaXQuYnVmZmVyKCkudGhlbihidWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBidWY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKDAsIEJsb2JfanNfMS5oYXNCeXRlc01ldGhvZCkodGhpcy5ib2R5SW5pdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5SW5pdC5ieXRlcygpLnRoZW4oYnl0ZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJ5dGVzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoMCwgQmxvYl9qc18xLmhhc0FycmF5QnVmZmVyTWV0aG9kKSh0aGlzLmJvZHlJbml0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJvZHlJbml0LmFycmF5QnVmZmVyKCkudGhlbihidWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJ1ZiwgdW5kZWZpbmVkLCBidWYuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSgoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiB0aGlzLl9jb2xsZWN0Q2h1bmtzRnJvbVJlYWRhYmxlKCksIGNodW5rcyA9PiB7XG4gICAgICAgICAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IGNodW5rc1swXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuY29uY2F0KGNodW5rcyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGJ5dGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIoKTtcbiAgICB9XG4gICAgYXJyYXlCdWZmZXIoKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBNaXNtYXRjaCBiZXR3ZWVuIEJ1ZmZlciBhbmQgQXJyYXlCdWZmZXJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyKCk7XG4gICAgfVxuICAgIF9qc29uID0gbnVsbDtcbiAgICBqc29uKCkge1xuICAgICAgICBpZiAodGhpcy5fanNvbikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9qc29uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fanNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5tZXNzYWdlICs9IGAsIFwiJHt0ZXh0fVwiIGlzIG5vdCB2YWxpZCBKU09OYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9qc29uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3RleHQgPSBudWxsO1xuICAgIHRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLl90ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX3RleHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJvZHlUeXBlID09PSBCb2R5SW5pdFR5cGUuU3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGhpcy5ib2R5SW5pdDtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyKCkudGhlbihidWZmZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IGJ1ZmZlci50b1N0cmluZygndXRmLTgnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsQm9keSA9IFBvbnlmaWxsQm9keTtcbmZ1bmN0aW9uIHByb2Nlc3NCb2R5SW5pdChib2R5SW5pdCkge1xuICAgIGlmIChib2R5SW5pdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5RmFjdG9yeTogKCkgPT4gbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBudWxsLFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBib2R5SW5pdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgY29udGVudExlbmd0aCA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmJ5dGVMZW5ndGgoYm9keUluaXQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5TdHJpbmcsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ3RleHQvcGxhaW47Y2hhcnNldD1VVEYtOCcsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoLFxuICAgICAgICAgICAgYm9keUZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGFibGUgPSBub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20obm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShib2R5SW5pdCwgJ3V0Zi04JykpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChub2RlX2J1ZmZlcl8xLkJ1ZmZlci5pc0J1ZmZlcihib2R5SW5pdCkpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gYm9keUluaXQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLkJ1ZmZlcixcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBudWxsLFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogYm9keUluaXQubGVuZ3RoLFxuICAgICAgICAgICAgYnVmZmVyOiBib2R5SW5pdCxcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlID0gbm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0ocmVhZGFibGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKCgwLCB1dGlsc19qc18xLmlzQXJyYXlCdWZmZXJWaWV3KShib2R5SW5pdCkpIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShib2R5SW5pdC5idWZmZXIsIGJvZHlJbml0LmJ5dGVPZmZzZXQsIGJvZHlJbml0LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5CdWZmZXIsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBib2R5SW5pdC5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkYWJsZSA9IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbShidWZmZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChib2R5SW5pdCBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSAmJiBib2R5SW5pdC5yZWFkYWJsZSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHJlYWRhYmxlU3RyZWFtID0gYm9keUluaXQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLlJlYWRhYmxlU3RyZWFtLFxuICAgICAgICAgICAgYm9keUZhY3Rvcnk6ICgpID0+IHJlYWRhYmxlU3RyZWFtLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNCbG9iKGJvZHlJbml0KSkge1xuICAgICAgICBjb25zdCBibG9iID0gYm9keUluaXQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLkJsb2IsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogYm9keUluaXQudHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGJvZHlJbml0LnNpemUsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxvYi5zdHJlYW0oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChib2R5SW5pdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRMZW5ndGggPSBib2R5SW5pdC5ieXRlTGVuZ3RoO1xuICAgICAgICBjb25zdCBidWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJvZHlJbml0LCB1bmRlZmluZWQsIGJvZHlJbml0LmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5CdWZmZXIsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgICBidWZmZXIsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkYWJsZSA9IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbShidWZmZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChib2R5SW5pdCBpbnN0YW5jZW9mIG5vZGVfc3RyZWFtXzEuUmVhZGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHlUeXBlOiBCb2R5SW5pdFR5cGUuUmVhZGFibGUsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IG51bGwsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbShib2R5SW5pdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNVUkxTZWFyY2hQYXJhbXMoYm9keUluaXQpKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHlUeXBlOiBCb2R5SW5pdFR5cGUuU3RyaW5nLFxuICAgICAgICAgICAgY29udGVudFR5cGUsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBudWxsLFxuICAgICAgICAgICAgYm9keUZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0obm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tKGJvZHlJbml0LnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc0Zvcm1EYXRhKGJvZHlJbml0KSkge1xuICAgICAgICBjb25zdCBib3VuZGFyeSA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyKTtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBgbXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9JHtib3VuZGFyeX1gO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5Gb3JtRGF0YSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlLFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogbnVsbCxcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgRm9ybURhdGFfanNfMS5nZXRTdHJlYW1Gcm9tRm9ybURhdGEpKGJvZHlJbml0LCBib3VuZGFyeSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbShib2R5SW5pdCkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBudWxsLFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogbnVsbCxcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKGJvZHlJbml0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChib2R5SW5pdFtTeW1ib2wuaXRlcmF0b3JdIHx8IGJvZHlJbml0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBudWxsLFxuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5Bc3luY0l0ZXJhYmxlLFxuICAgICAgICAgICAgYm9keUZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGFibGUgPSBub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20oYm9keUluaXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBib2R5IHR5cGUnKTtcbn1cbmZ1bmN0aW9uIGlzRm9ybURhdGEodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU/LmZvckVhY2ggIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQmxvYih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8uc3RyZWFtICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnN0cmVhbSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzVVJMU2VhcmNoUGFyYW1zKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5zb3J0ICE9IG51bGw7XG59XG5mdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5nZXRSZWFkZXIgIT0gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillCompressionStream = void 0;\nconst node_zlib_1 = __webpack_require__(/*! node:zlib */ \"node:zlib\");\nconst TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nclass PonyfillCompressionStream extends TransformStream_js_1.PonyfillTransformStream {\n    static supportedFormats = globalThis.process?.version?.startsWith('v2')\n        ? ['gzip', 'deflate', 'br']\n        : ['gzip', 'deflate', 'deflate-raw', 'br'];\n    constructor(compressionFormat) {\n        switch (compressionFormat) {\n            case 'x-gzip':\n            case 'gzip':\n                super((0, node_zlib_1.createGzip)());\n                break;\n            case 'x-deflate':\n            case 'deflate':\n                super((0, node_zlib_1.createDeflate)());\n                break;\n            case 'deflate-raw':\n                super((0, node_zlib_1.createDeflateRaw)());\n                break;\n            case 'br':\n                super((0, node_zlib_1.createBrotliCompress)());\n                break;\n            default:\n                throw new Error(`Unsupported compression format: ${compressionFormat}`);\n        }\n    }\n}\nexports.PonyfillCompressionStream = PonyfillCompressionStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0NvbXByZXNzaW9uU3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQztBQUNqQyxvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2Qyw2QkFBNkIsbUJBQU8sQ0FBQyxpR0FBc0I7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLGtCQUFrQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9Db21wcmVzc2lvblN0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxDb21wcmVzc2lvblN0cmVhbSA9IHZvaWQgMDtcbmNvbnN0IG5vZGVfemxpYl8xID0gcmVxdWlyZShcIm5vZGU6emxpYlwiKTtcbmNvbnN0IFRyYW5zZm9ybVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vVHJhbnNmb3JtU3RyZWFtLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxDb21wcmVzc2lvblN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbV9qc18xLlBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtIHtcbiAgICBzdGF0aWMgc3VwcG9ydGVkRm9ybWF0cyA9IGdsb2JhbFRoaXMucHJvY2Vzcz8udmVyc2lvbj8uc3RhcnRzV2l0aCgndjInKVxuICAgICAgICA/IFsnZ3ppcCcsICdkZWZsYXRlJywgJ2JyJ11cbiAgICAgICAgOiBbJ2d6aXAnLCAnZGVmbGF0ZScsICdkZWZsYXRlLXJhdycsICdiciddO1xuICAgIGNvbnN0cnVjdG9yKGNvbXByZXNzaW9uRm9ybWF0KSB7XG4gICAgICAgIHN3aXRjaCAoY29tcHJlc3Npb25Gb3JtYXQpIHtcbiAgICAgICAgICAgIGNhc2UgJ3gtZ3ppcCc6XG4gICAgICAgICAgICBjYXNlICdnemlwJzpcbiAgICAgICAgICAgICAgICBzdXBlcigoMCwgbm9kZV96bGliXzEuY3JlYXRlR3ppcCkoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd4LWRlZmxhdGUnOlxuICAgICAgICAgICAgY2FzZSAnZGVmbGF0ZSc6XG4gICAgICAgICAgICAgICAgc3VwZXIoKDAsIG5vZGVfemxpYl8xLmNyZWF0ZURlZmxhdGUpKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVmbGF0ZS1yYXcnOlxuICAgICAgICAgICAgICAgIHN1cGVyKCgwLCBub2RlX3psaWJfMS5jcmVhdGVEZWZsYXRlUmF3KSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JyJzpcbiAgICAgICAgICAgICAgICBzdXBlcigoMCwgbm9kZV96bGliXzEuY3JlYXRlQnJvdGxpQ29tcHJlc3MpKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvbXByZXNzaW9uIGZvcm1hdDogJHtjb21wcmVzc2lvbkZvcm1hdH1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxDb21wcmVzc2lvblN0cmVhbSA9IFBvbnlmaWxsQ29tcHJlc3Npb25TdHJlYW07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillDecompressionStream = void 0;\nconst node_zlib_1 = __webpack_require__(/*! node:zlib */ \"node:zlib\");\nconst TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nclass PonyfillDecompressionStream extends TransformStream_js_1.PonyfillTransformStream {\n    static supportedFormats = globalThis.process?.version?.startsWith('v2')\n        ? ['gzip', 'deflate', 'br']\n        : ['gzip', 'deflate', 'deflate-raw', 'br'];\n    constructor(compressionFormat) {\n        switch (compressionFormat) {\n            case 'x-gzip':\n            case 'gzip':\n                super((0, node_zlib_1.createGunzip)());\n                break;\n            case 'x-deflate':\n            case 'deflate':\n                super((0, node_zlib_1.createInflate)());\n                break;\n            case 'deflate-raw':\n                super((0, node_zlib_1.createInflateRaw)());\n                break;\n            case 'br':\n                super((0, node_zlib_1.createBrotliDecompress)());\n                break;\n            default:\n                throw new TypeError(`Unsupported compression format: '${compressionFormat}'`);\n        }\n    }\n}\nexports.PonyfillDecompressionStream = PonyfillDecompressionStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0RlY29tcHJlc3Npb25TdHJlYW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUNBQW1DO0FBQ25DLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLDZCQUE2QixtQkFBTyxDQUFDLGlHQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0Usa0JBQWtCO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0RlY29tcHJlc3Npb25TdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsRGVjb21wcmVzc2lvblN0cmVhbSA9IHZvaWQgMDtcbmNvbnN0IG5vZGVfemxpYl8xID0gcmVxdWlyZShcIm5vZGU6emxpYlwiKTtcbmNvbnN0IFRyYW5zZm9ybVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vVHJhbnNmb3JtU3RyZWFtLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtX2pzXzEuUG9ueWZpbGxUcmFuc2Zvcm1TdHJlYW0ge1xuICAgIHN0YXRpYyBzdXBwb3J0ZWRGb3JtYXRzID0gZ2xvYmFsVGhpcy5wcm9jZXNzPy52ZXJzaW9uPy5zdGFydHNXaXRoKCd2MicpXG4gICAgICAgID8gWydnemlwJywgJ2RlZmxhdGUnLCAnYnInXVxuICAgICAgICA6IFsnZ3ppcCcsICdkZWZsYXRlJywgJ2RlZmxhdGUtcmF3JywgJ2JyJ107XG4gICAgY29uc3RydWN0b3IoY29tcHJlc3Npb25Gb3JtYXQpIHtcbiAgICAgICAgc3dpdGNoIChjb21wcmVzc2lvbkZvcm1hdCkge1xuICAgICAgICAgICAgY2FzZSAneC1nemlwJzpcbiAgICAgICAgICAgIGNhc2UgJ2d6aXAnOlxuICAgICAgICAgICAgICAgIHN1cGVyKCgwLCBub2RlX3psaWJfMS5jcmVhdGVHdW56aXApKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAneC1kZWZsYXRlJzpcbiAgICAgICAgICAgIGNhc2UgJ2RlZmxhdGUnOlxuICAgICAgICAgICAgICAgIHN1cGVyKCgwLCBub2RlX3psaWJfMS5jcmVhdGVJbmZsYXRlKSgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RlZmxhdGUtcmF3JzpcbiAgICAgICAgICAgICAgICBzdXBlcigoMCwgbm9kZV96bGliXzEuY3JlYXRlSW5mbGF0ZVJhdykoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdicic6XG4gICAgICAgICAgICAgICAgc3VwZXIoKDAsIG5vZGVfemxpYl8xLmNyZWF0ZUJyb3RsaURlY29tcHJlc3MpKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCBjb21wcmVzc2lvbiBmb3JtYXQ6ICcke2NvbXByZXNzaW9uRm9ybWF0fSdgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtID0gUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js":
/*!**********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/File.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillFile = void 0;\nconst Blob_js_1 = __webpack_require__(/*! ./Blob.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\");\nclass PonyfillFile extends Blob_js_1.PonyfillBlob {\n    name;\n    lastModified;\n    constructor(fileBits, name, options) {\n        super(fileBits, options);\n        this.name = name;\n        this.lastModified = options?.lastModified || Date.now();\n    }\n    webkitRelativePath = '';\n}\nexports.PonyfillFile = PonyfillFile;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0ZpbGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvRmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxGaWxlID0gdm9pZCAwO1xuY29uc3QgQmxvYl9qc18xID0gcmVxdWlyZShcIi4vQmxvYi5qc1wiKTtcbmNsYXNzIFBvbnlmaWxsRmlsZSBleHRlbmRzIEJsb2JfanNfMS5Qb255ZmlsbEJsb2Ige1xuICAgIG5hbWU7XG4gICAgbGFzdE1vZGlmaWVkO1xuICAgIGNvbnN0cnVjdG9yKGZpbGVCaXRzLCBuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGZpbGVCaXRzLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5sYXN0TW9kaWZpZWQgPSBvcHRpb25zPy5sYXN0TW9kaWZpZWQgfHwgRGF0ZS5ub3coKTtcbiAgICB9XG4gICAgd2Via2l0UmVsYXRpdmVQYXRoID0gJyc7XG59XG5leHBvcnRzLlBvbnlmaWxsRmlsZSA9IFBvbnlmaWxsRmlsZTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js":
/*!**************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/FormData.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillFormData = void 0;\nexports.getStreamFromFormData = getStreamFromFormData;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst IteratorObject_js_1 = __webpack_require__(/*! ./IteratorObject.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nclass PonyfillFormData {\n    map = new Map();\n    append(name, value, fileName) {\n        let values = this.map.get(name);\n        if (!values) {\n            values = [];\n            this.map.set(name, values);\n        }\n        const entry = isBlob(value)\n            ? getNormalizedFile(name, value, fileName)\n            : value;\n        values.push(entry);\n    }\n    delete(name) {\n        this.map.delete(name);\n    }\n    get(name) {\n        const values = this.map.get(name);\n        return values ? values[0] : null;\n    }\n    getAll(name) {\n        return this.map.get(name) || [];\n    }\n    has(name) {\n        return this.map.has(name);\n    }\n    set(name, value, fileName) {\n        const entry = isBlob(value)\n            ? getNormalizedFile(name, value, fileName)\n            : value;\n        this.map.set(name, [entry]);\n    }\n    [Symbol.iterator]() {\n        return this._entries();\n    }\n    *_entries() {\n        for (const [key, values] of this.map) {\n            for (const value of values) {\n                yield [key, value];\n            }\n        }\n    }\n    entries() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._entries(), 'FormDataIterator');\n    }\n    _keys() {\n        return this.map.keys();\n    }\n    keys() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._keys(), 'FormDataIterator');\n    }\n    *_values() {\n        for (const values of this.map.values()) {\n            for (const value of values) {\n                yield value;\n            }\n        }\n    }\n    values() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._values(), 'FormDataIterator');\n    }\n    forEach(callback) {\n        for (const [key, value] of this) {\n            callback(value, key, this);\n        }\n    }\n}\nexports.PonyfillFormData = PonyfillFormData;\nfunction getStreamFromFormData(formData, boundary = '---') {\n    let entriesIterator;\n    let sentInitialHeader = false;\n    let currentAsyncIterator;\n    let hasBefore = false;\n    function handleNextEntry(controller) {\n        const { done, value } = entriesIterator.next();\n        if (done) {\n            controller.enqueue(node_buffer_1.Buffer.from(`\\r\\n--${boundary}--\\r\\n`));\n            return controller.close();\n        }\n        if (hasBefore) {\n            controller.enqueue(node_buffer_1.Buffer.from(`\\r\\n--${boundary}\\r\\n`));\n        }\n        if (value) {\n            const [key, blobOrString] = value;\n            if (typeof blobOrString === 'string') {\n                controller.enqueue(node_buffer_1.Buffer.from(`Content-Disposition: form-data; name=\"${key}\"\\r\\n\\r\\n`));\n                controller.enqueue(node_buffer_1.Buffer.from(blobOrString));\n            }\n            else {\n                let filenamePart = '';\n                if (blobOrString.name) {\n                    filenamePart = `; filename=\"${blobOrString.name}\"`;\n                }\n                controller.enqueue(node_buffer_1.Buffer.from(`Content-Disposition: form-data; name=\"${key}\"${filenamePart}\\r\\n`));\n                controller.enqueue(node_buffer_1.Buffer.from(`Content-Type: ${blobOrString.type || 'application/octet-stream'}\\r\\n\\r\\n`));\n                const entryStream = blobOrString.stream();\n                // @ts-expect-error - ReadableStream is async iterable\n                currentAsyncIterator = entryStream[Symbol.asyncIterator]();\n            }\n            hasBefore = true;\n        }\n    }\n    return new ReadableStream_js_1.PonyfillReadableStream({\n        start: () => {\n            entriesIterator = formData.entries();\n        },\n        pull: controller => {\n            if (!sentInitialHeader) {\n                sentInitialHeader = true;\n                return controller.enqueue(node_buffer_1.Buffer.from(`--${boundary}\\r\\n`));\n            }\n            if (currentAsyncIterator) {\n                return currentAsyncIterator.next().then(({ done, value }) => {\n                    if (done) {\n                        currentAsyncIterator = undefined;\n                    }\n                    if (value) {\n                        return controller.enqueue(value);\n                    }\n                    else {\n                        return handleNextEntry(controller);\n                    }\n                });\n            }\n            return handleNextEntry(controller);\n        },\n        cancel: err => {\n            entriesIterator?.return?.(err);\n            currentAsyncIterator?.return?.(err);\n        },\n    });\n}\nfunction getNormalizedFile(name, blob, fileName) {\n    Object.defineProperty(blob, 'name', {\n        configurable: true,\n        enumerable: true,\n        value: fileName || blob.name || name,\n    });\n    return blob;\n}\nfunction isBlob(value) {\n    return value?.arrayBuffer != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0Zvcm1EYXRhLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4Qiw2QkFBNkI7QUFDN0Isc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsNEJBQTRCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3pELDRCQUE0QixtQkFBTyxDQUFDLCtGQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBLGtFQUFrRSxTQUFTO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxTQUFTO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLFFBQVEsSUFBSTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFlBQVksa0JBQWtCO0FBQ3BFO0FBQ0EsOEZBQThGLFFBQVEsSUFBSSxHQUFHLGFBQWE7QUFDMUgsOEVBQThFLGdEQUFnRDtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsU0FBUztBQUNsRjtBQUNBO0FBQ0EsMkRBQTJELGFBQWE7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0Zvcm1EYXRhLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbEZvcm1EYXRhID0gdm9pZCAwO1xuZXhwb3J0cy5nZXRTdHJlYW1Gcm9tRm9ybURhdGEgPSBnZXRTdHJlYW1Gcm9tRm9ybURhdGE7XG5jb25zdCBub2RlX2J1ZmZlcl8xID0gcmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpO1xuY29uc3QgSXRlcmF0b3JPYmplY3RfanNfMSA9IHJlcXVpcmUoXCIuL0l0ZXJhdG9yT2JqZWN0LmpzXCIpO1xuY29uc3QgUmVhZGFibGVTdHJlYW1fanNfMSA9IHJlcXVpcmUoXCIuL1JlYWRhYmxlU3RyZWFtLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxGb3JtRGF0YSB7XG4gICAgbWFwID0gbmV3IE1hcCgpO1xuICAgIGFwcGVuZChuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpIHtcbiAgICAgICAgbGV0IHZhbHVlcyA9IHRoaXMubWFwLmdldChuYW1lKTtcbiAgICAgICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5tYXAuc2V0KG5hbWUsIHZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW50cnkgPSBpc0Jsb2IodmFsdWUpXG4gICAgICAgICAgICA/IGdldE5vcm1hbGl6ZWRGaWxlKG5hbWUsIHZhbHVlLCBmaWxlTmFtZSlcbiAgICAgICAgICAgIDogdmFsdWU7XG4gICAgICAgIHZhbHVlcy5wdXNoKGVudHJ5KTtcbiAgICB9XG4gICAgZGVsZXRlKG5hbWUpIHtcbiAgICAgICAgdGhpcy5tYXAuZGVsZXRlKG5hbWUpO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLm1hcC5nZXQobmFtZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsO1xuICAgIH1cbiAgICBnZXRBbGwobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KG5hbWUpIHx8IFtdO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuaGFzKG5hbWUpO1xuICAgIH1cbiAgICBzZXQobmFtZSwgdmFsdWUsIGZpbGVOYW1lKSB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gaXNCbG9iKHZhbHVlKVxuICAgICAgICAgICAgPyBnZXROb3JtYWxpemVkRmlsZShuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpXG4gICAgICAgICAgICA6IHZhbHVlO1xuICAgICAgICB0aGlzLm1hcC5zZXQobmFtZSwgW2VudHJ5XSk7XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW50cmllcygpO1xuICAgIH1cbiAgICAqX2VudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW50cmllcygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvck9iamVjdF9qc18xLlBvbnlmaWxsSXRlcmF0b3JPYmplY3QodGhpcy5fZW50cmllcygpLCAnRm9ybURhdGFJdGVyYXRvcicpO1xuICAgIH1cbiAgICBfa2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmtleXMoKTtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvck9iamVjdF9qc18xLlBvbnlmaWxsSXRlcmF0b3JPYmplY3QodGhpcy5fa2V5cygpLCAnRm9ybURhdGFJdGVyYXRvcicpO1xuICAgIH1cbiAgICAqX3ZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZXMgb2YgdGhpcy5tYXAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdCh0aGlzLl92YWx1ZXMoKSwgJ0Zvcm1EYXRhSXRlcmF0b3InKTtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxGb3JtRGF0YSA9IFBvbnlmaWxsRm9ybURhdGE7XG5mdW5jdGlvbiBnZXRTdHJlYW1Gcm9tRm9ybURhdGEoZm9ybURhdGEsIGJvdW5kYXJ5ID0gJy0tLScpIHtcbiAgICBsZXQgZW50cmllc0l0ZXJhdG9yO1xuICAgIGxldCBzZW50SW5pdGlhbEhlYWRlciA9IGZhbHNlO1xuICAgIGxldCBjdXJyZW50QXN5bmNJdGVyYXRvcjtcbiAgICBsZXQgaGFzQmVmb3JlID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gaGFuZGxlTmV4dEVudHJ5KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gZW50cmllc0l0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGBcXHJcXG4tLSR7Ym91bmRhcnl9LS1cXHJcXG5gKSk7XG4gICAgICAgICAgICByZXR1cm4gY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNCZWZvcmUpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGBcXHJcXG4tLSR7Ym91bmRhcnl9XFxyXFxuYCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgW2tleSwgYmxvYk9yU3RyaW5nXSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBibG9iT3JTdHJpbmcgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYENvbnRlbnQtRGlzcG9zaXRpb246IGZvcm0tZGF0YTsgbmFtZT1cIiR7a2V5fVwiXFxyXFxuXFxyXFxuYCkpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJsb2JPclN0cmluZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpbGVuYW1lUGFydCA9ICcnO1xuICAgICAgICAgICAgICAgIGlmIChibG9iT3JTdHJpbmcubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZVBhcnQgPSBgOyBmaWxlbmFtZT1cIiR7YmxvYk9yU3RyaW5nLm5hbWV9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShgQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiJHtrZXl9XCIke2ZpbGVuYW1lUGFydH1cXHJcXG5gKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYENvbnRlbnQtVHlwZTogJHtibG9iT3JTdHJpbmcudHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ31cXHJcXG5cXHJcXG5gKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cnlTdHJlYW0gPSBibG9iT3JTdHJpbmcuc3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFJlYWRhYmxlU3RyZWFtIGlzIGFzeW5jIGl0ZXJhYmxlXG4gICAgICAgICAgICAgICAgY3VycmVudEFzeW5jSXRlcmF0b3IgPSBlbnRyeVN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc0JlZm9yZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICBzdGFydDogKCkgPT4ge1xuICAgICAgICAgICAgZW50cmllc0l0ZXJhdG9yID0gZm9ybURhdGEuZW50cmllcygpO1xuICAgICAgICB9LFxuICAgICAgICBwdWxsOiBjb250cm9sbGVyID0+IHtcbiAgICAgICAgICAgIGlmICghc2VudEluaXRpYWxIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICBzZW50SW5pdGlhbEhlYWRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuZW5xdWV1ZShub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGAtLSR7Ym91bmRhcnl9XFxyXFxuYCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRBc3luY0l0ZXJhdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRBc3luY0l0ZXJhdG9yLm5leHQoKS50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRBc3luY0l0ZXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlTmV4dEVudHJ5KGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTmV4dEVudHJ5KGNvbnRyb2xsZXIpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IGVyciA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzSXRlcmF0b3I/LnJldHVybj8uKGVycik7XG4gICAgICAgICAgICBjdXJyZW50QXN5bmNJdGVyYXRvcj8ucmV0dXJuPy4oZXJyKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldE5vcm1hbGl6ZWRGaWxlKG5hbWUsIGJsb2IsIGZpbGVOYW1lKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJsb2IsICduYW1lJywge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmaWxlTmFtZSB8fCBibG9iLm5hbWUgfHwgbmFtZSxcbiAgICB9KTtcbiAgICByZXR1cm4gYmxvYjtcbn1cbmZ1bmN0aW9uIGlzQmxvYih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8uYXJyYXlCdWZmZXIgIT0gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js":
/*!*************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Headers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillHeaders = void 0;\nexports.isHeadersLike = isHeadersLike;\nconst node_util_1 = __webpack_require__(/*! node:util */ \"node:util\");\nconst IteratorObject_js_1 = __webpack_require__(/*! ./IteratorObject.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\");\nfunction isHeadersLike(headers) {\n    return headers?.get && headers?.forEach;\n}\nclass PonyfillHeaders {\n    headersInit;\n    _map;\n    objectNormalizedKeysOfHeadersInit = [];\n    objectOriginalKeysOfHeadersInit = [];\n    _setCookies;\n    constructor(headersInit) {\n        this.headersInit = headersInit;\n    }\n    // perf: we don't need to build `this.map` for Requests, as we can access the headers directly\n    _get(key) {\n        const normalized = key.toLowerCase();\n        if (normalized === 'set-cookie' && this._setCookies?.length) {\n            return this._setCookies.join(', ');\n        }\n        // If the map is built, reuse it\n        if (this._map) {\n            return this._map.get(normalized) || null;\n        }\n        // If the map is not built, try to get the value from the this.headersInit\n        if (this.headersInit == null) {\n            return null;\n        }\n        if (Array.isArray(this.headersInit)) {\n            const found = this.headersInit.filter(([headerKey]) => headerKey.toLowerCase() === normalized);\n            if (found.length === 0) {\n                return null;\n            }\n            if (found.length === 1) {\n                return found[0][1];\n            }\n            return found.map(([, value]) => value).join(', ');\n        }\n        else if (isHeadersLike(this.headersInit)) {\n            return this.headersInit.get(normalized);\n        }\n        else {\n            const initValue = this.headersInit[key] || this.headersInit[normalized];\n            if (initValue != null) {\n                return initValue;\n            }\n            if (!this.objectNormalizedKeysOfHeadersInit.length) {\n                Object.keys(this.headersInit).forEach(k => {\n                    this.objectOriginalKeysOfHeadersInit.push(k);\n                    this.objectNormalizedKeysOfHeadersInit.push(k.toLowerCase());\n                });\n            }\n            const index = this.objectNormalizedKeysOfHeadersInit.indexOf(normalized);\n            if (index === -1) {\n                return null;\n            }\n            const originalKey = this.objectOriginalKeysOfHeadersInit[index];\n            return this.headersInit[originalKey];\n        }\n    }\n    // perf: Build the map of headers lazily, only when we need to access all headers or write to it.\n    // I could do a getter here, but I'm too lazy to type `getter`.\n    getMap() {\n        if (!this._map) {\n            this._setCookies ||= [];\n            if (this.headersInit != null) {\n                if (Array.isArray(this.headersInit)) {\n                    this._map = new Map();\n                    for (const [key, value] of this.headersInit) {\n                        const normalizedKey = key.toLowerCase();\n                        if (normalizedKey === 'set-cookie') {\n                            if (Array.isArray(value)) {\n                                this._setCookies.push(...value);\n                            }\n                            else if (value != null) {\n                                this._setCookies.push(value);\n                            }\n                            continue;\n                        }\n                        this._map.set(normalizedKey, value);\n                    }\n                }\n                else if (isHeadersLike(this.headersInit)) {\n                    this._map = new Map();\n                    this.headersInit.forEach((value, key) => {\n                        if (key === 'set-cookie') {\n                            this._setCookies ||= [];\n                            if (Array.isArray(value)) {\n                                this._setCookies.push(...value);\n                            }\n                            else if (value != null) {\n                                this._setCookies.push(value);\n                            }\n                            return;\n                        }\n                        this._map.set(key, value);\n                    });\n                }\n                else {\n                    this._map = new Map();\n                    for (const initKey in this.headersInit) {\n                        const initValue = this.headersInit[initKey];\n                        if (initValue != null) {\n                            const normalizedKey = initKey.toLowerCase();\n                            if (normalizedKey === 'set-cookie') {\n                                this._setCookies ||= [];\n                                if (Array.isArray(initValue)) {\n                                    this._setCookies.push(...initValue);\n                                    continue;\n                                }\n                                this._setCookies.push(initValue);\n                                continue;\n                            }\n                            this._map.set(normalizedKey, initValue);\n                        }\n                    }\n                }\n            }\n            else {\n                this._map = new Map();\n            }\n        }\n        return this._map;\n    }\n    append(name, value) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            this._setCookies ||= [];\n            this._setCookies.push(value);\n            return;\n        }\n        const existingValue = this.getMap().get(key);\n        const finalValue = existingValue ? `${existingValue}, ${value}` : value;\n        this.getMap().set(key, finalValue);\n    }\n    get(name) {\n        const value = this._get(name);\n        if (value == null) {\n            return null;\n        }\n        return value.toString();\n    }\n    has(name) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            return !!this._setCookies?.length;\n        }\n        return !!this._get(name); // we might need to check if header exists and not just check if it's not nullable\n    }\n    set(name, value) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            this._setCookies = [value];\n            return;\n        }\n        if (!this._map && this.headersInit != null) {\n            if (Array.isArray(this.headersInit)) {\n                const found = this.headersInit.find(([headerKey]) => headerKey.toLowerCase() === key);\n                if (found) {\n                    found[1] = value;\n                }\n                else {\n                    this.headersInit.push([key, value]);\n                }\n                return;\n            }\n            else if (isHeadersLike(this.headersInit)) {\n                this.headersInit.set(key, value);\n                return;\n            }\n            else {\n                this.headersInit[key] = value;\n                return;\n            }\n        }\n        this.getMap().set(key, value);\n    }\n    delete(name) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            this._setCookies = [];\n            return;\n        }\n        this.getMap().delete(key);\n    }\n    forEach(callback) {\n        this._setCookies?.forEach(setCookie => {\n            callback(setCookie, 'set-cookie', this);\n        });\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    this.headersInit.forEach(([key, value]) => {\n                        callback(value, key, this);\n                    });\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    this.headersInit.forEach(callback);\n                    return;\n                }\n                Object.entries(this.headersInit).forEach(([key, value]) => {\n                    if (value != null) {\n                        callback(value, key, this);\n                    }\n                });\n            }\n            return;\n        }\n        this.getMap().forEach((value, key) => {\n            callback(value, key, this);\n        });\n    }\n    *_keys() {\n        if (this._setCookies?.length) {\n            yield 'set-cookie';\n        }\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    yield* this.headersInit.map(([key]) => key)[Symbol.iterator]();\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    yield* this.headersInit.keys();\n                    return;\n                }\n                yield* Object.keys(this.headersInit)[Symbol.iterator]();\n                return;\n            }\n        }\n        yield* this.getMap().keys();\n    }\n    keys() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._keys(), 'HeadersIterator');\n    }\n    *_values() {\n        if (this._setCookies?.length) {\n            yield* this._setCookies;\n        }\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    yield* this.headersInit.map(([, value]) => value)[Symbol.iterator]();\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    yield* this.headersInit.values();\n                    return;\n                }\n                yield* Object.values(this.headersInit)[Symbol.iterator]();\n                return;\n            }\n        }\n        yield* this.getMap().values();\n    }\n    values() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._values(), 'HeadersIterator');\n    }\n    *_entries() {\n        if (this._setCookies?.length) {\n            yield* this._setCookies.map(cookie => ['set-cookie', cookie]);\n        }\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    yield* this.headersInit;\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    yield* this.headersInit.entries();\n                    return;\n                }\n                yield* Object.entries(this.headersInit);\n                return;\n            }\n        }\n        yield* this.getMap().entries();\n    }\n    entries() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._entries(), 'HeadersIterator');\n    }\n    getSetCookie() {\n        if (!this._setCookies) {\n            this.getMap();\n        }\n        return this._setCookies;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        const record = {};\n        this.forEach((value, key) => {\n            if (key === 'set-cookie') {\n                record['set-cookie'] = this._setCookies || [];\n            }\n            else {\n                record[key] = value?.includes(',') ? value.split(',').map(el => el.trim()) : value;\n            }\n        });\n        return `Headers ${(0, node_util_1.inspect)(record)}`;\n    }\n}\nexports.PonyfillHeaders = PonyfillHeaders;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0hlYWRlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLHFCQUFxQjtBQUNyQixvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2Qyw0QkFBNEIsbUJBQU8sQ0FBQywrRkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWMsSUFBSSxNQUFNO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDBCQUEwQixpQ0FBaUM7QUFDM0Q7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0hlYWRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsSGVhZGVycyA9IHZvaWQgMDtcbmV4cG9ydHMuaXNIZWFkZXJzTGlrZSA9IGlzSGVhZGVyc0xpa2U7XG5jb25zdCBub2RlX3V0aWxfMSA9IHJlcXVpcmUoXCJub2RlOnV0aWxcIik7XG5jb25zdCBJdGVyYXRvck9iamVjdF9qc18xID0gcmVxdWlyZShcIi4vSXRlcmF0b3JPYmplY3QuanNcIik7XG5mdW5jdGlvbiBpc0hlYWRlcnNMaWtlKGhlYWRlcnMpIHtcbiAgICByZXR1cm4gaGVhZGVycz8uZ2V0ICYmIGhlYWRlcnM/LmZvckVhY2g7XG59XG5jbGFzcyBQb255ZmlsbEhlYWRlcnMge1xuICAgIGhlYWRlcnNJbml0O1xuICAgIF9tYXA7XG4gICAgb2JqZWN0Tm9ybWFsaXplZEtleXNPZkhlYWRlcnNJbml0ID0gW107XG4gICAgb2JqZWN0T3JpZ2luYWxLZXlzT2ZIZWFkZXJzSW5pdCA9IFtdO1xuICAgIF9zZXRDb29raWVzO1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcnNJbml0KSB7XG4gICAgICAgIHRoaXMuaGVhZGVyc0luaXQgPSBoZWFkZXJzSW5pdDtcbiAgICB9XG4gICAgLy8gcGVyZjogd2UgZG9uJ3QgbmVlZCB0byBidWlsZCBgdGhpcy5tYXBgIGZvciBSZXF1ZXN0cywgYXMgd2UgY2FuIGFjY2VzcyB0aGUgaGVhZGVycyBkaXJlY3RseVxuICAgIF9nZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPT09ICdzZXQtY29va2llJyAmJiB0aGlzLl9zZXRDb29raWVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRDb29raWVzLmpvaW4oJywgJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIG1hcCBpcyBidWlsdCwgcmV1c2UgaXRcbiAgICAgICAgaWYgKHRoaXMuX21hcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5nZXQobm9ybWFsaXplZCkgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgbWFwIGlzIG5vdCBidWlsdCwgdHJ5IHRvIGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgdGhpcy5oZWFkZXJzSW5pdFxuICAgICAgICBpZiAodGhpcy5oZWFkZXJzSW5pdCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgY29uc3QgZm91bmQgPSB0aGlzLmhlYWRlcnNJbml0LmZpbHRlcigoW2hlYWRlcktleV0pID0+IGhlYWRlcktleS50b0xvd2VyQ2FzZSgpID09PSBub3JtYWxpemVkKTtcbiAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmb3VuZC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm91bmRbMF1bMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm91bmQubWFwKChbLCB2YWx1ZV0pID0+IHZhbHVlKS5qb2luKCcsICcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzSGVhZGVyc0xpa2UodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnNJbml0LmdldChub3JtYWxpemVkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluaXRWYWx1ZSA9IHRoaXMuaGVhZGVyc0luaXRba2V5XSB8fCB0aGlzLmhlYWRlcnNJbml0W25vcm1hbGl6ZWRdO1xuICAgICAgICAgICAgaWYgKGluaXRWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaXRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5vYmplY3ROb3JtYWxpemVkS2V5c09mSGVhZGVyc0luaXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModGhpcy5oZWFkZXJzSW5pdCkuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmplY3RPcmlnaW5hbEtleXNPZkhlYWRlcnNJbml0LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub2JqZWN0Tm9ybWFsaXplZEtleXNPZkhlYWRlcnNJbml0LnB1c2goay50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vYmplY3ROb3JtYWxpemVkS2V5c09mSGVhZGVyc0luaXQuaW5kZXhPZihub3JtYWxpemVkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsS2V5ID0gdGhpcy5vYmplY3RPcmlnaW5hbEtleXNPZkhlYWRlcnNJbml0W2luZGV4XTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhlYWRlcnNJbml0W29yaWdpbmFsS2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBwZXJmOiBCdWlsZCB0aGUgbWFwIG9mIGhlYWRlcnMgbGF6aWx5LCBvbmx5IHdoZW4gd2UgbmVlZCB0byBhY2Nlc3MgYWxsIGhlYWRlcnMgb3Igd3JpdGUgdG8gaXQuXG4gICAgLy8gSSBjb3VsZCBkbyBhIGdldHRlciBoZXJlLCBidXQgSSdtIHRvbyBsYXp5IHRvIHR5cGUgYGdldHRlcmAuXG4gICAgZ2V0TWFwKCkge1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcyB8fD0gW107XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzSW5pdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiB0aGlzLmhlYWRlcnNJbml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZEtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMucHVzaCguLi52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc2V0KG5vcm1hbGl6ZWRLZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0hlYWRlcnNMaWtlKHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzSW5pdC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzIHx8PSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcy5wdXNoKC4uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbml0S2V5IGluIHRoaXMuaGVhZGVyc0luaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluaXRWYWx1ZSA9IHRoaXMuaGVhZGVyc0luaXRbaW5pdEtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gaW5pdEtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkS2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcyB8fD0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluaXRWYWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMucHVzaCguLi5pbml0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcy5wdXNoKGluaXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAuc2V0KG5vcm1hbGl6ZWRLZXksIGluaXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcDtcbiAgICB9XG4gICAgYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzIHx8PSBbXTtcbiAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhpc3RpbmdWYWx1ZSA9IHRoaXMuZ2V0TWFwKCkuZ2V0KGtleSk7XG4gICAgICAgIGNvbnN0IGZpbmFsVmFsdWUgPSBleGlzdGluZ1ZhbHVlID8gYCR7ZXhpc3RpbmdWYWx1ZX0sICR7dmFsdWV9YCA6IHZhbHVlO1xuICAgICAgICB0aGlzLmdldE1hcCgpLnNldChrZXksIGZpbmFsVmFsdWUpO1xuICAgIH1cbiAgICBnZXQobmFtZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldChuYW1lKTtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgIH1cbiAgICBoYXMobmFtZSkge1xuICAgICAgICBjb25zdCBrZXkgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5fc2V0Q29va2llcz8ubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2dldChuYW1lKTsgLy8gd2UgbWlnaHQgbmVlZCB0byBjaGVjayBpZiBoZWFkZXIgZXhpc3RzIGFuZCBub3QganVzdCBjaGVjayBpZiBpdCdzIG5vdCBudWxsYWJsZVxuICAgIH1cbiAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMgPSBbdmFsdWVdO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbWFwICYmIHRoaXMuaGVhZGVyc0luaXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMuaGVhZGVyc0luaXQuZmluZCgoW2hlYWRlcktleV0pID0+IGhlYWRlcktleS50b0xvd2VyQ2FzZSgpID09PSBrZXkpO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZFsxXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzSW5pdC5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSGVhZGVyc0xpa2UodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnNJbml0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnNJbml0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRNYXAoKS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGRlbGV0ZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzID0gW107XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRNYXAoKS5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9zZXRDb29raWVzPy5mb3JFYWNoKHNldENvb2tpZSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayhzZXRDb29raWUsICdzZXQtY29va2llJywgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVyc0luaXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnNJbml0LmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0hlYWRlcnNMaWtlKHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc0luaXQuZm9yRWFjaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmVudHJpZXModGhpcy5oZWFkZXJzSW5pdCkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0TWFwKCkuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2sodmFsdWUsIGtleSwgdGhpcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAqX2tleXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXRDb29raWVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHlpZWxkICdzZXQtY29va2llJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX21hcCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGVhZGVyc0luaXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5oZWFkZXJzSW5pdC5tYXAoKFtrZXldKSA9PiBrZXkpW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXNIZWFkZXJzTGlrZSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCogdGhpcy5oZWFkZXJzSW5pdC5rZXlzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQqIE9iamVjdC5rZXlzKHRoaXMuaGVhZGVyc0luaXQpW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQqIHRoaXMuZ2V0TWFwKCkua2V5cygpO1xuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdCh0aGlzLl9rZXlzKCksICdIZWFkZXJzSXRlcmF0b3InKTtcbiAgICB9XG4gICAgKl92YWx1ZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXRDb29raWVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHlpZWxkKiB0aGlzLl9zZXRDb29raWVzO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhlYWRlcnNJbml0Lm1hcCgoWywgdmFsdWVdKSA9PiB2YWx1ZSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0hlYWRlcnNMaWtlKHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhlYWRlcnNJbml0LnZhbHVlcygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHlpZWxkKiBPYmplY3QudmFsdWVzKHRoaXMuaGVhZGVyc0luaXQpW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQqIHRoaXMuZ2V0TWFwKCkudmFsdWVzKCk7XG4gICAgfVxuICAgIHZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvck9iamVjdF9qc18xLlBvbnlmaWxsSXRlcmF0b3JPYmplY3QodGhpcy5fdmFsdWVzKCksICdIZWFkZXJzSXRlcmF0b3InKTtcbiAgICB9XG4gICAgKl9lbnRyaWVzKCkge1xuICAgICAgICBpZiAodGhpcy5fc2V0Q29va2llcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICB5aWVsZCogdGhpcy5fc2V0Q29va2llcy5tYXAoY29va2llID0+IFsnc2V0LWNvb2tpZScsIGNvb2tpZV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhlYWRlcnNJbml0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0hlYWRlcnNMaWtlKHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhlYWRlcnNJbml0LmVudHJpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCogT2JqZWN0LmVudHJpZXModGhpcy5oZWFkZXJzSW5pdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHlpZWxkKiB0aGlzLmdldE1hcCgpLmVudHJpZXMoKTtcbiAgICB9XG4gICAgZW50cmllcygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvck9iamVjdF9qc18xLlBvbnlmaWxsSXRlcmF0b3JPYmplY3QodGhpcy5fZW50cmllcygpLCAnSGVhZGVyc0l0ZXJhdG9yJyk7XG4gICAgfVxuICAgIGdldFNldENvb2tpZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXRDb29raWVzKSB7XG4gICAgICAgICAgICB0aGlzLmdldE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXRDb29raWVzO1xuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcygpO1xuICAgIH1cbiAgICBbU3ltYm9sLmZvcignbm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b20nKV0oKSB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHt9O1xuICAgICAgICB0aGlzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgICAgIHJlY29yZFsnc2V0LWNvb2tpZSddID0gdGhpcy5fc2V0Q29va2llcyB8fCBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlY29yZFtrZXldID0gdmFsdWU/LmluY2x1ZGVzKCcsJykgPyB2YWx1ZS5zcGxpdCgnLCcpLm1hcChlbCA9PiBlbC50cmltKCkpIDogdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYEhlYWRlcnMgJHsoMCwgbm9kZV91dGlsXzEuaW5zcGVjdCkocmVjb3JkKX1gO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxIZWFkZXJzID0gUG9ueWZpbGxIZWFkZXJzO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillIteratorObject = void 0;\nconst node_util_1 = __webpack_require__(/*! node:util */ \"node:util\");\nconst disposablestack_1 = __webpack_require__(/*! @whatwg-node/disposablestack */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillIteratorObject {\n    iterableIterator;\n    [Symbol.toStringTag] = 'IteratorObject';\n    constructor(iterableIterator, className) {\n        this.iterableIterator = iterableIterator;\n        this[Symbol.toStringTag] = className;\n    }\n    *map(callbackfn) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            yield callbackfn(value, index++);\n        }\n        return undefined;\n    }\n    *filter(callbackfn) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (callbackfn(value, index++)) {\n                yield value;\n            }\n        }\n        return undefined;\n    }\n    reduce(callbackfn, initialValue) {\n        let index = 0;\n        let accumulator = initialValue;\n        for (const value of this.iterableIterator) {\n            accumulator = callbackfn(accumulator, value, index++);\n        }\n        return accumulator;\n    }\n    forEach(callbackfn) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            callbackfn(value, index++);\n        }\n    }\n    *take(limit) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (index >= limit) {\n                break;\n            }\n            yield value;\n            index++;\n        }\n        return undefined;\n    }\n    *drop(count) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (index >= count) {\n                yield value;\n            }\n            index++;\n        }\n        return undefined;\n    }\n    *flatMap(callback) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            const iteratorOrIterable = callback(value, index++);\n            if ((0, utils_js_1.isIterable)(iteratorOrIterable)) {\n                for (const innerValue of iteratorOrIterable) {\n                    yield innerValue;\n                }\n            }\n            else {\n                for (const innerValue of {\n                    [Symbol.iterator]: () => iteratorOrIterable,\n                }) {\n                    yield innerValue;\n                }\n            }\n        }\n        return undefined;\n    }\n    some(predicate) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (predicate(value, index++)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    every(predicate) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (!predicate(value, index++)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    find(predicate) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (predicate(value, index++)) {\n                return value;\n            }\n        }\n        return undefined;\n    }\n    toArray() {\n        return Array.from(this.iterableIterator);\n    }\n    [disposablestack_1.DisposableSymbols.dispose]() {\n        this.iterableIterator.return?.();\n    }\n    next(...[value]) {\n        return this.iterableIterator.next(value);\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        const record = {};\n        this.forEach((value, key) => {\n            const inspectedValue = (0, node_util_1.inspect)(value);\n            record[key] = inspectedValue.includes(',')\n                ? inspectedValue.split(',').map(el => el.trim())\n                : inspectedValue;\n        });\n        return `${this[Symbol.toStringTag]} ${(0, node_util_1.inspect)(record)}`;\n    }\n}\nexports.PonyfillIteratorObject = PonyfillIteratorObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0l0ZXJhdG9yT2JqZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2QywwQkFBMEIsbUJBQU8sQ0FBQyxvR0FBOEI7QUFDaEUsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLDBCQUEwQixFQUFFLGlDQUFpQztBQUMvRTtBQUNBO0FBQ0EsOEJBQThCIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvSXRlcmF0b3JPYmplY3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsSXRlcmF0b3JPYmplY3QgPSB2b2lkIDA7XG5jb25zdCBub2RlX3V0aWxfMSA9IHJlcXVpcmUoXCJub2RlOnV0aWxcIik7XG5jb25zdCBkaXNwb3NhYmxlc3RhY2tfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxJdGVyYXRvck9iamVjdCB7XG4gICAgaXRlcmFibGVJdGVyYXRvcjtcbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdJdGVyYXRvck9iamVjdCc7XG4gICAgY29uc3RydWN0b3IoaXRlcmFibGVJdGVyYXRvciwgY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuaXRlcmFibGVJdGVyYXRvciA9IGl0ZXJhYmxlSXRlcmF0b3I7XG4gICAgICAgIHRoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXSA9IGNsYXNzTmFtZTtcbiAgICB9XG4gICAgKm1hcChjYWxsYmFja2ZuKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB5aWVsZCBjYWxsYmFja2ZuKHZhbHVlLCBpbmRleCsrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAqZmlsdGVyKGNhbGxiYWNrZm4pIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFja2ZuKHZhbHVlLCBpbmRleCsrKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJlZHVjZShjYWxsYmFja2ZuLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgbGV0IGFjY3VtdWxhdG9yID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBjYWxsYmFja2ZuKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgrKyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrZm4pIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrZm4odmFsdWUsIGluZGV4KyspO1xuICAgICAgICB9XG4gICAgfVxuICAgICp0YWtlKGxpbWl0KSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gbGltaXQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHZhbHVlO1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAqZHJvcChjb3VudCkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgaWYgKGluZGV4ID49IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgICpmbGF0TWFwKGNhbGxiYWNrKSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVyYXRvck9ySXRlcmFibGUgPSBjYWxsYmFjayh2YWx1ZSwgaW5kZXgrKyk7XG4gICAgICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNJdGVyYWJsZSkoaXRlcmF0b3JPckl0ZXJhYmxlKSkge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5uZXJWYWx1ZSBvZiBpdGVyYXRvck9ySXRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgaW5uZXJWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlubmVyVmFsdWUgb2Yge1xuICAgICAgICAgICAgICAgICAgICBbU3ltYm9sLml0ZXJhdG9yXTogKCkgPT4gaXRlcmF0b3JPckl0ZXJhYmxlLFxuICAgICAgICAgICAgICAgIH0pIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQgaW5uZXJWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc29tZShwcmVkaWNhdGUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4KyspKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBldmVyeShwcmVkaWNhdGUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGlmICghcHJlZGljYXRlKHZhbHVlLCBpbmRleCsrKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZmluZChwcmVkaWNhdGUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4KyspKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuaXRlcmFibGVJdGVyYXRvcik7XG4gICAgfVxuICAgIFtkaXNwb3NhYmxlc3RhY2tfMS5EaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSgpIHtcbiAgICAgICAgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yLnJldHVybj8uKCk7XG4gICAgfVxuICAgIG5leHQoLi4uW3ZhbHVlXSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyYWJsZUl0ZXJhdG9yLm5leHQodmFsdWUpO1xuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSgpIHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0ge307XG4gICAgICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5zcGVjdGVkVmFsdWUgPSAoMCwgbm9kZV91dGlsXzEuaW5zcGVjdCkodmFsdWUpO1xuICAgICAgICAgICAgcmVjb3JkW2tleV0gPSBpbnNwZWN0ZWRWYWx1ZS5pbmNsdWRlcygnLCcpXG4gICAgICAgICAgICAgICAgPyBpbnNwZWN0ZWRWYWx1ZS5zcGxpdCgnLCcpLm1hcChlbCA9PiBlbC50cmltKCkpXG4gICAgICAgICAgICAgICAgOiBpbnNwZWN0ZWRWYWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBgJHt0aGlzW1N5bWJvbC50b1N0cmluZ1RhZ119ICR7KDAsIG5vZGVfdXRpbF8xLmluc3BlY3QpKHJlY29yZCl9YDtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsSXRlcmF0b3JPYmplY3QgPSBQb255ZmlsbEl0ZXJhdG9yT2JqZWN0O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillReadableStream = void 0;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst node_events_1 = __webpack_require__(/*! node:events */ \"node:events\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst promises_1 = __webpack_require__(/*! node:stream/promises */ \"node:stream/promises\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction createController(desiredSize, readable) {\n    let chunks = [];\n    let _closed = false;\n    let flushed = false;\n    return {\n        desiredSize,\n        enqueue(chunk) {\n            const buf = typeof chunk === 'string' ? node_buffer_1.Buffer.from(chunk) : chunk;\n            if (!flushed) {\n                chunks.push(buf);\n            }\n            else {\n                readable.push(buf);\n            }\n        },\n        close() {\n            if (chunks.length > 0) {\n                this._flush();\n            }\n            readable.push(null);\n            _closed = true;\n        },\n        error(error) {\n            if (chunks.length > 0) {\n                this._flush();\n            }\n            readable.destroy(error);\n        },\n        get _closed() {\n            return _closed;\n        },\n        _flush() {\n            flushed = true;\n            if (chunks.length > 0) {\n                const concatenated = chunks.length > 1 ? node_buffer_1.Buffer.concat(chunks) : chunks[0];\n                readable.push(concatenated);\n                chunks = [];\n            }\n        },\n    };\n}\nfunction isNodeReadable(obj) {\n    return obj?.read != null;\n}\nfunction isReadableStream(obj) {\n    return obj?.getReader != null;\n}\nclass PonyfillReadableStream {\n    readable;\n    constructor(underlyingSource) {\n        if (underlyingSource instanceof PonyfillReadableStream && underlyingSource.readable != null) {\n            this.readable = underlyingSource.readable;\n        }\n        else if (isNodeReadable(underlyingSource)) {\n            this.readable = underlyingSource;\n        }\n        else if (isReadableStream(underlyingSource)) {\n            this.readable = node_stream_1.Readable.fromWeb(underlyingSource);\n        }\n        else {\n            let started = false;\n            let ongoing = false;\n            const handleStart = (desiredSize) => {\n                if (!started) {\n                    const controller = createController(desiredSize, this.readable);\n                    started = true;\n                    return (0, promise_helpers_1.handleMaybePromise)(() => underlyingSource?.start?.(controller), () => {\n                        controller._flush();\n                        if (controller._closed) {\n                            return false;\n                        }\n                        return true;\n                    });\n                }\n                return true;\n            };\n            const readImpl = (desiredSize) => {\n                return (0, promise_helpers_1.handleMaybePromise)(() => handleStart(desiredSize), shouldContinue => {\n                    if (!shouldContinue) {\n                        return;\n                    }\n                    const controller = createController(desiredSize, this.readable);\n                    return (0, promise_helpers_1.handleMaybePromise)(() => underlyingSource?.pull?.(controller), () => {\n                        controller._flush();\n                        ongoing = false;\n                    });\n                });\n            };\n            this.readable = new node_stream_1.Readable({\n                read(desiredSize) {\n                    if (ongoing) {\n                        return;\n                    }\n                    ongoing = true;\n                    return readImpl(desiredSize);\n                },\n                destroy(err, callback) {\n                    if (underlyingSource?.cancel) {\n                        try {\n                            const res$ = underlyingSource.cancel(err);\n                            if (res$?.then) {\n                                return res$.then(() => {\n                                    callback(null);\n                                }, err => {\n                                    callback(err);\n                                });\n                            }\n                        }\n                        catch (err) {\n                            callback(err);\n                            return;\n                        }\n                    }\n                    callback(null);\n                },\n            });\n        }\n    }\n    cancel(reason) {\n        this.readable.destroy(reason);\n        // @ts-expect-error - we know it is void\n        return (0, node_events_1.once)(this.readable, 'close');\n    }\n    locked = false;\n    getReader(_options) {\n        const iterator = this.readable[Symbol.asyncIterator]();\n        this.locked = true;\n        const thisReadable = this.readable;\n        return {\n            read() {\n                return iterator.next();\n            },\n            releaseLock: () => {\n                if (iterator.return) {\n                    const retResult$ = iterator.return();\n                    if (retResult$.then) {\n                        retResult$.then(() => {\n                            this.locked = false;\n                        });\n                        return;\n                    }\n                }\n                this.locked = false;\n            },\n            cancel: reason => {\n                if (iterator.return) {\n                    const retResult$ = iterator.return(reason);\n                    if (retResult$.then) {\n                        return retResult$.then(() => {\n                            this.locked = false;\n                        });\n                    }\n                }\n                this.locked = false;\n                return (0, utils_js_1.fakePromise)();\n            },\n            get closed() {\n                return Promise.race([\n                    (0, node_events_1.once)(thisReadable, 'end'),\n                    (0, node_events_1.once)(thisReadable, 'error').then(err => Promise.reject(err)),\n                ]);\n            },\n        };\n    }\n    [Symbol.asyncIterator]() {\n        const iterator = this.readable[Symbol.asyncIterator]();\n        return {\n            [Symbol.asyncIterator]() {\n                return this;\n            },\n            next: () => iterator.next(),\n            return: () => {\n                if (!this.readable.destroyed) {\n                    this.readable.destroy();\n                }\n                return iterator.return?.() || (0, utils_js_1.fakePromise)({ done: true, value: undefined });\n            },\n            throw: (err) => {\n                if (!this.readable.destroyed) {\n                    this.readable.destroy(err);\n                }\n                return iterator.throw?.(err) || (0, utils_js_1.fakePromise)({ done: true, value: undefined });\n            },\n        };\n    }\n    tee() {\n        throw new Error('Not implemented');\n    }\n    async pipeToWriter(writer) {\n        try {\n            for await (const chunk of this) {\n                await writer.write(chunk);\n            }\n            await writer.close();\n        }\n        catch (err) {\n            await writer.abort(err);\n        }\n    }\n    pipeTo(destination) {\n        if (isPonyfillWritableStream(destination)) {\n            return (0, promises_1.pipeline)(this.readable, destination.writable, {\n                end: true,\n            });\n        }\n        else {\n            const writer = destination.getWriter();\n            return this.pipeToWriter(writer);\n        }\n    }\n    pipeThrough({ writable, readable, }) {\n        this.pipeTo(writable).catch(err => {\n            this.readable.destroy(err);\n        });\n        if (isPonyfillReadableStream(readable)) {\n            readable.readable.once('error', err => this.readable.destroy(err));\n            readable.readable.once('finish', () => this.readable.push(null));\n            readable.readable.once('close', () => this.readable.push(null));\n        }\n        return readable;\n    }\n    static [Symbol.hasInstance](instance) {\n        return isReadableStream(instance);\n    }\n    static from(iterable) {\n        return new PonyfillReadableStream(node_stream_1.Readable.from(iterable));\n    }\n    [Symbol.toStringTag] = 'ReadableStream';\n}\nexports.PonyfillReadableStream = PonyfillReadableStream;\nfunction isPonyfillReadableStream(obj) {\n    return obj?.readable != null;\n}\nfunction isPonyfillWritableStream(obj) {\n    return obj?.writable != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1JlYWRhYmxlU3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxtQkFBbUIsbUJBQU8sQ0FBQyxrREFBc0I7QUFDakQsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSw4QkFBOEI7QUFDMUcsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDhCQUE4QjtBQUM1RyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1JlYWRhYmxlU3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtID0gdm9pZCAwO1xuY29uc3Qgbm9kZV9idWZmZXJfMSA9IHJlcXVpcmUoXCJub2RlOmJ1ZmZlclwiKTtcbmNvbnN0IG5vZGVfZXZlbnRzXzEgPSByZXF1aXJlKFwibm9kZTpldmVudHNcIik7XG5jb25zdCBub2RlX3N0cmVhbV8xID0gcmVxdWlyZShcIm5vZGU6c3RyZWFtXCIpO1xuY29uc3QgcHJvbWlzZXNfMSA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbS9wcm9taXNlc1wiKTtcbmNvbnN0IHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5mdW5jdGlvbiBjcmVhdGVDb250cm9sbGVyKGRlc2lyZWRTaXplLCByZWFkYWJsZSkge1xuICAgIGxldCBjaHVua3MgPSBbXTtcbiAgICBsZXQgX2Nsb3NlZCA9IGZhbHNlO1xuICAgIGxldCBmbHVzaGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVzaXJlZFNpemUsXG4gICAgICAgIGVucXVldWUoY2h1bmspIHtcbiAgICAgICAgICAgIGNvbnN0IGJ1ZiA9IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGNodW5rKSA6IGNodW5rO1xuICAgICAgICAgICAgaWYgKCFmbHVzaGVkKSB7XG4gICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goYnVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlYWRhYmxlLnB1c2goYnVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICBpZiAoY2h1bmtzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGFibGUucHVzaChudWxsKTtcbiAgICAgICAgICAgIF9jbG9zZWQgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlcnJvcihlcnJvcikge1xuICAgICAgICAgICAgaWYgKGNodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmx1c2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRhYmxlLmRlc3Ryb3koZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgX2Nsb3NlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfY2xvc2VkO1xuICAgICAgICB9LFxuICAgICAgICBfZmx1c2goKSB7XG4gICAgICAgICAgICBmbHVzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChjaHVua3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbmNhdGVuYXRlZCA9IGNodW5rcy5sZW5ndGggPiAxID8gbm9kZV9idWZmZXJfMS5CdWZmZXIuY29uY2F0KGNodW5rcykgOiBjaHVua3NbMF07XG4gICAgICAgICAgICAgICAgcmVhZGFibGUucHVzaChjb25jYXRlbmF0ZWQpO1xuICAgICAgICAgICAgICAgIGNodW5rcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBpc05vZGVSZWFkYWJsZShvYmopIHtcbiAgICByZXR1cm4gb2JqPy5yZWFkICE9IG51bGw7XG59XG5mdW5jdGlvbiBpc1JlYWRhYmxlU3RyZWFtKG9iaikge1xuICAgIHJldHVybiBvYmo/LmdldFJlYWRlciAhPSBudWxsO1xufVxuY2xhc3MgUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSB7XG4gICAgcmVhZGFibGU7XG4gICAgY29uc3RydWN0b3IodW5kZXJseWluZ1NvdXJjZSkge1xuICAgICAgICBpZiAodW5kZXJseWluZ1NvdXJjZSBpbnN0YW5jZW9mIFBvbnlmaWxsUmVhZGFibGVTdHJlYW0gJiYgdW5kZXJseWluZ1NvdXJjZS5yZWFkYWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRhYmxlID0gdW5kZXJseWluZ1NvdXJjZS5yZWFkYWJsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc05vZGVSZWFkYWJsZSh1bmRlcmx5aW5nU291cmNlKSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkYWJsZSA9IHVuZGVybHlpbmdTb3VyY2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZWFkYWJsZVN0cmVhbSh1bmRlcmx5aW5nU291cmNlKSkge1xuICAgICAgICAgICAgdGhpcy5yZWFkYWJsZSA9IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbVdlYih1bmRlcmx5aW5nU291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgb25nb2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlU3RhcnQgPSAoZGVzaXJlZFNpemUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGNyZWF0ZUNvbnRyb2xsZXIoZGVzaXJlZFNpemUsIHRoaXMucmVhZGFibGUpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IHVuZGVybHlpbmdTb3VyY2U/LnN0YXJ0Py4oY29udHJvbGxlciksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuX2ZsdXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci5fY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZWFkSW1wbCA9IChkZXNpcmVkU2l6ZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBoYW5kbGVTdGFydChkZXNpcmVkU2l6ZSksIHNob3VsZENvbnRpbnVlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG91bGRDb250aW51ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBjcmVhdGVDb250cm9sbGVyKGRlc2lyZWRTaXplLCB0aGlzLnJlYWRhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IHVuZGVybHlpbmdTb3VyY2U/LnB1bGw/Lihjb250cm9sbGVyKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5fZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZ29pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5yZWFkYWJsZSA9IG5ldyBub2RlX3N0cmVhbV8xLlJlYWRhYmxlKHtcbiAgICAgICAgICAgICAgICByZWFkKGRlc2lyZWRTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbmdvaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb25nb2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWFkSW1wbChkZXNpcmVkU2l6ZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkZXN0cm95KGVyciwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVuZGVybHlpbmdTb3VyY2U/LmNhbmNlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMkID0gdW5kZXJseWluZ1NvdXJjZS5jYW5jZWwoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzJD8udGhlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzJC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWwocmVhc29uKSB7XG4gICAgICAgIHRoaXMucmVhZGFibGUuZGVzdHJveShyZWFzb24pO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gd2Uga25vdyBpdCBpcyB2b2lkXG4gICAgICAgIHJldHVybiAoMCwgbm9kZV9ldmVudHNfMS5vbmNlKSh0aGlzLnJlYWRhYmxlLCAnY2xvc2UnKTtcbiAgICB9XG4gICAgbG9ja2VkID0gZmFsc2U7XG4gICAgZ2V0UmVhZGVyKF9vcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5yZWFkYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgdGhpcy5sb2NrZWQgPSB0cnVlO1xuICAgICAgICBjb25zdCB0aGlzUmVhZGFibGUgPSB0aGlzLnJlYWRhYmxlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVhZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbGVhc2VMb2NrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRSZXN1bHQkID0gaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRSZXN1bHQkLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldFJlc3VsdCQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FuY2VsOiByZWFzb24gPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV0UmVzdWx0JCA9IGl0ZXJhdG9yLnJldHVybihyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmV0UmVzdWx0JC50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0UmVzdWx0JC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgICAgICAgICAgICAgKDAsIG5vZGVfZXZlbnRzXzEub25jZSkodGhpc1JlYWRhYmxlLCAnZW5kJyksXG4gICAgICAgICAgICAgICAgICAgICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHRoaXNSZWFkYWJsZSwgJ2Vycm9yJykudGhlbihlcnIgPT4gUHJvbWlzZS5yZWplY3QoZXJyKSksXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICBjb25zdCBpdGVyYXRvciA9IHRoaXMucmVhZGFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IGl0ZXJhdG9yLm5leHQoKSxcbiAgICAgICAgICAgIHJldHVybjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZWFkYWJsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkYWJsZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvci5yZXR1cm4/LigpIHx8ICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGhyb3c6IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVhZGFibGUuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZGFibGUuZGVzdHJveShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3IudGhyb3c/LihlcnIpIHx8ICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh7IGRvbmU6IHRydWUsIHZhbHVlOiB1bmRlZmluZWQgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0ZWUoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIGFzeW5jIHBpcGVUb1dyaXRlcih3cml0ZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdGhpcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHdyaXRlci53cml0ZShjaHVuayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB3cml0ZXIuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCB3cml0ZXIuYWJvcnQoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwaXBlVG8oZGVzdGluYXRpb24pIHtcbiAgICAgICAgaWYgKGlzUG9ueWZpbGxXcml0YWJsZVN0cmVhbShkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZXNfMS5waXBlbGluZSkodGhpcy5yZWFkYWJsZSwgZGVzdGluYXRpb24ud3JpdGFibGUsIHtcbiAgICAgICAgICAgICAgICBlbmQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdyaXRlciA9IGRlc3RpbmF0aW9uLmdldFdyaXRlcigpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGlwZVRvV3JpdGVyKHdyaXRlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGlwZVRocm91Z2goeyB3cml0YWJsZSwgcmVhZGFibGUsIH0pIHtcbiAgICAgICAgdGhpcy5waXBlVG8od3JpdGFibGUpLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlYWRhYmxlLmRlc3Ryb3koZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChpc1BvbnlmaWxsUmVhZGFibGVTdHJlYW0ocmVhZGFibGUpKSB7XG4gICAgICAgICAgICByZWFkYWJsZS5yZWFkYWJsZS5vbmNlKCdlcnJvcicsIGVyciA9PiB0aGlzLnJlYWRhYmxlLmRlc3Ryb3koZXJyKSk7XG4gICAgICAgICAgICByZWFkYWJsZS5yZWFkYWJsZS5vbmNlKCdmaW5pc2gnLCAoKSA9PiB0aGlzLnJlYWRhYmxlLnB1c2gobnVsbCkpO1xuICAgICAgICAgICAgcmVhZGFibGUucmVhZGFibGUub25jZSgnY2xvc2UnLCAoKSA9PiB0aGlzLnJlYWRhYmxlLnB1c2gobnVsbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWFkYWJsZTtcbiAgICB9XG4gICAgc3RhdGljIFtTeW1ib2wuaGFzSW5zdGFuY2VdKGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiBpc1JlYWRhYmxlU3RyZWFtKGluc3RhbmNlKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb20oaXRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb255ZmlsbFJlYWRhYmxlU3RyZWFtKG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbShpdGVyYWJsZSkpO1xuICAgIH1cbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdSZWFkYWJsZVN0cmVhbSc7XG59XG5leHBvcnRzLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0gPSBQb255ZmlsbFJlYWRhYmxlU3RyZWFtO1xuZnVuY3Rpb24gaXNQb255ZmlsbFJlYWRhYmxlU3RyZWFtKG9iaikge1xuICAgIHJldHVybiBvYmo/LnJlYWRhYmxlICE9IG51bGw7XG59XG5mdW5jdGlvbiBpc1BvbnlmaWxsV3JpdGFibGVTdHJlYW0ob2JqKSB7XG4gICAgcmV0dXJuIG9iaj8ud3JpdGFibGUgIT0gbnVsbDtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js":
/*!*************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Request.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillRequest = void 0;\nconst node_http_1 = __webpack_require__(/*! node:http */ \"node:http\");\nconst node_https_1 = __webpack_require__(/*! node:https */ \"node:https\");\nconst Body_js_1 = __webpack_require__(/*! ./Body.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\");\nconst Headers_js_1 = __webpack_require__(/*! ./Headers.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\");\nconst URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nfunction isRequest(input) {\n    return input[Symbol.toStringTag] === 'Request';\n}\nfunction isURL(obj) {\n    return obj?.href != null;\n}\nclass PonyfillRequest extends Body_js_1.PonyfillBody {\n    constructor(input, options) {\n        let _url;\n        let _parsedUrl;\n        let bodyInit = null;\n        let requestInit;\n        if (typeof input === 'string') {\n            _url = input;\n        }\n        else if (isURL(input)) {\n            _parsedUrl = input;\n        }\n        else if (isRequest(input)) {\n            if (input._parsedUrl) {\n                _parsedUrl = input._parsedUrl;\n            }\n            else if (input._url) {\n                _url = input._url;\n            }\n            else {\n                _url = input.url;\n            }\n            bodyInit = input.body;\n            requestInit = input;\n        }\n        if (options != null) {\n            bodyInit = options.body || null;\n            requestInit = options;\n        }\n        super(bodyInit, requestInit);\n        this._url = _url;\n        this._parsedUrl = _parsedUrl;\n        this.cache = requestInit?.cache || 'default';\n        this.credentials = requestInit?.credentials || 'same-origin';\n        this.headers =\n            requestInit?.headers && (0, Headers_js_1.isHeadersLike)(requestInit.headers)\n                ? requestInit.headers\n                : new Headers_js_1.PonyfillHeaders(requestInit?.headers);\n        this.integrity = requestInit?.integrity || '';\n        this.keepalive = requestInit?.keepalive != null ? requestInit?.keepalive : false;\n        this.method = requestInit?.method?.toUpperCase() || 'GET';\n        this.mode = requestInit?.mode || 'cors';\n        this.redirect = requestInit?.redirect || 'follow';\n        this.referrer = requestInit?.referrer || 'about:client';\n        this.referrerPolicy = requestInit?.referrerPolicy || 'no-referrer';\n        this.headersSerializer = requestInit?.headersSerializer;\n        this.duplex = requestInit?.duplex || 'half';\n        this.destination = 'document';\n        this.priority = 'auto';\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.handleContentLengthHeader(true);\n        }\n        if (requestInit?.agent != null) {\n            const protocol = _parsedUrl?.protocol || _url || this.url;\n            if (requestInit.agent === false) {\n                this.agent = false;\n            }\n            else if (protocol.startsWith('http:') && requestInit.agent instanceof node_http_1.Agent) {\n                this.agent = requestInit.agent;\n            }\n            else if (protocol.startsWith('https:') && requestInit.agent instanceof node_https_1.Agent) {\n                this.agent = requestInit.agent;\n            }\n        }\n    }\n    headersSerializer;\n    cache;\n    credentials;\n    destination;\n    headers;\n    integrity;\n    keepalive;\n    method;\n    mode;\n    priority;\n    redirect;\n    referrer;\n    referrerPolicy;\n    _url;\n    get signal() {\n        this._signal ||= new AbortController().signal;\n        return this._signal;\n    }\n    get url() {\n        if (this._url == null) {\n            if (this._parsedUrl) {\n                this._url = this._parsedUrl.toString();\n            }\n            else {\n                throw new TypeError('Invalid URL');\n            }\n        }\n        return this._url;\n    }\n    _parsedUrl;\n    get parsedUrl() {\n        if (this._parsedUrl == null) {\n            if (this._url != null) {\n                this._parsedUrl = new URL_js_1.PonyfillURL(this._url, 'http://localhost');\n            }\n            else {\n                throw new TypeError('Invalid URL');\n            }\n        }\n        return this._parsedUrl;\n    }\n    duplex;\n    agent;\n    clone() {\n        return this;\n    }\n    [Symbol.toStringTag] = 'Request';\n}\nexports.PonyfillRequest = PonyfillRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1JlcXVlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDhCQUFZO0FBQ3pDLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFXO0FBQ3JDLHFCQUFxQixtQkFBTyxDQUFDLGlGQUFjO0FBQzNDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9SZXF1ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFJlcXVlc3QgPSB2b2lkIDA7XG5jb25zdCBub2RlX2h0dHBfMSA9IHJlcXVpcmUoXCJub2RlOmh0dHBcIik7XG5jb25zdCBub2RlX2h0dHBzXzEgPSByZXF1aXJlKFwibm9kZTpodHRwc1wiKTtcbmNvbnN0IEJvZHlfanNfMSA9IHJlcXVpcmUoXCIuL0JvZHkuanNcIik7XG5jb25zdCBIZWFkZXJzX2pzXzEgPSByZXF1aXJlKFwiLi9IZWFkZXJzLmpzXCIpO1xuY29uc3QgVVJMX2pzXzEgPSByZXF1aXJlKFwiLi9VUkwuanNcIik7XG5mdW5jdGlvbiBpc1JlcXVlc3QoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXRbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ1JlcXVlc3QnO1xufVxuZnVuY3Rpb24gaXNVUkwob2JqKSB7XG4gICAgcmV0dXJuIG9iaj8uaHJlZiAhPSBudWxsO1xufVxuY2xhc3MgUG9ueWZpbGxSZXF1ZXN0IGV4dGVuZHMgQm9keV9qc18xLlBvbnlmaWxsQm9keSB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IF91cmw7XG4gICAgICAgIGxldCBfcGFyc2VkVXJsO1xuICAgICAgICBsZXQgYm9keUluaXQgPSBudWxsO1xuICAgICAgICBsZXQgcmVxdWVzdEluaXQ7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBfdXJsID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNVUkwoaW5wdXQpKSB7XG4gICAgICAgICAgICBfcGFyc2VkVXJsID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNSZXF1ZXN0KGlucHV0KSkge1xuICAgICAgICAgICAgaWYgKGlucHV0Ll9wYXJzZWRVcmwpIHtcbiAgICAgICAgICAgICAgICBfcGFyc2VkVXJsID0gaW5wdXQuX3BhcnNlZFVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0Ll91cmwpIHtcbiAgICAgICAgICAgICAgICBfdXJsID0gaW5wdXQuX3VybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF91cmwgPSBpbnB1dC51cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib2R5SW5pdCA9IGlucHV0LmJvZHk7XG4gICAgICAgICAgICByZXF1ZXN0SW5pdCA9IGlucHV0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgICAgIGJvZHlJbml0ID0gb3B0aW9ucy5ib2R5IHx8IG51bGw7XG4gICAgICAgICAgICByZXF1ZXN0SW5pdCA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoYm9keUluaXQsIHJlcXVlc3RJbml0KTtcbiAgICAgICAgdGhpcy5fdXJsID0gX3VybDtcbiAgICAgICAgdGhpcy5fcGFyc2VkVXJsID0gX3BhcnNlZFVybDtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHJlcXVlc3RJbml0Py5jYWNoZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSByZXF1ZXN0SW5pdD8uY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJztcbiAgICAgICAgdGhpcy5oZWFkZXJzID1cbiAgICAgICAgICAgIHJlcXVlc3RJbml0Py5oZWFkZXJzICYmICgwLCBIZWFkZXJzX2pzXzEuaXNIZWFkZXJzTGlrZSkocmVxdWVzdEluaXQuaGVhZGVycylcbiAgICAgICAgICAgICAgICA/IHJlcXVlc3RJbml0LmhlYWRlcnNcbiAgICAgICAgICAgICAgICA6IG5ldyBIZWFkZXJzX2pzXzEuUG9ueWZpbGxIZWFkZXJzKHJlcXVlc3RJbml0Py5oZWFkZXJzKTtcbiAgICAgICAgdGhpcy5pbnRlZ3JpdHkgPSByZXF1ZXN0SW5pdD8uaW50ZWdyaXR5IHx8ICcnO1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZSA9IHJlcXVlc3RJbml0Py5rZWVwYWxpdmUgIT0gbnVsbCA/IHJlcXVlc3RJbml0Py5rZWVwYWxpdmUgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXRob2QgPSByZXF1ZXN0SW5pdD8ubWV0aG9kPy50b1VwcGVyQ2FzZSgpIHx8ICdHRVQnO1xuICAgICAgICB0aGlzLm1vZGUgPSByZXF1ZXN0SW5pdD8ubW9kZSB8fCAnY29ycyc7XG4gICAgICAgIHRoaXMucmVkaXJlY3QgPSByZXF1ZXN0SW5pdD8ucmVkaXJlY3QgfHwgJ2ZvbGxvdyc7XG4gICAgICAgIHRoaXMucmVmZXJyZXIgPSByZXF1ZXN0SW5pdD8ucmVmZXJyZXIgfHwgJ2Fib3V0OmNsaWVudCc7XG4gICAgICAgIHRoaXMucmVmZXJyZXJQb2xpY3kgPSByZXF1ZXN0SW5pdD8ucmVmZXJyZXJQb2xpY3kgfHwgJ25vLXJlZmVycmVyJztcbiAgICAgICAgdGhpcy5oZWFkZXJzU2VyaWFsaXplciA9IHJlcXVlc3RJbml0Py5oZWFkZXJzU2VyaWFsaXplcjtcbiAgICAgICAgdGhpcy5kdXBsZXggPSByZXF1ZXN0SW5pdD8uZHVwbGV4IHx8ICdoYWxmJztcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbiA9ICdkb2N1bWVudCc7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSAnYXV0byc7XG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCAhPT0gJ0dFVCcgJiYgdGhpcy5tZXRob2QgIT09ICdIRUFEJykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVDb250ZW50TGVuZ3RoSGVhZGVyKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXF1ZXN0SW5pdD8uYWdlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBfcGFyc2VkVXJsPy5wcm90b2NvbCB8fCBfdXJsIHx8IHRoaXMudXJsO1xuICAgICAgICAgICAgaWYgKHJlcXVlc3RJbml0LmFnZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWdlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb3RvY29sLnN0YXJ0c1dpdGgoJ2h0dHA6JykgJiYgcmVxdWVzdEluaXQuYWdlbnQgaW5zdGFuY2VvZiBub2RlX2h0dHBfMS5BZ2VudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWdlbnQgPSByZXF1ZXN0SW5pdC5hZ2VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb3RvY29sLnN0YXJ0c1dpdGgoJ2h0dHBzOicpICYmIHJlcXVlc3RJbml0LmFnZW50IGluc3RhbmNlb2Ygbm9kZV9odHRwc18xLkFnZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZ2VudCA9IHJlcXVlc3RJbml0LmFnZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhlYWRlcnNTZXJpYWxpemVyO1xuICAgIGNhY2hlO1xuICAgIGNyZWRlbnRpYWxzO1xuICAgIGRlc3RpbmF0aW9uO1xuICAgIGhlYWRlcnM7XG4gICAgaW50ZWdyaXR5O1xuICAgIGtlZXBhbGl2ZTtcbiAgICBtZXRob2Q7XG4gICAgbW9kZTtcbiAgICBwcmlvcml0eTtcbiAgICByZWRpcmVjdDtcbiAgICByZWZlcnJlcjtcbiAgICByZWZlcnJlclBvbGljeTtcbiAgICBfdXJsO1xuICAgIGdldCBzaWduYWwoKSB7XG4gICAgICAgIHRoaXMuX3NpZ25hbCB8fD0gbmV3IEFib3J0Q29udHJvbGxlcigpLnNpZ25hbDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25hbDtcbiAgICB9XG4gICAgZ2V0IHVybCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3VybCA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fcGFyc2VkVXJsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXJsID0gdGhpcy5fcGFyc2VkVXJsLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFVSTCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91cmw7XG4gICAgfVxuICAgIF9wYXJzZWRVcmw7XG4gICAgZ2V0IHBhcnNlZFVybCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhcnNlZFVybCA9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdXJsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJzZWRVcmwgPSBuZXcgVVJMX2pzXzEuUG9ueWZpbGxVUkwodGhpcy5fdXJsLCAnaHR0cDovL2xvY2FsaG9zdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBVUkwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VkVXJsO1xuICAgIH1cbiAgICBkdXBsZXg7XG4gICAgYWdlbnQ7XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdSZXF1ZXN0Jztcbn1cbmV4cG9ydHMuUG9ueWZpbGxSZXF1ZXN0ID0gUG9ueWZpbGxSZXF1ZXN0O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js":
/*!**************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Response.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillResponse = void 0;\nconst node_http_1 = __webpack_require__(/*! node:http */ \"node:http\");\nconst Body_js_1 = __webpack_require__(/*! ./Body.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\");\nconst Headers_js_1 = __webpack_require__(/*! ./Headers.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\");\nconst JSON_CONTENT_TYPE = 'application/json; charset=utf-8';\nclass PonyfillResponse extends Body_js_1.PonyfillBody {\n    headers;\n    constructor(body, init) {\n        super(body || null, init);\n        this.headers =\n            init?.headers && (0, Headers_js_1.isHeadersLike)(init.headers)\n                ? init.headers\n                : new Headers_js_1.PonyfillHeaders(init?.headers);\n        this.status = init?.status || 200;\n        this.statusText = init?.statusText || node_http_1.STATUS_CODES[this.status] || 'OK';\n        this.url = init?.url || '';\n        this.redirected = init?.redirected || false;\n        this.type = init?.type || 'default';\n        this.handleContentLengthHeader();\n    }\n    get ok() {\n        return this.status >= 200 && this.status < 300;\n    }\n    status;\n    statusText;\n    url;\n    redirected;\n    type;\n    clone() {\n        return this;\n    }\n    static error() {\n        return new PonyfillResponse(null, {\n            status: 500,\n            statusText: 'Internal Server Error',\n        });\n    }\n    static redirect(url, status = 302) {\n        if (status < 300 || status > 399) {\n            throw new RangeError('Invalid status code');\n        }\n        return new PonyfillResponse(null, {\n            headers: {\n                location: url,\n            },\n            status,\n        });\n    }\n    static json(data, init) {\n        const bodyInit = JSON.stringify(data);\n        if (!init) {\n            init = {\n                headers: {\n                    'content-type': JSON_CONTENT_TYPE,\n                    'content-length': Buffer.byteLength(bodyInit).toString(),\n                },\n            };\n        }\n        else if (!init.headers) {\n            init.headers = {\n                'content-type': JSON_CONTENT_TYPE,\n                'content-length': Buffer.byteLength(bodyInit).toString(),\n            };\n        }\n        else if ((0, Headers_js_1.isHeadersLike)(init.headers)) {\n            if (!init.headers.has('content-type')) {\n                init.headers.set('content-type', JSON_CONTENT_TYPE);\n            }\n            if (!init.headers.has('content-length')) {\n                init.headers.set('content-length', Buffer.byteLength(bodyInit).toString());\n            }\n        }\n        else if (Array.isArray(init.headers)) {\n            let contentTypeExists = false;\n            let contentLengthExists = false;\n            for (const [key] of init.headers) {\n                if (contentLengthExists && contentTypeExists) {\n                    break;\n                }\n                if (!contentTypeExists && key.toLowerCase() === 'content-type') {\n                    contentTypeExists = true;\n                }\n                else if (!contentLengthExists && key.toLowerCase() === 'content-length') {\n                    contentLengthExists = true;\n                }\n            }\n            if (!contentTypeExists) {\n                init.headers.push(['content-type', JSON_CONTENT_TYPE]);\n            }\n            if (!contentLengthExists) {\n                init.headers.push(['content-length', Buffer.byteLength(bodyInit).toString()]);\n            }\n        }\n        else if (typeof init.headers === 'object') {\n            if (init.headers?.['content-type'] == null) {\n                init.headers['content-type'] = JSON_CONTENT_TYPE;\n            }\n            if (init.headers?.['content-length'] == null) {\n                init.headers['content-length'] = Buffer.byteLength(bodyInit).toString();\n            }\n        }\n        return new PonyfillResponse(bodyInit, init);\n    }\n    [Symbol.toStringTag] = 'Response';\n}\nexports.PonyfillResponse = PonyfillResponse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1Jlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QixvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2QyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBVztBQUNyQyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBYztBQUMzQyw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1Jlc3BvbnNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFJlc3BvbnNlID0gdm9pZCAwO1xuY29uc3Qgbm9kZV9odHRwXzEgPSByZXF1aXJlKFwibm9kZTpodHRwXCIpO1xuY29uc3QgQm9keV9qc18xID0gcmVxdWlyZShcIi4vQm9keS5qc1wiKTtcbmNvbnN0IEhlYWRlcnNfanNfMSA9IHJlcXVpcmUoXCIuL0hlYWRlcnMuanNcIik7XG5jb25zdCBKU09OX0NPTlRFTlRfVFlQRSA9ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04JztcbmNsYXNzIFBvbnlmaWxsUmVzcG9uc2UgZXh0ZW5kcyBCb2R5X2pzXzEuUG9ueWZpbGxCb2R5IHtcbiAgICBoZWFkZXJzO1xuICAgIGNvbnN0cnVjdG9yKGJvZHksIGluaXQpIHtcbiAgICAgICAgc3VwZXIoYm9keSB8fCBudWxsLCBpbml0KTtcbiAgICAgICAgdGhpcy5oZWFkZXJzID1cbiAgICAgICAgICAgIGluaXQ/LmhlYWRlcnMgJiYgKDAsIEhlYWRlcnNfanNfMS5pc0hlYWRlcnNMaWtlKShpbml0LmhlYWRlcnMpXG4gICAgICAgICAgICAgICAgPyBpbml0LmhlYWRlcnNcbiAgICAgICAgICAgICAgICA6IG5ldyBIZWFkZXJzX2pzXzEuUG9ueWZpbGxIZWFkZXJzKGluaXQ/LmhlYWRlcnMpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IGluaXQ/LnN0YXR1cyB8fCAyMDA7XG4gICAgICAgIHRoaXMuc3RhdHVzVGV4dCA9IGluaXQ/LnN0YXR1c1RleHQgfHwgbm9kZV9odHRwXzEuU1RBVFVTX0NPREVTW3RoaXMuc3RhdHVzXSB8fCAnT0snO1xuICAgICAgICB0aGlzLnVybCA9IGluaXQ/LnVybCB8fCAnJztcbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkID0gaW5pdD8ucmVkaXJlY3RlZCB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy50eXBlID0gaW5pdD8udHlwZSB8fCAnZGVmYXVsdCc7XG4gICAgICAgIHRoaXMuaGFuZGxlQ29udGVudExlbmd0aEhlYWRlcigpO1xuICAgIH1cbiAgICBnZXQgb2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy5zdGF0dXMgPCAzMDA7XG4gICAgfVxuICAgIHN0YXR1cztcbiAgICBzdGF0dXNUZXh0O1xuICAgIHVybDtcbiAgICByZWRpcmVjdGVkO1xuICAgIHR5cGU7XG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBzdGF0aWMgZXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9ueWZpbGxSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdJbnRlcm5hbCBTZXJ2ZXIgRXJyb3InLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGljIHJlZGlyZWN0KHVybCwgc3RhdHVzID0gMzAyKSB7XG4gICAgICAgIGlmIChzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID4gMzk5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW52YWxpZCBzdGF0dXMgY29kZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9ueWZpbGxSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IHVybCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMganNvbihkYXRhLCBpbml0KSB7XG4gICAgICAgIGNvbnN0IGJvZHlJbml0ID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGlmICghaW5pdCkge1xuICAgICAgICAgICAgaW5pdCA9IHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiBKU09OX0NPTlRFTlRfVFlQRSxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtbGVuZ3RoJzogQnVmZmVyLmJ5dGVMZW5ndGgoYm9keUluaXQpLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWluaXQuaGVhZGVycykge1xuICAgICAgICAgICAgaW5pdC5oZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiBKU09OX0NPTlRFTlRfVFlQRSxcbiAgICAgICAgICAgICAgICAnY29udGVudC1sZW5ndGgnOiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5SW5pdCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKDAsIEhlYWRlcnNfanNfMS5pc0hlYWRlcnNMaWtlKShpbml0LmhlYWRlcnMpKSB7XG4gICAgICAgICAgICBpZiAoIWluaXQuaGVhZGVycy5oYXMoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgICAgICAgICAgaW5pdC5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgSlNPTl9DT05URU5UX1RZUEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpbml0LmhlYWRlcnMuaGFzKCdjb250ZW50LWxlbmd0aCcpKSB7XG4gICAgICAgICAgICAgICAgaW5pdC5oZWFkZXJzLnNldCgnY29udGVudC1sZW5ndGgnLCBCdWZmZXIuYnl0ZUxlbmd0aChib2R5SW5pdCkudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShpbml0LmhlYWRlcnMpKSB7XG4gICAgICAgICAgICBsZXQgY29udGVudFR5cGVFeGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBjb250ZW50TGVuZ3RoRXhpc3RzID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXldIG9mIGluaXQuaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50TGVuZ3RoRXhpc3RzICYmIGNvbnRlbnRUeXBlRXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRUeXBlRXhpc3RzICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC10eXBlJykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZUV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjb250ZW50TGVuZ3RoRXhpc3RzICYmIGtleS50b0xvd2VyQ2FzZSgpID09PSAnY29udGVudC1sZW5ndGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRMZW5ndGhFeGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGVudFR5cGVFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnMucHVzaChbJ2NvbnRlbnQtdHlwZScsIEpTT05fQ09OVEVOVF9UWVBFXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnRMZW5ndGhFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnMucHVzaChbJ2NvbnRlbnQtbGVuZ3RoJywgQnVmZmVyLmJ5dGVMZW5ndGgoYm9keUluaXQpLnRvU3RyaW5nKCldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgaW5pdC5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKGluaXQuaGVhZGVycz8uWydjb250ZW50LXR5cGUnXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW5pdC5oZWFkZXJzWydjb250ZW50LXR5cGUnXSA9IEpTT05fQ09OVEVOVF9UWVBFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluaXQuaGVhZGVycz8uWydjb250ZW50LWxlbmd0aCddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10gPSBCdWZmZXIuYnl0ZUxlbmd0aChib2R5SW5pdCkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBvbnlmaWxsUmVzcG9uc2UoYm9keUluaXQsIGluaXQpO1xuICAgIH1cbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdSZXNwb25zZSc7XG59XG5leHBvcnRzLlBvbnlmaWxsUmVzcG9uc2UgPSBQb255ZmlsbFJlc3BvbnNlO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js":
/*!************************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillTextDecoder = exports.PonyfillTextEncoder = void 0;\nexports.PonyfillBtoa = PonyfillBtoa;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillTextEncoder {\n    encoding;\n    constructor(encoding = 'utf-8') {\n        this.encoding = encoding;\n    }\n    encode(input) {\n        return node_buffer_1.Buffer.from(input, this.encoding);\n    }\n    encodeInto(source, destination) {\n        const buffer = this.encode(source);\n        const copied = buffer.copy(destination);\n        return {\n            read: copied,\n            written: copied,\n        };\n    }\n}\nexports.PonyfillTextEncoder = PonyfillTextEncoder;\nclass PonyfillTextDecoder {\n    encoding;\n    fatal = false;\n    ignoreBOM = false;\n    constructor(encoding = 'utf-8', options) {\n        this.encoding = encoding;\n        if (options) {\n            this.fatal = options.fatal || false;\n            this.ignoreBOM = options.ignoreBOM || false;\n        }\n    }\n    decode(input) {\n        if (node_buffer_1.Buffer.isBuffer(input)) {\n            return input.toString(this.encoding);\n        }\n        if ((0, utils_js_1.isArrayBufferView)(input)) {\n            return node_buffer_1.Buffer.from(input.buffer, input.byteOffset, input.byteLength).toString(this.encoding);\n        }\n        return node_buffer_1.Buffer.from(input).toString(this.encoding);\n    }\n}\nexports.PonyfillTextDecoder = PonyfillTextDecoder;\nfunction PonyfillBtoa(input) {\n    return node_buffer_1.Buffer.from(input, 'binary').toString('base64');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RleHRFbmNvZGVyRGVjb2Rlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkIsR0FBRywyQkFBMkI7QUFDekQsb0JBQW9CO0FBQ3BCLHNCQUFzQixtQkFBTyxDQUFDLGdDQUFhO0FBQzNDLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RleHRFbmNvZGVyRGVjb2Rlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxUZXh0RGVjb2RlciA9IGV4cG9ydHMuUG9ueWZpbGxUZXh0RW5jb2RlciA9IHZvaWQgMDtcbmV4cG9ydHMuUG9ueWZpbGxCdG9hID0gUG9ueWZpbGxCdG9hO1xuY29uc3Qgbm9kZV9idWZmZXJfMSA9IHJlcXVpcmUoXCJub2RlOmJ1ZmZlclwiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbmNsYXNzIFBvbnlmaWxsVGV4dEVuY29kZXIge1xuICAgIGVuY29kaW5nO1xuICAgIGNvbnN0cnVjdG9yKGVuY29kaW5nID0gJ3V0Zi04Jykge1xuICAgICAgICB0aGlzLmVuY29kaW5nID0gZW5jb2Rpbmc7XG4gICAgfVxuICAgIGVuY29kZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShpbnB1dCwgdGhpcy5lbmNvZGluZyk7XG4gICAgfVxuICAgIGVuY29kZUludG8oc291cmNlLCBkZXN0aW5hdGlvbikge1xuICAgICAgICBjb25zdCBidWZmZXIgPSB0aGlzLmVuY29kZShzb3VyY2UpO1xuICAgICAgICBjb25zdCBjb3BpZWQgPSBidWZmZXIuY29weShkZXN0aW5hdGlvbik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWFkOiBjb3BpZWQsXG4gICAgICAgICAgICB3cml0dGVuOiBjb3BpZWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbFRleHRFbmNvZGVyID0gUG9ueWZpbGxUZXh0RW5jb2RlcjtcbmNsYXNzIFBvbnlmaWxsVGV4dERlY29kZXIge1xuICAgIGVuY29kaW5nO1xuICAgIGZhdGFsID0gZmFsc2U7XG4gICAgaWdub3JlQk9NID0gZmFsc2U7XG4gICAgY29uc3RydWN0b3IoZW5jb2RpbmcgPSAndXRmLTgnLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuZmF0YWwgPSBvcHRpb25zLmZhdGFsIHx8IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVCT00gPSBvcHRpb25zLmlnbm9yZUJPTSB8fCBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWNvZGUoaW5wdXQpIHtcbiAgICAgICAgaWYgKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmlzQnVmZmVyKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoMCwgdXRpbHNfanNfMS5pc0FycmF5QnVmZmVyVmlldykoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShpbnB1dC5idWZmZXIsIGlucHV0LmJ5dGVPZmZzZXQsIGlucHV0LmJ5dGVMZW5ndGgpLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGlucHV0KS50b1N0cmluZyh0aGlzLmVuY29kaW5nKTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsVGV4dERlY29kZXIgPSBQb255ZmlsbFRleHREZWNvZGVyO1xuZnVuY3Rpb24gUG9ueWZpbGxCdG9hKGlucHV0KSB7XG4gICAgcmV0dXJuIG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oaW5wdXQsICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0Jyk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillTextEncoderStream = exports.PonyfillTextDecoderStream = void 0;\nconst TextEncoderDecoder_js_1 = __webpack_require__(/*! ./TextEncoderDecoder.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js\");\nconst TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nclass PonyfillTextDecoderStream extends TransformStream_js_1.PonyfillTransformStream {\n    textDecoder;\n    constructor(encoding, options) {\n        super({\n            transform: (chunk, controller) => controller.enqueue(this.textDecoder.decode(chunk, { stream: true })),\n        });\n        this.textDecoder = new TextEncoderDecoder_js_1.PonyfillTextDecoder(encoding, options);\n    }\n    get encoding() {\n        return this.textDecoder.encoding;\n    }\n    get fatal() {\n        return this.textDecoder.fatal;\n    }\n    get ignoreBOM() {\n        return this.textDecoder.ignoreBOM;\n    }\n}\nexports.PonyfillTextDecoderStream = PonyfillTextDecoderStream;\nclass PonyfillTextEncoderStream extends TransformStream_js_1.PonyfillTransformStream {\n    textEncoder;\n    constructor(encoding) {\n        super({\n            transform: (chunk, controller) => controller.enqueue(this.textEncoder.encode(chunk)),\n        });\n        this.textEncoder = new TextEncoderDecoder_js_1.PonyfillTextEncoder(encoding);\n    }\n    get encoding() {\n        return this.textEncoder.encoding;\n    }\n    encode(input) {\n        return this.textEncoder.encode(input);\n    }\n}\nexports.PonyfillTextEncoderStream = PonyfillTextEncoderStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RleHRFbmNvZGVyRGVjb2RlclN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUMsR0FBRyxpQ0FBaUM7QUFDckUsZ0NBQWdDLG1CQUFPLENBQUMsdUdBQXlCO0FBQ2pFLDZCQUE2QixtQkFBTyxDQUFDLGlHQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxjQUFjO0FBQ2hILFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9UZXh0RW5jb2RlckRlY29kZXJTdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsVGV4dEVuY29kZXJTdHJlYW0gPSBleHBvcnRzLlBvbnlmaWxsVGV4dERlY29kZXJTdHJlYW0gPSB2b2lkIDA7XG5jb25zdCBUZXh0RW5jb2RlckRlY29kZXJfanNfMSA9IHJlcXVpcmUoXCIuL1RleHRFbmNvZGVyRGVjb2Rlci5qc1wiKTtcbmNvbnN0IFRyYW5zZm9ybVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vVHJhbnNmb3JtU3RyZWFtLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxUZXh0RGVjb2RlclN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbV9qc18xLlBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtIHtcbiAgICB0ZXh0RGVjb2RlcjtcbiAgICBjb25zdHJ1Y3RvcihlbmNvZGluZywgb3B0aW9ucykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IChjaHVuaywgY29udHJvbGxlcikgPT4gY29udHJvbGxlci5lbnF1ZXVlKHRoaXMudGV4dERlY29kZXIuZGVjb2RlKGNodW5rLCB7IHN0cmVhbTogdHJ1ZSB9KSksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRleHREZWNvZGVyID0gbmV3IFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xLlBvbnlmaWxsVGV4dERlY29kZXIoZW5jb2RpbmcsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBnZXQgZW5jb2RpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmVuY29kaW5nO1xuICAgIH1cbiAgICBnZXQgZmF0YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmZhdGFsO1xuICAgIH1cbiAgICBnZXQgaWdub3JlQk9NKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0RGVjb2Rlci5pZ25vcmVCT007XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbFRleHREZWNvZGVyU3RyZWFtID0gUG9ueWZpbGxUZXh0RGVjb2RlclN0cmVhbTtcbmNsYXNzIFBvbnlmaWxsVGV4dEVuY29kZXJTdHJlYW0gZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW1fanNfMS5Qb255ZmlsbFRyYW5zZm9ybVN0cmVhbSB7XG4gICAgdGV4dEVuY29kZXI7XG4gICAgY29uc3RydWN0b3IoZW5jb2RpbmcpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgdHJhbnNmb3JtOiAoY2h1bmssIGNvbnRyb2xsZXIpID0+IGNvbnRyb2xsZXIuZW5xdWV1ZSh0aGlzLnRleHRFbmNvZGVyLmVuY29kZShjaHVuaykpLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlckRlY29kZXJfanNfMS5Qb255ZmlsbFRleHRFbmNvZGVyKGVuY29kaW5nKTtcbiAgICB9XG4gICAgZ2V0IGVuY29kaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0RW5jb2Rlci5lbmNvZGluZztcbiAgICB9XG4gICAgZW5jb2RlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRFbmNvZGVyLmVuY29kZShpbnB1dCk7XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbFRleHRFbmNvZGVyU3RyZWFtID0gUG9ueWZpbGxUZXh0RW5jb2RlclN0cmVhbTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillTransformStream = void 0;\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nconst WritableStream_js_1 = __webpack_require__(/*! ./WritableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js\");\nclass PonyfillTransformStream {\n    transform;\n    writable;\n    readable;\n    constructor(transformer) {\n        if (transformer instanceof node_stream_1.Transform) {\n            this.transform = transformer;\n        }\n        else if (transformer) {\n            const controller = {\n                enqueue(chunk) {\n                    transform.push(chunk);\n                },\n                error(reason) {\n                    transform.destroy(reason);\n                },\n                terminate() {\n                    (0, utils_js_1.endStream)(transform);\n                },\n                get desiredSize() {\n                    return transform.writableLength;\n                },\n            };\n            const transform = new node_stream_1.Transform({\n                read() { },\n                write(chunk, _encoding, callback) {\n                    try {\n                        const result = transformer.transform?.(chunk, controller);\n                        if (result instanceof Promise) {\n                            result.then(() => {\n                                callback();\n                            }, err => {\n                                callback(err);\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    }\n                    catch (err) {\n                        callback(err);\n                    }\n                },\n                final(callback) {\n                    try {\n                        const result = transformer.flush?.(controller);\n                        if (result instanceof Promise) {\n                            result.then(() => {\n                                callback();\n                            }, err => {\n                                callback(err);\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    }\n                    catch (err) {\n                        callback(err);\n                    }\n                },\n            });\n            this.transform = transform;\n        }\n        else {\n            this.transform = new node_stream_1.Transform();\n        }\n        this.writable = new WritableStream_js_1.PonyfillWritableStream(this.transform);\n        this.readable = new ReadableStream_js_1.PonyfillReadableStream(this.transform);\n    }\n}\nexports.PonyfillTransformStream = PonyfillTransformStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RyYW5zZm9ybVN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsNEJBQTRCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3pELG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDLDRCQUE0QixtQkFBTyxDQUFDLCtGQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvVHJhbnNmb3JtU3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFRyYW5zZm9ybVN0cmVhbSA9IHZvaWQgMDtcbmNvbnN0IG5vZGVfc3RyZWFtXzEgPSByZXF1aXJlKFwibm9kZTpzdHJlYW1cIik7XG5jb25zdCBSZWFkYWJsZVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vUmVhZGFibGVTdHJlYW0uanNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCBXcml0YWJsZVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vV3JpdGFibGVTdHJlYW0uanNcIik7XG5jbGFzcyBQb255ZmlsbFRyYW5zZm9ybVN0cmVhbSB7XG4gICAgdHJhbnNmb3JtO1xuICAgIHdyaXRhYmxlO1xuICAgIHJlYWRhYmxlO1xuICAgIGNvbnN0cnVjdG9yKHRyYW5zZm9ybWVyKSB7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1lciBpbnN0YW5jZW9mIG5vZGVfc3RyZWFtXzEuVHJhbnNmb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybWVyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYW5zZm9ybWVyKSB7XG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0ge1xuICAgICAgICAgICAgICAgIGVucXVldWUoY2h1bmspIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3IocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybS5kZXN0cm95KHJlYXNvbik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc19qc18xLmVuZFN0cmVhbSkodHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdldCBkZXNpcmVkU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zZm9ybS53cml0YWJsZUxlbmd0aDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5ldyBub2RlX3N0cmVhbV8xLlRyYW5zZm9ybSh7XG4gICAgICAgICAgICAgICAgcmVhZCgpIHsgfSxcbiAgICAgICAgICAgICAgICB3cml0ZShjaHVuaywgX2VuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdHJhbnNmb3JtZXIudHJhbnNmb3JtPy4oY2h1bmssIGNvbnRyb2xsZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmluYWwoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRyYW5zZm9ybWVyLmZsdXNoPy4oY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IG5ldyBub2RlX3N0cmVhbV8xLlRyYW5zZm9ybSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGFibGUgPSBuZXcgV3JpdGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFdyaXRhYmxlU3RyZWFtKHRoaXMudHJhbnNmb3JtKTtcbiAgICAgICAgdGhpcy5yZWFkYWJsZSA9IG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm0pO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxUcmFuc2Zvcm1TdHJlYW0gPSBQb255ZmlsbFRyYW5zZm9ybVN0cmVhbTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js":
/*!*********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/URL.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillURL = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst node_buffer_1 = tslib_1.__importDefault(__webpack_require__(/*! node:buffer */ \"node:buffer\"));\nconst node_crypto_1 = __webpack_require__(/*! node:crypto */ \"node:crypto\");\nconst NativeURL = globalThis.URL;\nclass URL extends NativeURL {\n    // This part is only needed to handle `PonyfillBlob` objects\n    static blobRegistry = new Map();\n    static createObjectURL(blob) {\n        const blobUrl = `blob:whatwgnode:${(0, node_crypto_1.randomUUID)()}`;\n        this.blobRegistry.set(blobUrl, blob);\n        return blobUrl;\n    }\n    static revokeObjectURL(url) {\n        if (!this.blobRegistry.has(url)) {\n            NativeURL.revokeObjectURL(url);\n        }\n        else {\n            this.blobRegistry.delete(url);\n        }\n    }\n    static getBlobFromURL(url) {\n        return (this.blobRegistry.get(url) || node_buffer_1.default?.resolveObjectURL?.(url));\n    }\n}\nexports.PonyfillURL = URL;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1VSTC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsZ0JBQWdCLG1CQUFPLENBQUMsdURBQU87QUFDL0IsOENBQThDLG1CQUFPLENBQUMsZ0NBQWE7QUFDbkUsc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnQ0FBZ0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvVVJMLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFVSTCA9IHZvaWQgMDtcbmNvbnN0IHRzbGliXzEgPSByZXF1aXJlKFwidHNsaWJcIik7XG5jb25zdCBub2RlX2J1ZmZlcl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpKTtcbmNvbnN0IG5vZGVfY3J5cHRvXzEgPSByZXF1aXJlKFwibm9kZTpjcnlwdG9cIik7XG5jb25zdCBOYXRpdmVVUkwgPSBnbG9iYWxUaGlzLlVSTDtcbmNsYXNzIFVSTCBleHRlbmRzIE5hdGl2ZVVSTCB7XG4gICAgLy8gVGhpcyBwYXJ0IGlzIG9ubHkgbmVlZGVkIHRvIGhhbmRsZSBgUG9ueWZpbGxCbG9iYCBvYmplY3RzXG4gICAgc3RhdGljIGJsb2JSZWdpc3RyeSA9IG5ldyBNYXAoKTtcbiAgICBzdGF0aWMgY3JlYXRlT2JqZWN0VVJMKGJsb2IpIHtcbiAgICAgICAgY29uc3QgYmxvYlVybCA9IGBibG9iOndoYXR3Z25vZGU6JHsoMCwgbm9kZV9jcnlwdG9fMS5yYW5kb21VVUlEKSgpfWA7XG4gICAgICAgIHRoaXMuYmxvYlJlZ2lzdHJ5LnNldChibG9iVXJsLCBibG9iKTtcbiAgICAgICAgcmV0dXJuIGJsb2JVcmw7XG4gICAgfVxuICAgIHN0YXRpYyByZXZva2VPYmplY3RVUkwodXJsKSB7XG4gICAgICAgIGlmICghdGhpcy5ibG9iUmVnaXN0cnkuaGFzKHVybCkpIHtcbiAgICAgICAgICAgIE5hdGl2ZVVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmxvYlJlZ2lzdHJ5LmRlbGV0ZSh1cmwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRCbG9iRnJvbVVSTCh1cmwpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmJsb2JSZWdpc3RyeS5nZXQodXJsKSB8fCBub2RlX2J1ZmZlcl8xLmRlZmF1bHQ/LnJlc29sdmVPYmplY3RVUkw/Lih1cmwpKTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsVVJMID0gVVJMO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillURLSearchParams = void 0;\nexports.PonyfillURLSearchParams = globalThis.URLSearchParams;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1VSTFNlYXJjaFBhcmFtcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IsK0JBQStCIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvVVJMU2VhcmNoUGFyYW1zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFVSTFNlYXJjaFBhcmFtcyA9IHZvaWQgMDtcbmV4cG9ydHMuUG9ueWZpbGxVUkxTZWFyY2hQYXJhbXMgPSBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtcztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillWritableStream = void 0;\nconst node_events_1 = __webpack_require__(/*! node:events */ \"node:events\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillWritableStream {\n    writable;\n    constructor(underlyingSink) {\n        if (underlyingSink instanceof node_stream_1.Writable) {\n            this.writable = underlyingSink;\n        }\n        else if (underlyingSink) {\n            const writable = new node_stream_1.Writable({\n                write(chunk, _encoding, callback) {\n                    try {\n                        const result = underlyingSink.write?.(chunk, controller);\n                        if (result instanceof Promise) {\n                            result.then(() => {\n                                callback();\n                            }, err => {\n                                callback(err);\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    }\n                    catch (err) {\n                        callback(err);\n                    }\n                },\n                final(callback) {\n                    const result = underlyingSink.close?.();\n                    if (result instanceof Promise) {\n                        result.then(() => {\n                            callback();\n                        }, err => {\n                            callback(err);\n                        });\n                    }\n                    else {\n                        callback();\n                    }\n                },\n            });\n            this.writable = writable;\n            const abortCtrl = new AbortController();\n            const controller = {\n                signal: abortCtrl.signal,\n                error(e) {\n                    writable.destroy(e);\n                },\n            };\n            writable.once('error', err => abortCtrl.abort(err));\n            writable.once('close', () => abortCtrl.abort());\n        }\n        else {\n            this.writable = new node_stream_1.Writable();\n        }\n    }\n    getWriter() {\n        const writable = this.writable;\n        return {\n            get closed() {\n                return (0, node_events_1.once)(writable, 'close');\n            },\n            get desiredSize() {\n                return writable.writableLength;\n            },\n            get ready() {\n                return (0, node_events_1.once)(writable, 'drain');\n            },\n            releaseLock() {\n                // no-op\n            },\n            write(chunk) {\n                const promise = (0, utils_js_1.fakePromise)();\n                if (chunk == null) {\n                    return promise;\n                }\n                return promise.then(() => (0, utils_js_1.safeWrite)(chunk, writable));\n            },\n            close() {\n                if (!writable.errored && writable.closed) {\n                    return (0, utils_js_1.fakePromise)();\n                }\n                if (writable.errored) {\n                    return (0, promise_helpers_1.fakeRejectPromise)(writable.errored);\n                }\n                return (0, utils_js_1.fakePromise)().then(() => (0, utils_js_1.endStream)(writable));\n            },\n            abort(reason) {\n                writable.destroy(reason);\n                return (0, node_events_1.once)(writable, 'close');\n            },\n        };\n    }\n    close() {\n        if (!this.writable.errored && this.writable.closed) {\n            return (0, utils_js_1.fakePromise)();\n        }\n        if (this.writable.errored) {\n            return (0, promise_helpers_1.fakeRejectPromise)(this.writable.errored);\n        }\n        return (0, utils_js_1.fakePromise)().then(() => (0, utils_js_1.endStream)(this.writable));\n    }\n    abort(reason) {\n        this.writable.destroy(reason);\n        return (0, node_events_1.once)(this.writable, 'close');\n    }\n    locked = false;\n}\nexports.PonyfillWritableStream = PonyfillWritableStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1dyaXRhYmxlU3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQywwQkFBMEIsbUJBQU8sQ0FBQyxvR0FBOEI7QUFDaEUsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1dyaXRhYmxlU3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFdyaXRhYmxlU3RyZWFtID0gdm9pZCAwO1xuY29uc3Qgbm9kZV9ldmVudHNfMSA9IHJlcXVpcmUoXCJub2RlOmV2ZW50c1wiKTtcbmNvbnN0IG5vZGVfc3RyZWFtXzEgPSByZXF1aXJlKFwibm9kZTpzdHJlYW1cIik7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxXcml0YWJsZVN0cmVhbSB7XG4gICAgd3JpdGFibGU7XG4gICAgY29uc3RydWN0b3IodW5kZXJseWluZ1NpbmspIHtcbiAgICAgICAgaWYgKHVuZGVybHlpbmdTaW5rIGluc3RhbmNlb2Ygbm9kZV9zdHJlYW1fMS5Xcml0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHVuZGVybHlpbmdTaW5rO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVuZGVybHlpbmdTaW5rKSB7XG4gICAgICAgICAgICBjb25zdCB3cml0YWJsZSA9IG5ldyBub2RlX3N0cmVhbV8xLldyaXRhYmxlKHtcbiAgICAgICAgICAgICAgICB3cml0ZShjaHVuaywgX2VuY29kaW5nLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdW5kZXJseWluZ1Npbmsud3JpdGU/LihjaHVuaywgY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaW5hbChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB1bmRlcmx5aW5nU2luay5jbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMud3JpdGFibGUgPSB3cml0YWJsZTtcbiAgICAgICAgICAgIGNvbnN0IGFib3J0Q3RybCA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgICAgICAgICAgICAgc2lnbmFsOiBhYm9ydEN0cmwuc2lnbmFsLFxuICAgICAgICAgICAgICAgIGVycm9yKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgd3JpdGFibGUuZGVzdHJveShlKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdyaXRhYmxlLm9uY2UoJ2Vycm9yJywgZXJyID0+IGFib3J0Q3RybC5hYm9ydChlcnIpKTtcbiAgICAgICAgICAgIHdyaXRhYmxlLm9uY2UoJ2Nsb3NlJywgKCkgPT4gYWJvcnRDdHJsLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IG5ldyBub2RlX3N0cmVhbV8xLldyaXRhYmxlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0V3JpdGVyKCkge1xuICAgICAgICBjb25zdCB3cml0YWJsZSA9IHRoaXMud3JpdGFibGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgbm9kZV9ldmVudHNfMS5vbmNlKSh3cml0YWJsZSwgJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IGRlc2lyZWRTaXplKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB3cml0YWJsZS53cml0YWJsZUxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcmVhZHkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHdyaXRhYmxlLCAnZHJhaW4nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWxlYXNlTG9jaygpIHtcbiAgICAgICAgICAgICAgICAvLyBuby1vcFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9ICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSgpO1xuICAgICAgICAgICAgICAgIGlmIChjaHVuayA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKCgpID0+ICgwLCB1dGlsc19qc18xLnNhZmVXcml0ZSkoY2h1bmssIHdyaXRhYmxlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3cml0YWJsZS5lcnJvcmVkICYmIHdyaXRhYmxlLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh3cml0YWJsZS5lcnJvcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuZmFrZVJlamVjdFByb21pc2UpKHdyaXRhYmxlLmVycm9yZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKCkudGhlbigoKSA9PiAoMCwgdXRpbHNfanNfMS5lbmRTdHJlYW0pKHdyaXRhYmxlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWJvcnQocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGUuZGVzdHJveShyZWFzb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgbm9kZV9ldmVudHNfMS5vbmNlKSh3cml0YWJsZSwgJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLndyaXRhYmxlLmVycm9yZWQgJiYgdGhpcy53cml0YWJsZS5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy53cml0YWJsZS5lcnJvcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmZha2VSZWplY3RQcm9taXNlKSh0aGlzLndyaXRhYmxlLmVycm9yZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkoKS50aGVuKCgpID0+ICgwLCB1dGlsc19qc18xLmVuZFN0cmVhbSkodGhpcy53cml0YWJsZSkpO1xuICAgIH1cbiAgICBhYm9ydChyZWFzb24pIHtcbiAgICAgICAgdGhpcy53cml0YWJsZS5kZXN0cm95KHJlYXNvbik7XG4gICAgICAgIHJldHVybiAoMCwgbm9kZV9ldmVudHNfMS5vbmNlKSh0aGlzLndyaXRhYmxlLCAnY2xvc2UnKTtcbiAgICB9XG4gICAgbG9ja2VkID0gZmFsc2U7XG59XG5leHBvcnRzLlBvbnlmaWxsV3JpdGFibGVTdHJlYW0gPSBQb255ZmlsbFdyaXRhYmxlU3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetch.js":
/*!***********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/fetch.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchPonyfill = fetchPonyfill;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst node_fs_1 = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst node_url_1 = __webpack_require__(/*! node:url */ \"node:url\");\nconst fetchCurl_js_1 = __webpack_require__(/*! ./fetchCurl.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js\");\nconst fetchNodeHttp_js_1 = __webpack_require__(/*! ./fetchNodeHttp.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js\");\nconst Request_js_1 = __webpack_require__(/*! ./Request.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\");\nconst Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nconst URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nconst BASE64_SUFFIX = ';base64';\nasync function getResponseForFile(url) {\n    const path = (0, node_url_1.fileURLToPath)(url);\n    try {\n        await node_fs_1.promises.access(path, node_fs_1.promises.constants.R_OK);\n        const stats = await node_fs_1.promises.stat(path, {\n            bigint: true,\n        });\n        const readable = (0, node_fs_1.createReadStream)(path);\n        return new Response_js_1.PonyfillResponse(readable, {\n            status: 200,\n            statusText: 'OK',\n            headers: {\n                'content-type': 'application/octet-stream',\n                'last-modified': stats.mtime.toUTCString(),\n            },\n        });\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            return new Response_js_1.PonyfillResponse(null, {\n                status: 404,\n                statusText: 'Not Found',\n            });\n        }\n        else if (err.code === 'EACCES') {\n            return new Response_js_1.PonyfillResponse(null, {\n                status: 403,\n                statusText: 'Forbidden',\n            });\n        }\n        throw err;\n    }\n}\nfunction getResponseForDataUri(url) {\n    const [mimeType = 'text/plain', ...datas] = url.substring(5).split(',');\n    const data = decodeURIComponent(datas.join(','));\n    if (mimeType.endsWith(BASE64_SUFFIX)) {\n        const buffer = node_buffer_1.Buffer.from(data, 'base64url');\n        const realMimeType = mimeType.slice(0, -BASE64_SUFFIX.length);\n        return new Response_js_1.PonyfillResponse(buffer, {\n            status: 200,\n            statusText: 'OK',\n            headers: {\n                'content-type': realMimeType,\n            },\n        });\n    }\n    return new Response_js_1.PonyfillResponse(data, {\n        status: 200,\n        statusText: 'OK',\n        headers: {\n            'content-type': mimeType,\n        },\n    });\n}\nfunction getResponseForBlob(url) {\n    const blob = URL_js_1.PonyfillURL.getBlobFromURL(url);\n    if (!blob) {\n        throw new TypeError('Invalid Blob URL');\n    }\n    return new Response_js_1.PonyfillResponse(blob, {\n        status: 200,\n        headers: {\n            'content-type': blob.type,\n            'content-length': blob.size.toString(),\n        },\n    });\n}\nfunction isURL(obj) {\n    return obj != null && obj.href != null;\n}\nfunction fetchPonyfill(info, init) {\n    if (typeof info === 'string' || isURL(info)) {\n        const ponyfillRequest = new Request_js_1.PonyfillRequest(info, init);\n        return fetchPonyfill(ponyfillRequest);\n    }\n    const fetchRequest = info;\n    if (fetchRequest.url.startsWith('data:')) {\n        const response = getResponseForDataUri(fetchRequest.url);\n        return (0, utils_js_1.fakePromise)(response);\n    }\n    if (fetchRequest.url.startsWith('file:')) {\n        const response = getResponseForFile(fetchRequest.url);\n        return response;\n    }\n    if (fetchRequest.url.startsWith('blob:')) {\n        const response = getResponseForBlob(fetchRequest.url);\n        return (0, utils_js_1.fakePromise)(response);\n    }\n    if (globalThis.libcurl && !fetchRequest.agent) {\n        return (0, fetchCurl_js_1.fetchCurl)(fetchRequest);\n    }\n    return (0, fetchNodeHttp_js_1.fetchNodeHttp)(fetchRequest);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxrQkFBa0IsbUJBQU8sQ0FBQyx3QkFBUztBQUNuQyxtQkFBbUIsbUJBQU8sQ0FBQywwQkFBVTtBQUNyQyx1QkFBdUIsbUJBQU8sQ0FBQyxxRkFBZ0I7QUFDL0MsMkJBQTJCLG1CQUFPLENBQUMsNkZBQW9CO0FBQ3ZELHFCQUFxQixtQkFBTyxDQUFDLGlGQUFjO0FBQzNDLHNCQUFzQixtQkFBTyxDQUFDLG1GQUFlO0FBQzdDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFVO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9mZXRjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmV0Y2hQb255ZmlsbCA9IGZldGNoUG9ueWZpbGw7XG5jb25zdCBub2RlX2J1ZmZlcl8xID0gcmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpO1xuY29uc3Qgbm9kZV9mc18xID0gcmVxdWlyZShcIm5vZGU6ZnNcIik7XG5jb25zdCBub2RlX3VybF8xID0gcmVxdWlyZShcIm5vZGU6dXJsXCIpO1xuY29uc3QgZmV0Y2hDdXJsX2pzXzEgPSByZXF1aXJlKFwiLi9mZXRjaEN1cmwuanNcIik7XG5jb25zdCBmZXRjaE5vZGVIdHRwX2pzXzEgPSByZXF1aXJlKFwiLi9mZXRjaE5vZGVIdHRwLmpzXCIpO1xuY29uc3QgUmVxdWVzdF9qc18xID0gcmVxdWlyZShcIi4vUmVxdWVzdC5qc1wiKTtcbmNvbnN0IFJlc3BvbnNlX2pzXzEgPSByZXF1aXJlKFwiLi9SZXNwb25zZS5qc1wiKTtcbmNvbnN0IFVSTF9qc18xID0gcmVxdWlyZShcIi4vVVJMLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY29uc3QgQkFTRTY0X1NVRkZJWCA9ICc7YmFzZTY0JztcbmFzeW5jIGZ1bmN0aW9uIGdldFJlc3BvbnNlRm9yRmlsZSh1cmwpIHtcbiAgICBjb25zdCBwYXRoID0gKDAsIG5vZGVfdXJsXzEuZmlsZVVSTFRvUGF0aCkodXJsKTtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBub2RlX2ZzXzEucHJvbWlzZXMuYWNjZXNzKHBhdGgsIG5vZGVfZnNfMS5wcm9taXNlcy5jb25zdGFudHMuUl9PSyk7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgbm9kZV9mc18xLnByb21pc2VzLnN0YXQocGF0aCwge1xuICAgICAgICAgICAgYmlnaW50OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVhZGFibGUgPSAoMCwgbm9kZV9mc18xLmNyZWF0ZVJlYWRTdHJlYW0pKHBhdGgpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShyZWFkYWJsZSwge1xuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiAnT0snLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcbiAgICAgICAgICAgICAgICAnbGFzdC1tb2RpZmllZCc6IHN0YXRzLm10aW1lLnRvVVRDU3RyaW5nKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZXJyLmNvZGUgPT09ICdFTk9FTlQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShudWxsLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MDQsXG4gICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ05vdCBGb3VuZCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ0VBQ0NFUycpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VfanNfMS5Qb255ZmlsbFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwMyxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnRm9yYmlkZGVuJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRSZXNwb25zZUZvckRhdGFVcmkodXJsKSB7XG4gICAgY29uc3QgW21pbWVUeXBlID0gJ3RleHQvcGxhaW4nLCAuLi5kYXRhc10gPSB1cmwuc3Vic3RyaW5nKDUpLnNwbGl0KCcsJyk7XG4gICAgY29uc3QgZGF0YSA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhcy5qb2luKCcsJykpO1xuICAgIGlmIChtaW1lVHlwZS5lbmRzV2l0aChCQVNFNjRfU1VGRklYKSkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGRhdGEsICdiYXNlNjR1cmwnKTtcbiAgICAgICAgY29uc3QgcmVhbE1pbWVUeXBlID0gbWltZVR5cGUuc2xpY2UoMCwgLUJBU0U2NF9TVUZGSVgubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZV9qc18xLlBvbnlmaWxsUmVzcG9uc2UoYnVmZmVyLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IHJlYWxNaW1lVHlwZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShkYXRhLCB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBzdGF0dXNUZXh0OiAnT0snLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogbWltZVR5cGUsXG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRSZXNwb25zZUZvckJsb2IodXJsKSB7XG4gICAgY29uc3QgYmxvYiA9IFVSTF9qc18xLlBvbnlmaWxsVVJMLmdldEJsb2JGcm9tVVJMKHVybCk7XG4gICAgaWYgKCFibG9iKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgQmxvYiBVUkwnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZV9qc18xLlBvbnlmaWxsUmVzcG9uc2UoYmxvYiwge1xuICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IGJsb2IudHlwZSxcbiAgICAgICAgICAgICdjb250ZW50LWxlbmd0aCc6IGJsb2Iuc2l6ZS50b1N0cmluZygpLFxuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gaXNVUkwob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5ocmVmICE9IG51bGw7XG59XG5mdW5jdGlvbiBmZXRjaFBvbnlmaWxsKGluZm8sIGluaXQpIHtcbiAgICBpZiAodHlwZW9mIGluZm8gPT09ICdzdHJpbmcnIHx8IGlzVVJMKGluZm8pKSB7XG4gICAgICAgIGNvbnN0IHBvbnlmaWxsUmVxdWVzdCA9IG5ldyBSZXF1ZXN0X2pzXzEuUG9ueWZpbGxSZXF1ZXN0KGluZm8sIGluaXQpO1xuICAgICAgICByZXR1cm4gZmV0Y2hQb255ZmlsbChwb255ZmlsbFJlcXVlc3QpO1xuICAgIH1cbiAgICBjb25zdCBmZXRjaFJlcXVlc3QgPSBpbmZvO1xuICAgIGlmIChmZXRjaFJlcXVlc3QudXJsLnN0YXJ0c1dpdGgoJ2RhdGE6JykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvckRhdGFVcmkoZmV0Y2hSZXF1ZXN0LnVybCk7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkocmVzcG9uc2UpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnVybC5zdGFydHNXaXRoKCdmaWxlOicpKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gZ2V0UmVzcG9uc2VGb3JGaWxlKGZldGNoUmVxdWVzdC51cmwpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGlmIChmZXRjaFJlcXVlc3QudXJsLnN0YXJ0c1dpdGgoJ2Jsb2I6JykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvckJsb2IoZmV0Y2hSZXF1ZXN0LnVybCk7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkocmVzcG9uc2UpO1xuICAgIH1cbiAgICBpZiAoZ2xvYmFsVGhpcy5saWJjdXJsICYmICFmZXRjaFJlcXVlc3QuYWdlbnQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBmZXRjaEN1cmxfanNfMS5mZXRjaEN1cmwpKGZldGNoUmVxdWVzdCk7XG4gICAgfVxuICAgIHJldHVybiAoMCwgZmV0Y2hOb2RlSHR0cF9qc18xLmZldGNoTm9kZUh0dHApKGZldGNoUmVxdWVzdCk7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetch.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js":
/*!***************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchCurl = fetchCurl;\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst node_tls_1 = __webpack_require__(/*! node:tls */ \"node:tls\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction fetchCurl(fetchRequest) {\n    const { Curl, CurlFeature, CurlPause, CurlProgressFunc } = globalThis['libcurl'];\n    const curlHandle = new Curl();\n    curlHandle.enable(CurlFeature.NoDataParsing);\n    curlHandle.setOpt('URL', fetchRequest.url);\n    if (process.env.NODE_TLS_REJECT_UNAUTHORIZED === '0') {\n        curlHandle.setOpt('SSL_VERIFYPEER', false);\n    }\n    if (process.env.NODE_EXTRA_CA_CERTS) {\n        curlHandle.setOpt('CAINFO', process.env.NODE_EXTRA_CA_CERTS);\n    }\n    else {\n        curlHandle.setOpt('CAINFO_BLOB', node_tls_1.rootCertificates.join('\\n'));\n    }\n    curlHandle.enable(CurlFeature.StreamResponse);\n    let signal;\n    if (fetchRequest._signal === null) {\n        signal = undefined;\n    }\n    else if (fetchRequest._signal) {\n        signal = fetchRequest._signal;\n    }\n    curlHandle.setStreamProgressCallback(function () {\n        return signal?.aborted ? (process.env.DEBUG ? CurlProgressFunc.Continue : 1) : 0;\n    });\n    if (fetchRequest['bodyType'] === 'String') {\n        curlHandle.setOpt('POSTFIELDS', fetchRequest['bodyInit']);\n    }\n    else {\n        const nodeReadable = (fetchRequest.body != null\n            ? (0, utils_js_1.isNodeReadable)(fetchRequest.body)\n                ? fetchRequest.body\n                : node_stream_1.Readable.from(fetchRequest.body)\n            : null);\n        if (nodeReadable) {\n            curlHandle.setOpt('UPLOAD', true);\n            curlHandle.setUploadStream(nodeReadable);\n        }\n    }\n    if (process.env.DEBUG) {\n        curlHandle.setOpt('VERBOSE', true);\n    }\n    curlHandle.setOpt('TRANSFER_ENCODING', false);\n    curlHandle.setOpt('HTTP_TRANSFER_DECODING', true);\n    curlHandle.setOpt('FOLLOWLOCATION', fetchRequest.redirect === 'follow');\n    curlHandle.setOpt('MAXREDIRS', 20);\n    curlHandle.setOpt('ACCEPT_ENCODING', '');\n    curlHandle.setOpt('CUSTOMREQUEST', fetchRequest.method);\n    const headersSerializer = fetchRequest.headersSerializer || utils_js_1.defaultHeadersSerializer;\n    let size;\n    const curlHeaders = headersSerializer(fetchRequest.headers, value => {\n        size = Number(value);\n    });\n    if (size != null) {\n        curlHandle.setOpt('INFILESIZE', size);\n    }\n    curlHandle.setOpt('HTTPHEADER', curlHeaders);\n    curlHandle.enable(CurlFeature.NoHeaderParsing);\n    const deferredPromise = (0, promise_helpers_1.createDeferredPromise)();\n    let streamResolved;\n    function onAbort() {\n        if (curlHandle.isOpen) {\n            try {\n                curlHandle.pause(CurlPause.Recv);\n            }\n            catch (e) {\n                deferredPromise.reject(e);\n            }\n        }\n    }\n    signal?.addEventListener('abort', onAbort, { once: true });\n    curlHandle.once('end', function endListener() {\n        try {\n            curlHandle.close();\n        }\n        catch (e) {\n            deferredPromise.reject(e);\n        }\n        signal?.removeEventListener('abort', onAbort);\n    });\n    curlHandle.once('error', function errorListener(error) {\n        if (streamResolved && !streamResolved.closed && !streamResolved.destroyed) {\n            streamResolved.destroy(error);\n        }\n        else {\n            if (error.message === 'Operation was aborted by an application callback') {\n                error.message = 'The operation was aborted.';\n            }\n            deferredPromise.reject(error);\n        }\n        try {\n            curlHandle.close();\n        }\n        catch (e) {\n            deferredPromise.reject(e);\n        }\n    });\n    curlHandle.once('stream', function streamListener(stream, status, headersBuf) {\n        const outputStream = stream.pipe(new node_stream_1.PassThrough(), {\n            end: true,\n        });\n        const headersFlat = headersBuf\n            .toString('utf8')\n            .split(/\\r?\\n|\\r/g)\n            .filter(headerFilter => {\n            if (headerFilter && !headerFilter.startsWith('HTTP/')) {\n                if (fetchRequest.redirect === 'error' &&\n                    headerFilter.toLowerCase().includes('location') &&\n                    (0, utils_js_1.shouldRedirect)(status)) {\n                    if (!stream.destroyed) {\n                        stream.resume();\n                    }\n                    outputStream.destroy();\n                    deferredPromise.reject(new Error('redirect is not allowed'));\n                }\n                return true;\n            }\n            return false;\n        });\n        const headersInit = headersFlat.map(headerFlat => headerFlat.split(/:\\s(.+)/).slice(0, 2));\n        const ponyfillResponse = new Response_js_1.PonyfillResponse(outputStream, {\n            status,\n            headers: headersInit,\n            url: curlHandle.getInfo(Curl.info.REDIRECT_URL)?.toString() || fetchRequest.url,\n            redirected: Number(curlHandle.getInfo(Curl.info.REDIRECT_COUNT)) > 0,\n        });\n        deferredPromise.resolve(ponyfillResponse);\n        streamResolved = outputStream;\n    });\n    setImmediate(() => {\n        curlHandle.perform();\n    });\n    return deferredPromise.promise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoQ3VybC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsMEJBQVU7QUFDckMsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFLHNCQUFzQixtQkFBTyxDQUFDLG1GQUFlO0FBQzdDLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDO0FBQ0EsWUFBWSxpREFBaUQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsWUFBWTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoQ3VybC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmV0Y2hDdXJsID0gZmV0Y2hDdXJsO1xuY29uc3Qgbm9kZV9zdHJlYW1fMSA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbVwiKTtcbmNvbnN0IG5vZGVfdGxzXzEgPSByZXF1aXJlKFwibm9kZTp0bHNcIik7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuY29uc3QgUmVzcG9uc2VfanNfMSA9IHJlcXVpcmUoXCIuL1Jlc3BvbnNlLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuZnVuY3Rpb24gZmV0Y2hDdXJsKGZldGNoUmVxdWVzdCkge1xuICAgIGNvbnN0IHsgQ3VybCwgQ3VybEZlYXR1cmUsIEN1cmxQYXVzZSwgQ3VybFByb2dyZXNzRnVuYyB9ID0gZ2xvYmFsVGhpc1snbGliY3VybCddO1xuICAgIGNvbnN0IGN1cmxIYW5kbGUgPSBuZXcgQ3VybCgpO1xuICAgIGN1cmxIYW5kbGUuZW5hYmxlKEN1cmxGZWF0dXJlLk5vRGF0YVBhcnNpbmcpO1xuICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdVUkwnLCBmZXRjaFJlcXVlc3QudXJsKTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9UTFNfUkVKRUNUX1VOQVVUSE9SSVpFRCA9PT0gJzAnKSB7XG4gICAgICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdTU0xfVkVSSUZZUEVFUicsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRVhUUkFfQ0FfQ0VSVFMpIHtcbiAgICAgICAgY3VybEhhbmRsZS5zZXRPcHQoJ0NBSU5GTycsIHByb2Nlc3MuZW52Lk5PREVfRVhUUkFfQ0FfQ0VSVFMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY3VybEhhbmRsZS5zZXRPcHQoJ0NBSU5GT19CTE9CJywgbm9kZV90bHNfMS5yb290Q2VydGlmaWNhdGVzLmpvaW4oJ1xcbicpKTtcbiAgICB9XG4gICAgY3VybEhhbmRsZS5lbmFibGUoQ3VybEZlYXR1cmUuU3RyZWFtUmVzcG9uc2UpO1xuICAgIGxldCBzaWduYWw7XG4gICAgaWYgKGZldGNoUmVxdWVzdC5fc2lnbmFsID09PSBudWxsKSB7XG4gICAgICAgIHNpZ25hbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmV0Y2hSZXF1ZXN0Ll9zaWduYWwpIHtcbiAgICAgICAgc2lnbmFsID0gZmV0Y2hSZXF1ZXN0Ll9zaWduYWw7XG4gICAgfVxuICAgIGN1cmxIYW5kbGUuc2V0U3RyZWFtUHJvZ3Jlc3NDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzaWduYWw/LmFib3J0ZWQgPyAocHJvY2Vzcy5lbnYuREVCVUcgPyBDdXJsUHJvZ3Jlc3NGdW5jLkNvbnRpbnVlIDogMSkgOiAwO1xuICAgIH0pO1xuICAgIGlmIChmZXRjaFJlcXVlc3RbJ2JvZHlUeXBlJ10gPT09ICdTdHJpbmcnKSB7XG4gICAgICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdQT1NURklFTERTJywgZmV0Y2hSZXF1ZXN0Wydib2R5SW5pdCddKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5vZGVSZWFkYWJsZSA9IChmZXRjaFJlcXVlc3QuYm9keSAhPSBudWxsXG4gICAgICAgICAgICA/ICgwLCB1dGlsc19qc18xLmlzTm9kZVJlYWRhYmxlKShmZXRjaFJlcXVlc3QuYm9keSlcbiAgICAgICAgICAgICAgICA/IGZldGNoUmVxdWVzdC5ib2R5XG4gICAgICAgICAgICAgICAgOiBub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20oZmV0Y2hSZXF1ZXN0LmJvZHkpXG4gICAgICAgICAgICA6IG51bGwpO1xuICAgICAgICBpZiAobm9kZVJlYWRhYmxlKSB7XG4gICAgICAgICAgICBjdXJsSGFuZGxlLnNldE9wdCgnVVBMT0FEJywgdHJ1ZSk7XG4gICAgICAgICAgICBjdXJsSGFuZGxlLnNldFVwbG9hZFN0cmVhbShub2RlUmVhZGFibGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5ERUJVRykge1xuICAgICAgICBjdXJsSGFuZGxlLnNldE9wdCgnVkVSQk9TRScsIHRydWUpO1xuICAgIH1cbiAgICBjdXJsSGFuZGxlLnNldE9wdCgnVFJBTlNGRVJfRU5DT0RJTkcnLCBmYWxzZSk7XG4gICAgY3VybEhhbmRsZS5zZXRPcHQoJ0hUVFBfVFJBTlNGRVJfREVDT0RJTkcnLCB0cnVlKTtcbiAgICBjdXJsSGFuZGxlLnNldE9wdCgnRk9MTE9XTE9DQVRJT04nLCBmZXRjaFJlcXVlc3QucmVkaXJlY3QgPT09ICdmb2xsb3cnKTtcbiAgICBjdXJsSGFuZGxlLnNldE9wdCgnTUFYUkVESVJTJywgMjApO1xuICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdBQ0NFUFRfRU5DT0RJTkcnLCAnJyk7XG4gICAgY3VybEhhbmRsZS5zZXRPcHQoJ0NVU1RPTVJFUVVFU1QnLCBmZXRjaFJlcXVlc3QubWV0aG9kKTtcbiAgICBjb25zdCBoZWFkZXJzU2VyaWFsaXplciA9IGZldGNoUmVxdWVzdC5oZWFkZXJzU2VyaWFsaXplciB8fCB1dGlsc19qc18xLmRlZmF1bHRIZWFkZXJzU2VyaWFsaXplcjtcbiAgICBsZXQgc2l6ZTtcbiAgICBjb25zdCBjdXJsSGVhZGVycyA9IGhlYWRlcnNTZXJpYWxpemVyKGZldGNoUmVxdWVzdC5oZWFkZXJzLCB2YWx1ZSA9PiB7XG4gICAgICAgIHNpemUgPSBOdW1iZXIodmFsdWUpO1xuICAgIH0pO1xuICAgIGlmIChzaXplICE9IG51bGwpIHtcbiAgICAgICAgY3VybEhhbmRsZS5zZXRPcHQoJ0lORklMRVNJWkUnLCBzaXplKTtcbiAgICB9XG4gICAgY3VybEhhbmRsZS5zZXRPcHQoJ0hUVFBIRUFERVInLCBjdXJsSGVhZGVycyk7XG4gICAgY3VybEhhbmRsZS5lbmFibGUoQ3VybEZlYXR1cmUuTm9IZWFkZXJQYXJzaW5nKTtcbiAgICBjb25zdCBkZWZlcnJlZFByb21pc2UgPSAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuY3JlYXRlRGVmZXJyZWRQcm9taXNlKSgpO1xuICAgIGxldCBzdHJlYW1SZXNvbHZlZDtcbiAgICBmdW5jdGlvbiBvbkFib3J0KCkge1xuICAgICAgICBpZiAoY3VybEhhbmRsZS5pc09wZW4pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY3VybEhhbmRsZS5wYXVzZShDdXJsUGF1c2UuUmVjdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2lnbmFsPy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBjdXJsSGFuZGxlLm9uY2UoJ2VuZCcsIGZ1bmN0aW9uIGVuZExpc3RlbmVyKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY3VybEhhbmRsZS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBkZWZlcnJlZFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25hbD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkFib3J0KTtcbiAgICB9KTtcbiAgICBjdXJsSGFuZGxlLm9uY2UoJ2Vycm9yJywgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnJvcikge1xuICAgICAgICBpZiAoc3RyZWFtUmVzb2x2ZWQgJiYgIXN0cmVhbVJlc29sdmVkLmNsb3NlZCAmJiAhc3RyZWFtUmVzb2x2ZWQuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBzdHJlYW1SZXNvbHZlZC5kZXN0cm95KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5tZXNzYWdlID09PSAnT3BlcmF0aW9uIHdhcyBhYm9ydGVkIGJ5IGFuIGFwcGxpY2F0aW9uIGNhbGxiYWNrJykge1xuICAgICAgICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSAnVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmZXJyZWRQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGN1cmxIYW5kbGUuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZGVmZXJyZWRQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGN1cmxIYW5kbGUub25jZSgnc3RyZWFtJywgZnVuY3Rpb24gc3RyZWFtTGlzdGVuZXIoc3RyZWFtLCBzdGF0dXMsIGhlYWRlcnNCdWYpIHtcbiAgICAgICAgY29uc3Qgb3V0cHV0U3RyZWFtID0gc3RyZWFtLnBpcGUobmV3IG5vZGVfc3RyZWFtXzEuUGFzc1Rocm91Z2goKSwge1xuICAgICAgICAgICAgZW5kOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGVhZGVyc0ZsYXQgPSBoZWFkZXJzQnVmXG4gICAgICAgICAgICAudG9TdHJpbmcoJ3V0ZjgnKVxuICAgICAgICAgICAgLnNwbGl0KC9cXHI/XFxufFxcci9nKVxuICAgICAgICAgICAgLmZpbHRlcihoZWFkZXJGaWx0ZXIgPT4ge1xuICAgICAgICAgICAgaWYgKGhlYWRlckZpbHRlciAmJiAhaGVhZGVyRmlsdGVyLnN0YXJ0c1dpdGgoJ0hUVFAvJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmV0Y2hSZXF1ZXN0LnJlZGlyZWN0ID09PSAnZXJyb3InICYmXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlckZpbHRlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdsb2NhdGlvbicpICYmXG4gICAgICAgICAgICAgICAgICAgICgwLCB1dGlsc19qc18xLnNob3VsZFJlZGlyZWN0KShzdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3RyZWFtLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRlZmVycmVkUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdyZWRpcmVjdCBpcyBub3QgYWxsb3dlZCcpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBoZWFkZXJzSW5pdCA9IGhlYWRlcnNGbGF0Lm1hcChoZWFkZXJGbGF0ID0+IGhlYWRlckZsYXQuc3BsaXQoLzpcXHMoLispLykuc2xpY2UoMCwgMikpO1xuICAgICAgICBjb25zdCBwb255ZmlsbFJlc3BvbnNlID0gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShvdXRwdXRTdHJlYW0sIHtcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnNJbml0LFxuICAgICAgICAgICAgdXJsOiBjdXJsSGFuZGxlLmdldEluZm8oQ3VybC5pbmZvLlJFRElSRUNUX1VSTCk/LnRvU3RyaW5nKCkgfHwgZmV0Y2hSZXF1ZXN0LnVybCxcbiAgICAgICAgICAgIHJlZGlyZWN0ZWQ6IE51bWJlcihjdXJsSGFuZGxlLmdldEluZm8oQ3VybC5pbmZvLlJFRElSRUNUX0NPVU5UKSkgPiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgZGVmZXJyZWRQcm9taXNlLnJlc29sdmUocG9ueWZpbGxSZXNwb25zZSk7XG4gICAgICAgIHN0cmVhbVJlc29sdmVkID0gb3V0cHV0U3RyZWFtO1xuICAgIH0pO1xuICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgIGN1cmxIYW5kbGUucGVyZm9ybSgpO1xuICAgIH0pO1xuICAgIHJldHVybiBkZWZlcnJlZFByb21pc2UucHJvbWlzZTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchNodeHttp = fetchNodeHttp;\nconst node_http_1 = __webpack_require__(/*! node:http */ \"node:http\");\nconst node_https_1 = __webpack_require__(/*! node:https */ \"node:https\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst node_zlib_1 = __webpack_require__(/*! node:zlib */ \"node:zlib\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst Request_js_1 = __webpack_require__(/*! ./Request.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\");\nconst Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nconst URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction getRequestFnForProtocol(url) {\n    if (url.startsWith('http:')) {\n        return node_http_1.request;\n    }\n    else if (url.startsWith('https:')) {\n        return node_https_1.request;\n    }\n    throw new Error(`Unsupported protocol: ${url.split(':')[0] || url}`);\n}\nfunction fetchNodeHttp(fetchRequest) {\n    return new Promise((resolve, reject) => {\n        try {\n            const requestFn = getRequestFnForProtocol(fetchRequest.parsedUrl?.protocol || fetchRequest.url);\n            const headersSerializer = fetchRequest.headersSerializer || utils_js_1.getHeadersObj;\n            const nodeHeaders = headersSerializer(fetchRequest.headers);\n            nodeHeaders['accept-encoding'] ||= 'gzip, deflate, br';\n            nodeHeaders['user-agent'] ||= 'node';\n            let signal;\n            if (fetchRequest._signal == null) {\n                signal = undefined;\n            }\n            else if (fetchRequest._signal) {\n                signal = fetchRequest._signal;\n            }\n            let nodeRequest;\n            // If it is our ponyfilled Request, it should have `parsedUrl` which is a `URL` object\n            if (fetchRequest.parsedUrl) {\n                nodeRequest = requestFn(fetchRequest.parsedUrl, {\n                    method: fetchRequest.method,\n                    headers: nodeHeaders,\n                    signal,\n                    agent: fetchRequest.agent,\n                });\n            }\n            else {\n                nodeRequest = requestFn(fetchRequest.url, {\n                    method: fetchRequest.method,\n                    headers: nodeHeaders,\n                    signal,\n                    agent: fetchRequest.agent,\n                });\n            }\n            nodeRequest.once('error', reject);\n            nodeRequest.once('response', nodeResponse => {\n                let outputStream;\n                const contentEncoding = nodeResponse.headers['content-encoding'];\n                switch (contentEncoding) {\n                    case 'x-gzip':\n                    case 'gzip':\n                        outputStream = (0, node_zlib_1.createGunzip)();\n                        break;\n                    case 'x-deflate':\n                    case 'deflate':\n                        outputStream = (0, node_zlib_1.createInflate)();\n                        break;\n                    case 'x-deflate-raw':\n                    case 'deflate-raw':\n                        outputStream = (0, node_zlib_1.createInflateRaw)();\n                        break;\n                    case 'br':\n                        outputStream = (0, node_zlib_1.createBrotliDecompress)();\n                        break;\n                }\n                if (nodeResponse.headers.location && (0, utils_js_1.shouldRedirect)(nodeResponse.statusCode)) {\n                    if (fetchRequest.redirect === 'error') {\n                        const redirectError = new Error('Redirects are not allowed');\n                        reject(redirectError);\n                        nodeResponse.resume();\n                        return;\n                    }\n                    if (fetchRequest.redirect === 'follow') {\n                        const redirectedUrl = new URL_js_1.PonyfillURL(nodeResponse.headers.location, fetchRequest.parsedUrl || fetchRequest.url);\n                        const redirectResponse$ = fetchNodeHttp(new Request_js_1.PonyfillRequest(redirectedUrl, fetchRequest));\n                        resolve(redirectResponse$.then(redirectResponse => {\n                            redirectResponse.redirected = true;\n                            return redirectResponse;\n                        }));\n                        nodeResponse.resume();\n                        return;\n                    }\n                }\n                outputStream ||= new node_stream_1.PassThrough();\n                (0, utils_js_1.pipeThrough)({\n                    src: nodeResponse,\n                    dest: outputStream,\n                    signal,\n                    onError: e => {\n                        if (!nodeResponse.destroyed) {\n                            nodeResponse.destroy(e);\n                        }\n                        if (!outputStream.destroyed) {\n                            outputStream.destroy(e);\n                        }\n                        reject(e);\n                    },\n                });\n                const statusCode = nodeResponse.statusCode || 200;\n                let statusText = nodeResponse.statusMessage || node_http_1.STATUS_CODES[statusCode];\n                if (statusText == null) {\n                    statusText = '';\n                }\n                const ponyfillResponse = new Response_js_1.PonyfillResponse(outputStream || nodeResponse, {\n                    status: statusCode,\n                    statusText,\n                    headers: nodeResponse.headers,\n                    url: fetchRequest.url,\n                    signal,\n                });\n                resolve(ponyfillResponse);\n            });\n            if (fetchRequest['_buffer'] != null) {\n                (0, promise_helpers_1.handleMaybePromise)(() => (0, utils_js_1.safeWrite)(fetchRequest['_buffer'], nodeRequest), () => (0, utils_js_1.endStream)(nodeRequest), reject);\n            }\n            else {\n                const nodeReadable = (fetchRequest.body != null\n                    ? (0, utils_js_1.isNodeReadable)(fetchRequest.body)\n                        ? fetchRequest.body\n                        : node_stream_1.Readable.from(fetchRequest.body)\n                    : null);\n                if (nodeReadable) {\n                    nodeReadable.pipe(nodeRequest);\n                }\n                else {\n                    (0, utils_js_1.endStream)(nodeRequest);\n                }\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoTm9kZUh0dHAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDhCQUFZO0FBQ3pDLHNCQUFzQixtQkFBTyxDQUFDLGdDQUFhO0FBQzNDLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBYztBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUM3QyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBVTtBQUNuQyxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvZmV0Y2hOb2RlSHR0cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZmV0Y2hOb2RlSHR0cCA9IGZldGNoTm9kZUh0dHA7XG5jb25zdCBub2RlX2h0dHBfMSA9IHJlcXVpcmUoXCJub2RlOmh0dHBcIik7XG5jb25zdCBub2RlX2h0dHBzXzEgPSByZXF1aXJlKFwibm9kZTpodHRwc1wiKTtcbmNvbnN0IG5vZGVfc3RyZWFtXzEgPSByZXF1aXJlKFwibm9kZTpzdHJlYW1cIik7XG5jb25zdCBub2RlX3psaWJfMSA9IHJlcXVpcmUoXCJub2RlOnpsaWJcIik7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuY29uc3QgUmVxdWVzdF9qc18xID0gcmVxdWlyZShcIi4vUmVxdWVzdC5qc1wiKTtcbmNvbnN0IFJlc3BvbnNlX2pzXzEgPSByZXF1aXJlKFwiLi9SZXNwb25zZS5qc1wiKTtcbmNvbnN0IFVSTF9qc18xID0gcmVxdWlyZShcIi4vVVJMLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuZnVuY3Rpb24gZ2V0UmVxdWVzdEZuRm9yUHJvdG9jb2wodXJsKSB7XG4gICAgaWYgKHVybC5zdGFydHNXaXRoKCdodHRwOicpKSB7XG4gICAgICAgIHJldHVybiBub2RlX2h0dHBfMS5yZXF1ZXN0O1xuICAgIH1cbiAgICBlbHNlIGlmICh1cmwuc3RhcnRzV2l0aCgnaHR0cHM6JykpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVfaHR0cHNfMS5yZXF1ZXN0O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHByb3RvY29sOiAke3VybC5zcGxpdCgnOicpWzBdIHx8IHVybH1gKTtcbn1cbmZ1bmN0aW9uIGZldGNoTm9kZUh0dHAoZmV0Y2hSZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RGbiA9IGdldFJlcXVlc3RGbkZvclByb3RvY29sKGZldGNoUmVxdWVzdC5wYXJzZWRVcmw/LnByb3RvY29sIHx8IGZldGNoUmVxdWVzdC51cmwpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyc1NlcmlhbGl6ZXIgPSBmZXRjaFJlcXVlc3QuaGVhZGVyc1NlcmlhbGl6ZXIgfHwgdXRpbHNfanNfMS5nZXRIZWFkZXJzT2JqO1xuICAgICAgICAgICAgY29uc3Qgbm9kZUhlYWRlcnMgPSBoZWFkZXJzU2VyaWFsaXplcihmZXRjaFJlcXVlc3QuaGVhZGVycyk7XG4gICAgICAgICAgICBub2RlSGVhZGVyc1snYWNjZXB0LWVuY29kaW5nJ10gfHw9ICdnemlwLCBkZWZsYXRlLCBicic7XG4gICAgICAgICAgICBub2RlSGVhZGVyc1sndXNlci1hZ2VudCddIHx8PSAnbm9kZSc7XG4gICAgICAgICAgICBsZXQgc2lnbmFsO1xuICAgICAgICAgICAgaWYgKGZldGNoUmVxdWVzdC5fc2lnbmFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzaWduYWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmZXRjaFJlcXVlc3QuX3NpZ25hbCkge1xuICAgICAgICAgICAgICAgIHNpZ25hbCA9IGZldGNoUmVxdWVzdC5fc2lnbmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5vZGVSZXF1ZXN0O1xuICAgICAgICAgICAgLy8gSWYgaXQgaXMgb3VyIHBvbnlmaWxsZWQgUmVxdWVzdCwgaXQgc2hvdWxkIGhhdmUgYHBhcnNlZFVybGAgd2hpY2ggaXMgYSBgVVJMYCBvYmplY3RcbiAgICAgICAgICAgIGlmIChmZXRjaFJlcXVlc3QucGFyc2VkVXJsKSB7XG4gICAgICAgICAgICAgICAgbm9kZVJlcXVlc3QgPSByZXF1ZXN0Rm4oZmV0Y2hSZXF1ZXN0LnBhcnNlZFVybCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGZldGNoUmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IG5vZGVIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIGFnZW50OiBmZXRjaFJlcXVlc3QuYWdlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlUmVxdWVzdCA9IHJlcXVlc3RGbihmZXRjaFJlcXVlc3QudXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZmV0Y2hSZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbm9kZUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgYWdlbnQ6IGZldGNoUmVxdWVzdC5hZ2VudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGVSZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICAgIG5vZGVSZXF1ZXN0Lm9uY2UoJ3Jlc3BvbnNlJywgbm9kZVJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0U3RyZWFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbmNvZGluZyA9IG5vZGVSZXNwb25zZS5oZWFkZXJzWydjb250ZW50LWVuY29kaW5nJ107XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50RW5jb2RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneC1nemlwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ3ppcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gPSAoMCwgbm9kZV96bGliXzEuY3JlYXRlR3VuemlwKSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3gtZGVmbGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlZmxhdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0U3RyZWFtID0gKDAsIG5vZGVfemxpYl8xLmNyZWF0ZUluZmxhdGUpKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneC1kZWZsYXRlLXJhdyc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlZmxhdGUtcmF3JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSA9ICgwLCBub2RlX3psaWJfMS5jcmVhdGVJbmZsYXRlUmF3KSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSA9ICgwLCBub2RlX3psaWJfMS5jcmVhdGVCcm90bGlEZWNvbXByZXNzKSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub2RlUmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiAmJiAoMCwgdXRpbHNfanNfMS5zaG91bGRSZWRpcmVjdCkobm9kZVJlc3BvbnNlLnN0YXR1c0NvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmZXRjaFJlcXVlc3QucmVkaXJlY3QgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0RXJyb3IgPSBuZXcgRXJyb3IoJ1JlZGlyZWN0cyBhcmUgbm90IGFsbG93ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZWRpcmVjdEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZXNwb25zZS5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZmV0Y2hSZXF1ZXN0LnJlZGlyZWN0ID09PSAnZm9sbG93Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RlZFVybCA9IG5ldyBVUkxfanNfMS5Qb255ZmlsbFVSTChub2RlUmVzcG9uc2UuaGVhZGVycy5sb2NhdGlvbiwgZmV0Y2hSZXF1ZXN0LnBhcnNlZFVybCB8fCBmZXRjaFJlcXVlc3QudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0UmVzcG9uc2UkID0gZmV0Y2hOb2RlSHR0cChuZXcgUmVxdWVzdF9qc18xLlBvbnlmaWxsUmVxdWVzdChyZWRpcmVjdGVkVXJsLCBmZXRjaFJlcXVlc3QpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVkaXJlY3RSZXNwb25zZSQudGhlbihyZWRpcmVjdFJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFJlc3BvbnNlLnJlZGlyZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWRpcmVjdFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVJlc3BvbnNlLnJlc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSB8fD0gbmV3IG5vZGVfc3RyZWFtXzEuUGFzc1Rocm91Z2goKTtcbiAgICAgICAgICAgICAgICAoMCwgdXRpbHNfanNfMS5waXBlVGhyb3VnaCkoe1xuICAgICAgICAgICAgICAgICAgICBzcmM6IG5vZGVSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzdDogb3V0cHV0U3RyZWFtLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3I6IGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFub2RlUmVzcG9uc2UuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVJlc3BvbnNlLmRlc3Ryb3koZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW91dHB1dFN0cmVhbS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0uZGVzdHJveShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXNDb2RlID0gbm9kZVJlc3BvbnNlLnN0YXR1c0NvZGUgfHwgMjAwO1xuICAgICAgICAgICAgICAgIGxldCBzdGF0dXNUZXh0ID0gbm9kZVJlc3BvbnNlLnN0YXR1c01lc3NhZ2UgfHwgbm9kZV9odHRwXzEuU1RBVFVTX0NPREVTW3N0YXR1c0NvZGVdO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNUZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb255ZmlsbFJlc3BvbnNlID0gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShvdXRwdXRTdHJlYW0gfHwgbm9kZVJlc3BvbnNlLCB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbm9kZVJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHVybDogZmV0Y2hSZXF1ZXN0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocG9ueWZpbGxSZXNwb25zZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmZXRjaFJlcXVlc3RbJ19idWZmZXInXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gKDAsIHV0aWxzX2pzXzEuc2FmZVdyaXRlKShmZXRjaFJlcXVlc3RbJ19idWZmZXInXSwgbm9kZVJlcXVlc3QpLCAoKSA9PiAoMCwgdXRpbHNfanNfMS5lbmRTdHJlYW0pKG5vZGVSZXF1ZXN0KSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVSZWFkYWJsZSA9IChmZXRjaFJlcXVlc3QuYm9keSAhPSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIHV0aWxzX2pzXzEuaXNOb2RlUmVhZGFibGUpKGZldGNoUmVxdWVzdC5ib2R5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBmZXRjaFJlcXVlc3QuYm9keVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20oZmV0Y2hSZXF1ZXN0LmJvZHkpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGVSZWFkYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlUmVhZGFibGUucGlwZShub2RlUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbHNfanNfMS5lbmRTdHJlYW0pKG5vZGVSZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TextEncoderStream = exports.TextDecoderStream = exports.IteratorObject = exports.DecompressionStream = exports.CompressionStream = exports.TransformStream = exports.WritableStream = exports.URLSearchParams = exports.URL = exports.btoa = exports.TextDecoder = exports.TextEncoder = exports.Blob = exports.FormData = exports.File = exports.ReadableStream = exports.Response = exports.Request = exports.Body = exports.Headers = exports.fetch = void 0;\nvar fetch_js_1 = __webpack_require__(/*! ./fetch.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetch.js\");\nObject.defineProperty(exports, \"fetch\", ({ enumerable: true, get: function () { return fetch_js_1.fetchPonyfill; } }));\nvar Headers_js_1 = __webpack_require__(/*! ./Headers.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\");\nObject.defineProperty(exports, \"Headers\", ({ enumerable: true, get: function () { return Headers_js_1.PonyfillHeaders; } }));\nvar Body_js_1 = __webpack_require__(/*! ./Body.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\");\nObject.defineProperty(exports, \"Body\", ({ enumerable: true, get: function () { return Body_js_1.PonyfillBody; } }));\nvar Request_js_1 = __webpack_require__(/*! ./Request.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\");\nObject.defineProperty(exports, \"Request\", ({ enumerable: true, get: function () { return Request_js_1.PonyfillRequest; } }));\nvar Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nObject.defineProperty(exports, \"Response\", ({ enumerable: true, get: function () { return Response_js_1.PonyfillResponse; } }));\nvar ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nObject.defineProperty(exports, \"ReadableStream\", ({ enumerable: true, get: function () { return ReadableStream_js_1.PonyfillReadableStream; } }));\nvar File_js_1 = __webpack_require__(/*! ./File.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js\");\nObject.defineProperty(exports, \"File\", ({ enumerable: true, get: function () { return File_js_1.PonyfillFile; } }));\nvar FormData_js_1 = __webpack_require__(/*! ./FormData.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js\");\nObject.defineProperty(exports, \"FormData\", ({ enumerable: true, get: function () { return FormData_js_1.PonyfillFormData; } }));\nvar Blob_js_1 = __webpack_require__(/*! ./Blob.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\");\nObject.defineProperty(exports, \"Blob\", ({ enumerable: true, get: function () { return Blob_js_1.PonyfillBlob; } }));\nvar TextEncoderDecoder_js_1 = __webpack_require__(/*! ./TextEncoderDecoder.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js\");\nObject.defineProperty(exports, \"TextEncoder\", ({ enumerable: true, get: function () { return TextEncoderDecoder_js_1.PonyfillTextEncoder; } }));\nObject.defineProperty(exports, \"TextDecoder\", ({ enumerable: true, get: function () { return TextEncoderDecoder_js_1.PonyfillTextDecoder; } }));\nObject.defineProperty(exports, \"btoa\", ({ enumerable: true, get: function () { return TextEncoderDecoder_js_1.PonyfillBtoa; } }));\nvar URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nObject.defineProperty(exports, \"URL\", ({ enumerable: true, get: function () { return URL_js_1.PonyfillURL; } }));\nvar URLSearchParams_js_1 = __webpack_require__(/*! ./URLSearchParams.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js\");\nObject.defineProperty(exports, \"URLSearchParams\", ({ enumerable: true, get: function () { return URLSearchParams_js_1.PonyfillURLSearchParams; } }));\nvar WritableStream_js_1 = __webpack_require__(/*! ./WritableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js\");\nObject.defineProperty(exports, \"WritableStream\", ({ enumerable: true, get: function () { return WritableStream_js_1.PonyfillWritableStream; } }));\nvar TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nObject.defineProperty(exports, \"TransformStream\", ({ enumerable: true, get: function () { return TransformStream_js_1.PonyfillTransformStream; } }));\nvar CompressionStream_js_1 = __webpack_require__(/*! ./CompressionStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js\");\nObject.defineProperty(exports, \"CompressionStream\", ({ enumerable: true, get: function () { return CompressionStream_js_1.PonyfillCompressionStream; } }));\nvar DecompressionStream_js_1 = __webpack_require__(/*! ./DecompressionStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js\");\nObject.defineProperty(exports, \"DecompressionStream\", ({ enumerable: true, get: function () { return DecompressionStream_js_1.PonyfillDecompressionStream; } }));\nvar IteratorObject_js_1 = __webpack_require__(/*! ./IteratorObject.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\");\nObject.defineProperty(exports, \"IteratorObject\", ({ enumerable: true, get: function () { return IteratorObject_js_1.PonyfillIteratorObject; } }));\nvar TextEncoderDecoderStream_js_1 = __webpack_require__(/*! ./TextEncoderDecoderStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js\");\nObject.defineProperty(exports, \"TextDecoderStream\", ({ enumerable: true, get: function () { return TextEncoderDecoderStream_js_1.PonyfillTextDecoderStream; } }));\nObject.defineProperty(exports, \"TextEncoderStream\", ({ enumerable: true, get: function () { return TextEncoderDecoderStream_js_1.PonyfillTextEncoderStream; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLHNCQUFzQixHQUFHLDJCQUEyQixHQUFHLHlCQUF5QixHQUFHLHVCQUF1QixHQUFHLHNCQUFzQixHQUFHLHVCQUF1QixHQUFHLFdBQVcsR0FBRyxZQUFZLEdBQUcsbUJBQW1CLEdBQUcsbUJBQW1CLEdBQUcsWUFBWSxHQUFHLGdCQUFnQixHQUFHLFlBQVksR0FBRyxzQkFBc0IsR0FBRyxnQkFBZ0IsR0FBRyxlQUFlLEdBQUcsWUFBWSxHQUFHLGVBQWUsR0FBRyxhQUFhO0FBQzliLGlCQUFpQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3JDLHlDQUF3QyxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUNwSCxtQkFBbUIsbUJBQU8sQ0FBQyxpRkFBYztBQUN6QywyQ0FBMEMsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDMUgsZ0JBQWdCLG1CQUFPLENBQUMsMkVBQVc7QUFDbkMsd0NBQXVDLEVBQUUscUNBQXFDLGtDQUFrQyxFQUFDO0FBQ2pILG1CQUFtQixtQkFBTyxDQUFDLGlGQUFjO0FBQ3pDLDJDQUEwQyxFQUFFLHFDQUFxQyx3Q0FBd0MsRUFBQztBQUMxSCxvQkFBb0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUMzQyw0Q0FBMkMsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDN0gsMEJBQTBCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3ZELGtEQUFpRCxFQUFFLHFDQUFxQyxzREFBc0QsRUFBQztBQUMvSSxnQkFBZ0IsbUJBQU8sQ0FBQywyRUFBVztBQUNuQyx3Q0FBdUMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDakgsb0JBQW9CLG1CQUFPLENBQUMsbUZBQWU7QUFDM0MsNENBQTJDLEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQzdILGdCQUFnQixtQkFBTyxDQUFDLDJFQUFXO0FBQ25DLHdDQUF1QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUNqSCw4QkFBOEIsbUJBQU8sQ0FBQyx1R0FBeUI7QUFDL0QsK0NBQThDLEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQzdJLCtDQUE4QyxFQUFFLHFDQUFxQyx1REFBdUQsRUFBQztBQUM3SSx3Q0FBdUMsRUFBRSxxQ0FBcUMsZ0RBQWdELEVBQUM7QUFDL0gsZUFBZSxtQkFBTyxDQUFDLHlFQUFVO0FBQ2pDLHVDQUFzQyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUM5RywyQkFBMkIsbUJBQU8sQ0FBQyxpR0FBc0I7QUFDekQsbURBQWtELEVBQUUscUNBQXFDLHdEQUF3RCxFQUFDO0FBQ2xKLDBCQUEwQixtQkFBTyxDQUFDLCtGQUFxQjtBQUN2RCxrREFBaUQsRUFBRSxxQ0FBcUMsc0RBQXNELEVBQUM7QUFDL0ksMkJBQTJCLG1CQUFPLENBQUMsaUdBQXNCO0FBQ3pELG1EQUFrRCxFQUFFLHFDQUFxQyx3REFBd0QsRUFBQztBQUNsSiw2QkFBNkIsbUJBQU8sQ0FBQyxxR0FBd0I7QUFDN0QscURBQW9ELEVBQUUscUNBQXFDLDREQUE0RCxFQUFDO0FBQ3hKLCtCQUErQixtQkFBTyxDQUFDLHlHQUEwQjtBQUNqRSx1REFBc0QsRUFBRSxxQ0FBcUMsZ0VBQWdFLEVBQUM7QUFDOUosMEJBQTBCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3ZELGtEQUFpRCxFQUFFLHFDQUFxQyxzREFBc0QsRUFBQztBQUMvSSxvQ0FBb0MsbUJBQU8sQ0FBQyxtSEFBK0I7QUFDM0UscURBQW9ELEVBQUUscUNBQXFDLG1FQUFtRSxFQUFDO0FBQy9KLHFEQUFvRCxFQUFFLHFDQUFxQyxtRUFBbUUsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5UZXh0RW5jb2RlclN0cmVhbSA9IGV4cG9ydHMuVGV4dERlY29kZXJTdHJlYW0gPSBleHBvcnRzLkl0ZXJhdG9yT2JqZWN0ID0gZXhwb3J0cy5EZWNvbXByZXNzaW9uU3RyZWFtID0gZXhwb3J0cy5Db21wcmVzc2lvblN0cmVhbSA9IGV4cG9ydHMuVHJhbnNmb3JtU3RyZWFtID0gZXhwb3J0cy5Xcml0YWJsZVN0cmVhbSA9IGV4cG9ydHMuVVJMU2VhcmNoUGFyYW1zID0gZXhwb3J0cy5VUkwgPSBleHBvcnRzLmJ0b2EgPSBleHBvcnRzLlRleHREZWNvZGVyID0gZXhwb3J0cy5UZXh0RW5jb2RlciA9IGV4cG9ydHMuQmxvYiA9IGV4cG9ydHMuRm9ybURhdGEgPSBleHBvcnRzLkZpbGUgPSBleHBvcnRzLlJlYWRhYmxlU3RyZWFtID0gZXhwb3J0cy5SZXNwb25zZSA9IGV4cG9ydHMuUmVxdWVzdCA9IGV4cG9ydHMuQm9keSA9IGV4cG9ydHMuSGVhZGVycyA9IGV4cG9ydHMuZmV0Y2ggPSB2b2lkIDA7XG52YXIgZmV0Y2hfanNfMSA9IHJlcXVpcmUoXCIuL2ZldGNoLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmV0Y2hcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZldGNoX2pzXzEuZmV0Y2hQb255ZmlsbDsgfSB9KTtcbnZhciBIZWFkZXJzX2pzXzEgPSByZXF1aXJlKFwiLi9IZWFkZXJzLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSGVhZGVyc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gSGVhZGVyc19qc18xLlBvbnlmaWxsSGVhZGVyczsgfSB9KTtcbnZhciBCb2R5X2pzXzEgPSByZXF1aXJlKFwiLi9Cb2R5LmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQm9keVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQm9keV9qc18xLlBvbnlmaWxsQm9keTsgfSB9KTtcbnZhciBSZXF1ZXN0X2pzXzEgPSByZXF1aXJlKFwiLi9SZXF1ZXN0LmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVxdWVzdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVxdWVzdF9qc18xLlBvbnlmaWxsUmVxdWVzdDsgfSB9KTtcbnZhciBSZXNwb25zZV9qc18xID0gcmVxdWlyZShcIi4vUmVzcG9uc2UuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZXNwb25zZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gUmVzcG9uc2VfanNfMS5Qb255ZmlsbFJlc3BvbnNlOyB9IH0pO1xudmFyIFJlYWRhYmxlU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9SZWFkYWJsZVN0cmVhbS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlYWRhYmxlU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW07IH0gfSk7XG52YXIgRmlsZV9qc18xID0gcmVxdWlyZShcIi4vRmlsZS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkZpbGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEZpbGVfanNfMS5Qb255ZmlsbEZpbGU7IH0gfSk7XG52YXIgRm9ybURhdGFfanNfMSA9IHJlcXVpcmUoXCIuL0Zvcm1EYXRhLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRm9ybURhdGFcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEZvcm1EYXRhX2pzXzEuUG9ueWZpbGxGb3JtRGF0YTsgfSB9KTtcbnZhciBCbG9iX2pzXzEgPSByZXF1aXJlKFwiLi9CbG9iLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmxvYlwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQmxvYl9qc18xLlBvbnlmaWxsQmxvYjsgfSB9KTtcbnZhciBUZXh0RW5jb2RlckRlY29kZXJfanNfMSA9IHJlcXVpcmUoXCIuL1RleHRFbmNvZGVyRGVjb2Rlci5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRleHRFbmNvZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBUZXh0RW5jb2RlckRlY29kZXJfanNfMS5Qb255ZmlsbFRleHRFbmNvZGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGV4dERlY29kZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xLlBvbnlmaWxsVGV4dERlY29kZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJidG9hXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBUZXh0RW5jb2RlckRlY29kZXJfanNfMS5Qb255ZmlsbEJ0b2E7IH0gfSk7XG52YXIgVVJMX2pzXzEgPSByZXF1aXJlKFwiLi9VUkwuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJVUkxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFVSTF9qc18xLlBvbnlmaWxsVVJMOyB9IH0pO1xudmFyIFVSTFNlYXJjaFBhcmFtc19qc18xID0gcmVxdWlyZShcIi4vVVJMU2VhcmNoUGFyYW1zLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVVJMU2VhcmNoUGFyYW1zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBVUkxTZWFyY2hQYXJhbXNfanNfMS5Qb255ZmlsbFVSTFNlYXJjaFBhcmFtczsgfSB9KTtcbnZhciBXcml0YWJsZVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vV3JpdGFibGVTdHJlYW0uanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJXcml0YWJsZVN0cmVhbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gV3JpdGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFdyaXRhYmxlU3RyZWFtOyB9IH0pO1xudmFyIFRyYW5zZm9ybVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vVHJhbnNmb3JtU3RyZWFtLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVHJhbnNmb3JtU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBUcmFuc2Zvcm1TdHJlYW1fanNfMS5Qb255ZmlsbFRyYW5zZm9ybVN0cmVhbTsgfSB9KTtcbnZhciBDb21wcmVzc2lvblN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vQ29tcHJlc3Npb25TdHJlYW0uanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDb21wcmVzc2lvblN0cmVhbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQ29tcHJlc3Npb25TdHJlYW1fanNfMS5Qb255ZmlsbENvbXByZXNzaW9uU3RyZWFtOyB9IH0pO1xudmFyIERlY29tcHJlc3Npb25TdHJlYW1fanNfMSA9IHJlcXVpcmUoXCIuL0RlY29tcHJlc3Npb25TdHJlYW0uanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJEZWNvbXByZXNzaW9uU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBEZWNvbXByZXNzaW9uU3RyZWFtX2pzXzEuUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtOyB9IH0pO1xudmFyIEl0ZXJhdG9yT2JqZWN0X2pzXzEgPSByZXF1aXJlKFwiLi9JdGVyYXRvck9iamVjdC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkl0ZXJhdG9yT2JqZWN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBJdGVyYXRvck9iamVjdF9qc18xLlBvbnlmaWxsSXRlcmF0b3JPYmplY3Q7IH0gfSk7XG52YXIgVGV4dEVuY29kZXJEZWNvZGVyU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9UZXh0RW5jb2RlckRlY29kZXJTdHJlYW0uanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUZXh0RGVjb2RlclN0cmVhbVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVGV4dEVuY29kZXJEZWNvZGVyU3RyZWFtX2pzXzEuUG9ueWZpbGxUZXh0RGVjb2RlclN0cmVhbTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRleHRFbmNvZGVyU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBUZXh0RW5jb2RlckRlY29kZXJTdHJlYW1fanNfMS5Qb255ZmlsbFRleHRFbmNvZGVyU3RyZWFtOyB9IH0pO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/utils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fakePromise = void 0;\nexports.getHeadersObj = getHeadersObj;\nexports.defaultHeadersSerializer = defaultHeadersSerializer;\nexports.isArrayBufferView = isArrayBufferView;\nexports.isNodeReadable = isNodeReadable;\nexports.isIterable = isIterable;\nexports.shouldRedirect = shouldRedirect;\nexports.pipeThrough = pipeThrough;\nexports.endStream = endStream;\nexports.safeWrite = safeWrite;\nconst node_events_1 = __webpack_require__(/*! node:events */ \"node:events\");\nfunction isHeadersInstance(obj) {\n    return obj?.forEach != null;\n}\nfunction getHeadersObj(headers) {\n    if (headers == null || !isHeadersInstance(headers)) {\n        return headers;\n    }\n    // @ts-expect-error - `headersInit` is not a public property\n    if (headers.headersInit && !headers._map && !isHeadersInstance(headers.headersInit)) {\n        // @ts-expect-error - `headersInit` is not a public property\n        return headers.headersInit;\n    }\n    return Object.fromEntries(headers.entries());\n}\nfunction defaultHeadersSerializer(headers, onContentLength) {\n    const headerArray = [];\n    headers.forEach((value, key) => {\n        if (onContentLength && key === 'content-length') {\n            onContentLength(value);\n        }\n        headerArray.push(`${key}: ${value}`);\n    });\n    return headerArray;\n}\nvar promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nObject.defineProperty(exports, \"fakePromise\", ({ enumerable: true, get: function () { return promise_helpers_1.fakePromise; } }));\nfunction isArrayBufferView(obj) {\n    return obj != null && obj.buffer != null && obj.byteLength != null && obj.byteOffset != null;\n}\nfunction isNodeReadable(obj) {\n    return obj != null && obj.pipe != null;\n}\nfunction isIterable(value) {\n    return value?.[Symbol.iterator] != null;\n}\nfunction shouldRedirect(status) {\n    return status === 301 || status === 302 || status === 303 || status === 307 || status === 308;\n}\nfunction pipeThrough({ src, dest, signal, onError, }) {\n    if (onError) {\n        // listen for errors on the destination stream if necessary. if the readable\n        // stream (src) emits an error, the writable destination (dest) will be\n        // destroyed with that error (see below)\n        dest.once('error', onError);\n    }\n    src.once('error', (e) => {\n        // if the readable stream (src) emits an error during pipe, the writable\n        // destination (dest) is not closed automatically. that needs to be\n        // done manually. the readable stream is closed when error is emitted,\n        // so only the writable destination needs to be destroyed\n        dest.destroy(e);\n    });\n    dest.once('close', () => {\n        // if the writable destination (dest) is closed, the readable stream (src)\n        // is not closed automatically. that needs to be done manually\n        if (!src.destroyed) {\n            src.destroy();\n        }\n    });\n    if (signal) {\n        // this is faster than `import('node:signal').addAbortSignal(signal, src)`\n        const srcRef = new WeakRef(src);\n        const signalRef = new WeakRef(signal);\n        function cleanup() {\n            signalRef.deref()?.removeEventListener('abort', onAbort);\n            srcRef.deref()?.removeListener('end', cleanup);\n            srcRef.deref()?.removeListener('error', cleanup);\n            srcRef.deref()?.removeListener('close', cleanup);\n        }\n        function onAbort() {\n            srcRef.deref()?.destroy(new AbortError());\n            cleanup();\n        }\n        signal.addEventListener('abort', onAbort, { once: true });\n        // this is faster than `import('node:signal').finished(src, cleanup)`\n        src.once('end', cleanup);\n        src.once('error', cleanup);\n        src.once('close', cleanup);\n    }\n    src.pipe(dest, { end: true /* already default */ });\n}\nfunction endStream(stream) {\n    // @ts-expect-error Avoid arguments adaptor trampoline https://v8.dev/blog/adaptor-frame\n    return stream.end(null, null, null);\n}\nfunction safeWrite(chunk, stream) {\n    const result = stream.write(chunk);\n    if (!result) {\n        return (0, node_events_1.once)(stream, 'drain');\n    }\n}\n// https://github.com/nodejs/node/blob/f692878dec6354c0a82241f224906981861bc840/lib/internal/errors.js#L961-L973\nclass AbortError extends Error {\n    constructor(message = 'The operation was aborted', options = undefined) {\n        super(message, options);\n        this.name = 'AbortError';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG1CQUFtQjtBQUNuQixxQkFBcUI7QUFDckIsZ0NBQWdDO0FBQ2hDLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEIsa0JBQWtCO0FBQ2xCLHNCQUFzQjtBQUN0QixtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLElBQUksSUFBSSxNQUFNO0FBQzFDLEtBQUs7QUFDTDtBQUNBO0FBQ0Esd0JBQXdCLG1CQUFPLENBQUMsb0dBQThCO0FBQzlELCtDQUE4QyxFQUFFLHFDQUFxQyx5Q0FBeUMsRUFBQztBQUMvSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNkJBQTZCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxZQUFZO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaUNBQWlDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mYWtlUHJvbWlzZSA9IHZvaWQgMDtcbmV4cG9ydHMuZ2V0SGVhZGVyc09iaiA9IGdldEhlYWRlcnNPYmo7XG5leHBvcnRzLmRlZmF1bHRIZWFkZXJzU2VyaWFsaXplciA9IGRlZmF1bHRIZWFkZXJzU2VyaWFsaXplcjtcbmV4cG9ydHMuaXNBcnJheUJ1ZmZlclZpZXcgPSBpc0FycmF5QnVmZmVyVmlldztcbmV4cG9ydHMuaXNOb2RlUmVhZGFibGUgPSBpc05vZGVSZWFkYWJsZTtcbmV4cG9ydHMuaXNJdGVyYWJsZSA9IGlzSXRlcmFibGU7XG5leHBvcnRzLnNob3VsZFJlZGlyZWN0ID0gc2hvdWxkUmVkaXJlY3Q7XG5leHBvcnRzLnBpcGVUaHJvdWdoID0gcGlwZVRocm91Z2g7XG5leHBvcnRzLmVuZFN0cmVhbSA9IGVuZFN0cmVhbTtcbmV4cG9ydHMuc2FmZVdyaXRlID0gc2FmZVdyaXRlO1xuY29uc3Qgbm9kZV9ldmVudHNfMSA9IHJlcXVpcmUoXCJub2RlOmV2ZW50c1wiKTtcbmZ1bmN0aW9uIGlzSGVhZGVyc0luc3RhbmNlKG9iaikge1xuICAgIHJldHVybiBvYmo/LmZvckVhY2ggIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldEhlYWRlcnNPYmooaGVhZGVycykge1xuICAgIGlmIChoZWFkZXJzID09IG51bGwgfHwgIWlzSGVhZGVyc0luc3RhbmNlKGhlYWRlcnMpKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH1cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gYGhlYWRlcnNJbml0YCBpcyBub3QgYSBwdWJsaWMgcHJvcGVydHlcbiAgICBpZiAoaGVhZGVycy5oZWFkZXJzSW5pdCAmJiAhaGVhZGVycy5fbWFwICYmICFpc0hlYWRlcnNJbnN0YW5jZShoZWFkZXJzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gYGhlYWRlcnNJbml0YCBpcyBub3QgYSBwdWJsaWMgcHJvcGVydHlcbiAgICAgICAgcmV0dXJuIGhlYWRlcnMuaGVhZGVyc0luaXQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoaGVhZGVycy5lbnRyaWVzKCkpO1xufVxuZnVuY3Rpb24gZGVmYXVsdEhlYWRlcnNTZXJpYWxpemVyKGhlYWRlcnMsIG9uQ29udGVudExlbmd0aCkge1xuICAgIGNvbnN0IGhlYWRlckFycmF5ID0gW107XG4gICAgaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgIGlmIChvbkNvbnRlbnRMZW5ndGggJiYga2V5ID09PSAnY29udGVudC1sZW5ndGgnKSB7XG4gICAgICAgICAgICBvbkNvbnRlbnRMZW5ndGgodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGhlYWRlckFycmF5LnB1c2goYCR7a2V5fTogJHt2YWx1ZX1gKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVyQXJyYXk7XG59XG52YXIgcHJvbWlzZV9oZWxwZXJzXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVyc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImZha2VQcm9taXNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9taXNlX2hlbHBlcnNfMS5mYWtlUHJvbWlzZTsgfSB9KTtcbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmouYnVmZmVyICE9IG51bGwgJiYgb2JqLmJ5dGVMZW5ndGggIT0gbnVsbCAmJiBvYmouYnl0ZU9mZnNldCAhPSBudWxsO1xufVxuZnVuY3Rpb24gaXNOb2RlUmVhZGFibGUob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5waXBlICE9IG51bGw7XG59XG5mdW5jdGlvbiBpc0l0ZXJhYmxlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5bU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsO1xufVxuZnVuY3Rpb24gc2hvdWxkUmVkaXJlY3Qoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA9PT0gMzAxIHx8IHN0YXR1cyA9PT0gMzAyIHx8IHN0YXR1cyA9PT0gMzAzIHx8IHN0YXR1cyA9PT0gMzA3IHx8IHN0YXR1cyA9PT0gMzA4O1xufVxuZnVuY3Rpb24gcGlwZVRocm91Z2goeyBzcmMsIGRlc3QsIHNpZ25hbCwgb25FcnJvciwgfSkge1xuICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIC8vIGxpc3RlbiBmb3IgZXJyb3JzIG9uIHRoZSBkZXN0aW5hdGlvbiBzdHJlYW0gaWYgbmVjZXNzYXJ5LiBpZiB0aGUgcmVhZGFibGVcbiAgICAgICAgLy8gc3RyZWFtIChzcmMpIGVtaXRzIGFuIGVycm9yLCB0aGUgd3JpdGFibGUgZGVzdGluYXRpb24gKGRlc3QpIHdpbGwgYmVcbiAgICAgICAgLy8gZGVzdHJveWVkIHdpdGggdGhhdCBlcnJvciAoc2VlIGJlbG93KVxuICAgICAgICBkZXN0Lm9uY2UoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgfVxuICAgIHNyYy5vbmNlKCdlcnJvcicsIChlKSA9PiB7XG4gICAgICAgIC8vIGlmIHRoZSByZWFkYWJsZSBzdHJlYW0gKHNyYykgZW1pdHMgYW4gZXJyb3IgZHVyaW5nIHBpcGUsIHRoZSB3cml0YWJsZVxuICAgICAgICAvLyBkZXN0aW5hdGlvbiAoZGVzdCkgaXMgbm90IGNsb3NlZCBhdXRvbWF0aWNhbGx5LiB0aGF0IG5lZWRzIHRvIGJlXG4gICAgICAgIC8vIGRvbmUgbWFudWFsbHkuIHRoZSByZWFkYWJsZSBzdHJlYW0gaXMgY2xvc2VkIHdoZW4gZXJyb3IgaXMgZW1pdHRlZCxcbiAgICAgICAgLy8gc28gb25seSB0aGUgd3JpdGFibGUgZGVzdGluYXRpb24gbmVlZHMgdG8gYmUgZGVzdHJveWVkXG4gICAgICAgIGRlc3QuZGVzdHJveShlKTtcbiAgICB9KTtcbiAgICBkZXN0Lm9uY2UoJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAvLyBpZiB0aGUgd3JpdGFibGUgZGVzdGluYXRpb24gKGRlc3QpIGlzIGNsb3NlZCwgdGhlIHJlYWRhYmxlIHN0cmVhbSAoc3JjKVxuICAgICAgICAvLyBpcyBub3QgY2xvc2VkIGF1dG9tYXRpY2FsbHkuIHRoYXQgbmVlZHMgdG8gYmUgZG9uZSBtYW51YWxseVxuICAgICAgICBpZiAoIXNyYy5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHNyYy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgZmFzdGVyIHRoYW4gYGltcG9ydCgnbm9kZTpzaWduYWwnKS5hZGRBYm9ydFNpZ25hbChzaWduYWwsIHNyYylgXG4gICAgICAgIGNvbnN0IHNyY1JlZiA9IG5ldyBXZWFrUmVmKHNyYyk7XG4gICAgICAgIGNvbnN0IHNpZ25hbFJlZiA9IG5ldyBXZWFrUmVmKHNpZ25hbCk7XG4gICAgICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgICBzaWduYWxSZWYuZGVyZWYoKT8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkFib3J0KTtcbiAgICAgICAgICAgIHNyY1JlZi5kZXJlZigpPy5yZW1vdmVMaXN0ZW5lcignZW5kJywgY2xlYW51cCk7XG4gICAgICAgICAgICBzcmNSZWYuZGVyZWYoKT8ucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgY2xlYW51cCk7XG4gICAgICAgICAgICBzcmNSZWYuZGVyZWYoKT8ucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xlYW51cCk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gb25BYm9ydCgpIHtcbiAgICAgICAgICAgIHNyY1JlZi5kZXJlZigpPy5kZXN0cm95KG5ldyBBYm9ydEVycm9yKCkpO1xuICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgLy8gdGhpcyBpcyBmYXN0ZXIgdGhhbiBgaW1wb3J0KCdub2RlOnNpZ25hbCcpLmZpbmlzaGVkKHNyYywgY2xlYW51cClgXG4gICAgICAgIHNyYy5vbmNlKCdlbmQnLCBjbGVhbnVwKTtcbiAgICAgICAgc3JjLm9uY2UoJ2Vycm9yJywgY2xlYW51cCk7XG4gICAgICAgIHNyYy5vbmNlKCdjbG9zZScsIGNsZWFudXApO1xuICAgIH1cbiAgICBzcmMucGlwZShkZXN0LCB7IGVuZDogdHJ1ZSAvKiBhbHJlYWR5IGRlZmF1bHQgKi8gfSk7XG59XG5mdW5jdGlvbiBlbmRTdHJlYW0oc3RyZWFtKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBdm9pZCBhcmd1bWVudHMgYWRhcHRvciB0cmFtcG9saW5lIGh0dHBzOi8vdjguZGV2L2Jsb2cvYWRhcHRvci1mcmFtZVxuICAgIHJldHVybiBzdHJlYW0uZW5kKG51bGwsIG51bGwsIG51bGwpO1xufVxuZnVuY3Rpb24gc2FmZVdyaXRlKGNodW5rLCBzdHJlYW0pIHtcbiAgICBjb25zdCByZXN1bHQgPSBzdHJlYW0ud3JpdGUoY2h1bmspO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiAoMCwgbm9kZV9ldmVudHNfMS5vbmNlKShzdHJlYW0sICdkcmFpbicpO1xuICAgIH1cbn1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL2Y2OTI4NzhkZWM2MzU0YzBhODIyNDFmMjI0OTA2OTgxODYxYmM4NDAvbGliL2ludGVybmFsL2Vycm9ycy5qcyNMOTYxLUw5NzNcbmNsYXNzIEFib3J0RXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSA9ICdUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkJywgb3B0aW9ucyA9IHVuZGVmaW5lZCkge1xuICAgICAgICBzdXBlcihtZXNzYWdlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0Fib3J0RXJyb3InO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/promise-helpers/cjs/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isPromise = isPromise;\nexports.isActualPromise = isActualPromise;\nexports.handleMaybePromise = handleMaybePromise;\nexports.fakePromise = fakePromise;\nexports.createDeferredPromise = createDeferredPromise;\nexports.iterateAsync = iterateAsync;\nexports.iterateAsyncVoid = iterateAsync;\nexports.fakeRejectPromise = fakeRejectPromise;\nexports.mapMaybePromise = mapMaybePromise;\nexports.mapAsyncIterator = mapAsyncIterator;\nexports.promiseLikeFinally = promiseLikeFinally;\nexports.unfakePromise = unfakePromise;\nconst kFakePromise = Symbol.for('@whatwg-node/promise-helpers/FakePromise');\nfunction isPromise(value) {\n    return value?.then != null;\n}\nfunction isActualPromise(value) {\n    const maybePromise = value;\n    return maybePromise && maybePromise.then && maybePromise.catch && maybePromise.finally;\n}\nfunction handleMaybePromise(inputFactory, outputSuccessFactory, outputErrorFactory, finallyFactory) {\n    let result$ = fakePromise().then(inputFactory).then(outputSuccessFactory, outputErrorFactory);\n    if (finallyFactory) {\n        result$ = result$.finally(finallyFactory);\n    }\n    return unfakePromise(result$);\n}\nfunction fakePromise(value) {\n    if (value && isActualPromise(value)) {\n        return value;\n    }\n    if (isPromise(value)) {\n        return {\n            then: (resolve, reject) => fakePromise(value.then(resolve, reject)),\n            catch: reject => fakePromise(value.then(res => res, reject)),\n            finally: cb => fakePromise(cb ? promiseLikeFinally(value, cb) : value),\n            [Symbol.toStringTag]: 'Promise',\n        };\n    }\n    // Write a fake promise to avoid the promise constructor\n    // being called with `new Promise` in the browser.\n    return {\n        then(resolve) {\n            if (resolve) {\n                try {\n                    return fakePromise(resolve(value));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        catch() {\n            return this;\n        },\n        finally(cb) {\n            if (cb) {\n                try {\n                    return fakePromise(cb()).then(() => value, () => value);\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        [Symbol.toStringTag]: 'Promise',\n        __fakePromiseValue: value,\n        [kFakePromise]: 'resolved',\n    };\n}\nfunction createDeferredPromise() {\n    if (Promise.withResolvers) {\n        return Promise.withResolvers();\n    }\n    let resolveFn;\n    let rejectFn;\n    const promise = new Promise(function deferredPromiseExecutor(resolve, reject) {\n        resolveFn = resolve;\n        rejectFn = reject;\n    });\n    return {\n        promise,\n        get resolve() {\n            return resolveFn;\n        },\n        get reject() {\n            return rejectFn;\n        },\n    };\n}\nfunction iterateAsync(iterable, callback, results) {\n    if (iterable?.length === 0) {\n        return;\n    }\n    const iterator = iterable[Symbol.iterator]();\n    let index = 0;\n    function iterate() {\n        const { done: endOfIterator, value } = iterator.next();\n        if (endOfIterator) {\n            return;\n        }\n        let endedEarly = false;\n        function endEarly() {\n            endedEarly = true;\n        }\n        return handleMaybePromise(function handleCallback() {\n            return callback(value, endEarly, index++);\n        }, function handleCallbackResult(result) {\n            if (result) {\n                results?.push(result);\n            }\n            if (endedEarly) {\n                return;\n            }\n            return iterate();\n        });\n    }\n    return iterate();\n}\nfunction fakeRejectPromise(error) {\n    return {\n        then(_resolve, reject) {\n            if (reject) {\n                try {\n                    return fakePromise(reject(error));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        catch(reject) {\n            if (reject) {\n                try {\n                    return fakePromise(reject(error));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        finally(cb) {\n            if (cb) {\n                try {\n                    cb();\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        __fakeRejectError: error,\n        [Symbol.toStringTag]: 'Promise',\n        [kFakePromise]: 'rejected',\n    };\n}\nfunction mapMaybePromise(input, onSuccess, onError) {\n    return handleMaybePromise(() => input, onSuccess, onError);\n}\n/**\n * Given an AsyncIterable and a callback function, return an AsyncIterator\n * which produces values mapped via calling the callback function.\n */\nfunction mapAsyncIterator(iterator, onNext, onError, onEnd) {\n    if (Symbol.asyncIterator in iterator) {\n        iterator = iterator[Symbol.asyncIterator]();\n    }\n    let $return;\n    let abruptClose;\n    let onEndWithValue;\n    if (onEnd) {\n        let onEndWithValueResult /** R in onEndWithValue */;\n        onEndWithValue = value => {\n            onEndWithValueResult ||= handleMaybePromise(onEnd, () => value, () => value);\n            return onEndWithValueResult;\n        };\n    }\n    if (typeof iterator.return === 'function') {\n        $return = iterator.return;\n        abruptClose = (error) => {\n            const rethrow = () => {\n                throw error;\n            };\n            return $return.call(iterator).then(rethrow, rethrow);\n        };\n    }\n    function mapResult(result) {\n        if (result.done) {\n            return onEndWithValue ? onEndWithValue(result) : result;\n        }\n        return handleMaybePromise(() => result.value, value => handleMaybePromise(() => onNext(value), iteratorResult, abruptClose));\n    }\n    let mapReject;\n    if (onError) {\n        let onErrorResult;\n        // Capture rejectCallback to ensure it cannot be null.\n        const reject = onError;\n        mapReject = (error) => {\n            onErrorResult ||= handleMaybePromise(() => error, error => handleMaybePromise(() => reject(error), iteratorResult, abruptClose));\n            return onErrorResult;\n        };\n    }\n    return {\n        next() {\n            return iterator.next().then(mapResult, mapReject);\n        },\n        return() {\n            const res$ = $return\n                ? $return.call(iterator).then(mapResult, mapReject)\n                : fakePromise({ value: undefined, done: true });\n            return onEndWithValue ? res$.then(onEndWithValue) : res$;\n        },\n        throw(error) {\n            if (typeof iterator.throw === 'function') {\n                return iterator.throw(error).then(mapResult, mapReject);\n            }\n            if (abruptClose) {\n                return abruptClose(error);\n            }\n            return fakeRejectPromise(error);\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\nfunction iteratorResult(value) {\n    return { value, done: false };\n}\nfunction isFakePromise(value) {\n    return value?.[kFakePromise] === 'resolved';\n}\nfunction isFakeRejectPromise(value) {\n    return value?.[kFakePromise] === 'rejected';\n}\nfunction promiseLikeFinally(value, onFinally) {\n    if ('finally' in value) {\n        return value.finally(onFinally);\n    }\n    return value.then(res => {\n        const finallyRes = onFinally();\n        return isPromise(finallyRes) ? finallyRes.then(() => res) : res;\n    }, err => {\n        const finallyRes = onFinally();\n        if (isPromise(finallyRes)) {\n            return finallyRes.then(() => {\n                throw err;\n            });\n        }\n        else {\n            throw err;\n        }\n    });\n}\nfunction unfakePromise(promise) {\n    if (isFakePromise(promise)) {\n        return promise.__fakePromiseValue;\n    }\n    if (isFakeRejectPromise(promise)) {\n        throw promise.__fakeRejectError;\n    }\n    return promise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLHVCQUF1QjtBQUN2QiwwQkFBMEI7QUFDMUIsbUJBQW1CO0FBQ25CLDZCQUE2QjtBQUM3QixvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLHlCQUF5QjtBQUN6Qix1QkFBdUI7QUFDdkIsd0JBQXdCO0FBQ3hCLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOEJBQThCO0FBQzlEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9janMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbmV4cG9ydHMuaXNBY3R1YWxQcm9taXNlID0gaXNBY3R1YWxQcm9taXNlO1xuZXhwb3J0cy5oYW5kbGVNYXliZVByb21pc2UgPSBoYW5kbGVNYXliZVByb21pc2U7XG5leHBvcnRzLmZha2VQcm9taXNlID0gZmFrZVByb21pc2U7XG5leHBvcnRzLmNyZWF0ZURlZmVycmVkUHJvbWlzZSA9IGNyZWF0ZURlZmVycmVkUHJvbWlzZTtcbmV4cG9ydHMuaXRlcmF0ZUFzeW5jID0gaXRlcmF0ZUFzeW5jO1xuZXhwb3J0cy5pdGVyYXRlQXN5bmNWb2lkID0gaXRlcmF0ZUFzeW5jO1xuZXhwb3J0cy5mYWtlUmVqZWN0UHJvbWlzZSA9IGZha2VSZWplY3RQcm9taXNlO1xuZXhwb3J0cy5tYXBNYXliZVByb21pc2UgPSBtYXBNYXliZVByb21pc2U7XG5leHBvcnRzLm1hcEFzeW5jSXRlcmF0b3IgPSBtYXBBc3luY0l0ZXJhdG9yO1xuZXhwb3J0cy5wcm9taXNlTGlrZUZpbmFsbHkgPSBwcm9taXNlTGlrZUZpbmFsbHk7XG5leHBvcnRzLnVuZmFrZVByb21pc2UgPSB1bmZha2VQcm9taXNlO1xuY29uc3Qga0Zha2VQcm9taXNlID0gU3ltYm9sLmZvcignQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9GYWtlUHJvbWlzZScpO1xuZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy50aGVuICE9IG51bGw7XG59XG5mdW5jdGlvbiBpc0FjdHVhbFByb21pc2UodmFsdWUpIHtcbiAgICBjb25zdCBtYXliZVByb21pc2UgPSB2YWx1ZTtcbiAgICByZXR1cm4gbWF5YmVQcm9taXNlICYmIG1heWJlUHJvbWlzZS50aGVuICYmIG1heWJlUHJvbWlzZS5jYXRjaCAmJiBtYXliZVByb21pc2UuZmluYWxseTtcbn1cbmZ1bmN0aW9uIGhhbmRsZU1heWJlUHJvbWlzZShpbnB1dEZhY3RvcnksIG91dHB1dFN1Y2Nlc3NGYWN0b3J5LCBvdXRwdXRFcnJvckZhY3RvcnksIGZpbmFsbHlGYWN0b3J5KSB7XG4gICAgbGV0IHJlc3VsdCQgPSBmYWtlUHJvbWlzZSgpLnRoZW4oaW5wdXRGYWN0b3J5KS50aGVuKG91dHB1dFN1Y2Nlc3NGYWN0b3J5LCBvdXRwdXRFcnJvckZhY3RvcnkpO1xuICAgIGlmIChmaW5hbGx5RmFjdG9yeSkge1xuICAgICAgICByZXN1bHQkID0gcmVzdWx0JC5maW5hbGx5KGZpbmFsbHlGYWN0b3J5KTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZmFrZVByb21pc2UocmVzdWx0JCk7XG59XG5mdW5jdGlvbiBmYWtlUHJvbWlzZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAmJiBpc0FjdHVhbFByb21pc2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRoZW46IChyZXNvbHZlLCByZWplY3QpID0+IGZha2VQcm9taXNlKHZhbHVlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KSksXG4gICAgICAgICAgICBjYXRjaDogcmVqZWN0ID0+IGZha2VQcm9taXNlKHZhbHVlLnRoZW4ocmVzID0+IHJlcywgcmVqZWN0KSksXG4gICAgICAgICAgICBmaW5hbGx5OiBjYiA9PiBmYWtlUHJvbWlzZShjYiA/IHByb21pc2VMaWtlRmluYWxseSh2YWx1ZSwgY2IpIDogdmFsdWUpLFxuICAgICAgICAgICAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdQcm9taXNlJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gV3JpdGUgYSBmYWtlIHByb21pc2UgdG8gYXZvaWQgdGhlIHByb21pc2UgY29uc3RydWN0b3JcbiAgICAvLyBiZWluZyBjYWxsZWQgd2l0aCBgbmV3IFByb21pc2VgIGluIHRoZSBicm93c2VyLlxuICAgIHJldHVybiB7XG4gICAgICAgIHRoZW4ocmVzb2x2ZSkge1xuICAgICAgICAgICAgaWYgKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVByb21pc2UocmVzb2x2ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBmaW5hbGx5KGNiKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVByb21pc2UoY2IoKSkudGhlbigoKSA9PiB2YWx1ZSwgKCkgPT4gdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1Byb21pc2UnLFxuICAgICAgICBfX2Zha2VQcm9taXNlVmFsdWU6IHZhbHVlLFxuICAgICAgICBba0Zha2VQcm9taXNlXTogJ3Jlc29sdmVkJyxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRGVmZXJyZWRQcm9taXNlKCkge1xuICAgIGlmIChQcm9taXNlLndpdGhSZXNvbHZlcnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2Uud2l0aFJlc29sdmVycygpO1xuICAgIH1cbiAgICBsZXQgcmVzb2x2ZUZuO1xuICAgIGxldCByZWplY3RGbjtcbiAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gZGVmZXJyZWRQcm9taXNlRXhlY3V0b3IocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlc29sdmVGbiA9IHJlc29sdmU7XG4gICAgICAgIHJlamVjdEZuID0gcmVqZWN0O1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2UsXG4gICAgICAgIGdldCByZXNvbHZlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVGbjtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0IHJlamVjdCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWplY3RGbjtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaXRlcmF0ZUFzeW5jKGl0ZXJhYmxlLCBjYWxsYmFjaywgcmVzdWx0cykge1xuICAgIGlmIChpdGVyYWJsZT8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBmdW5jdGlvbiBpdGVyYXRlKCkge1xuICAgICAgICBjb25zdCB7IGRvbmU6IGVuZE9mSXRlcmF0b3IsIHZhbHVlIH0gPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChlbmRPZkl0ZXJhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVuZGVkRWFybHkgPSBmYWxzZTtcbiAgICAgICAgZnVuY3Rpb24gZW5kRWFybHkoKSB7XG4gICAgICAgICAgICBlbmRlZEVhcmx5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHZhbHVlLCBlbmRFYXJseSwgaW5kZXgrKyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHM/LnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbmRlZEVhcmx5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRlKCk7XG59XG5mdW5jdGlvbiBmYWtlUmVqZWN0UHJvbWlzZShlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHRoZW4oX3Jlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgaWYgKHJlamVjdCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUHJvbWlzZShyZWplY3QoZXJyb3IpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVJlamVjdFByb21pc2UoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgY2F0Y2gocmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAocmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VQcm9taXNlKHJlamVjdChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBmaW5hbGx5KGNiKSB7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBfX2Zha2VSZWplY3RFcnJvcjogZXJyb3IsXG4gICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnUHJvbWlzZScsXG4gICAgICAgIFtrRmFrZVByb21pc2VdOiAncmVqZWN0ZWQnLFxuICAgIH07XG59XG5mdW5jdGlvbiBtYXBNYXliZVByb21pc2UoaW5wdXQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gaW5wdXQsIG9uU3VjY2Vzcywgb25FcnJvcik7XG59XG4vKipcbiAqIEdpdmVuIGFuIEFzeW5jSXRlcmFibGUgYW5kIGEgY2FsbGJhY2sgZnVuY3Rpb24sIHJldHVybiBhbiBBc3luY0l0ZXJhdG9yXG4gKiB3aGljaCBwcm9kdWNlcyB2YWx1ZXMgbWFwcGVkIHZpYSBjYWxsaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWFwQXN5bmNJdGVyYXRvcihpdGVyYXRvciwgb25OZXh0LCBvbkVycm9yLCBvbkVuZCkge1xuICAgIGlmIChTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiBpdGVyYXRvcikge1xuICAgICAgICBpdGVyYXRvciA9IGl0ZXJhdG9yW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgIH1cbiAgICBsZXQgJHJldHVybjtcbiAgICBsZXQgYWJydXB0Q2xvc2U7XG4gICAgbGV0IG9uRW5kV2l0aFZhbHVlO1xuICAgIGlmIChvbkVuZCkge1xuICAgICAgICBsZXQgb25FbmRXaXRoVmFsdWVSZXN1bHQgLyoqIFIgaW4gb25FbmRXaXRoVmFsdWUgKi87XG4gICAgICAgIG9uRW5kV2l0aFZhbHVlID0gdmFsdWUgPT4ge1xuICAgICAgICAgICAgb25FbmRXaXRoVmFsdWVSZXN1bHQgfHw9IGhhbmRsZU1heWJlUHJvbWlzZShvbkVuZCwgKCkgPT4gdmFsdWUsICgpID0+IHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBvbkVuZFdpdGhWYWx1ZVJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgJHJldHVybiA9IGl0ZXJhdG9yLnJldHVybjtcbiAgICAgICAgYWJydXB0Q2xvc2UgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJldGhyb3cgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuICRyZXR1cm4uY2FsbChpdGVyYXRvcikudGhlbihyZXRocm93LCByZXRocm93KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwUmVzdWx0KHJlc3VsdCkge1xuICAgICAgICBpZiAocmVzdWx0LmRvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiBvbkVuZFdpdGhWYWx1ZSA/IG9uRW5kV2l0aFZhbHVlKHJlc3VsdCkgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiByZXN1bHQudmFsdWUsIHZhbHVlID0+IGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBvbk5leHQodmFsdWUpLCBpdGVyYXRvclJlc3VsdCwgYWJydXB0Q2xvc2UpKTtcbiAgICB9XG4gICAgbGV0IG1hcFJlamVjdDtcbiAgICBpZiAob25FcnJvcikge1xuICAgICAgICBsZXQgb25FcnJvclJlc3VsdDtcbiAgICAgICAgLy8gQ2FwdHVyZSByZWplY3RDYWxsYmFjayB0byBlbnN1cmUgaXQgY2Fubm90IGJlIG51bGwuXG4gICAgICAgIGNvbnN0IHJlamVjdCA9IG9uRXJyb3I7XG4gICAgICAgIG1hcFJlamVjdCA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgb25FcnJvclJlc3VsdCB8fD0gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IGVycm9yLCBlcnJvciA9PiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gcmVqZWN0KGVycm9yKSwgaXRlcmF0b3JSZXN1bHQsIGFicnVwdENsb3NlKSk7XG4gICAgICAgICAgICByZXR1cm4gb25FcnJvclJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmV4dCgpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvci5uZXh0KCkudGhlbihtYXBSZXN1bHQsIG1hcFJlamVjdCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJldHVybigpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyQgPSAkcmV0dXJuXG4gICAgICAgICAgICAgICAgPyAkcmV0dXJuLmNhbGwoaXRlcmF0b3IpLnRoZW4obWFwUmVzdWx0LCBtYXBSZWplY3QpXG4gICAgICAgICAgICAgICAgOiBmYWtlUHJvbWlzZSh7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm4gb25FbmRXaXRoVmFsdWUgPyByZXMkLnRoZW4ob25FbmRXaXRoVmFsdWUpIDogcmVzJDtcbiAgICAgICAgfSxcbiAgICAgICAgdGhyb3coZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3IudGhyb3cgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3IudGhyb3coZXJyb3IpLnRoZW4obWFwUmVzdWx0LCBtYXBSZWplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFicnVwdENsb3NlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFicnVwdENsb3NlKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICB9O1xufVxuZnVuY3Rpb24gaXRlcmF0b3JSZXN1bHQodmFsdWUpIHtcbiAgICByZXR1cm4geyB2YWx1ZSwgZG9uZTogZmFsc2UgfTtcbn1cbmZ1bmN0aW9uIGlzRmFrZVByb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU/LltrRmFrZVByb21pc2VdID09PSAncmVzb2x2ZWQnO1xufVxuZnVuY3Rpb24gaXNGYWtlUmVqZWN0UHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8uW2tGYWtlUHJvbWlzZV0gPT09ICdyZWplY3RlZCc7XG59XG5mdW5jdGlvbiBwcm9taXNlTGlrZUZpbmFsbHkodmFsdWUsIG9uRmluYWxseSkge1xuICAgIGlmICgnZmluYWxseScgaW4gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmZpbmFsbHkob25GaW5hbGx5KTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnRoZW4ocmVzID0+IHtcbiAgICAgICAgY29uc3QgZmluYWxseVJlcyA9IG9uRmluYWxseSgpO1xuICAgICAgICByZXR1cm4gaXNQcm9taXNlKGZpbmFsbHlSZXMpID8gZmluYWxseVJlcy50aGVuKCgpID0+IHJlcykgOiByZXM7XG4gICAgfSwgZXJyID0+IHtcbiAgICAgICAgY29uc3QgZmluYWxseVJlcyA9IG9uRmluYWxseSgpO1xuICAgICAgICBpZiAoaXNQcm9taXNlKGZpbmFsbHlSZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxseVJlcy50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gdW5mYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gICAgaWYgKGlzRmFrZVByb21pc2UocHJvbWlzZSkpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuX19mYWtlUHJvbWlzZVZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNGYWtlUmVqZWN0UHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICB0aHJvdyBwcm9taXNlLl9fZmFrZVJlamVjdEVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/createServerAdapter.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/createServerAdapter.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createServerAdapter = createServerAdapter;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst instrumentation_1 = __webpack_require__(/*! @envelop/instrumentation */ \"(rsc)/./node_modules/@envelop/instrumentation/cjs/index.js\");\nconst disposablestack_1 = __webpack_require__(/*! @whatwg-node/disposablestack */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js\");\nconst DefaultFetchAPI = tslib_1.__importStar(__webpack_require__(/*! @whatwg-node/fetch */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js\"));\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/utils.js\");\nconst uwebsockets_js_1 = __webpack_require__(/*! ./uwebsockets.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/uwebsockets.js\");\n// Required for envs like nextjs edge runtime\nfunction isRequestAccessible(serverContext) {\n    try {\n        return !!serverContext?.request;\n    }\n    catch {\n        return false;\n    }\n}\nconst EMPTY_OBJECT = {};\nfunction createServerAdapter(serverAdapterBaseObject, options) {\n    const useSingleWriteHead = options?.__useSingleWriteHead == null ? true : options.__useSingleWriteHead;\n    const fetchAPI = {\n        ...DefaultFetchAPI,\n        ...options?.fetchAPI,\n    };\n    const useCustomAbortCtrl = options?.__useCustomAbortCtrl == null\n        ? fetchAPI.Request !== globalThis.Request\n        : options.__useCustomAbortCtrl;\n    const givenHandleRequest = typeof serverAdapterBaseObject === 'function'\n        ? serverAdapterBaseObject\n        : serverAdapterBaseObject.handle;\n    const onRequestHooks = [];\n    const onResponseHooks = [];\n    let instrumentation;\n    const waitUntilPromises = new Set();\n    let _disposableStack;\n    function ensureDisposableStack() {\n        if (!_disposableStack) {\n            _disposableStack = new disposablestack_1.AsyncDisposableStack();\n            if (options?.disposeOnProcessTerminate) {\n                (0, utils_js_1.ensureDisposableStackRegisteredForTerminateEvents)(_disposableStack);\n            }\n            _disposableStack.defer(() => {\n                if (waitUntilPromises.size > 0) {\n                    return Promise.allSettled(waitUntilPromises).then(() => {\n                        waitUntilPromises.clear();\n                    }, () => {\n                        waitUntilPromises.clear();\n                    });\n                }\n            });\n        }\n        return _disposableStack;\n    }\n    function waitUntil(maybePromise) {\n        // Ensure that the disposable stack is created\n        if ((0, utils_js_1.isPromise)(maybePromise)) {\n            ensureDisposableStack();\n            waitUntilPromises.add(maybePromise);\n            maybePromise.then(() => {\n                waitUntilPromises.delete(maybePromise);\n            }, err => {\n                console.error(`Unexpected error while waiting: ${err.message || err}`);\n                waitUntilPromises.delete(maybePromise);\n            });\n        }\n    }\n    if (options?.plugins != null) {\n        for (const plugin of options.plugins) {\n            if (plugin.instrumentation) {\n                instrumentation = instrumentation\n                    ? (0, instrumentation_1.chain)(instrumentation, plugin.instrumentation)\n                    : plugin.instrumentation;\n            }\n            if (plugin.onRequest) {\n                onRequestHooks.push(plugin.onRequest);\n            }\n            if (plugin.onResponse) {\n                onResponseHooks.push(plugin.onResponse);\n            }\n            const disposeFn = plugin[disposablestack_1.DisposableSymbols.dispose];\n            if (disposeFn) {\n                ensureDisposableStack().defer(disposeFn);\n            }\n            const asyncDisposeFn = plugin[disposablestack_1.DisposableSymbols.asyncDispose];\n            if (asyncDisposeFn) {\n                ensureDisposableStack().defer(asyncDisposeFn);\n            }\n            if (plugin.onDispose) {\n                ensureDisposableStack().defer(plugin.onDispose);\n            }\n        }\n    }\n    let handleRequest = onRequestHooks.length > 0 || onResponseHooks.length > 0\n        ? function handleRequest(request, serverContext) {\n            let requestHandler = givenHandleRequest;\n            let response;\n            if (onRequestHooks.length === 0) {\n                return handleEarlyResponse();\n            }\n            let url = request['parsedUrl'] ||\n                new Proxy(EMPTY_OBJECT, {\n                    get(_target, prop, _receiver) {\n                        url = new fetchAPI.URL(request.url, 'http://localhost');\n                        return Reflect.get(url, prop, url);\n                    },\n                });\n            function handleResponse(response) {\n                if (onResponseHooks.length === 0) {\n                    return response;\n                }\n                return (0, promise_helpers_1.handleMaybePromise)(() => (0, utils_js_1.iterateAsyncVoid)(onResponseHooks, onResponseHook => onResponseHook({\n                    request,\n                    response,\n                    serverContext,\n                    setResponse(newResponse) {\n                        response = newResponse;\n                    },\n                    fetchAPI,\n                })), () => response);\n            }\n            function handleEarlyResponse() {\n                if (!response) {\n                    return (0, promise_helpers_1.handleMaybePromise)(() => requestHandler(request, serverContext), handleResponse);\n                }\n                return handleResponse(response);\n            }\n            return (0, promise_helpers_1.handleMaybePromise)(() => (0, utils_js_1.iterateAsyncVoid)(onRequestHooks, (onRequestHook, stopEarly) => onRequestHook({\n                request,\n                setRequest(newRequest) {\n                    request = newRequest;\n                },\n                serverContext,\n                fetchAPI,\n                url,\n                requestHandler,\n                setRequestHandler(newRequestHandler) {\n                    requestHandler = newRequestHandler;\n                },\n                endResponse(newResponse) {\n                    response = newResponse;\n                    if (newResponse) {\n                        stopEarly();\n                    }\n                },\n            })), handleEarlyResponse);\n        }\n        : givenHandleRequest;\n    if (instrumentation?.request) {\n        const originalRequestHandler = handleRequest;\n        handleRequest = (request, initialContext) => {\n            return (0, instrumentation_1.getInstrumented)({ request }).asyncFn(instrumentation.request, originalRequestHandler)(request, initialContext);\n        };\n    }\n    // TODO: Remove this on the next major version\n    function handleNodeRequest(nodeRequest, ...ctx) {\n        const serverContext = ctx.length > 1 ? (0, utils_js_1.completeAssign)(...ctx) : ctx[0] || {};\n        // Ensure `waitUntil` is available in the server context\n        if (!serverContext.waitUntil) {\n            serverContext.waitUntil = waitUntil;\n        }\n        const request = (0, utils_js_1.normalizeNodeRequest)(nodeRequest, fetchAPI, undefined, useCustomAbortCtrl);\n        return handleRequest(request, serverContext);\n    }\n    function handleNodeRequestAndResponse(nodeRequest, nodeResponseOrContainer, ...ctx) {\n        const nodeResponse = nodeResponseOrContainer.raw || nodeResponseOrContainer;\n        const serverContext = ctx.length > 1 ? (0, utils_js_1.completeAssign)(...ctx) : ctx[0] || {};\n        // Ensure `waitUntil` is available in the server context\n        if (!serverContext.waitUntil) {\n            serverContext.waitUntil = waitUntil;\n        }\n        const request = (0, utils_js_1.normalizeNodeRequest)(nodeRequest, fetchAPI, nodeResponse, useCustomAbortCtrl);\n        return handleRequest(request, serverContext);\n    }\n    function requestListener(nodeRequest, nodeResponse, ...ctx) {\n        const defaultServerContext = {\n            req: nodeRequest,\n            res: nodeResponse,\n            waitUntil,\n        };\n        return (0, promise_helpers_1.unfakePromise)((0, uwebsockets_js_1.fakePromise)()\n            .then(() => handleNodeRequestAndResponse(nodeRequest, nodeResponse, defaultServerContext, ...ctx))\n            .catch(err => (0, utils_js_1.handleErrorFromRequestHandler)(err, fetchAPI.Response))\n            .then(response => (0, utils_js_1.sendNodeResponse)(response, nodeResponse, nodeRequest, useSingleWriteHead))\n            .catch(err => console.error(`Unexpected error while handling request: ${err.message || err}`)));\n    }\n    function handleUWS(res, req, ...ctx) {\n        const defaultServerContext = {\n            res,\n            req,\n            waitUntil,\n        };\n        const filteredCtxParts = ctx.filter(partCtx => partCtx != null);\n        const serverContext = filteredCtxParts.length > 0\n            ? (0, utils_js_1.completeAssign)(defaultServerContext, ...ctx)\n            : defaultServerContext;\n        const controller = useCustomAbortCtrl\n            ? (0, utils_js_1.createCustomAbortControllerSignal)()\n            : new AbortController();\n        const originalResEnd = res.end.bind(res);\n        let resEnded = false;\n        res.end = function (data) {\n            resEnded = true;\n            return originalResEnd(data);\n        };\n        const originalOnAborted = res.onAborted.bind(res);\n        originalOnAborted(function () {\n            controller.abort();\n        });\n        res.onAborted = function (cb) {\n            controller.signal.addEventListener('abort', cb, { once: true });\n        };\n        const request = (0, uwebsockets_js_1.getRequestFromUWSRequest)({\n            req,\n            res,\n            fetchAPI,\n            controller,\n        });\n        return (0, promise_helpers_1.handleMaybePromise)(() => (0, promise_helpers_1.handleMaybePromise)(() => handleRequest(request, serverContext), response => response, err => (0, utils_js_1.handleErrorFromRequestHandler)(err, fetchAPI.Response)), response => {\n            if (!controller.signal.aborted && !resEnded) {\n                return (0, promise_helpers_1.handleMaybePromise)(() => (0, uwebsockets_js_1.sendResponseToUwsOpts)(res, response, controller, fetchAPI), r => r, err => {\n                    console.error(`Unexpected error while handling request: ${err.message || err}`);\n                });\n            }\n        });\n    }\n    function handleEvent(event, ...ctx) {\n        if (!event.respondWith || !event.request) {\n            throw new TypeError(`Expected FetchEvent, got ${event}`);\n        }\n        const filteredCtxParts = ctx.filter(partCtx => partCtx != null);\n        const serverContext = filteredCtxParts.length > 0\n            ? (0, utils_js_1.completeAssign)({}, event, ...filteredCtxParts)\n            : (0, utils_js_1.isolateObject)(event);\n        const response$ = handleRequest(event.request, serverContext);\n        event.respondWith(response$);\n    }\n    function handleRequestWithWaitUntil(request, ...ctx) {\n        const filteredCtxParts = ctx.filter(partCtx => partCtx != null);\n        const serverContext = filteredCtxParts.length > 1\n            ? (0, utils_js_1.completeAssign)({}, ...filteredCtxParts)\n            : (0, utils_js_1.isolateObject)(filteredCtxParts[0], filteredCtxParts[0] == null || filteredCtxParts[0].waitUntil == null\n                ? waitUntil\n                : undefined);\n        return handleRequest(request, serverContext);\n    }\n    const fetchFn = (input, ...maybeCtx) => {\n        if (typeof input === 'string' || 'href' in input) {\n            const [initOrCtx, ...restOfCtx] = maybeCtx;\n            if ((0, utils_js_1.isRequestInit)(initOrCtx)) {\n                const request = new fetchAPI.Request(input, initOrCtx);\n                const res$ = handleRequestWithWaitUntil(request, ...restOfCtx);\n                const signal = initOrCtx.signal;\n                if (signal) {\n                    return (0, utils_js_1.handleAbortSignalAndPromiseResponse)(res$, signal);\n                }\n                return res$;\n            }\n            const request = new fetchAPI.Request(input);\n            return handleRequestWithWaitUntil(request, ...maybeCtx);\n        }\n        const res$ = handleRequestWithWaitUntil(input, ...maybeCtx);\n        return (0, utils_js_1.handleAbortSignalAndPromiseResponse)(res$, input.signal);\n    };\n    const genericRequestHandler = (input, ...maybeCtx) => {\n        // If it is a Node request\n        const [initOrCtxOrRes, ...restOfCtx] = maybeCtx;\n        if ((0, utils_js_1.isNodeRequest)(input)) {\n            if (!(0, utils_js_1.isServerResponse)(initOrCtxOrRes)) {\n                throw new TypeError(`Expected ServerResponse, got ${initOrCtxOrRes}`);\n            }\n            return requestListener(input, initOrCtxOrRes, ...restOfCtx);\n        }\n        if ((0, uwebsockets_js_1.isUWSResponse)(input)) {\n            return handleUWS(input, initOrCtxOrRes, ...restOfCtx);\n        }\n        if ((0, utils_js_1.isServerResponse)(initOrCtxOrRes)) {\n            throw new TypeError('Got Node response without Node request');\n        }\n        // Is input a container object over Request?\n        if (isRequestAccessible(input)) {\n            // Is it FetchEvent?\n            if ((0, utils_js_1.isFetchEvent)(input)) {\n                return handleEvent(input, ...maybeCtx);\n            }\n            // In this input is also the context\n            return handleRequestWithWaitUntil(input.request, input, ...maybeCtx);\n        }\n        // Or is it Request itself?\n        // Then ctx is present and it is the context\n        return fetchFn(input, ...maybeCtx);\n    };\n    const adapterObj = {\n        handleRequest: handleRequestWithWaitUntil,\n        fetch: fetchFn,\n        handleNodeRequest,\n        handleNodeRequestAndResponse,\n        requestListener,\n        handleEvent,\n        handleUWS,\n        handle: genericRequestHandler,\n        get disposableStack() {\n            return ensureDisposableStack();\n        },\n        [disposablestack_1.DisposableSymbols.asyncDispose]() {\n            if (_disposableStack && !_disposableStack.disposed) {\n                return _disposableStack.disposeAsync();\n            }\n            return (0, uwebsockets_js_1.fakePromise)();\n        },\n        dispose() {\n            if (_disposableStack && !_disposableStack.disposed) {\n                return _disposableStack.disposeAsync();\n            }\n            return (0, uwebsockets_js_1.fakePromise)();\n        },\n        waitUntil,\n    };\n    const serverAdapter = new Proxy(genericRequestHandler, {\n        // It should have all the attributes of the handler function and the server instance\n        has: (_, prop) => {\n            return (prop in adapterObj ||\n                prop in genericRequestHandler ||\n                (serverAdapterBaseObject && prop in serverAdapterBaseObject));\n        },\n        get: (_, prop) => {\n            // Somehow Deno and Node 24 don't like bound dispose functions\n            if (globalThis.Deno || prop === Symbol.asyncDispose || prop === Symbol.dispose) {\n                const adapterProp = Reflect.get(adapterObj, prop, adapterObj);\n                if (adapterProp) {\n                    return adapterProp;\n                }\n            }\n            const adapterProp = adapterObj[prop];\n            if (adapterProp) {\n                if (adapterProp.bind) {\n                    return adapterProp.bind(adapterObj);\n                }\n                return adapterProp;\n            }\n            const handleProp = genericRequestHandler[prop];\n            if (handleProp) {\n                if (handleProp.bind) {\n                    return handleProp.bind(genericRequestHandler);\n                }\n                return handleProp;\n            }\n            if (serverAdapterBaseObject) {\n                const serverAdapterBaseObjectProp = serverAdapterBaseObject[prop];\n                if (serverAdapterBaseObjectProp) {\n                    if (serverAdapterBaseObjectProp.bind) {\n                        return function (...args) {\n                            const returnedVal = serverAdapterBaseObject[prop](...args);\n                            if (returnedVal === serverAdapterBaseObject) {\n                                return serverAdapter;\n                            }\n                            return returnedVal;\n                        };\n                    }\n                    return serverAdapterBaseObjectProp;\n                }\n            }\n        },\n        apply(_, __, args) {\n            return genericRequestHandler(...args);\n        },\n    });\n    return serverAdapter;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvY3JlYXRlU2VydmVyQWRhcHRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0IsZ0JBQWdCLG1CQUFPLENBQUMsdURBQU87QUFDL0IsMEJBQTBCLG1CQUFPLENBQUMsNEZBQTBCO0FBQzVELDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSw2Q0FBNkMsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDekUsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFLG1CQUFtQixtQkFBTyxDQUFDLHlFQUFZO0FBQ3ZDLHlCQUF5QixtQkFBTyxDQUFDLHFGQUFrQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixpRUFBaUUsbUJBQW1CO0FBQ3BGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFNBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9GQUFvRixtQkFBbUI7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsbUJBQW1CO0FBQ2pHLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsTUFBTTtBQUNsRTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0UsZUFBZTtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvY3JlYXRlU2VydmVyQWRhcHRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlU2VydmVyQWRhcHRlciA9IGNyZWF0ZVNlcnZlckFkYXB0ZXI7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3QgaW5zdHJ1bWVudGF0aW9uXzEgPSByZXF1aXJlKFwiQGVudmVsb3AvaW5zdHJ1bWVudGF0aW9uXCIpO1xuY29uc3QgZGlzcG9zYWJsZXN0YWNrXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFja1wiKTtcbmNvbnN0IERlZmF1bHRGZXRjaEFQSSA9IHRzbGliXzEuX19pbXBvcnRTdGFyKHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvZmV0Y2hcIikpO1xuY29uc3QgcHJvbWlzZV9oZWxwZXJzXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVyc1wiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbmNvbnN0IHV3ZWJzb2NrZXRzX2pzXzEgPSByZXF1aXJlKFwiLi91d2Vic29ja2V0cy5qc1wiKTtcbi8vIFJlcXVpcmVkIGZvciBlbnZzIGxpa2UgbmV4dGpzIGVkZ2UgcnVudGltZVxuZnVuY3Rpb24gaXNSZXF1ZXN0QWNjZXNzaWJsZShzZXJ2ZXJDb250ZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuICEhc2VydmVyQ29udGV4dD8ucmVxdWVzdDtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuY29uc3QgRU1QVFlfT0JKRUNUID0ge307XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJBZGFwdGVyKHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdXNlU2luZ2xlV3JpdGVIZWFkID0gb3B0aW9ucz8uX191c2VTaW5nbGVXcml0ZUhlYWQgPT0gbnVsbCA/IHRydWUgOiBvcHRpb25zLl9fdXNlU2luZ2xlV3JpdGVIZWFkO1xuICAgIGNvbnN0IGZldGNoQVBJID0ge1xuICAgICAgICAuLi5EZWZhdWx0RmV0Y2hBUEksXG4gICAgICAgIC4uLm9wdGlvbnM/LmZldGNoQVBJLFxuICAgIH07XG4gICAgY29uc3QgdXNlQ3VzdG9tQWJvcnRDdHJsID0gb3B0aW9ucz8uX191c2VDdXN0b21BYm9ydEN0cmwgPT0gbnVsbFxuICAgICAgICA/IGZldGNoQVBJLlJlcXVlc3QgIT09IGdsb2JhbFRoaXMuUmVxdWVzdFxuICAgICAgICA6IG9wdGlvbnMuX191c2VDdXN0b21BYm9ydEN0cmw7XG4gICAgY29uc3QgZ2l2ZW5IYW5kbGVSZXF1ZXN0ID0gdHlwZW9mIHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gc2VydmVyQWRhcHRlckJhc2VPYmplY3RcbiAgICAgICAgOiBzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdC5oYW5kbGU7XG4gICAgY29uc3Qgb25SZXF1ZXN0SG9va3MgPSBbXTtcbiAgICBjb25zdCBvblJlc3BvbnNlSG9va3MgPSBbXTtcbiAgICBsZXQgaW5zdHJ1bWVudGF0aW9uO1xuICAgIGNvbnN0IHdhaXRVbnRpbFByb21pc2VzID0gbmV3IFNldCgpO1xuICAgIGxldCBfZGlzcG9zYWJsZVN0YWNrO1xuICAgIGZ1bmN0aW9uIGVuc3VyZURpc3Bvc2FibGVTdGFjaygpIHtcbiAgICAgICAgaWYgKCFfZGlzcG9zYWJsZVN0YWNrKSB7XG4gICAgICAgICAgICBfZGlzcG9zYWJsZVN0YWNrID0gbmV3IGRpc3Bvc2FibGVzdGFja18xLkFzeW5jRGlzcG9zYWJsZVN0YWNrKCk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucz8uZGlzcG9zZU9uUHJvY2Vzc1Rlcm1pbmF0ZSkge1xuICAgICAgICAgICAgICAgICgwLCB1dGlsc19qc18xLmVuc3VyZURpc3Bvc2FibGVTdGFja1JlZ2lzdGVyZWRGb3JUZXJtaW5hdGVFdmVudHMpKF9kaXNwb3NhYmxlU3RhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX2Rpc3Bvc2FibGVTdGFjay5kZWZlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHdhaXRVbnRpbFByb21pc2VzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQod2FpdFVudGlsUHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFVudGlsUHJvbWlzZXMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2FpdFVudGlsUHJvbWlzZXMuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9kaXNwb3NhYmxlU3RhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhaXRVbnRpbChtYXliZVByb21pc2UpIHtcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGRpc3Bvc2FibGUgc3RhY2sgaXMgY3JlYXRlZFxuICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNQcm9taXNlKShtYXliZVByb21pc2UpKSB7XG4gICAgICAgICAgICBlbnN1cmVEaXNwb3NhYmxlU3RhY2soKTtcbiAgICAgICAgICAgIHdhaXRVbnRpbFByb21pc2VzLmFkZChtYXliZVByb21pc2UpO1xuICAgICAgICAgICAgbWF5YmVQcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHdhaXRVbnRpbFByb21pc2VzLmRlbGV0ZShtYXliZVByb21pc2UpO1xuICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmV4cGVjdGVkIGVycm9yIHdoaWxlIHdhaXRpbmc6ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWApO1xuICAgICAgICAgICAgICAgIHdhaXRVbnRpbFByb21pc2VzLmRlbGV0ZShtYXliZVByb21pc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnM/LnBsdWdpbnMgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiBvcHRpb25zLnBsdWdpbnMpIHtcbiAgICAgICAgICAgIGlmIChwbHVnaW4uaW5zdHJ1bWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaW5zdHJ1bWVudGF0aW9uID0gaW5zdHJ1bWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIGluc3RydW1lbnRhdGlvbl8xLmNoYWluKShpbnN0cnVtZW50YXRpb24sIHBsdWdpbi5pbnN0cnVtZW50YXRpb24pXG4gICAgICAgICAgICAgICAgICAgIDogcGx1Z2luLmluc3RydW1lbnRhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwbHVnaW4ub25SZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgb25SZXF1ZXN0SG9va3MucHVzaChwbHVnaW4ub25SZXF1ZXN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwbHVnaW4ub25SZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIG9uUmVzcG9uc2VIb29rcy5wdXNoKHBsdWdpbi5vblJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2VGbiA9IHBsdWdpbltkaXNwb3NhYmxlc3RhY2tfMS5EaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXTtcbiAgICAgICAgICAgIGlmIChkaXNwb3NlRm4pIHtcbiAgICAgICAgICAgICAgICBlbnN1cmVEaXNwb3NhYmxlU3RhY2soKS5kZWZlcihkaXNwb3NlRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYXN5bmNEaXNwb3NlRm4gPSBwbHVnaW5bZGlzcG9zYWJsZXN0YWNrXzEuRGlzcG9zYWJsZVN5bWJvbHMuYXN5bmNEaXNwb3NlXTtcbiAgICAgICAgICAgIGlmIChhc3luY0Rpc3Bvc2VGbikge1xuICAgICAgICAgICAgICAgIGVuc3VyZURpc3Bvc2FibGVTdGFjaygpLmRlZmVyKGFzeW5jRGlzcG9zZUZuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwbHVnaW4ub25EaXNwb3NlKSB7XG4gICAgICAgICAgICAgICAgZW5zdXJlRGlzcG9zYWJsZVN0YWNrKCkuZGVmZXIocGx1Z2luLm9uRGlzcG9zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGhhbmRsZVJlcXVlc3QgPSBvblJlcXVlc3RIb29rcy5sZW5ndGggPiAwIHx8IG9uUmVzcG9uc2VIb29rcy5sZW5ndGggPiAwXG4gICAgICAgID8gZnVuY3Rpb24gaGFuZGxlUmVxdWVzdChyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KSB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdEhhbmRsZXIgPSBnaXZlbkhhbmRsZVJlcXVlc3Q7XG4gICAgICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgICAgICBpZiAob25SZXF1ZXN0SG9va3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVhcmx5UmVzcG9uc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB1cmwgPSByZXF1ZXN0WydwYXJzZWRVcmwnXSB8fFxuICAgICAgICAgICAgICAgIG5ldyBQcm94eShFTVBUWV9PQkpFQ1QsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KF90YXJnZXQsIHByb3AsIF9yZWNlaXZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gbmV3IGZldGNoQVBJLlVSTChyZXF1ZXN0LnVybCwgJ2h0dHA6Ly9sb2NhbGhvc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LmdldCh1cmwsIHByb3AsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIGlmIChvblJlc3BvbnNlSG9va3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+ICgwLCB1dGlsc19qc18xLml0ZXJhdGVBc3luY1ZvaWQpKG9uUmVzcG9uc2VIb29rcywgb25SZXNwb25zZUhvb2sgPT4gb25SZXNwb25zZUhvb2soe1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2UobmV3UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gbmV3UmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZldGNoQVBJLFxuICAgICAgICAgICAgICAgIH0pKSwgKCkgPT4gcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlRWFybHlSZXNwb25zZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KSwgaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+ICgwLCB1dGlsc19qc18xLml0ZXJhdGVBc3luY1ZvaWQpKG9uUmVxdWVzdEhvb2tzLCAob25SZXF1ZXN0SG9vaywgc3RvcEVhcmx5KSA9PiBvblJlcXVlc3RIb29rKHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIHNldFJlcXVlc3QobmV3UmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbmV3UmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlcnZlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgZmV0Y2hBUEksXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIHJlcXVlc3RIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHNldFJlcXVlc3RIYW5kbGVyKG5ld1JlcXVlc3RIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIYW5kbGVyID0gbmV3UmVxdWVzdEhhbmRsZXI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbmRSZXNwb25zZShuZXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ld1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BFYXJseSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pKSwgaGFuZGxlRWFybHlSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgOiBnaXZlbkhhbmRsZVJlcXVlc3Q7XG4gICAgaWYgKGluc3RydW1lbnRhdGlvbj8ucmVxdWVzdCkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3RIYW5kbGVyID0gaGFuZGxlUmVxdWVzdDtcbiAgICAgICAgaGFuZGxlUmVxdWVzdCA9IChyZXF1ZXN0LCBpbml0aWFsQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBpbnN0cnVtZW50YXRpb25fMS5nZXRJbnN0cnVtZW50ZWQpKHsgcmVxdWVzdCB9KS5hc3luY0ZuKGluc3RydW1lbnRhdGlvbi5yZXF1ZXN0LCBvcmlnaW5hbFJlcXVlc3RIYW5kbGVyKShyZXF1ZXN0LCBpbml0aWFsQ29udGV4dCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIG9uIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cbiAgICBmdW5jdGlvbiBoYW5kbGVOb2RlUmVxdWVzdChub2RlUmVxdWVzdCwgLi4uY3R4KSB7XG4gICAgICAgIGNvbnN0IHNlcnZlckNvbnRleHQgPSBjdHgubGVuZ3RoID4gMSA/ICgwLCB1dGlsc19qc18xLmNvbXBsZXRlQXNzaWduKSguLi5jdHgpIDogY3R4WzBdIHx8IHt9O1xuICAgICAgICAvLyBFbnN1cmUgYHdhaXRVbnRpbGAgaXMgYXZhaWxhYmxlIGluIHRoZSBzZXJ2ZXIgY29udGV4dFxuICAgICAgICBpZiAoIXNlcnZlckNvbnRleHQud2FpdFVudGlsKSB7XG4gICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LndhaXRVbnRpbCA9IHdhaXRVbnRpbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gKDAsIHV0aWxzX2pzXzEubm9ybWFsaXplTm9kZVJlcXVlc3QpKG5vZGVSZXF1ZXN0LCBmZXRjaEFQSSwgdW5kZWZpbmVkLCB1c2VDdXN0b21BYm9ydEN0cmwpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlTm9kZVJlcXVlc3RBbmRSZXNwb25zZShub2RlUmVxdWVzdCwgbm9kZVJlc3BvbnNlT3JDb250YWluZXIsIC4uLmN0eCkge1xuICAgICAgICBjb25zdCBub2RlUmVzcG9uc2UgPSBub2RlUmVzcG9uc2VPckNvbnRhaW5lci5yYXcgfHwgbm9kZVJlc3BvbnNlT3JDb250YWluZXI7XG4gICAgICAgIGNvbnN0IHNlcnZlckNvbnRleHQgPSBjdHgubGVuZ3RoID4gMSA/ICgwLCB1dGlsc19qc18xLmNvbXBsZXRlQXNzaWduKSguLi5jdHgpIDogY3R4WzBdIHx8IHt9O1xuICAgICAgICAvLyBFbnN1cmUgYHdhaXRVbnRpbGAgaXMgYXZhaWxhYmxlIGluIHRoZSBzZXJ2ZXIgY29udGV4dFxuICAgICAgICBpZiAoIXNlcnZlckNvbnRleHQud2FpdFVudGlsKSB7XG4gICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LndhaXRVbnRpbCA9IHdhaXRVbnRpbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gKDAsIHV0aWxzX2pzXzEubm9ybWFsaXplTm9kZVJlcXVlc3QpKG5vZGVSZXF1ZXN0LCBmZXRjaEFQSSwgbm9kZVJlc3BvbnNlLCB1c2VDdXN0b21BYm9ydEN0cmwpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdExpc3RlbmVyKG5vZGVSZXF1ZXN0LCBub2RlUmVzcG9uc2UsIC4uLmN0eCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0U2VydmVyQ29udGV4dCA9IHtcbiAgICAgICAgICAgIHJlcTogbm9kZVJlcXVlc3QsXG4gICAgICAgICAgICByZXM6IG5vZGVSZXNwb25zZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS51bmZha2VQcm9taXNlKSgoMCwgdXdlYnNvY2tldHNfanNfMS5mYWtlUHJvbWlzZSkoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gaGFuZGxlTm9kZVJlcXVlc3RBbmRSZXNwb25zZShub2RlUmVxdWVzdCwgbm9kZVJlc3BvbnNlLCBkZWZhdWx0U2VydmVyQ29udGV4dCwgLi4uY3R4KSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gKDAsIHV0aWxzX2pzXzEuaGFuZGxlRXJyb3JGcm9tUmVxdWVzdEhhbmRsZXIpKGVyciwgZmV0Y2hBUEkuUmVzcG9uc2UpKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKDAsIHV0aWxzX2pzXzEuc2VuZE5vZGVSZXNwb25zZSkocmVzcG9uc2UsIG5vZGVSZXNwb25zZSwgbm9kZVJlcXVlc3QsIHVzZVNpbmdsZVdyaXRlSGVhZCkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoYFVuZXhwZWN0ZWQgZXJyb3Igd2hpbGUgaGFuZGxpbmcgcmVxdWVzdDogJHtlcnIubWVzc2FnZSB8fCBlcnJ9YCkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVVdTKHJlcywgcmVxLCAuLi5jdHgpIHtcbiAgICAgICAgY29uc3QgZGVmYXVsdFNlcnZlckNvbnRleHQgPSB7XG4gICAgICAgICAgICByZXMsXG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICB3YWl0VW50aWwsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ3R4UGFydHMgPSBjdHguZmlsdGVyKHBhcnRDdHggPT4gcGFydEN0eCAhPSBudWxsKTtcbiAgICAgICAgY29uc3Qgc2VydmVyQ29udGV4dCA9IGZpbHRlcmVkQ3R4UGFydHMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyAoMCwgdXRpbHNfanNfMS5jb21wbGV0ZUFzc2lnbikoZGVmYXVsdFNlcnZlckNvbnRleHQsIC4uLmN0eClcbiAgICAgICAgICAgIDogZGVmYXVsdFNlcnZlckNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB1c2VDdXN0b21BYm9ydEN0cmxcbiAgICAgICAgICAgID8gKDAsIHV0aWxzX2pzXzEuY3JlYXRlQ3VzdG9tQWJvcnRDb250cm9sbGVyU2lnbmFsKSgpXG4gICAgICAgICAgICA6IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxSZXNFbmQgPSByZXMuZW5kLmJpbmQocmVzKTtcbiAgICAgICAgbGV0IHJlc0VuZGVkID0gZmFsc2U7XG4gICAgICAgIHJlcy5lbmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcmVzRW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVzRW5kKGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvcmlnaW5hbE9uQWJvcnRlZCA9IHJlcy5vbkFib3J0ZWQuYmluZChyZXMpO1xuICAgICAgICBvcmlnaW5hbE9uQWJvcnRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXMub25BYm9ydGVkID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGNiLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSAoMCwgdXdlYnNvY2tldHNfanNfMS5nZXRSZXF1ZXN0RnJvbVVXU1JlcXVlc3QpKHtcbiAgICAgICAgICAgIHJlcSxcbiAgICAgICAgICAgIHJlcyxcbiAgICAgICAgICAgIGZldGNoQVBJLFxuICAgICAgICAgICAgY29udHJvbGxlcixcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBoYW5kbGVSZXF1ZXN0KHJlcXVlc3QsIHNlcnZlckNvbnRleHQpLCByZXNwb25zZSA9PiByZXNwb25zZSwgZXJyID0+ICgwLCB1dGlsc19qc18xLmhhbmRsZUVycm9yRnJvbVJlcXVlc3RIYW5kbGVyKShlcnIsIGZldGNoQVBJLlJlc3BvbnNlKSksIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmICghY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCAmJiAhcmVzRW5kZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gKDAsIHV3ZWJzb2NrZXRzX2pzXzEuc2VuZFJlc3BvbnNlVG9Vd3NPcHRzKShyZXMsIHJlc3BvbnNlLCBjb250cm9sbGVyLCBmZXRjaEFQSSksIHIgPT4gciwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5leHBlY3RlZCBlcnJvciB3aGlsZSBoYW5kbGluZyByZXF1ZXN0OiAke2Vyci5tZXNzYWdlIHx8IGVycn1gKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50KGV2ZW50LCAuLi5jdHgpIHtcbiAgICAgICAgaWYgKCFldmVudC5yZXNwb25kV2l0aCB8fCAhZXZlbnQucmVxdWVzdCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgRmV0Y2hFdmVudCwgZ290ICR7ZXZlbnR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVyZWRDdHhQYXJ0cyA9IGN0eC5maWx0ZXIocGFydEN0eCA9PiBwYXJ0Q3R4ICE9IG51bGwpO1xuICAgICAgICBjb25zdCBzZXJ2ZXJDb250ZXh0ID0gZmlsdGVyZWRDdHhQYXJ0cy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/ICgwLCB1dGlsc19qc18xLmNvbXBsZXRlQXNzaWduKSh7fSwgZXZlbnQsIC4uLmZpbHRlcmVkQ3R4UGFydHMpXG4gICAgICAgICAgICA6ICgwLCB1dGlsc19qc18xLmlzb2xhdGVPYmplY3QpKGV2ZW50KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UkID0gaGFuZGxlUmVxdWVzdChldmVudC5yZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgZXZlbnQucmVzcG9uZFdpdGgocmVzcG9uc2UkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdFdpdGhXYWl0VW50aWwocmVxdWVzdCwgLi4uY3R4KSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ3R4UGFydHMgPSBjdHguZmlsdGVyKHBhcnRDdHggPT4gcGFydEN0eCAhPSBudWxsKTtcbiAgICAgICAgY29uc3Qgc2VydmVyQ29udGV4dCA9IGZpbHRlcmVkQ3R4UGFydHMubGVuZ3RoID4gMVxuICAgICAgICAgICAgPyAoMCwgdXRpbHNfanNfMS5jb21wbGV0ZUFzc2lnbikoe30sIC4uLmZpbHRlcmVkQ3R4UGFydHMpXG4gICAgICAgICAgICA6ICgwLCB1dGlsc19qc18xLmlzb2xhdGVPYmplY3QpKGZpbHRlcmVkQ3R4UGFydHNbMF0sIGZpbHRlcmVkQ3R4UGFydHNbMF0gPT0gbnVsbCB8fCBmaWx0ZXJlZEN0eFBhcnRzWzBdLndhaXRVbnRpbCA9PSBudWxsXG4gICAgICAgICAgICAgICAgPyB3YWl0VW50aWxcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0KHJlcXVlc3QsIHNlcnZlckNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBmZXRjaEZuID0gKGlucHV0LCAuLi5tYXliZUN0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyB8fCAnaHJlZicgaW4gaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IFtpbml0T3JDdHgsIC4uLnJlc3RPZkN0eF0gPSBtYXliZUN0eDtcbiAgICAgICAgICAgIGlmICgoMCwgdXRpbHNfanNfMS5pc1JlcXVlc3RJbml0KShpbml0T3JDdHgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBmZXRjaEFQSS5SZXF1ZXN0KGlucHV0LCBpbml0T3JDdHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyQgPSBoYW5kbGVSZXF1ZXN0V2l0aFdhaXRVbnRpbChyZXF1ZXN0LCAuLi5yZXN0T2ZDdHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IGluaXRPckN0eC5zaWduYWw7XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuaGFuZGxlQWJvcnRTaWduYWxBbmRQcm9taXNlUmVzcG9uc2UpKHJlcyQsIHNpZ25hbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXMkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBmZXRjaEFQSS5SZXF1ZXN0KGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0V2l0aFdhaXRVbnRpbChyZXF1ZXN0LCAuLi5tYXliZUN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzJCA9IGhhbmRsZVJlcXVlc3RXaXRoV2FpdFVudGlsKGlucHV0LCAuLi5tYXliZUN0eCk7XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5oYW5kbGVBYm9ydFNpZ25hbEFuZFByb21pc2VSZXNwb25zZSkocmVzJCwgaW5wdXQuc2lnbmFsKTtcbiAgICB9O1xuICAgIGNvbnN0IGdlbmVyaWNSZXF1ZXN0SGFuZGxlciA9IChpbnB1dCwgLi4ubWF5YmVDdHgpID0+IHtcbiAgICAgICAgLy8gSWYgaXQgaXMgYSBOb2RlIHJlcXVlc3RcbiAgICAgICAgY29uc3QgW2luaXRPckN0eE9yUmVzLCAuLi5yZXN0T2ZDdHhdID0gbWF5YmVDdHg7XG4gICAgICAgIGlmICgoMCwgdXRpbHNfanNfMS5pc05vZGVSZXF1ZXN0KShpbnB1dCkpIHtcbiAgICAgICAgICAgIGlmICghKDAsIHV0aWxzX2pzXzEuaXNTZXJ2ZXJSZXNwb25zZSkoaW5pdE9yQ3R4T3JSZXMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgU2VydmVyUmVzcG9uc2UsIGdvdCAke2luaXRPckN0eE9yUmVzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlcXVlc3RMaXN0ZW5lcihpbnB1dCwgaW5pdE9yQ3R4T3JSZXMsIC4uLnJlc3RPZkN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCB1d2Vic29ja2V0c19qc18xLmlzVVdTUmVzcG9uc2UpKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVVXUyhpbnB1dCwgaW5pdE9yQ3R4T3JSZXMsIC4uLnJlc3RPZkN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCB1dGlsc19qc18xLmlzU2VydmVyUmVzcG9uc2UpKGluaXRPckN0eE9yUmVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignR290IE5vZGUgcmVzcG9uc2Ugd2l0aG91dCBOb2RlIHJlcXVlc3QnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJcyBpbnB1dCBhIGNvbnRhaW5lciBvYmplY3Qgb3ZlciBSZXF1ZXN0P1xuICAgICAgICBpZiAoaXNSZXF1ZXN0QWNjZXNzaWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIC8vIElzIGl0IEZldGNoRXZlbnQ/XG4gICAgICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNGZXRjaEV2ZW50KShpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlRXZlbnQoaW5wdXQsIC4uLm1heWJlQ3R4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEluIHRoaXMgaW5wdXQgaXMgYWxzbyB0aGUgY29udGV4dFxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlcXVlc3RXaXRoV2FpdFVudGlsKGlucHV0LnJlcXVlc3QsIGlucHV0LCAuLi5tYXliZUN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gT3IgaXMgaXQgUmVxdWVzdCBpdHNlbGY/XG4gICAgICAgIC8vIFRoZW4gY3R4IGlzIHByZXNlbnQgYW5kIGl0IGlzIHRoZSBjb250ZXh0XG4gICAgICAgIHJldHVybiBmZXRjaEZuKGlucHV0LCAuLi5tYXliZUN0eCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGFwdGVyT2JqID0ge1xuICAgICAgICBoYW5kbGVSZXF1ZXN0OiBoYW5kbGVSZXF1ZXN0V2l0aFdhaXRVbnRpbCxcbiAgICAgICAgZmV0Y2g6IGZldGNoRm4sXG4gICAgICAgIGhhbmRsZU5vZGVSZXF1ZXN0LFxuICAgICAgICBoYW5kbGVOb2RlUmVxdWVzdEFuZFJlc3BvbnNlLFxuICAgICAgICByZXF1ZXN0TGlzdGVuZXIsXG4gICAgICAgIGhhbmRsZUV2ZW50LFxuICAgICAgICBoYW5kbGVVV1MsXG4gICAgICAgIGhhbmRsZTogZ2VuZXJpY1JlcXVlc3RIYW5kbGVyLFxuICAgICAgICBnZXQgZGlzcG9zYWJsZVN0YWNrKCkge1xuICAgICAgICAgICAgcmV0dXJuIGVuc3VyZURpc3Bvc2FibGVTdGFjaygpO1xuICAgICAgICB9LFxuICAgICAgICBbZGlzcG9zYWJsZXN0YWNrXzEuRGlzcG9zYWJsZVN5bWJvbHMuYXN5bmNEaXNwb3NlXSgpIHtcbiAgICAgICAgICAgIGlmIChfZGlzcG9zYWJsZVN0YWNrICYmICFfZGlzcG9zYWJsZVN0YWNrLmRpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9kaXNwb3NhYmxlU3RhY2suZGlzcG9zZUFzeW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV3ZWJzb2NrZXRzX2pzXzEuZmFrZVByb21pc2UpKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICBpZiAoX2Rpc3Bvc2FibGVTdGFjayAmJiAhX2Rpc3Bvc2FibGVTdGFjay5kaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfZGlzcG9zYWJsZVN0YWNrLmRpc3Bvc2VBc3luYygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgwLCB1d2Vic29ja2V0c19qc18xLmZha2VQcm9taXNlKSgpO1xuICAgICAgICB9LFxuICAgICAgICB3YWl0VW50aWwsXG4gICAgfTtcbiAgICBjb25zdCBzZXJ2ZXJBZGFwdGVyID0gbmV3IFByb3h5KGdlbmVyaWNSZXF1ZXN0SGFuZGxlciwge1xuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSBhbGwgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGhhbmRsZXIgZnVuY3Rpb24gYW5kIHRoZSBzZXJ2ZXIgaW5zdGFuY2VcbiAgICAgICAgaGFzOiAoXywgcHJvcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChwcm9wIGluIGFkYXB0ZXJPYmogfHxcbiAgICAgICAgICAgICAgICBwcm9wIGluIGdlbmVyaWNSZXF1ZXN0SGFuZGxlciB8fFxuICAgICAgICAgICAgICAgIChzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdCAmJiBwcm9wIGluIHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogKF8sIHByb3ApID0+IHtcbiAgICAgICAgICAgIC8vIFNvbWVob3cgRGVubyBhbmQgTm9kZSAyNCBkb24ndCBsaWtlIGJvdW5kIGRpc3Bvc2UgZnVuY3Rpb25zXG4gICAgICAgICAgICBpZiAoZ2xvYmFsVGhpcy5EZW5vIHx8IHByb3AgPT09IFN5bWJvbC5hc3luY0Rpc3Bvc2UgfHwgcHJvcCA9PT0gU3ltYm9sLmRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyUHJvcCA9IFJlZmxlY3QuZ2V0KGFkYXB0ZXJPYmosIHByb3AsIGFkYXB0ZXJPYmopO1xuICAgICAgICAgICAgICAgIGlmIChhZGFwdGVyUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRhcHRlclByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWRhcHRlclByb3AgPSBhZGFwdGVyT2JqW3Byb3BdO1xuICAgICAgICAgICAgaWYgKGFkYXB0ZXJQcm9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkYXB0ZXJQcm9wLmJpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkYXB0ZXJQcm9wLmJpbmQoYWRhcHRlck9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhZGFwdGVyUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVByb3AgPSBnZW5lcmljUmVxdWVzdEhhbmRsZXJbcHJvcF07XG4gICAgICAgICAgICBpZiAoaGFuZGxlUHJvcCkge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVQcm9wLmJpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVByb3AuYmluZChnZW5lcmljUmVxdWVzdEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0UHJvcCA9IHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdFByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0UHJvcC5iaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5lZFZhbCA9IHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0W3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5lZFZhbCA9PT0gc2VydmVyQWRhcHRlckJhc2VPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlckFkYXB0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5lZFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0UHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5KF8sIF9fLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJpY1JlcXVlc3RIYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBzZXJ2ZXJBZGFwdGVyO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/createServerAdapter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DisposableSymbols = exports.Response = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\ntslib_1.__exportStar(__webpack_require__(/*! ./createServerAdapter.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/createServerAdapter.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./types.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/types.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/utils.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./plugins/types.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/types.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./plugins/useCors.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useCors.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./plugins/useErrorHandling.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useErrorHandling.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./plugins/useContentEncoding.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useContentEncoding.js\"), exports);\ntslib_1.__exportStar(__webpack_require__(/*! ./uwebsockets.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/uwebsockets.js\"), exports);\nvar fetch_1 = __webpack_require__(/*! @whatwg-node/fetch */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js\");\nObject.defineProperty(exports, \"Response\", ({ enumerable: true, get: function () { return fetch_1.Response; } }));\nvar disposablestack_1 = __webpack_require__(/*! @whatwg-node/disposablestack */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js\");\nObject.defineProperty(exports, \"DisposableSymbols\", ({ enumerable: true, get: function () { return disposablestack_1.DisposableSymbols; } }));\ntslib_1.__exportStar(__webpack_require__(/*! @envelop/instrumentation */ \"(rsc)/./node_modules/@envelop/instrumentation/cjs/index.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QseUJBQXlCLEdBQUcsZ0JBQWdCO0FBQzVDLGdCQUFnQixtQkFBTyxDQUFDLHVEQUFPO0FBQy9CLHFCQUFxQixtQkFBTyxDQUFDLHFHQUEwQjtBQUN2RCxxQkFBcUIsbUJBQU8sQ0FBQyx5RUFBWTtBQUN6QyxxQkFBcUIsbUJBQU8sQ0FBQyx5RUFBWTtBQUN6QyxxQkFBcUIsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDakQscUJBQXFCLG1CQUFPLENBQUMsNkZBQXNCO0FBQ25ELHFCQUFxQixtQkFBTyxDQUFDLCtHQUErQjtBQUM1RCxxQkFBcUIsbUJBQU8sQ0FBQyxtSEFBaUM7QUFDOUQscUJBQXFCLG1CQUFPLENBQUMscUZBQWtCO0FBQy9DLGNBQWMsbUJBQU8sQ0FBQyx5RkFBb0I7QUFDMUMsNENBQTJDLEVBQUUscUNBQXFDLDRCQUE0QixFQUFDO0FBQy9HLHdCQUF3QixtQkFBTyxDQUFDLG9HQUE4QjtBQUM5RCxxREFBb0QsRUFBRSxxQ0FBcUMsK0NBQStDLEVBQUM7QUFDM0kscUJBQXFCLG1CQUFPLENBQUMsNEZBQTBCIiwic291cmNlcyI6WyIvaG9tZS9jZXRlYy9Ob2RlUHJvamVjdHMvYWd1aV90ZXN0L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvc2VydmVyL2Nqcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRGlzcG9zYWJsZVN5bWJvbHMgPSBleHBvcnRzLlJlc3BvbnNlID0gdm9pZCAwO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2NyZWF0ZVNlcnZlckFkYXB0ZXIuanNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXMuanNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdXRpbHMuanNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcGx1Z2lucy90eXBlcy5qc1wiKSwgZXhwb3J0cyk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiLi9wbHVnaW5zL3VzZUNvcnMuanNcIiksIGV4cG9ydHMpO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vcGx1Z2lucy91c2VFcnJvckhhbmRsaW5nLmpzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3BsdWdpbnMvdXNlQ29udGVudEVuY29kaW5nLmpzXCIpLCBleHBvcnRzKTtcbnRzbGliXzEuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL3V3ZWJzb2NrZXRzLmpzXCIpLCBleHBvcnRzKTtcbnZhciBmZXRjaF8xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9mZXRjaFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlc3BvbnNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmZXRjaF8xLlJlc3BvbnNlOyB9IH0pO1xudmFyIGRpc3Bvc2FibGVzdGFja18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2tcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJEaXNwb3NhYmxlU3ltYm9sc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzcG9zYWJsZXN0YWNrXzEuRGlzcG9zYWJsZVN5bWJvbHM7IH0gfSk7XG50c2xpYl8xLl9fZXhwb3J0U3RhcihyZXF1aXJlKFwiQGVudmVsb3AvaW5zdHJ1bWVudGF0aW9uXCIpLCBleHBvcnRzKTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/types.js":
/*!***************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/plugins/types.js ***!
  \***************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useContentEncoding.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/plugins/useContentEncoding.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.useContentEncoding = useContentEncoding;\nconst utils_js_1 = __webpack_require__(/*! ../utils.js */ \"(rsc)/./node_modules/@whatwg-node/server/cjs/utils.js\");\nconst emptyEncodings = ['none', 'identity'];\nfunction useContentEncoding() {\n    return {\n        onRequest({ request, setRequest, fetchAPI, endResponse }) {\n            const contentEncodingHeader = request.headers.get('content-encoding');\n            if (contentEncodingHeader &&\n                contentEncodingHeader !== 'none' &&\n                contentEncodingHeader !== 'identity' &&\n                request.body) {\n                const contentEncodings = contentEncodingHeader\n                    .split(',')\n                    .filter(encoding => !emptyEncodings.includes(encoding));\n                if (contentEncodings.length) {\n                    if (!contentEncodings.every(encoding => (0, utils_js_1.getSupportedEncodings)(fetchAPI).includes(encoding))) {\n                        endResponse(new fetchAPI.Response(`Unsupported 'Content-Encoding': ${contentEncodingHeader}`, {\n                            status: 415,\n                            statusText: 'Unsupported Media Type',\n                        }));\n                        return;\n                    }\n                    let newBody = request.body;\n                    for (const contentEncoding of contentEncodings) {\n                        newBody = request.body.pipeThrough(new fetchAPI.DecompressionStream(contentEncoding));\n                    }\n                    setRequest(new fetchAPI.Request(request.url, {\n                        body: newBody,\n                        cache: request.cache,\n                        credentials: request.credentials,\n                        headers: request.headers,\n                        integrity: request.integrity,\n                        keepalive: request.keepalive,\n                        method: request.method,\n                        mode: request.mode,\n                        redirect: request.redirect,\n                        referrer: request.referrer,\n                        referrerPolicy: request.referrerPolicy,\n                        signal: request.signal,\n                        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                        // @ts-ignore - not in the TS types yet\n                        duplex: 'half',\n                    }));\n                }\n            }\n        },\n        onResponse({ request, response, setResponse, fetchAPI }) {\n            const acceptEncoding = request.headers.get('accept-encoding');\n            if (acceptEncoding) {\n                const encodings = acceptEncoding.split(',');\n                if (encodings.length && response.body) {\n                    const supportedEncoding = encodings.find(encoding => (0, utils_js_1.getSupportedEncodings)(fetchAPI).includes(encoding));\n                    if (supportedEncoding) {\n                        const compressionStream = new fetchAPI.CompressionStream(supportedEncoding);\n                        const newHeaders = new fetchAPI.Headers(response.headers);\n                        newHeaders.set('content-encoding', supportedEncoding);\n                        newHeaders.delete('content-length');\n                        const compressedBody = response.body.pipeThrough(compressionStream);\n                        const compressedResponse = new fetchAPI.Response(compressedBody, {\n                            status: response.status,\n                            statusText: response.statusText,\n                            headers: newHeaders,\n                        });\n                        utils_js_1.decompressedResponseMap.set(compressedResponse, response);\n                        setResponse(compressedResponse);\n                    }\n                }\n            }\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvcGx1Z2lucy91c2VDb250ZW50RW5jb2RpbmcuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCO0FBQzFCLG1CQUFtQixtQkFBTyxDQUFDLDBFQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0Q0FBNEM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsc0JBQXNCO0FBQ25IO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsMENBQTBDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9zZXJ2ZXIvY2pzL3BsdWdpbnMvdXNlQ29udGVudEVuY29kaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy51c2VDb250ZW50RW5jb2RpbmcgPSB1c2VDb250ZW50RW5jb2Rpbmc7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xuY29uc3QgZW1wdHlFbmNvZGluZ3MgPSBbJ25vbmUnLCAnaWRlbnRpdHknXTtcbmZ1bmN0aW9uIHVzZUNvbnRlbnRFbmNvZGluZygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvblJlcXVlc3QoeyByZXF1ZXN0LCBzZXRSZXF1ZXN0LCBmZXRjaEFQSSwgZW5kUmVzcG9uc2UgfSkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudEVuY29kaW5nSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC1lbmNvZGluZycpO1xuICAgICAgICAgICAgaWYgKGNvbnRlbnRFbmNvZGluZ0hlYWRlciAmJlxuICAgICAgICAgICAgICAgIGNvbnRlbnRFbmNvZGluZ0hlYWRlciAhPT0gJ25vbmUnICYmXG4gICAgICAgICAgICAgICAgY29udGVudEVuY29kaW5nSGVhZGVyICE9PSAnaWRlbnRpdHknICYmXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudEVuY29kaW5ncyA9IGNvbnRlbnRFbmNvZGluZ0hlYWRlclxuICAgICAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGVuY29kaW5nID0+ICFlbXB0eUVuY29kaW5ncy5pbmNsdWRlcyhlbmNvZGluZykpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50RW5jb2RpbmdzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRFbmNvZGluZ3MuZXZlcnkoZW5jb2RpbmcgPT4gKDAsIHV0aWxzX2pzXzEuZ2V0U3VwcG9ydGVkRW5jb2RpbmdzKShmZXRjaEFQSSkuaW5jbHVkZXMoZW5jb2RpbmcpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kUmVzcG9uc2UobmV3IGZldGNoQVBJLlJlc3BvbnNlKGBVbnN1cHBvcnRlZCAnQ29udGVudC1FbmNvZGluZyc6ICR7Y29udGVudEVuY29kaW5nSGVhZGVyfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IDQxNSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0JvZHkgPSByZXF1ZXN0LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29udGVudEVuY29kaW5nIG9mIGNvbnRlbnRFbmNvZGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0JvZHkgPSByZXF1ZXN0LmJvZHkucGlwZVRocm91Z2gobmV3IGZldGNoQVBJLkRlY29tcHJlc3Npb25TdHJlYW0oY29udGVudEVuY29kaW5nKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0UmVxdWVzdChuZXcgZmV0Y2hBUEkuUmVxdWVzdChyZXF1ZXN0LnVybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogbmV3Qm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiByZXF1ZXN0LmNhY2hlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IHJlcXVlc3QuY3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6IHJlcXVlc3QuaW50ZWdyaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlOiByZXF1ZXN0LmtlZXBhbGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiByZXF1ZXN0Lm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdDogcmVxdWVzdC5yZWRpcmVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZmVycmVyOiByZXF1ZXN0LnJlZmVycmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6IHJlcXVlc3QucmVmZXJyZXJQb2xpY3ksXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSAtIG5vdCBpbiB0aGUgVFMgdHlwZXMgeWV0XG4gICAgICAgICAgICAgICAgICAgICAgICBkdXBsZXg6ICdoYWxmJyxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25SZXNwb25zZSh7IHJlcXVlc3QsIHJlc3BvbnNlLCBzZXRSZXNwb25zZSwgZmV0Y2hBUEkgfSkge1xuICAgICAgICAgICAgY29uc3QgYWNjZXB0RW5jb2RpbmcgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhY2NlcHQtZW5jb2RpbmcnKTtcbiAgICAgICAgICAgIGlmIChhY2NlcHRFbmNvZGluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuY29kaW5ncyA9IGFjY2VwdEVuY29kaW5nLnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgaWYgKGVuY29kaW5ncy5sZW5ndGggJiYgcmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdXBwb3J0ZWRFbmNvZGluZyA9IGVuY29kaW5ncy5maW5kKGVuY29kaW5nID0+ICgwLCB1dGlsc19qc18xLmdldFN1cHBvcnRlZEVuY29kaW5ncykoZmV0Y2hBUEkpLmluY2x1ZGVzKGVuY29kaW5nKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdXBwb3J0ZWRFbmNvZGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3Npb25TdHJlYW0gPSBuZXcgZmV0Y2hBUEkuQ29tcHJlc3Npb25TdHJlYW0oc3VwcG9ydGVkRW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3SGVhZGVycyA9IG5ldyBmZXRjaEFQSS5IZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SGVhZGVycy5zZXQoJ2NvbnRlbnQtZW5jb2RpbmcnLCBzdXBwb3J0ZWRFbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdIZWFkZXJzLmRlbGV0ZSgnY29udGVudC1sZW5ndGgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbXByZXNzZWRCb2R5ID0gcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChjb21wcmVzc2lvblN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wcmVzc2VkUmVzcG9uc2UgPSBuZXcgZmV0Y2hBUEkuUmVzcG9uc2UoY29tcHJlc3NlZEJvZHksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IG5ld0hlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzX2pzXzEuZGVjb21wcmVzc2VkUmVzcG9uc2VNYXAuc2V0KGNvbXByZXNzZWRSZXNwb25zZSwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2UoY29tcHJlc3NlZFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useContentEncoding.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useCors.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/plugins/useCors.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getCORSHeadersByRequestAndOptions = getCORSHeadersByRequestAndOptions;\nexports.useCORS = useCORS;\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nfunction getCORSHeadersByRequestAndOptions(request, corsOptions) {\n    const currentOrigin = request.headers.get('origin');\n    if (corsOptions === false || currentOrigin == null) {\n        return null;\n    }\n    const headers = {};\n    // If defined origins have '*' or undefined by any means, we should allow all origins\n    if (corsOptions.origin == null ||\n        corsOptions.origin.length === 0 ||\n        corsOptions.origin.includes('*')) {\n        headers['Access-Control-Allow-Origin'] = currentOrigin;\n        // Vary by origin because there are multiple origins\n        headers['Vary'] = 'Origin';\n    }\n    else if (typeof corsOptions.origin === 'string') {\n        // If there is one specific origin is specified, use it directly\n        headers['Access-Control-Allow-Origin'] = corsOptions.origin;\n    }\n    else if (Array.isArray(corsOptions.origin)) {\n        // If there is only one origin defined in the array, consider it as a single one\n        if (corsOptions.origin.length === 1) {\n            headers['Access-Control-Allow-Origin'] = corsOptions.origin[0];\n        }\n        else if (corsOptions.origin.includes(currentOrigin)) {\n            // If origin is available in the headers, use it\n            headers['Access-Control-Allow-Origin'] = currentOrigin;\n            // Vary by origin because there are multiple origins\n            headers['Vary'] = 'Origin';\n        }\n        else {\n            // There is no origin found in the headers, so we should return null\n            headers['Access-Control-Allow-Origin'] = 'null';\n        }\n    }\n    if (corsOptions.methods?.length) {\n        headers['Access-Control-Allow-Methods'] = corsOptions.methods.join(', ');\n    }\n    else {\n        const requestMethod = request.headers.get('access-control-request-method');\n        if (requestMethod) {\n            headers['Access-Control-Allow-Methods'] = requestMethod;\n        }\n    }\n    if (corsOptions.allowedHeaders?.length) {\n        headers['Access-Control-Allow-Headers'] = corsOptions.allowedHeaders.join(', ');\n    }\n    else {\n        const requestHeaders = request.headers.get('access-control-request-headers');\n        if (requestHeaders) {\n            headers['Access-Control-Allow-Headers'] = requestHeaders;\n            if (headers['Vary']) {\n                headers['Vary'] += ', Access-Control-Request-Headers';\n            }\n            else {\n                headers['Vary'] = 'Access-Control-Request-Headers';\n            }\n        }\n    }\n    if (corsOptions.credentials != null) {\n        if (corsOptions.credentials === true) {\n            headers['Access-Control-Allow-Credentials'] = 'true';\n        }\n    }\n    else if (headers['Access-Control-Allow-Origin'] !== '*') {\n        headers['Access-Control-Allow-Credentials'] = 'true';\n    }\n    if (corsOptions.exposedHeaders) {\n        headers['Access-Control-Expose-Headers'] = corsOptions.exposedHeaders.join(', ');\n    }\n    if (corsOptions.maxAge) {\n        headers['Access-Control-Max-Age'] = corsOptions.maxAge.toString();\n    }\n    return headers;\n}\nfunction getCORSResponseHeaders(request, corsOptionsFactory, serverContext) {\n    return (0, promise_helpers_1.handleMaybePromise)(() => corsOptionsFactory(request, serverContext), corsOptions => getCORSHeadersByRequestAndOptions(request, corsOptions));\n}\nfunction useCORS(options) {\n    let corsOptionsFactory = () => ({});\n    if (options != null) {\n        if (typeof options === 'function') {\n            corsOptionsFactory = options;\n        }\n        else if (typeof options === 'object') {\n            const corsOptions = {\n                ...options,\n            };\n            corsOptionsFactory = () => corsOptions;\n        }\n        else if (options === false) {\n            corsOptionsFactory = () => false;\n        }\n    }\n    return {\n        onRequest({ request, fetchAPI, endResponse }) {\n            if (request.method.toUpperCase() === 'OPTIONS') {\n                const response = new fetchAPI.Response(null, {\n                    status: 204,\n                    // Safari (and potentially other browsers) need content-length 0,\n                    // for 204 or they just hang waiting for a body\n                    // see: https://github.com/expressjs/cors/blob/master/lib/index.js#L176\n                    headers: {\n                        'Content-Length': '0',\n                    },\n                });\n                endResponse(response);\n            }\n        },\n        onResponse({ request, serverContext, response }) {\n            return (0, promise_helpers_1.handleMaybePromise)(() => getCORSResponseHeaders(request, corsOptionsFactory, serverContext), headers => {\n                if (headers != null) {\n                    for (const headerName in headers) {\n                        response.headers.set(headerName, headers[headerName]);\n                    }\n                }\n            });\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvcGx1Z2lucy91c2VDb3JzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlDQUF5QztBQUN6QyxlQUFlO0FBQ2YsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZ0NBQWdDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QscUJBQXFCLGtDQUFrQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9zZXJ2ZXIvY2pzL3BsdWdpbnMvdXNlQ29ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Q09SU0hlYWRlcnNCeVJlcXVlc3RBbmRPcHRpb25zID0gZ2V0Q09SU0hlYWRlcnNCeVJlcXVlc3RBbmRPcHRpb25zO1xuZXhwb3J0cy51c2VDT1JTID0gdXNlQ09SUztcbmNvbnN0IHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5mdW5jdGlvbiBnZXRDT1JTSGVhZGVyc0J5UmVxdWVzdEFuZE9wdGlvbnMocmVxdWVzdCwgY29yc09wdGlvbnMpIHtcbiAgICBjb25zdCBjdXJyZW50T3JpZ2luID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnb3JpZ2luJyk7XG4gICAgaWYgKGNvcnNPcHRpb25zID09PSBmYWxzZSB8fCBjdXJyZW50T3JpZ2luID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICAvLyBJZiBkZWZpbmVkIG9yaWdpbnMgaGF2ZSAnKicgb3IgdW5kZWZpbmVkIGJ5IGFueSBtZWFucywgd2Ugc2hvdWxkIGFsbG93IGFsbCBvcmlnaW5zXG4gICAgaWYgKGNvcnNPcHRpb25zLm9yaWdpbiA9PSBudWxsIHx8XG4gICAgICAgIGNvcnNPcHRpb25zLm9yaWdpbi5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgY29yc09wdGlvbnMub3JpZ2luLmluY2x1ZGVzKCcqJykpIHtcbiAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJ10gPSBjdXJyZW50T3JpZ2luO1xuICAgICAgICAvLyBWYXJ5IGJ5IG9yaWdpbiBiZWNhdXNlIHRoZXJlIGFyZSBtdWx0aXBsZSBvcmlnaW5zXG4gICAgICAgIGhlYWRlcnNbJ1ZhcnknXSA9ICdPcmlnaW4nO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY29yc09wdGlvbnMub3JpZ2luID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBJZiB0aGVyZSBpcyBvbmUgc3BlY2lmaWMgb3JpZ2luIGlzIHNwZWNpZmllZCwgdXNlIGl0IGRpcmVjdGx5XG4gICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiddID0gY29yc09wdGlvbnMub3JpZ2luO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvcnNPcHRpb25zLm9yaWdpbikpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25seSBvbmUgb3JpZ2luIGRlZmluZWQgaW4gdGhlIGFycmF5LCBjb25zaWRlciBpdCBhcyBhIHNpbmdsZSBvbmVcbiAgICAgICAgaWYgKGNvcnNPcHRpb25zLm9yaWdpbi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiddID0gY29yc09wdGlvbnMub3JpZ2luWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvcnNPcHRpb25zLm9yaWdpbi5pbmNsdWRlcyhjdXJyZW50T3JpZ2luKSkge1xuICAgICAgICAgICAgLy8gSWYgb3JpZ2luIGlzIGF2YWlsYWJsZSBpbiB0aGUgaGVhZGVycywgdXNlIGl0XG4gICAgICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9IGN1cnJlbnRPcmlnaW47XG4gICAgICAgICAgICAvLyBWYXJ5IGJ5IG9yaWdpbiBiZWNhdXNlIHRoZXJlIGFyZSBtdWx0aXBsZSBvcmlnaW5zXG4gICAgICAgICAgICBoZWFkZXJzWydWYXJ5J10gPSAnT3JpZ2luJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIG9yaWdpbiBmb3VuZCBpbiB0aGUgaGVhZGVycywgc28gd2Ugc2hvdWxkIHJldHVybiBudWxsXG4gICAgICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9ICdudWxsJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29yc09wdGlvbnMubWV0aG9kcz8ubGVuZ3RoKSB7XG4gICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnXSA9IGNvcnNPcHRpb25zLm1ldGhvZHMuam9pbignLCAnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RNZXRob2QgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LW1ldGhvZCcpO1xuICAgICAgICBpZiAocmVxdWVzdE1ldGhvZCkge1xuICAgICAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcyddID0gcmVxdWVzdE1ldGhvZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29yc09wdGlvbnMuYWxsb3dlZEhlYWRlcnM/Lmxlbmd0aCkge1xuICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJ10gPSBjb3JzT3B0aW9ucy5hbGxvd2VkSGVhZGVycy5qb2luKCcsICcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdEhlYWRlcnMgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdhY2Nlc3MtY29udHJvbC1yZXF1ZXN0LWhlYWRlcnMnKTtcbiAgICAgICAgaWYgKHJlcXVlc3RIZWFkZXJzKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJ10gPSByZXF1ZXN0SGVhZGVycztcbiAgICAgICAgICAgIGlmIChoZWFkZXJzWydWYXJ5J10pIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzWydWYXJ5J10gKz0gJywgQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlYWRlcnNbJ1ZhcnknXSA9ICdBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnMnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjb3JzT3B0aW9ucy5jcmVkZW50aWFscyAhPSBudWxsKSB7XG4gICAgICAgIGlmIChjb3JzT3B0aW9ucy5jcmVkZW50aWFscyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnXSA9ICd0cnVlJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSAhPT0gJyonKSB7XG4gICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJ10gPSAndHJ1ZSc7XG4gICAgfVxuICAgIGlmIChjb3JzT3B0aW9ucy5leHBvc2VkSGVhZGVycykge1xuICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1FeHBvc2UtSGVhZGVycyddID0gY29yc09wdGlvbnMuZXhwb3NlZEhlYWRlcnMuam9pbignLCAnKTtcbiAgICB9XG4gICAgaWYgKGNvcnNPcHRpb25zLm1heEFnZSkge1xuICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1NYXgtQWdlJ10gPSBjb3JzT3B0aW9ucy5tYXhBZ2UudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIGhlYWRlcnM7XG59XG5mdW5jdGlvbiBnZXRDT1JTUmVzcG9uc2VIZWFkZXJzKHJlcXVlc3QsIGNvcnNPcHRpb25zRmFjdG9yeSwgc2VydmVyQ29udGV4dCkge1xuICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBjb3JzT3B0aW9uc0ZhY3RvcnkocmVxdWVzdCwgc2VydmVyQ29udGV4dCksIGNvcnNPcHRpb25zID0+IGdldENPUlNIZWFkZXJzQnlSZXF1ZXN0QW5kT3B0aW9ucyhyZXF1ZXN0LCBjb3JzT3B0aW9ucykpO1xufVxuZnVuY3Rpb24gdXNlQ09SUyhvcHRpb25zKSB7XG4gICAgbGV0IGNvcnNPcHRpb25zRmFjdG9yeSA9ICgpID0+ICh7fSk7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvcnNPcHRpb25zRmFjdG9yeSA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBjb3JzT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvcnNPcHRpb25zRmFjdG9yeSA9ICgpID0+IGNvcnNPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb3JzT3B0aW9uc0ZhY3RvcnkgPSAoKSA9PiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBvblJlcXVlc3QoeyByZXF1ZXN0LCBmZXRjaEFQSSwgZW5kUmVzcG9uc2UgfSkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kLnRvVXBwZXJDYXNlKCkgPT09ICdPUFRJT05TJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IGZldGNoQVBJLlJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyMDQsXG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSAoYW5kIHBvdGVudGlhbGx5IG90aGVyIGJyb3dzZXJzKSBuZWVkIGNvbnRlbnQtbGVuZ3RoIDAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciAyMDQgb3IgdGhleSBqdXN0IGhhbmcgd2FpdGluZyBmb3IgYSBib2R5XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2V4cHJlc3Nqcy9jb3JzL2Jsb2IvbWFzdGVyL2xpYi9pbmRleC5qcyNMMTc2XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LUxlbmd0aCc6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlbmRSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVzcG9uc2UoeyByZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0LCByZXNwb25zZSB9KSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gZ2V0Q09SU1Jlc3BvbnNlSGVhZGVycyhyZXF1ZXN0LCBjb3JzT3B0aW9uc0ZhY3RvcnksIHNlcnZlckNvbnRleHQpLCBoZWFkZXJzID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVycyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaGVhZGVyTmFtZSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5oZWFkZXJzLnNldChoZWFkZXJOYW1lLCBoZWFkZXJzW2hlYWRlck5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useCors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useErrorHandling.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/plugins/useErrorHandling.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.HTTPError = void 0;\nexports.createDefaultErrorHandler = createDefaultErrorHandler;\nexports.useErrorHandling = useErrorHandling;\nconst fetch_1 = __webpack_require__(/*! @whatwg-node/fetch */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nfunction createDefaultErrorHandler(ResponseCtor = fetch_1.Response) {\n    return function defaultErrorHandler(e) {\n        if (e.details || e.status || e.headers || e.name === 'HTTPError') {\n            return new ResponseCtor(typeof e.details === 'object' ? JSON.stringify(e.details) : e.message, {\n                status: e.status,\n                headers: e.headers || {},\n            });\n        }\n        console.error(e);\n        return createDefaultErrorResponse(ResponseCtor);\n    };\n}\nfunction createDefaultErrorResponse(ResponseCtor) {\n    if (ResponseCtor.error) {\n        return ResponseCtor.error();\n    }\n    return new ResponseCtor(null, { status: 500 });\n}\nclass HTTPError extends Error {\n    status;\n    message;\n    headers;\n    details;\n    name = 'HTTPError';\n    constructor(status = 500, message, headers = {}, details) {\n        super(message);\n        this.status = status;\n        this.message = message;\n        this.headers = headers;\n        this.details = details;\n        Error.captureStackTrace(this, HTTPError);\n    }\n}\nexports.HTTPError = HTTPError;\nfunction useErrorHandling(onError) {\n    return {\n        onRequest({ requestHandler, setRequestHandler, fetchAPI }) {\n            const errorHandler = onError || createDefaultErrorHandler(fetchAPI.Response);\n            setRequestHandler(function handlerWithErrorHandling(request, serverContext) {\n                return (0, promise_helpers_1.handleMaybePromise)(() => requestHandler(request, serverContext), response => response, e => errorHandler(e, request, serverContext) ||\n                    createDefaultErrorResponse(fetchAPI.Response));\n            });\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvcGx1Z2lucy91c2VFcnJvckhhbmRsaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlCQUFpQjtBQUNqQixpQ0FBaUM7QUFDakMsd0JBQXdCO0FBQ3hCLGdCQUFnQixtQkFBTyxDQUFDLHlGQUFvQjtBQUM1QywwQkFBMEIsbUJBQU8sQ0FBQyxvR0FBOEI7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGFBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esb0JBQW9CLDZDQUE2QztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvcGx1Z2lucy91c2VFcnJvckhhbmRsaW5nLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IVFRQRXJyb3IgPSB2b2lkIDA7XG5leHBvcnRzLmNyZWF0ZURlZmF1bHRFcnJvckhhbmRsZXIgPSBjcmVhdGVEZWZhdWx0RXJyb3JIYW5kbGVyO1xuZXhwb3J0cy51c2VFcnJvckhhbmRsaW5nID0gdXNlRXJyb3JIYW5kbGluZztcbmNvbnN0IGZldGNoXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL2ZldGNoXCIpO1xuY29uc3QgcHJvbWlzZV9oZWxwZXJzXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVyc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRFcnJvckhhbmRsZXIoUmVzcG9uc2VDdG9yID0gZmV0Y2hfMS5SZXNwb25zZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBkZWZhdWx0RXJyb3JIYW5kbGVyKGUpIHtcbiAgICAgICAgaWYgKGUuZGV0YWlscyB8fCBlLnN0YXR1cyB8fCBlLmhlYWRlcnMgfHwgZS5uYW1lID09PSAnSFRUUEVycm9yJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZUN0b3IodHlwZW9mIGUuZGV0YWlscyA9PT0gJ29iamVjdCcgPyBKU09OLnN0cmluZ2lmeShlLmRldGFpbHMpIDogZS5tZXNzYWdlLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiBlLmhlYWRlcnMgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlRGVmYXVsdEVycm9yUmVzcG9uc2UoUmVzcG9uc2VDdG9yKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEVycm9yUmVzcG9uc2UoUmVzcG9uc2VDdG9yKSB7XG4gICAgaWYgKFJlc3BvbnNlQ3Rvci5lcnJvcikge1xuICAgICAgICByZXR1cm4gUmVzcG9uc2VDdG9yLmVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2VDdG9yKG51bGwsIHsgc3RhdHVzOiA1MDAgfSk7XG59XG5jbGFzcyBIVFRQRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgc3RhdHVzO1xuICAgIG1lc3NhZ2U7XG4gICAgaGVhZGVycztcbiAgICBkZXRhaWxzO1xuICAgIG5hbWUgPSAnSFRUUEVycm9yJztcbiAgICBjb25zdHJ1Y3RvcihzdGF0dXMgPSA1MDAsIG1lc3NhZ2UsIGhlYWRlcnMgPSB7fSwgZGV0YWlscykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEhUVFBFcnJvcik7XG4gICAgfVxufVxuZXhwb3J0cy5IVFRQRXJyb3IgPSBIVFRQRXJyb3I7XG5mdW5jdGlvbiB1c2VFcnJvckhhbmRsaW5nKG9uRXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvblJlcXVlc3QoeyByZXF1ZXN0SGFuZGxlciwgc2V0UmVxdWVzdEhhbmRsZXIsIGZldGNoQVBJIH0pIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9ySGFuZGxlciA9IG9uRXJyb3IgfHwgY3JlYXRlRGVmYXVsdEVycm9ySGFuZGxlcihmZXRjaEFQSS5SZXNwb25zZSk7XG4gICAgICAgICAgICBzZXRSZXF1ZXN0SGFuZGxlcihmdW5jdGlvbiBoYW5kbGVyV2l0aEVycm9ySGFuZGxpbmcocmVxdWVzdCwgc2VydmVyQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KSwgcmVzcG9uc2UgPT4gcmVzcG9uc2UsIGUgPT4gZXJyb3JIYW5kbGVyKGUsIHJlcXVlc3QsIHNlcnZlckNvbnRleHQpIHx8XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZURlZmF1bHRFcnJvclJlc3BvbnNlKGZldGNoQVBJLlJlc3BvbnNlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/plugins/useErrorHandling.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/types.js":
/*!*******************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/types.js ***!
  \*******************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/utils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.decompressedResponseMap = exports.iterateAsyncVoid = exports.createDeferredPromise = exports.isPromise = void 0;\nexports.isAsyncIterable = isAsyncIterable;\nexports.normalizeNodeRequest = normalizeNodeRequest;\nexports.isReadable = isReadable;\nexports.isNodeRequest = isNodeRequest;\nexports.isServerResponse = isServerResponse;\nexports.isReadableStream = isReadableStream;\nexports.isFetchEvent = isFetchEvent;\nexports.sendNodeResponse = sendNodeResponse;\nexports.isRequestInit = isRequestInit;\nexports.completeAssign = completeAssign;\nexports.handleErrorFromRequestHandler = handleErrorFromRequestHandler;\nexports.isolateObject = isolateObject;\nexports.handleAbortSignalAndPromiseResponse = handleAbortSignalAndPromiseResponse;\nexports.getSupportedEncodings = getSupportedEncodings;\nexports.handleResponseDecompression = handleResponseDecompression;\nexports.ensureDisposableStackRegisteredForTerminateEvents = ensureDisposableStackRegisteredForTerminateEvents;\nexports.createCustomAbortControllerSignal = createCustomAbortControllerSignal;\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nObject.defineProperty(exports, \"createDeferredPromise\", ({ enumerable: true, get: function () { return promise_helpers_1.createDeferredPromise; } }));\nObject.defineProperty(exports, \"isPromise\", ({ enumerable: true, get: function () { return promise_helpers_1.isPromise; } }));\nfunction isAsyncIterable(body) {\n    return (body != null && typeof body === 'object' && typeof body[Symbol.asyncIterator] === 'function');\n}\nfunction getPort(nodeRequest) {\n    if (nodeRequest.socket?.localPort) {\n        return nodeRequest.socket?.localPort;\n    }\n    const hostInHeader = nodeRequest.headers?.[':authority'] || nodeRequest.headers?.host;\n    const portInHeader = hostInHeader?.split(':')?.[1];\n    if (portInHeader) {\n        return portInHeader;\n    }\n    return 80;\n}\nfunction getHostnameWithPort(nodeRequest) {\n    if (nodeRequest.headers?.[':authority']) {\n        return nodeRequest.headers?.[':authority'];\n    }\n    if (nodeRequest.headers?.host) {\n        return nodeRequest.headers?.host;\n    }\n    const port = getPort(nodeRequest);\n    if (nodeRequest.hostname) {\n        return nodeRequest.hostname + ':' + port;\n    }\n    const localIp = nodeRequest.socket?.localAddress;\n    if (localIp && !localIp?.includes('::') && !localIp?.includes('ffff')) {\n        return `${localIp}:${port}`;\n    }\n    return 'localhost';\n}\nfunction buildFullUrl(nodeRequest) {\n    const hostnameWithPort = getHostnameWithPort(nodeRequest);\n    const protocol = nodeRequest.protocol || (nodeRequest.socket?.encrypted ? 'https' : 'http');\n    const endpoint = nodeRequest.originalUrl || nodeRequest.url || '/graphql';\n    return `${protocol}://${hostnameWithPort}${endpoint}`;\n}\nfunction isRequestBody(body) {\n    const stringTag = body[Symbol.toStringTag];\n    if (typeof body === 'string' ||\n        stringTag === 'Uint8Array' ||\n        stringTag === 'Blob' ||\n        stringTag === 'FormData' ||\n        stringTag === 'URLSearchParams' ||\n        isAsyncIterable(body)) {\n        return true;\n    }\n    return false;\n}\nfunction normalizeNodeRequest(nodeRequest, fetchAPI, nodeResponse, __useCustomAbortCtrl) {\n    const rawRequest = nodeRequest.raw || nodeRequest.req || nodeRequest;\n    let fullUrl = buildFullUrl(rawRequest);\n    if (nodeRequest.query) {\n        const url = new fetchAPI.URL(fullUrl);\n        for (const key in nodeRequest.query) {\n            url.searchParams.set(key, nodeRequest.query[key]);\n        }\n        fullUrl = url.toString();\n    }\n    let normalizedHeaders = nodeRequest.headers;\n    if (nodeRequest.headers?.[':method']) {\n        normalizedHeaders = {};\n        for (const key in nodeRequest.headers) {\n            if (!key.startsWith(':')) {\n                normalizedHeaders[key] = nodeRequest.headers[key];\n            }\n        }\n    }\n    const controller = __useCustomAbortCtrl\n        ? createCustomAbortControllerSignal()\n        : new AbortController();\n    if (nodeResponse?.once) {\n        const closeEventListener = () => {\n            if (!controller.signal.aborted) {\n                Object.defineProperty(rawRequest, 'aborted', { value: true });\n                controller.abort(nodeResponse.errored ?? undefined);\n            }\n        };\n        nodeResponse.once('error', closeEventListener);\n        nodeResponse.once('close', closeEventListener);\n        nodeResponse.once('finish', () => {\n            nodeResponse.removeListener('close', closeEventListener);\n        });\n    }\n    if (nodeRequest.method === 'GET' || nodeRequest.method === 'HEAD') {\n        return new fetchAPI.Request(fullUrl, {\n            method: nodeRequest.method,\n            headers: normalizedHeaders,\n            signal: controller.signal,\n        });\n    }\n    /**\n     * Some Node server frameworks like Serverless Express sends a dummy object with body but as a Buffer not string\n     * so we do those checks to see is there something we can use directly as BodyInit\n     * because the presence of body means the request stream is already consumed and,\n     * rawRequest cannot be used as BodyInit/ReadableStream by Fetch API in this case.\n     */\n    const maybeParsedBody = nodeRequest.body;\n    if (maybeParsedBody != null && Object.keys(maybeParsedBody).length > 0) {\n        if (isRequestBody(maybeParsedBody)) {\n            return new fetchAPI.Request(fullUrl, {\n                method: nodeRequest.method || 'GET',\n                headers: normalizedHeaders,\n                body: maybeParsedBody,\n                signal: controller.signal,\n            });\n        }\n        const request = new fetchAPI.Request(fullUrl, {\n            method: nodeRequest.method || 'GET',\n            headers: normalizedHeaders,\n            signal: controller.signal,\n        });\n        if (!request.headers.get('content-type')?.includes('json')) {\n            request.headers.set('content-type', 'application/json; charset=utf-8');\n        }\n        return new Proxy(request, {\n            get: (target, prop, receiver) => {\n                switch (prop) {\n                    case 'json':\n                        return () => (0, promise_helpers_1.fakePromise)(maybeParsedBody);\n                    case 'text':\n                        return () => (0, promise_helpers_1.fakePromise)(JSON.stringify(maybeParsedBody));\n                    default:\n                        if (globalThis.Bun) {\n                            // workaround for https://github.com/oven-sh/bun/issues/12368\n                            // Proxy.get doesn't seem to get `receiver` correctly\n                            return Reflect.get(target, prop);\n                        }\n                        return Reflect.get(target, prop, receiver);\n                }\n            },\n        });\n    }\n    // perf: instead of spreading the object, we can just pass it as is and it performs better\n    return new fetchAPI.Request(fullUrl, {\n        method: nodeRequest.method,\n        headers: normalizedHeaders,\n        signal: controller.signal,\n        // @ts-expect-error - AsyncIterable is supported as body\n        body: rawRequest,\n        duplex: 'half',\n    });\n}\nfunction isReadable(stream) {\n    return stream.read != null;\n}\nfunction isNodeRequest(request) {\n    return isReadable(request);\n}\nfunction isServerResponse(stream) {\n    // Check all used functions are defined\n    return (stream != null &&\n        stream.setHeader != null &&\n        stream.end != null &&\n        stream.once != null &&\n        stream.write != null);\n}\nfunction isReadableStream(stream) {\n    return stream != null && stream.getReader != null;\n}\nfunction isFetchEvent(event) {\n    return event != null && event.request != null && event.respondWith != null;\n}\nfunction configureSocket(rawRequest) {\n    rawRequest?.socket?.setTimeout?.(0);\n    rawRequest?.socket?.setNoDelay?.(true);\n    rawRequest?.socket?.setKeepAlive?.(true);\n}\nfunction endResponse(serverResponse) {\n    // @ts-expect-error Avoid arguments adaptor trampoline https://v8.dev/blog/adaptor-frame\n    serverResponse.end(null, null, null);\n}\nfunction sendAsyncIterable(serverResponse, asyncIterable) {\n    let closed = false;\n    const closeEventListener = () => {\n        closed = true;\n    };\n    serverResponse.once('error', closeEventListener);\n    serverResponse.once('close', closeEventListener);\n    serverResponse.once('finish', () => {\n        serverResponse.removeListener('close', closeEventListener);\n        serverResponse.removeListener('error', closeEventListener);\n    });\n    const iterator = asyncIterable[Symbol.asyncIterator]();\n    const pump = () => iterator.next().then(({ done, value }) => {\n        if (closed || done) {\n            return;\n        }\n        return (0, promise_helpers_1.handleMaybePromise)(() => safeWrite(value, serverResponse), () => (closed ? endResponse(serverResponse) : pump()));\n    });\n    return pump();\n}\nfunction safeWrite(chunk, serverResponse) {\n    // @ts-expect-error http and http2 writes are actually compatible\n    const result = serverResponse.write(chunk);\n    if (!result) {\n        return new Promise(resolve => serverResponse.once('drain', resolve));\n    }\n}\nconst isNode1x = globalThis.process?.versions?.node?.startsWith('1');\nfunction sendNodeResponse(fetchResponse, serverResponse, nodeRequest, __useSingleWriteHead) {\n    if (serverResponse.closed || serverResponse.destroyed || serverResponse.writableEnded) {\n        return;\n    }\n    if (!fetchResponse) {\n        serverResponse.statusCode = 404;\n        endResponse(serverResponse);\n        return;\n    }\n    if (__useSingleWriteHead &&\n        // @ts-expect-error - headersInit is a private property\n        fetchResponse.headers?.headersInit &&\n        // @ts-expect-error - headersInit is a private property\n        !Array.isArray(fetchResponse.headers.headersInit) &&\n        // @ts-expect-error - headersInit is a private property\n        !fetchResponse.headers.headersInit.get &&\n        // @ts-expect-error - map is a private property\n        !fetchResponse.headers._map &&\n        // @ts-expect-error - _setCookies is a private property\n        !fetchResponse.headers._setCookies?.length) {\n        serverResponse.writeHead(fetchResponse.status, fetchResponse.statusText, \n        // @ts-expect-error - headersInit is a private property\n        fetchResponse.headers.headersInit);\n    }\n    else {\n        // Avoid using `setHeaders` on Node.js 18 as it is broken with multiple headers with the same name\n        // @ts-expect-error - setHeaders exist\n        if (serverResponse.setHeaders && !isNode1x) {\n            // @ts-expect-error - setHeaders exist\n            serverResponse.setHeaders(fetchResponse.headers);\n        }\n        else {\n            let setCookiesSet = false;\n            fetchResponse.headers.forEach((value, key) => {\n                if (key === 'set-cookie') {\n                    if (setCookiesSet) {\n                        return;\n                    }\n                    setCookiesSet = true;\n                    const setCookies = fetchResponse.headers.getSetCookie?.();\n                    if (setCookies) {\n                        serverResponse.setHeader('set-cookie', setCookies);\n                        return;\n                    }\n                }\n                serverResponse.setHeader(key, value);\n            });\n        }\n        serverResponse.writeHead(fetchResponse.status, fetchResponse.statusText);\n    }\n    // @ts-expect-error - Handle the case where the response is a string\n    if (fetchResponse['bodyType'] === 'String') {\n        return (0, promise_helpers_1.handleMaybePromise)(\n        // @ts-expect-error - bodyInit is a private property\n        () => safeWrite(fetchResponse.bodyInit, serverResponse), () => endResponse(serverResponse));\n    }\n    // Optimizations for node-fetch\n    const bufOfRes = \n    // @ts-expect-error - _buffer is a private property\n    fetchResponse._buffer;\n    if (bufOfRes) {\n        return (0, promise_helpers_1.handleMaybePromise)(() => safeWrite(bufOfRes, serverResponse), () => endResponse(serverResponse));\n    }\n    // Other fetch implementations\n    const fetchBody = fetchResponse.body;\n    if (fetchBody == null) {\n        endResponse(serverResponse);\n        return;\n    }\n    if (\n    // @ts-expect-error - Uint8Array is a valid body type\n    fetchBody[Symbol.toStringTag] === 'Uint8Array') {\n        return (0, promise_helpers_1.handleMaybePromise)(() => safeWrite(fetchBody, serverResponse), () => endResponse(serverResponse));\n    }\n    configureSocket(nodeRequest);\n    if (isReadable(fetchBody)) {\n        serverResponse.once('close', () => {\n            fetchBody.destroy();\n        });\n        fetchBody.pipe(serverResponse, {\n            end: true,\n        });\n        return;\n    }\n    if (isReadableStream(fetchBody)) {\n        return sendReadableStream(nodeRequest, serverResponse, fetchBody);\n    }\n    if (isAsyncIterable(fetchBody)) {\n        return sendAsyncIterable(serverResponse, fetchBody);\n    }\n}\nfunction sendReadableStream(nodeRequest, serverResponse, readableStream) {\n    const reader = readableStream.getReader();\n    nodeRequest?.once?.('error', err => {\n        reader.cancel(err);\n    });\n    function pump() {\n        return reader\n            .read()\n            .then(({ done, value }) => done\n            ? endResponse(serverResponse)\n            : (0, promise_helpers_1.handleMaybePromise)(() => safeWrite(value, serverResponse), pump));\n    }\n    return pump();\n}\nfunction isRequestInit(val) {\n    return (val != null &&\n        typeof val === 'object' &&\n        ('body' in val ||\n            'cache' in val ||\n            'credentials' in val ||\n            'headers' in val ||\n            'integrity' in val ||\n            'keepalive' in val ||\n            'method' in val ||\n            'mode' in val ||\n            'redirect' in val ||\n            'referrer' in val ||\n            'referrerPolicy' in val ||\n            'signal' in val ||\n            'window' in val));\n}\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#copying_accessors\nfunction completeAssign(...args) {\n    const [target, ...sources] = args.filter(arg => arg != null && typeof arg === 'object');\n    sources.forEach(source => {\n        // modified Object.keys to Object.getOwnPropertyNames\n        // because Object.keys only returns enumerable properties\n        const descriptors = Object.getOwnPropertyNames(source).reduce((descriptors, key) => {\n            const descriptor = Object.getOwnPropertyDescriptor(source, key);\n            if (descriptor) {\n                descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n            }\n            return descriptors;\n        }, {});\n        // By default, Object.assign copies enumerable Symbols, too\n        Object.getOwnPropertySymbols(source).forEach(sym => {\n            const descriptor = Object.getOwnPropertyDescriptor(source, sym);\n            if (descriptor?.enumerable) {\n                descriptors[sym] = descriptor;\n            }\n        });\n        Object.defineProperties(target, descriptors);\n    });\n    return target;\n}\nvar promise_helpers_2 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nObject.defineProperty(exports, \"iterateAsyncVoid\", ({ enumerable: true, get: function () { return promise_helpers_2.iterateAsyncVoid; } }));\nfunction handleErrorFromRequestHandler(error, ResponseCtor) {\n    return new ResponseCtor(error.stack || error.message || error.toString(), {\n        status: error.status || 500,\n    });\n}\nfunction isolateObject(originalCtx, waitUntilFn) {\n    if (originalCtx == null) {\n        if (waitUntilFn == null) {\n            return {};\n        }\n        return {\n            waitUntil: waitUntilFn,\n        };\n    }\n    return completeAssign(Object.create(originalCtx), {\n        waitUntil: waitUntilFn,\n    }, originalCtx);\n}\nfunction handleAbortSignalAndPromiseResponse(response$, abortSignal) {\n    if (abortSignal?.aborted) {\n        throw abortSignal.reason;\n    }\n    if ((0, promise_helpers_1.isPromise)(response$) && abortSignal) {\n        const deferred$ = (0, promise_helpers_1.createDeferredPromise)();\n        function abortSignalFetchErrorHandler() {\n            deferred$.reject(abortSignal.reason);\n        }\n        abortSignal.addEventListener('abort', abortSignalFetchErrorHandler, { once: true });\n        response$\n            .then(function fetchSuccessHandler(res) {\n            deferred$.resolve(res);\n        })\n            .catch(function fetchErrorHandler(err) {\n            deferred$.reject(err);\n        })\n            .finally(() => {\n            abortSignal.removeEventListener('abort', abortSignalFetchErrorHandler);\n        });\n        return deferred$.promise;\n    }\n    return response$;\n}\nexports.decompressedResponseMap = new WeakMap();\nconst supportedEncodingsByFetchAPI = new WeakMap();\nfunction getSupportedEncodings(fetchAPI) {\n    let supportedEncodings = supportedEncodingsByFetchAPI.get(fetchAPI);\n    if (!supportedEncodings) {\n        const possibleEncodings = ['deflate', 'gzip', 'deflate-raw', 'br'];\n        if (fetchAPI.DecompressionStream?.['supportedFormats']) {\n            supportedEncodings = fetchAPI.DecompressionStream['supportedFormats'];\n        }\n        else {\n            supportedEncodings = possibleEncodings.filter(encoding => {\n                // deflate-raw is not supported in Node.js >v20\n                if (globalThis.process?.version?.startsWith('v2') &&\n                    fetchAPI.DecompressionStream === globalThis.DecompressionStream &&\n                    encoding === 'deflate-raw') {\n                    return false;\n                }\n                try {\n                    // eslint-disable-next-line no-new\n                    new fetchAPI.DecompressionStream(encoding);\n                    return true;\n                }\n                catch {\n                    return false;\n                }\n            });\n        }\n        supportedEncodingsByFetchAPI.set(fetchAPI, supportedEncodings);\n    }\n    return supportedEncodings;\n}\nfunction handleResponseDecompression(response, fetchAPI) {\n    const contentEncodingHeader = response?.headers.get('content-encoding');\n    if (!contentEncodingHeader || contentEncodingHeader === 'none') {\n        return response;\n    }\n    if (!response?.body) {\n        return response;\n    }\n    let decompressedResponse = exports.decompressedResponseMap.get(response);\n    if (!decompressedResponse || decompressedResponse.bodyUsed) {\n        let decompressedBody = response.body;\n        const contentEncodings = contentEncodingHeader.split(',');\n        if (!contentEncodings.every(encoding => getSupportedEncodings(fetchAPI).includes(encoding))) {\n            return new fetchAPI.Response(`Unsupported 'Content-Encoding': ${contentEncodingHeader}`, {\n                status: 415,\n                statusText: 'Unsupported Media Type',\n            });\n        }\n        for (const contentEncoding of contentEncodings) {\n            decompressedBody = decompressedBody.pipeThrough(new fetchAPI.DecompressionStream(contentEncoding));\n        }\n        decompressedResponse = new fetchAPI.Response(decompressedBody, response);\n        exports.decompressedResponseMap.set(response, decompressedResponse);\n    }\n    return decompressedResponse;\n}\nconst terminateEvents = ['SIGINT', 'exit', 'SIGTERM'];\nconst disposableStacks = new Set();\nlet eventListenerRegistered = false;\nfunction ensureEventListenerForDisposableStacks() {\n    if (eventListenerRegistered) {\n        return;\n    }\n    eventListenerRegistered = true;\n    for (const event of terminateEvents) {\n        globalThis.process.once(event, function terminateHandler() {\n            return Promise.allSettled([...disposableStacks].map(stack => !stack.disposed && stack.disposeAsync()));\n        });\n    }\n}\nfunction ensureDisposableStackRegisteredForTerminateEvents(disposableStack) {\n    if (globalThis.process) {\n        ensureEventListenerForDisposableStacks();\n        if (!disposableStacks.has(disposableStack)) {\n            disposableStacks.add(disposableStack);\n            disposableStack.defer(() => {\n                disposableStacks.delete(disposableStack);\n            });\n        }\n    }\n}\nclass CustomAbortControllerSignal extends EventTarget {\n    aborted = false;\n    _onabort = null;\n    _reason;\n    constructor() {\n        super();\n        const nodeEvents = globalThis.process?.getBuiltinModule?.('node:events');\n        // @ts-expect-error - We know kMaxEventTargetListeners is available in node:events\n        if (nodeEvents?.kMaxEventTargetListeners) {\n            // @ts-expect-error - See https://github.com/nodejs/node/pull/55816/files#diff-03bd4f07a1006cb0daaddced702858751b20f5ab7681cb0719c1b1d80d6ca05cR31\n            this[nodeEvents.kMaxEventTargetListeners] = 0;\n        }\n    }\n    throwIfAborted() {\n        if (this._nativeCtrl?.signal?.throwIfAborted) {\n            return this._nativeCtrl.signal.throwIfAborted();\n        }\n        if (this.aborted) {\n            throw this._reason;\n        }\n    }\n    _nativeCtrl;\n    ensureNativeCtrl() {\n        if (!this._nativeCtrl) {\n            const isAborted = this.aborted;\n            this._nativeCtrl = new AbortController();\n            if (isAborted) {\n                this._nativeCtrl.abort(this._reason);\n            }\n        }\n        return this._nativeCtrl;\n    }\n    abort(reason) {\n        if (this._nativeCtrl?.abort) {\n            return this._nativeCtrl?.abort(reason);\n        }\n        this._reason = reason || new DOMException('This operation was aborted', 'AbortError');\n        this.aborted = true;\n        this.dispatchEvent(new Event('abort'));\n    }\n    get signal() {\n        if (this._nativeCtrl?.signal) {\n            return this._nativeCtrl.signal;\n        }\n        return this;\n    }\n    get reason() {\n        if (this._nativeCtrl?.signal) {\n            return this._nativeCtrl.signal.reason;\n        }\n        return this._reason;\n    }\n    get onabort() {\n        if (this._onabort) {\n            return this._onabort;\n        }\n        return this._onabort;\n    }\n    set onabort(value) {\n        if (this._nativeCtrl?.signal) {\n            this._nativeCtrl.signal.onabort = value;\n            return;\n        }\n        if (this._onabort) {\n            this.removeEventListener('abort', this._onabort);\n        }\n        this._onabort = value;\n        if (value) {\n            this.addEventListener('abort', value);\n        }\n    }\n}\nfunction createCustomAbortControllerSignal() {\n    if (globalThis.Bun || globalThis.Deno) {\n        return new AbortController();\n    }\n    return new Proxy(new CustomAbortControllerSignal(), {\n        get(target, prop, receiver) {\n            if (prop.toString().includes('kDependantSignals')) {\n                const nativeCtrl = target.ensureNativeCtrl();\n                return Reflect.get(nativeCtrl.signal, prop, nativeCtrl.signal);\n            }\n            return Reflect.get(target, prop, receiver);\n        },\n        set(target, prop, value, receiver) {\n            if (prop.toString().includes('kDependantSignals')) {\n                const nativeCtrl = target.ensureNativeCtrl();\n                return Reflect.set(nativeCtrl.signal, prop, value, nativeCtrl.signal);\n            }\n            return Reflect.set(target, prop, value, receiver);\n        },\n        getPrototypeOf() {\n            return AbortSignal.prototype;\n        },\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCLEdBQUcsd0JBQXdCLEdBQUcsNkJBQTZCLEdBQUcsaUJBQWlCO0FBQzlHLHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIsa0JBQWtCO0FBQ2xCLHFCQUFxQjtBQUNyQix3QkFBd0I7QUFDeEIsd0JBQXdCO0FBQ3hCLG9CQUFvQjtBQUNwQix3QkFBd0I7QUFDeEIscUJBQXFCO0FBQ3JCLHNCQUFzQjtBQUN0QixxQ0FBcUM7QUFDckMscUJBQXFCO0FBQ3JCLDJDQUEyQztBQUMzQyw2QkFBNkI7QUFDN0IsbUNBQW1DO0FBQ25DLHlEQUF5RDtBQUN6RCx5Q0FBeUM7QUFDekMsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFLHlEQUF3RCxFQUFFLHFDQUFxQyxtREFBbUQsRUFBQztBQUNuSiw2Q0FBNEMsRUFBRSxxQ0FBcUMsdUNBQXVDLEVBQUM7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFFBQVEsR0FBRyxLQUFLO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTLEtBQUssaUJBQWlCLEVBQUUsU0FBUztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELGFBQWE7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwrQ0FBK0MsYUFBYTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGFBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixtQkFBTyxDQUFDLG9HQUE4QjtBQUM5RCxvREFBbUQsRUFBRSxxQ0FBcUMsOENBQThDLEVBQUM7QUFDekk7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxZQUFZO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSxzQkFBc0I7QUFDbEc7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTCIsInNvdXJjZXMiOlsiL2hvbWUvY2V0ZWMvTm9kZVByb2plY3RzL2FndWlfdGVzdC9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlY29tcHJlc3NlZFJlc3BvbnNlTWFwID0gZXhwb3J0cy5pdGVyYXRlQXN5bmNWb2lkID0gZXhwb3J0cy5jcmVhdGVEZWZlcnJlZFByb21pc2UgPSBleHBvcnRzLmlzUHJvbWlzZSA9IHZvaWQgMDtcbmV4cG9ydHMuaXNBc3luY0l0ZXJhYmxlID0gaXNBc3luY0l0ZXJhYmxlO1xuZXhwb3J0cy5ub3JtYWxpemVOb2RlUmVxdWVzdCA9IG5vcm1hbGl6ZU5vZGVSZXF1ZXN0O1xuZXhwb3J0cy5pc1JlYWRhYmxlID0gaXNSZWFkYWJsZTtcbmV4cG9ydHMuaXNOb2RlUmVxdWVzdCA9IGlzTm9kZVJlcXVlc3Q7XG5leHBvcnRzLmlzU2VydmVyUmVzcG9uc2UgPSBpc1NlcnZlclJlc3BvbnNlO1xuZXhwb3J0cy5pc1JlYWRhYmxlU3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbTtcbmV4cG9ydHMuaXNGZXRjaEV2ZW50ID0gaXNGZXRjaEV2ZW50O1xuZXhwb3J0cy5zZW5kTm9kZVJlc3BvbnNlID0gc2VuZE5vZGVSZXNwb25zZTtcbmV4cG9ydHMuaXNSZXF1ZXN0SW5pdCA9IGlzUmVxdWVzdEluaXQ7XG5leHBvcnRzLmNvbXBsZXRlQXNzaWduID0gY29tcGxldGVBc3NpZ247XG5leHBvcnRzLmhhbmRsZUVycm9yRnJvbVJlcXVlc3RIYW5kbGVyID0gaGFuZGxlRXJyb3JGcm9tUmVxdWVzdEhhbmRsZXI7XG5leHBvcnRzLmlzb2xhdGVPYmplY3QgPSBpc29sYXRlT2JqZWN0O1xuZXhwb3J0cy5oYW5kbGVBYm9ydFNpZ25hbEFuZFByb21pc2VSZXNwb25zZSA9IGhhbmRsZUFib3J0U2lnbmFsQW5kUHJvbWlzZVJlc3BvbnNlO1xuZXhwb3J0cy5nZXRTdXBwb3J0ZWRFbmNvZGluZ3MgPSBnZXRTdXBwb3J0ZWRFbmNvZGluZ3M7XG5leHBvcnRzLmhhbmRsZVJlc3BvbnNlRGVjb21wcmVzc2lvbiA9IGhhbmRsZVJlc3BvbnNlRGVjb21wcmVzc2lvbjtcbmV4cG9ydHMuZW5zdXJlRGlzcG9zYWJsZVN0YWNrUmVnaXN0ZXJlZEZvclRlcm1pbmF0ZUV2ZW50cyA9IGVuc3VyZURpc3Bvc2FibGVTdGFja1JlZ2lzdGVyZWRGb3JUZXJtaW5hdGVFdmVudHM7XG5leHBvcnRzLmNyZWF0ZUN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbCA9IGNyZWF0ZUN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbDtcbmNvbnN0IHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVEZWZlcnJlZFByb21pc2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb21pc2VfaGVscGVyc18xLmNyZWF0ZURlZmVycmVkUHJvbWlzZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImlzUHJvbWlzZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvbWlzZV9oZWxwZXJzXzEuaXNQcm9taXNlOyB9IH0pO1xuZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKGJvZHkpIHtcbiAgICByZXR1cm4gKGJvZHkgIT0gbnVsbCAmJiB0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGJvZHlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID09PSAnZnVuY3Rpb24nKTtcbn1cbmZ1bmN0aW9uIGdldFBvcnQobm9kZVJlcXVlc3QpIHtcbiAgICBpZiAobm9kZVJlcXVlc3Quc29ja2V0Py5sb2NhbFBvcnQpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVSZXF1ZXN0LnNvY2tldD8ubG9jYWxQb3J0O1xuICAgIH1cbiAgICBjb25zdCBob3N0SW5IZWFkZXIgPSBub2RlUmVxdWVzdC5oZWFkZXJzPy5bJzphdXRob3JpdHknXSB8fCBub2RlUmVxdWVzdC5oZWFkZXJzPy5ob3N0O1xuICAgIGNvbnN0IHBvcnRJbkhlYWRlciA9IGhvc3RJbkhlYWRlcj8uc3BsaXQoJzonKT8uWzFdO1xuICAgIGlmIChwb3J0SW5IZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHBvcnRJbkhlYWRlcjtcbiAgICB9XG4gICAgcmV0dXJuIDgwO1xufVxuZnVuY3Rpb24gZ2V0SG9zdG5hbWVXaXRoUG9ydChub2RlUmVxdWVzdCkge1xuICAgIGlmIChub2RlUmVxdWVzdC5oZWFkZXJzPy5bJzphdXRob3JpdHknXSkge1xuICAgICAgICByZXR1cm4gbm9kZVJlcXVlc3QuaGVhZGVycz8uWyc6YXV0aG9yaXR5J107XG4gICAgfVxuICAgIGlmIChub2RlUmVxdWVzdC5oZWFkZXJzPy5ob3N0KSB7XG4gICAgICAgIHJldHVybiBub2RlUmVxdWVzdC5oZWFkZXJzPy5ob3N0O1xuICAgIH1cbiAgICBjb25zdCBwb3J0ID0gZ2V0UG9ydChub2RlUmVxdWVzdCk7XG4gICAgaWYgKG5vZGVSZXF1ZXN0Lmhvc3RuYW1lKSB7XG4gICAgICAgIHJldHVybiBub2RlUmVxdWVzdC5ob3N0bmFtZSArICc6JyArIHBvcnQ7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsSXAgPSBub2RlUmVxdWVzdC5zb2NrZXQ/LmxvY2FsQWRkcmVzcztcbiAgICBpZiAobG9jYWxJcCAmJiAhbG9jYWxJcD8uaW5jbHVkZXMoJzo6JykgJiYgIWxvY2FsSXA/LmluY2x1ZGVzKCdmZmZmJykpIHtcbiAgICAgICAgcmV0dXJuIGAke2xvY2FsSXB9OiR7cG9ydH1gO1xuICAgIH1cbiAgICByZXR1cm4gJ2xvY2FsaG9zdCc7XG59XG5mdW5jdGlvbiBidWlsZEZ1bGxVcmwobm9kZVJlcXVlc3QpIHtcbiAgICBjb25zdCBob3N0bmFtZVdpdGhQb3J0ID0gZ2V0SG9zdG5hbWVXaXRoUG9ydChub2RlUmVxdWVzdCk7XG4gICAgY29uc3QgcHJvdG9jb2wgPSBub2RlUmVxdWVzdC5wcm90b2NvbCB8fCAobm9kZVJlcXVlc3Quc29ja2V0Py5lbmNyeXB0ZWQgPyAnaHR0cHMnIDogJ2h0dHAnKTtcbiAgICBjb25zdCBlbmRwb2ludCA9IG5vZGVSZXF1ZXN0Lm9yaWdpbmFsVXJsIHx8IG5vZGVSZXF1ZXN0LnVybCB8fCAnL2dyYXBocWwnO1xuICAgIHJldHVybiBgJHtwcm90b2NvbH06Ly8ke2hvc3RuYW1lV2l0aFBvcnR9JHtlbmRwb2ludH1gO1xufVxuZnVuY3Rpb24gaXNSZXF1ZXN0Qm9keShib2R5KSB7XG4gICAgY29uc3Qgc3RyaW5nVGFnID0gYm9keVtTeW1ib2wudG9TdHJpbmdUYWddO1xuICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgc3RyaW5nVGFnID09PSAnVWludDhBcnJheScgfHxcbiAgICAgICAgc3RyaW5nVGFnID09PSAnQmxvYicgfHxcbiAgICAgICAgc3RyaW5nVGFnID09PSAnRm9ybURhdGEnIHx8XG4gICAgICAgIHN0cmluZ1RhZyA9PT0gJ1VSTFNlYXJjaFBhcmFtcycgfHxcbiAgICAgICAgaXNBc3luY0l0ZXJhYmxlKGJvZHkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBub3JtYWxpemVOb2RlUmVxdWVzdChub2RlUmVxdWVzdCwgZmV0Y2hBUEksIG5vZGVSZXNwb25zZSwgX191c2VDdXN0b21BYm9ydEN0cmwpIHtcbiAgICBjb25zdCByYXdSZXF1ZXN0ID0gbm9kZVJlcXVlc3QucmF3IHx8IG5vZGVSZXF1ZXN0LnJlcSB8fCBub2RlUmVxdWVzdDtcbiAgICBsZXQgZnVsbFVybCA9IGJ1aWxkRnVsbFVybChyYXdSZXF1ZXN0KTtcbiAgICBpZiAobm9kZVJlcXVlc3QucXVlcnkpIHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IGZldGNoQVBJLlVSTChmdWxsVXJsKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbm9kZVJlcXVlc3QucXVlcnkpIHtcbiAgICAgICAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KGtleSwgbm9kZVJlcXVlc3QucXVlcnlba2V5XSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVsbFVybCA9IHVybC50b1N0cmluZygpO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZEhlYWRlcnMgPSBub2RlUmVxdWVzdC5oZWFkZXJzO1xuICAgIGlmIChub2RlUmVxdWVzdC5oZWFkZXJzPy5bJzptZXRob2QnXSkge1xuICAgICAgICBub3JtYWxpemVkSGVhZGVycyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlUmVxdWVzdC5oZWFkZXJzKSB7XG4gICAgICAgICAgICBpZiAoIWtleS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkSGVhZGVyc1trZXldID0gbm9kZVJlcXVlc3QuaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBfX3VzZUN1c3RvbUFib3J0Q3RybFxuICAgICAgICA/IGNyZWF0ZUN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbCgpXG4gICAgICAgIDogbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGlmIChub2RlUmVzcG9uc2U/Lm9uY2UpIHtcbiAgICAgICAgY29uc3QgY2xvc2VFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJhd1JlcXVlc3QsICdhYm9ydGVkJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KG5vZGVSZXNwb25zZS5lcnJvcmVkID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5vZGVSZXNwb25zZS5vbmNlKCdlcnJvcicsIGNsb3NlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIG5vZGVSZXNwb25zZS5vbmNlKCdjbG9zZScsIGNsb3NlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIG5vZGVSZXNwb25zZS5vbmNlKCdmaW5pc2gnLCAoKSA9PiB7XG4gICAgICAgICAgICBub2RlUmVzcG9uc2UucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VFdmVudExpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChub2RlUmVxdWVzdC5tZXRob2QgPT09ICdHRVQnIHx8IG5vZGVSZXF1ZXN0Lm1ldGhvZCA9PT0gJ0hFQUQnKSB7XG4gICAgICAgIHJldHVybiBuZXcgZmV0Y2hBUEkuUmVxdWVzdChmdWxsVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6IG5vZGVSZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIGhlYWRlcnM6IG5vcm1hbGl6ZWRIZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNvbWUgTm9kZSBzZXJ2ZXIgZnJhbWV3b3JrcyBsaWtlIFNlcnZlcmxlc3MgRXhwcmVzcyBzZW5kcyBhIGR1bW15IG9iamVjdCB3aXRoIGJvZHkgYnV0IGFzIGEgQnVmZmVyIG5vdCBzdHJpbmdcbiAgICAgKiBzbyB3ZSBkbyB0aG9zZSBjaGVja3MgdG8gc2VlIGlzIHRoZXJlIHNvbWV0aGluZyB3ZSBjYW4gdXNlIGRpcmVjdGx5IGFzIEJvZHlJbml0XG4gICAgICogYmVjYXVzZSB0aGUgcHJlc2VuY2Ugb2YgYm9keSBtZWFucyB0aGUgcmVxdWVzdCBzdHJlYW0gaXMgYWxyZWFkeSBjb25zdW1lZCBhbmQsXG4gICAgICogcmF3UmVxdWVzdCBjYW5ub3QgYmUgdXNlZCBhcyBCb2R5SW5pdC9SZWFkYWJsZVN0cmVhbSBieSBGZXRjaCBBUEkgaW4gdGhpcyBjYXNlLlxuICAgICAqL1xuICAgIGNvbnN0IG1heWJlUGFyc2VkQm9keSA9IG5vZGVSZXF1ZXN0LmJvZHk7XG4gICAgaWYgKG1heWJlUGFyc2VkQm9keSAhPSBudWxsICYmIE9iamVjdC5rZXlzKG1heWJlUGFyc2VkQm9keSkubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoaXNSZXF1ZXN0Qm9keShtYXliZVBhcnNlZEJvZHkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGZldGNoQVBJLlJlcXVlc3QoZnVsbFVybCwge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogbm9kZVJlcXVlc3QubWV0aG9kIHx8ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IG5vcm1hbGl6ZWRIZWFkZXJzLFxuICAgICAgICAgICAgICAgIGJvZHk6IG1heWJlUGFyc2VkQm9keSxcbiAgICAgICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBmZXRjaEFQSS5SZXF1ZXN0KGZ1bGxVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogbm9kZVJlcXVlc3QubWV0aG9kIHx8ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczogbm9ybWFsaXplZEhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKT8uaW5jbHVkZXMoJ2pzb24nKSkge1xuICAgICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHJlcXVlc3QsIHtcbiAgICAgICAgICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnanNvbic6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gKDAsIHByb21pc2VfaGVscGVyc18xLmZha2VQcm9taXNlKShtYXliZVBhcnNlZEJvZHkpO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuZmFrZVByb21pc2UpKEpTT04uc3RyaW5naWZ5KG1heWJlUGFyc2VkQm9keSkpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbFRoaXMuQnVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL292ZW4tc2gvYnVuL2lzc3Vlcy8xMjM2OFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByb3h5LmdldCBkb2Vzbid0IHNlZW0gdG8gZ2V0IGByZWNlaXZlcmAgY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHRhcmdldCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHBlcmY6IGluc3RlYWQgb2Ygc3ByZWFkaW5nIHRoZSBvYmplY3QsIHdlIGNhbiBqdXN0IHBhc3MgaXQgYXMgaXMgYW5kIGl0IHBlcmZvcm1zIGJldHRlclxuICAgIHJldHVybiBuZXcgZmV0Y2hBUEkuUmVxdWVzdChmdWxsVXJsLCB7XG4gICAgICAgIG1ldGhvZDogbm9kZVJlcXVlc3QubWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBub3JtYWxpemVkSGVhZGVycyxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIEFzeW5jSXRlcmFibGUgaXMgc3VwcG9ydGVkIGFzIGJvZHlcbiAgICAgICAgYm9keTogcmF3UmVxdWVzdCxcbiAgICAgICAgZHVwbGV4OiAnaGFsZicsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc1JlYWRhYmxlKHN0cmVhbSkge1xuICAgIHJldHVybiBzdHJlYW0ucmVhZCAhPSBudWxsO1xufVxuZnVuY3Rpb24gaXNOb2RlUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIGlzUmVhZGFibGUocmVxdWVzdCk7XG59XG5mdW5jdGlvbiBpc1NlcnZlclJlc3BvbnNlKHN0cmVhbSkge1xuICAgIC8vIENoZWNrIGFsbCB1c2VkIGZ1bmN0aW9ucyBhcmUgZGVmaW5lZFxuICAgIHJldHVybiAoc3RyZWFtICE9IG51bGwgJiZcbiAgICAgICAgc3RyZWFtLnNldEhlYWRlciAhPSBudWxsICYmXG4gICAgICAgIHN0cmVhbS5lbmQgIT0gbnVsbCAmJlxuICAgICAgICBzdHJlYW0ub25jZSAhPSBudWxsICYmXG4gICAgICAgIHN0cmVhbS53cml0ZSAhPSBudWxsKTtcbn1cbmZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW0oc3RyZWFtKSB7XG4gICAgcmV0dXJuIHN0cmVhbSAhPSBudWxsICYmIHN0cmVhbS5nZXRSZWFkZXIgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzRmV0Y2hFdmVudChldmVudCkge1xuICAgIHJldHVybiBldmVudCAhPSBudWxsICYmIGV2ZW50LnJlcXVlc3QgIT0gbnVsbCAmJiBldmVudC5yZXNwb25kV2l0aCAhPSBudWxsO1xufVxuZnVuY3Rpb24gY29uZmlndXJlU29ja2V0KHJhd1JlcXVlc3QpIHtcbiAgICByYXdSZXF1ZXN0Py5zb2NrZXQ/LnNldFRpbWVvdXQ/LigwKTtcbiAgICByYXdSZXF1ZXN0Py5zb2NrZXQ/LnNldE5vRGVsYXk/Lih0cnVlKTtcbiAgICByYXdSZXF1ZXN0Py5zb2NrZXQ/LnNldEtlZXBBbGl2ZT8uKHRydWUpO1xufVxuZnVuY3Rpb24gZW5kUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEF2b2lkIGFyZ3VtZW50cyBhZGFwdG9yIHRyYW1wb2xpbmUgaHR0cHM6Ly92OC5kZXYvYmxvZy9hZGFwdG9yLWZyYW1lXG4gICAgc2VydmVyUmVzcG9uc2UuZW5kKG51bGwsIG51bGwsIG51bGwpO1xufVxuZnVuY3Rpb24gc2VuZEFzeW5jSXRlcmFibGUoc2VydmVyUmVzcG9uc2UsIGFzeW5jSXRlcmFibGUpIHtcbiAgICBsZXQgY2xvc2VkID0gZmFsc2U7XG4gICAgY29uc3QgY2xvc2VFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgIH07XG4gICAgc2VydmVyUmVzcG9uc2Uub25jZSgnZXJyb3InLCBjbG9zZUV2ZW50TGlzdGVuZXIpO1xuICAgIHNlcnZlclJlc3BvbnNlLm9uY2UoJ2Nsb3NlJywgY2xvc2VFdmVudExpc3RlbmVyKTtcbiAgICBzZXJ2ZXJSZXNwb25zZS5vbmNlKCdmaW5pc2gnLCAoKSA9PiB7XG4gICAgICAgIHNlcnZlclJlc3BvbnNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsb3NlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHNlcnZlclJlc3BvbnNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGNsb3NlRXZlbnRMaXN0ZW5lcik7XG4gICAgfSk7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBhc3luY0l0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgIGNvbnN0IHB1bXAgPSAoKSA9PiBpdGVyYXRvci5uZXh0KCkudGhlbigoeyBkb25lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICAgIGlmIChjbG9zZWQgfHwgZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBzYWZlV3JpdGUodmFsdWUsIHNlcnZlclJlc3BvbnNlKSwgKCkgPT4gKGNsb3NlZCA/IGVuZFJlc3BvbnNlKHNlcnZlclJlc3BvbnNlKSA6IHB1bXAoKSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBwdW1wKCk7XG59XG5mdW5jdGlvbiBzYWZlV3JpdGUoY2h1bmssIHNlcnZlclJlc3BvbnNlKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBodHRwIGFuZCBodHRwMiB3cml0ZXMgYXJlIGFjdHVhbGx5IGNvbXBhdGlibGVcbiAgICBjb25zdCByZXN1bHQgPSBzZXJ2ZXJSZXNwb25zZS53cml0ZShjaHVuayk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2VydmVyUmVzcG9uc2Uub25jZSgnZHJhaW4nLCByZXNvbHZlKSk7XG4gICAgfVxufVxuY29uc3QgaXNOb2RlMXggPSBnbG9iYWxUaGlzLnByb2Nlc3M/LnZlcnNpb25zPy5ub2RlPy5zdGFydHNXaXRoKCcxJyk7XG5mdW5jdGlvbiBzZW5kTm9kZVJlc3BvbnNlKGZldGNoUmVzcG9uc2UsIHNlcnZlclJlc3BvbnNlLCBub2RlUmVxdWVzdCwgX191c2VTaW5nbGVXcml0ZUhlYWQpIHtcbiAgICBpZiAoc2VydmVyUmVzcG9uc2UuY2xvc2VkIHx8IHNlcnZlclJlc3BvbnNlLmRlc3Ryb3llZCB8fCBzZXJ2ZXJSZXNwb25zZS53cml0YWJsZUVuZGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFmZXRjaFJlc3BvbnNlKSB7XG4gICAgICAgIHNlcnZlclJlc3BvbnNlLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgIGVuZFJlc3BvbnNlKHNlcnZlclJlc3BvbnNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoX191c2VTaW5nbGVXcml0ZUhlYWQgJiZcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGhlYWRlcnNJbml0IGlzIGEgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgICAgICBmZXRjaFJlc3BvbnNlLmhlYWRlcnM/LmhlYWRlcnNJbml0ICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBoZWFkZXJzSW5pdCBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmhlYWRlcnNJbml0KSAmJlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gaGVhZGVyc0luaXQgaXMgYSBwcml2YXRlIHByb3BlcnR5XG4gICAgICAgICFmZXRjaFJlc3BvbnNlLmhlYWRlcnMuaGVhZGVyc0luaXQuZ2V0ICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBtYXAgaXMgYSBwcml2YXRlIHByb3BlcnR5XG4gICAgICAgICFmZXRjaFJlc3BvbnNlLmhlYWRlcnMuX21hcCAmJlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gX3NldENvb2tpZXMgaXMgYSBwcml2YXRlIHByb3BlcnR5XG4gICAgICAgICFmZXRjaFJlc3BvbnNlLmhlYWRlcnMuX3NldENvb2tpZXM/Lmxlbmd0aCkge1xuICAgICAgICBzZXJ2ZXJSZXNwb25zZS53cml0ZUhlYWQoZmV0Y2hSZXNwb25zZS5zdGF0dXMsIGZldGNoUmVzcG9uc2Uuc3RhdHVzVGV4dCwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBoZWFkZXJzSW5pdCBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmhlYWRlcnNJbml0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEF2b2lkIHVzaW5nIGBzZXRIZWFkZXJzYCBvbiBOb2RlLmpzIDE4IGFzIGl0IGlzIGJyb2tlbiB3aXRoIG11bHRpcGxlIGhlYWRlcnMgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBzZXRIZWFkZXJzIGV4aXN0XG4gICAgICAgIGlmIChzZXJ2ZXJSZXNwb25zZS5zZXRIZWFkZXJzICYmICFpc05vZGUxeCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHNldEhlYWRlcnMgZXhpc3RcbiAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLnNldEhlYWRlcnMoZmV0Y2hSZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzZXRDb29raWVzU2V0ID0gZmFsc2U7XG4gICAgICAgICAgICBmZXRjaFJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0Q29va2llc1NldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldENvb2tpZXNTZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRDb29raWVzID0gZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmdldFNldENvb2tpZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXRDb29raWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5zZXRIZWFkZXIoJ3NldC1jb29raWUnLCBzZXRDb29raWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5zZXRIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZXJ2ZXJSZXNwb25zZS53cml0ZUhlYWQoZmV0Y2hSZXNwb25zZS5zdGF0dXMsIGZldGNoUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfVxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHJlc3BvbnNlIGlzIGEgc3RyaW5nXG4gICAgaWYgKGZldGNoUmVzcG9uc2VbJ2JvZHlUeXBlJ10gPT09ICdTdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKShcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGJvZHlJbml0IGlzIGEgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgICAgICAoKSA9PiBzYWZlV3JpdGUoZmV0Y2hSZXNwb25zZS5ib2R5SW5pdCwgc2VydmVyUmVzcG9uc2UpLCAoKSA9PiBlbmRSZXNwb25zZShzZXJ2ZXJSZXNwb25zZSkpO1xuICAgIH1cbiAgICAvLyBPcHRpbWl6YXRpb25zIGZvciBub2RlLWZldGNoXG4gICAgY29uc3QgYnVmT2ZSZXMgPSBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gX2J1ZmZlciBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICBmZXRjaFJlc3BvbnNlLl9idWZmZXI7XG4gICAgaWYgKGJ1Zk9mUmVzKSB7XG4gICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBzYWZlV3JpdGUoYnVmT2ZSZXMsIHNlcnZlclJlc3BvbnNlKSwgKCkgPT4gZW5kUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpKTtcbiAgICB9XG4gICAgLy8gT3RoZXIgZmV0Y2ggaW1wbGVtZW50YXRpb25zXG4gICAgY29uc3QgZmV0Y2hCb2R5ID0gZmV0Y2hSZXNwb25zZS5ib2R5O1xuICAgIGlmIChmZXRjaEJvZHkgPT0gbnVsbCkge1xuICAgICAgICBlbmRSZXNwb25zZShzZXJ2ZXJSZXNwb25zZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBVaW50OEFycmF5IGlzIGEgdmFsaWQgYm9keSB0eXBlXG4gICAgZmV0Y2hCb2R5W1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdVaW50OEFycmF5Jykge1xuICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gc2FmZVdyaXRlKGZldGNoQm9keSwgc2VydmVyUmVzcG9uc2UpLCAoKSA9PiBlbmRSZXNwb25zZShzZXJ2ZXJSZXNwb25zZSkpO1xuICAgIH1cbiAgICBjb25maWd1cmVTb2NrZXQobm9kZVJlcXVlc3QpO1xuICAgIGlmIChpc1JlYWRhYmxlKGZldGNoQm9keSkpIHtcbiAgICAgICAgc2VydmVyUmVzcG9uc2Uub25jZSgnY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICBmZXRjaEJvZHkuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgZmV0Y2hCb2R5LnBpcGUoc2VydmVyUmVzcG9uc2UsIHtcbiAgICAgICAgICAgIGVuZDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUmVhZGFibGVTdHJlYW0oZmV0Y2hCb2R5KSkge1xuICAgICAgICByZXR1cm4gc2VuZFJlYWRhYmxlU3RyZWFtKG5vZGVSZXF1ZXN0LCBzZXJ2ZXJSZXNwb25zZSwgZmV0Y2hCb2R5KTtcbiAgICB9XG4gICAgaWYgKGlzQXN5bmNJdGVyYWJsZShmZXRjaEJvZHkpKSB7XG4gICAgICAgIHJldHVybiBzZW5kQXN5bmNJdGVyYWJsZShzZXJ2ZXJSZXNwb25zZSwgZmV0Y2hCb2R5KTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZW5kUmVhZGFibGVTdHJlYW0obm9kZVJlcXVlc3QsIHNlcnZlclJlc3BvbnNlLCByZWFkYWJsZVN0cmVhbSkge1xuICAgIGNvbnN0IHJlYWRlciA9IHJlYWRhYmxlU3RyZWFtLmdldFJlYWRlcigpO1xuICAgIG5vZGVSZXF1ZXN0Py5vbmNlPy4oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgcmVhZGVyLmNhbmNlbChlcnIpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHB1bXAoKSB7XG4gICAgICAgIHJldHVybiByZWFkZXJcbiAgICAgICAgICAgIC5yZWFkKClcbiAgICAgICAgICAgIC50aGVuKCh7IGRvbmUsIHZhbHVlIH0pID0+IGRvbmVcbiAgICAgICAgICAgID8gZW5kUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpXG4gICAgICAgICAgICA6ICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IHNhZmVXcml0ZSh2YWx1ZSwgc2VydmVyUmVzcG9uc2UpLCBwdW1wKSk7XG4gICAgfVxuICAgIHJldHVybiBwdW1wKCk7XG59XG5mdW5jdGlvbiBpc1JlcXVlc3RJbml0KHZhbCkge1xuICAgIHJldHVybiAodmFsICE9IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgKCdib2R5JyBpbiB2YWwgfHxcbiAgICAgICAgICAgICdjYWNoZScgaW4gdmFsIHx8XG4gICAgICAgICAgICAnY3JlZGVudGlhbHMnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ2hlYWRlcnMnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ2ludGVncml0eScgaW4gdmFsIHx8XG4gICAgICAgICAgICAna2VlcGFsaXZlJyBpbiB2YWwgfHxcbiAgICAgICAgICAgICdtZXRob2QnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ21vZGUnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ3JlZGlyZWN0JyBpbiB2YWwgfHxcbiAgICAgICAgICAgICdyZWZlcnJlcicgaW4gdmFsIHx8XG4gICAgICAgICAgICAncmVmZXJyZXJQb2xpY3knIGluIHZhbCB8fFxuICAgICAgICAgICAgJ3NpZ25hbCcgaW4gdmFsIHx8XG4gICAgICAgICAgICAnd2luZG93JyBpbiB2YWwpKTtcbn1cbi8vIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbiNjb3B5aW5nX2FjY2Vzc29yc1xuZnVuY3Rpb24gY29tcGxldGVBc3NpZ24oLi4uYXJncykge1xuICAgIGNvbnN0IFt0YXJnZXQsIC4uLnNvdXJjZXNdID0gYXJncy5maWx0ZXIoYXJnID0+IGFyZyAhPSBudWxsICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKTtcbiAgICBzb3VyY2VzLmZvckVhY2goc291cmNlID0+IHtcbiAgICAgICAgLy8gbW9kaWZpZWQgT2JqZWN0LmtleXMgdG8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgICAgICAgLy8gYmVjYXVzZSBPYmplY3Qua2V5cyBvbmx5IHJldHVybnMgZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlKS5yZWR1Y2UoKGRlc2NyaXB0b3JzLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KTtcbiAgICAgICAgICAgIGlmIChkZXNjcmlwdG9yKSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRvcnNba2V5XSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIC8vIEJ5IGRlZmF1bHQsIE9iamVjdC5hc3NpZ24gY29waWVzIGVudW1lcmFibGUgU3ltYm9scywgdG9vXG4gICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKS5mb3JFYWNoKHN5bSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIHN5bSk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvcj8uZW51bWVyYWJsZSkge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzW3N5bV0gPSBkZXNjcmlwdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBkZXNjcmlwdG9ycyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbnZhciBwcm9taXNlX2hlbHBlcnNfMiA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXRlcmF0ZUFzeW5jVm9pZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvbWlzZV9oZWxwZXJzXzIuaXRlcmF0ZUFzeW5jVm9pZDsgfSB9KTtcbmZ1bmN0aW9uIGhhbmRsZUVycm9yRnJvbVJlcXVlc3RIYW5kbGVyKGVycm9yLCBSZXNwb25zZUN0b3IpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlQ3RvcihlcnJvci5zdGFjayB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCksIHtcbiAgICAgICAgc3RhdHVzOiBlcnJvci5zdGF0dXMgfHwgNTAwLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gaXNvbGF0ZU9iamVjdChvcmlnaW5hbEN0eCwgd2FpdFVudGlsRm4pIHtcbiAgICBpZiAob3JpZ2luYWxDdHggPT0gbnVsbCkge1xuICAgICAgICBpZiAod2FpdFVudGlsRm4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3YWl0VW50aWw6IHdhaXRVbnRpbEZuLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY29tcGxldGVBc3NpZ24oT2JqZWN0LmNyZWF0ZShvcmlnaW5hbEN0eCksIHtcbiAgICAgICAgd2FpdFVudGlsOiB3YWl0VW50aWxGbixcbiAgICB9LCBvcmlnaW5hbEN0eCk7XG59XG5mdW5jdGlvbiBoYW5kbGVBYm9ydFNpZ25hbEFuZFByb21pc2VSZXNwb25zZShyZXNwb25zZSQsIGFib3J0U2lnbmFsKSB7XG4gICAgaWYgKGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93IGFib3J0U2lnbmFsLnJlYXNvbjtcbiAgICB9XG4gICAgaWYgKCgwLCBwcm9taXNlX2hlbHBlcnNfMS5pc1Byb21pc2UpKHJlc3BvbnNlJCkgJiYgYWJvcnRTaWduYWwpIHtcbiAgICAgICAgY29uc3QgZGVmZXJyZWQkID0gKDAsIHByb21pc2VfaGVscGVyc18xLmNyZWF0ZURlZmVycmVkUHJvbWlzZSkoKTtcbiAgICAgICAgZnVuY3Rpb24gYWJvcnRTaWduYWxGZXRjaEVycm9ySGFuZGxlcigpIHtcbiAgICAgICAgICAgIGRlZmVycmVkJC5yZWplY3QoYWJvcnRTaWduYWwucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICBhYm9ydFNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0U2lnbmFsRmV0Y2hFcnJvckhhbmRsZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgcmVzcG9uc2UkXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiBmZXRjaFN1Y2Nlc3NIYW5kbGVyKHJlcykge1xuICAgICAgICAgICAgZGVmZXJyZWQkLnJlc29sdmUocmVzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiBmZXRjaEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICAgICAgICAgIGRlZmVycmVkJC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIGFib3J0U2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRTaWduYWxGZXRjaEVycm9ySGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQkLnByb21pc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZSQ7XG59XG5leHBvcnRzLmRlY29tcHJlc3NlZFJlc3BvbnNlTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHN1cHBvcnRlZEVuY29kaW5nc0J5RmV0Y2hBUEkgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gZ2V0U3VwcG9ydGVkRW5jb2RpbmdzKGZldGNoQVBJKSB7XG4gICAgbGV0IHN1cHBvcnRlZEVuY29kaW5ncyA9IHN1cHBvcnRlZEVuY29kaW5nc0J5RmV0Y2hBUEkuZ2V0KGZldGNoQVBJKTtcbiAgICBpZiAoIXN1cHBvcnRlZEVuY29kaW5ncykge1xuICAgICAgICBjb25zdCBwb3NzaWJsZUVuY29kaW5ncyA9IFsnZGVmbGF0ZScsICdnemlwJywgJ2RlZmxhdGUtcmF3JywgJ2JyJ107XG4gICAgICAgIGlmIChmZXRjaEFQSS5EZWNvbXByZXNzaW9uU3RyZWFtPy5bJ3N1cHBvcnRlZEZvcm1hdHMnXSkge1xuICAgICAgICAgICAgc3VwcG9ydGVkRW5jb2RpbmdzID0gZmV0Y2hBUEkuRGVjb21wcmVzc2lvblN0cmVhbVsnc3VwcG9ydGVkRm9ybWF0cyddO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3VwcG9ydGVkRW5jb2RpbmdzID0gcG9zc2libGVFbmNvZGluZ3MuZmlsdGVyKGVuY29kaW5nID0+IHtcbiAgICAgICAgICAgICAgICAvLyBkZWZsYXRlLXJhdyBpcyBub3Qgc3VwcG9ydGVkIGluIE5vZGUuanMgPnYyMFxuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxUaGlzLnByb2Nlc3M/LnZlcnNpb24/LnN0YXJ0c1dpdGgoJ3YyJykgJiZcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hBUEkuRGVjb21wcmVzc2lvblN0cmVhbSA9PT0gZ2xvYmFsVGhpcy5EZWNvbXByZXNzaW9uU3RyZWFtICYmXG4gICAgICAgICAgICAgICAgICAgIGVuY29kaW5nID09PSAnZGVmbGF0ZS1yYXcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ld1xuICAgICAgICAgICAgICAgICAgICBuZXcgZmV0Y2hBUEkuRGVjb21wcmVzc2lvblN0cmVhbShlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBzdXBwb3J0ZWRFbmNvZGluZ3NCeUZldGNoQVBJLnNldChmZXRjaEFQSSwgc3VwcG9ydGVkRW5jb2RpbmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cHBvcnRlZEVuY29kaW5ncztcbn1cbmZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlRGVjb21wcmVzc2lvbihyZXNwb25zZSwgZmV0Y2hBUEkpIHtcbiAgICBjb25zdCBjb250ZW50RW5jb2RpbmdIZWFkZXIgPSByZXNwb25zZT8uaGVhZGVycy5nZXQoJ2NvbnRlbnQtZW5jb2RpbmcnKTtcbiAgICBpZiAoIWNvbnRlbnRFbmNvZGluZ0hlYWRlciB8fCBjb250ZW50RW5jb2RpbmdIZWFkZXIgPT09ICdub25lJykge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGlmICghcmVzcG9uc2U/LmJvZHkpIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBsZXQgZGVjb21wcmVzc2VkUmVzcG9uc2UgPSBleHBvcnRzLmRlY29tcHJlc3NlZFJlc3BvbnNlTWFwLmdldChyZXNwb25zZSk7XG4gICAgaWYgKCFkZWNvbXByZXNzZWRSZXNwb25zZSB8fCBkZWNvbXByZXNzZWRSZXNwb25zZS5ib2R5VXNlZCkge1xuICAgICAgICBsZXQgZGVjb21wcmVzc2VkQm9keSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbmNvZGluZ3MgPSBjb250ZW50RW5jb2RpbmdIZWFkZXIuc3BsaXQoJywnKTtcbiAgICAgICAgaWYgKCFjb250ZW50RW5jb2RpbmdzLmV2ZXJ5KGVuY29kaW5nID0+IGdldFN1cHBvcnRlZEVuY29kaW5ncyhmZXRjaEFQSSkuaW5jbHVkZXMoZW5jb2RpbmcpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBmZXRjaEFQSS5SZXNwb25zZShgVW5zdXBwb3J0ZWQgJ0NvbnRlbnQtRW5jb2RpbmcnOiAke2NvbnRlbnRFbmNvZGluZ0hlYWRlcn1gLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MTUsXG4gICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ1Vuc3VwcG9ydGVkIE1lZGlhIFR5cGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjb250ZW50RW5jb2Rpbmcgb2YgY29udGVudEVuY29kaW5ncykge1xuICAgICAgICAgICAgZGVjb21wcmVzc2VkQm9keSA9IGRlY29tcHJlc3NlZEJvZHkucGlwZVRocm91Z2gobmV3IGZldGNoQVBJLkRlY29tcHJlc3Npb25TdHJlYW0oY29udGVudEVuY29kaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVjb21wcmVzc2VkUmVzcG9uc2UgPSBuZXcgZmV0Y2hBUEkuUmVzcG9uc2UoZGVjb21wcmVzc2VkQm9keSwgcmVzcG9uc2UpO1xuICAgICAgICBleHBvcnRzLmRlY29tcHJlc3NlZFJlc3BvbnNlTWFwLnNldChyZXNwb25zZSwgZGVjb21wcmVzc2VkUmVzcG9uc2UpO1xuICAgIH1cbiAgICByZXR1cm4gZGVjb21wcmVzc2VkUmVzcG9uc2U7XG59XG5jb25zdCB0ZXJtaW5hdGVFdmVudHMgPSBbJ1NJR0lOVCcsICdleGl0JywgJ1NJR1RFUk0nXTtcbmNvbnN0IGRpc3Bvc2FibGVTdGFja3MgPSBuZXcgU2V0KCk7XG5sZXQgZXZlbnRMaXN0ZW5lclJlZ2lzdGVyZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGVuc3VyZUV2ZW50TGlzdGVuZXJGb3JEaXNwb3NhYmxlU3RhY2tzKCkge1xuICAgIGlmIChldmVudExpc3RlbmVyUmVnaXN0ZXJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGV2ZW50TGlzdGVuZXJSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IGV2ZW50IG9mIHRlcm1pbmF0ZUV2ZW50cykge1xuICAgICAgICBnbG9iYWxUaGlzLnByb2Nlc3Mub25jZShldmVudCwgZnVuY3Rpb24gdGVybWluYXRlSGFuZGxlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQoWy4uLmRpc3Bvc2FibGVTdGFja3NdLm1hcChzdGFjayA9PiAhc3RhY2suZGlzcG9zZWQgJiYgc3RhY2suZGlzcG9zZUFzeW5jKCkpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5zdXJlRGlzcG9zYWJsZVN0YWNrUmVnaXN0ZXJlZEZvclRlcm1pbmF0ZUV2ZW50cyhkaXNwb3NhYmxlU3RhY2spIHtcbiAgICBpZiAoZ2xvYmFsVGhpcy5wcm9jZXNzKSB7XG4gICAgICAgIGVuc3VyZUV2ZW50TGlzdGVuZXJGb3JEaXNwb3NhYmxlU3RhY2tzKCk7XG4gICAgICAgIGlmICghZGlzcG9zYWJsZVN0YWNrcy5oYXMoZGlzcG9zYWJsZVN0YWNrKSkge1xuICAgICAgICAgICAgZGlzcG9zYWJsZVN0YWNrcy5hZGQoZGlzcG9zYWJsZVN0YWNrKTtcbiAgICAgICAgICAgIGRpc3Bvc2FibGVTdGFjay5kZWZlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgZGlzcG9zYWJsZVN0YWNrcy5kZWxldGUoZGlzcG9zYWJsZVN0YWNrKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgQ3VzdG9tQWJvcnRDb250cm9sbGVyU2lnbmFsIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xuICAgIGFib3J0ZWQgPSBmYWxzZTtcbiAgICBfb25hYm9ydCA9IG51bGw7XG4gICAgX3JlYXNvbjtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgY29uc3Qgbm9kZUV2ZW50cyA9IGdsb2JhbFRoaXMucHJvY2Vzcz8uZ2V0QnVpbHRpbk1vZHVsZT8uKCdub2RlOmV2ZW50cycpO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gV2Uga25vdyBrTWF4RXZlbnRUYXJnZXRMaXN0ZW5lcnMgaXMgYXZhaWxhYmxlIGluIG5vZGU6ZXZlbnRzXG4gICAgICAgIGlmIChub2RlRXZlbnRzPy5rTWF4RXZlbnRUYXJnZXRMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBTZWUgaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL3B1bGwvNTU4MTYvZmlsZXMjZGlmZi0wM2JkNGYwN2ExMDA2Y2IwZGFhZGRjZWQ3MDI4NTg3NTFiMjBmNWFiNzY4MWNiMDcxOWMxYjFkODBkNmNhMDVjUjMxXG4gICAgICAgICAgICB0aGlzW25vZGVFdmVudHMua01heEV2ZW50VGFyZ2V0TGlzdGVuZXJzXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3dJZkFib3J0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9uYXRpdmVDdHJsPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ3RybC5zaWduYWwudGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLl9yZWFzb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgX25hdGl2ZUN0cmw7XG4gICAgZW5zdXJlTmF0aXZlQ3RybCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9uYXRpdmVDdHJsKSB7XG4gICAgICAgICAgICBjb25zdCBpc0Fib3J0ZWQgPSB0aGlzLmFib3J0ZWQ7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgaWYgKGlzQWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX25hdGl2ZUN0cmwuYWJvcnQodGhpcy5fcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ3RybDtcbiAgICB9XG4gICAgYWJvcnQocmVhc29uKSB7XG4gICAgICAgIGlmICh0aGlzLl9uYXRpdmVDdHJsPy5hYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUN0cmw/LmFib3J0KHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVhc29uID0gcmVhc29uIHx8IG5ldyBET01FeGNlcHRpb24oJ1RoaXMgb3BlcmF0aW9uIHdhcyBhYm9ydGVkJywgJ0Fib3J0RXJyb3InKTtcbiAgICAgICAgdGhpcy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnYWJvcnQnKSk7XG4gICAgfVxuICAgIGdldCBzaWduYWwoKSB7XG4gICAgICAgIGlmICh0aGlzLl9uYXRpdmVDdHJsPy5zaWduYWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVDdHJsLnNpZ25hbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IHJlYXNvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX25hdGl2ZUN0cmw/LnNpZ25hbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUN0cmwuc2lnbmFsLnJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVhc29uO1xuICAgIH1cbiAgICBnZXQgb25hYm9ydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX29uYWJvcnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmFib3J0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9vbmFib3J0O1xuICAgIH1cbiAgICBzZXQgb25hYm9ydCh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fbmF0aXZlQ3RybD8uc2lnbmFsKSB7XG4gICAgICAgICAgICB0aGlzLl9uYXRpdmVDdHJsLnNpZ25hbC5vbmFib3J0ID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29uYWJvcnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9vbmFib3J0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9vbmFib3J0ID0gdmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbCgpIHtcbiAgICBpZiAoZ2xvYmFsVGhpcy5CdW4gfHwgZ2xvYmFsVGhpcy5EZW5vKSB7XG4gICAgICAgIHJldHVybiBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJveHkobmV3IEN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbCgpLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAocHJvcC50b1N0cmluZygpLmluY2x1ZGVzKCdrRGVwZW5kYW50U2lnbmFscycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQ3RybCA9IHRhcmdldC5lbnN1cmVOYXRpdmVDdHJsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KG5hdGl2ZUN0cmwuc2lnbmFsLCBwcm9wLCBuYXRpdmVDdHJsLnNpZ25hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AudG9TdHJpbmcoKS5pbmNsdWRlcygna0RlcGVuZGFudFNpZ25hbHMnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUN0cmwgPSB0YXJnZXQuZW5zdXJlTmF0aXZlQ3RybCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldChuYXRpdmVDdHJsLnNpZ25hbCwgcHJvcCwgdmFsdWUsIG5hdGl2ZUN0cmwuc2lnbmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFByb3RvdHlwZU9mKCkge1xuICAgICAgICAgICAgcmV0dXJuIEFib3J0U2lnbmFsLnByb3RvdHlwZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/cjs/uwebsockets.js":
/*!*************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/cjs/uwebsockets.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fakePromise = void 0;\nexports.isUWSResponse = isUWSResponse;\nexports.getRequestFromUWSRequest = getRequestFromUWSRequest;\nexports.createWritableFromUWS = createWritableFromUWS;\nexports.sendResponseToUwsOpts = sendResponseToUwsOpts;\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nObject.defineProperty(exports, \"fakePromise\", ({ enumerable: true, get: function () { return promise_helpers_1.fakePromise; } }));\nfunction isUWSResponse(res) {\n    return !!res.onData;\n}\nfunction getRequestFromUWSRequest({ req, res, fetchAPI, controller, }) {\n    const method = req.getMethod();\n    let duplex;\n    const chunks = [];\n    const pushFns = [\n        (chunk) => {\n            chunks.push(chunk);\n        },\n    ];\n    const push = (chunk) => {\n        for (const pushFn of pushFns) {\n            pushFn(chunk);\n        }\n    };\n    let stopped = false;\n    const stopFns = [\n        () => {\n            stopped = true;\n        },\n    ];\n    const stop = () => {\n        for (const stopFn of stopFns) {\n            stopFn();\n        }\n    };\n    res.onData(function (ab, isLast) {\n        push(Buffer.from(Buffer.from(ab, 0, ab.byteLength)));\n        if (isLast) {\n            stop();\n        }\n    });\n    let getReadableStream;\n    if (method !== 'get' && method !== 'head') {\n        duplex = 'half';\n        controller.signal.addEventListener('abort', () => {\n            stop();\n        }, { once: true });\n        let readableStream;\n        getReadableStream = () => {\n            if (!readableStream) {\n                readableStream = new fetchAPI.ReadableStream({\n                    start(streamCtrl) {\n                        for (const chunk of chunks) {\n                            streamCtrl.enqueue(chunk);\n                        }\n                        if (stopped) {\n                            streamCtrl.close();\n                            return;\n                        }\n                        pushFns.push((chunk) => {\n                            streamCtrl.enqueue(chunk);\n                        });\n                        stopFns.push(() => {\n                            if (controller.signal.reason) {\n                                streamCtrl.error(controller.signal.reason);\n                                return;\n                            }\n                            if (streamCtrl.desiredSize) {\n                                streamCtrl.close();\n                            }\n                        });\n                    },\n                });\n            }\n            return readableStream;\n        };\n    }\n    const headers = new fetchAPI.Headers();\n    req.forEach((key, value) => {\n        headers.append(key, value);\n    });\n    let url = `http://localhost${req.getUrl()}`;\n    const query = req.getQuery();\n    if (query) {\n        url += `?${query}`;\n    }\n    let buffer;\n    function getBody() {\n        if (!getReadableStream) {\n            return null;\n        }\n        if (stopped) {\n            return getBufferFromChunks();\n        }\n        return getReadableStream();\n    }\n    const request = new fetchAPI.Request(url, {\n        method,\n        headers,\n        get body() {\n            return getBody();\n        },\n        signal: controller.signal,\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore - not in the TS types yet\n        duplex,\n    });\n    function getBufferFromChunks() {\n        if (!buffer) {\n            buffer = chunks.length === 1 ? chunks[0] : Buffer.concat(chunks);\n        }\n        return buffer;\n    }\n    function collectBuffer() {\n        if (stopped) {\n            return (0, promise_helpers_1.fakePromise)(getBufferFromChunks());\n        }\n        return new Promise((resolve, reject) => {\n            try {\n                stopFns.push(() => {\n                    resolve(getBufferFromChunks());\n                });\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    Object.defineProperties(request, {\n        body: {\n            get() {\n                return getBody();\n            },\n            configurable: true,\n            enumerable: true,\n        },\n        json: {\n            value() {\n                return collectBuffer()\n                    .then(b => b.toString('utf8'))\n                    .then(t => JSON.parse(t));\n            },\n            configurable: true,\n            enumerable: true,\n        },\n        text: {\n            value() {\n                return collectBuffer().then(b => b.toString('utf8'));\n            },\n            configurable: true,\n            enumerable: true,\n        },\n        arrayBuffer: {\n            value() {\n                return collectBuffer();\n            },\n            configurable: true,\n            enumerable: true,\n        },\n    });\n    return request;\n}\nfunction createWritableFromUWS(uwsResponse, fetchAPI) {\n    return new fetchAPI.WritableStream({\n        write(chunk) {\n            uwsResponse.cork(() => {\n                uwsResponse.write(chunk);\n            });\n        },\n        close() {\n            uwsResponse.cork(() => {\n                uwsResponse.end();\n            });\n        },\n    });\n}\nfunction sendResponseToUwsOpts(uwsResponse, fetchResponse, controller, fetchAPI) {\n    if (!fetchResponse) {\n        uwsResponse.writeStatus('404 Not Found');\n        uwsResponse.end();\n        return;\n    }\n    const bufferOfRes = fetchResponse._buffer;\n    // @ts-expect-error - Handle the case where the response is a string\n    const strBody = fetchResponse['bodyType'] === 'String' ? fetchResponse.bodyInit : undefined;\n    if (controller.signal.aborted) {\n        return;\n    }\n    uwsResponse.cork(() => {\n        uwsResponse.writeStatus(`${fetchResponse.status} ${fetchResponse.statusText}`);\n        let isSetCookieHandled = false;\n        for (const [key, value] of fetchResponse.headers) {\n            // content-length causes an error with Node.js's fetch\n            if (key !== 'content-length') {\n                if (key === 'set-cookie') {\n                    if (isSetCookieHandled) {\n                        continue;\n                    }\n                    isSetCookieHandled = true;\n                    const setCookies = fetchResponse.headers.getSetCookie?.();\n                    if (setCookies) {\n                        for (const setCookie of setCookies) {\n                            uwsResponse.writeHeader(key, setCookie);\n                        }\n                        continue;\n                    }\n                }\n                uwsResponse.writeHeader(key, value);\n            }\n        }\n        if (strBody) {\n            uwsResponse.end(strBody);\n        }\n        else if (bufferOfRes) {\n            uwsResponse.end(bufferOfRes);\n        }\n        else if (!fetchResponse.body) {\n            uwsResponse.end();\n        }\n    });\n    if (strBody || bufferOfRes || !fetchResponse.body) {\n        return;\n    }\n    controller.signal.addEventListener('abort', () => {\n        if (!fetchResponse.body?.locked) {\n            fetchResponse.body?.cancel(controller.signal.reason);\n        }\n    }, { once: true });\n    return fetchResponse.body\n        .pipeTo(createWritableFromUWS(uwsResponse, fetchAPI), {\n        signal: controller.signal,\n    })\n        .catch(err => {\n        if (controller.signal.aborted) {\n            return;\n        }\n        throw err;\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9janMvdXdlYnNvY2tldHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixnQ0FBZ0M7QUFDaEMsNkJBQTZCO0FBQzdCLDZCQUE2QjtBQUM3QiwwQkFBMEIsbUJBQU8sQ0FBQyxvR0FBOEI7QUFDaEUsK0NBQThDLEVBQUUscUNBQXFDLHlDQUF5QyxFQUFDO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxpQ0FBaUM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQyxhQUFhO0FBQzlDO0FBQ0E7QUFDQSxtQkFBbUIsTUFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNCQUFzQixFQUFFLHlCQUF5QjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJLFlBQVk7QUFDckI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIi9ob21lL2NldGVjL05vZGVQcm9qZWN0cy9hZ3VpX3Rlc3Qvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9zZXJ2ZXIvY2pzL3V3ZWJzb2NrZXRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mYWtlUHJvbWlzZSA9IHZvaWQgMDtcbmV4cG9ydHMuaXNVV1NSZXNwb25zZSA9IGlzVVdTUmVzcG9uc2U7XG5leHBvcnRzLmdldFJlcXVlc3RGcm9tVVdTUmVxdWVzdCA9IGdldFJlcXVlc3RGcm9tVVdTUmVxdWVzdDtcbmV4cG9ydHMuY3JlYXRlV3JpdGFibGVGcm9tVVdTID0gY3JlYXRlV3JpdGFibGVGcm9tVVdTO1xuZXhwb3J0cy5zZW5kUmVzcG9uc2VUb1V3c09wdHMgPSBzZW5kUmVzcG9uc2VUb1V3c09wdHM7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZmFrZVByb21pc2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHByb21pc2VfaGVscGVyc18xLmZha2VQcm9taXNlOyB9IH0pO1xuZnVuY3Rpb24gaXNVV1NSZXNwb25zZShyZXMpIHtcbiAgICByZXR1cm4gISFyZXMub25EYXRhO1xufVxuZnVuY3Rpb24gZ2V0UmVxdWVzdEZyb21VV1NSZXF1ZXN0KHsgcmVxLCByZXMsIGZldGNoQVBJLCBjb250cm9sbGVyLCB9KSB7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLmdldE1ldGhvZCgpO1xuICAgIGxldCBkdXBsZXg7XG4gICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgY29uc3QgcHVzaEZucyA9IFtcbiAgICAgICAgKGNodW5rKSA9PiB7XG4gICAgICAgICAgICBjaHVua3MucHVzaChjaHVuayk7XG4gICAgICAgIH0sXG4gICAgXTtcbiAgICBjb25zdCBwdXNoID0gKGNodW5rKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgcHVzaEZuIG9mIHB1c2hGbnMpIHtcbiAgICAgICAgICAgIHB1c2hGbihjaHVuayk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGxldCBzdG9wcGVkID0gZmFsc2U7XG4gICAgY29uc3Qgc3RvcEZucyA9IFtcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgc3RvcHBlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgXTtcbiAgICBjb25zdCBzdG9wID0gKCkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHN0b3BGbiBvZiBzdG9wRm5zKSB7XG4gICAgICAgICAgICBzdG9wRm4oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmVzLm9uRGF0YShmdW5jdGlvbiAoYWIsIGlzTGFzdCkge1xuICAgICAgICBwdXNoKEJ1ZmZlci5mcm9tKEJ1ZmZlci5mcm9tKGFiLCAwLCBhYi5ieXRlTGVuZ3RoKSkpO1xuICAgICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgZ2V0UmVhZGFibGVTdHJlYW07XG4gICAgaWYgKG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcpIHtcbiAgICAgICAgZHVwbGV4ID0gJ2hhbGYnO1xuICAgICAgICBjb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICBsZXQgcmVhZGFibGVTdHJlYW07XG4gICAgICAgIGdldFJlYWRhYmxlU3RyZWFtID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZWFkYWJsZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHJlYWRhYmxlU3RyZWFtID0gbmV3IGZldGNoQVBJLlJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQoc3RyZWFtQ3RybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1DdHJsLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1DdHJsLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaEZucy5wdXNoKChjaHVuaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUN0cmwuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BGbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLnJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1DdHJsLmVycm9yKGNvbnRyb2xsZXIuc2lnbmFsLnJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbUN0cmwuZGVzaXJlZFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtQ3RybC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlYWRhYmxlU3RyZWFtO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0gbmV3IGZldGNoQVBJLkhlYWRlcnMoKTtcbiAgICByZXEuZm9yRWFjaCgoa2V5LCB2YWx1ZSkgPT4ge1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICB9KTtcbiAgICBsZXQgdXJsID0gYGh0dHA6Ly9sb2NhbGhvc3Qke3JlcS5nZXRVcmwoKX1gO1xuICAgIGNvbnN0IHF1ZXJ5ID0gcmVxLmdldFF1ZXJ5KCk7XG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAgIHVybCArPSBgPyR7cXVlcnl9YDtcbiAgICB9XG4gICAgbGV0IGJ1ZmZlcjtcbiAgICBmdW5jdGlvbiBnZXRCb2R5KCkge1xuICAgICAgICBpZiAoIWdldFJlYWRhYmxlU3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJ1ZmZlckZyb21DaHVua3MoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0UmVhZGFibGVTdHJlYW0oKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBmZXRjaEFQSS5SZXF1ZXN0KHVybCwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGdldCBib2R5KCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldEJvZHkoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlIC0gbm90IGluIHRoZSBUUyB0eXBlcyB5ZXRcbiAgICAgICAgZHVwbGV4LFxuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGdldEJ1ZmZlckZyb21DaHVua3MoKSB7XG4gICAgICAgIGlmICghYnVmZmVyKSB7XG4gICAgICAgICAgICBidWZmZXIgPSBjaHVua3MubGVuZ3RoID09PSAxID8gY2h1bmtzWzBdIDogQnVmZmVyLmNvbmNhdChjaHVua3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbGxlY3RCdWZmZXIoKSB7XG4gICAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmZha2VQcm9taXNlKShnZXRCdWZmZXJGcm9tQ2h1bmtzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3BGbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ2V0QnVmZmVyRnJvbUNodW5rcygpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocmVxdWVzdCwge1xuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEJvZHkoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICB2YWx1ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdEJ1ZmZlcigpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGIgPT4gYi50b1N0cmluZygndXRmOCcpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0ID0+IEpTT04ucGFyc2UodCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0QnVmZmVyKCkudGhlbihiID0+IGIudG9TdHJpbmcoJ3V0ZjgnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXlCdWZmZXI6IHtcbiAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0QnVmZmVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVdyaXRhYmxlRnJvbVVXUyh1d3NSZXNwb25zZSwgZmV0Y2hBUEkpIHtcbiAgICByZXR1cm4gbmV3IGZldGNoQVBJLldyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICAgIHV3c1Jlc3BvbnNlLmNvcmsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHV3c1Jlc3BvbnNlLndyaXRlKGNodW5rKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgIHV3c1Jlc3BvbnNlLmNvcmsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHV3c1Jlc3BvbnNlLmVuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBzZW5kUmVzcG9uc2VUb1V3c09wdHModXdzUmVzcG9uc2UsIGZldGNoUmVzcG9uc2UsIGNvbnRyb2xsZXIsIGZldGNoQVBJKSB7XG4gICAgaWYgKCFmZXRjaFJlc3BvbnNlKSB7XG4gICAgICAgIHV3c1Jlc3BvbnNlLndyaXRlU3RhdHVzKCc0MDQgTm90IEZvdW5kJyk7XG4gICAgICAgIHV3c1Jlc3BvbnNlLmVuZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGJ1ZmZlck9mUmVzID0gZmV0Y2hSZXNwb25zZS5fYnVmZmVyO1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBIYW5kbGUgdGhlIGNhc2Ugd2hlcmUgdGhlIHJlc3BvbnNlIGlzIGEgc3RyaW5nXG4gICAgY29uc3Qgc3RyQm9keSA9IGZldGNoUmVzcG9uc2VbJ2JvZHlUeXBlJ10gPT09ICdTdHJpbmcnID8gZmV0Y2hSZXNwb25zZS5ib2R5SW5pdCA6IHVuZGVmaW5lZDtcbiAgICBpZiAoY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHV3c1Jlc3BvbnNlLmNvcmsoKCkgPT4ge1xuICAgICAgICB1d3NSZXNwb25zZS53cml0ZVN0YXR1cyhgJHtmZXRjaFJlc3BvbnNlLnN0YXR1c30gJHtmZXRjaFJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIGxldCBpc1NldENvb2tpZUhhbmRsZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZmV0Y2hSZXNwb25zZS5oZWFkZXJzKSB7XG4gICAgICAgICAgICAvLyBjb250ZW50LWxlbmd0aCBjYXVzZXMgYW4gZXJyb3Igd2l0aCBOb2RlLmpzJ3MgZmV0Y2hcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdjb250ZW50LWxlbmd0aCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2V0Q29va2llSGFuZGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNTZXRDb29raWVIYW5kbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2V0Q29va2llcyA9IGZldGNoUmVzcG9uc2UuaGVhZGVycy5nZXRTZXRDb29raWU/LigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0Q29va2llcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXRDb29raWUgb2Ygc2V0Q29va2llcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV3c1Jlc3BvbnNlLndyaXRlSGVhZGVyKGtleSwgc2V0Q29va2llKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHV3c1Jlc3BvbnNlLndyaXRlSGVhZGVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJCb2R5KSB7XG4gICAgICAgICAgICB1d3NSZXNwb25zZS5lbmQoc3RyQm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYnVmZmVyT2ZSZXMpIHtcbiAgICAgICAgICAgIHV3c1Jlc3BvbnNlLmVuZChidWZmZXJPZlJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWZldGNoUmVzcG9uc2UuYm9keSkge1xuICAgICAgICAgICAgdXdzUmVzcG9uc2UuZW5kKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3RyQm9keSB8fCBidWZmZXJPZlJlcyB8fCAhZmV0Y2hSZXNwb25zZS5ib2R5KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgIGlmICghZmV0Y2hSZXNwb25zZS5ib2R5Py5sb2NrZWQpIHtcbiAgICAgICAgICAgIGZldGNoUmVzcG9uc2UuYm9keT8uY2FuY2VsKGNvbnRyb2xsZXIuc2lnbmFsLnJlYXNvbik7XG4gICAgICAgIH1cbiAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgcmV0dXJuIGZldGNoUmVzcG9uc2UuYm9keVxuICAgICAgICAucGlwZVRvKGNyZWF0ZVdyaXRhYmxlRnJvbVVXUyh1d3NSZXNwb25zZSwgZmV0Y2hBUEkpLCB7XG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/cjs/uwebsockets.js\n");

/***/ })

};
;